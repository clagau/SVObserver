{"version":3,"sources":["protobuf/Observable.js","protobuf/Protobuf.js","assets/icons/plus.svg","utils/downloader.js","components/portals/RootPortal.tsx","components/ConfirmDialog/index.tsx","utils/env.js","utils/jsonMapper.js","utils/stringChunker.js","protobuf/Configuration.js","assets/icons/info.svg","assets/icons/overlay-list.svg","assets/icons/close.svg","utils/permissions.ts","assets/icons/clear.svg","assets/icons/save.svg","views/HelpView/index.js","components/typo/Heading.js","views/HelpView/viewMappings.js","protobuf/ConfigurationLock.js","utils/authentication.js","assets/icons/pause.svg","assets/icons/play.svg","utils/sessionStorage.js","components/buttons/ToggleButton/index.tsx","assets/icons/help.svg","assets/icons/download.svg","assets/icons/show.svg","assets/icons/image.svg","protobuf/Product.js","assets/logo/logo.svg","components/layout/Logo/index.js","protobuf/Mapper.js","components/buttons/IconButton/index.tsx","assets/icons/regression.svg","assets/icons/run.svg","assets/icons/stop.svg","assets/icons/test.svg","utils/modes.js","components/layout/Container/index.tsx","utils/OverlayRenderer.js","views/ImageStripView/components/FilmStrip/index.tsx","views/ImageStripView/components/FilmStripsContainer/index.tsx","views/ImageStripView/components/ObjectSelector/index.tsx","views/ImageStripView/index.tsx","assets/icons/downloadWithOverlays.svg","assets/icons/fit-to-height.svg","assets/icons/fit-to-width.svg","assets/icons/one.svg","utils/reduxHelper.ts","components/OverlayList/index.tsx","components/Protobuf/ProxyType.js","views/ImageView/components/ImageEditor.js","views/ImageView/components/ImageInfo.js","utils/propHelper.js","views/ImageView/index.js","assets/icons/show-off.svg","assets/icons/drag.svg","components/DraggableTable/index.tsx","views/ListView/components/List/AliasEditor.tsx","views/ListView/components/List/index.tsx","views/ListView/components/ValueSelector/index.tsx","views/ListView/index.tsx","assets/icons/delete-dustbin.svg","views/ParameterView/components/Overlay/OverlayPropertyList.tsx","views/ParameterView/components/Overlay/VariableSelection.tsx","views/ParameterView/components/Overlay/index.tsx","views/ParameterView/index.tsx","assets/icons/before.svg","components/layout/ScrollContainer/index.js","views/RecipeView/index.js","webpack:///./src/assets/icons/chevron-double-left.svg?4f15","assets/icons/archive.svg","assets/icons/arrow-top-right.svg","assets/icons/collapse-all.svg","assets/icons/copy.svg","assets/icons/cut.svg","assets/icons/cylindrical-wrap.svg","assets/icons/expand-all.svg","assets/icons/external.svg","assets/icons/function-variant.svg","assets/icons/group.svg","assets/icons/load-image.svg","assets/icons/loop.svg","assets/icons/palette.svg","assets/icons/paste.svg","assets/icons/perspective.svg","assets/icons/polar-transformation.svg","assets/icons/resize.svg","assets/icons/shift.svg","assets/icons/statistics.svg","assets/icons/table-analyzer.svg","assets/icons/table.svg","assets/icons/transformation.svg","assets/icons/window.svg","views/ToolsetView/MathTool/CommentTab.tsx","views/ToolsetView/MathTool/FormulaEditor.tsx","views/ToolsetView/components/TreebeardStyle.ts","views/ToolsetView/MathTool/hooks/useFormulaValidate.ts","views/ToolsetView/common.ts","hooks/useMounted.ts","views/ToolsetView/MathTool/hooks/useIndirectValueObjectName.ts","hooks/useCancellablePromise.ts","views/ToolsetView/MathTool/LinkedValueSelectDialog.tsx","views/ToolsetView/MathTool/ReadonlyFormula.tsx","views/ToolsetView/MathTool/FormulaEditPanel.tsx","views/ToolsetView/MathTool/FormulaTab.tsx","assets/icons/chevron-double-left.svg","assets/icons/chevron-left.svg","views/InputToolView/components/RawEditor.tsx","views/InputToolView/components/NumberEditor.tsx","views/ToolsetView/MathTool/hooks/useRange.ts","views/ToolsetView/MathTool/RangeTab.tsx","views/ToolsetView/MathTool/hooks/useFormula.ts","views/ToolsetView/MathTool/index.tsx","views/ToolsetView/MathTool/hooks/useComment.ts","views/ToolsetView/components/ToolSetBar/index.tsx","assets/icons/down.svg","assets/icons/take-over.svg","assets/icons/up.svg","views/ParameterView/components/Filter/index.tsx","views/ToolsetView/components/ToolSetup.js","views/ToolsetView/index.tsx","views/ViewSetFactory.js","views/TopNavigation/navigation/useUserInfoNavigation.tsx","assets/icons/logout.svg","assets/icons/permissions.svg","assets/icons/shortcut-help.svg","assets/icons/upload.svg","assets/icons/user.svg","views/AboutView/index.js","protobuf/ProtobufConnector.js","protobuf/WebsocketConnector.js","protobuf/Proxy.js","utils/defaultPermissions.js","components/Dialog/index.tsx","views/ShortcutView/components/ShortcutListItem/index.js","views/ShortcutView/components/ShortcutList/index.js","views/ShortcutView/shortcuts.js","views/ShortcutView/index.js","protobuf/ProductHistory.js","protobuf/ProductHistoryManager.js","protobuf/InspectionSubscription.js","protobuf/SubscriptionManager.js","components/ActionBar/index.tsx","utils/localStorage.js","assets/icons/edit.svg","components/OutlinedSelection/index.tsx","translations/de.js","translations/en.js","translations/es.js","translations/index.tsx","utils/objectValidator.ts","types/ActionBarType.ts","components/ObjectSelector/index.tsx","utils/logger.ts","assets/icons/delete.svg","assets/icons/back.svg","components/ModalNotification.js/index.js","components/SuggestionList/index.js","components/AutoComplete/index.js","views/TopNavigation/navigation/AlertDialog.tsx","components/DatabaseGatewayEditor/components/InformationBox/index.tsx","components/DatabaseGatewayEditor/components/ImageForm/index.js","components/DatabaseGatewayEditor/components/TriggerSettings/index.js","components/DatabaseGatewayEditor/components/PropertyForm/index.js","components/DatabaseGatewayEditor/components/BatchSettings/index.js","components/DatabaseGatewayEditor/index.tsx","pages/DatabaseGatewayPage.js","components/RequestParameter/generic/SelectParameter/index.js","components/RequestParameter/generic/ArrayParameter/index.js","components/RequestParameter/specialized/BoolParameter/index.js","components/RequestParameter/specialized/BoolArrayParameter/index.js","components/RequestParameter/specialized/BytesParameter/index.js","components/RequestParameter/generic/SingleParameter/index.js","components/RequestParameter/specialized/DecimalParameter/index.js","components/RequestParameter/specialized/DecimalArrayParameter/index.js","components/RequestParameter/specialized/EnumArrayParameter/index.js","components/RequestParameter/specialized/EnumParameter/index.js","components/RequestParameter/specialized/IntegerParameter/index.js","components/RequestParameter/specialized/IntegerArrayParameter/index.js","components/RequestParameter/specialized/TextParameter/index.js","components/RequestParameter/specialized/TextArrayParameter/index.js","components/RequestParameter/index.js","components/RequestedResponseVisualizer/index.js","components/RequestsList/index.js","components/Debugger/index.js","pages/DebuggerPage.js","pages/HmiLoginPage.js","pages/LogoutPage.js","components/KeyHandler.js","components/PermissionManagement/index.js","pages/PermissionPage.js","components/Protobuf/ProtobufType.js","assets/icons/view-manager.svg","assets/icons/check.svg","assets/icons/export.svg","assets/icons/import.svg","components/InformationDialog/index.js","views/ViewSetManager/index.js","views/ViewSet/types.js","components/NavigationItem/index.js","views/BottomNavigation/components/PresetSlider/components/PresetButton/index.js","views/BottomNavigation/components/PresetSlider/index.js","views/BottomNavigation/index.js","views/TopNavigation/NavigationItem.tsx","views/TopNavigation/components/DateTime/index.tsx","views/TopNavigation/components/LockState/index.tsx","assets/icons/play-multiple.svg","assets/icons/language.svg","assets/icons/icons8-lock.svg","assets/icons/icons8-padlock.svg","views/TopNavigation/navigation/TakeoverDialog.tsx","views/TopNavigation/navigation/useLockStateHandlerNavigation.tsx","views/TopNavigation/navigation/useModeSwitchNavigation.tsx","assets/icons/description.svg","views/TopNavigation/navigation/useNavigation.tsx","views/TopNavigation/navigation/useLanguageChooserNavigation.tsx","views/TopNavigation/navigation/useInspectionStateNavigation.tsx","views/TopNavigation/navigation/useStatusReportNavigation.tsx","views/TopNavigation/index.tsx","views/NoSVOConfigurationLoadedView/index.js","components/ListSelection/index.tsx","views/ViewSelection/components/InspectionSelection/index.js","assets/icons/filmstrip.svg","assets/icons/list.svg","assets/icons/parameter.svg","assets/icons/toolset.svg","views/ViewSelection/components/ViewTypeSelection/index.js","views/ViewSelection/index.js","views/ViewSet/SVOView.js","views/ViewSet/index.tsx","pages/SVObserver.js","App.js","pages/LoginPage.js","redux/reducers/appReducer.js","redux/reducers/toolsetReducer.js","redux/reducers/viewDataReducer.js","redux/reducers/viewSetReducer.js","redux/reducers/index.js","PreLogin.js","theme.js","reportWebVitals.ts","index.tsx","protobuf/Utils.js","utils/clientChunkManager.js","redux/actions/index.js"],"names":["Observer","observable","this","closed","v","onNext","err","onError","onComplete","Observable","onSubscribe","_onSubscribe","_next","_error","_complete","desc","next","error","complete","observer","tearDownCb","unsubscribe","Protobuf","pendingRequests","Map","openStreams","socket","prevSocket","cancelAllPendingRequests","Error","data","a","SvPenv","Envelope","decode","Uint8Array","env","type","MessageType","response","errorResponse","streamResponse","streamErrorResponse","streamFinish","streamCancel","onResponse","onErrorResponse","onStreamResponse","onStreamErrorResponse","onStreamFinish","onStreamCancel","logger","txId","transactionId","hdl","get","res","unwrapResponse","delete","handled","clearTimeout","timeout","resolve","unwrapErrorResponse","onErrorResponseImpl","reject","keys","streamId","info","ackStreamResponse","req","Promise","nextTxId","wrapMessage","request","buf","serializeEnvelope","setTimeout","onRequestTimeout","bind","set","send","create","nextStreamId","streamRequest","cancelStream","params","fromObject","ackEnv","sequenceNumber","streamAck","message","wrapOneOf","envelope","payloadType","getPayloadTypeForOneOfMessage","payload","packToAny","unpackFromAny","unwrapOneOf","code","errorCode","fieldName","getFieldNameForSVRCMessage","SvPb","SVRCMessages","name","$type","substr","toLowerCase","fields","id","typeName","fullName","slice","encoded","encode","finish","type_url","value","any","slashIdx","indexOf","lookup","buffer","byteOffset","length","loadProto","SvAuth","initialized","path","namespace","ProtoJs","load","root","forceDownload","fileName","link","document","createElement","download","href","body","appendChild","click","removeChild","RootPortal","children","rootRef","useRef","getElementById","current","createPortal","ConfirmDialog","onClose","open","title","Dialog","className","Button","color","onClick","authEndpoint","url","parsedUrl","parse","window","location","protocol","replace","host","getEndpoint","process","REACT_APP_WEBSOCKET_SERVER_URL","websocketServerUrl","getDefaultWebsocketUrl","enableAutoSave","replacerMapToJson","key","originalObject","dataType","reviverJsonToMap","chunkSubstr","str","size","numChunks","Math","ceil","chunks","Array","i","o","extractConfigName","filename","lastIndexOf","dotIdx","getConfigName","protobuf","GetConfigurationInfoRequest","getInspections","inspectionsReq","GetInspectionsRequest","inspectionsRes","inspections","map","inspection","getInspectionIds","getInspectionNames","cleanObjectSelectorNodeRecursively","node","objectIDIndex","selected","cleanedChildren","startsWith","endIdx","parseInt","parseObjectIdIndex","getIdNameMappingForInspection","inspectionId","inspectionName","GetObjectSelectorItemsRequest","areas","SearchArea","toolsetItems","inspectionID","instanceID","attribute","ObjectAttributes","viewable","wholeArray","ObjectSelectorType","allValueObjects","attributesAllowed","tree","entries","queue","head","shift","fullLocation","push","getObjectSelectorItemsRequest","requestParameters","getObjectSelectorItemsForInspection","getRemotelySettableObjectSelectorItemsForInspection","remotelySettable","getObjectSelectorImagesForInspection","allImageObjects","archivableImage","getVersion","requestClass","version","getPerInspection","inspectionIds","inspectionNames","fn","itemsByInspectionId","item","getConfigurationTree","GetConfigurationTreeRequest","mapInspectionIdtoToolset","inspectionToolsetMappings","configurationTree","isObjectValid","all","objectID","toolSetId","getToolSetId","InspectionCmdRequest","undefined","getObjectIdRequest","getObjectIdResponse","objectId","getGlobalConstants","constants","reqObj","globalConstantItems","forEach","childLevel1","childLevel2","Configuration","config","filterArrayValuesFromTree","ii","stack","pop","firstChildId","idNameMappings","objectSelectorItems","remotelySettableObjectSelectorItems","objectSelectorImages","versions","globalConstants","Object","assign","isConnected","promises","configName","GetSVObserverVersionRequest","GetGatewayVersionRequest","GetWebAppVersionRequest","svObserverVersion","gatewayVersion","webAppVersion","find","mappings","mapping","warn","resetInspectionIdToToolsetMappings","chunksString","localStorage","getItem","CONFIGURATION_CHUNK_LIST","chunkList","split","configString","join","decompressFromUTF16","decompressedConfig","JSON","configuration","configInfo","compressToUTF16","stringify","stringifiedConfig","configChunks","configChunkNames","chunk","chunkName","CONFIGURATION_CHUNK_TEMPLATE","setItem","CONFIG_INFO","flattenProtobuf","oldObject","permissions","Set","flattenProtobufRec","currentObject","parentPath","nested","currKey","currPath","viewTypeProtobuf","values","viewPath","getViewName","addFieldValues","field","add","flattenPermissionsRec","isArray","entry","createObjectFromFlattenedPermissions","obj","k","getViewId","substring","view","index","findIndex","getGroupPermissionsFromFlattenedPermissions","flattenedPermissions","result","groupEntry","permissionForUser","groupPermissions","permission","viewType","canSaveConfig","myPermissions","has","canReadLogs","canAddViewSet","canReadViewSet","canEditViewSet","canDeleteViewSet","canAddImageView","canReadImageView","canEditImageView","canDeleteImageView","canAddListView","canReadListView","canEditListView","canDeleteListView","canAddImageStripView","canReadImageStripView","canEditImageStripView","canDeleteImageStripView","canAddParameterView","canReadParameterView","canEditParameterView","canDeleteParameterView","canAddToolSetView","canReadToolSetView","canEditToolSetView","canDeleteToolSetView","canReadSVOMode","canEditSVOMode","canReadInspectionState","canEditInspectionState","canEditTool","canAddTool","canDeleteTool","canReadUserManagement","canEditUserManagement","canReadSVOConfiguration","canWriteSVOConfiguration","HelpView","helpUrl","props","focusedViewType","locale","isFullscreen","style","width","height","src","Component","defaultProps","connect","state","app","Heading","intlId","React","Views","PARAMETER_VIEW","LIST_VIEW","IMAGE_VIEW","PERMISSIONS","DEBUGGER","ConfigurationLock","lock","lockId","takeoverId","owner","takeoverUser","lockDescription","takeoverMessage","status","lockedInSameAppInstance","isTakeoverAttempt","configAlreadyLocked","isWaitingForResponse","ownerRejectedTakeover","user","username","isLocked","isSameUserAsOwner","notification","description","logIn","password","axios","post","loginRes","accessToken","authenticate","authRes","authToken","claims","jwtDecode","pick","logOut","notifyGateway","removeProxy","LOCK_ACQUISITION_REQUEST","ToggleButton","iconUrl","enabled","onClickHandler","intlIdAlternative","iconUrlAlternative","onClickHandlerAlternative","showAlternative","intl","useIntl","tooltip","messages","Product","history","trigger","isReject","useCount","images","imageId","checkNotReleasedYet","imageIds","valueId","valueIds","fallbackValue","toString","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","offset","byteNumbers","charCodeAt","byteArray","blob","Blob","URL","createObjectURL","imagePromises","image","overlays","rgbData","initImage","valueStr","getValueFromVariant","buildImage","domImage","initOverlayImages","overlayImages","arrayBufferView","domURL","self","webkitURL","Image","onload","onerror","e","revokeObjectURL","overlaysDesc","overlay","shapeGroups","shapeGroup","shapes","shape","then","releaseProduct","releaseImages","clear","released","releaseImage","overlayImage","remove","Logo","alt","mapProtobufDeviceModeToWebAppMode","deviceMode","DeviceModeType","available","modes","unknownMode","runMode","stopMode","regressionMode","testMode","editMode","modeChanging","mapWebAppModeToProtobufDeviceMode","mode","mapLogLevelNameToProtobufLogSeverity","levelName","LogSeverity","trace","debug","warning","IconButton","pointerEvents","opacity","backgroundImage","backgroundPosition","backgroundSize","iconSrc","unknownIcon","text","runIcon","stopIcon","regressionIcon","testIcon","editIcon","Container","drawInspectionOverlays","drawTarget","zoomFactor","boundingCoordinates","currentMode","targetContext","getContext","setLineDash","colorInt","colorString","getRgbaString","fillStyle","fontSize","lineWidth","font","strokeStyle","boundingShape","OverlayBoundingShape","rect","renderRectangleTool","renderSliceTool","perspective","renderPerspectiveTool","boundingBoxX","abs","minX","x","boundingBoxY","minY","y","boundingBoxWidth","w","boundingBoxHeight","h","displayBounding","overlayTitle","angle","fillText","detailLevel","shapeColor","shapeColorString","shapeType","useRotation","OverlayShape","arrow","rotateContextByAngleAroundPoint","x1","y1","x2","y2","angleBetweenP1andP2","atan2","PI","calcAngleDegrees","beginPath","moveTo","lineTo","theta1","cos","sin","theta2","stroke","closePath","rectArray","rAngle","restore","graph","maxValueX","maxValueY","marker","orientationType","sizeType","strokeHeight","maxValue","strokeWidth","markers","blockMarker","colors","changePos","currentPos","drawImage","save","maxOverlayTextX","measureText","updateBoundingCoordinates","max","translate","rotate","centerX","centerY","innerRadius","outerRadius","startRadian","calculateRadiansFromAngle","endAngle","endRadian","startAngle","arc","textWidth","orientation","isNaN","green","blue","setBoundingCoordinatesForCustomOverlays","product","dispatch","coords","setCustomOverlayCoordinates","getTextWidth","label","setBoundingCoordinatesForInspectionOverlays","setInspectionOverlayCoordinates","ctx","coordinates","offsetLeft","Number","getValueById","offsetLeftVariable","xVariable","offsetTop","offsetTopVariable","yVariable","widthVariable","heightVariable","maxHeightFallback","maxWidthFallback","minHeightFallback","minWidthFallback","addVariableValueShouldBeInTheRangeNotification","correctCoordsWithBoundingCoordinates","actualCoordinates","maxX","maxY","valueObj","getValue","extractInspectionOverlays","getImage","FilmStrip","onImageClick","combinedSrc","FilmStripsContainer","viewId","proxy","useSelector","pausedInspections","isBrowserWindowVisible","sourceImage","sharedState","views","useDispatch","canvasRef","useState","imageResolution","setImageResolution","setImages","useEffect","productSub","internalImageResolution","internalImages","onProduct","productsToRelease","updateImageDimensions","drawTargetContext","clearRect","toDataURL","drawImageAndOverlaysToCanvas","updatedImages","sort","b","splice","release","subscribeToProductStream","startAtTriggerCount","rejectImageIds","allowOldTrigger","manualRelease","unsubscribeFromProductStream","resumeStream","useCallback","resumeRejectStream","setSaveFlag","pauseStream","pauseRejectStream","selectProduct","replayProduct","actions","useMemo","canEdit","TOGGLE_BUTTON","iconPlay","iconPause","includes","ref","display","ActionBar","isViewAction","ObjectSelector","handleObjectSelectorChange","selectedId","checkedLocation","setSharedStateData","setViewData","overflow","singleSelect","onChange","ImageStripView","initViewState","setObjectSelectorImages","setIdNameMappings","dispatchCurrentConfiguration","getValueNameForId","setTitleFromConfig","updateOverlayList","updatedOverlay","overlayList","OverlayList","onSelectAll","updateCurrentOverlay","externalUpdateOverlayList","canSelectRow","hasActionBar","selectAll","setSelectAll","selectedRowIndex","setSelectedRowIndex","isActive","headerRenderer","columns","columnHeaders","_","columnIndex","Checkbox","checked","target","padding","tableDataFromOverlays","getCheckboxDefinition4Cell","currentId","filter","updatedOverlayList","handleSingleSelect","checkbox","columnDefinition4OverlayTable","dataKey","flexGrow","headerHeight","rowHeight","rowEventHandlers","rowIndex","rowClassName","PropTypes","ImageEditor","left","top","currentCursorPosition","canvasDimension","setBoundingCoordinates","getBoundingCoordinatesFromCustomOverlays","getBoundingCoordinatesFromInspectionOverlays","setCanvasDimensions","canvas","setState","customOverlays","imageWidth","imageHeight","setImageInfo","isImageInfoOpen","setRgbValues","handleScroll","evt","delta","wheelDelta","detail","offsetX","offsetY","zoom","preventDefault","handleMouseDown","event","dragStart","pageX","pageY","dragStartPos","dragging","handleMouseUp","handleDrag","diffX","diffY","handleMouseMove","cursorPosition","getMouseCoordinatesOnElement","setCursorPosition","element","containerRef","parentNode","trunc","getImageData","red","R","G","B","cursorPositionOnImage","trimPositionsOnImageSize","loadViewSettings","bindEventListeners","prevProps","prevState","productChanged","modeChanged","zoomFactorChanged","customOverlaysChanged","isEqual","imageMoved","saveImageSettings","viewSettings","imagePosition","onImageLoaded","initCanvas","draw","webkitImageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingEnabled","scale","drawOverlays","console","activeOverlays","colorVariable","lineStyle","drawCustomOverlays","addEventListener","removeEventListener","offX","offY","scaleFactor","pow","leftDiff","topDiff","min","getViewSize","getBoundingClientRect","toBlob","position","compose","ownProps","forwardRef","ImageInfo","imageInfoClass","rgbValues","imageDimensions","backgroundColor","reduce","acc","getPropsFromInspection","ImageView","viewSizeChangeCounter","isOverlayInfoOpen","canvasInitResize","subscribedSource","updateViewSize","newViewSizeChangeCounter","resubscribeToProductStream","getUsedVariablesFromOverlay","variables","setAllOverlaysActive","updatedOverlays","createActiveOverlayList","createActiveOverlayIdList","toggleOverlayInfo","toggleImageInfo","setSourceImageId","renderObjectSelector","renderImageView","viewActions","renderImageViewImpl","nextProps","oldVariables","newVariables","renderImageEditor","renderImageInfo","renderOverlayList","imageEditor","classNames","imageView","canRead","iconOne","resetZoom","iconFitToWidth","fitToWidth","iconFitToHeight","fitToHeight","SEPARATOR","iconDownload","downloadOriginalImage","iconDownloadWithOverlays","downloadOriginalImageWithOverlays","iconOverlayList","iconInfo","overlayActions","inRunMode","initState","initSharedState","viewSet","addImageNotAvailableNotification","hasChanges","DraggableContainer","SortableContainer","DraggableElement","SortableElement","DraggableHandle","SortableHandle","Row","draggable","rest","DragIcon","DraggableTable","memo","initialData","onSequenceChange","rowProps","tableProps","tableRef","setData","rowPropsHandler","args","extraProps","callOrReturn","tagName","handleSortEnd","oldIndex","newIndex","newData","removed","useDragHandle","getContainer","getDOMNode","querySelector","helperContainer","onSortEnd","AliasEditor","selectedAlias","alias","oldState","setAlias","isInView","isPopup","TextField","fullWidth","disabled","languages","language","defaultValue","variant","List","isSelectionMode","showAliases","showAliasesInList","aliases","listViewAliases","selection","listValues","setListValues","isAliasEditorOpen","setIsAliasEditorOpen","setSelectedAlias","getValuesAsString","createListValues","tableData","row","editAlias","EditIcon","currentValueObject","saveNewOrder","before","after","closeAliasEditor","isSaved","isEmpty","newAlias","dottedName","ValueSelector","expandedKeys","setExpandedKeys","filterIgnore","getInspectionName","items","selectedIds","onExpand","ListView","setObjectSelectorItems","setAliasColumnVisibility","visibility","updateListViewShowAliases","iconList","iconShow","iconShowOff","useStyles","makeStyles","header","fontWeight","marginBottom","input","transform","theme","createTheme","typography","useNextVariants","htmlFontSize","OverlayPropertyList","currentOverlay","openSelection","classes","minWidth","maxWidth","minHeight","maxHeight","handleChange","changedValue","renderTextField","InputProps","InputLabelProps","renderNumberField","inputProps","valueNumber","trimToMinMax","endAdornment","InputAdornment","edge","aria-label","ClearIcon","onFocus","options","OutlinedSelection","selectedValue","onSelectionChanged","renderSelection","VariableSelection","setTree","setFilterIgnore","Overlay","setCurrentOverlay","isObjectSelectorOpen","setIsObjectSelectorOpen","variableName","setVariableName","variableId","setVariableId","selectedVariables","setSelectedVariables","editingViewId","iconPlus","newOverlay","floor","random","String","addNewOverlay","iconDeleteDustbin","newCurrentOverlay","getNeighborOverlayId","deleteCurrentOverlay","setVariableSelection","selectedVariable","ParameterView","parameter","toolSet","component","ScrollContainer","RecipeView","renderConfiguration","option","configurations","shortId","generate","iconBack","iconBefore","iconSave","iconClose","injectIntl","_path","CommentTab","loading","CircularProgress","autoFocus","multiline","minRows","Code","pre","parentElement","Prism","highlightAllUnder","FormulaEditor","forwardedRef","onSelectionChange","moveCursorTo","textarea","_input","focus","pos","setSelectionRange","handleSelection","activeElement","start","selectionStart","end","selectionEnd","useImperativeHandle","getSelectionPosition","moveLeft","moveRight","clsx","placeholder","onValueChange","highlight","_extends","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgChevronDoubleLeft","_ref","svgRef","titleId","xmlns","xmlnsXlink","viewBox","d","ForwardRef","TreebeardStyle","base","whiteSpace","listStyle","margin","fontFamily","cursor","activeLink","background","toggle","verticalAlign","marginLeft","wrapper","fill","connector","borderLeft","borderBottom","lineHeight","subtree","paddingLeft","LinkedSelectedOption","ResetType","VARENUM","EmbeddedIdEnum","useFormulaValidate","equationId","mounted","useMounted","validating","setValidating","validatedFormula","setValidatedFormula","validationSuccessResult","setValidationSuccessResult","validationErrorMessages","setValidationErrorMessages","errorPosition","setErrorPosition","reset","sendValidateAndSetEquationRequest","equationText","validateAndSetEquationRequest","bSetValue","validate","success","validateAndSetEquationResponse","validateStatus","resultValue","errors","Messages","m","messageText","bytesToString","bytes","fallback","fromCharCode","from","stringToBytes","useIndirectValueObjectName","cancellable","p","cancel","promise","isCanceled","wrappedPromise","val","catch","useCancellablePromise","setName","setLoading","getObjectNameRequest","BeforeType","getObjectNameResponse","LinkedValueSelectDialog","onSelect","linkName","formulaValidation","treeNodes","setTreeNodes","selectedNode","setSelectedNode","selectedValueNode","setSelectedValueNode","validationError","parseNodes","nodes","leafLink","Boolean","toggled","active","child","traverse","itemName","found","updateTreeModel","targetNode","updateTargetData","updateOtherData","mapToolsetTree","onNodeClicked","handleValueSelect","isPositionAbsolute","onToggle","ReadonlyFormula","codeStyle","codeRef","textOverflow","FormulaEditPanelTitle","conditional","short","internalEquationText","validatedFragment","validatedFormulaCut","FormulaEditPanelBase","setInternalEquationText","onSave","undoAll","resetValidation","panelButtonClasses","formulaEditorRef","setSelection","openLinkedValueSelectDialog","setOpenLinkedValueSelectDialog","validateAndReturn","trim","appendToInternalEquation","editorSelection","shouldAppendSpace","lines","startLi","endLi","startPivot","endPivot","equationPart","lastChar","charAt","digits","hexadecimalDigits","numeric","endsWith","cursorOffset","deleteLeft","buttons","createSimpleAppendButtons","labels","symbol","separator","MAX_SAFE_INTEGER","index1","btn","index2","textTransform","validateFragment","validateString","FormulaEditPanel","showInDialog","equationTextUnix","titleProps","panelProps","FormulaTab","toggleOptions","openFormulaEditPanel","setOpenFormulaEditPanel","equationObjectID","alignItems","flexWrap","RawEditor","onBlur","exitEditModeOnBlur","setEditMode","toggleNegative","NumberEditor","onlyIntegers","smallStep","largeStep","hideRawEditor","rawValue","setRawValue","invalidInternalValue","setInvalidInternalValue","clamp","parseRawValue","raw","fix","numberValue","parseFloat","newValue","columnGap","ChevronDoubleLeftIcon","ChevronLeftIcon","Slider","valueLabelDisplay","step","MIN_RANGE_VALUE","MAX_RANGE_VALUE","clampRangeValue","compareRangeValues","IndirectValue","indirectObjectId","Formula","formula","useRange","initialValue","setInitialValue","setValue","rangeObjectID","setRangeObjectID","modified","failHigh","failLow","warnHigh","warnLow","ownerId","infoStruct","objectType","subType","embeddedID","NoEmbeddedId","getEmbeddedValuesRequest","embeddedValues","getEmbeddedValuesResponse","list","getRangeValue","embeddedIdRangeClass","embeddedValue","embeddedId","embeddedValueObjectID","linkedValue","common","rangeClass","DirectValue","directValue","dblVal","indirectIDString","RangeClassFailHighEId","RangeClassFailLowEId","RangeClassWarnHighEId","RangeClassWarnLowEId","range","finally","saveChanges","setEmbeddedValuesRequest","rangeValue","VT_R8","isModified","resetType","RT_FromObject","standardResponse","errorMessages","msg","getRangeClassName","classEnum","RangeValuePreview","onOpenEditView","editButtonEnabled","editButtonProps","IndirectValueObjectName","setError","productValue","RangeValueEditor","onExit","internalValue","setInternalValue","openFormulaEditDialog","setOpenFormulaEditDialog","invalid","Select","MenuItem","validationResultValue","RangeTab","editingValue","setEditingValue","useFormula","getEquationRequest","equationValue","getEquationResponse","isMathTool","objectSubType","noDisplayStyle","MathTool","saving","setSaving","setErrors","setSuccess","showOptions","setShowOptions","commonProps","comment","setEmbeddedValueObjectID","ToolCommentTypeEId","commentValue","strVal","VT_BSTR","useComment","commentErrors","rangeErrors","formulaErrors","conditionalErrors","totalErrors","t","ToolSetBar","tools","tool","SortableItem","SortableList","Filter","AvailableFilterListItems","AvailableFilterListActions","iconTakeOver","CurrentFilterListItems","CurrentFilterListActions","iconDown","iconUp","localCurrentFilterListItems","setLocalCurrentFilterListItems","helperClass","arrayMove","ToolSetup","setup","setupParameterView","viewSetFactory","ViewSetFactory","ActionType","currentViewSet","setParameter","setViewSet","sortToolSet","ToolsetView","treeModel","setTreeModel","filteredTreeModel","setFilteredTreeModel","setCursor","lastActionsStack","setToolSetId","openConfirmDelete","setOpenConfirmDelete","filterText","setFilterText","isCursorLeaf","setInspectionIdToToolsetMappings","treeDataRaw","getToolsetTreeByInspectionId","createTreeNodes","isValid","toolsetTreeNode","isLeaf","treeNode","openMathToolTab","tabNode","setEditingFocus","SELECT","to","getCursorPositionAndObjectID","setNext","deleteTool","DELETE","copyTool","COPY","cutTool","CUT","pasteTool","PASTE","canDelete","iconCopy","iconCut","iconPaste","iconExpand","iconCollapse","iconDelete","toolActions","addTool","newToolId","ADD","toolId","canAdd","iconWindow","ClassIdEnum","WindowToolClassId","iconFunction","MathToolClassId","iconStatistics","StatisticsToolClassId","iconLinear","RingBufferToolClassId","iconArchive","ArchiveToolClassId","AcquisitionToolClassId","iconTransformation","TransformationToolClassId","iconShift","ShiftToolClassId","iconCylindricalWrap","CylindricalWarpToolClassId","iconPerspective","PerspectiveToolClassId","iconImage","ImageToolClassId","LinearToolClassId","iconColor","ColorToolClassId","iconResize","ResizeToolId","iconLoadImage","LoadImageToolClassId","iconTable","TableToolClassId","iconTableAnalyzer","TableAnalyzerToolClassId","iconPolarTransformation","PolarTransformationToolClassId","iconLoop","LoopToolClassId","iconExternal","ExternalToolClassId","iconGroup","GroupToolClassId","confirmed","handleConfirmDeleteClose","toolName","paddingBottom","ReactDOMServer","renderToString","includesTextInReactElement","mapViewSetArray","CONFIG_VIEW","TOOLSET_VIEW","IMAGE_STRIP_VIEW","DEFAULT_RECIPE_VIEWSET","DEFAULT_VIEWSET","DEFAULT_VIEWSET_NAME","getViewSet","buildEmptyViewSet","createViewInstance","viewDesc","meta","getViewById","viewComponentClassId","passedProps","buildRecipeViewSet","first","direction","splitPercentage","second","emptyViewId","buildEditViewSet","createNewViewSet","useUserInfoNavigation","currentState","unsavedChanges","useHistory","inputFile","shortcutViewOpen","setShortcutViewOpen","isHelpViewOpen","setIsHelpViewOpen","isAboutViewOpen","setIsAboutViewOpen","downloadConfig","downloadSVOConfig","fileData","Date","toISOString","content","icon","saveIcon","saveClientChunk","permissionsIcon","downloadIcon","file","files","fileReader","FileReader","readAsArrayBuffer","arrayBuffer","array","ArrayBuffer","uploadSVOConfig","uploadIcon","helpIcon","container","shortcutHelpIcon","aboutIcon","logoutIcon","unsubscribeFromLockAcquisitionStream","setImmediate","origin","userIcon","fullname","AboutView","REACT_APP_NAME","getWebAppVersion","getSvObserverVersion","getGatewayVersion","KoerberLogo","ProtobufConnector","disconnect","websocketConnector","WebsocketConnector","onConnect","onMessage","connectWithToken","token","closeSocket","readMessage","connectionLost","setProtobuf","ReconnectingWebSocket","binaryType","onopen","onmessage","onclose","onconnecting","log","close","Proxy","sendLogsToServer","logs","mapLogEntry","StoreClientLogsRequest","client","loadProject","loadProjectRequested","showLoadingSplashScreen","getMyPermissions","getDatabaseGatewayConfig","discoverConfiguration","discoverDeviceMode","subscribeToNotificationAndMessageStreams","currentConfiguration","setSVOConfigLoaded","discoverInspectionsWithConfigName","loadClientChunk","resetClientChunk","sessionStorage","reqInfo","requestTakeover","sendLockAcquisitionStreamRequest","hideLoadingSplashScreen","showLoadingErrorOverlay","configLoadedFromCache","setUpProductHistories","discoverPartsInBackground","modeName","GetDeviceModeRequest","oldMode","newMode","newModeName","addModeSwitchNotification","setCurrentModeDone","protobufInitialized","observerNotificationSubscription","observerMessageSubscription","lockAcquisitionSubscription","gatewayNotificationSubscription","gatewayMessageSubscription","nextSubId","productHistoryManager","ProductHistoryManager","subscriptionManager","SubscriptionManager","showConnectingSplashScreen","onCurrentModeChanged","onProtobufChangedImpl","hideConnectingSplashScreen","severity","dispatchConfigurationLock","setCurrentConfiguration","saveToCache","dispatchInspectionToolsetMappings","setInspectionToolsetMappings","INSPECTION_TOOLSET_MAPPINGS","setConfigurationLock","showGlobalMessageOverlay","hideGlobalMessageOverlay","lastModified","loadedSince","cachedConfigInfo","getConfigurationInfo","hash","loadFromCache","cachedMappings","clearCurrentView","SetDeviceModeRequest","hResult","loadDatabaseGatewayConfiguration","subscribeToObserverNotificationStream","subscribeToObserverMessageStream","subscribeToGatewayNotificationStream","subscribeToGatewayMessageStream","unsubscribeFromObserverNotificationStream","GetNotificationStreamRequest","stream","subscribe","onObserverNotification","onObserverNotificationError","NotifyType","getVariantValue","timestamp","addProjectModifiedNotification","updateProject","configLoaded","extractConfigNameFromFileName","addProjectLoadedNotification","configUnloaded","addProjectUnloadedNotification","errorNumber","unsubscribeFromObserverMessageStream","GetMessageStreamRequest","onObserverMessage","onObserverMessageError","messageList","startMsgBox","firstMessage","formatMessageNotification","messageCode","endMsgBox","msgLog","addServerMessageNotification","waitForTakeoverResponse","LockAcquisitionStreamRequest","onLockAcquisition","onLockAcquisitionError","removeItem","onLockAcquiredNotification","onLockTakeoverNotification","onLockReleasedNotification","onLockAlreadyLockedNotification","onLockTakeoverRejectedNotification","addConfigAlreadyLockedBySameUser","addTakeoverCandidateNotFoundNotification","addLockAcquisitionErrorNotification","handleLockAcquiredNotification","handleLockTakeoverNotification","handleLockReleasedNotification","handleLockAlreadyLockedNotification","handleLockTakeoverRejectedNotification","resetAlertDialogFlags","LockTakeoverRequest","resetTakeoverAttempt","addLockTakeoverErrorNotification","LockTakeoverRejectedRequest","unsubscribeFromGatewayNotificationStream","GetGatewayNotificationStreamRequest","onGatewayNotification","onGatewayNotificationError","pausedInspectionIds","onPauseNotification","updateConfigLockStatus","unsubscribeFromGatewayMessageStream","GetGatewayMessageStreamRequest","onGatewayMessage","onGatewayMessageError","cb","_getNextSubId","addSubscription","removeSubscription","init","fetchMissingProductData","missingImageIds","getMissingProductImages","missingValueIds","getMissingProductValues","GetProductDataRequest","includeOverlays","addData","getSubscribedImages","getSubscribedValues","addRejectStreamPausedNotification","updatePausedInspections","setPausedInspections","pauseRejectStreamImpl","pause","SetRejectStreamPauseStateRequest","GetMyPermissionsRequest","defaultPermissions","disablePermissionsWhenConfigLocked","setMyPermissions","getGroupPermissions","isUnlocked","isLockedInDifferentAppInstance","GetGroupDetailsRequest","groupDetails","flattenPermissions","setGroupPermissions","groupDetail","users","UpdateGroupPermissionsRequest","updateInspectionIdToToolsetMappings","classId","taskObjectPos","createObjectRequest","updateToolsetData","createObjectResponse","deleteObjectRequest","GetConfigRequest","PutConfigRequest","ConfigCommandRequest","clipboardRequest","action","ClipboardActionEnum","Copy","Cut","Paste","webapp","read","viewset","edit","svobserver","inspectionstate","write","notifications","clientlogs","store","machinestate","command","execute","usermanagement","userpermissions","dialogActions","dialogClass","dialogWrapperClass","dialogContentWrapperClass","closeIcon","ShortcutListItem","isRequired","ShortcutList","shortcuts","shortcut","ShortcutView","ProductHistory","productData","releaseImpl","productHistories","productHistory","addProductData","InspectionSubscription","paused","lastTrigger","subsById","selectedTrigger","baseSub","emitProductToAllSubscriptions","subscription","resubscribeToStream","swapLastProduct","uniqueIds","unsubscribeFromStream","subscribeToStream","buildReqParams","GetProductStreamRequest","onStreamEvent","onStreamError","getStartAtTriggerCount","includeFailStatusValues","rejectValueIds","rejectsOnly","isRejectsOnly","imageFormat","ImageFormatEnum","bmp","sub","ids","each","rawEvent","gatherImages","gatherValues","rejectImages","overlaysList","rejectOverlays","idx","rejectValues","emitProductToSubscription","hasRequestedData","hasAllRequestedDataForSubscription","isInterestedIn","isInterestedInNewPorduct","hasDataForSubscriptionInList","lastProduct","requestedIds","arr","inspectionIdBySubId","subsByInspectionId","resume","isPaused","AUTH_TOKEN_KEY","USER_KEY","loadUserInfoFromStorage","userStr","removeAllUserInfoFromStorage","saveUserInfoToStorage","select","paddingTop","inputLabelRef","labelWidth","setLabelWidth","offsetWidth","htmlFor","outlined","native","counter","de","en","es","translations","prop","actionList","arrayOf","string","oneOfType","func","NUMBER_OF_SELECTABLE_VALUES","expandedFilteredKeys","checkedKeys","filteredCheckedKeys","inputValue","filteredLocations","filteredTree","countedVisibleValues","countedPossibleValues","selectionLimitReached","halfChecked","onCheck","checkProps","limitedCheckedKeys","limitCheckedKeys","checkUnselectingAll","updateCheckedKeys","ensureSingleSelection","setChangedIds","limit","condition","checkedNode","newSelectedKeys","newDeselectedKeys","union","filteredIds","getSelectedLocation","onChangeFilter","initialChars","cutFilterIgnoreWords","abortRecursion","filteredKeys","countSelection","countCtx","countMatches","copy","filterNodesRecursively","countMatchingNodesRecursively","filteredInput","chars","shadowChildren","positions","remainingChars","consumeChars","childMatches","isMatchingSubtree","shadowNode","createFilteredShadowNode","prevIdx","styledText","highlightAtPositions","word","loop","switcherIcon","disableCheckbox","childProps","expanded","rootNode","visibleCheckedKeys","items_number","checkable","showLine","autoExpandParent","defaultExpandParent","showIcon","selectable","withStyles","ProxyStream","opts","pendingMessages","currentThrottleTimeout","throttleInterval","throttleRequests","recs","rec","level","sameMessageCount","FormatStream","impl","out","browserStdout","bunyanFormat","outputMode","proxyStream","formatStream","createLogger","streams","setProxy","ModalNotification","visible","selectedItem","SuggestionList","show","currentKey","onCancel","prevFilter","usePrevious","filteredItems","textWithHighlight","menuitems","currentText","isSelected","Paper","Autocomplete","suggestionList","inputRef","setShow","setFilter","setCurrentKey","onChangeAutocompleteText","currentPosition","getFilterText","onKeyDown","onSelectSuggestion","AlertDialog","contentText","aria-labelledby","aria-describedby","disableEscapeKeyDown","DialogTitle","DialogContent","DialogContentText","DialogActions","InformationBox","informationText","showingInfo","setShowingInfo","infoIcon","treeEntityNameGenerator","searchedNodeId","ImageForm","object","propertyName","allowedImageVariables","allowedPathVariables","onDelete","treeStyle","treeNodeId","setTreeNodeId","setPath","samplingRate","setSamplingRate","setEnabled","Box","sx","mr","AutoComplete","required","deleteIcon","COMPONENT_TYPE_AUTOCOMPLETE","fieldsForTreeForValueSelection","triggerPropertiesRequiresName","triggerProperties","informationToFieldsMap","Typography","gutterBottom","TriggerSettings","allowedVariables","allowedAutoCompleteVariables","allowedImagePathVariables","newTriggerProperty","setNewTriggerProperty","update","setUpdate","triggerResult","deleteProperty","remainingTriggerProperties","excludedFields","valueFieldType","addtriggerProp","addNewTriggerProperty","addIcon","PropertyForm","batchPropertiesRequiresName","batchProperties","BatchSettings","newBatchProperty","setNewBatchProperty","batch","batchResult","remainingBatchProperties","addbatchProp","addNewBatchProperty","DatabaseGatewayEditor","databaseGatewayConfig","inspectionSubscriptions","webAppConfiguration","batchVariables","constant","saveConfiguration","simplifyConfiguration","saveDatabaseGatewayConfiguration","names","subscriptions","triggerVariablesAsTree","triggerVariables","filteredInspections","getInspectionId","getTriggerVariablesAsTree","getTriggerVariables","deleteSubscription","inspectionSelection","renderConfig","generateDefaultInspectionSubscription","DatabaseGatewayPage","SelectParameter","changeCallback","removeCallback","valuesWithLabels","localeCompare","ArrayParameter","SingleParameterComponent","numberOfEntries","removeArrayEntry","BoolParameter","BoolArrayParameter","BytesParameter","SingleParameter","fieldType","DecimalParameter","DecimalArrayParameter","EnumArrayParameter","EnumParameter","IntegerParameter","IntegerArrayParameter","TextParameter","TextArrayParameter","RequestParameter","parameters","setParameters","nestedParamsMap","setNestedParamsMap","currentRequestName","setCurrentRequestName","sendRequest","dir","getControlForField","currentPath","currentValue","changeValue","getStringArrayControl","getStringControl","getBoolArrayControl","getBoolControl","getIntegerArrayControl","getIntegerControl","getDecimalArrayControl","getDecimalControl","getBytesControl","constructor","getArrayEnumControl","getEnumControl","newPath","getArrayControlsForType","getControlsForType","newParams","cloneDeep","controls","fieldKeys","oneofs","oneOfKey","oneof","fieldkey","partOf","rule","addArrayEntryForType","RequestedResponseVisualizer","imageUrl","setImageUrl","setFileData","imageData","buildUrl","copyResponseToClipboard","navigator","clipboard","writeText","RequestsList","proto","chooseCallback","setActive","requests","requestname","Debugger","currentRequest","setCurrentRequest","setResponse","filteredProto","Link","ArrowIcon","DebuggerPage","parseQueryParams","search","queryParams","part","decodeURIComponent","HmiLoginPage","authenticated","setTopNavHidden","hideTopNavigation","setBottomNavHidden","hideBottomNavigation","setLocale","setDefaultViewSetName","authError","statusText","pathname","viewSetTemplate","hidden","LogoutPage","loggedOut","onLogOut","onLoggedOut","KeyHandler","handleKeyEvent","ctrlKey","toggleFullscreenMode","openHelpView","stopPropagation","handleClick","editingViewIds","helpSection","setFocusedViewType","tabIndex","PermissionManagement","loadCurrentPermissions","initiallySelectedPermissions","currentSelectedPermissions","savePermissions","setUserPermissions","onSaveClicked","onResetClicked","allAvailablePermissions","redirect","Permissions","groupName","newPermissions","am","bm","bs","as","colGroup","permissionsPerGroup","tableheader","dataRow","mapsAreEqual","getColGroup","tablehead","getTableHead","getData","PermissionPage","viewMappings","closeHelpView","InformationDialog","fileChooser","createdViewSets","isImportConfirmOpen","setIsImportConfirmOpen","viewsetToDelete","setViewsetToDelete","currentImportedViewSet","setCurrentImportedViewSet","isInformationDialogOpen","setIsInformationDialogOpen","informationDialogTitle","setInformationDialogTitle","informationDialogMessage","setInformationDialogMessage","shouldCloseViewSetManager","setShouldCloseViewSetManager","viewSetToEdit","setViewSetToEdit","fileLoaderVersion","existsName","addViewSet","newViewSetName","nameToTry","getNextFreeName","newViewSet","exportViewSets","dataToSave","getEditingViewIdsPerInspection","createJsonFileFromObject","closeViewSetManager","inspectionIdStr","json","handleFileData","fileText","equalsViewSetName","setViewSetConfigurationFromFileData","showErrorWhileLoadingFileDialog","handleDeleteConfirmDialogClose","removeViewSet","loadViewSetFromFile","loadSuccessfulInformationDialogText","isMajorVersionCompatible","isMinorVersionNewer","loadVersionChangeInformationDialogText","purgeViewState","showInformationDialog","showIncompatibleVersionErrorDialog","semver","valid","diff","gt","getViewSetEditingIcon","viewsetName","alert","renameViewSet","iconCheck","column","paddingRight","exportIcon","importIcon","removeIcon","handleImportConfirmDialogClose","readAsText","viewSetType","TopNavigationItem","PresetButton","presetButtonClass","PresetSlider","switchViewSet","BottomNav","selectedIndex","viewSetManagerOpen","bottomNavHidden","isSVOConfigLoaded","ViewSetManagerIcon","fullscreenMode","NavigationItem","itemRef","openMenu","setOpenMenu","hasChildren","Popper","anchorEl","placement","zIndex","ClickAwayListener","onClickAway","elevation","DateTime","format","ticking","LockState","configLock","configurationLock","TakeoverDialog","onAccept","timeLeft","setTimeLeft","interval","setInterval","clearInterval","onReject","formReducer","selectableModes","useModeSwitchNavigation","currentModeKey","modeId","modeKey","setCurrentMode","useNavigation","userInfoNavigation","languageChooserNavigation","addUserSwitchedLanguageNotification","languageIcon","useLanguageChooserNavigation","lockStateHandlerNavigation","loggedUser","useReducer","scope","formData","setFormData","openFormDialog","setOpenFormDialog","getLabel","isLockedBySameUser","isLockedByOtherUser","handleClose","padlockIcon","lockIcon","shrink","subscribeToLockAcquisitionStream","isConfigAlreadyLocked","closeAlertDialogs","isOwnerRejectedTakeover","isWaitingForTakeoverResponse","isTakeoverAttemptFromOtherUser","passConfigLock","retainConfigLock","useLockStateHandlerNavigation","inspectionStateNavigation","allRunning","unshift","iconPlayMultiple","runningInspections","numberOfInspections","useInspectionStateNavigation","statusReportNavigation","logIcon","count","useStatusReportNavigation","modeSwitchNavigation","navigation","TopNavigation","topNavHidden","navClass","nav","fontStyle","NoSVOConfigurationLoadedView","ListSelection","headline","selectionItems","onSelection","cancelButtonProps","showCancel","goBack","InspectionSelection","getSelectionItems","InspectionIcon","BackIcon","ViewTypeSelection","inspectionTypes","ImageViewIcon","ParameterViewIcon","ImageStripViewIcon","ListViewIcon","toolsetIcon","ViewSelection","visibleComponent","selectedInspectionId","selectedViewType","setSelectedInspectionId","changeTitle","updateView","setSelectedViewType","goBackToViewTypeSelection","cancelViewSelection","changeContent","replaceViewInCurrentViewSet","viewToShowWithoutInspection","replacementComponentId","SVOView","setFullscreen","resetView","removeIdsForUnknownInspectionIds","canEditCurrentView","canDeleteCurrentView","isConfirmOpen","windowName","viewClass","fullscreen","currentInspections","hasInspectionId","toolbarControls","onCloseView","CloseIcon","createNode","formatMessage","ViewSet","mosaic","viewToClose","setViewToClose","viewSetClass","handleConfirmDialogClose","layout","increaseViewSizeChangeCounter","renderTile","Consumer","mosaicActions","resize","minimumPaneSizePercentage","SVObserver","throttledWindwResizeHandler","throttle","increaseChangeCounter","onWebsocketConnect","addConnectionEstablishedNotification","onWebsocketDisconnect","addConnectionLostNotification","returnValue","viewSetId","defaultViewSetName","changeViewSetAfterLoading","handleBeforeUnload","context","getState","modalNotificationData","setLayout","BottomNavigation","contextType","ReactReduxContext","setCurrentLayout","App","exact","render","paperStyle","LoginPage","onSubmit","onLogin","loginFailed","autoComplete","getNewNotifications","notification2Add","newNotifications","date","dateOptions","day","month","year","timeOptions","hour","minute","toLocaleString","addTimestampToNotification","currentNotification","equalsLastNotificationCurrentNotification","setCountForNotification","appReducer","initalAppState","websocketUrl","connection","navigationHidden","saveOperationInProcess","currentClientChunkRevision","createInitialAppState","setProtobufStaticInitialized","setMode","revision","inProcess","initialState","toolsetReducer","findInspectionForView","viewDataReducer","omit","showInList","newState","fullscreenComponentDescriptor","enterFullScreenMode","componentDescriptor","leaveFullScreenMode","findCreatedViewSetWithName","cached","targetViewSet","createdViewSet","updateCurrentViewSet","newCreatedViewSets","c","viewSetReducer","createdView","currentViewSetId","updatedViewSet","changeViewSetToName","emptyViewSet","viewsetToEdit","oldName","renamedViewSet","newName","currentLayout","loadedViewSet","isLoaded","createReducers","combineReducers","routing","PreLogin","setUser","setAuthToken","setStore","autoSave","createStore","applyMiddleware","thunk","devToolsExtension","f","fromLocalStorage","visibilityState","setBrowserWindowVisibility","hibernateTimer","onLoggedIn","muiTheme","palette","primary","main","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","utf8StringToBuffer","len","protobufjs","util","utf8","bufferToUtf8String","DATABASEGATEWAY_CHUNK_FILENAME","WEBAPP_CHUNK_FILENAME","WEBAPP_IDMAPPING_FILENAME","WEBAPP_CHUNK_VERSION","WEBAPP_CHUNK_PARAMETERS","VERSION","SV_OBSERVER_VERSION","GATEWAY_VERSION","WEBAPP_VERSION","CREATED_VIEW_SETS","CURRENT_VIEW_SETS","INSPECTION_OVERLAYS","INSPECTION_LIST_SELECTION","INSPECTION_EDITING_VIEW_IDS","INSPECTION_LIST_ALIASES","INSPECTION_IMAGE_VIEW_SETTINGS","saveChunk","setSaveOperationInProcess","inspectionOverlays","inspectionListSelection","listSelection","inspectionEditingViewIds","inspectionListAliases","convertAliasesToJson","inspectionImageViewSettings","imageViewSettings","PutFileRequest","destinationPath","saveInConfig","loadChunk","setClientChunk","addIncompatibilityDetectedNotification","setListViewAliases","GetFileRequest","sourcePath","updateConfigWithGuidToIntMapping","loadDataForCurrentViewSet","coerce","configVersion","satisfies","receivedConfigParameters","expectedConfigParameters","currentParameterName","setting","resetChunk","emptyViewset","emptyViewSets","idMappingChunk","idMapping","parseGuidToObjectIdMapping","guidToObjectIdMapping","recursivlyUpdateConfigWithGuidToIntMapping","hasError","patchedIds","guid","lookUpKeyInMapping","lowerCaseKey","loadDatabaseGatewayConfig","setDatabaseGatewayChunk","saveDatabaseGatewayConfig","isToolsetViewSet","isImageViewSet","isListViewSet","isImageStripViewSet","newProtobuf","addNotification","configFile","authenticateHelper","logOutHelper"],"mappings":"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wCAAAA,I,oDAAAA,I,4DAAAA,I,oDAAAA,I,gEAAAA,I,0CAAAA,I,0CAAAA,I,gDAAAA,I,0DAAAA,I,0DAAAA,I,wCAAAA,I,4CAAAA,I,4DAAAA,I,wEAAAA,I,sCAAAA,I,gDAAAA,I,kDAAAA,I,sDAAAA,I,sDAAAA,I,wDAAAA,I,8DAAAA,I,8CAAAA,I,sDAAAA,I,kDAAAA,I,gDAAAA,I,kDAAAA,I,gDAAAA,I,mEAAAA,I,iEAAAA,I,mEAAAA,I,iEAAAA,I,yCAAAA,I,mDAAAA,I,uDAAAA,I,qDAAAA,I,uDAAAA,I,6CAAAA,I,2DAAAA,I,2DAAAA,I,qDAAAA,I,6CAAAA,I,2CAAAA,I,2CAAAA,I,iDAAAA,I,yCAAAA,I,uCAAAA,I,2CAAAA,I,6CAAAA,I,yCAAAA,I,6CAAAA,I,qEAAAA,I,iEAAAA,I,uEAAAA,I,+DAAAA,I,2DAAAA,I,iGAAAA,I,yDAAAA,I,yCAAAA,I,iDAAAA,I,mDAAAA,I,yCAAAA,I,mDAAAA,I,iDAAAA,I,iDAAAA,I,uCAAAA,I,2CAAAA,I,2CAAAA,I,mDAAAA,I,2CAAAA,I,mDAAAA,I,+DAAAA,I,mDAAAA,I,2DAAAA,I,mDAAAA,I,2DAAAA,I,6CAAAA,I,iDAAAA,I,mDAAAA,I,qCAAAA,I,iEAAAA,I,6BAAAA,I,6BAAAA,I,+BAAAA,I,2BAAAA,I,qDAAAA,I,qDAAAA,I,iBAAAA,I,mBAAAA,I,iBAAAA,I,mBAAAA,I,yBAAAA,I,2BAAAA,I,2BAAAA,I,2BAAAA,I,2CAAAA,I,qCAAAA,I,qCAAAA,I,qCAAAA,I,uCAAAA,I,2CAAAA,I,mCAAAA,I,mCAAAA,I,iCAAAA,I,yBAAAA,I,2BAAAA,I,yCAAAA,I,2CAAAA,I,2CAAAA,I,mDAAAA,I,yDAAAA,I,mDAAAA,I,mDAAAA,I,+BAAAA,I,iCAAAA,I,yCAAAA,I,uCAAAA,I,yCAAAA,I,uCAAAA,I,mDAAAA,I,qCAAAA,I,+CAAAA,I,uCAAAA,I,uCAAAA,I,yCAAAA,I,yCAAAA,I,iDAAAA,I,+DAAAA,I,+DAAAA,I,2DAAAA,I,6DAAAA,I,2EAAAA,I,qFAAAA,I,6DAAAA,I,uFAAAA,I,qDAAAA,I,+BAAAA,I,+CAAAA,I,6BAAAA,I,yCAAAA,I,2BAAAA,I,yCAAAA,I,2CAAAA,I,2CAAAA,I,yCAAAA,I,yCAAAA,I,yCAAAA,I,yCAAAA,I,6BAAAA,I,qCAAAA,I,uCAAAA,I,iDAAAA,I,mCAAAA,I,iDAAAA,I,mDAAAA,I,+CAAAA,I,mDAAAA,I,qEAAAA,I,mEAAAA,I,+DAAAA,I,qEAAAA,I,2DAAAA,I,iEAAAA,I,2BAAAA,I,2DAAAA,I,uDAAAA,I,yDAAAA,I,iDAAAA,I,uCAAAA,I,iCAAAA,I,uCAAAA,I,uEAAAA,I,uEAAAA,I,qEAAAA,I,2CAAAA,I,yCAAAA,I,yCAAAA,I,mDAAAA,I,qEAAAA,I,uFAAAA,I,6EAAAA,I,2EAAAA,I,iFAAAA,I,uEAAAA,I,qEAAAA,I,qEAAAA,I,uFAAAA,I,6EAAAA,I,2EAAAA,I,iFAAAA,I,uEAAAA,I,qEAAAA,I,uEAAAA,I,yFAAAA,I,+EAAAA,I,6EAAAA,I,mFAAAA,I,yEAAAA,I,uEAAAA,I,uEAAAA,I,yFAAAA,I,+EAAAA,I,6EAAAA,I,mFAAAA,I,yEAAAA,I,uEAAAA,I,mDAAAA,I,mDAAAA,I,uDAAAA,I,yCAAAA,I,qDAAAA,I,qDAAAA,I,mCAAAA,I,qEAAAA,I,qEAAAA,I,iCAAAA,I,mCAAAA,I,yDAAAA,I,yDAAAA,I,+EAAAA,I,+EAAAA,I,yEAAAA,I,yEAAAA,I,iFAAAA,I,mDAAAA,I,uCAAAA,I,uCAAAA,I,6CAAAA,I,qDAAAA,I,qDAAAA,I,+CAAAA,I,+CAAAA,I,uDAAAA,I,2CAAAA,I,mEAAAA,I,6DAAAA,I,yCAAAA,I,yCAAAA,I,iDAAAA,I,6CAAAA,I,+CAAAA,I,2CAAAA,I,6DAAAA,I,+CAAAA,I,qDAAAA,I,qEAAAA,I,qEAAAA,I,6EAAAA,I,yEAAAA,I,2EAAAA,I,uEAAAA,I,mEAAAA,I,iEAAAA,I,qEAAAA,I,uEAAAA,I,qCAAAA,I,uCAAAA,I,+DAAAA,I,iEAAAA,I,2DAAAA,I,+CAAAA,I,+CAAAA,I,uDAAAA,I,+DAAAA,I,iDAAAA,I,iDAAAA,I,qDAAAA,I,6CAAAA,I,2BAAAA,I,qDAAAA,I,6BAAAA,I,uCAAAA,I,uCAAAA,I,qCAAAA,I,qCAAAA,I,uCAAAA,I,uCAAAA,I,mDAAAA,I,qDAAAA,I,qCAAAA,I,+CAAAA,I,mDAAAA,I,+BAAAA,I,iDAAAA,I,2CAAAA,I,+CAAAA,I,+CAAAA,I,iDAAAA,I,+CAAAA,I,yDAAAA,I,qDAAAA,I,qCAAAA,I,uDAAAA,I,iFAAAA,I,qCAAAA,I,uCAAAA,I,yCAAAA,I,2CAAAA,I,6CAAAA,I,6CAAAA,I,+CAAAA,I,iDAAAA,I,qEAAAA,I,6DAAAA,I,6DAAAA,I,6DAAAA,I,6DAAAA,I,qDAAAA,I,mCAAAA,I,mCAAAA,I,2CAAAA,I,qEAAAA,I,6CAAAA,I,mCAAAA,I,mCAAAA,I,mCAAAA,I,uCAAAA,I,2BAAAA,I,yDAAAA,I,qDAAAA,I,qDAAAA,I,yDAAAA,I,yDAAAA,I,qDAAAA,I,qDAAAA,I,yDAAAA,I,yDAAAA,I,qDAAAA,I,qDAAAA,I,yDAAAA,I,yDAAAA,I,6DAAAA,I,2CAAAA,I,iDAAAA,I,6CAAAA,I,+DAAAA,I,2DAAAA,I,yCAAAA,I,qDAAAA,I,+DAAAA,I,2CAAAA,I,iDAAAA,I,6CAAAA,I,+DAAAA,I,2DAAAA,I,yCAAAA,I,qDAAAA,I,+DAAAA,I,+DAAAA,I,uCAAAA,I,6DAAAA,I,2CAAAA,I,iDAAAA,I,6CAAAA,I,qCAAAA,I,qCAAAA,I,2CAAAA,I,uDAAAA,I,uDAAAA,I,+CAAAA,I,iCAAAA,I,2CAAAA,I,6CAAAA,I,6CAAAA,I,yBAAAA,I,yBAAAA,I,qEAAAA,I,uEAAAA,I,6EAAAA,I,6EAAAA,I,6DAAAA,I,+DAAAA,I,qEAAAA,I,qEAAAA,I,+CAAAA,I,+DAAAA,I,6BAAAA,I,iCAAAA,I,2CAAAA,I,iEAAAA,I,uDAAAA,I,iEAAAA,I,mEAAAA,I,6DAAAA,I,+DAAAA,I,mFAAAA,I,+DAAAA,I,+DAAAA,I,6DAAAA,I,mDAAAA,I,2DAAAA,I,uEAAAA,I,uEAAAA,I,2DAAAA,I,+DAAAA,I,yEAAAA,I,6DAAAA,I,uEAAAA,I,6DAAAA,I,uEAAAA,I,+BAAAA,I,qCAAAA,I,qCAAAA,I,mDAAAA,I,iCAAAA,I,+CAAAA,I,qCAAAA,I,iDAAAA,I,yDAAAA,I,2CAAAA,I,+DAAAA,I,6FAAAA,I,2EAAAA,I,iEAAAA,I,iEAAAA,I,yEAAAA,I,yEAAAA,I,yEAAAA,I,+BAAAA,I,mDAAAA,I,qCAAAA,I,+BAAAA,I,iCAAAA,I,2CAAAA,I,iDAAAA,I,iEAAAA,I,iDAAAA,I,iEAAAA,I,+CAAAA,I,qCAAAA,I,6BAAAA,I,6CAAAA,I,6CAAAA,I,uEAAAA,I,yEAAAA,I,6DAAAA,I,qEAAAA,I,+DAAAA,I,uEAAAA,I,uEAAAA,I,uEAAAA,I,mEAAAA,I,qEAAAA,I,mFAAAA,I,6FAAAA,I,qEAAAA,I,iCAAAA,I,mCAAAA,I,2DAAAA,I,+CAAAA,I,+CAAAA,I,+CAAAA,I,iCAAAA,I,iCAAAA,I,2BAAAA,I,2BAAAA,I,2BAAAA,I,uEAAAA,I,mDAAAA,I,mDAAAA,I,6CAAAA,I,+DAAAA,I,qDAAAA,I,uCAAAA,I,2CAAAA,I,2CAAAA,I,qCAAAA,I,8CAAAA,I,sDAAAA,I,oCAAAA,I,0CAAAA,I,sDAAAA,I,4CAAAA,I,0DAAAA,I,gDAAAA,I,sCAAAA,I,8CAAAA,I,iDAAAA,I,oDAAAA,I,gDAAAA,I,+CAAAA,I,8CAAAA,I,8CAAAA,I,sDAAAA,I,gDAAAA,I,gEAAAA,I,0DAAAA,I,kDAAAA,I,8CAAAA,I,oDAAAA,I,oDAAAA,I,wDAAAA,I,gDAAAA,I,wCAAAA,I,wDAAAA,I,wDAAAA,I,sDAAAA,I,gEAAAA,I,gEAAAA,I,0DAAAA,I,0DAAAA,I,kEAAAA,I,sDAAAA,I,sDAAAA,I,8DAAAA,I,0DAAAA,I,4DAAAA,I,wDAAAA,I,sEAAAA,I,oFAAAA,I,kFAAAA,I,sEAAAA,I,oFAAAA,I,kFAAAA,I,0EAAAA,I,sCAAAA,I,wCAAAA,I,8CAAAA,I,8CAAAA,I,gDAAAA,I,gDAAAA,I,gDAAAA,I,gDAAAA,I,sDAAAA,I,gEAAAA,I,kDAAAA,I,oDAAAA,I,oDAAAA,I,4CAAAA,I,0DAAAA,I,oDAAAA,I,4CAAAA,I,sEAAAA,I,wDAAAA,I,4DA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","file":"static/js/main.21b92e08.chunk.js","sourcesContent":["class Observer {\n  constructor(observable) {\n    this.closed = false;\n    this.observable = observable;\n  }\n\n  next(v) {\n    return this.observable.onNext(v);\n  }\n\n  error(err) {\n    return this.observable.onError(err);\n  }\n\n  complete() {\n    return this.observable.onComplete();\n  }\n}\n\nexport class Observable {\n  static create(onSubscribe) {\n    return new Observable(onSubscribe);\n  }\n\n  constructor(onSubscribe) {\n    this._onSubscribe = onSubscribe;\n    this._next = () => void 0;\n    this._error = () => void 0;\n    this._complete = () => void 0;\n  }\n\n  subscribe(desc) {\n    if (typeof desc.next === 'function') {\n      this._next = desc.next;\n    }\n    if (typeof desc.error === 'function') {\n      this._error = desc.error;\n    }\n    if (typeof desc.complete === 'function') {\n      this._complete = desc.complete;\n    }\n    const observer = new Observer(this);\n    // TODO use of tearDownCb\n    const tearDownCb = this._onSubscribe(observer);\n    return {\n      unsubscribe: () => {\n        if (typeof tearDownCb === 'function') {\n          tearDownCb();\n        }\n        // TODO support multiple subscriber?\n        this._next = () => void 0;\n        this._error = () => void 0;\n        this._complete = () => void 0;\n      },\n    };\n  }\n\n  onNext(v) {\n    return this._next(v);\n  }\n\n  onError(err) {\n    return this._error(err);\n  }\n\n  onComplete() {\n    return this._complete();\n  }\n}\n","import ProtoJs from 'protobufjs';\nimport logger from '../utils/logger';\nimport { Observable } from './Observable';\n\nexport default class Protobuf {\n  // will be initialized with Protobuf.init()\n  static SvPenv = {};\n  /** @type {lookup: Function} */\n  static SvPb = {};\n  static nextTxId = 0;\n  static nextStreamId = 0;\n  static initialized = false;\n\n  static async init() {\n    Protobuf.SvPenv = await Protobuf.loadProto('/res/proto/Envelope.proto', 'SvPenv');\n    Protobuf.SvPb = await Protobuf.loadProto('/res/proto/SVRC.proto', 'SvPb');\n    Protobuf.SvAuth = await Protobuf.loadProto('/res/proto/SVRC.proto', 'SvAuth');\n    Protobuf.initialized = true;\n  }\n\n  static async loadProto(path, namespace) {\n    const root = await ProtoJs.load(path);\n    return root.lookup(namespace);\n  }\n\n  constructor() {\n    this.pendingRequests = new Map();\n    this.openStreams = new Map();\n    this.socket = null;\n  }\n\n  isConnected() {\n    return !!this.socket;\n  }\n\n  onConnect(socket) {\n    const prevSocket = this.socket;\n    this.socket = socket;\n    if (prevSocket !== socket) {\n      this.cancelAllPendingRequests(new Error('Connection changed'));\n    }\n  }\n\n  async readMessage(data) {\n    const env = await Protobuf.SvPenv.Envelope.decode(new Uint8Array(data));\n\n    switch (env.type) {\n      case Protobuf.SvPenv.MessageType.response:\n        this.onResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.errorResponse:\n        this.onErrorResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamResponse:\n        this.onStreamResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamErrorResponse:\n        this.onStreamErrorResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamFinish:\n        this.onStreamFinish(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamCancel:\n        this.onStreamCancel(env);\n        break;\n      default:\n        logger.error({ type: env.type }, 'Received message with unexpected type');\n    }\n  }\n\n  onResponse(env) {\n    const txId = env.transactionId;\n    const hdl = this.pendingRequests.get(txId);\n    if (!hdl) {\n      logger.error({ txId }, 'Received response for unknown transaction id');\n      return;\n    }\n    const res = this.unwrapResponse(env);\n    this.pendingRequests.delete(txId);\n    if (hdl.handled) {\n      return;\n    }\n\n    clearTimeout(hdl.timeout);\n    hdl.resolve(res);\n  }\n\n  onErrorResponse(env) {\n    const txId = env.transactionId;\n    const err = this.unwrapErrorResponse(env);\n    return this.onErrorResponseImpl(txId, err);\n  }\n\n  onErrorResponseImpl(txId, err) {\n    const hdl = this.pendingRequests.get(txId);\n    if (!hdl) {\n      logger.error({ txId }, 'Received response for unknown transaction id');\n      return;\n    }\n\n    this.pendingRequests.delete(txId);\n    if (hdl.handled) {\n      return;\n    }\n\n    clearTimeout(hdl.timeout);\n    hdl.reject(err);\n  }\n\n  cancelAllPendingRequests(err) {\n    for (let txId of this.pendingRequests.keys()) {\n      this.onErrorResponseImpl(txId, err);\n    }\n  }\n\n  onRequestTimeout(txId) {\n    const hdl = this.pendingRequests.get(txId);\n    if (!hdl) {\n      logger.error({ txId }, 'Received response for unknown transaction id');\n      return;\n    }\n\n    hdl.handled = true;\n    hdl.reject(new Error('Request timed out'));\n  }\n\n  async onStreamResponse(env) {\n    const streamId = env.transactionId;\n    const hdl = this.openStreams.get(streamId);\n    if (!hdl) {\n      logger.info({ streamId }, 'Received update for unknown stream id');\n      return;\n    }\n    const res = this.unwrapResponse(env);\n    await hdl.observer.next(res);\n    this.ackStreamResponse(env);\n  }\n\n  onStreamErrorResponse(env) {\n    const streamId = env.transactionId;\n    const hdl = this.openStreams.get(streamId);\n    if (!hdl) {\n      logger.error({ streamId }, 'Received error for unknown stream id');\n      return;\n    }\n    const err = this.unwrapErrorResponse(env);\n    this.openStreams.delete(streamId);\n    hdl.observer.error(err);\n  }\n\n  onStreamFinish(env) {\n    const streamId = env.transactionId;\n    const hdl = this.openStreams.get(streamId);\n    if (!hdl) {\n      logger.error({ streamId }, 'Received finish for unknown stream id');\n      return;\n    }\n\n    this.openStreams.delete(streamId);\n    hdl.observer.complete();\n  }\n\n  onStreamCancel() {\n    // ignore cancel envelopes. they should\n    // be sent from client to server only.\n  }\n\n  request(req) {\n    return new Promise((resolve, reject) => {\n      if (!this.socket) {\n        return reject(new Error('No socket available'));\n      }\n      Protobuf.nextTxId += 1;\n      const txId = Protobuf.nextTxId;\n      const env = this.wrapMessage(req, txId, Protobuf.SvPenv.MessageType.request);\n      const buf = this.serializeEnvelope(env);\n      const timeout = setTimeout(this.onRequestTimeout.bind(this, txId), 60 * 1000);\n      this.pendingRequests.set(txId, { resolve, reject, timeout });\n      this.socket.send(buf);\n    });\n  }\n\n  stream(req) {\n    return Observable.create((observer) => {\n      if (!this.socket) {\n        return observer.error(new Error('No socket available'));\n      }\n      Protobuf.nextStreamId += 1;\n      const streamId = Protobuf.nextStreamId;\n      const env = this.wrapMessage(req, streamId, Protobuf.SvPenv.MessageType.streamRequest);\n      const buf = this.serializeEnvelope(env);\n      this.openStreams.set(streamId, { observer });\n      this.socket.send(buf);\n\n      return () => {\n        this.openStreams.delete(streamId);\n        this.cancelStream(streamId);\n      };\n    });\n  }\n\n  cancelStream(transactionId) {\n    if (!this.socket) {\n      return;\n    }\n    const type = Protobuf.SvPenv.MessageType.streamCancel;\n    const params = { transactionId, type };\n    const env = Protobuf.SvPenv.Envelope.fromObject(params);\n    const buf = this.serializeEnvelope(env);\n    this.socket.send(buf);\n  }\n\n  ackStreamResponse(env) {\n    const ackEnv = Protobuf.SvPenv.Envelope.fromObject({\n      transactionId: env.transactionId,\n      sequenceNumber: env.sequenceNumber,\n      type: Protobuf.SvPenv.MessageType.streamAck,\n    });\n    const buf = this.serializeEnvelope(ackEnv);\n    this.socket.send(buf);\n  }\n\n  wrapMessage(req, transactionId, type = Protobuf.SvPenv.MessageType.request) {\n    const message = this.wrapOneOf(req);\n    const envelope = Protobuf.SvPenv.Envelope.fromObject({\n      payloadType: this.getPayloadTypeForOneOfMessage(message),\n      payload: this.packToAny(message),\n      transactionId,\n      type,\n    });\n    return envelope;\n  }\n\n  // NOTE: ignoring payload_type as we want to unpack anyways\n  //       so no need to dispatch the message before unpacking\n  unwrapResponse(env) {\n    const message = this.unpackFromAny(env.payload);\n    const res = this.unwrapOneOf(message);\n    return res;\n  }\n\n  unwrapErrorResponse(env) {\n    const error = new Error(env.error.message);\n    error.code = env.error.errorCode;\n\n    if (env.error.payload) {\n      const payload = this.unpackFromAny(env.error.payload);\n      error.payload = payload;\n    }\n    return error;\n  }\n\n  wrapOneOf(req) {\n    const fieldName = this.getFieldNameForSVRCMessage(req);\n    return Protobuf.SvPb.SVRCMessages.create({ [fieldName]: req });\n  }\n\n  unwrapOneOf(message) {\n    return message[message.message];\n  }\n\n  // by convention, the field name of the SVRCMessages oneof is\n  // equal to the type name, except that first letter is lower-case.\n  getFieldNameForSVRCMessage(message) {\n    const name = message.$type.name;\n    return name.substr(0, 1).toLowerCase() + name.substr(1);\n  }\n\n  getPayloadTypeForOneOfMessage(message) {\n    const fieldName = message.message;\n    const type = message.$type.fields[fieldName];\n    return type.id;\n  }\n\n  packToAny(message) {\n    const type = message.$type;\n    const typeName = type.fullName.slice(1); // remove leading dot\n    // the c++ protobuf library uses this as the default prefix\n    const typeUrlPrefix = 'type.googleapis.com';\n    const encoded = type.encode(message).finish();\n    return {\n      type_url: `${typeUrlPrefix}/${typeName}`,\n      value: encoded,\n    };\n  }\n\n  unpackFromAny(any) {\n    let typeName = any.type_url;\n    const slashIdx = typeName.indexOf('/');\n    if (slashIdx !== -1) {\n      typeName = typeName.slice(slashIdx + 1);\n    }\n    const type = Protobuf.SvPb.lookup(typeName);\n    if (!type) {\n      logger.error({ type: any.type_url }, 'Received message with unknown payload type');\n      return;\n    }\n    return type.decode(any.value);\n  }\n\n  serializeEnvelope(envelope) {\n    const buf = Protobuf.SvPenv.Envelope.encode(envelope).finish();\n    const raw = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n    return raw;\n  }\n}\n","export default __webpack_public_path__ + \"static/media/plus.72585b6a.svg\";","import logger from './logger';\nexport const forceDownload = (data, fileName) => {\n  if (!data) {\n    logger.info('forceDownload expects data but did not receive');\n    return;\n  }\n  const link = document.createElement('a');\n  link.download = fileName;\n  link.href = data;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n","import { ReactElement, useRef } from 'react';\nimport { createPortal } from 'react-dom';\n\nconst RootPortal = ({ children }: { children: ReactElement }) => {\n  const rootRef = useRef(document.getElementById('root'));\n\n  if (!rootRef.current) {\n    return <>{children}</>;\n  }\n  return createPortal(children, rootRef.current);\n};\n\nexport default RootPortal;\n","import { ReactNode } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { FormattedMessage } from 'react-intl';\nimport Dialog from '../Dialog';\nimport RootPortal from '../portals/RootPortal';\n\nimport './style.scss';\n\ninterface ConfirmDialogProps {\n  onClose: (confirmed: boolean) => void;\n  open: boolean;\n  title?: ReactNode;\n  message?: ReactNode;\n}\n\nconst ConfirmDialog = ({ onClose, open, title, message }: ConfirmDialogProps) => {\n  return (\n    <RootPortal>\n      <Dialog title={title || ''} onClose={() => onClose(false)} open={open}>\n        <div className=\"message-wrapper\">{message}</div>\n        <div className=\"button-wrapper\">\n          <Button color=\"primary\" onClick={() => onClose(true)}>\n            Okay\n          </Button>\n          <Button color=\"primary\" onClick={() => onClose(false)}>\n            <FormattedMessage id=\"cancel\" />\n          </Button>\n        </div>\n      </Dialog>\n    </RootPortal>\n  );\n};\n\nexport default ConfirmDialog;\n","import { parse } from 'url';\n\nfunction getDefaultWebsocketUrl() {\n  const { host, protocol } = window.location;\n  const wsProtocol = protocol === 'https:' ? 'wss:' : 'ws:';\n  return `${wsProtocol}//${host}`;\n}\n\nfunction getEndpoint(url) {\n  const parsedUrl = url ? parse(url) : window.location;\n  const protocol = parsedUrl.protocol.replace('ws', 'http');\n  return `${protocol}//${parsedUrl.host}`;\n}\n\nconst env = {\n  authEndpoint: getEndpoint(process.env.REACT_APP_WEBSOCKET_SERVER_URL),\n  websocketServerUrl: process.env.REACT_APP_WEBSOCKET_SERVER_URL || getDefaultWebsocketUrl(),\n  enableAutoSave: false,\n};\n\nexport default env;\n","export function replacerMapToJson(key, value) {\n  const originalObject = this[key];\n  if (originalObject instanceof Map) {\n    return {\n      dataType: 'Map',\n      value: [...originalObject],\n    };\n  } else {\n    return value;\n  }\n}\n\nexport function reviverJsonToMap(key, value) {\n  if (typeof value === 'object' && value !== null) {\n    if (value.dataType === 'Map') {\n      return new Map(value.value);\n    }\n  }\n  return value;\n}\n","export const chunkSubstr = (str, size) => {\n  const numChunks = Math.ceil(str.length / size);\n  const chunks = new Array(numChunks);\n\n  for (let i = 0, o = 0; i < numChunks; ++i, o += size) {\n    chunks[i] = str.substr(o, size);\n  }\n\n  return chunks;\n};\n","import { compressToUTF16, decompressFromUTF16 } from 'async-lz-string';\nimport { reviverJsonToMap, replacerMapToJson } from '../utils/jsonMapper';\nimport {\n  CONFIG_INFO,\n  CONFIGURATION_CHUNK_TEMPLATE,\n  CONFIGURATION_CHUNK_LIST,\n} from '../utils/localStorage';\nimport logger from '../utils/logger';\nimport { isObjectValid } from '../utils/objectValidator';\nimport { chunkSubstr } from '../utils/stringChunker';\nimport Protobuf from './Protobuf';\n\nconst extractConfigName = (filename) => {\n  if (!filename) {\n    return '';\n  }\n  const slashIdx = filename.lastIndexOf('\\\\');\n  if (slashIdx !== -1) {\n    filename = filename.substr(slashIdx + 1);\n  }\n  const dotIdx = filename.lastIndexOf('.');\n  if (dotIdx !== -1) {\n    filename = filename.substr(0, dotIdx);\n  }\n  return filename;\n};\n\nconst getConfigName = async (protobuf) => {\n  const request = Protobuf.SvPb.GetConfigurationInfoRequest.create();\n  const { fileName } = await protobuf.request(request);\n  return extractConfigName(fileName);\n};\n\nconst getInspections = async (protobuf) => {\n  try {\n    const inspectionsReq = Protobuf.SvPb.GetInspectionsRequest.create({});\n    const inspectionsRes = await protobuf.request(inspectionsReq);\n    return (inspectionsRes.inspections || []).map((inspection) => ({\n      id: inspection.id,\n      name: inspection.name,\n    }));\n  } catch (e) {\n    // ignore error. will fall back to empty inspection name list.\n    logger.error('Error while fetching inspection name list:', e);\n    return [];\n  }\n};\n\nconst getInspectionIds = (inspections) => {\n  return (inspections || []).map((inspection) => inspection.id);\n};\n\nconst getInspectionNames = (inspections) => {\n  return (inspections || []).map((inspection) => inspection.name);\n};\n\n// objectIDIndex has the format:\n//   {#123}\n// and sometimes also an index at the end:\n//   {#123}[10]\n// or this for empty arrays\n//   {#123}[ ]\n// except of the index at the end, it is a normal id\nconst parseObjectIdIndex = (str) => {\n  if (!str.startsWith('{#')) {\n    return;\n  }\n  const endIdx = str.indexOf('}');\n  if (endIdx < 0) {\n    return;\n  }\n  // TODO parse array index\n  str = str.substr(2, endIdx);\n  return parseInt(str, 10);\n};\n\nconst cleanObjectSelectorNodeRecursively = (node) => {\n  const { name, type, location, objectIDIndex, children, selected } = node;\n  const cleanedChildren = (children || []).map(cleanObjectSelectorNodeRecursively);\n  const id = (objectIDIndex && parseObjectIdIndex(objectIDIndex)) || null;\n  return {\n    id,\n    name,\n    type,\n    location,\n    selected,\n    children: cleanedChildren,\n  };\n};\n\nconst getIdNameMappingForInspection = async (protobuf, inspectionId, inspectionName) => {\n  const req = Protobuf.SvPb.GetObjectSelectorItemsRequest.create({\n    areas: [Protobuf.SvPb.SearchArea.toolsetItems],\n    inspectionID: inspectionId,\n    instanceID: 0, // InvalidObjectId\n    attribute: Protobuf.SvPb.ObjectAttributes.viewable,\n    wholeArray: true,\n    type: Protobuf.SvPb.ObjectSelectorType.allValueObjects,\n    attributesAllowed: 1,\n  });\n  const res = await protobuf.request(req);\n  if (!res.tree) {\n    logger.error('GetObjectSelectorItemsRequest response does not contain a tree');\n    return null;\n  }\n\n  const tree = cleanObjectSelectorNodeRecursively(res.tree);\n\n  const entries = new Map();\n  const queue = (tree && tree.children && tree.children.slice(0)) || [];\n  while (queue.length > 0) {\n    const head = queue.shift();\n    const { id, name, type, location, children } = head;\n    if (id) {\n      entries.set(id, {\n        id,\n        name,\n        type,\n        location,\n        fullLocation: 'Inspections.' + inspectionName + '.' + location,\n      });\n    }\n    if (children && children.length) {\n      for (let i = 0; i < children.length; ++i) {\n        queue.push(children[i]);\n      }\n    }\n  }\n\n  return entries;\n};\n\nconst getObjectSelectorItemsRequest = async (protobuf, inspectionId, requestParameters) => {\n  const req = Protobuf.SvPb.GetObjectSelectorItemsRequest.create(requestParameters);\n  let res;\n  try {\n    res = await protobuf.request(req);\n  } catch (error) {\n    logger.error(error);\n    return null;\n  }\n\n  if (!res.tree) {\n    logger.error('GetObjectSelectorItemsRequest response does not contain a tree');\n    return null;\n  }\n\n  const tree = cleanObjectSelectorNodeRecursively(res.tree);\n  return { tree };\n};\n\nconst getObjectSelectorItemsForInspection = async (protobuf, inspectionId) => {\n  return getObjectSelectorItemsRequest(protobuf, inspectionId, {\n    areas: [Protobuf.SvPb.SearchArea.toolsetItems],\n    inspectionID: inspectionId,\n    instanceID: 0, // InvalidObjectId\n    attribute: Protobuf.SvPb.ObjectAttributes.viewable,\n    wholeArray: true,\n    type: Protobuf.SvPb.ObjectSelectorType.allValueObjects,\n    attributesAllowed: 1,\n  });\n};\n\nconst getRemotelySettableObjectSelectorItemsForInspection = async (protobuf, inspectionId) => {\n  return getObjectSelectorItemsRequest(protobuf, inspectionId, {\n    areas: [Protobuf.SvPb.SearchArea.toolsetItems],\n    inspectionID: inspectionId,\n    instanceID: 0, // InvalidObjectId\n    attribute: Protobuf.SvPb.ObjectAttributes.remotelySettable,\n    wholeArray: true,\n    type: Protobuf.SvPb.ObjectSelectorType.allValueObjects,\n    attributesAllowed: 1,\n  });\n};\n\nconst getObjectSelectorImagesForInspection = async (protobuf, inspectionId) => {\n  return getObjectSelectorItemsRequest(protobuf, inspectionId, {\n    areas: [Protobuf.SvPb.SearchArea.toolsetItems],\n    inspectionID: inspectionId,\n    type: Protobuf.SvPb.ObjectSelectorType.allImageObjects,\n    attribute: Protobuf.SvPb.ObjectAttributes.archivableImage,\n    attributesAllowed: 1,\n  });\n};\n\nconst getVersion = async (protobuf, requestClass) => {\n  const request = requestClass.create();\n  const response = await protobuf.request(request);\n  if (!response.version) {\n    logger.error(`Error while reading version via ${requestClass.name}`);\n    return 'Unknown Version';\n  }\n  return response.version;\n};\n\nconst getPerInspection = async (protobuf, inspectionIds, inspectionNames, fn) => {\n  const itemsByInspectionId = new Map();\n  for (let i = 0; i < inspectionIds.length; ++i) {\n    const inspectionId = inspectionIds[i];\n    const inspectionName = inspectionNames[i];\n    const item = await fn(protobuf, inspectionId, inspectionName);\n    if (item) {\n      itemsByInspectionId.set(inspectionId, item);\n    }\n  }\n  return itemsByInspectionId;\n};\n\nconst getConfigurationTree = async (protobuf) => {\n  const request = Protobuf.SvPb.GetConfigurationTreeRequest.create();\n  const response = await protobuf.request(request);\n  if (!response || !response.tree) {\n    logger.error('Cannot get config tree');\n    return false;\n  }\n  return response;\n};\n\nconst mapInspectionIdtoToolset = async (protobuf) => {\n  const inspectionToolsetMappings = new Map();\n\n  const configurationTree = await getConfigurationTree(protobuf);\n  if (!isObjectValid(() => configurationTree.tree.children)) {\n    logger.error('configTree is not valid');\n    return inspectionToolsetMappings;\n  }\n\n  await Promise.all(\n    configurationTree.tree.children.map(async (inspection) => {\n      const inspectionId = inspection.objectID;\n      if (!inspectionId) {\n        logger.error(`Inspection without valid id: ${inspectionId}`);\n        return;\n      }\n\n      let toolSetId = 0;\n      try {\n        toolSetId = await getToolSetId(protobuf, inspectionId, inspection.name);\n      } catch (e) {\n        logger.error(`Could not load tool set id for ${inspection.name} (${inspectionId})`);\n        return;\n      }\n\n      inspectionToolsetMappings.set(inspectionId, { ...inspection, toolSetId });\n    }),\n  );\n\n  return inspectionToolsetMappings;\n};\n\nconst getToolSetId = async (protobuf, inspectionId, inspectionName) => {\n  const request = Protobuf.SvPb.InspectionCmdRequest.create({\n    inspectionID: inspectionId || undefined,\n    getObjectIdRequest: {\n      name: `${inspectionName}.Tool Set`,\n    },\n  });\n\n  try {\n    const response = await protobuf.request(request);\n    return response?.getObjectIdResponse?.objectId;\n  } catch (error) {\n    logger.error(error);\n  }\n};\nconst getGlobalConstants = async (protobuf, inspectionIds) => {\n  const constants = [];\n  if (!inspectionIds || inspectionIds.length === 0) {\n    return constants;\n  }\n  const reqObj = {\n    areas: [Protobuf.SvPb.SearchArea.globalConstantItems],\n    inspectionID: inspectionIds[0],\n    type: Protobuf.SvPb.ObjectSelectorType.allValueObjects,\n    attribute: Protobuf.SvPb.ObjectAttributes.viewable,\n    attributesAllowed: 1,\n  };\n\n  const req = Protobuf.SvPb.GetObjectSelectorItemsRequest.create(reqObj);\n  const res = await protobuf.request(req);\n\n  (res?.tree?.children || []).forEach((childLevel1) => {\n    if (childLevel1.location === 'Global') {\n      (childLevel1.children || []).forEach((childLevel2) => {\n        constants.push(childLevel2.location);\n      });\n    }\n  });\n\n  return constants;\n};\nexport default class Configuration {\n  static async loadFromCache() {\n    try {\n      let configString = '';\n      const chunksString = localStorage.getItem(CONFIGURATION_CHUNK_LIST);\n      const chunkList = chunksString.split(',');\n\n      configString = chunkList.map((key) => localStorage.getItem(key)).join();\n      const decompressedConfig = await decompressFromUTF16(configString);\n      const config = JSON.parse(decompressedConfig, reviverJsonToMap);\n\n      return new Configuration({\n        ...config,\n      });\n    } catch (err) {\n      logger.error({ err }, 'Error loading configuration');\n      return null;\n    }\n  }\n\n  static async saveToCache(configuration, configInfo) {\n    const stringifiedConfig = await compressToUTF16(\n      JSON.stringify(configuration, replacerMapToJson),\n    );\n    const configChunks = chunkSubstr(stringifiedConfig, 1000000); // 1m chars = 1MB chunks\n    let configChunkNames = [];\n\n    for (let i = 0; i < configChunks.length; i++) {\n      const chunk = configChunks[i];\n      const chunkName = `${CONFIGURATION_CHUNK_TEMPLATE}${i}`;\n      localStorage.setItem(chunkName, chunk);\n      configChunkNames.push(chunkName);\n    }\n\n    localStorage.setItem(CONFIGURATION_CHUNK_LIST, configChunkNames.join(','));\n    localStorage.setItem(CONFIG_INFO, JSON.stringify(configInfo));\n  }\n\n  static extractConfigNameFromFileName(filename) {\n    return extractConfigName(filename);\n  }\n\n  async discoverInspectionsWithConfigName(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    try {\n      const promises = await Promise.all([getConfigName(protobuf), getInspections(protobuf)]);\n\n      const [configName, inspections] = promises;\n\n      this.name = configName;\n      this.inspections = inspections;\n      this.inspectionIds = getInspectionIds(inspections);\n      this.inspectionNames = getInspectionNames(inspections);\n    } catch (err) {\n      logger.error({ err }, 'Error while discovering configuration');\n      return;\n    }\n  }\n\n  async discoverPartsInBackground(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    try {\n      const promises = await Promise.all([\n        getVersion(protobuf, Protobuf.SvPb.GetSVObserverVersionRequest),\n        getVersion(protobuf, Protobuf.SvPb.GetGatewayVersionRequest),\n        getVersion(protobuf, Protobuf.SvPb.GetWebAppVersionRequest),\n        getPerInspection(\n          protobuf,\n          this.inspectionIds,\n          this.inspectionNames,\n          getIdNameMappingForInspection,\n        ),\n        getPerInspection(\n          protobuf,\n          this.inspectionIds,\n          this.inspectionNames,\n          getObjectSelectorItemsForInspection,\n        ),\n        getPerInspection(\n          protobuf,\n          this.inspectionIds,\n          this.inspectionNames,\n          getRemotelySettableObjectSelectorItemsForInspection,\n        ),\n        getPerInspection(\n          protobuf,\n          this.inspectionIds,\n          this.inspectionNames,\n          getObjectSelectorImagesForInspection,\n        ),\n        mapInspectionIdtoToolset(protobuf),\n        getGlobalConstants(protobuf, this.inspectionIds),\n      ]);\n      const [\n        svObserverVersion,\n        gatewayVersion,\n        webAppVersion,\n        idNameMappings,\n        objectSelectorItems,\n        remotelySettableObjectSelectorItems,\n        objectSelectorImages,\n        inspectionToolsetMappings,\n        globalConstants,\n      ] = promises;\n\n      this.versions = { svObserverVersion, gatewayVersion, webAppVersion };\n      this.idNameMappings = idNameMappings;\n      this.objectSelectorItems = objectSelectorItems;\n      this.remotelySettableObjectSelectorItems = remotelySettableObjectSelectorItems;\n      this.objectSelectorImages = objectSelectorImages;\n      this.inspectionToolsetMappings = inspectionToolsetMappings;\n      this.globalConstants = globalConstants;\n    } catch (err) {\n      logger.error({ err }, 'Error while discovering configuration');\n      return;\n    }\n  }\n\n  constructor(config) {\n    this.name = '';\n    this.inspections = [];\n    this.inspectionIds = [];\n    this.inspectionNames = [];\n    this.idNameMappings = new Map();\n    this.objectSelectorItems = new Map();\n    this.remotelySettableObjectSelectorItems = new Map();\n    this.objectSelectorImages = new Map();\n    this.versions = {};\n    this.inspectionToolsetMappings = new Map();\n    this.globalConstants = [];\n\n    if (Object.keys(config).length !== 0) {\n      // copy all provided fields into this.\n      // this allows treating the configuration instance like a\n      // normal json object, but with additional helper functions.\n      Object.assign(this, config);\n    }\n  }\n\n  getSvObserverVersion() {\n    return this.versions && this.versions.svObserverVersion;\n  }\n\n  getGatewayVersion() {\n    return this.versions && this.versions.gatewayVersion;\n  }\n\n  getWebAppVersion() {\n    return this.versions && this.versions.webAppVersion;\n  }\n\n  getInspections() {\n    return this.inspections;\n  }\n\n  getInspectionName(inspectionId) {\n    const inspection = (this.inspections || []).find((i) => i.id === inspectionId);\n    return inspection && inspection.name;\n  }\n\n  getValueNameForId(inspectionId, id) {\n    if (typeof inspectionId === 'string') {\n      inspectionId = parseInt(inspectionId, 10);\n    }\n    const mappings = this.idNameMappings.get(inspectionId);\n    if (mappings) {\n      if (typeof id === 'string') {\n        id = parseInt(id, 10);\n      }\n      const mapping = mappings.get(id);\n      if (mapping) {\n        return mapping.fullLocation;\n      }\n    }\n    return null;\n  }\n\n  async setIdNameMappings(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    if (\n      this.idNameMappings.size === 0 &&\n      this.inspectionIds.length !== 0 &&\n      this.inspectionNames.length !== 0\n    ) {\n      const mappings = await getPerInspection(\n        protobuf,\n        this.inspectionIds,\n        this.inspectionNames,\n        getIdNameMappingForInspection,\n      );\n      this.idNameMappings = mappings;\n    } else {\n      logger.warn('setIdNameMappings: id name mappings already set');\n    }\n  }\n\n  getObjectSelectorItemsForInspection(inspectionId) {\n    return this.objectSelectorItems.get(inspectionId);\n  }\n\n  async setObjectSelectorItems(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    if (\n      this.objectSelectorItems.size === 0 &&\n      this.inspectionIds.length !== 0 &&\n      this.inspectionNames.length !== 0\n    ) {\n      const objectSelectorItems = await getPerInspection(\n        protobuf,\n        this.inspectionIds,\n        this.inspectionNames,\n        getObjectSelectorItemsForInspection,\n      );\n      this.objectSelectorItems = objectSelectorItems;\n    } else {\n      logger.warn('setObjectSelectorItems: object selector items already set');\n    }\n  }\n\n  getRemotelySettableObjectSelectorItemsForInspection(inspectionId) {\n    return this.remotelySettableObjectSelectorItems.get(inspectionId);\n  }\n\n  getObjectSelectorImagesForInspection(inspectionId) {\n    return this.objectSelectorImages.get(inspectionId);\n  }\n\n  async setObjectSelectorImages(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    if (\n      this.objectSelectorImages.size === 0 &&\n      this.inspectionIds.length !== 0 &&\n      this.inspectionNames.length !== 0\n    ) {\n      const objectSelectorImages = await getPerInspection(\n        protobuf,\n        this.inspectionIds,\n        this.inspectionNames,\n        getObjectSelectorImagesForInspection,\n      );\n      this.objectSelectorImages = objectSelectorImages;\n    } else {\n      logger.warn('setObjectSelectorImages: object selector images already set');\n    }\n  }\n\n  async setInspectionIdToToolsetMappings(protobuf) {\n    if (this.inspectionToolsetMappings.size === 0) {\n      this.resetInspectionIdToToolsetMappings(protobuf);\n    } else {\n      logger.warn('setInspectionIdToToolsetMappings: mappings already done');\n    }\n  }\n\n  async resetInspectionIdToToolsetMappings(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    const mappings = await mapInspectionIdtoToolset(protobuf);\n    this.inspectionToolsetMappings = mappings;\n  }\n\n  async updateInspectionIdToToolsetMappings(protobuf, inspectionId) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    const configurationTree = await getConfigurationTree(protobuf);\n    if (!isObjectValid(() => configurationTree.tree.children)) {\n      logger.error('configTree is not valid');\n      return;\n    }\n\n    for (const inspection of configurationTree.tree.children) {\n      const id = inspection.objectID;\n      if (id === inspectionId) {\n        let toolSetId = 0;\n        try {\n          toolSetId = await getToolSetId(protobuf, id, inspection.name);\n        } catch (e) {\n          logger.error(`Could not load tool set id for ${inspection.name} (${id})`);\n          return;\n        }\n\n        this.inspectionToolsetMappings.set(inspectionId, { ...inspection, toolSetId });\n        return;\n      }\n    }\n  }\n\n  // Currently filters array data from values\n  // TODO: array data should be shown in tree, but id must be changed (all have same id atm)\n  filterArrayValuesFromTree = (tree) => {\n    let stack = [],\n      node,\n      ii;\n    stack.push(tree);\n    while (stack.length > 0) {\n      node = stack.pop();\n      if (!node?.id && node?.children?.length) {\n        let firstChildId = '';\n        for (ii = 0; ii < node.children.length; ii += 1) {\n          if (firstChildId === node.children[ii].id) {\n            node.children = [];\n            node.id = firstChildId;\n            break;\n          }\n          if (node.children[ii].id) {\n            firstChildId = node.children[ii].id;\n          }\n        }\n        for (ii = 0; ii < node.children.length; ii += 1) {\n          stack.push(node.children[ii]);\n        }\n      }\n    }\n    return tree;\n  };\n}\n","export default __webpack_public_path__ + \"static/media/info.6a606506.svg\";","export default __webpack_public_path__ + \"static/media/overlay-list.d218d7a4.svg\";","export default __webpack_public_path__ + \"static/media/close.f005b782.svg\";","import Protobuf from '../protobuf/Protobuf';\n\nexport const flattenProtobuf = (oldObject: Record<string, any>) => {\n  const permissions = new Set<string>();\n  flattenProtobufRec(oldObject, permissions, '');\n  return permissions;\n};\n\nconst flattenProtobufRec = (\n  currentObject: Record<string, any>,\n  permissions: Set<string>,\n  parentPath: string,\n) => {\n  for (const key in currentObject.nested) {\n    const value = currentObject.nested[key];\n    const currKey = key.toLowerCase();\n    const currPath = parentPath ? `${parentPath}.${currKey}` : currKey;\n    if (!value.nested && value.fields) {\n      if (currPath === 'webapp.view') {\n        const viewTypeProtobuf = Protobuf.SvPb.lookup('ViewType');\n        for (let i = 0; i < Object.keys(viewTypeProtobuf.values).length; i++) {\n          const viewPath = `${currPath}[type=${getViewName(i)}]`;\n          addFieldValues(permissions, viewPath, value.fields);\n        }\n      } else {\n        addFieldValues(permissions, currPath, value.fields);\n      }\n    } else {\n      flattenProtobufRec(value, permissions, currPath);\n    }\n  }\n};\n\nconst addFieldValues = (permissions: Set<string>, path: string, fields: Record<string, any>) => {\n  Object.keys(fields).forEach((key) => {\n    const field = fields[key];\n    if (field.type === 'bool') {\n      const name = field.name.toLowerCase();\n      permissions.add(`${path}.${name}`);\n    }\n  });\n};\n\nexport const flattenPermissionsRec = (\n  currentObject: Record<string, any>,\n  permissions: Set<string>,\n  parentPath: string,\n) => {\n  for (const key in currentObject) {\n    const value = currentObject[key];\n    if (key.indexOf('$') !== -1) {\n      continue;\n    }\n    const currPath = parentPath ? `${parentPath}.${key}` : key;\n    if (Array.isArray(value)) {\n      if (currPath === 'webapp.view') {\n        for (let i = 0; i < value.length; ++i) {\n          const entry = value[i];\n          const viewPath = `${currPath}[type=${getViewName(entry.type)}]`;\n          flattenPermissionsRec(entry, permissions, viewPath);\n        }\n      }\n    } else if (typeof value === 'object') {\n      flattenPermissionsRec(value, permissions, currPath);\n    } else if (typeof value === 'boolean' && value) {\n      permissions.add(currPath);\n    } else {\n      //boolean = false\n      //another type, p.e. number\n    }\n  }\n};\n\nconst createObjectFromFlattenedPermissions = (a: string[], obj: Record<string, any>, v: string) => {\n  if (!a.length) {\n    return;\n  }\n  const k = a.shift() as string;\n\n  if (a.length > 0) {\n    if (k.startsWith('view[')) {\n      const type = getViewId(k.substring(k.indexOf('[type=') + 6, k.indexOf(']')));\n\n      if (!obj.view) {\n        obj.view = [];\n      }\n      const index = obj.view.findIndex((view: any) => view.type === type);\n      if (index !== -1) {\n        obj.view[index] = { ...obj.view[index], [a[0]]: true };\n      } else {\n        obj.view.push({ type, [a[0]]: true });\n      }\n    } else {\n      if (Object(obj[k]) !== obj[k]) {\n        obj[k] = {};\n      }\n\n      createObjectFromFlattenedPermissions(a, obj[k], v);\n    }\n  } else {\n    obj[k] = true;\n  }\n};\n\nexport const getGroupPermissionsFromFlattenedPermissions = (flattenedPermissions: any[]) => {\n  const result: { name: number; permissions: Record<string, any> }[] = [];\n  flattenedPermissions.forEach((groupEntry, name) => {\n    const permissionForUser: Record<string, any> = {};\n    groupEntry.groupPermissions.forEach((permission: string) => {\n      createObjectFromFlattenedPermissions(\n        permission.split('.'),\n        permissionForUser,\n        permissionForUser[permission],\n      );\n    });\n    result.push({\n      name,\n      permissions: permissionForUser,\n    });\n  });\n\n  return result;\n};\n\nconst getViewName = (viewType: number) => {\n  switch (viewType) {\n    case 0:\n      return 'AnyView';\n    case 1:\n      return 'ImageView';\n    case 2:\n      return 'ListView';\n    case 3:\n      return 'ImageStripView';\n    case 4:\n      return 'ParameterView';\n    case 5:\n      return 'ToolSetView';\n    default:\n      return '';\n  }\n};\n\nconst getViewId = (viewType: string) => {\n  switch (viewType) {\n    case 'AnyView':\n      return 0;\n    case 'ImageView':\n      return 1;\n    case 'ListView':\n      return 2;\n    case 'ImageStripView':\n      return 3;\n    case 'ParameterView':\n      return 4;\n    case 'ToolSetView':\n      return 5;\n    default:\n      return 0;\n  }\n};\n\nexport const canSaveConfig = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.configuration.save') : false;\n};\n\nexport const canReadLogs = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.logs.read') : false;\n};\n\nexport const canAddViewSet = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.add') : false;\n};\n\nexport const canReadViewSet = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.read') : false;\n};\n\nexport const canEditViewSet = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.edit') : false;\n};\n\nexport const canDeleteViewSet = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.remove') : false;\n};\n\nexport const canAddImageView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadImageView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditImageView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteImageView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddListView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadListView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditListView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteListView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddImageStripView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadImageStripView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditImageStripView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteImageStripView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddParameterView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadParameterView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditParameterView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteParameterView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddToolSetView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadToolSetView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditToolSetView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteToolSetView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddInputToolView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=InputToolView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canEditInputToolView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=InputToolView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteInputToolView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=InputToolView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canReadSVOMode = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.mode.read') : false;\n};\n\nexport const canEditSVOMode = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.mode.edit') : false;\n};\n\nexport const canReadInspectionState = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.inspectionstate.read') : false;\n};\n\nexport const canEditInspectionState = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.inspectionstate.edit') : false;\n};\n\nexport const canReadValue = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.value.read') : false;\n};\n\nexport const canEditValue = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.value.edit') : false;\n};\n\nexport const canReadTool = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.read') : false;\n};\n\nexport const canEditTool = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.edit') : false;\n};\n\nexport const canAddTool = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.add') : false;\n};\n\nexport const canDeleteTool = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.remove') : false;\n};\n\nexport const canReadUserManagement = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('usermanagement.userpermissions.read') : false;\n};\n\nexport const canEditUserManagement = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('usermanagement.userpermissions.edit') : false;\n};\n\nexport const canReadSVOConfiguration = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.configuration.read') : false;\n};\n\nexport const canWriteSVOConfiguration = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.configuration.write') : false;\n};\n","export default __webpack_public_path__ + \"static/media/clear.1114cb53.svg\";","export default __webpack_public_path__ + \"static/media/save.a6a0528c.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\n\nimport Dialog from '../../components/Dialog';\nimport map from './viewMappings';\n\nclass HelpView extends Component {\n  render() {\n    const { onClose, open, focusedViewType, locale } = this.props;\n    let helpUrl;\n    switch (locale) {\n      case 'en':\n        helpUrl = `/help/en/SVOWebApp_WebHelp.htm#cshid=${map[focusedViewType]}`;\n        break;\n\n      case 'de':\n        helpUrl = `/help/de/SVOWebApp_WebHelp.htm#cshid=${map[focusedViewType]}`;\n        break;\n\n      default:\n        helpUrl = `/help/en/SVOWebApp_WebHelp.htm#cshid=${map[focusedViewType]}`;\n        break;\n    }\n    return (\n      <Dialog isFullscreen title={<FormattedMessage id=\"helpView\" />} onClose={onClose} open={open}>\n        <iframe\n          className=\"help-frame\"\n          title=\"help\"\n          style={{ width: '100%', height: '97%' }}\n          src={helpUrl}\n        />\n      </Dialog>\n    );\n  }\n}\n\nHelpView.defaultProps = {\n  open: false,\n  locale: 'en',\n};\n\nHelpView.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n  locale: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n  focusedViewType: state.app.focusedViewType,\n  locale: state.app.locale,\n});\n\nexport default connect(mapStateToProps)(HelpView);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\n\nconst Heading = ({ type, intlId }) =>\n  React.createElement(\n    type,\n    {\n      className: 'heading',\n    },\n    <FormattedMessage id={`${intlId}` || 'none'} />,\n  );\n\nHeading.defaultProps = {\n  intlId: 'none',\n};\n\nHeading.propTypes = {\n  type: PropTypes.string.isRequired,\n  intlId: PropTypes.string,\n};\n\nexport default Heading;\n","import { IMAGE_VIEW, PARAMETER_VIEW, LIST_VIEW } from '../ViewSetFactory';\n\nexport const PERMISSIONS = 'PERMISSIONS';\nexport const DEBUGGER = 'DEBUGGER';\n\nconst Views = {\n  PARAMETER_VIEW,\n  LIST_VIEW,\n  IMAGE_VIEW,\n  PERMISSIONS,\n  DEBUGGER,\n};\n\nexport default Views;\n","export default class ConfigurationLock {\r\n  constructor(lock) {\r\n    this.lockId = undefined;\r\n    this.takeoverId = undefined;\r\n    this.owner = undefined;\r\n    this.takeoverUser = undefined;\r\n    this.host = '';\r\n    this.lockDescription = '';\r\n    this.takeoverMessage = '';\r\n    this.status = 0;\r\n\r\n    // Workaround for checking if config lock is already owned by the same logged user in Proxy.js.\r\n    // In this file (Proxy.js) we don't have an access to redux state.app.user,\r\n    // but we know that it is the same logged user only when LockAcquiredNotification comes\r\n    // from SVOGateway. In result this member is set only in this one place\r\n    // and reset while releasing or passing the lock to other user.\r\n    this.lockedInSameAppInstance = false;\r\n\r\n    // Flags to control alert dialogs\r\n    this.isTakeoverAttempt = false;\r\n    this.configAlreadyLocked = false;\r\n    this.isWaitingForResponse = false;\r\n    this.ownerRejectedTakeover = false;\r\n\r\n    if (Object.keys(lock).length !== 0) {\r\n      Object.assign(this, lock);\r\n    }\r\n  }\r\n\r\n  isLocked() {\r\n    return this.status === 1;\r\n  }\r\n\r\n  isUnlocked() {\r\n    return this.status === 0;\r\n  }\r\n\r\n  isSameUserAsOwner(user) {\r\n    return user.username === this.owner;\r\n  }\r\n\r\n  isLockedBySameUser(user) {\r\n    return this.isLocked() && this.isSameUserAsOwner(user);\r\n  }\r\n\r\n  isLockedByOtherUser(user) {\r\n    return this.isLocked() && !this.isSameUserAsOwner(user);\r\n  }\r\n\r\n  isLockedInDifferentAppInstance() {\r\n    return this.isLocked() && !this.lockedInSameAppInstance;\r\n  }\r\n\r\n  isTakeoverAttemptFromOtherUser() {\r\n    return this.isTakeoverAttempt;\r\n  }\r\n\r\n  isConfigAlreadyLocked() {\r\n    return this.configAlreadyLocked;\r\n  }\r\n\r\n  isWaitingForTakeoverResponse() {\r\n    return this.isWaitingForResponse;\r\n  }\r\n\r\n  isOwnerRejectedTakeover() {\r\n    return this.ownerRejectedTakeover;\r\n  }\r\n\r\n  resetTakeoverAttempt() {\r\n    this.isTakeoverAttempt = false;\r\n  }\r\n\r\n  resetAlertDialogFlags() {\r\n    this.configAlreadyLocked = false;\r\n    this.ownerRejectedTakeover = false;\r\n  }\r\n\r\n  handleLockAcquiredNotification(notification) {\r\n    this.lockId = notification.lockId;\r\n    this.owner = notification.user;\r\n    this.host = notification.host;\r\n    this.lockDescription = notification.description;\r\n    this.status = 1; // Locked\r\n    this.lockedInSameAppInstance = true;\r\n\r\n    this.isWaitingForResponse = false;\r\n  }\r\n\r\n  handleLockTakeoverNotification(notification) {\r\n    this.takeoverId = notification.takeoverId;\r\n    this.takeoverMessage = notification.message;\r\n    this.takeoverUser = notification.user;\r\n\r\n    this.isTakeoverAttempt = true;\r\n  }\r\n\r\n  handleLockReleasedNotification() {\r\n    this.lockId = undefined;\r\n    this.owner = undefined;\r\n    this.host = '0.0.0.0';\r\n    this.lockDescription = '';\r\n    this.status = 0; // Unlocked\r\n  }\r\n\r\n  handleLockAlreadyLockedNotification(notification) {\r\n    this.lockId = notification.lockId;\r\n    this.owner = notification.user;\r\n    this.host = notification.host;\r\n    this.lockDescription = notification.description;\r\n    this.status = 1; // Locked\r\n\r\n    this.configAlreadyLocked = true;\r\n  }\r\n\r\n  handleLockTakeoverRejectedNotification() {\r\n    this.isWaitingForResponse = false;\r\n    this.ownerRejectedTakeover = true;\r\n  }\r\n\r\n  waitForTakeoverResponse() {\r\n    this.isWaitingForResponse = true;\r\n  }\r\n}\r\n","import axios from 'axios';\nimport jwtDecode from 'jwt-decode';\nimport pick from 'lodash/pick';\nimport env from '../utils/env';\nimport logger from '../utils/logger';\n\nexport const logIn = async (username, password) => {\n  const url = `${env.authEndpoint}/login`;\n  const loginRes = await axios.post(url, { username, password });\n  const { accessToken } = loginRes.data;\n  return await authenticate(accessToken);\n};\n\nexport const authenticate = async (accessToken) => {\n  const url = `${env.authEndpoint}/auth`;\n  const authRes = await axios.post(url, { accessToken });\n  const { authToken } = authRes.data;\n  // TODO verify the token signature\n  const claims = jwtDecode(authToken);\n  const user = pick(claims, ['email', 'fullname', 'username']);\n  return { authToken, user };\n};\n\nexport const logOut =\n  (notifyGateway = true) =>\n  async () => {\n    logger.removeProxy();\n    if (notifyGateway) {\n      const url = `${env.authEndpoint}/logout`;\n      try {\n        await axios.post(url, {});\n      } catch (err) {\n        logger.warn({ err }, 'Error while calling /logout');\n      }\n    }\n  };\n","export default __webpack_public_path__ + \"static/media/pause.ea3fe966.svg\";","export default __webpack_public_path__ + \"static/media/play.f6ca6855.svg\";","export const LOCK_ACQUISITION_REQUEST = 'lockAcquisitionRequest';\r\n","import { Key } from 'react';\nimport { useIntl } from 'react-intl';\nimport logger from '../../../utils/logger';\nimport IconButton from '../IconButton';\n\nimport './style.scss';\n\ninterface ToggleButtonProps {\n  id?: Key;\n  intlId?: string;\n  iconUrl: string;\n  enabled: boolean | any;\n  onClickHandler?: () => void;\n  showAlternative?: boolean;\n  intlIdAlternative?: string;\n  iconUrlAlternative?: string;\n  onClickHandlerAlternative?: () => void;\n}\n\nexport const ToggleButton = ({\n  id,\n  intlId,\n  iconUrl,\n  enabled,\n  onClickHandler,\n  intlIdAlternative,\n  iconUrlAlternative,\n  onClickHandlerAlternative,\n  showAlternative,\n}: ToggleButtonProps) => {\n  if (\n    !intlId ||\n    !iconUrl ||\n    !onClickHandler ||\n    (showAlternative && (!intlIdAlternative || !iconUrlAlternative || !onClickHandlerAlternative))\n  ) {\n    logger.error('ToggleButton component did not receive required parameters');\n  }\n\n  const intl = useIntl();\n\n  return showAlternative ? (\n    <IconButton\n      key={id}\n      tooltip={intl.messages[`${intlIdAlternative}` as never]}\n      onClick={() => {\n        onClickHandlerAlternative?.();\n      }}\n      iconUrl={iconUrlAlternative ?? ''}\n      enabled={enabled}\n    />\n  ) : (\n    <IconButton\n      key={intlId}\n      tooltip={intl.messages[`${intlId}` as never]}\n      onClick={() => onClickHandler?.()}\n      iconUrl={iconUrl}\n      enabled={enabled}\n    />\n  );\n};\n","export default __webpack_public_path__ + \"static/media/help.64b70362.svg\";","export default __webpack_public_path__ + \"static/media/download.c1bdaf13.svg\";","export default __webpack_public_path__ + \"static/media/show.6ac709c0.svg\";","export default __webpack_public_path__ + \"static/media/image.ab9e385a.svg\";","export default class Product {\n  constructor({ history, trigger, isReject }) {\n    this.history = history;\n    this.trigger = trigger;\n    this.isReject = isReject;\n    this.useCount = 0;\n    this.images = new Map();\n    this.values = new Map();\n  }\n\n  getImage(imageId) {\n    this.checkNotReleasedYet();\n    return this.images.get(imageId);\n  }\n\n  getImages(imageIds) {\n    this.checkNotReleasedYet();\n    return (imageIds || []).map((imageId) => this.images.get(imageId));\n  }\n\n  getValue(valueId) {\n    this.checkNotReleasedYet();\n    return this.values.get(valueId);\n  }\n\n  getValuesAsString(valueIds, fallbackValue = '<UNAVAILABLE>') {\n    this.checkNotReleasedYet();\n    return (valueIds || []).map((valueId) => {\n      let value = this.values.has(valueId) && this.values.get(valueId).value;\n\n      if (value === undefined) {\n        value = fallbackValue;\n      }\n      return {\n        id: valueId,\n        value: value.toString(),\n      };\n    });\n  }\n\n  buildUrl(b64Data, contentType = '', sliceSize = 512) {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\n\n      const byteNumbers = new Array(slice.length);\n      for (let i = 0; i < slice.length; i++) {\n        byteNumbers[i] = slice.charCodeAt(i);\n      }\n\n      const byteArray = new Uint8Array(byteNumbers);\n      byteArrays.push(byteArray);\n    }\n\n    const blob = new Blob(byteArrays, { type: contentType });\n    return URL.createObjectURL(blob);\n  }\n\n  async addData({ images, values }) {\n    this.checkNotReleasedYet();\n\n    const imagePromises = [];\n    images.forEach(({ id, image, overlays }) => {\n      if (!this.images.has(id) && image && image.rgbData) {\n        imagePromises.push(this.initImage(id, image, overlays));\n      }\n    });\n\n    values.forEach(({ id, value }) => {\n      if (!this.values.has(id) && value) {\n        const valueStr = this.getValueFromVariant(value);\n        this.values.set(id, {\n          id,\n          value: valueStr,\n        });\n      }\n    });\n\n    await Promise.all(imagePromises);\n  }\n\n  async initImage(id, image, overlays) {\n    const { domImage, url } = await this.buildImage(image);\n    const overlayImages = await this.initOverlayImages(overlays);\n    this.images.set(id, {\n      id,\n      image,\n      domImage,\n      overlays,\n      overlayImages,\n      url,\n    });\n  }\n\n  buildImage({ rgbData, type }) {\n    return new Promise((resolve, reject) => {\n      const arrayBufferView = new Uint8Array(rgbData);\n      const blob = new Blob([arrayBufferView], { type: type || 'image/bmp' });\n      const domURL = self.URL || self.webkitURL || self; // eslint-disable-line\n      const url = domURL.createObjectURL(blob);\n      const domImage = new Image();\n      domImage.onload = () => {\n        resolve({ domImage, url });\n      };\n      domImage.onerror = (e) => {\n        domURL.revokeObjectURL(url);\n        reject(e);\n      };\n      domImage.src = url;\n    });\n  }\n\n  initOverlayImages(overlaysDesc) {\n    const promises = [];\n    ((overlaysDesc && overlaysDesc.overlays) || []).forEach((overlay) => {\n      (overlay.shapeGroups || []).forEach((shapeGroup) => {\n        (shapeGroup.shapes || []).forEach((shape) => {\n          if (shape && shape.image && shape.image.image && shape.image.image.rgbData) {\n            promises.push(\n              this.buildImage(shape.image.image).then(({ domImage, url }) => {\n                shape.image.domImage = domImage;\n                shape.image.url = url;\n                return shape.image;\n              }),\n            );\n          }\n        });\n      });\n    });\n    return Promise.all(promises);\n  }\n\n  getValueFromVariant(v) {\n    if (!v) {\n      return undefined;\n    }\n    return v[v.data];\n  }\n\n  lock() {\n    this.useCount++;\n  }\n\n  release() {\n    this.history?.releaseProduct(this.trigger);\n  }\n\n  releaseImpl() {\n    if (this.useCount <= 0) {\n      throw new Error(`Invalid use count ${this.useCount} in Product::release()`);\n    }\n\n    this.useCount--;\n    if (this.useCount > 0) {\n      return false;\n    }\n\n    this.releaseImages();\n\n    this.images.clear();\n    this.values.clear();\n    this.history = null;\n    this.released = true;\n\n    return true;\n  }\n\n  releaseImages() {\n    this.images.forEach((image) => {\n      this.releaseImage(image);\n\n      image.overlayImages.forEach((overlayImage) => {\n        this.releaseImage(overlayImage);\n      });\n    });\n  }\n\n  releaseImage(image) {\n    if (image.domImage) {\n      image.domImage.onload = undefined;\n      image.domImage.onerror = undefined;\n      image.domImage.remove(); // explicitly remove the image from the DOM\n      image.domImage = null;\n    }\n\n    if (image.url) {\n      const domURL = self.URL || self.webkitURL || self; // eslint-disable-line\n      domURL.revokeObjectURL(image.url);\n    }\n  }\n\n  checkNotReleasedYet() {\n    if (this.released) {\n      throw new Error('Can not use Product after releasing it!');\n    }\n  }\n}\n","export default __webpack_public_path__ + \"static/media/logo.a5b69c2a.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nconst Logo = ({ src, title }) => (\n  <div className=\"logo-wrapper\">\n    <img src={src} alt={title} />\n  </div>\n);\n\nLogo.propTypes = {\n  src: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n};\n\nexport default Logo;\n","import modes from '../utils/modes';\nimport Protobuf from './Protobuf';\n\nexport const mapProtobufDeviceModeToWebAppMode = (deviceMode) => {\n  switch (deviceMode) {\n    case Protobuf.SvPb.DeviceModeType.available:\n      return modes.unknownMode.id;\n    case Protobuf.SvPb.DeviceModeType.runMode:\n      return modes.runMode.id;\n    case Protobuf.SvPb.DeviceModeType.stopMode:\n      return modes.stopMode.id;\n    case Protobuf.SvPb.DeviceModeType.regressionMode:\n      return modes.regressionMode.id;\n    case Protobuf.SvPb.DeviceModeType.testMode:\n      return modes.testMode.id;\n    case Protobuf.SvPb.DeviceModeType.editMode:\n      return modes.editMode.id;\n    case Protobuf.SvPb.DeviceModeType.modeChanging:\n      return modes.unknownMode.id;\n    default:\n      throw new Error(`Unsupported device mode ${deviceMode}`);\n  }\n};\n\nexport const mapWebAppModeToProtobufDeviceMode = (mode) => {\n  switch (mode) {\n    case modes.unknownMode.id:\n      return Protobuf.SvPb.DeviceModeType.available;\n    case modes.runMode.id:\n      return Protobuf.SvPb.DeviceModeType.runMode;\n    case modes.stopMode.id:\n      return Protobuf.SvPb.DeviceModeType.stopMode;\n    case modes.regressionMode.id:\n      return Protobuf.SvPb.DeviceModeType.regressionMode;\n    case modes.testMode.id:\n      return Protobuf.SvPb.DeviceModeType.testMode;\n    case modes.editMode.id:\n      return Protobuf.SvPb.DeviceModeType.editMode;\n    default:\n      throw new Error(`Unsupported mode ${mode}`);\n  }\n};\n\nexport const mapLogLevelNameToProtobufLogSeverity = (levelName) => {\n  switch (levelName) {\n    case 'trace':\n      return Protobuf.SvPb.LogSeverity.trace;\n    case 'debug':\n      return Protobuf.SvPb.LogSeverity.debug;\n    case 'info':\n      return Protobuf.SvPb.LogSeverity.info;\n    case 'warn':\n      return Protobuf.SvPb.LogSeverity.warning;\n    case 'error':\n      return Protobuf.SvPb.LogSeverity.error;\n    default:\n      return Protobuf.SvPb.LogSeverity.error;\n  }\n};\n","import Tooltip from '@material-ui/core/Tooltip';\nimport './style.scss';\n\nexport interface IconButtonProps {\n  iconUrl: string;\n  onClick?: () => void;\n  tooltip?: string;\n  style?: React.CSSProperties;\n  enabled?: boolean;\n}\n\nconst IconButton = ({ iconUrl, onClick, tooltip, style = {}, enabled = true }: IconButtonProps) => (\n  <div\n    className=\"icon-button-wrapper\"\n    style={{\n      pointerEvents: enabled ? 'auto' : 'none',\n      opacity: enabled ? '1.0' : '0.3',\n    }}\n  >\n    <Tooltip title={tooltip ?? ''}>\n      <button\n        style={{\n          ...style,\n          backgroundImage: `url(${iconUrl})`,\n          backgroundPosition: 'center',\n          backgroundSize: '100% 100%',\n        }}\n        onClick={onClick}\n        className=\"icon-button\"\n      />\n    </Tooltip>\n  </div>\n);\n\nexport default IconButton;\n","export default __webpack_public_path__ + \"static/media/regression.f027695f.svg\";","export default __webpack_public_path__ + \"static/media/run.eb40f6de.svg\";","export default __webpack_public_path__ + \"static/media/stop.44c5645f.svg\";","export default __webpack_public_path__ + \"static/media/test.47d9c7ad.svg\";","import editIcon from '../assets/icons/edit.svg';\nimport unknownIcon from '../assets/icons/help.svg';\nimport regressionIcon from '../assets/icons/regression.svg';\nimport runIcon from '../assets/icons/run.svg';\nimport stopIcon from '../assets/icons/stop.svg';\nimport testIcon from '../assets/icons/test.svg';\n\nconst modes = {\n  unknownMode: {\n    id: 'UNKNOWN_MODE',\n    iconSrc: unknownIcon,\n    text: '',\n  },\n  runMode: {\n    id: 'RUN_MODE',\n    iconSrc: runIcon,\n    text: '',\n  },\n  stopMode: {\n    id: 'STOP_MODE',\n    iconSrc: stopIcon,\n    text: '',\n  },\n  regressionMode: {\n    id: 'REGRESSION_MODE',\n    iconSrc: regressionIcon,\n    text: '',\n  },\n  testMode: {\n    id: 'TEST_MODE',\n    iconSrc: testIcon,\n    text: '',\n  },\n  editMode: {\n    id: 'EDIT_MODE',\n    iconSrc: editIcon,\n    text: '',\n  },\n};\n\nexport default modes;\n","import React from 'react';\nimport './style.scss';\n\nconst Container = ({\n  children,\n  style,\n}: {\n  children: React.ReactNode;\n  style?: React.CSSProperties;\n}) => (\n  <div className=\"container\" style={style}>\n    {children}\n  </div>\n);\n\nexport default Container;\n","import Protobuf from '../protobuf/Protobuf';\nimport { addVariableValueShouldBeInTheRangeNotification } from '../redux/actions/index';\nimport modes from '../utils/modes';\nimport logger from './logger';\n\nconst MID_SHORT_SIZE = 20;\n\nexport const drawInspectionOverlays = ({\n  drawTarget,\n  zoomFactor,\n  overlays,\n  boundingCoordinates,\n  width,\n  height,\n  currentMode,\n}) => {\n  if (!overlays || overlays.length === 0) {\n    logger.error('drawInspectionOverlays expects overlays but did not receive');\n    return;\n  }\n  const targetContext = drawTarget.getContext('2d');\n  zoomFactor = zoomFactor || 1;\n  if (overlays && overlays.length > 0) {\n    targetContext.setLineDash([]);\n    overlays.forEach((overlay) => {\n      const colorInt = (overlay.color && overlay.color.value) || 0;\n      const colorString = getRgbaString(colorInt);\n      targetContext.fillStyle = colorString;\n      const fontSize = 10 / zoomFactor;\n      targetContext.lineWidth = 1 / zoomFactor;\n      targetContext.font = fontSize + 'px Arial';\n      targetContext.strokeStyle = colorString;\n\n      const boundingShape = overlay.boundingShape.shape;\n\n      switch (boundingShape) {\n        case Protobuf.SvPb.OverlayBoundingShape.fields.rect.name:\n          renderRectangleTool(\n            targetContext,\n            zoomFactor,\n            fontSize,\n            colorString,\n            overlay,\n            boundingCoordinates,\n            currentMode,\n          );\n          break;\n        case Protobuf.SvPb.OverlayBoundingShape.fields.slice.name:\n          renderSliceTool(targetContext, overlay, boundingCoordinates);\n          break;\n        case Protobuf.SvPb.OverlayBoundingShape.fields.perspective.name:\n          renderPerspectiveTool(\n            targetContext,\n            zoomFactor,\n            overlay,\n            boundingCoordinates,\n            width,\n            height,\n          );\n          break;\n        default:\n          logger.error('Unknown boundingShape received');\n          return;\n      }\n    });\n  }\n};\n\nconst renderRectangleTool = (\n  targetContext,\n  zoomFactor,\n  fontSize,\n  colorString,\n  overlay,\n  boundingCoordinates,\n  currentMode,\n) => {\n  const boundingBoxX = Math.abs(boundingCoordinates.minX) + overlay.boundingShape.rect.x.value || 0;\n  const boundingBoxY = Math.abs(boundingCoordinates.minY) + overlay.boundingShape.rect.y.value || 0;\n  const boundingBoxWidth = overlay.boundingShape.rect.w.value || 0;\n  const boundingBoxHeight = overlay.boundingShape.rect.h.value || 0;\n  const { displayBounding, shapeGroups, name: overlayTitle } = overlay;\n\n  const angle = overlay.boundingShape.rect.angle && overlay.boundingShape.rect.angle.value;\n\n  targetContext.fillText(overlayTitle, boundingBoxX, boundingBoxY - 10 / zoomFactor);\n\n  shapeGroups &&\n    shapeGroups.forEach((shapeGroup) => {\n      // Do not show detailLevel 2 OverlayShapes in run mode\n      if (shapeGroup.detailLevel === 2 && currentMode === modes.runMode.id) {\n        return;\n      }\n\n      shapeGroup.shapes.forEach((shape) => {\n        const shapeColor = shape.color && shape.color.value;\n        const shapeColorString = getRgbaString(shapeColor);\n        const { shape: shapeType } = shape;\n\n        const useRotation =\n          angle && angle > 0 && shapeType !== Protobuf.SvPb.OverlayShape.fields.arrow.name;\n\n        if (useRotation) {\n          rotateContextByAngleAroundPoint(targetContext, angle, boundingBoxX, boundingBoxY);\n        }\n\n        switch (shapeType) {\n          case Protobuf.SvPb.OverlayShape.fields.arrow.name:\n            {\n              const x1 = Math.abs(boundingCoordinates.minX) + shape.arrow.x1.value || 0;\n              const y1 = Math.abs(boundingCoordinates.minY) + shape.arrow.y1.value || 0;\n              const x2 = Math.abs(boundingCoordinates.minX) + shape.arrow.x2.value || 0;\n              const y2 = Math.abs(boundingCoordinates.minY) + shape.arrow.y2.value || 0;\n\n              const calcAngleDegrees = (x, y) => (Math.atan2(y, x) * 180) / Math.PI;\n\n              const angleBetweenP1andP2 = calcAngleDegrees(x2 - x1, y2 - y1);\n\n              targetContext.beginPath();\n              targetContext.strokeStyle = shapeColorString || colorString;\n\n              // line\n              targetContext.moveTo(x1, y1);\n              targetContext.lineTo(x2, y2);\n\n              // arrow\n              targetContext.moveTo(x2, y2);\n              // arrow length\n              const r = 15;\n              // calculate one side of arrow and convert to deg\n              const theta1 = (Math.PI * (angleBetweenP1andP2 + 135)) / 180.0;\n              targetContext.lineTo(x2 + r * Math.cos(theta1), y2 + r * Math.sin(theta1));\n\n              targetContext.moveTo(x2, y2);\n              // calculate another side of arrow and convert to deg\n              const theta2 = (Math.PI * (angleBetweenP1andP2 - 135)) / 180.0;\n              targetContext.lineTo(x2 + r * Math.cos(theta2), y2 + r * Math.sin(theta2));\n\n              targetContext.stroke();\n              targetContext.closePath();\n            }\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.rectArray.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n            shape.rectArray.rectArray.forEach((rect) => {\n              const rAngle = -rect.angle;\n              if (rAngle && rAngle < 0) {\n                rotateContextByAngleAroundPoint(\n                  targetContext,\n                  rAngle,\n                  boundingBoxX + rect.x,\n                  boundingBoxY + rect.y,\n                );\n              }\n              targetContext.rect(\n                boundingBoxX + rect.x || 0,\n                boundingBoxY + rect.y || 0,\n                rect.w || 0,\n                rect.h || 0,\n              );\n              if (rAngle && rAngle < 0) {\n                targetContext.restore();\n              }\n            });\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.graph.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n\n            if (shape.graph.x.length === shape.graph.y.length && shape.graph.x.length > 0) {\n              targetContext.moveTo(\n                boundingBoxX + (shape.graph.x[0] * boundingBoxWidth) / shape.graph.maxValueX,\n                boundingBoxY + (shape.graph.y[0] * boundingBoxHeight) / shape.graph.maxValueY,\n              );\n              for (let i = 0; i < shape.graph.x.length; i++) {\n                targetContext.lineTo(\n                  boundingBoxX + (shape.graph.x[i] * boundingBoxWidth) / shape.graph.maxValueX,\n                  boundingBoxY +\n                    boundingBoxHeight -\n                    (shape.graph.y[i] * boundingBoxHeight) / shape.graph.maxValueY,\n                ); //x\n              }\n            }\n\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.marker.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n\n            if (shape.marker.orientationType === 1) {\n              if (shape.marker.sizeType === 1) {\n                const strokeHeight = MID_SHORT_SIZE;\n                targetContext.moveTo(\n                  boundingBoxX + shape.marker.value.value,\n                  boundingBoxY + boundingBoxHeight / 2 - strokeHeight / 2,\n                );\n                targetContext.lineTo(\n                  boundingBoxX + shape.marker.value.value,\n                  boundingBoxY + boundingBoxHeight / 2 + strokeHeight / 2,\n                );\n              } else {\n                targetContext.moveTo(\n                  boundingBoxX +\n                    (shape.marker.value.value * boundingBoxWidth) / shape.marker.maxValue +\n                    1,\n                  boundingBoxY,\n                );\n                targetContext.lineTo(\n                  boundingBoxX +\n                    (shape.marker.value.value * boundingBoxWidth) / shape.marker.maxValue +\n                    1,\n                  boundingBoxY + boundingBoxHeight,\n                );\n              }\n            } else {\n              if (shape.marker.sizeType === 1) {\n                const strokeWidth = MID_SHORT_SIZE;\n                targetContext.moveTo(\n                  boundingBoxX + boundingBoxWidth / 2 - strokeWidth / 2,\n                  boundingBoxY + shape.marker.value.value,\n                );\n                targetContext.lineTo(\n                  boundingBoxX + boundingBoxWidth / 2 + strokeWidth / 2,\n                  boundingBoxY + shape.marker.value.value,\n                );\n              } else {\n                targetContext.moveTo(\n                  boundingBoxX,\n                  boundingBoxY +\n                    boundingBoxHeight -\n                    (shape.marker.value.value * boundingBoxHeight) / shape.marker.maxValue +\n                    1,\n                );\n                targetContext.lineTo(\n                  boundingBoxX + boundingBoxWidth,\n                  boundingBoxY +\n                    boundingBoxHeight -\n                    (shape.marker.value.value * boundingBoxHeight) / shape.marker.maxValue +\n                    1,\n                );\n              }\n            }\n\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.markers.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n\n            if (shape.markers.orientationType === 1) {\n              if (shape.markers.sizeType === 1) {\n                const strokeWidth = MID_SHORT_SIZE;\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(\n                    boundingBoxX + shape.markers.value[i],\n                    boundingBoxY + boundingBoxHeight / 2 - strokeWidth / 2,\n                  );\n                  targetContext.lineTo(\n                    boundingBoxX + shape.markers.value[i],\n                    boundingBoxY + boundingBoxHeight / 2 + strokeWidth / 2,\n                  );\n                }\n              } else {\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(boundingBoxX + shape.markers.value[i], boundingBoxY);\n                  targetContext.lineTo(\n                    boundingBoxX + shape.markers.value[i],\n                    boundingBoxY + boundingBoxHeight,\n                  );\n                }\n              }\n            } else {\n              if (shape.markers.sizeType === 1) {\n                const strokeHeight = MID_SHORT_SIZE;\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(\n                    boundingBoxX + boundingBoxWidth / 2 - strokeHeight / 2,\n                    boundingBoxY + shape.markers.value[i],\n                  );\n                  targetContext.lineTo(\n                    boundingBoxX + boundingBoxWidth / 2 + strokeHeight / 2,\n                    boundingBoxY + shape.markers.value[i],\n                  );\n                }\n              } else {\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(boundingBoxX, boundingBoxY + shape.markers.value[i]);\n                  targetContext.lineTo(\n                    boundingBoxX + boundingBoxWidth,\n                    boundingBoxY + shape.markers.value[i],\n                  );\n                }\n              }\n            }\n\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.blockMarker.name:\n            {\n              const colors = shape.blockMarker.colors;\n              const changePos = shape.blockMarker.changePos;\n              let currentPos = 0;\n\n              for (let i = 0; i <= changePos.length; i++) {\n                targetContext.beginPath();\n                targetContext.lineWidth = 10 / zoomFactor;\n                targetContext.strokeStyle = getRgbaString(colors[i % colors.length]);\n                targetContext.moveTo(\n                  boundingBoxX + currentPos,\n                  boundingBoxY + boundingBoxHeight / 2,\n                );\n\n                if (i < changePos.length) {\n                  targetContext.lineTo(\n                    boundingBoxX + changePos[i],\n                    boundingBoxY + boundingBoxHeight / 2,\n                  );\n                } else {\n                  targetContext.lineTo(\n                    boundingBoxX + boundingBoxWidth,\n                    boundingBoxY + boundingBoxHeight / 2,\n                  );\n                }\n\n                currentPos = changePos[i];\n                targetContext.stroke();\n                targetContext.closePath();\n                targetContext.lineWidth = 1 / zoomFactor;\n              }\n            }\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.image.name:\n            {\n              const { domImage, x, y, w, h } = shape.image;\n              if (domImage) {\n                // TODO incorporate boundingBoxWidth and boundingBoxHeight\n                targetContext.drawImage(\n                  domImage,\n                  boundingBoxX + ((x && x.value) || 0),\n                  boundingBoxY + ((y && y.value) || 0),\n                  (w && w.value) || 100, // TODO better fallback than 100!\n                  (h && h.value) || 100, // TODO better fallback than 100!\n                );\n              }\n            }\n            break;\n\n          default:\n            logger.warn('Received unknown overlay shape', shapeType);\n            break;\n        }\n        if (useRotation) {\n          targetContext.restore();\n        }\n      });\n    });\n\n  if (displayBounding) {\n    if (angle && angle > 0) {\n      rotateContextByAngleAroundPoint(targetContext, angle, boundingBoxX, boundingBoxY);\n    }\n\n    targetContext.save();\n    targetContext.beginPath();\n    targetContext.strokeStyle = colorString;\n    targetContext.rect(boundingBoxX, boundingBoxY, boundingBoxWidth, boundingBoxHeight);\n    targetContext.stroke();\n    targetContext.closePath();\n\n    if (angle && angle > 0) {\n      targetContext.restore();\n    }\n  }\n\n  targetContext.restore();\n  const maxOverlayTextX = boundingBoxX + targetContext.measureText(overlayTitle).width;\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    boundingBoxX,\n    boundingBoxY - fontSize,\n    Math.max(boundingBoxX + boundingBoxWidth, maxOverlayTextX),\n    boundingBoxY + boundingBoxHeight,\n  );\n};\n\nconst rotateContextByAngleAroundPoint = (targetContext, angle, x, y) => {\n  targetContext.save();\n  targetContext.translate(x, y);\n  targetContext.rotate((angle * Math.PI) / 180);\n  targetContext.translate(-x, -y);\n};\n\nconst renderSliceTool = (targetContext, overlay, boundingCoordinates) => {\n  const { name: overlayTitle } = overlay;\n\n  const centerX = Math.abs(boundingCoordinates.minX) + overlay.boundingShape.slice.centerX.value;\n  const centerY = Math.abs(boundingCoordinates.minY) + overlay.boundingShape.slice.centerY.value;\n  const innerRadius = overlay.boundingShape.slice.innerRadius.value;\n  const outerRadius = overlay.boundingShape.slice.outerRadius.value;\n  const startRadian = calculateRadiansFromAngle(overlay.boundingShape.slice.endAngle.value);\n  const endRadian = calculateRadiansFromAngle(overlay.boundingShape.slice.startAngle.value);\n\n  targetContext.fillText(overlayTitle, centerX - 20, centerY + 20);\n\n  targetContext.beginPath();\n\n  // Maximum a full circle\n  if (endRadian - startRadian <= 2 * Math.PI) {\n    targetContext.arc(centerX, centerY, innerRadius, startRadian, endRadian);\n    targetContext.lineTo(centerX, centerY);\n    targetContext.arc(centerX, centerY, outerRadius, startRadian, endRadian);\n    targetContext.lineTo(centerX, centerY);\n  } else {\n    targetContext.arc(centerX, centerY, innerRadius, startRadian, startRadian + 1.99 * Math.PI);\n    targetContext.arc(\n      centerX,\n      centerY,\n      innerRadius + 1,\n      startRadian + 1.99 * Math.PI,\n      startRadian + 2 * Math.PI,\n    );\n    targetContext.arc(\n      centerX,\n      centerY,\n      innerRadius + 2,\n      startRadian + 2 * Math.PI,\n      startRadian + 2.01 * Math.PI,\n    );\n    targetContext.arc(centerX, centerY, innerRadius + 3, startRadian + 2.01 * Math.PI, endRadian);\n    targetContext.lineTo(centerX, centerY);\n    targetContext.arc(centerX, centerY, outerRadius, startRadian, startRadian + 1.99 * Math.PI);\n    targetContext.arc(\n      centerX,\n      centerY,\n      outerRadius + 1,\n      startRadian + 1.99 * Math.PI,\n      startRadian + 2 * Math.PI,\n    );\n    targetContext.arc(\n      centerX,\n      centerY,\n      outerRadius + 2,\n      startRadian + 2 * Math.PI,\n      startRadian + 2.01 * Math.PI,\n    );\n    targetContext.arc(centerX, centerY, outerRadius + 3, startRadian + 2.01 * Math.PI, endRadian);\n    targetContext.lineTo(centerX, centerY);\n  }\n\n  targetContext.stroke();\n  targetContext.closePath();\n\n  const maxOverlayTextX = centerX - 20 + targetContext.measureText(overlayTitle).width;\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    centerX - outerRadius,\n    centerY - outerRadius,\n    Math.max(centerX + outerRadius, maxOverlayTextX),\n    centerY + outerRadius,\n  );\n};\n\nconst calculateRadiansFromAngle = (angle) => {\n  return ((360 - angle) * Math.PI) / 180;\n};\n\nconst renderPerspectiveTool = (\n  targetContext,\n  zoomFactor,\n  overlay,\n  boundingCoordinates,\n  width,\n  height,\n) => {\n  const { name: overlayTitle } = overlay;\n\n  const textWidth = targetContext.measureText(overlayTitle).width;\n\n  targetContext.fillText(overlayTitle, width / 2 - textWidth / 2, 50);\n\n  const boundingBoxX = Math.abs(boundingCoordinates.minX) || 0;\n  const boundingBoxY = Math.abs(boundingCoordinates.minY) || 0;\n  const boundingBoxWidth = width || 0;\n  const boundingBoxHeight = height || 0;\n  const offset =\n    overlay.boundingShape.perspective.offset && overlay.boundingShape.perspective.offset.value;\n  const orientation = overlay.boundingShape.perspective.orientation;\n\n  // Orientation x\n  if (orientation === 0) {\n    targetContext.moveTo(boundingBoxX, boundingBoxY + boundingBoxHeight / 2);\n    targetContext.lineTo(boundingBoxX + offset, boundingBoxY + 1 / zoomFactor);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth - offset, boundingBoxY + 1 / zoomFactor);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth, boundingBoxY + boundingBoxHeight / 2);\n    targetContext.lineTo(\n      boundingBoxX + boundingBoxWidth - offset,\n      boundingBoxY + boundingBoxHeight - 1 / zoomFactor,\n    );\n    targetContext.lineTo(boundingBoxX + offset, boundingBoxY + boundingBoxHeight - 1 / zoomFactor);\n    targetContext.lineTo(boundingBoxX, boundingBoxY + boundingBoxHeight / 2);\n  }\n\n  // Orientation y\n  if (orientation === 1) {\n    targetContext.moveTo(boundingBoxX + 1 / zoomFactor, boundingBoxY + offset);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth / 2, boundingBoxY);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth - 1 / zoomFactor, boundingBoxY + offset);\n    targetContext.lineTo(\n      boundingBoxX + boundingBoxWidth - 1 / zoomFactor,\n      boundingBoxY + boundingBoxHeight - offset,\n    );\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth / 2, boundingBoxY + boundingBoxHeight);\n    targetContext.lineTo(boundingBoxX + 1 / zoomFactor, boundingBoxY + boundingBoxHeight - offset);\n    targetContext.lineTo(boundingBoxX + 1 / zoomFactor, boundingBoxY + offset);\n  }\n\n  targetContext.stroke();\n  targetContext.closePath();\n};\n\nconst getRgbaString = (colorInt) => {\n  if (typeof colorInt !== 'number' || isNaN(colorInt)) {\n    logger.debug('Could not parse value into color.');\n    // fall back to pink when no valid rgba color value provided\n    return 'pink';\n  }\n  const red = colorInt & 0xff;\n  const green = (colorInt >> 8) & 0xff;\n  const blue = (colorInt >> 16) & 0xff;\n  const alpha = 1;\n  return `rgba(${red}, ${green}, ${blue}, ${alpha})`;\n};\n\nexport const setBoundingCoordinatesForCustomOverlays = ({\n  overlay,\n  product,\n  fontSize,\n  boundingCoordinates,\n  dispatch,\n}) => {\n  const coords = { x: 0, y: 0, width: 0, height: 0 };\n  setCustomOverlayCoordinates(product, overlay, coords, dispatch);\n  const textWidth = getTextWidth(overlay.label, fontSize);\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    coords.x,\n    coords.y - fontSize * 2,\n    Math.max(coords.x + coords.width, coords.x + textWidth),\n    coords.y + coords.height,\n  );\n};\n\nexport const setBoundingCoordinatesForInspectionOverlays = ({\n  overlay,\n  fontSize,\n  boundingCoordinates,\n}) => {\n  const coords = { x: 0, y: 0, width: 0, height: 0 };\n  setInspectionOverlayCoordinates(overlay, coords);\n  const textWidth = getTextWidth(overlay.name, fontSize);\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    coords.x,\n    coords.y - fontSize * 2,\n    Math.max(coords.x + coords.width, coords.x + textWidth),\n    coords.y + coords.height,\n  );\n};\n\nconst getTextWidth = (text, fontSize) => {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  ctx.font = fontSize + 'px Arial';\n  return ctx.measureText(text).width;\n};\n\nconst setCustomOverlayCoordinates = (product, overlay, coordinates, dispatch = () => void 0) => {\n  const offsetLeft =\n    Number(getValueById(product, overlay.offsetLeftVariable)) || overlay.offsetLeft;\n  const x = Number(getValueById(product, overlay.xVariable)) || overlay.x;\n  coordinates.x = x + offsetLeft;\n\n  const offsetTop = Number(getValueById(product, overlay.offsetTopVariable)) || overlay.offsetTop;\n  const y = Number(getValueById(product, overlay.yVariable)) || overlay.y;\n  coordinates.y = y + offsetTop;\n\n  coordinates.width = Number(getValueById(product, overlay.widthVariable)) || overlay.width;\n  coordinates.height = Number(getValueById(product, overlay.heightVariable)) || overlay.height;\n\n  // we need to wait here for the fallback values to initialize\n  if (\n    overlay.maxHeightFallback !== 0 &&\n    overlay.maxWidthFallback !== 0 &&\n    overlay.minHeightFallback !== 0 &&\n    overlay.minWidthFallback !== 0\n  ) {\n    if (coordinates.x < overlay.minWidthFallback) {\n      coordinates.x = overlay.minWidthFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'X',\n          `${overlay.minWidthFallback}  -   ${overlay.maxWidthFallback}`,\n        ),\n      );\n    }\n\n    if (coordinates.x > overlay.maxWidthFallback) {\n      coordinates.x = overlay.maxWidthFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'X',\n          `${overlay.minWidthFallback}  -   ${overlay.maxWidthFallback}`,\n        ),\n      );\n    }\n\n    if (coordinates.y < overlay.minHeightFallback) {\n      coordinates.y = overlay.minHeightFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'Y',\n          `${overlay.minHeightFallback}  -   ${overlay.maxHeightFallback}`,\n        ),\n      );\n    }\n\n    if (coordinates.y > overlay.maxHeightFallback) {\n      coordinates.y = overlay.maxHeightFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'Y',\n          `${overlay.minHeightFallback}  -   ${overlay.maxHeightFallback}`,\n        ),\n      );\n    }\n  }\n};\n\nconst setInspectionOverlayCoordinates = (overlay, coordinates) => {\n  if (overlay.boundingShape.rect) {\n    coordinates.x = overlay.boundingShape.rect.x.value || 0;\n    coordinates.y = overlay.boundingShape.rect.y.value || 0;\n    coordinates.width = overlay.boundingShape.rect.w.value || 0;\n    coordinates.height = overlay.boundingShape.rect.h.value || 0;\n  }\n};\n\nexport const drawCustomOverlays = ({\n  drawTarget,\n  customOverlays,\n  product,\n  zoomFactor,\n  boundingCoordinates,\n}) => {\n  if (!customOverlays || customOverlays.length === 0) {\n    return;\n  }\n\n  const targetContext = drawTarget.getContext('2d');\n  const activeOverlays = customOverlays.filter((overlay) => overlay.isActive);\n  zoomFactor = zoomFactor || 1;\n  activeOverlays.forEach((overlay) => {\n    targetContext.beginPath();\n\n    const coords = { x: 0, y: 0, width: 0, height: 0 };\n    setCustomOverlayCoordinates(product, overlay, coords);\n    correctCoordsWithBoundingCoordinates(coords, boundingCoordinates);\n\n    const colorVariable = getValueById(product, overlay.colorVariable);\n    let color;\n    if (!colorVariable) {\n      color = overlay.color;\n    } else {\n      color = getRgbaString(colorVariable);\n    }\n\n    targetContext.rect(coords.x, coords.y, coords.width, coords.height);\n\n    targetContext.fillStyle = color;\n    targetContext.lineWidth = 1 / zoomFactor;\n    const fontSize = 10 / zoomFactor;\n    targetContext.font = fontSize + 'px Arial';\n    targetContext.fillText(overlay.label, coords.x, coords.y - fontSize);\n\n    switch (overlay.lineStyle) {\n      case 'dashed':\n        targetContext.setLineDash([5]);\n        break;\n\n      case 'dotted':\n        targetContext.setLineDash([2, 5]);\n        break;\n\n      default:\n        targetContext.setLineDash([]);\n    }\n    targetContext.strokeStyle = color;\n    targetContext.stroke();\n\n    targetContext.closePath();\n  });\n};\n\nconst correctCoordsWithBoundingCoordinates = (actualCoordinates, boundingCoordinates) => {\n  actualCoordinates.x += Math.abs(boundingCoordinates.minX);\n  actualCoordinates.y += Math.abs(boundingCoordinates.minY);\n};\n\nconst updateBoundingCoordinates = (boundingCoordinates, minX, minY, maxX, maxY) => {\n  if (minX < boundingCoordinates.minX) {\n    boundingCoordinates.minX = minX;\n  }\n\n  if (minY < boundingCoordinates.minY) {\n    boundingCoordinates.minY = minY;\n  }\n\n  if (maxX > boundingCoordinates.maxX) {\n    boundingCoordinates.maxX = maxX;\n  }\n\n  if (maxY > boundingCoordinates.maxY) {\n    boundingCoordinates.maxY = maxY;\n  }\n};\n\nconst getValueById = (product, id) => {\n  if (!product || !id) {\n    return;\n  }\n  const valueObj = product.getValue(id);\n  return valueObj && valueObj.value;\n};\n\nexport const extractInspectionOverlays = (product, imageId) => {\n  if (!product || product.released) {\n    return undefined;\n  }\n\n  const image = product.getImage(imageId);\n\n  if (!image) {\n    return undefined;\n  }\n\n  return (\n    (image &&\n      image.overlays &&\n      image.overlays.overlays &&\n      image.overlays.overlays.length > 0 &&\n      image.overlays.overlays) ||\n    []\n  );\n};\n","import Product from '../../../../protobuf/Product';\nimport './styles.scss';\n\nexport interface ImageSchema {\n  combinedSrc: string;\n  product: Product;\n}\n\ninterface FilmStripProps {\n  images: ImageSchema[];\n  onImageClick: (product: Product) => void;\n}\n\nconst FilmStrip = ({ images, onImageClick }: FilmStripProps) => {\n  return (\n    <div className=\"film-strip-container\">\n      {images.map((image) => (\n        <button\n          key={image.product.trigger}\n          className=\"reject-image\"\n          onClick={() => {\n            onImageClick(image.product);\n          }}\n        >\n          <img src={image.combinedSrc} alt=\"\" />\n        </button>\n      ))}\n    </div>\n  );\n};\n\nexport default FilmStrip;\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport iconPause from '../../../../assets/icons/pause.svg';\nimport iconPlay from '../../../../assets/icons/play.svg';\nimport ActionBar from '../../../../components/ActionBar';\nimport Container from '../../../../components/layout/Container';\nimport Product from '../../../../protobuf/Product';\nimport Proxy from '../../../../protobuf/Proxy';\nimport { setSaveFlag } from '../../../../redux/actions';\nimport { TOGGLE_BUTTON } from '../../../../types/ActionBarType';\nimport {\n  drawInspectionOverlays,\n  extractInspectionOverlays,\n} from '../../../../utils/OverlayRenderer';\nimport logger from '../../../../utils/logger';\nimport modes from '../../../../utils/modes';\nimport { canEditInspectionState } from '../../../../utils/permissions';\nimport FilmStrip, { ImageSchema } from '../FilmStrip';\n\ninterface FilmStripsContainerProps {\n  id: string;\n  inspectionId: string;\n}\n\nconst FilmStripsContainer = ({ inspectionId, id: viewId }: FilmStripsContainerProps) => {\n  const proxy = useSelector<any>((state) => state.app?.proxy) as Proxy;\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const pausedInspections = useSelector<any>((state) => state.app?.pausedInspections) as string[];\n  const currentMode = useSelector<any>(\n    (state) => state.app?.currentMode,\n  ) as typeof modes[keyof typeof modes];\n  const isBrowserWindowVisible = useSelector<any>((state) => state.app?.isBrowserWindowVisible) as\n    | boolean\n    | undefined;\n  const sourceImage = useSelector<any>((state) =>\n    Number(state.inspections[inspectionId]?.sharedState?.views[viewId]?.sourceImage),\n  ) as number;\n\n  const dispatch = useDispatch();\n\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  const [imageResolution, setImageResolution] = useState({ width: 0, height: 0 });\n  const [images, setImages] = useState<ImageSchema[]>([]);\n\n  useEffect(() => {\n    let productSub: string | null = null;\n    const imageStripLength = 10;\n    let internalImageResolution = { width: 0, height: 0 };\n    let internalImages: ImageSchema[] = [];\n\n    const updateImageDimensions = (product: Product) => {\n      if (!product) {\n        logger.error(`updateImageDimensions requires product but did not receive.`);\n        return;\n      }\n\n      if (!product.isReject) {\n        logger.error(`updateImageDimensions requires product that is a reject.`);\n        return;\n      }\n\n      const { image } = product.getImage(sourceImage);\n\n      if (!image) {\n        logger.error(`Product does not contain an Image.`);\n        return;\n      }\n\n      const { height, width } = image;\n\n      if (\n        !internalImageResolution.width ||\n        !internalImageResolution.height ||\n        internalImageResolution.width !== width ||\n        internalImageResolution.height !== height\n      ) {\n        setImageResolution((internalImageResolution = { width, height }));\n      }\n    };\n\n    const drawImageAndOverlaysToCanvas = ({\n      drawTarget,\n      product,\n    }: {\n      drawTarget: HTMLCanvasElement;\n      product: Product;\n    }) => {\n      if (!drawTarget || !product) {\n        logger.error(\n          'drawImageAndOverlaysToCanvas expects drawTarget and product but did not receive.',\n        );\n        return;\n      }\n\n      const imageId = sourceImage;\n      const image = product.getImage(imageId);\n      if (!image || !image.domImage) {\n        logger.warn(`ImageStrip expected an image onReject but didn't receive`);\n        return;\n      }\n\n      const drawTargetContext = drawTarget.getContext('2d');\n      drawTargetContext?.clearRect(0, 0, drawTarget.width, drawTarget.height);\n      drawTargetContext?.drawImage(image.domImage, 0, 0);\n\n      const overlays = extractInspectionOverlays(product, imageId);\n      const boundingCoordinates = {\n        minX: 0,\n        minY: 0,\n        maxX: image.width || 0,\n        maxY: image.height || 0,\n      };\n\n      drawInspectionOverlays({\n        drawTarget,\n        overlays,\n        zoomFactor: 1,\n        boundingCoordinates,\n        width: image.width,\n        height: image.height,\n        currentMode,\n      });\n      return drawTarget.toDataURL('image/bmp');\n    };\n\n    const releaseProducts = (products: Product[]) => {\n      (products || []).forEach((product) => product.release());\n    };\n\n    const onProduct = ({ product }: { product: Product }) => {\n      const entry = internalImages.find((e) => e.product === product);\n      if (entry || !canvasRef.current) {\n        // We can free this reference. the second reference to the\n        // same product will be released in this.releaseProducts().\n        product.release();\n        return;\n      }\n      let productsToRelease: Product[] = [];\n\n      // TODO: Image dimensions won't change for a subscription\n      // better to update `onSubscribed`\n      updateImageDimensions(product);\n\n      const combinedSrc = drawImageAndOverlaysToCanvas({\n        drawTarget: canvasRef.current,\n        product,\n      });\n      if (combinedSrc) {\n        const updatedImages = [{ combinedSrc, product }, ...internalImages];\n\n        // sort descending by trigger count. can happen at beginning of stream.\n        updatedImages.sort((a, b) => b.product.trigger - a.product.trigger);\n\n        if (updatedImages.length > imageStripLength) {\n          productsToRelease = updatedImages.splice(imageStripLength).map((e) => e.product);\n        }\n\n        setImages((internalImages = updatedImages));\n      }\n\n      releaseProducts(productsToRelease);\n    };\n\n    const subscribeToProductStream = (sourceImage: string | number) => {\n      if (!productSub) {\n        const desc = {\n          inspectionId,\n          startAtTriggerCount: -imageStripLength,\n          rejectImageIds: [sourceImage],\n          allowOldTrigger: true,\n          manualRelease: true,\n        };\n        productSub = proxy.subscribeToProductStream(desc, onProduct);\n      }\n    };\n\n    const unsubscribeFromProductStream = () => {\n      if (productSub) {\n        proxy.unsubscribeFromProductStream(productSub);\n        productSub = null;\n      }\n\n      (internalImages || []).forEach((image) => {\n        image.product?.release();\n      });\n      setImages((internalImages = []));\n    };\n\n    if (sourceImage) {\n      unsubscribeFromProductStream();\n      subscribeToProductStream(sourceImage);\n    }\n\n    if (isBrowserWindowVisible !== undefined) {\n      if (isBrowserWindowVisible) {\n        subscribeToProductStream(sourceImage);\n      } else {\n        unsubscribeFromProductStream();\n      }\n    }\n\n    return () => {\n      unsubscribeFromProductStream();\n    };\n  }, [currentMode, inspectionId, isBrowserWindowVisible, proxy, sourceImage]);\n\n  const resumeStream = useCallback(() => {\n    proxy.resumeRejectStream(inspectionId);\n    dispatch(setSaveFlag(true));\n  }, [dispatch, inspectionId, proxy]);\n\n  const pauseStream = useCallback(() => {\n    proxy.pauseRejectStream(inspectionId);\n    dispatch(setSaveFlag(true));\n  }, [dispatch, inspectionId, proxy]);\n\n  const selectProduct = useCallback(\n    (product: Product) => {\n      pauseStream();\n      proxy.replayProduct(inspectionId, product);\n      // TODO some highlights?\n    },\n    [inspectionId, pauseStream, proxy],\n  );\n\n  const actions = useMemo(() => {\n    const canEdit = canEditInspectionState(myPermissions);\n\n    const showPause = () => {\n      if (inspectionId) {\n        if (!pausedInspections.includes(inspectionId)) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    return [\n      {\n        type: TOGGLE_BUTTON,\n        id: inspectionId,\n        intlId: 'imageStripView.play',\n        iconUrl: iconPlay,\n        enabled: canEdit,\n        onClickHandler: resumeStream,\n        intlIdAlternative: 'imageStripView.pause',\n        iconUrlAlternative: iconPause,\n        onClickHandlerAlternative: pauseStream,\n        showAlternative: showPause(),\n      },\n    ];\n  }, [inspectionId, myPermissions, pauseStream, pausedInspections, resumeStream]);\n\n  return (\n    <div className=\"reject-view-container\">\n      <Container>\n        <canvas\n          ref={canvasRef}\n          style={{ display: 'none' }}\n          width={imageResolution.width}\n          height={imageResolution.height}\n          className=\"imageCanvas\"\n        />\n        {images && images.length > 0 && <FilmStrip onImageClick={selectProduct} images={images} />}\n        <ActionBar isViewAction actions={actions} />\n      </Container>\n    </div>\n  );\n};\n\nexport default FilmStripsContainer;\n","import { useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ObjectSelectorBase from '../../../../components/ObjectSelector';\nimport Configuration from '../../../../protobuf/Configuration';\nimport { setSaveFlag, setSharedStateData, setViewData } from '../../../../redux/actions';\nimport logger from '../../../../utils/logger';\n\ninterface ObjectSelectorProps {\n  id: string;\n  inspectionId: string;\n}\n\nconst ObjectSelector = ({ inspectionId, id: viewId }: ObjectSelectorProps) => {\n  const configuration = useSelector<any>(\n    (state) => state.app?.configuration ?? null,\n  ) as Configuration;\n  const dispatch = useDispatch();\n\n  const handleObjectSelectorChange = useCallback(\n    (selectedId: React.Key | React.Key[], checkedLocation?: string) => {\n      const setSourceImageIndex = (id: string) => {\n        if (!id) {\n          logger.error(`ObjectSelector did not return a valid id.`);\n          return;\n        }\n        dispatch(setSharedStateData(inspectionId, 'sourceImage', id, viewId));\n      };\n\n      setSourceImageIndex(selectedId as string);\n      dispatch(setViewData(inspectionId, viewId, 'windowName', checkedLocation));\n      dispatch(setSaveFlag(true));\n    },\n    [dispatch, inspectionId, viewId],\n  );\n\n  if (!configuration || !inspectionId) {\n    return null;\n  }\n\n  const images = configuration.getObjectSelectorImagesForInspection(inspectionId);\n\n  return (\n    <div style={{ width: '100%', overflow: 'auto' }}>\n      {images && (\n        <ObjectSelectorBase singleSelect data={images.tree} onChange={handleObjectSelectorChange} />\n      )}\n    </div>\n  );\n};\n\nexport default ObjectSelector;\n","import { useCallback, useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Configuration from '../../protobuf/Configuration';\nimport Proxy from '../../protobuf/Proxy';\nimport { initViewState, setViewData } from '../../redux/actions';\nimport { canReadImageStripView, canEditImageStripView } from '../../utils/permissions';\nimport FilmStripsContainer from './components/FilmStripsContainer';\nimport ObjectSelector from './components/ObjectSelector';\nimport './styles.scss';\n\ninterface ImageStripViewProps {\n  id: string;\n  inspectionId: string;\n}\n\nconst ImageStripView = ({ id: viewId, inspectionId }: ImageStripViewProps) => {\n  const proxy = useSelector<any>((state) => state.app?.proxy) as Proxy;\n  const configuration = useSelector<any>(\n    (state) => state.app?.configuration ?? null,\n  ) as Configuration;\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const sourceImage = useSelector<any>((state) =>\n    Number(state.inspections[inspectionId]?.sharedState?.views[viewId]?.sourceImage),\n  ) as number;\n\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const initState = {};\n    const initSharedState = {\n      sourceImage: 0,\n    };\n    dispatch(initViewState(inspectionId, viewId, initState, initSharedState));\n\n    Promise.resolve()\n      .then(() => {\n        if (configuration?.objectSelectorImages?.size === 0) {\n          return configuration.setObjectSelectorImages(proxy.protobuf);\n        }\n      })\n      .then(() => {\n        if (configuration?.idNameMappings?.size === 0) {\n          return configuration.setIdNameMappings(proxy.protobuf);\n        }\n      })\n      .then(() => proxy.dispatchCurrentConfiguration(configuration));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inspectionId, viewId]);\n\n  const setTitleFromConfig = useCallback(() => {\n    if (configuration) {\n      const path = configuration.getValueNameForId(inspectionId, sourceImage);\n      if (path) {\n        dispatch(setViewData(inspectionId, viewId, 'windowName', path));\n      }\n    }\n  }, [configuration, dispatch, inspectionId, sourceImage, viewId]);\n\n  setTitleFromConfig();\n  const canEdit = canEditImageStripView(myPermissions);\n  const canRead = canReadImageStripView(myPermissions);\n\n  if (canRead || canEdit) {\n    return (\n      <div className=\"reject-view-container\">\n        {!sourceImage && canEdit ? (\n          <ObjectSelector inspectionId={inspectionId} id={viewId} />\n        ) : (\n          <FilmStripsContainer inspectionId={inspectionId} id={viewId} />\n        )}\n      </div>\n    );\n  }\n\n  return <div></div>;\n};\n\nexport default ImageStripView;\n","export default __webpack_public_path__ + \"static/media/downloadWithOverlays.0ec8c060.svg\";","export default __webpack_public_path__ + \"static/media/fit-to-height.be413aab.svg\";","export default __webpack_public_path__ + \"static/media/fit-to-width.ea508053.svg\";","export default __webpack_public_path__ + \"static/media/one.0123db23.svg\";","export interface OverlaySchema {\n  id: number;\n  color: string;\n  colorVariable?: string;\n  isActive: boolean;\n  label: string;\n  lineStyle: string;\n  maxHeightFallback?: number;\n  maxWidthFallback?: number;\n  minHeightFallback?: number;\n  minWidthFallback?: number;\n  offsetLeft: number | null;\n  offsetLeftVariable?: string;\n  offsetTop: number | null;\n  offsetTopVariable?: string;\n  width: number;\n  widthVariable?: string;\n  height: number;\n  heightVariable?: string;\n  x: number;\n  xVariable?: string;\n  y: number;\n  yVariable?: string;\n}\n\nexport const updateOverlayList = (updatedOverlay: OverlaySchema, overlayList: OverlaySchema[]) =>\n  overlayList.map((overlay) => (overlay.id === updatedOverlay.id ? updatedOverlay : overlay));\n","import { useCallback, useEffect, useMemo, useState } from 'react';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport Table, { AutoResizer, CallOrReturn, ColumnShape } from 'react-base-table';\n\nimport { OverlaySchema, updateOverlayList } from '../../utils/reduxHelper';\n\nimport 'react-base-table/styles.css';\nimport './style.scss';\n\ninterface OverlayListProps {\n  overlays: OverlaySchema[];\n  updateCurrentOverlay: (overlay: OverlaySchema) => void;\n  updateOverlayList: (overlays: OverlaySchema[]) => void;\n  onSelectAll: (selectAll: boolean) => void;\n  hasActionBar?: boolean;\n  canSelectRow?: boolean;\n}\n\nexport const OverlayList = ({\n  overlays,\n  onSelectAll,\n  updateCurrentOverlay,\n  updateOverlayList: externalUpdateOverlayList,\n  canSelectRow,\n  hasActionBar = true,\n}: OverlayListProps) => {\n  const [selectAll, setSelectAll] = useState(false);\n  const [selectedRowIndex, setSelectedRowIndex] = useState(-1);\n\n  useEffect(() => {\n    setSelectedRowIndex(canSelectRow ? 0 : -1);\n  }, [canSelectRow]);\n\n  useEffect(() => {\n    setSelectAll(() => {\n      for (const overlay of overlays || []) {\n        if (!overlay.isActive) {\n          return false;\n        }\n      }\n      return true;\n    });\n  }, [overlays]);\n\n  const headerRenderer: CallOrReturn<\n    React.ReactNode,\n    {\n      cells: React.ReactNode[];\n      columns: ColumnShape<unknown>;\n      headerIndex: number;\n    }\n  > = useCallback(\n    ({ columns }) => {\n      const handleSelectAll = (checked: boolean) => {\n        setSelectAll(checked);\n        onSelectAll(checked);\n      };\n\n      const columnHeaders: JSX.Element[] = [];\n      columns.forEach((_: never, columnIndex: number) => {\n        if (columnIndex === 0) {\n          columnHeaders.push(\n            <div\n              className=\"base-table-header-column\"\n              style={{ width: columns[columnIndex].width }}\n              key={`header_${columnIndex}`}\n            >\n              <Checkbox\n                checked={selectAll}\n                onChange={(e) => handleSelectAll(e.target.checked)}\n                style={{\n                  padding: 0,\n                }}\n                color=\"primary\"\n                key=\"select-all-checkbox\"\n              />\n            </div>,\n          );\n        } else {\n          columnHeaders.push(\n            <div\n              className=\"base-table-header-column\"\n              key={`header_${columnIndex}`}\n              style={{ padding: ' 0 7.5px' }}\n            >\n              {columns[columnIndex].title}\n            </div>,\n          );\n        }\n      });\n\n      return columnHeaders;\n    },\n    [onSelectAll, selectAll],\n  );\n\n  const tableDataFromOverlays = useMemo(() => {\n    const handleSingleSelect = (checked: boolean, overlay: OverlaySchema) => {\n      const updatedOverlay = { ...overlay, isActive: checked };\n      const updatedOverlayList = updateOverlayList(updatedOverlay, overlays);\n\n      externalUpdateOverlayList(updatedOverlayList);\n    };\n\n    const getCheckboxDefinition4Cell = (currentId: number) => {\n      const overlay = overlays.filter((item) => item.id === currentId)[0];\n      const isActive = overlay ? overlay.isActive : false;\n      return (\n        <Checkbox\n          checked={isActive}\n          onChange={(e) => handleSingleSelect(e.target.checked, overlay)}\n          style={{\n            padding: 0,\n          }}\n          color=\"primary\"\n          key={`checkbox_${currentId}`}\n        />\n      );\n    };\n\n    const data =\n      overlays &&\n      overlays.map((overlay) => {\n        return {\n          checkbox: getCheckboxDefinition4Cell(overlay.id),\n          name: overlay.label,\n          id: overlay.id,\n        };\n      });\n    return data;\n  }, [externalUpdateOverlayList, overlays]);\n\n  const columnDefinition4OverlayTable = useMemo(() => {\n    return [\n      {\n        key: 'checkbox',\n        dataKey: 'checkbox',\n        title: '',\n        width: 40,\n      },\n      {\n        key: 'name',\n        dataKey: 'name',\n        title: 'Overlays',\n        width: 0,\n        flexGrow: 1,\n      },\n    ];\n  }, []);\n\n  if (!overlays) return null;\n\n  return (\n    <AutoResizer key=\"autoresizer\">\n      {({ width, height }) => (\n        <Table\n          headerRenderer={headerRenderer}\n          columns={columnDefinition4OverlayTable}\n          data={tableDataFromOverlays}\n          width={width}\n          height={hasActionBar ? height - 30 : height}\n          headerHeight={30}\n          rowHeight={30}\n          key=\"overlay-table\"\n          rowEventHandlers={\n            canSelectRow\n              ? {\n                  onClick: ({ rowIndex }) => {\n                    setSelectedRowIndex(rowIndex);\n                    updateCurrentOverlay(\n                      overlays.filter((item) => item.id === overlays[rowIndex].id)[0],\n                    );\n                  },\n                }\n              : undefined\n          }\n          rowClassName={({ rowIndex }) =>\n            selectedRowIndex === rowIndex ? 'overlay-table-selected-row' : ''\n          }\n        />\n      )}\n    </AutoResizer>\n  );\n};\n","import PropTypes from 'prop-types';\n\nconst ProxyType = PropTypes.shape({});\n\nexport default ProxyType;\n","import React, { Component } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\n\nimport { setViewData, saveImageSettings } from '../../../redux/actions';\nimport {\n  drawCustomOverlays,\n  drawInspectionOverlays,\n  setBoundingCoordinatesForCustomOverlays,\n  setBoundingCoordinatesForInspectionOverlays,\n  extractInspectionOverlays,\n} from '../../../utils/OverlayRenderer';\nimport { forceDownload } from '../../../utils/downloader';\nimport logger from '../../../utils/logger';\nimport { isObjectValid } from '../../../utils/objectValidator';\nimport { canEditImageView } from '../../../utils/permissions';\n\nclass ImageEditor extends Component {\n  state = {\n    image: new Image(),\n    left: 0,\n    top: 0,\n    zoomFactor: 1,\n    currentCursorPosition: { x: 0, y: 0 },\n    canvasDimension: { width: 0, height: 0 },\n  };\n\n  componentDidMount() {\n    this.loadViewSettings();\n    this.props.product.lock();\n    this.initImage(this.props);\n    this.bindEventListeners();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { zoomFactor, left, top } = this.state;\n\n    this.bindEventListeners();\n\n    const productChanged = prevProps.product !== this.props.product;\n    const modeChanged = prevProps.currentMode !== this.props.currentMode;\n    const zoomFactorChanged = prevState.zoomFactor !== zoomFactor;\n    const customOverlaysChanged = !isEqual(this.props.customOverlays, prevProps.customOverlays);\n    const imageMoved = prevState.left !== left || prevState.top !== top;\n\n    if (productChanged) {\n      prevProps.product.release();\n      this.props.product.lock();\n    }\n\n    if (productChanged || modeChanged || zoomFactorChanged || customOverlaysChanged) {\n      this.initImage(this.props);\n    }\n\n    if (zoomFactorChanged || imageMoved) {\n      this.props.saveImageSettings(zoomFactor, { left, top });\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.product.release();\n  }\n\n  loadViewSettings() {\n    const { zoomFactor, imagePosition } = this.props.viewSettings;\n    if (zoomFactor) {\n      this.setState({ zoomFactor });\n    }\n\n    if (imagePosition && imagePosition.left) {\n      this.setState({ left: imagePosition.left });\n    }\n\n    if (imagePosition && imagePosition.top) {\n      this.setState({ top: imagePosition.top });\n    }\n  }\n\n  initImage(props) {\n    if (props && props.product && props.imageId) {\n      const image = props.product.getImage(props.imageId);\n      if (image && image.domImage) {\n        this.onImageLoaded(image.domImage);\n      }\n    }\n  }\n\n  onImageLoaded(image) {\n    const { zoomFactor, canvasDimension } = this.state;\n    const { height, width } = canvasDimension;\n    this.setState({ image });\n    this.initCanvas({ canvas: this.canvas, height, width, zoomFactor });\n    this.props.setViewData('imageDimensions', { width: image.width, height: image.height });\n    this.draw(this.canvas, image, zoomFactor);\n    this.setImageInfo();\n  }\n\n  initCanvas({ canvas, height, width, zoomFactor }) {\n    canvas.width = Math.ceil(width * zoomFactor);\n    canvas.height = Math.ceil(height * zoomFactor);\n\n    this.props.setViewData('imageDimensions', { width, height });\n  }\n\n  draw(canvas, image, zoomFactor) {\n    if (!canvas || !image) {\n      console.error('Can not draw because we do not have a canvas');\n      return;\n    }\n\n    const boundingCoordinates = this.setBoundingCoordinates(image, zoomFactor);\n\n    this.setCanvasDimensions(canvas, boundingCoordinates, zoomFactor);\n\n    const ctx = canvas.getContext('2d');\n    ctx.webkitImageSmoothingEnabled = false;\n    ctx.msImageSmoothingEnabled = false;\n    ctx.imageSmoothingEnabled = false;\n    ctx.save();\n    ctx.clearRect(\n      0,\n      0,\n      Math.abs(boundingCoordinates.minX) + boundingCoordinates.maxX,\n      Math.abs(boundingCoordinates.minY) + boundingCoordinates.maxY,\n    );\n    ctx.scale(zoomFactor, zoomFactor);\n    ctx.drawImage(image, Math.abs(boundingCoordinates.minX), Math.abs(boundingCoordinates.minY));\n    this.drawOverlays(canvas, zoomFactor, boundingCoordinates, image.width, image.height);\n    ctx.restore();\n  }\n\n  setBoundingCoordinates = (image, zoomFactor) => {\n    const boundingCoordinates = {\n      minX: 0,\n      minY: 0,\n      maxX: image.width || 0,\n      maxY: image.height || 0,\n    };\n    const fontSize = 10 / zoomFactor;\n    this.getBoundingCoordinatesFromCustomOverlays(boundingCoordinates, fontSize);\n    this.getBoundingCoordinatesFromInspectionOverlays(boundingCoordinates, fontSize);\n\n    return boundingCoordinates;\n  };\n\n  setCanvasDimensions = (canvas, boundingCoordinates, zoomFactor) => {\n    const width = Math.abs(boundingCoordinates.minX) + boundingCoordinates.maxX;\n    const height = Math.abs(boundingCoordinates.minY) + boundingCoordinates.maxY;\n\n    canvas.width = Math.ceil(width * zoomFactor);\n    canvas.height = Math.ceil(height * zoomFactor);\n\n    this.setState({ canvasDimension: { width, height }, boundingCoordinates });\n  };\n\n  drawOverlays(drawTarget, zoomFactor, boundingCoordinates, width, height) {\n    const { product, customOverlays, imageId, currentMode } = this.props;\n    const overlays = extractInspectionOverlays(product, imageId);\n\n    drawCustomOverlays({\n      drawTarget,\n      customOverlays,\n      product,\n      zoomFactor,\n      boundingCoordinates,\n    });\n    drawInspectionOverlays({\n      drawTarget,\n      overlays,\n      zoomFactor,\n      boundingCoordinates,\n      width,\n      height,\n      currentMode,\n    });\n  }\n\n  getBoundingCoordinatesFromCustomOverlays = (boundingCoordinates, fontSize) => {\n    const { product, customOverlays } = this.props;\n    const { image } = this.state;\n\n    const imageWidth = image?.width;\n    const imageHeight = image?.height;\n\n    const minWidthFallback = Number(-imageWidth * 2);\n    const maxWidthFallback = Number(imageWidth * 2);\n\n    const minHeightFallback = Number(-imageHeight * 2);\n    const maxHeightFallback = Number(imageHeight * 2);\n\n    let overlays;\n    overlays = customOverlays.filter((overlay) => overlay.isActive);\n    overlays.map((overlay) =>\n      Object.assign(overlay, {\n        minWidthFallback,\n        maxWidthFallback,\n        minHeightFallback,\n        maxHeightFallback,\n      }),\n    );\n\n    overlays.forEach((overlay) => {\n      setBoundingCoordinatesForCustomOverlays({\n        overlay,\n        product,\n        fontSize,\n        boundingCoordinates,\n        dispatch: this.props.dispatch,\n      });\n    });\n  };\n\n  getBoundingCoordinatesFromInspectionOverlays = (boundingCoordinates, fontSize) => {\n    const { product, imageId } = this.props;\n    const overlays = extractInspectionOverlays(product, imageId);\n\n    overlays &&\n      overlays.forEach((overlay) => {\n        setBoundingCoordinatesForInspectionOverlays({ overlay, fontSize, boundingCoordinates });\n      });\n  };\n\n  setImageInfo = () => {\n    const { isImageInfoOpen } = this.props;\n    const { currentCursorPosition } = this.state;\n\n    if (currentCursorPosition && isImageInfoOpen) {\n      const { x, y } = currentCursorPosition;\n      this.setRgbValues(x, y);\n    }\n  };\n\n  bindEventListeners() {\n    if (canEditImageView(this.props.myPermissions)) {\n      this.containerRef.addEventListener('mousewheel', this.handleScroll);\n      this.containerRef.addEventListener('DOMMouseScroll', this.handleScroll);\n      this.containerRef.addEventListener('mousedown', this.handleMouseDown);\n      this.containerRef.addEventListener('mouseup', this.handleMouseUp);\n      this.containerRef.addEventListener('mouseleave', this.handleMouseUp);\n      this.containerRef.addEventListener('mousemove', this.handleDrag);\n    } else {\n      this.containerRef.removeEventListener('mousewheel', this.handleScroll);\n      this.containerRef.removeEventListener('DOMMouseScroll', this.handleScroll);\n      this.containerRef.removeEventListener('mousedown', this.handleMouseDown);\n      this.containerRef.removeEventListener('mouseup', this.handleMouseUp);\n      this.containerRef.removeEventListener('mouseleave', this.handleMouseUp);\n      this.containerRef.removeEventListener('mousemove', this.handleDrag);\n    }\n\n    this.containerRef.addEventListener('mousemove', this.handleMouseMove);\n  }\n\n  handleScroll = (evt) => {\n    const delta = evt.wheelDelta ? evt.wheelDelta / 40 : evt.detail ? -evt.detail : 0;\n    if (delta) {\n      const { offsetX, offsetY } = evt;\n      this.zoom(delta, offsetX, offsetY);\n    }\n    evt.preventDefault();\n    return false;\n  };\n\n  handleMouseDown = (event) => {\n    const dragStart = { x: event.pageX, y: event.pageY };\n    const { left, top } = this.state;\n    const dragStartPos = { left, top };\n    this.setState({ dragging: true, dragStart, dragStartPos });\n  };\n\n  handleMouseUp = () => {\n    this.setState({ dragging: false, dragStart: null });\n  };\n\n  handleDrag = (event) => {\n    const { dragging, dragStart, dragStartPos } = this.state;\n    if (!dragging) {\n      return;\n    }\n\n    const diffX = event.pageX - dragStart.x;\n    const diffY = event.pageY - dragStart.y;\n    this.setState({\n      left: dragStartPos.left + diffX,\n      top: dragStartPos.top + diffY,\n    });\n  };\n\n  handleMouseMove = (event) => {\n    const { isImageInfoOpen } = this.props;\n\n    if (isImageInfoOpen) {\n      const cursorPosition = this.getMouseCoordinatesOnElement(event, this.canvas);\n\n      this.setCursorPosition(cursorPosition);\n      this.setRgbValues(cursorPosition.x, cursorPosition.y);\n    }\n  };\n\n  getMouseCoordinatesOnElement = (event) => {\n    const { zoomFactor, boundingCoordinates } = this.state;\n    let offsetX = event.offsetX;\n    let offsetY = event.offsetY;\n    let element = event.target;\n\n    while (element !== this.containerRef) {\n      offsetX += element.offsetLeft;\n      offsetY += element.offsetTop;\n      element = element.parentNode;\n    }\n\n    let x = (offsetX - this.canvas.offsetLeft) / zoomFactor;\n    let y = (offsetY - this.canvas.offsetTop) / zoomFactor;\n\n    if (boundingCoordinates) {\n      x += boundingCoordinates.minX;\n      y += boundingCoordinates.minY;\n    }\n\n    return {\n      x: Math.trunc(x),\n      y: Math.trunc(y),\n    };\n  };\n\n  setRgbValues = (x, y) => {\n    const { image } = this.state;\n    const canvas = document.createElement('canvas');\n    canvas.width = image.width;\n    canvas.height = image.height;\n\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(image, 0, 0);\n\n    const colors = ctx.getImageData(x, y, 1, 1).data;\n    const red = colors[0];\n    const green = colors[1];\n    const blue = colors[2];\n    this.props.setViewData('rgbValues', { R: red, G: green, B: blue });\n  };\n\n  setCursorPosition = (cursorPosition) => {\n    const { currentCursorPosition } = this.state;\n    const cursorPositionOnImage = this.trimPositionsOnImageSize(cursorPosition);\n    this.props.setViewData('cursorPosition', cursorPositionOnImage);\n\n    if (\n      currentCursorPosition.x !== cursorPositionOnImage.x ||\n      currentCursorPosition.y !== cursorPositionOnImage.y\n    ) {\n      this.setState({ currentCursorPosition: cursorPosition });\n    }\n  };\n\n  trimPositionsOnImageSize = (cursorPosition) => {\n    const { image } = this.state;\n    if (\n      cursorPosition.x < 0 ||\n      cursorPosition.y < 0 ||\n      cursorPosition.x > image.width ||\n      cursorPosition.y > image.height\n    ) {\n      return { x: 0, y: 0 };\n    }\n\n    return cursorPosition;\n  };\n\n  zoom(delta, offX, offY) {\n    const SCALE_BASE = 1.1;\n    const MIN_ZOOM_FACTOR = 0.05;\n    const MAX_ZOOM_FACTOR = 20;\n    const MAX_CANVAS_SIZE = 4096;\n\n    const scaleFactor = Math.pow(SCALE_BASE, delta);\n    const zoomFactor = this.state.zoomFactor * scaleFactor;\n    if (zoomFactor < MIN_ZOOM_FACTOR || zoomFactor > MAX_ZOOM_FACTOR) {\n      return;\n    }\n\n    const { canvasDimension } = this.state;\n    const longestSide = Math.max(\n      canvasDimension.width * zoomFactor,\n      canvasDimension.height * zoomFactor,\n    );\n    if (longestSide > MAX_CANVAS_SIZE) {\n      return;\n    }\n\n    const { left, top } = this.state;\n    const leftDiff = offX * (1 - scaleFactor);\n    const topDiff = offY * (1 - scaleFactor);\n    this.setState({\n      left: left + leftDiff,\n      top: top + topDiff,\n      zoomFactor,\n    });\n  }\n\n  clamp(v, min, max) {\n    return Math.max(Math.min(v, max), min);\n  }\n\n  resetZoom() {\n    const { boundingCoordinates, zoomFactor } = this.state;\n    this.setState({\n      zoomFactor: 1,\n      left: boundingCoordinates.minX * zoomFactor,\n      top: boundingCoordinates.minY * zoomFactor,\n    });\n  }\n\n  fitToHeight() {\n    const { height } = this.getViewSize();\n    const { image, boundingCoordinates, zoomFactor } = this.state;\n    this.setState({\n      zoomFactor: height / image.height,\n      left: boundingCoordinates.minX * zoomFactor,\n      top: boundingCoordinates.minY * zoomFactor,\n    });\n  }\n\n  fitToWidth() {\n    const { width } = this.getViewSize();\n    const { image, boundingCoordinates, zoomFactor } = this.state;\n    this.setState({\n      zoomFactor: width / image.width,\n      left: boundingCoordinates.minX * zoomFactor,\n      top: boundingCoordinates.minY * zoomFactor,\n    });\n  }\n\n  getViewSize() {\n    return {\n      width: (this.containerRef && this.containerRef.getBoundingClientRect().width) || 200,\n      height: (this.containerRef && this.containerRef.getBoundingClientRect().height) || 200,\n    };\n  }\n\n  downloadOriginalImage() {\n    if (!isObjectValid(() => this.state.image.src)) {\n      logger.info('downloadOriginalImage can not find image source');\n      return;\n    }\n    forceDownload(this.state.image.src, 'image.bmp');\n  }\n\n  downloadOriginalImageWithOverlays() {\n    const { canvasDimension, image } = this.state;\n    const canvas = document.createElement('canvas');\n    canvas.width = canvasDimension.width;\n    canvas.height = canvasDimension.height;\n    this.draw(canvas, image, 1);\n\n    canvas.toBlob((blob) => {\n      const domURL = self.URL || self.webkitURL || self; // eslint-disable-line\n      const url = domURL.createObjectURL(blob);\n      forceDownload(url);\n      domURL.revokeObjectURL(url);\n    });\n  }\n\n  render() {\n    const { zoomFactor, canvasDimension, left, top } = this.state;\n    const height = canvasDimension.height * zoomFactor;\n    const width = canvasDimension.width * zoomFactor;\n\n    return (\n      <div\n        style={{ height: '100%', width: '100%' }}\n        ref={(ref) => {\n          this.containerRef = ref;\n        }}\n      >\n        <canvas\n          className=\"imageCanvas\"\n          style={{\n            position: 'absolute',\n            left,\n            top,\n            width,\n            height,\n          }}\n          ref={(canvas) => {\n            this.canvas = canvas;\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nconst propTypes = {\n  imageSrc: PropTypes.string,\n};\n\nImageEditor.propTypes = propTypes;\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  try {\n    return {\n      customOverlays: state.inspections[inspectionId]?.sharedState?.views[viewId].overlays,\n      currentMode: state.app.currentMode,\n      viewSettings: state.inspections[inspectionId]?.views[viewId],\n      myPermissions: state.app.myPermissions,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  return {\n    setViewData: (key, data) => dispatch(setViewData(inspectionId, viewId, key, data)),\n    saveImageSettings: (zoomFactor, imagePosition) =>\n      dispatch(saveImageSettings(inspectionId, viewId, zoomFactor, imagePosition)),\n    dispatch: (...args) => dispatch(...args),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(ImageEditor),\n);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport { getPropsFromInspection } from '../../../utils/propHelper';\n\nclass ImageInfo extends Component {\n  render() {\n    const { imageInfoClass, cursorPosition, rgbValues, imageDimensions } = this.props;\n    return (\n      <div className={imageInfoClass}>\n        <div className=\"info-table\">\n          <div className=\"th\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.info\" />\n            </div>\n          </div>\n\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.width\" />\n            </div>\n            <div className=\"td\">{imageDimensions.width}</div>\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.height\" />\n            </div>\n            <div className=\"td\">{imageDimensions.height}</div>\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">{`${rgbValues.R}, ${rgbValues.G}, ${rgbValues.B}`}</div>\n            <div\n              className=\"td\"\n              style={{\n                backgroundColor: `rgb(${rgbValues.R},${rgbValues.G},${rgbValues.B})`,\n              }}\n            />\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.x\" />\n            </div>\n            <div className=\"td\">{cursorPosition.x}</div>\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.y\" />\n            </div>\n            <div className=\"td\">{cursorPosition.y}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nImageInfo.defaultProps = {\n  imageInfoClass: '',\n  rgbValues: { R: 0, G: 0, B: 0 },\n  cursorPosition: { width: 0, height: 0 },\n  imageDimensions: { width: 0, height: 0 },\n};\n\nImageInfo.propTypes = {\n  imageInfoClass: PropTypes.string,\n  rgbValues: PropTypes.shape({\n    R: PropTypes.number,\n    G: PropTypes.number,\n    B: PropTypes.number,\n  }),\n  imageDimensions: PropTypes.shape({\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n  cursorPosition: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n  }),\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  return getPropsFromInspection(state, inspectionId, viewId, {\n    imageDimensions: 'imageDimensions',\n    cursorPosition: 'cursorPosition',\n    rgbValues: 'rgbValues',\n  });\n};\n\nexport default connect(mapStateToProps)(ImageInfo);\n","export const getPropsFromInspection = (state, inspectionId, viewId, props) => {\n  return Object.keys(props).reduce(\n    (acc, key) => ({\n      ...acc,\n      [key]: state.inspections[inspectionId].views[viewId][key],\n    }),\n    {},\n  );\n};\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport isEqual from 'lodash/isEqual';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport iconDownload from '../../assets/icons/download.svg';\nimport iconDownloadWithOverlays from '../../assets/icons/downloadWithOverlays.svg';\nimport iconFitToHeight from '../../assets/icons/fit-to-height.svg';\nimport iconFitToWidth from '../../assets/icons/fit-to-width.svg';\nimport iconInfo from '../../assets/icons/info.svg';\nimport iconOne from '../../assets/icons/one.svg';\nimport iconOverlayList from '../../assets/icons/overlay-list.svg';\n\nimport ActionBar from '../../components/ActionBar';\nimport ObjectSelector from '../../components/ObjectSelector';\nimport { OverlayList } from '../../components/OverlayList';\nimport ProxyType from '../../components/Protobuf/ProxyType';\nimport {\n  initViewState,\n  setViewData,\n  setSharedStateData,\n  addImageNotAvailableNotification,\n  setSaveFlag,\n} from '../../redux/actions/index';\nimport ActionBarType, { SEPARATOR } from '../../types/ActionBarType';\nimport logger from '../../utils/logger';\nimport { canReadImageView, canEditImageView } from '../../utils/permissions';\nimport ImageEditor from './components/ImageEditor';\nimport ImageInfo from './components/ImageInfo';\n\nclass ImageView extends Component {\n  state = {\n    viewSizeChangeCounter: this.props.viewSizeChangeCounter,\n    isOverlayInfoOpen: false,\n    isImageInfoOpen: false,\n    canvasInitResize: false,\n    subscribedSource: undefined,\n  };\n\n  async componentDidMount() {\n    if (this.props.sourceImage) {\n      this.unsubscribeFromProductStream();\n      this.resubscribeToProductStream(this.props.sourceImage, this.props.overlays);\n    }\n\n    const { configuration, proxy } = this.props;\n    if (configuration?.objectSelectorImages?.size === 0) {\n      await configuration.setObjectSelectorImages(proxy.protobuf);\n    }\n    if (configuration?.idNameMappings?.size === 0) {\n      await configuration.setIdNameMappings(proxy.protobuf);\n    }\n    proxy.dispatchCurrentConfiguration(configuration);\n  }\n\n  componentDidUpdate(nextProps) {\n    this.updateViewSize(nextProps.viewSizeChangeCounter);\n\n    const oldVariables = this.getUsedVariablesFromOverlay(this.props.overlays);\n    const newVariables = this.getUsedVariablesFromOverlay(nextProps.overlays);\n    if (\n      !isEqual(oldVariables, newVariables) ||\n      (this.state.subscribedSource !== nextProps.sourceImage && nextProps.sourceImage)\n    ) {\n      this.resubscribeToProductStream(nextProps.sourceImage, nextProps.overlays);\n    }\n\n    if (this.props.isBrowserWindowVisible !== nextProps.isBrowserWindowVisible) {\n      if (nextProps.isBrowserWindowVisible) {\n        this.resubscribeToProductStream(this.props.sourceImage, this.props.overlays);\n      } else {\n        this.unsubscribeFromProductStream();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromProductStream();\n  }\n\n  updateViewSize = (newViewSizeChangeCounter) => {\n    if (\n      newViewSizeChangeCounter > this.state.viewSizeChangeCounter ||\n      this.state.viewSizeChangeCounter === undefined\n    ) {\n      this.setState({ viewSizeChangeCounter: newViewSizeChangeCounter });\n    }\n  };\n\n  resubscribeToProductStream = (imageId, overlays) => {\n    if (imageId) {\n      this.unsubscribeFromProductStream();\n      this.subscribeToProductStream(imageId, overlays);\n      this.setState({ subscribedSource: imageId });\n    }\n  };\n\n  subscribeToProductStream = (imageId, overlays) => {\n    if (!this.productSub) {\n      const { inspectionId } = this.props;\n      const startAtTriggerCount = -1; // image view can only show one item at a time\n      const imageIds = [imageId];\n      const valueIds = this.getUsedVariablesFromOverlay(overlays);\n      const desc = { inspectionId, imageIds, valueIds, startAtTriggerCount };\n      this.productSub = this.props.proxy.subscribeToProductStream(desc, this.onProduct);\n    }\n  };\n\n  unsubscribeFromProductStream = () => {\n    if (this.productSub) {\n      this.props.proxy.unsubscribeFromProductStream(this.productSub);\n      this.productSub = null;\n    }\n  };\n\n  getUsedVariablesFromOverlay = (overlays) => {\n    const variables = [];\n    overlays &&\n      overlays.forEach((overlay) => {\n        Object.keys(overlay).forEach((key) => {\n          if (key.indexOf('Variable') > -1 && overlay[key] && !variables.includes(overlay[key])) {\n            variables.push(overlay[key]);\n          }\n        });\n      });\n    return variables;\n  };\n\n  setAllOverlaysActive = (isActive) => {\n    const updatedOverlays = this.props.overlays.map((overlay) => ({\n      ...overlay,\n      isActive,\n    }));\n    this.props.setSharedStateData('overlays', updatedOverlays);\n    this.props.setSaveFlag(true);\n  };\n\n  createActiveOverlayList = (overlays) => overlays.filter((overlay) => overlay.isActive);\n\n  createActiveOverlayIdList = (overlays) => {\n    const activeOverlays = overlays.filter((overlay) => overlay.isActive);\n    return activeOverlays.map((overlay) => overlay.id);\n  };\n\n  onProduct = ({ product }) => {\n    const imageId = this.props.sourceImage;\n\n    this.setState({ imageId, product });\n    if (!this.state.canvasInitResize) {\n      this.setState({ canvasInitResize: true });\n    }\n  };\n\n  toggleOverlayInfo = () => {\n    this.setState({\n      isOverlayInfoOpen: !this.state.isOverlayInfoOpen,\n      isImageInfoOpen: false,\n    });\n  };\n\n  toggleImageInfo = () => {\n    this.setState({\n      isImageInfoOpen: !this.state.isImageInfoOpen,\n      isOverlayInfoOpen: false,\n    });\n  };\n\n  setSourceImageId = (id) => {\n    if (!id) {\n      logger.error(`OjectSelector did not return a valid id ${id}.`);\n      return;\n    }\n    this.props.setSharedStateData('sourceImage', id);\n  };\n\n  updateOverlayList = (updatedOverlayList) => {\n    this.props.setSharedStateData('overlays', updatedOverlayList);\n    this.props.setSaveFlag(true);\n  };\n\n  setTitleFromConfig = () => {\n    const { sourceImage, inspectionId, configuration } = this.props;\n    if (configuration) {\n      const path = configuration.getValueNameForId(inspectionId, sourceImage);\n      if (path) {\n        this.props.setViewData('windowName', path);\n      }\n    }\n  };\n\n  renderObjectSelector = () => {\n    const { configuration, inspectionId } = this.props;\n    if (!configuration || !inspectionId) {\n      return;\n    }\n\n    const images = configuration.getObjectSelectorImagesForInspection(inspectionId);\n\n    return (\n      <div style={{ width: '100%', overflow: 'auto' }}>\n        {images && (\n          <ObjectSelector\n            singleSelect\n            data={images.tree}\n            onChange={(selectedId, checkedLocation) => {\n              this.setSourceImageId(selectedId);\n              this.props.setViewData('windowName', checkedLocation);\n              this.props.setSaveFlag(true);\n            }}\n          />\n        )}\n      </div>\n    );\n  };\n\n  renderImageView = () => {\n    const { viewActions } = this.props;\n\n    return (\n      <div style={{ height: '100%', width: '100%' }}>\n        <div style={{ height: '100%', width: '100%' }}>{this.renderImageViewImpl()}</div>\n        <ActionBar isViewAction actions={viewActions(this)} />\n      </div>\n    );\n  };\n\n  renderImageViewImpl() {\n    const { product } = this.state;\n    if (!product || product.released) {\n      return <div>&lt;UNAVAILABLE&gt;</div>;\n    }\n\n    return [this.renderImageEditor(), this.renderImageInfo(), this.renderOverlayList()];\n  }\n\n  renderImageEditor() {\n    const { inspectionId, id } = this.props;\n    const { product, imageId, isImageInfoOpen } = this.state;\n\n    return (\n      <ImageEditor\n        ref={(ref) => {\n          this.imageEditor = ref;\n        }}\n        id={id}\n        inspectionId={inspectionId}\n        imageId={imageId}\n        product={product}\n        key={`ImageEditor${id}`}\n        isImageInfoOpen={isImageInfoOpen}\n      />\n    );\n  }\n\n  renderImageInfo() {\n    const { inspectionId, id } = this.props;\n    const { isImageInfoOpen } = this.state;\n\n    if (!isImageInfoOpen) {\n      return;\n    }\n\n    return (\n      <ImageInfo\n        id={id}\n        key={`ImageInfo${id}`}\n        inspectionId={inspectionId}\n        imageInfoClass={classNames({ 'info-box': true })}\n      />\n    );\n  }\n\n  renderOverlayList() {\n    const { overlays, id } = this.props;\n    const { isOverlayInfoOpen } = this.state;\n\n    if (!isOverlayInfoOpen) {\n      return;\n    }\n\n    return (\n      <div className={classNames({ 'info-box': true })} key={`OverlayList${id}`}>\n        <OverlayList\n          overlays={overlays}\n          updateOverlayList={this.updateOverlayList}\n          canSelectRow={false}\n          onSelectAll={(checked) => this.setAllOverlaysActive(checked)}\n          hasActionBar={false}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const { sourceImage, myPermissions } = this.props;\n\n    this.setTitleFromConfig();\n\n    if (canReadImageView(myPermissions) || canEditImageView(myPermissions)) {\n      return (\n        <div className=\"image-view-wrapper\">\n          {sourceImage ? this.renderImageView() : this.renderObjectSelector()}\n        </div>\n      );\n    }\n\n    return <div></div>;\n  }\n}\n\nImageView.defaultProps = {\n  viewActions: (imageView) => {\n    const canEdit = canEditImageView(imageView.props.myPermissions);\n    const canRead = canReadImageView(imageView.props.myPermissions);\n    const actions = [\n      {\n        intlId: 'imageView.zoomOut',\n        iconUrl: iconOne,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.resetZoom();\n          }\n        },\n        enabled: canEdit,\n      },\n      {\n        intlId: 'imageView.fitToWidth',\n        iconUrl: iconFitToWidth,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.fitToWidth();\n          }\n        },\n        enabled: canEdit,\n      },\n      {\n        intlId: 'imageView.fitToHeight',\n        iconUrl: iconFitToHeight,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.fitToHeight();\n          }\n        },\n        enabled: canEdit,\n      },\n      {\n        type: SEPARATOR,\n      },\n      {\n        intlId: 'imageView.save',\n        iconUrl: iconDownload,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.downloadOriginalImage();\n          }\n        },\n        enabled: canRead || canEdit,\n      },\n      {\n        intlId: 'imageView.saveWithOverlays',\n        iconUrl: iconDownloadWithOverlays,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.downloadOriginalImageWithOverlays();\n          }\n        },\n        enabled: canRead || canEdit,\n      },\n      {\n        type: SEPARATOR,\n      },\n      {\n        intlId: 'imageView.overlayListToggle',\n        iconUrl: iconOverlayList,\n        onClickHandler: () => {\n          imageView.toggleOverlayInfo();\n        },\n        enabled: canRead || canEdit,\n      },\n      {\n        intlId: 'imageView.imageInfoToggle',\n        iconUrl: iconInfo,\n        onClickHandler: () => {\n          imageView.toggleImageInfo();\n        },\n        enabled: canRead || canEdit,\n      },\n    ];\n\n    return actions;\n  },\n  overlayActions: () => [],\n  inRunMode: false,\n  currentMode: undefined,\n  proxy: undefined,\n  rgbValues: { R: 0, G: 0, B: 0 },\n  cursorPosition: { width: 0, height: 0 },\n};\n\nImageView.propTypes = {\n  viewActions: ActionBarType,\n  overlayActions: ActionBarType,\n  currentMode: PropTypes.string,\n  viewSizeChangeCounter: PropTypes.number,\n  overlays: PropTypes.array, //eslint-disable-line\n  proxy: ProxyType,\n  sourceImage: PropTypes.number,\n};\n\nconst initState = {\n  scaleFactor: 0,\n  rgbValues: { R: 0, G: 0, B: 0 },\n  imageDimensions: { width: 0, height: 0 },\n  cursorPosition: { x: 0, y: 0 },\n};\n\nconst initSharedState = {\n  overlays: [],\n  sourceImage: 0,\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { inspectionId, id: viewId } = ownProps;\n  dispatch(initViewState(inspectionId, viewId, initState, initSharedState));\n  return {\n    setViewData: (key, data) => dispatch(setViewData(inspectionId, viewId, key, data)),\n    setSharedStateData: (key, data) =>\n      dispatch(setSharedStateData(inspectionId, key, data, viewId)),\n    addImageNotAvailableNotification: () => dispatch(addImageNotAvailableNotification()),\n    setSaveFlag: (hasChanges) => dispatch(setSaveFlag(hasChanges)),\n  };\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id: viewId } = ownProps;\n  const result = {\n    proxy: state.app.proxy,\n    configuration: state.app.configuration,\n    currentMode: state.app.currentMode,\n    viewSizeChangeCounter: state.viewSet.viewSizeChangeCounter,\n    myPermissions: state.app.myPermissions,\n    isBrowserWindowVisible: state.app.isBrowserWindowVisible,\n  };\n\n  try {\n    return {\n      ...result,\n      overlays: state.inspections[inspectionId]?.sharedState?.views[viewId].overlays,\n      sourceImage: Number(state.inspections[inspectionId]?.sharedState?.views[viewId].sourceImage),\n    };\n  } catch (error) {\n    return result;\n  }\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageView);\n","export default __webpack_public_path__ + \"static/media/show-off.8787321d.svg\";","export default __webpack_public_path__ + \"static/media/drag.a4b2fa8c.svg\";","import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport Table, { BaseTableProps, CallOrReturn, callOrReturn, ColumnShape } from 'react-base-table';\nimport {\n  ContainerGetter,\n  HelperContainerGetter,\n  SortableContainer,\n  SortableElement,\n  SortableHandle,\n  SortEndHandler,\n} from 'react-sortable-hoc';\n\nimport DragIcon from '../../assets/icons/drag.svg';\n\nimport './style.css';\n\ntype SortableArg = { children: React.ReactElement<any, any> | null };\nconst DraggableContainer = SortableContainer(({ children }: SortableArg) => children);\nconst DraggableElement = SortableElement(({ children }: SortableArg) => children);\nconst DraggableHandle = SortableHandle(({ children }: SortableArg) => children);\n\ninterface RowProps\n  extends React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> {\n  key: React.Key;\n  index: number;\n  draggable: boolean;\n}\n\nconst Row: React.FC<React.PropsWithChildren<RowProps>> = ({\n  key,\n  index,\n  children,\n  draggable,\n  ...rest\n}) => {\n  if (!draggable) {\n    return <div {...rest}>{children}</div>;\n  }\n\n  return (\n    <DraggableElement key={key} index={index}>\n      <div {...rest}>\n        <DraggableHandle>\n          <div className=\"draggable-table-handle\">\n            <img src={DragIcon} alt=\"Drag\" />\n          </div>\n        </DraggableHandle>\n        {children}\n      </div>\n    </DraggableElement>\n  );\n};\n\ntype RowPropsHandler<T = unknown> = CallOrReturn<\n  Record<string, any>,\n  {\n    columns: ColumnShape<T>[];\n    rowData: T;\n    rowIndex: number;\n  }\n>;\n\ninterface DraggableTableProps<T = unknown> extends BaseTableProps<T> {\n  draggable?: boolean;\n  data: T[];\n  onSequenceChange: (oldIndex: number, newIndex: number) => void;\n  rowProps?: Record<string, any>;\n}\n\nconst DraggableTable = React.memo(\n  <T extends Record<string, any> = Record<string, any>>({\n    draggable = true,\n    data: initialData,\n    onSequenceChange,\n    rowProps,\n    ...tableProps\n  }: DraggableTableProps<T>) => {\n    const tableRef = useRef<Table<T>>(null);\n\n    const [data, setData] = useState<typeof initialData>([]);\n\n    useEffect(() => {\n      setData(initialData);\n    }, [initialData]);\n\n    const getContainer: ContainerGetter = () => {\n      return tableRef.current?.getDOMNode()?.querySelector('.BaseTable__body') as HTMLElement;\n    };\n\n    const getHelperContainer: HelperContainerGetter = () => {\n      return tableRef.current?.getDOMNode()?.querySelector('.BaseTable__table') as HTMLElement;\n    };\n\n    const rowPropsHandler: RowPropsHandler<T> = (args) => {\n      const extraProps = callOrReturn(rowProps);\n      return {\n        ...extraProps,\n        draggable,\n        tagName: Row,\n        index: args.rowIndex,\n      };\n    };\n\n    const handleSortEnd: SortEndHandler = useCallback(\n      ({ oldIndex, newIndex }) => {\n        onSequenceChange(oldIndex, newIndex);\n        const newData = [...data];\n        const [removed] = newData.splice(oldIndex, 1);\n        newData.splice(newIndex, 0, removed);\n        setData(newData);\n      },\n      [data, onSequenceChange],\n    );\n\n    if (!draggable) {\n      return <Table {...tableProps} ref={tableRef} data={data} rowProps={rowPropsHandler} />;\n    }\n\n    return (\n      <DraggableContainer\n        useDragHandle\n        getContainer={getContainer}\n        helperContainer={getHelperContainer}\n        onSortEnd={handleSortEnd}\n      >\n        <Table\n          {...tableProps}\n          ref={tableRef}\n          data={data}\n          rowProps={rowPropsHandler}\n          className=\"draggable\"\n        />\n      </DraggableContainer>\n    );\n  },\n);\n\nexport default DraggableTable;\n","import { useState, useRef } from 'react';\nimport { TextField, Button } from '@material-ui/core';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport Dialog from '../../../../components/Dialog';\nimport { languages } from '../../../../translations';\n\nimport './styles.scss';\n\nexport interface Alias {\n  id: string;\n  objectId?: number | string;\n  alias?: Record<string, any>;\n  name: string;\n  dottedName?: string;\n  value: any; //TODO: specify type\n}\n\ninterface AliasEditorProps {\n  open: boolean;\n  onClose: (alias: Alias, isSaved?: boolean) => void;\n  selectedAlias: Alias;\n}\n\nconst AliasEditor = ({ open, onClose, selectedAlias }: AliasEditorProps) => {\n  const intl = useIntl();\n\n  if (!selectedAlias.alias) {\n    selectedAlias.alias = {};\n  }\n\n  const oldState = useRef({ ...selectedAlias.alias });\n  const [alias, setAlias] = useState(selectedAlias || {});\n\n  if (alias.id !== selectedAlias.id) {\n    setAlias(selectedAlias);\n  }\n\n  return (\n    <Dialog\n      isInView\n      isPopup\n      title={intl.messages['listView.AliasEditor.title']}\n      onClose={() => {\n        alias.alias = oldState.current;\n        onClose(alias);\n      }}\n      open={open}\n    >\n      <div className=\"alias-editor-wrapper\">\n        <div className=\"row\">\n          <div className=\"label\">\n            <FormattedMessage id=\"listView.AliasEditor.dottedName\" />:\n          </div>\n          <div className=\"textfield\">\n            <TextField id=\"dottedNameLabel\" fullWidth value={selectedAlias.name} disabled />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"label\">\n            <FormattedMessage id=\"listView.AliasEditor.value\" />:\n          </div>\n          <div className=\"textfield\">\n            <TextField id=\"valueLabel\" fullWidth disabled value={selectedAlias.value} />\n          </div>\n        </div>\n        {(languages ?? []).map((language) => (\n          <div className=\"row\" key={`rowDiv${language.locale}${selectedAlias.id}`}>\n            <div className=\"label\">Alias {language.name}:</div>\n            <div className=\"textfield\">\n              <TextField\n                id={`aliasLabel${language.locale}`}\n                fullWidth\n                defaultValue={selectedAlias.alias && selectedAlias.alias[language.locale]}\n                onChange={(e) => {\n                  if (!alias.alias) {\n                    alias.alias = {};\n                  }\n                  alias.alias[language.locale] = e.target.value;\n                }}\n              />\n            </div>\n          </div>\n        ))}\n        <div className=\"buttons\">\n          <Button variant=\"contained\" color=\"primary\" onClick={() => onClose(alias, true)}>\n            <FormattedMessage id=\"listView.AliasEditor.button\" />\n          </Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default AliasEditor;\n","import { memo, useCallback, useEffect, useMemo, useState } from 'react';\nimport { AutoResizer } from 'react-base-table';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport EditIcon from '../../../../assets/icons/edit.svg';\nimport DraggableTable from '../../../../components/DraggableTable';\nimport IconButton from '../../../../components/buttons/IconButton';\nimport Configuration from '../../../../protobuf/Configuration';\nimport Product from '../../../../protobuf/Product';\nimport Proxy from '../../../../protobuf/Proxy';\nimport { setSaveFlag, setViewData } from '../../../../redux/actions';\nimport { canEditListView } from '../../../../utils/permissions';\nimport AliasEditor, { Alias } from './AliasEditor';\n\ninterface ColumnType {\n  key: string;\n  dataKey: string;\n  title: string;\n  width: number;\n  flexGrow?: number;\n}\n\ninterface ListProps {\n  viewId: string;\n  inspectionId: string;\n}\n\nexport const List = memo(({ viewId, inspectionId }: ListProps) => {\n  const proxy = useSelector<any>((state) => state.app?.proxy) as Proxy;\n  const configuration = useSelector<any>((state) => state.app?.configuration) as Configuration;\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const isSelectionMode = useSelector<any>(\n    (state) => state.inspections[inspectionId]?.views[viewId]?.isSelectionMode ?? true,\n  ) as boolean;\n  const showAliases = useSelector<any>(\n    (state) => state.inspections[inspectionId]?.sharedState?.showAliasesInList,\n  ) as boolean;\n  const locale = useSelector<any>((state) => state.app.locale) as string;\n  const aliases = useSelector<any>(\n    (state) => state.inspections[inspectionId]?.sharedState?.listViewAliases ?? new Map(),\n  ) as Map<string | number, Alias>;\n  const selection = useSelector<any>(\n    (state) => state.inspections[inspectionId]?.views[viewId]?.selection ?? [],\n  ) as React.Key[];\n  const dispatch = useDispatch();\n  const intl = useIntl();\n\n  const [listValues, setListValues] = useState<Alias[]>([]);\n  const [isAliasEditorOpen, setIsAliasEditorOpen] = useState(false);\n  const [selectedAlias, setSelectedAlias] = useState<Alias | null>(null);\n\n  useEffect(() => {\n    let productSub: string | null = null;\n\n    const createListValues = (product: Product): Alias[] => {\n      const values: Omit<Alias, 'name'>[] = product.getValuesAsString(selection);\n      return values.map((entry: { id: string; value: string }) => ({\n        ...entry,\n        name: configuration.getValueNameForId(inspectionId, entry.id) || '',\n      }));\n    };\n\n    const onProduct = ({ product }: { product: Product }) => {\n      const listValues = createListValues(product);\n      setListValues(listValues);\n      return Promise.resolve();\n    };\n\n    const subscribeToProductStream = () => {\n      if (!productSub) {\n        const startAtTriggerCount = -1; // list view can only show one item at a time\n        const desc = { inspectionId, valueIds: selection, startAtTriggerCount };\n        productSub = proxy.subscribeToProductStream(desc, onProduct);\n      }\n    };\n\n    const unsubscribeFromProductStream = () => {\n      if (productSub) {\n        proxy.unsubscribeFromProductStream(productSub);\n        productSub = null;\n      }\n    };\n\n    unsubscribeFromProductStream();\n    if (!isSelectionMode && selection.length > 0) {\n      subscribeToProductStream();\n    }\n\n    return () => {\n      unsubscribeFromProductStream();\n    };\n  }, [configuration, inspectionId, isSelectionMode, proxy, selection]);\n\n  const columns = useMemo(() => {\n    const columns: ColumnType[] = [\n      {\n        key: showAliases ? 'Alias/Name' : 'Name',\n        dataKey: 'name',\n        title: showAliases ? intl.messages['listView.aliasName'] : intl.messages['listView.name'],\n        width: 0,\n        flexGrow: 2,\n      },\n      {\n        key: 'Values',\n        dataKey: 'value',\n        title: intl.messages['listView.values'],\n        width: 0,\n        flexGrow: 1,\n      },\n    ];\n\n    if (canEditListView(myPermissions)) {\n      columns.push({\n        key: '',\n        dataKey: 'editAlias',\n        title: '',\n        width: 50,\n      });\n    }\n    return columns;\n  }, [intl.messages, myPermissions, showAliases]);\n\n  const tableData = useMemo(() => {\n    return listValues.map((row) => {\n      const alias = aliases.get(row.id)?.alias;\n\n      return {\n        ...row,\n        name: showAliases ? alias?.[locale] || row.name : row.name,\n        editAlias: (\n          <IconButton\n            tooltip={intl.messages['listView.AliasEditor.title']}\n            onClick={() => {\n              setSelectedAlias(row);\n              setIsAliasEditorOpen(true);\n            }}\n            iconUrl={EditIcon}\n            key=\"editAlias\"\n          />\n        ),\n      };\n    });\n\n    //isAliasEditorOpen is included in dependency array to force alias updates after editor closes (it is due to use of immutable Map of aliases in reducer)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [aliases, intl.messages, listValues, locale, showAliases, isAliasEditorOpen]);\n\n  const currentValueObject = useMemo(\n    () => (listValues || []).find((value) => value.id === selectedAlias?.id),\n    [listValues, selectedAlias?.id],\n  );\n\n  const saveNewOrder = useCallback(\n    (before: number, after: number) => {\n      const [removed] = selection.splice(before, 1);\n      selection.splice(after, 0, removed);\n      dispatch(setViewData(inspectionId, viewId, 'selection', selection));\n      dispatch(setSaveFlag(true));\n    },\n    [dispatch, inspectionId, selection, viewId],\n  );\n\n  const closeAliasEditor = useCallback(\n    (alias: Alias, isSaved: boolean) => {\n      if (alias) {\n        if (!alias.alias) {\n          alias.alias = {};\n        }\n        Object.keys(alias.alias).forEach((language) => {\n          if (alias.alias?.[language] === '') {\n            delete alias.alias[language];\n          }\n        });\n\n        const isEmpty = Object.keys(alias.alias).length === 0;\n        if (aliases.has(alias.id)) {\n          const newAlias = aliases.get(alias.id) as Alias;\n          newAlias.alias = alias.alias;\n\n          if (isEmpty) {\n            aliases.delete(alias.id);\n          } else {\n            aliases.set(alias.id, newAlias);\n          }\n        } else {\n          if (!isEmpty) {\n            aliases.set(alias.id, {\n              ...alias,\n              objectId: alias.id,\n              dottedName: alias.name,\n              alias: alias.alias,\n            });\n          }\n        }\n      }\n\n      setIsAliasEditorOpen(false);\n      if (isSaved) {\n        dispatch(setSaveFlag(true));\n      }\n    },\n    [aliases, dispatch],\n  );\n\n  return (\n    <div style={{ height: '100%' }}>\n      <AutoResizer>\n        {({ width, height }) => (\n          <DraggableTable\n            columns={columns}\n            data={tableData}\n            width={width}\n            height={height}\n            headerHeight={30}\n            rowHeight={30}\n            onSequenceChange={saveNewOrder}\n          />\n        )}\n      </AutoResizer>\n      {currentValueObject && isAliasEditorOpen && (\n        <AliasEditor\n          onClose={(alias, isSaved = false) => closeAliasEditor(alias, isSaved)}\n          open={isAliasEditorOpen}\n          selectedAlias={currentValueObject}\n        />\n      )}\n    </div>\n  );\n});\n","import { memo, useEffect, useMemo, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ObjectSelector, { TreeNodeSchema } from '../../../../components/ObjectSelector';\nimport Configuration from '../../../../protobuf/Configuration';\nimport { setViewData, setSaveFlag } from '../../../../redux/actions';\n\ninterface ValueSelectorProps {\n  viewId: string;\n  inspectionId: string;\n}\n\nconst ValueSelector = memo(({ viewId, inspectionId }: ValueSelectorProps) => {\n  const configuration = useSelector<any>((state) => state.app?.configuration) as Configuration;\n  const selection = useSelector<any>(\n    (state) => state.inspections[inspectionId]?.views[viewId]?.selection ?? [],\n  ) as React.Key[];\n  const dispatch = useDispatch();\n\n  const [expandedKeys, setExpandedKeys] = useState<React.Key[]>([]);\n\n  const { tree, filterIgnore } = useMemo(() => {\n    if (!configuration || !inspectionId) {\n      return { tree: null, filterIgnore: [] };\n    }\n    const name = configuration.getInspectionName(inspectionId);\n    const filterIgnore = [`Inspections.${name}`, `Inspections${name}`, name];\n\n    const items = configuration.getObjectSelectorItemsForInspection(inspectionId);\n    if (!items) {\n      return { tree: null, filterIgnore };\n    }\n    return {\n      tree: configuration.filterArrayValuesFromTree(items.tree) as TreeNodeSchema,\n      filterIgnore,\n    };\n  }, [configuration, inspectionId]);\n\n  useEffect(() => {\n    if (tree?.children?.length === 1) {\n      setExpandedKeys((keys) => (tree.children[0].name ? [...keys, tree.children[0].name] : keys));\n    }\n  }, [tree]);\n\n  if (!tree) {\n    return <div style={{ width: '100%', overflow: 'auto', height: '100%' }}></div>;\n  }\n\n  return (\n    <div style={{ width: '100%', overflow: 'auto', height: '100%' }}>\n      <ObjectSelector\n        data={tree}\n        onChange={(selectedIds) => {\n          dispatch(setViewData(inspectionId, viewId, 'selection', selectedIds));\n          dispatch(setSaveFlag(true));\n        }}\n        onExpand={setExpandedKeys}\n        selection={selection}\n        expandedKeys={expandedKeys}\n        filterIgnore={filterIgnore}\n      />\n    </div>\n  );\n});\n\nexport default ValueSelector;\n","import { useCallback, useEffect, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport iconList from '../../assets/icons/overlay-list.svg';\nimport iconShowOff from '../../assets/icons/show-off.svg';\nimport iconShow from '../../assets/icons/show.svg';\nimport ActionBar, { ActionBarType } from '../../components/ActionBar';\nimport Configuration from '../../protobuf/Configuration';\nimport Proxy from '../../protobuf/Proxy';\nimport {\n  initViewState,\n  setViewData,\n  setSaveFlag,\n  updateListViewShowAliases,\n} from '../../redux/actions/index';\nimport { TOGGLE_BUTTON } from '../../types/ActionBarType';\n\nimport { canReadListView, canEditListView } from '../../utils/permissions';\nimport { List } from './components/List';\nimport ValueSelector from './components/ValueSelector';\n\nimport 'react-base-table/styles.css';\nimport './style.scss';\n\ninterface ListViewProps {\n  id: string;\n  inspectionId: string;\n}\n\nconst ListView = ({ id: viewId, inspectionId }: ListViewProps) => {\n  const proxy = useSelector<any>((state) => state.app?.proxy) as Proxy;\n  const configuration = useSelector<any>((state) => state.app?.configuration) as Configuration;\n  const isSelectionMode = useSelector<any>(\n    (state) => state.inspections[inspectionId]?.views[viewId]?.isSelectionMode ?? true,\n  ) as boolean;\n  const showAliases = useSelector<any>(\n    (state) => state.inspections[inspectionId]?.sharedState?.showAliasesInList,\n  ) as boolean;\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const initState = {\n      selection: [],\n      isSelectionMode: true,\n    };\n\n    const initSharedState = {};\n    dispatch(initViewState(inspectionId, viewId, initState, initSharedState));\n\n    Promise.resolve()\n      .then(() => {\n        if (configuration?.objectSelectorItems?.size === 0 && proxy) {\n          return configuration.setObjectSelectorItems(proxy.protobuf);\n        }\n      })\n      .then(() => {\n        if (configuration?.idNameMappings?.size === 0 && proxy) {\n          return configuration.setIdNameMappings(proxy.protobuf);\n        }\n      })\n      .then(() => proxy?.dispatchCurrentConfiguration(configuration));\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inspectionId, viewId]);\n\n  const setAliasColumnVisibility = useCallback(\n    (visibility: boolean) => {\n      dispatch(updateListViewShowAliases(inspectionId, visibility));\n      dispatch(setSaveFlag(true));\n    },\n    [dispatch, inspectionId],\n  );\n\n  const viewActions = useMemo<ActionBarType[]>(\n    () => [\n      {\n        intlId: 'listView.save',\n        iconUrl: iconList,\n        onClickHandler: () => {\n          dispatch(setViewData(inspectionId, viewId, 'isSelectionMode', !isSelectionMode));\n          dispatch(setSaveFlag(true));\n        },\n        enabled: canEditListView(myPermissions),\n      },\n      {\n        type: TOGGLE_BUTTON,\n        id: inspectionId,\n        intlId: 'listView.Actionbar.showAliases',\n        iconUrl: iconShow,\n        onClickHandler: () => {\n          setAliasColumnVisibility(true);\n        },\n        intlIdAlternative: 'listView.Actionbar.hideAliases',\n        iconUrlAlternative: iconShowOff,\n        onClickHandlerAlternative: () => {\n          setAliasColumnVisibility(false);\n        },\n        showAlternative: showAliases,\n      },\n    ],\n    [\n      dispatch,\n      inspectionId,\n      isSelectionMode,\n      myPermissions,\n      setAliasColumnVisibility,\n      showAliases,\n      viewId,\n    ],\n  );\n\n  const canEdit = canEditListView(myPermissions);\n\n  if (canReadListView(myPermissions) || canEdit) {\n    return (\n      <div className=\"list-view-wrapper\">\n        {isSelectionMode && canEdit ? (\n          <ValueSelector viewId={viewId} inspectionId={inspectionId} />\n        ) : (\n          <List viewId={viewId} inspectionId={inspectionId} />\n        )}\n        <ActionBar isViewAction actions={viewActions} />\n      </div>\n    );\n  }\n\n  return <div></div>;\n};\n\nexport default ListView;\n","export default __webpack_public_path__ + \"static/media/delete-dustbin.8c1d9e0c.svg\";","import { ReactElement, useEffect } from 'react';\nimport { TextField, InputAdornment, IconButton } from '@material-ui/core';\nimport { MuiThemeProvider, createTheme, makeStyles } from '@material-ui/core/styles';\nimport { FormattedMessage } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ClearIcon from '../../../../assets/icons/clear.svg';\nimport { OutlinedSelection } from '../../../../components/OutlinedSelection';\nimport Configuration from '../../../../protobuf/Configuration';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport { setSaveFlag } from '../../../../redux/actions';\nimport { canEditParameterView } from '../../../../utils/permissions';\nimport { OverlaySchema } from '../../../../utils/reduxHelper';\n\nconst useStyles = makeStyles(() => ({\n  header: {\n    fontSize: '1.8rem',\n    fontWeight: 'bold',\n    marginBottom: 30,\n  },\n  input: {\n    height: 37,\n    fontSize: '1.4rem',\n  },\n  label: {\n    fontSize: '1.4rem',\n    transform: 'translate(14px, 11px) scale(1)',\n  },\n}));\n\nconst theme = createTheme({\n  typography: {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    //@ts-ignore\n    useNextVariants: true,\n    htmlFontSize: 10,\n  },\n});\n\ninterface OverlayPropertyListProps {\n  inspectionId: string;\n  viewId: string;\n  currentOverlay: OverlaySchema;\n  imageDimensions?: { width: number; height: number };\n  onChange: (changedValue: Partial<OverlaySchema>) => void;\n  openSelection: (variableName: any, variableId: keyof OverlaySchema) => void;\n}\n\nexport const OverlayPropertyList = ({\n  inspectionId,\n  currentOverlay,\n  imageDimensions,\n  onChange,\n  openSelection,\n}: OverlayPropertyListProps) => {\n  const proxy = useSelector<any>((state) => state.app?.proxy) as Proxy;\n  const configuration = useSelector<any>((state) => state.app?.configuration) as Configuration;\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const dispatch = useDispatch();\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (configuration.idNameMappings.size === 0) {\n      configuration.setIdNameMappings(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n  }, [configuration, proxy]);\n\n  const imageWidth = imageDimensions?.width ?? 0;\n  const imageHeight = imageDimensions?.height ?? 0;\n\n  const minWidth = Number(-imageWidth * 2);\n  const maxWidth = Number(imageWidth * 2);\n\n  const minHeight = Number(-imageHeight * 2);\n  const maxHeight = Number(imageHeight * 2);\n\n  const canEdit = canEditParameterView(myPermissions);\n\n  const handleChange = (changedValue: Partial<OverlaySchema>) => {\n    dispatch(setSaveFlag(true));\n    onChange(changedValue);\n  };\n\n  type CommonFieldProps = {\n    name: ReactElement;\n    id: keyof OverlaySchema;\n    disabled: boolean;\n  };\n\n  const renderTextField = ({ name, id, disabled }: CommonFieldProps) => {\n    return (\n      <TextField\n        label={name}\n        style={{ width: '100%' }}\n        id={id}\n        type=\"text\"\n        variant=\"outlined\"\n        disabled={disabled || !currentOverlay}\n        InputProps={{ classes: { input: classes.input } }}\n        InputLabelProps={{ classes: { root: classes.label } }}\n        value={(currentOverlay && currentOverlay[id]) || ''}\n        onChange={(e) => handleChange({ [id]: e.target.value })}\n      />\n    );\n  };\n\n  const renderNumberField = ({\n    name,\n    id,\n    min,\n    max,\n    disabled,\n  }: CommonFieldProps & { min: number; max: number }) => {\n    const value = (currentOverlay && currentOverlay[id]) || '';\n    const trimToMinMax = (min: number, max: number, value: string) => {\n      let valueNumber = Number(value);\n      if (valueNumber > max) {\n        valueNumber = max;\n      }\n      if (valueNumber < min) {\n        valueNumber = min;\n      }\n\n      return valueNumber;\n    };\n    return (\n      <TextField\n        label={name}\n        style={{ width: '100%' }}\n        id={id}\n        type=\"number\"\n        variant=\"outlined\"\n        disabled={disabled || !currentOverlay}\n        InputProps={{\n          classes: { input: classes.input },\n          inputProps: { min, max },\n        }}\n        InputLabelProps={{ classes: { root: classes.label } }}\n        value={value}\n        onChange={(e) => handleChange({ [id]: trimToMinMax(min, max, e.target.value) })}\n      />\n    );\n  };\n\n  const renderSelection = ({\n    name,\n    id,\n    options,\n    disabled,\n  }: CommonFieldProps & { options: string[] }) => {\n    return (\n      <OutlinedSelection\n        selectedValue={currentOverlay && currentOverlay[id]}\n        values={options}\n        onSelectionChanged={handleChange}\n        name={name}\n        id={id}\n        disabled={disabled || !currentOverlay}\n      />\n    );\n  };\n\n  const renderObjectSelector = ({ name, id, disabled }: CommonFieldProps) => {\n    const value =\n      (currentOverlay &&\n        currentOverlay[id] &&\n        configuration.getValueNameForId(inspectionId, currentOverlay[id])) ||\n      '';\n\n    return (\n      <TextField\n        label={name}\n        style={{ width: '100%' }}\n        id={id}\n        type=\"text\"\n        variant=\"outlined\"\n        disabled={disabled || !currentOverlay}\n        InputProps={{\n          classes: { input: classes.input },\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <IconButton\n                edge=\"end\"\n                aria-label=\"clear\"\n                onClick={() => handleChange({ [id]: '' })}\n                title={id}\n              >\n                <img src={ClearIcon} alt=\"x\" />\n              </IconButton>\n            </InputAdornment>\n          ),\n        }}\n        InputLabelProps={{ classes: { root: classes.label } }}\n        value={value}\n        onFocus={() => openSelection(name, id)}\n      />\n    );\n  };\n\n  return (\n    <div className=\"parameter-view-overlay-overlaypropertylist\">\n      <MuiThemeProvider theme={theme}>\n        <label className={classes.header}>\n          <FormattedMessage id=\"parameterview.overlay.parameters\" />\n        </label>\n        {renderTextField({\n          name: <FormattedMessage id=\"parameterview.overlay.label\" />,\n          id: 'label',\n          disabled: !canEdit,\n        })}\n\n        {renderNumberField({\n          name: <FormattedMessage id=\"parameterview.overlay.x\" />,\n          id: 'x',\n          min: minWidth,\n          max: maxWidth,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({\n          name: <FormattedMessage id=\"parameterview.overlay.xVariable\" />,\n          id: 'xVariable',\n          disabled: !canEdit,\n        })}\n\n        {renderNumberField({\n          name: <FormattedMessage id=\"parameterview.overlay.offsetLeft\" />,\n          id: 'offsetLeft',\n          min: minWidth,\n          max: maxWidth,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({\n          name: <FormattedMessage id=\"parameterview.overlay.offsetLeftVariable\" />,\n          id: 'offsetLeftVariable',\n          disabled: !canEdit,\n        })}\n\n        {renderNumberField({\n          name: <FormattedMessage id=\"parameterview.overlay.y\" />,\n          id: 'y',\n          min: minHeight,\n          max: maxHeight,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({\n          name: <FormattedMessage id=\"parameterview.overlay.yVariable\" />,\n          id: 'yVariable',\n          disabled: !canEdit,\n        })}\n\n        {renderNumberField({\n          name: <FormattedMessage id=\"parameterview.overlay.offsetTop\" />,\n          id: 'offsetTop',\n          min: minHeight,\n          max: maxHeight,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({\n          name: <FormattedMessage id=\"parameterview.overlay.offsetTopVariable\" />,\n          id: 'offsetTopVariable',\n          disabled: !canEdit,\n        })}\n\n        {renderNumberField({\n          name: <FormattedMessage id=\"parameterview.overlay.width\" />,\n          id: 'width',\n          min: minWidth,\n          max: maxWidth,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({\n          name: <FormattedMessage id=\"parameterview.overlay.widthVariable\" />,\n          id: 'widthVariable',\n          disabled: !canEdit,\n        })}\n\n        {renderNumberField({\n          name: <FormattedMessage id=\"parameterview.overlay.height\" />,\n          id: 'height',\n          min: minHeight,\n          max: maxHeight,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({\n          name: <FormattedMessage id=\"parameterview.overlay.heightVariable\" />,\n          id: 'heightVariable',\n          disabled: !canEdit,\n        })}\n        {renderTextField({\n          name: <FormattedMessage id=\"parameterview.overlay.color\" />,\n          id: 'color',\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({\n          name: <FormattedMessage id=\"parameterview.overlay.colorVariable\" />,\n          id: 'colorVariable',\n          disabled: !canEdit,\n        })}\n\n        {renderSelection({\n          name: <FormattedMessage id=\"parameterview.overlay.lineStyle\" />,\n          id: 'lineStyle',\n          options: ['solid', 'dotted', 'dashed'],\n          disabled: !canEdit,\n        })}\n      </MuiThemeProvider>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Dialog from '../../../../components/Dialog';\nimport ObjectSelector, { TreeNodeSchema } from '../../../../components/ObjectSelector';\nimport Configuration from '../../../../protobuf/Configuration';\nimport type Proxy from '../../../../protobuf/Proxy';\n\ninterface VariableSelectionProps {\n  inspectionId: string;\n  open: boolean;\n  onClose?: (selectedId?: React.Key | React.Key[]) => void;\n  title?: string;\n}\n\nexport const VariableSelection = ({\n  inspectionId,\n  open,\n  onClose,\n  title = '',\n}: VariableSelectionProps) => {\n  const proxy = useSelector<any>((state) => state.app?.proxy) as Proxy;\n  const configuration = useSelector<any>((state) => state.app?.configuration) as Configuration;\n\n  const [tree, setTree] = useState<TreeNodeSchema | null>(null);\n  const [filterIgnore, setFilterIgnore] = useState<string[]>([]);\n\n  useEffect(() => {\n    if (configuration.objectSelectorItems?.size === 0) {\n      configuration.setObjectSelectorItems(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n  }, [configuration, proxy]);\n\n  useEffect(() => {\n    const items = configuration.getObjectSelectorItemsForInspection(inspectionId);\n    if (!items) {\n      return;\n    }\n\n    let tree: TreeNodeSchema = items.tree;\n    tree = configuration.filterArrayValuesFromTree(tree);\n\n    setTree(tree);\n\n    setFilterIgnore(() => {\n      const filterIgnore: string[] = [];\n      const name = configuration.getInspectionName(inspectionId);\n\n      filterIgnore.push(`Inspections.${name}`);\n      filterIgnore.push(`Inspections${name}`);\n      filterIgnore.push(name);\n\n      return filterIgnore;\n    });\n  }, [configuration, inspectionId]);\n\n  if (!configuration || !inspectionId || !tree) {\n    return null;\n  }\n\n  return (\n    <Dialog isInView isPopup title={title} onClose={onClose} open={open}>\n      <div className=\"objectselector-in-dialog-wrapper\">\n        <ObjectSelector\n          singleSelect\n          data={tree}\n          onChange={(selectedId) => onClose?.(selectedId)}\n          filterIgnore={filterIgnore}\n        />\n      </div>\n    </Dialog>\n  );\n};\n","import { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport iconDeleteDustbin from '../../../../assets/icons/delete-dustbin.svg';\nimport iconPlus from '../../../../assets/icons/plus.svg';\nimport ActionBar, { ActionBarType } from '../../../../components/ActionBar/index';\nimport { OverlayList } from '../../../../components/OverlayList';\nimport { initViewState, setSharedStateData, setSaveFlag } from '../../../../redux/actions';\n\nimport logger from '../../../../utils/logger';\nimport { canEditParameterView } from '../../../../utils/permissions';\nimport { OverlaySchema, updateOverlayList } from '../../../../utils/reduxHelper';\nimport { OverlayPropertyList } from './OverlayPropertyList';\nimport { VariableSelection } from './VariableSelection';\n\nimport './style.scss';\n\ninterface OverlayProps {\n  id: string;\n  inspectionId: string;\n}\n\nexport const Overlay = ({ id: viewId, inspectionId }: OverlayProps) => {\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const inspections = useSelector<any>((state) => state.inspections) as any;\n  const dispatch = useDispatch();\n\n  const [currentOverlay, setCurrentOverlay] = useState<OverlaySchema | undefined>(undefined);\n  const [isObjectSelectorOpen, setIsObjectSelectorOpen] = useState(false);\n  const [variableName, setVariableName] = useState('Variables');\n  const [variableId, setVariableId] = useState<keyof OverlaySchema | ''>('');\n  const [selectedVariables, setSelectedVariables] = useState<(React.Key | React.Key[])[]>([]);\n\n  useEffect(() => {\n    dispatch(initViewState(inspectionId, viewId, {}, {}));\n  }, [dispatch, inspectionId, viewId]);\n\n  const [editingViewId, overlays, imageDimensions] = useMemo(() => {\n    const editingViewId = inspections[inspectionId]?.sharedState?.editingViewId;\n    const overlays: OverlaySchema[] =\n      inspections[inspectionId]?.sharedState?.views[editingViewId]?.overlays;\n    const imageDimensions: { width: number; height: number } =\n      inspections[inspectionId]?.views[editingViewId]?.imageDimensions;\n\n    return [editingViewId, overlays, imageDimensions];\n  }, [inspectionId, inspections]);\n\n  useEffect(() => {\n    if (overlays && currentOverlay) {\n      const overlay = overlays.find((item) => item.id === currentOverlay.id);\n      if (overlay && overlay !== currentOverlay) {\n        setCurrentOverlay(overlay);\n      }\n    }\n\n    if (!currentOverlay && overlays?.length > 0) {\n      setCurrentOverlay(overlays[0]);\n    }\n  }, [currentOverlay, overlays, editingViewId]);\n\n  useEffect(() => {\n    setCurrentOverlay(overlays?.[0]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editingViewId]);\n\n  const overlayActions = useMemo(() => {\n    const addNewOverlay = () => {\n      const newOverlay: OverlaySchema = {\n        color: '#ebfc02',\n        height: 100,\n        id: Math.floor(Math.random() * 10000),\n        isActive: true,\n        label: 'Overlay',\n        lineStyle: 'solid',\n        width: 100,\n        x: 10,\n        y: 20,\n        offsetLeft: null,\n        offsetTop: null,\n      };\n      try {\n        dispatch(setSharedStateData(inspectionId, 'overlays', [...overlays, newOverlay]));\n        setCurrentOverlay(newOverlay);\n      } catch (e) {\n        logger.error(e instanceof Error ? e.message : String(e));\n      }\n    };\n\n    const getNeighborOverlayId = (id: number, overlays: OverlaySchema[]) => {\n      for (let i = 0; i < overlays.length; i++) {\n        if (overlays[i]['id'] === id) {\n          if (overlays[i - 1]) {\n            return overlays[i - 1]['id'];\n          } else if (overlays[i + 1]) {\n            return overlays[i + 1]['id'];\n          }\n        }\n      }\n      return -1;\n    };\n\n    const deleteCurrentOverlay = () => {\n      if (!currentOverlay) {\n        return;\n      }\n\n      try {\n        const updatedOverlays = overlays.filter((overlay) => overlay.id !== currentOverlay.id);\n        dispatch(setSharedStateData(inspectionId, 'overlays', updatedOverlays));\n\n        const newCurrentOverlay = getNeighborOverlayId(currentOverlay.id, overlays);\n        setCurrentOverlay(overlays.filter((item) => item.id === newCurrentOverlay)[0]);\n      } catch (e) {\n        logger.error(e instanceof Error ? e.message : String(e));\n      }\n    };\n\n    const canEdit = canEditParameterView(myPermissions);\n    const actions: ActionBarType[] = [\n      {\n        intlId: 'parameterview.overlay.add',\n        iconUrl: iconPlus,\n        onClickHandler: () => {\n          dispatch(setSaveFlag(true));\n          addNewOverlay();\n        },\n        enabled: canEdit,\n      },\n      {\n        intlId: 'parameterview.overlay.delete',\n        iconUrl: iconDeleteDustbin,\n        onClickHandler: () => {\n          dispatch(setSaveFlag(true));\n          deleteCurrentOverlay();\n        },\n        enabled: canEdit,\n      },\n    ];\n\n    return actions;\n  }, [currentOverlay, dispatch, inspectionId, myPermissions, overlays]);\n\n  const handleUpdateOverlayList = (updatedOverlayList: OverlaySchema[]) => {\n    dispatch(setSharedStateData(inspectionId, 'overlays', updatedOverlayList));\n    dispatch(setSaveFlag(true));\n  };\n\n  const setVariableSelection = useCallback(\n    (selectedVariable?: React.Key | React.Key[]) => {\n      if (!selectedVariable || variableId === '' || !currentOverlay) {\n        setIsObjectSelectorOpen(false);\n        return;\n      }\n\n      if (selectedVariable && !selectedVariables.includes(selectedVariable)) {\n        setSelectedVariables([...selectedVariables, selectedVariable]);\n      }\n\n      const updatedOverlay: OverlaySchema = {\n        ...currentOverlay,\n        [variableId]: selectedVariable,\n      };\n\n      const updatedOverlayList = updateOverlayList(updatedOverlay, overlays);\n      dispatch(setSharedStateData(inspectionId, 'overlays', updatedOverlayList));\n      setIsObjectSelectorOpen(false);\n      dispatch(setSaveFlag(true));\n    },\n    [currentOverlay, dispatch, inspectionId, overlays, selectedVariables, variableId],\n  );\n\n  if (!overlays) {\n    return (\n      <div className=\"parameter-view-overlay-placeholder\">\n        Please select a source for this parameter view.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"parameter-view-overlay-wrapper\">\n      <div className=\"parameter-view-overlay-table-wrapper\">\n        <OverlayList\n          overlays={overlays}\n          updateCurrentOverlay={setCurrentOverlay}\n          updateOverlayList={handleUpdateOverlayList}\n          canSelectRow={true}\n          onSelectAll={(isActive) => {\n            try {\n              const updatedOverlays = overlays.map((overlay) => ({\n                ...overlay,\n                isActive,\n              }));\n              dispatch(setSharedStateData(inspectionId, 'overlays', updatedOverlays));\n              dispatch(setSaveFlag(true));\n            } catch (e) {\n              logger.error(e instanceof Error ? e.message : String(e));\n            }\n          }}\n        />\n        <ActionBar actions={overlayActions} />\n      </div>\n      {currentOverlay && (\n        <OverlayPropertyList\n          inspectionId={inspectionId}\n          viewId={viewId}\n          currentOverlay={currentOverlay}\n          imageDimensions={imageDimensions}\n          onChange={(changedValue) => {\n            const updatedOverlay = { ...currentOverlay, ...changedValue };\n            const updatedOverlayList = updateOverlayList(updatedOverlay, overlays);\n            dispatch(setSharedStateData(inspectionId, 'overlays', updatedOverlayList));\n            setCurrentOverlay(updatedOverlay);\n          }}\n          openSelection={(variableName, variableId) => {\n            setIsObjectSelectorOpen(true);\n            setVariableName(variableName);\n            setVariableId(variableId);\n          }}\n        />\n      )}\n      <VariableSelection\n        title={variableName}\n        onClose={setVariableSelection}\n        open={isObjectSelectorOpen}\n        inspectionId={inspectionId}\n      />\n    </div>\n  );\n};\n","import { useSelector } from 'react-redux';\n\nimport ActionBar, { ActionBarType } from '../../components/ActionBar';\nimport Container from '../../components/layout/Container';\nimport modes from '../../utils/modes';\n\nimport { canReadParameterView, canEditParameterView } from '../../utils/permissions';\nimport { Overlay } from './components/Overlay';\n\nimport './style.scss';\n\ninterface ParameterViewProps {\n  viewActions?: ActionBarType[];\n\n  id: string;\n  inspectionId: string;\n}\n\nconst ParameterView = ({ id, inspectionId, viewActions = [] }: ParameterViewProps) => {\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const currentMode = useSelector<any>((state) => state.app?.proxy.mode) as string;\n  const parameter = useSelector<any>((state) => state.toolSet?.parameter) as\n    | { component: React.ReactNode }\n    | undefined;\n\n  if (canReadParameterView(myPermissions) || canEditParameterView(myPermissions)) {\n    return (\n      <div className=\"parameter-view-wrapper\">\n        <Container\n          style={\n            !viewActions?.length\n              ? {\n                  marginBottom: 0,\n                  pointerEvents:\n                    canEditParameterView(myPermissions) && currentMode === modes.editMode.id\n                      ? 'auto'\n                      : 'none',\n                  opacity:\n                    canEditParameterView(myPermissions) && currentMode === modes.editMode.id\n                      ? '1.0'\n                      : '0.3',\n                }\n              : {}\n          }\n        >\n          {parameter?.component || <Overlay inspectionId={inspectionId} id={id} />}\n        </Container>\n        {!!viewActions?.length && <ActionBar isViewAction actions={viewActions} />}\n      </div>\n    );\n  }\n  return <div></div>;\n};\n\nexport default ParameterView;\n","export default __webpack_public_path__ + \"static/media/before.53297893.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ScrollContainer = ({ children }) => (\n  <div className=\"overflow-scroll absolute w-100 h-100 pa2 top-0 left-0\">{children}</div>\n);\n\nScrollContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ScrollContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport shortId from 'shortid';\n\nimport iconBack from '../../assets/icons/back.svg';\nimport iconBefore from '../../assets/icons/before.svg';\nimport iconClose from '../../assets/icons/close.svg';\nimport iconSave from '../../assets/icons/save.svg';\nimport ActionBar from '../../components/ActionBar';\nimport ScrollContainer from '../../components/layout/ScrollContainer';\nimport Heading from '../../components/typo/Heading';\n\nclass RecipeView extends Component {\n  renderConfiguration = (configuration) => (\n    <div className=\"flex\">\n      <span className=\"sans-serif mr2 basis-100\">\n        <FormattedMessage id={configuration.intlId} />:\n      </span>\n      <span className=\"basis-100\">\n        <select className=\"bn w-100 tc\">\n          {configuration.options.map((option) => (\n            <option key={option.title} value={option.value}>\n              {option.title}\n            </option>\n          ))}\n        </select>\n      </span>\n    </div>\n  );\n\n  render() {\n    const { configurations, viewActions } = this.props;\n    return (\n      <div>\n        <ScrollContainer>\n          <div className=\"pa3 flex items-center\">\n            <div className=\"basis-100\">\n              <div>\n                <Heading type=\"h3\" intlId=\"name\" />\n                <input\n                  type=\"text\"\n                  className=\"w-100 bg-near-white mb3 ba b--near-white outline-0 pa1\"\n                />\n              </div>\n              <div>\n                <Heading type=\"h3\" intlId=\"comment\" />\n                <textarea className=\"w-100 h4 bg-near-white ba b--near-white outline-0 pa1\" />\n              </div>\n            </div>\n            <div className=\"basis-100 pa4 pt0 self-baseline\">\n              <Heading type=\"h3\" intlId=\"configuration\" />\n              {configurations.map((configuration) => (\n                <div className=\"bb b--near-white pa1 mb1\" key={shortId.generate()}>\n                  {this.renderConfiguration(configuration)}\n                </div>\n              ))}\n            </div>\n          </div>\n        </ScrollContainer>\n        <ActionBar isViewAction actions={viewActions} />\n      </div>\n    );\n  }\n}\n\nRecipeView.propTypes = {\n  configurations: PropTypes.arrayOf(\n    PropTypes.shape({\n      intlId: PropTypes.string,\n      options: PropTypes.arrayOf(\n        PropTypes.shape({\n          title: PropTypes.string,\n          value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        }),\n      ),\n    }),\n  ).isRequired,\n  viewActions: PropTypes.arrayOf(\n    PropTypes.shape({\n      intlId: PropTypes.string,\n    }),\n  ),\n};\n\nRecipeView.defaultProps = {\n  viewActions: [\n    { intlId: 'back', iconUrl: iconBack },\n    { intlId: 'before', iconUrl: iconBefore },\n    { intlId: 'save', iconUrl: iconSave },\n    { intlId: 'cancel', iconUrl: iconClose },\n  ],\n};\n\nexport default injectIntl(RecipeView);\n","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgChevronDoubleLeft(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    width: 24,\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M18.41,7.41L17,6L11,12L17,18L18.41,16.59L13.83,12L18.41,7.41M12.41,7.41L11,6L5,12L11,18L12.41,16.59L7.83,12L12.41,7.41Z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChevronDoubleLeft);\nexport default __webpack_public_path__ + \"static/media/chevron-double-left.d02c0bfd.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/archive.b8680473.svg\";","export default __webpack_public_path__ + \"static/media/arrow-top-right.4113715e.svg\";","export default __webpack_public_path__ + \"static/media/collapse-all.5ae8f8d4.svg\";","export default __webpack_public_path__ + \"static/media/copy.1e95e110.svg\";","export default __webpack_public_path__ + \"static/media/cut.bf9e7e56.svg\";","export default __webpack_public_path__ + \"static/media/cylindrical-wrap.b75ac8f0.svg\";","export default __webpack_public_path__ + \"static/media/expand-all.9aefbbb5.svg\";","export default __webpack_public_path__ + \"static/media/external.36cd89bf.svg\";","export default __webpack_public_path__ + \"static/media/function-variant.c7f405a8.svg\";","export default __webpack_public_path__ + \"static/media/group.00737002.svg\";","export default __webpack_public_path__ + \"static/media/load-image.c627eeb8.svg\";","export default __webpack_public_path__ + \"static/media/loop.d385a57c.svg\";","export default __webpack_public_path__ + \"static/media/palette.ebdcc61c.svg\";","export default __webpack_public_path__ + \"static/media/paste.767ba7ae.svg\";","export default __webpack_public_path__ + \"static/media/perspective.b5973ac2.svg\";","export default __webpack_public_path__ + \"static/media/polar-transformation.bca0f07a.svg\";","export default __webpack_public_path__ + \"static/media/resize.34a01621.svg\";","export default __webpack_public_path__ + \"static/media/shift.788a6731.svg\";","export default __webpack_public_path__ + \"static/media/statistics.4012e027.svg\";","export default __webpack_public_path__ + \"static/media/table-analyzer.edbb56e2.svg\";","export default __webpack_public_path__ + \"static/media/table.8752185b.svg\";","export default __webpack_public_path__ + \"static/media/transformation.6c296033.svg\";","export default __webpack_public_path__ + \"static/media/window.4e0082b0.svg\";","import { CircularProgress, TextField } from '@material-ui/core';\nimport { CommonMathToolProps } from '../common';\n\nexport const CommentTab = ({ value, onChange, loading }: CommonMathToolProps<string>) => {\n  const handleChange: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement> = (\n    event,\n  ) => {\n    onChange(event.target.value);\n  };\n\n  return (\n    <div className=\"tab-body\">\n      {loading ? (\n        <CircularProgress />\n      ) : (\n        <TextField\n          autoFocus\n          multiline\n          minRows={4}\n          value={value}\n          onChange={handleChange}\n          variant=\"outlined\"\n          fullWidth\n        />\n      )}\n    </div>\n  );\n};\n","import { forwardRef, useEffect, useImperativeHandle, useRef } from 'react';\nimport clsx from 'clsx';\nimport Prism from 'prismjs';\nimport { useIntl } from 'react-intl';\nimport Editor from 'react-simple-code-editor';\nimport 'prismjs/components/prism-sql';\nimport 'prismjs/plugins/match-braces/prism-match-braces.js';\n\nimport 'prismjs/themes/prism-solarizedlight.css';\nimport 'prismjs/plugins/match-braces/prism-match-braces.css';\nimport './FormulaEditor.scss';\n\nconst language = 'sql';\n\nexport interface FormulaEditorRef {\n  getSelectionPosition: () => { start: number; end: number };\n  focus: (selectionStart?: number, selectionEnd?: number) => void;\n  moveLeft: () => void;\n  moveRight: () => void;\n  moveCursorTo: (position: number) => void;\n}\n\ninterface FormulaEditorProps {\n  value: string;\n  onChange: (value: string) => void;\n  onSelectionChange?: (selection: { start: number; end: number }) => void;\n  error?: boolean;\n}\n\nconst Code = ({ children }: { children: string }) => {\n  const ref = useRef<HTMLElement>(null);\n\n  useEffect(() => {\n    const pre = ref.current?.parentElement;\n    if (pre) {\n      Prism.highlightAllUnder(pre, false);\n    }\n  }, [children]);\n\n  return <code ref={ref}>{children}</code>;\n};\n\nexport const FormulaEditor = forwardRef<FormulaEditorRef, FormulaEditorProps>(\n  ({ value, onChange, onSelectionChange, error }, forwardedRef) => {\n    const intl = useIntl();\n    const ref = useRef<any>(null);\n\n    const moveCursorTo = (position: number) => {\n      const textarea: HTMLTextAreaElement = ref.current?._input;\n      if (!textarea) {\n        return;\n      }\n      textarea.focus();\n      const pos = Math.min(value.length, Math.max(0, position));\n      setTimeout(() => textarea.setSelectionRange(pos, pos), 0);\n    };\n\n    useEffect(() => {\n      if (!onSelectionChange) {\n        return;\n      }\n      const handleSelection = () => {\n        if (!ref.current?._input || ref.current._input !== document.activeElement) {\n          return;\n        }\n        const textarea: HTMLTextAreaElement = ref.current._input;\n        onSelectionChange({\n          start: textarea.selectionStart,\n          end: textarea.selectionEnd,\n        });\n      };\n\n      document.addEventListener('selectionchange', handleSelection);\n\n      return () => {\n        document.removeEventListener('selectionchange', handleSelection);\n      };\n    }, [onSelectionChange]);\n\n    useImperativeHandle(forwardedRef, () => ({\n      getSelectionPosition: () => {\n        return {\n          start: ref.current?._input?.selectionStart ?? 0,\n          end: ref.current?._input?.selectionEnd ?? 0,\n        };\n      },\n      focus: (selectionStart, selectionEnd) => {\n        const textarea: HTMLTextAreaElement = ref.current?._input;\n        if (!textarea) {\n          return;\n        }\n        textarea.focus();\n        if (typeof selectionStart === 'number') {\n          setTimeout(\n            () => textarea.setSelectionRange(selectionStart, selectionEnd ?? selectionStart),\n            0,\n          );\n        }\n      },\n      moveCursorTo,\n      moveLeft: () => moveCursorTo((ref.current?._input?.selectionStart ?? 0) - 1),\n      moveRight: () => moveCursorTo((ref.current?._input?.selectionStart ?? 0) + 1),\n    }));\n\n    return (\n      <Editor\n        className={clsx(\n          'formula-editor-field',\n          error && 'markError',\n          `language-${language}`,\n          'match-braces',\n          'rainbow-braces',\n        )}\n        ref={ref}\n        value={value ?? ''}\n        placeholder={intl.messages['toolsetView.formula']}\n        onValueChange={onChange}\n        highlight={(code) => <Code>{code || ''}</Code>}\n        padding={8}\n        style={{\n          fontSize: 14,\n        }}\n        autoFocus\n      />\n    );\n  },\n);\n","import { TreeTheme } from 'react-treebeard-ts';\n\nconst TreebeardStyle: TreeTheme = {\n  tree: {\n    base: {\n      whiteSpace: 'nowrap',\n      listStyle: 'none',\n      backgroundColor: 'transparent',\n      margin: 0,\n      padding: 0,\n      color: 'black',\n      fontFamily: 'lucida grande ,tahoma,verdana,arial,sans-serif',\n      fontSize: '14px',\n    },\n    node: {\n      base: {\n        position: 'relative',\n      },\n      link: {\n        cursor: 'pointer',\n        position: 'relative',\n        padding: '0px 5px',\n        display: 'block',\n      },\n      activeLink: {\n        background: 'rgb(135, 135, 135)',\n      },\n      toggle: {\n        base: {\n          position: 'relative',\n          display: 'inline-block',\n          verticalAlign: 'top',\n          marginLeft: '-5px',\n          height: '24px',\n          width: '24px',\n        },\n        wrapper: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          margin: '-7px 0 0 -7px',\n          height: '10px',\n        },\n        height: 10,\n        width: 10,\n        arrow: {\n          fill: '#9DA5AB',\n          strokeWidth: 0,\n        },\n      },\n      header: {\n        base: {\n          display: 'inline-block',\n          verticalAlign: 'top',\n          color: 'black',\n        },\n        connector: {\n          width: '2px',\n          height: '12px',\n          borderLeft: 'solid 2px black',\n          borderBottom: 'solid 2px black',\n          position: 'absolute',\n          top: '0px',\n          left: '-21px',\n        },\n        title: {\n          lineHeight: '24px',\n          verticalAlign: 'middle',\n        },\n      },\n      subtree: {\n        listStyle: 'none',\n        paddingLeft: '10px',\n      },\n      loading: {\n        color: '#E2C089',\n      },\n    },\n  },\n};\n\nexport default TreebeardStyle;\n","import { useState, useCallback, useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { useMounted } from '../../../../hooks/useMounted';\nimport Protobuf from '../../../../protobuf/Protobuf';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport logger from '../../../../utils/logger';\n\nexport const useFormulaValidate = (inspectionID: number, equationId: number) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n  const mounted = useMounted();\n\n  const [validating, setValidating] = useState(false);\n  const [validatedFormula, setValidatedFormula] = useState('');\n  const [validationSuccessResult, setValidationSuccessResult] = useState<number | null>(null);\n  const [validationErrorMessages, setValidationErrorMessages] = useState<string[]>([]);\n  const [errorPosition, setErrorPosition] = useState<number | null>(null);\n\n  const reset = useCallback(() => {\n    setValidatedFormula('');\n    setValidationSuccessResult(null);\n    setValidationErrorMessages([]);\n    setErrorPosition(null);\n  }, []);\n\n  const sendValidateAndSetEquationRequest = useCallback(\n    (equationText: string) =>\n      proxy.protobuf.request(\n        Protobuf.SvPb.InspectionCmdRequest.create({\n          inspectionID,\n          validateAndSetEquationRequest: {\n            objectId: equationId,\n            equationText: equationText.replace(/([^\\r])\\n/g, '$1\\r\\n'),\n            bSetValue: false,\n          },\n        }),\n      ),\n    [equationId, inspectionID, proxy.protobuf],\n  );\n\n  const validate = useCallback(\n    async (equationText: string) => {\n      try {\n        setValidating(true);\n        const res = await sendValidateAndSetEquationRequest(equationText);\n        if (!mounted) {\n          return { success: false };\n        }\n        setValidating(false);\n\n        setValidatedFormula(equationText);\n\n        const status = res?.validateAndSetEquationResponse?.validateStatus; //it is also position of the error\n\n        if (status === -1) {\n          setValidationSuccessResult(res?.validateAndSetEquationResponse?.result ?? null);\n          setValidationErrorMessages([]);\n          return {\n            success: true,\n            resultValue: res?.validateAndSetEquationResponse?.result ?? null,\n          };\n        } else {\n          const errors = (res?.validateAndSetEquationResponse?.Messages?.messages ?? []).map(\n            (m: any) => m.messageText,\n          );\n          if (!errors.length) {\n            errors.push('Incorrect formula');\n          }\n          setValidationErrorMessages(errors);\n          setValidationSuccessResult(null);\n          setErrorPosition(status);\n          return { success: false, errorPosition: status };\n        }\n      } catch (e) {\n        logger.error(e instanceof Error ? e.message : String(e));\n        setValidationErrorMessages([]);\n      }\n      setValidationSuccessResult(null);\n      return { success: false };\n    },\n    [mounted, sendValidateAndSetEquationRequest],\n  );\n\n  return useMemo(\n    () => ({\n      validate,\n      validating,\n      validatedFormula,\n      reset,\n      validationSuccessResult,\n      validationErrorMessages,\n      errorPosition,\n    }),\n    [\n      errorPosition,\n      reset,\n      validate,\n      validatedFormula,\n      validating,\n      validationErrorMessages,\n      validationSuccessResult,\n    ],\n  );\n};\n","import { ToolsetTreeNode } from '.';\n\nexport function bytesToString(bytes: Uint8Array | undefined, fallback = '') {\n  if (!(bytes instanceof Uint8Array)) {\n    return fallback;\n  }\n  return String.fromCharCode(...Array.from(bytes));\n}\n\nexport function stringToBytes(str = '') {\n  return new Uint8Array(str.split('').map((a) => a.charCodeAt(0)));\n}\n\ninterface Variant {\n  type: number;\n  count?: number;\n\n  bVal?: boolean;\n  lVal?: number;\n  llVal?: number;\n  ulVal?: number;\n  ullVal?: number;\n  dblVal?: number;\n  fltVal?: number;\n  strVal?: string;\n  // bytes bytesVal = 11;\n}\n\ninterface Value {\n  value: Variant;\n  defaultValue: Variant;\n}\n\nexport interface LinkedValue extends Value {\n  option: LinkedSelectedOption;\n  directValue?: Variant;\n  indirectIDString?: Uint8Array;\n  formula?: Uint8Array;\n  readonly equationId: number;\n}\n\nexport interface EmbeddedValue {\n  readonly objectId: number;\n  embeddedId: EmbeddedIdEnum;\n  value?: Value;\n  linkedValue?: LinkedValue;\n}\n\nexport interface CommonHookProps {\n  inspectionID: number;\n  data: ToolsetTreeNode;\n}\n\nexport interface CommonMathToolProps<ValueType> {\n  inspectionID: number;\n  value: ValueType;\n  onChange: (value: ValueType) => void;\n  loading: boolean;\n  toggleOptions: (show: boolean) => void;\n}\n\nexport enum LinkedSelectedOption {\n  // None = 0, // not used\n  DirectValue = 1,\n  IndirectValue = 2,\n  Formula = 3,\n}\n\nexport enum ResetType {\n  RT_None = 0,\n  RT_FromObject = 1, //use resettype from embeddet variable only used in Request not in Response\n  RT_OWNER = 2,\n  RT_Tool = 3,\n  RT_IP = 4,\n}\n\n/** {@link https://docs.microsoft.com/en-us/windows/win32/api/wtypes/ne-wtypes-varenum} */\nexport enum VARENUM {\n  VT_EMPTY = 0,\n  VT_NULL = 1,\n  VT_I2 = 2,\n  VT_I4 = 3,\n  VT_R4 = 4,\n  VT_R8 = 5,\n  VT_CY = 6,\n  VT_DATE = 7,\n  VT_BSTR = 8,\n  VT_DISPATCH = 9,\n  VT_ERROR = 10,\n  VT_BOOL = 11,\n  VT_VARIANT = 12,\n  VT_UNKNOWN = 13,\n  VT_DECIMAL = 14,\n  VT_I1 = 16,\n  VT_UI1 = 17,\n  VT_UI2 = 18,\n  VT_UI4 = 19,\n  VT_I8 = 20,\n  VT_UI8 = 21,\n  VT_INT = 22,\n  VT_UINT = 23,\n  VT_VOID = 24,\n  VT_HRESULT = 25,\n  VT_PTR = 26,\n  VT_SAFEARRAY = 27,\n  VT_CARRAY = 28,\n  VT_USERDEFINED = 29,\n  VT_LPSTR = 30,\n  VT_LPWSTR = 31,\n  VT_RECORD = 36,\n  VT_INT_PTR = 37,\n  VT_UINT_PTR = 38,\n  VT_FILETIME = 64,\n  VT_BLOB = 65,\n  VT_STREAM = 66,\n  VT_STORAGE = 67,\n  VT_STREAMED_OBJECT = 68,\n  VT_STORED_OBJECT = 69,\n  VT_BLOB_OBJECT = 70,\n  VT_CF = 71,\n  VT_CLSID = 72,\n  VT_VERSIONED_STREAM = 73,\n  VT_BSTR_BLOB = 0xfff,\n  VT_VECTOR = 0x1000,\n  VT_ARRAY = 0x2000,\n  VT_BYREF = 0x4000,\n  VT_RESERVED = 0x8000,\n  VT_ILLEGAL = 0xffff,\n  VT_ILLEGALMASKED = 0xfff,\n  VT_TYPEMASK = 0xfff,\n}\n\nexport enum EmbeddedIdEnum {\n  NoEmbeddedId = 0,\n  StringValueEId = 1,\n  TaskObjectClassIsObjectValidEId = 2,\n  RootEId = 3,\n  ToolSetEnabledEId = 4,\n  ToolEnabledEId = 5,\n  ToolSelectedForOperatorMoveEId = 6,\n  ToolPositionEId = 7,\n  ToolTimeEId = 8,\n  MinToolSetTimeEId = 9,\n  MaxToolSetTimeEId = 10,\n  ResetInspectionCountsEId = 11,\n  TriggerCountEId = 12,\n  PPQIndexEId = 13,\n  TriggerDeltaEId = 14,\n  TriggerToCompletionEId = 15,\n  TriggerToStartEId = 16,\n  TriggerToAcquisitionStartEId = 17,\n  AcquisitionTimeEId = 18,\n  EnableAuxiliaryExtentsEId = 21,\n  ObjectIDEId = 22,\n  TriggerIndexEId = 23,\n  InspectedObjectIDEId = 24,\n  InspectedObjectIDLinkEId = 25, //obsolete, but needed for loading configs older than 10.20\n  LuminanceValueEId = 26,\n  HistogramValueEId = 27,\n  HistogramMeanEId = 28,\n  HistogramStdDevEId = 29,\n  HistogramRangeStartEId = 30,\n  HistogramRangeEndEId = 31,\n  HistogramRangeSizeEId = 32,\n  HistogramMaxPixelEId = 33,\n  HistogramScaleEId = 34,\n  HistogramMinPixelEId = 35,\n  HistogramPixelCountEId = 36,\n  HistogramImageEId = 37,\n  HistogramHighPeakEId = 38,\n  HistogramLowPeakEId = 39,\n  HistogramValleyEId = 40,\n  HistogramPeakThresholdEId = 41,\n  HistogramDefaultPeakEId = 42,\n  HistogramAccumulateEId = 43,\n  HistogramMinPeakHeightEId = 44,\n  HistogramValleyLowerBoundEId = 45,\n  HistogramValleyUpperBoundEId = 46,\n  HistogramValleyDefaultEId = 47,\n  HistogramFixedHeightValueEId = 48,\n  HistogramDynamicHeightEId = 49,\n  CalcStdDevEId = 50,\n  PixelColorIndexEId = 51,\n  PixelCountEId = 52,\n  BlobEnabledFeaturesEId = 53,\n  NbrOfBlobsEId = 54,\n  MaxBlobDataArraySizeEId = 55,\n  SortFeatureEId = 56,\n  NbrOfBlobsFoundEId = 57,\n  SortAscendingEId = 58,\n  ExcludeFailedEId = 59,\n  BlobColorEId = 60,\n  BlobUseFillEId = 61,\n  BlobFillColorEId = 62,\n  BlobFillTypeEId = 63,\n  StatMinEId = 64,\n  StatMaxEId = 65,\n  StatAverageEId = 66,\n  StatStdDevEId = 67,\n  StatVarianceEId = 68,\n  StatTestValueEId = 69,\n  StatNbrOfOccurancesEId = 70,\n  StatPercentOfOccurancesEId = 71,\n  StatEnabledFeaturesEId = 72,\n  StatVariableNameToMonitorEId = 74,\n  UpperThresholdEId = 76,\n  LowerThresholdEId = 77,\n  ThresholdActivateEId = 78,\n  UpperThresholdActivateEId = 79,\n  LowerThresholdActivateEId = 80,\n  AutoThresholdEId = 81,\n  BlackBackgroundEId = 82,\n  AutoThresholdMultiplierEId = 83,\n  RingBuffer_FlagOfOutputImagesEId = 84,\n  FilterKernelEId = 85,\n  FilterKernelWidthEId = 86,\n  FilterKernelHeightEId = 87,\n  CustomFilterClippingEId = 88,\n  CustomFilterAbsoluteEId = 89,\n  CustomFilterTransformEId = 90,\n  RankingFilterRankingRankEId = 93,\n  RingBuffer_DepthEId = 94,\n  RingBufferLink_DepthEId = 95, //obsolete, but needed for loading configs older than 10.20\n  RangeClassFailHighEId = 96,\n  RangeClassFailLowEId = 97,\n  RangeClassWarnHighEId = 98,\n  RangeClassWarnLowEId = 99,\n  RangeClassFailHighIndirectEId = 100, //obsolete, but needed for loading configs older than 10.20\n  RangeClassFailLowIndirectEId = 101, //obsolete, but needed for loading configs older than 10.20\n  RangeClassWarnHighIndirectEId = 102, //obsolete, but needed for loading configs older than 10.20\n  RangeClassWarnLowIndirectEId = 103, //obsolete, but needed for loading configs older than 10.20\n  OCVPerformOCREId = 104,\n  OCVMatchLineNumberEId = 105,\n  OCVHighestMatchScoreEId = 106,\n  OCVLowestMatchScoreEId = 107,\n  OCVAverageMatchScoreEId = 108,\n  OCVFontFileNameEId = 109,\n  OCVMatchStringFileNameEId = 110,\n  OCVConstraintsFileNameEId = 111,\n  OCVControlsFileNameEId = 112,\n  OCVUseMatchFileEId = 113,\n  OCVMatchStringEId = 114,\n  OCVFoundStringEId = 115,\n  OCVCharacterValueEId = 116,\n  OCVExtentLeftEId = 117,\n  OCVExtentTopEId = 118,\n  OCVExtentWidthEId = 119,\n  OCVExtentHeightEId = 120,\n  OCVMatchScoreEId = 121,\n  ArchiveFilePathEId = 122,\n  ArchiveImageGuids_OBSOLETE_EId = 123,\n  ArchiveImageFileRootPart1EId = 124,\n  ArchiveResultGuids_OBSOLETE_EId = 125,\n  ArchiveAppendArchiveFileEId = 126,\n  ArchiveStopAtMaxImagesEId = 127,\n  ArchiveUseTriggerCountForImages_obsolete_EId = 128,\n  ArchiveMaxImagesCountEId = 129,\n  ArchiveMethodEId = 130,\n  ArchiveUseHeadersEId = 131,\n  ArchiveHeaderLabelEId = 132,\n  ArchiveHeaderEId = 133,\n  ArchiveResultNamesEId = 134,\n  ArchiveImageNamesEId = 135,\n  BaseDirectorynameEId = 136,\n  BaseFilenameEId = 137,\n  CenterFilenameEId = 138,\n  FilenameIndex1EId = 139,\n  FilenameIndex1LinkEId = 140, //obsolete, but needed for loading configs older than 10.20\n  FilenameIndex2EId = 141,\n  FilenameIndex2LinkEId = 142, //obsolete, but needed for loading configs older than 10.20\n  UseAlternativeImagePathsEId = 143,\n  SubfolderSelectionEId = 144,\n  SubfolderSelectionLinkEId = 145, //obsolete, but needed for loading configs older than 10.20\n  DirectorynameIndexEId = 146,\n  DirectorynameIndexLinkEId = 147, //obsolete, but needed for loading configs older than 10.20\n  EquationEnabledEId = 148,\n  ConditionalResultEId = 149,\n  MathEquationResultEId = 150,\n  LinearEdgesEId = 151,\n  ConditionalEditFreezeFlagEId = 152,\n  DPEdgeAEId = 156,\n  DPEdgeBEId = 157,\n  DPCenterEId = 158,\n  DWidthEId = 159,\n  LinearDistanceEdgeAEId = 160,\n  LinearDistanceEdgeBEId = 161,\n  XEId = 162,\n  DXEId = 163,\n  YEId = 164,\n  DYEId = 165,\n  ValueEId = 166,\n  FailedEId = 167,\n  WarnedEId = 168,\n  PassedEId = 169,\n  ExplicitFailedEId = 170,\n  PassedCountEId = 171,\n  FailedCountEId = 172,\n  WarnedCountEId = 173,\n  EnabledCountEId = 174,\n  ProcessedCountEId = 175,\n  BlackPixelEId = 176,\n  WhitePixelEId = 177,\n  EdgeCountEId = 178,\n  ColorEId = 179,\n  StatusEId = 180,\n  RotationAngleEId = 182,\n  RotationPointXEId = 183,\n  RotationPointYEId = 184,\n  ProfileOrientationEId = 185,\n  LinearToolUseRotationEId = 186,\n  TranslationXOffsetEId = 187,\n  TranslationYOffsetEId = 188,\n  WarpTypeEId = 189,\n  WarpAngleEId = 190,\n  EnableOffsetAEId = 191,\n  OffsetAPointEId = 192,\n  EnableOffsetBEId = 193,\n  OffsetBPointEId = 194,\n  ArithmeticOperatorEId = 195,\n  MaskEnabledEId = 196,\n  MaskUseImageMaskEId = 197,\n  MaskOperatorEId = 198,\n  MaskFillAreaEId = 199,\n  MaskFillColorEId = 200,\n  ShapeMaskTypeEId = 201,\n  ShapeMaskMaskAreaEId = 202,\n  ShapeMaskPropertyCenterXEId = 203,\n  ShapeMaskPropertyCenterYEId = 204,\n  ShapeMaskPropertyWidthEId = 205,\n  ShapeMaskPropertyHeightEId = 206,\n  ShapeMaskPropertySideThicknessEId = 207,\n  ShapeMaskPropertyTopBottomThicknessEId = 208,\n  ShapeMaskPropertyOffsetEId = 209,\n  ShapeMaskPropertySymmetryOrientationEId = 210,\n  ShapeMaskAutoResizeEId = 211,\n  PathNameEId = 212,\n  ContinuousReloadEId = 213,\n  BarCodeEId = 214,\n  RegExpressionEId = 215,\n  BCTypeEId = 216,\n  BCOrientationEId = 217,\n  BCSkewNegativeEId = 218,\n  BCSkewPositiveEId = 219,\n  BCCellMinSizeEId = 220,\n  BCCellMaxSizeEId = 221,\n  BCCellNumberXEId = 222,\n  BCCellNumberYEId = 223,\n  BCSpeedEId = 224,\n  BCThresholdEId = 225,\n  BCStringSizeEId = 226,\n  BCErrorCorrectionEId = 227,\n  BCEncodingEId = 228,\n  BCForegroundColorEId = 229,\n  BCSaveStringInFileEId = 230,\n  BCStringFileNameEId = 231,\n  BCWarnOnFailedReadEId = 232,\n  WatershedFilterMinVariationEId = 233,\n  WatershedFilterControlFlagEId = 234,\n  WatershedFilterUseMarkerEId = 235,\n  ThickeningFilterItterationsEId = 236,\n  ThickeningFilterGrayOnEId = 237,\n  ThinningFilterItterationsEId = 238,\n  GrayOnEId = 239,\n  BCUseSingleMatchStringEId = 240,\n  BCUseMatchStringFileEId = 241,\n  BCMatchStringFileNameEId = 242,\n  BCMatchStringLineEId = 243,\n  BCMatchScoreEId = 244,\n  BCTimeoutEId = 245,\n  BCUnevenGridEId = 246,\n  UpperThresholdEquationResultEId = 247,\n  LowerThresholdEquationResultEId = 248,\n  AutoThresholdEquationResultEId = 249,\n  UseExternalATMEId = 250,\n  UseExternalLTEId = 251,\n  UseExternalUTEId = 252,\n  RegressionTestModeEId = 253,\n  UseLowerThresholdSelectableEId = 254,\n  UseLowerThresholdMaxMinusPercentDiffEId = 255,\n  UseLowerThresholdMaxMinusOffsetEId = 256,\n  UseLowerThresholdMinPlusOffsetEId = 257,\n  LowerThresholdMaxMinusPercentDiffEId = 258,\n  LowerThresholdMaxMinusOffsetEId = 259,\n  LowerThresholdMinPlusOffsetEId = 260,\n  UseUpperThresholdSelectableEId = 261,\n  UseUpperThresholdMaxMinusPercentDiffEId = 262,\n  UseUpperThresholdMaxMinusOffsetEId = 263,\n  UseUpperThresholdMinPlusOffsetEId = 264,\n  UpperThresholdMaxMinusPercentDiffEId = 265,\n  UpperThresholdMaxMinusOffsetEId = 266,\n  UpperThresholdMinPlusOffsetEId = 267,\n  UseLowerThresholdSelectableBEId = 268,\n  UseLowerThresholdMaxMinusPercentDiffBEId = 269,\n  UseLowerThresholdMaxMinusOffsetBEId = 270,\n  UseLowerThresholdMinPlusOffsetBEId = 271,\n  LowerThresholdMaxMinusPercentDiffBEId = 272,\n  LowerThresholdMaxMinusOffsetBEId = 273,\n  LowerThresholdMinPlusOffsetBEId = 274,\n  UseUpperThresholdSelectableBEId = 275,\n  UseUpperThresholdMaxMinusPercentDiffBEId = 276,\n  UseUpperThresholdMaxMinusOffsetBEId = 277,\n  UseUpperThresholdMinPlusOffsetBEId = 278,\n  UpperThresholdMaxMinusPercentDiffBEId = 279,\n  UpperThresholdMaxMinusOffsetBEId = 280,\n  UpperThresholdMinPlusOffsetBEId = 281,\n  LinearThresholdMaxEId = 282,\n  LinearThresholdMinEId = 283,\n  LinearThresholdDeltaEId = 284,\n  ShiftToolModeEId = 285,\n  ShiftToolReferenceXEId = 286,\n  ShiftToolReferenceYEId = 287,\n  ContRecalcEId = 288,\n  ImageTransformDisplacementXEId = 289,\n  ImageTransformDisplacementYEId = 290,\n  TopResultEId = 291,\n  LeftResultEId = 292,\n  ImageTransformSourceXEId = 293,\n  ImageTransformSourceYEId = 294,\n  OutputEvaluateTranslationXResultEId = 295,\n  OutputEvaluateTranslationYResultEId = 296,\n  OutputEvaluateRotationXResultEId = 297,\n  OutputEvaluateRotationYResultEId = 298,\n  OutputEvaluateRotationAngleResultEId = 299,\n  PerformTranslationEId = 300,\n  TranslationXEId = 301,\n  TranslationYEId = 302,\n  PerformRotationEId = 303,\n  LearnedTranslationXEId = 304,\n  LearnedTranslationYEId = 305,\n  LearnedRotationXEId = 306,\n  LearnedRotationYEId = 307,\n  LearnedRotationAngleEId = 308,\n  UseExtentsOnlyEId = 309,\n  ConditionalToolSetDrawFlagEId = 310,\n  ConditionalToolDrawFlagEId = 311,\n  OutputCenterXEId = 312,\n  OutputCenterYEId = 313,\n  OutputStartRadiusEId = 314,\n  OutputEndRadiusEId = 315,\n  OutputStartAngleEId = 316,\n  OutputEndAngleEId = 317,\n  OutputInterpolationModeEId = 318,\n  OutputUseFormulaEId = 319,\n  OutputAngularMethodEId = 320,\n  OutputEvaluateCenterXResultEId = 321,\n  OutputEvaluateCenterYResultEId = 322,\n  OutputEvaluateStartRadiusResultEId = 323,\n  OutputEvaluateEndRadiusResultEId = 324,\n  OutputEvaluateStartAngleResultEId = 325,\n  OutputEvaluateEndAngleResultEId = 326,\n  ExtentRelativeLeftPositionEId = 327,\n  ExtentRelativeTopPositionEId = 328,\n  ExtentRelativeRightPositionEId = 329,\n  ExtentRelativeBottomPositionEId = 330,\n  ExtentWidthEId = 331,\n  ExtentHeightEId = 332,\n  ExtentWidthFactorContentEId = 333,\n  ExtentHeightFactorContentEId = 334,\n  UpdateAuxiliaryExtentsEId = 335,\n  AuxiliarySourceXEId = 336,\n  AuxiliarySourceYEId = 337,\n  AuxiliarySourceAngleEId = 338,\n  AuxiliarySourceImageNameEId = 339,\n  AuxiliaryDrawTypeEId = 340,\n  //LUTIndexVariableEId = 341,\n  LUTEquationResultEId = 342,\n  LUTEquationClipFlagEId = 343,\n  OutputLUTVectorEId = 344,\n  UseLUTEId = 345,\n  ContinuousRecalcLUTEId = 346,\n  LUTModeEId = 347,\n  LUTUpperClipEId = 348,\n  LUTLowerClipEId = 349,\n  LUTMinInputEId = 350,\n  LUTMaxInputEId = 351,\n  LUTMinOutputEId = 352,\n  LUTMaxOutputEId = 353,\n  PatAcceptThresholdEId = 354,\n  PatCertainThresholdEId = 355,\n  PatAccuracyEId = 356,\n  PatMaxOccurancesEId = 357,\n  PatSearchAngleModeEId = 358,\n  PatSpeedEId = 359,\n  PatModelImageFileEId = 360,\n  PatSearchAngleEId = 361,\n  PatAngleDeltaNegEId = 362,\n  PatAngleDeltaPosEId = 363,\n  PatAngleToleranceEId = 364,\n  PatAngleAccuracyEId = 365,\n  PatAngleInterpolationEId = 366,\n  PatCircularOverscanEId = 367,\n  PatDontCareEId = 368,\n  PatDontCareImageFileEId = 369,\n  PatPreliminaryAcceptanceThresholdEId = 370,\n  PatFastFindEId = 371,\n  PatModelStepEId = 372,\n  PatModelWidthEId = 373,\n  PatModelHeightEId = 374,\n  PatModelCenterXEId = 375,\n  PatModelCenterYEId = 376,\n  PatDontCareWidthEId = 377,\n  PatDontCareHeightEId = 378,\n  PatBeginningResolutionLevelEId = 379,\n  PatFinalResolutionLevelEId = 380,\n  PatAdditionalCandidatesEId = 381,\n  PatCandidateSpacingXMinEId = 382,\n  PatCandidateSpacingYMinEId = 383,\n  PatResultMatchScoreEId = 384,\n  PatResultXEId = 385,\n  PatResultYEId = 386,\n  PatResultAngleEId = 387,\n  PatResultNumFoundOccurancesEId = 388,\n  LinearDataClassEId = 389,\n  Band0ImageEId = 390,\n  Band1ImageEId = 391,\n  Band2ImageEId = 392,\n  ConvertToHSIEId = 393,\n  HasROIEId = 394,\n  ColorThresholdEnabledEId = 395,\n  Band0UpperThresholdEId = 396,\n  Band0LowerThresholdEId = 397,\n  Band0ThresholdExcludeEId = 398,\n  Band0ThresholdEnabledEId = 399,\n  Band1UpperThresholdEId = 400,\n  Band1LowerThresholdEId = 401,\n  Band1ThresholdExcludeEId = 402,\n  Band1ThresholdEnabledEId = 403,\n  Band2UpperThresholdEId = 404,\n  Band2LowerThresholdEId = 405,\n  Band2ThresholdExcludeEId = 406,\n  Band2ThresholdEnabledEId = 407,\n  EdgeUpperThresholdValueEId = 408,\n  EdgeADirectionEId = 409,\n  EdgeAPolarisationEId = 410,\n  EdgeAEdgeSelectEId = 411,\n  EdgeAEdgeSelectThisValueEId = 412,\n  EdgeAIsFixedEdgeMarkerEId = 413,\n  EdgeAPositionEId = 414,\n  EdgeAPositionOffsetEId = 415,\n  EdgeALowerThresholdValueEId = 416,\n  EdgeBDirectionEId = 418,\n  EdgeBPolarisationEId = 419,\n  EdgeBEdgeSelectEId = 420,\n  EdgeBEdgeSelectThisValueEId = 421,\n  EdgeBIsFixedEdgeMarkerEId = 422,\n  EdgeBPositionEId = 423,\n  EdgeBPositionOffsetEId = 424,\n  EdgeBLowerThresholdValueEId = 425,\n  EdgeBUpperThresholdValueEId = 426,\n  DrawCriteriaEId = 427,\n  ResizeInterpolationModeEId = 428,\n  ResizeOverscanEId = 429,\n  ResizePerformanceEId = 430,\n  LogicalROIImageEId = 431,\n  DllFileNameEId = 432,\n  DllToolNameEId = 433,\n  DllToolVersionEId = 434,\n  ShowAllEdgeAOverlaysEId = 435,\n  ShowAllEdgeBOverlaysEId = 436,\n  SourceImageNamesEId = 437,\n  BCRawDataEId = 438,\n  BCStringFormatEId = 439,\n  BCThresholdTypeEId = 440,\n  ToolCommentTypeEId = 441,\n  NotUsed1 = 442,\n  NotUsed2 = 443,\n  ToolSizeAdjustSizeWidthModeEId = 445,\n  ToolSizeAdjustSizeHeightModeEId = 446,\n  ToolSizeAdjustSizePositionXModeEId = 447,\n  ToolSizeAdjustSizePositionYModeEId = 448,\n  EQAdjustSizeWidthResultEId = 449,\n  EQAdjustSizeHeightResultEId = 450,\n  EQAdjustSizePositionXResultEId = 451,\n  EQAdjustSizePositionYResultEId = 452,\n  TableTool_MaxRowEId = 453,\n  TableObject_NumberOfRowsEId = 454,\n  RootUidEId = 456,\n  GlobalUidEId = 457,\n  EnvironmentUidEId = 458,\n  EnvironmentModelNumberUidEId = 459,\n  EnvironmentWinKeyUidEId = 460,\n  EnvironmentImageUpdateUidEId = 461,\n  EnvironmentResultUpdateUidEId = 462,\n  EnvironmentModeIsRunUidEId = 463,\n  EnvironmentModeIsStopUidEId = 464,\n  EnvironmentModeIsRegressionTestUidEId = 465,\n  EnvironmentModeIsTestUidEId = 466,\n  EnvironmentModeIsEditUidEId = 467,\n  EnvironmentModeValueUidEId = 468,\n  EnvironmentModeUidEId = 469,\n  EnvironmentAutoSaveUidEId = 470,\n  EnvironmentDiskProtectionUidEId = 471,\n  EnvironmentStartLastConfiEIdEId = 472,\n  TableAnaylzerSortIsASCEId = 474,\n  TableAnaylzerExcludeHighEId = 475,\n  TableAnaylzerExcludeHigh_LinkEId = 476, //obsolete, but needed for loading configs older than 10.20\n  TableAnaylzerExcludeLowEId = 477,\n  TableAnaylzerExcludeLow_LinkEId = 478, //obsolete, but needed for loading configs older than 10.20\n  TableAnaylzerLimitValueEId = 479,\n  TableAnaylzerLimitValue_LinkEId = 480, //obsolete, but needed for loading configs older than 10.20\n  MaxLoopsEId = 481,\n  LoopCounterEId = 482,\n  LinkedLoopsEId = 483,\n  LinkedLoops_LinkedEId = 484, //obsolete, but needed for loading configs older than 10.20\n  LoopBreakEId = 485,\n  LoopBreak_LinkedEId = 486, //obsolete, but needed for loading configs older than 10.20\n  TriggerTimeEId = 487,\n  SubfolderLocationEId = 488,\n  SubfolderLocationLinkEId = 489, //obsolete, but needed for loading configs older than 10.20\n  InspectionNameEId = 490,\n  FormatArchiveToolResultsEId = 491,\n  ArchiveResultsMinimumNumberOfCharactersEId = 492,\n  ArchiveResultsNumberOfDecimalsEId = 493,\n  ArchiveImageFileRootPart2EId = 494,\n  ArchiveImageFileRootPart3EId = 495,\n  ArchiveImageFileRootPart1LinkEId = 496, //obsolete, but needed for loading configs older than 10.20\n  ArchiveImageFileRootPart2LinkEId = 497, //obsolete, but needed for loading configs older than 10.20\n  ArchiveImageFileRootPart3LinkEId = 498, //obsolete, but needed for loading configs older than 10.20\n  IsClosedEId = 499,\n  TriggerPerObjectIDEId = 500,\n\n  FeatureTypeEId = 501,\n  SortEnumEId = 502,\n  IsExcludeEId = 503,\n  IsInnerExcludeEId = 504,\n  ExcludeLowerBoundEId = 505,\n  ExcludeLowerBoundIndirectEId = 506, //obsolete, but needed for loading configs older than 10.20\n  ExcludeUpperBoundEId = 507,\n  ExcludeUpperBoundIndirectEId = 508, //obsolete, but needed for loading configs older than 10.20\n  ConnectivityBlobEId = 509,\n  IsGrayImageEId = 510,\n  IsRangeEId = 511,\n  IsCustomFeatureEId = 512,\n  NumberOfObjectsEId = 513,\n  ExtentWidthFactorContentLinkEId = 514, //obsolete, but needed for loading configs older than 10.20\n  ExtentHeightFactorContentLinkEId = 515, //obsolete, but needed for loading configs older than 10.20\n  ExtentWidthFactorFormatEId = 516,\n  ExtentWidthFactorFormatLinkEId = 517, //obsolete, but needed for loading configs older than 10.20\n  ExtentHeightFactorFormatEId = 518,\n  ExtentHeightFactorFormatLinkEId = 519, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyCenterXLinkEId = 534, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyCenterYLinkEId = 635, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyWidthLinkEId = 536, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyHeightLinkEId = 537, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertySideThicknessLinkEId = 538, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyTopBottomThicknessLinkEId = 539, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyOffsetLinkEId = 540, //obsolete, but needed for loading configs older than 10.20\n  MaskImageEId = 541,\n  ObjectTypeEId = 542,\n  IsColorAdditionalImageEId = 543,\n  BackgroundColor1EId = 544,\n  BackgroundColor2EId = 545,\n  BackgroundColor3EId = 546,\n  DrawTypesEId = 547,\n  BlobTypesEId = 548,\n  Color1EId = 549,\n  Color2EId = 550,\n  Color3EId = 551,\n  DrawAdditionalImageStepNamesEId = 552,\n  UseAdditionalImageEId = 553,\n  LinkedValueContentEId = 554,\n  LinkedValueTypeEId = 555,\n\n  StatNumberOfValidSamplesEId = 560, //Statistics Tool: number of valid values considered in statistic\n\n  ImageToolEnabledGainId = 561,\n  ImageToolGainId = 562,\n  ImageToolOffsetId = 563,\n  ImageToolUseLutId = 566,\n\n  //The following Ids are the first of an array and must have 100 reserved Ids\n  OutputImageEId = 1000, //Output Images, e.g. External needs 4\n  RingBufferIndexEId = 1100, //For ringBuffer index of output images (by now 2 indexes)\n  RingBufferIndexLinkEId = 1150, //obsolete, but needed for loading configs older than 10.20\n  FilterCellEId = 1200, //Cells of the custom and rank filter (49 cells)\n  ExternalInputEId = 1300, //External Dll (50)\n  ExternalInputLinkedEId = 1400, //obsolete, but needed for loading configs older than 10.20\n  ExternalResultEId = 1500, //External Dll (50)\n  DllDependencyFileNameEId = 1600, //External Dll (50)\n  TableColumnValueEId = 1700, //Table Object Column (50)\n  BlobFeatureEId = 1800, //Blob Feature (SvOi::SV_NUMBER_OF_BLOB_FEATURES)\n  InputObjectTypeEId = 1900, //Type for Input Object\n  ResultObjectValueEId = 2000, //Result value object (for e.g. Result in Group Tool)\n  ResultObjectLinkedEId = 2100, //obsolete, but needed for loading configs older than 10.20\n  ResultObjectTypeEId = 2200, //Type for Result Object (for e.g. Result in Group Tool)\n\n  //IDs for Inputs\n  LUTOperatorInputEId = 100000,\n  GrayImageInputEId = 100001,\n  NewColumnInputEId = 100002,\n  ExcludeColumnInputEId = 100003,\n  SortColumnInputEId = 100004,\n  ProfileOrientationInputEId = 100005,\n  UseRoationAngleInputEId = 100006,\n  MarkerImageInputEId = 100007,\n  SeedImageInputEId = 100008,\n  MinThresholdInputEId = 100009,\n  MaxThresholdInputEId = 100010,\n  DeltaThresholdInputEId = 100011,\n  LinearDataInputEId = 100012,\n  ResultInputEId = 100013,\n  UpperThresholdInputEId = 100014,\n  LowerThresholdInputEId = 100015,\n  AutoThresholdInputEId = 100016,\n  TranslationXResultInputEId = 100017,\n  TranslationYResultInputEId = 100018,\n  RotationXResultInputEId = 100019,\n  RotationYResultInputEId = 100020,\n  RotationAngleResultInputEId = 100021,\n  CenterXResultInputEId = 100022,\n  CenterYResultInputEId = 100023,\n  StartRadiusResultInputEId = 100024,\n  EndRadiusResultInputEId = 100025,\n  StartAngleResultInputEId = 100026,\n  EndAngleResultInputEId = 100027,\n  ImageArithmeticAImageInputEId = 100028,\n  ImageArithmeticAEnableOffsetInputEId = 100029,\n  ImageArithmeticAOffsetPointInputEId = 100030,\n  ImageArithmeticBImageInputEId = 100031,\n  ImageArithmeticBEnableOffsetInputEId = 100032,\n  ImageArithmeticBOffsetPointInputEId = 100033,\n  ImageArithmeticOperatorInputEId = 100034,\n  WidthInputEId = 100035,\n  HeightInputEId = 100036,\n  PositionXInputEId = 100037,\n  PositionYInputEId = 100038,\n  RangeValueInputEId = 100039,\n  Band0ImageInputEId = 100040,\n  Band1ImageInputEId = 100041,\n  Band2ImageInputEId = 100042,\n  UserMaskImageInputEId = 100043,\n  ToolSetConditionalInputEId = 100044,\n  SourceTableInputEId = 100045,\n  TranslationXInputEId = 100046,\n  TranslationYInputEId = 100047,\n  AuxImageInputEId = 100048,\n  ToolConditionalInputEId = 100049,\n  OverlayColorInputEId = 100050,\n  BarCodeResultEId = 100051,\n  ImageArithmeticGainEnabledEId = 100052,\n  ImageArithmeticGainEId = 100053,\n  ImageArithmeticOffsetEId = 100054,\n  ImageArithmeticUseLutEId = 100055,\n  MissingImageCountEId = 100056,\n  NotCompleteCountEId = 100057,\n  //The following Ids are the first of an array and must have 100 reserved Ids\n  ImageInputEId = 150000,\n}\n","import { useRef, useEffect } from 'react';\n\nexport function useMounted() {\n  const mounted = useRef(false);\n\n  useEffect(() => {\n    mounted.current = true;\n    return () => {\n      mounted.current = false;\n    };\n  }, []);\n\n  return mounted;\n}\n","import { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport useCancellablePromise from '../../../../hooks/useCancellablePromise';\nimport Protobuf from '../../../../protobuf/Protobuf';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport { bytesToString } from '../../common';\n\nexport const useIndirectValueObjectName = (inspectionID: number, objectId?: number) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n  const cancellable = useCancellablePromise();\n\n  const [name, setName] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (!objectId) {\n      return;\n    }\n    setLoading(true);\n    cancellable(\n      proxy.protobuf.request(\n        Protobuf.SvPb.InspectionCmdRequest.create({\n          inspectionID,\n          getObjectNameRequest: {\n            BeforeType: 0x00001102, //SVObjectTypeEnum.BlobDrawObjectType\n            objectId,\n          },\n        }),\n      ),\n    )\n      .then((res: any) => {\n        setName(\n          bytesToString(res?.getObjectNameResponse?.name) || res?.getObjectNameResponse?.name,\n        );\n        setLoading(false);\n      })\n      .catch((error: any) => error && setLoading(false));\n  }, [cancellable, inspectionID, objectId, proxy.protobuf]);\n\n  return { name, loading };\n};\n","import { useCallback, useEffect, useRef } from 'react';\n\nexport default function useCancellablePromise() {\n  const promises = useRef<{ promise: Promise<unknown>; cancel: () => void; restore: () => void }[]>(\n    [],\n  );\n\n  useEffect(() => {\n    promises.current?.forEach((p) => p.restore());\n    return () => {\n      promises.current?.forEach((p) => p.cancel());\n      promises.current = [];\n    };\n  }, []);\n\n  const cancellablePromise = useCallback(<T extends Promise<unknown>>(promise: T): T => {\n    let isCanceled = false;\n\n    const wrappedPromise = new Promise<unknown>((resolve, reject) => {\n      promise\n        .then((val) => (isCanceled ? reject(null) : resolve(val)))\n        .catch((error) => (isCanceled ? reject(null) : reject(error)));\n    }) as T;\n\n    promises.current?.push({\n      promise: wrappedPromise,\n      cancel: () => {\n        isCanceled = true;\n      },\n      restore: () => {\n        isCanceled = false;\n      },\n    });\n\n    return wrappedPromise;\n  }, []);\n\n  return cancellablePromise;\n}\n","import { useCallback, useEffect, useState } from 'react';\nimport { Button, CircularProgress } from '@material-ui/core';\nimport clsx from 'clsx';\nimport { useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport { Treebeard, TreeNode } from 'react-treebeard-ts';\nimport { ReactComponent as ChevronDoubleLeftIcon } from '../../../assets/icons/chevron-double-left.svg';\nimport Dialog from '../../../components/Dialog';\nimport Configuration from '../../../protobuf/Configuration';\nimport TreebeardStyle from '../components/TreebeardStyle';\nimport { useFormulaValidate } from './hooks/useFormulaValidate';\nimport { useIndirectValueObjectName } from './hooks/useIndirectValueObjectName';\n\nimport './LinkedValueSelectDialog.scss';\n\ninterface TreeNodeWithLocation extends TreeNode {\n  location: string;\n  children?: TreeNodeWithLocation[];\n}\ninterface LinkedValueTreeNode extends TreeNodeWithLocation {\n  values: LinkedValueTreeNode[];\n  children?: LinkedValueTreeNode[];\n  link?: string;\n  location: string;\n}\n\ninterface LinkedValueSelectDialogProps {\n  inspectionID: number;\n  equationId?: number;\n  value?: number;\n  onClose: () => void;\n  onSelect: (indirectObjectId: number, link: string) => void;\n}\n\nexport const LinkedValueSelectDialog = ({\n  inspectionID,\n  equationId = 0,\n  value,\n  onClose,\n  onSelect,\n}: LinkedValueSelectDialogProps) => {\n  const configuration = useSelector<any>((state) => state?.app?.configuration) as Configuration;\n  const intl = useIntl();\n\n  const { name: linkName, loading } = useIndirectValueObjectName(inspectionID, value);\n  const formulaValidation = useFormulaValidate(inspectionID, equationId);\n\n  const [treeNodes, setTreeNodes] = useState<LinkedValueTreeNode[]>([]);\n  const [selectedNode, setSelectedNode] = useState<LinkedValueTreeNode | null>(null);\n  const [selectedValueNode, setSelectedValueNode] = useState<\n    LinkedValueTreeNode['values'][number] | null\n  >(null);\n\n  const link = selectedValueNode?.link ?? selectedNode?.link;\n  const validationError = formulaValidation.validationErrorMessages?.length > 0;\n\n  useEffect(() => {\n    const items = configuration.getObjectSelectorItemsForInspection(inspectionID);\n\n    const parseNodes = (\n      nodes: TreeNodeWithLocation[] | undefined,\n      link = '',\n    ): LinkedValueTreeNode[] | undefined => {\n      if (!nodes?.length) {\n        return undefined;\n      }\n\n      return nodes?.map((node) => {\n        const leafLink = [link, node.name].filter(Boolean).join('.');\n        return {\n          ...node,\n          toggled: node.name === 'Tool Set' ? true : node.active,\n          link: leafLink,\n          children: parseNodes(\n            node.children?.filter((child) => child.children?.length),\n            leafLink,\n          ),\n          values:\n            parseNodes(\n              node.children?.filter((child) => !child.children?.length),\n              leafLink,\n            ) ?? [],\n        };\n      });\n    };\n\n    if (items?.tree?.children) {\n      setTreeNodes(parseNodes(items.tree.children) ?? []);\n    }\n  }, [configuration, inspectionID]);\n\n  useEffect(() => {\n    if (loading) {\n      return;\n    }\n    const path = linkName.split('.');\n    path.shift(); //removes inspection name\n    path.pop(); //removes value name\n\n    const traverse = (\n      nodes: LinkedValueTreeNode[] | undefined,\n      path: string[],\n    ): LinkedValueTreeNode[] | undefined => {\n      if (!path.length) {\n        return nodes;\n      }\n      return nodes?.map((node) => {\n        const itemName = path[0];\n        const found = node.name === itemName;\n\n        if (found && path.length === 1) {\n          setSelectedNode(node);\n        }\n\n        return {\n          ...node,\n          children: found ? traverse(node.children, path.slice(1)) : node.children,\n          toggled: found ? true : node.toggled,\n          active: found && path.length === 1,\n          name: (found ? (\n            <span className=\"selected-path-node\">{node.name}</span>\n          ) : (\n            node.name\n          )) as never,\n        };\n      });\n    };\n\n    setTreeNodes((nodes) => traverse(nodes, path) ?? []);\n  }, [linkName, loading]);\n\n  useEffect(() => {\n    if (!link) {\n      return;\n    }\n    formulaValidation.validate(`\"${link}\"`);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [link]);\n\n  const updateTreeModel = useCallback(\n    (\n      targetNode: LinkedValueTreeNode | ((node: LinkedValueTreeNode) => boolean),\n      updateTargetData: (node: LinkedValueTreeNode) => Partial<LinkedValueTreeNode>,\n      updateOtherData?: (node: LinkedValueTreeNode) => Partial<LinkedValueTreeNode>,\n    ) => {\n      const mapToolsetTree = (tree: LinkedValueTreeNode[]): LinkedValueTreeNode[] => {\n        return tree.map((node) => {\n          const children = node.children?.length ? mapToolsetTree(node.children) : node.children;\n          if (typeof targetNode === 'function' ? targetNode(node) : node === targetNode) {\n            return { ...node, children, ...updateTargetData(node) };\n          } else {\n            return updateOtherData ? { ...node, children, ...updateOtherData(node) } : node;\n          }\n        });\n      };\n      setTreeNodes(mapToolsetTree);\n    },\n    [],\n  );\n\n  const onNodeClicked = useCallback(\n    (node: LinkedValueTreeNode, toggled: boolean) => {\n      updateTreeModel(\n        node,\n        (node) => ({\n          active: true,\n          toggled: node.children?.length ? toggled || !node.active : false,\n        }),\n        () => ({ active: false }),\n      );\n      setSelectedNode(node);\n      setSelectedValueNode(null);\n    },\n    [updateTreeModel],\n  );\n\n  const handleValueSelect = useCallback(\n    (node: LinkedValueTreeNode['values'][number]) => {\n      updateTreeModel(\n        () => true,\n        () => ({ active: false }),\n        undefined,\n      );\n      setSelectedValueNode(node);\n    },\n    [updateTreeModel],\n  );\n\n  return (\n    <Dialog\n      className=\"linked-value-select-dialog\"\n      title={<strong>{intl.messages['toolsetView.selectLinkedValue']}</strong>}\n      onClose={onClose}\n      open\n      isPositionAbsolute\n    >\n      <div className=\"linked-value-select-dialog-main\">\n        <div className=\"top-info\">\n          <span>{intl.messages['toolsetView.highlightedNode']}:</span>&ensp;\n          <strong>{link ?? '-'}</strong>\n        </div>\n        <div className=\"top-info\">\n          <span>{intl.messages['toolsetView.evaluatedValue']}:</span>&ensp;\n          {formulaValidation.validating ? (\n            <CircularProgress size=\"16px\" />\n          ) : validationError ? (\n            <span className=\"error\">{intl.messages['toolsetView.validationError']}</span>\n          ) : (\n            <strong>{formulaValidation.validationSuccessResult}</strong> ?? <span>-</span>\n          )}\n        </div>\n        <div className=\"linked-value-select-dialog-body\">\n          <div>\n            <Treebeard\n              data={treeNodes}\n              onToggle={(node, toggled) => onNodeClicked(node as LinkedValueTreeNode, toggled)}\n              style={TreebeardStyle}\n            />\n          </div>\n          <div className=\"values-list\">\n            {selectedNode?.values?.map((node) => (\n              <div\n                key={node.id}\n                className={clsx(selectedValueNode === node && 'selected')}\n                onClick={() => handleValueSelect(node)}\n              >\n                {node.name}\n              </div>\n            ))}\n          </div>\n        </div>\n        <div className=\"options\">\n          <Button variant=\"outlined\" color=\"primary\" onClick={onClose}>\n            {intl.messages['cancel']}\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color={validationError ? 'secondary' : 'primary'}\n            disabled={!selectedNode && !selectedValueNode}\n            onClick={() =>\n              onSelect(parseInt(selectedValueNode?.id ?? selectedNode?.id ?? ''), link ?? '')\n            }\n          >\n            {intl.messages['ok']}\n            <ChevronDoubleLeftIcon\n              className={clsx('chevron-double-button-icon', validationError && 'error')}\n            />\n          </Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n","import { CSSProperties, useEffect, useRef } from 'react';\nimport Prism from 'prismjs';\nimport 'prismjs/components/prism-sql';\nimport 'prismjs/plugins/match-braces/prism-match-braces.js';\n\nimport 'prismjs/themes/prism-solarizedlight.css';\nimport 'prismjs/plugins/match-braces/prism-match-braces.css';\nimport './ReadonlyFormula.scss';\n\nconst language = 'sql';\n\nexport const ReadonlyFormula = ({\n  children,\n  style = {},\n  codeStyle = {},\n}: {\n  children?: string;\n  style?: CSSProperties;\n  codeStyle?: CSSProperties;\n  errorPosition?: number;\n}) => {\n  const codeRef = useRef<HTMLPreElement>(null);\n\n  useEffect(() => {\n    if (codeRef.current && children) {\n      Prism.highlightAllUnder(codeRef.current, false);\n    }\n  }, [children]);\n\n  return (\n    <pre\n      ref={codeRef}\n      style={{\n        display: 'inline',\n        whiteSpace: 'break-spaces',\n        margin: 0,\n        position: 'relative',\n        background: 'none',\n        padding: 0,\n        ...style,\n      }}\n      className={`language-${language} match-braces rainbow-braces`}\n    >\n      <code\n        style={{\n          fontFamily: 'Calibri, sans-serif',\n          overflow: 'hidden',\n          textOverflow: 'ellipsis',\n          ...codeStyle,\n        }}\n      >\n        {children}\n      </code>\n    </pre>\n  );\n};\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Button, makeStyles } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport Dialog from '../../../components/Dialog';\nimport { FormulaEditor, FormulaEditorRef } from './FormulaEditor';\nimport { LinkedValueSelectDialog } from './LinkedValueSelectDialog';\nimport { ReadonlyFormula } from './ReadonlyFormula';\nimport { useFormulaValidate } from './hooks/useFormulaValidate';\n\nimport './FormulaEditPanel.scss';\n\nconst useStyles = makeStyles({\n  root: {\n    padding: '0 6px',\n    minWidth: 26,\n    minHeight: 'auto',\n  },\n});\n\ninterface FormulaEditPanelTitleProps extends ReturnType<typeof useFormulaValidate> {\n  conditional?: boolean;\n  short?: boolean;\n  internalEquationText: string;\n}\n\nconst FormulaEditPanelTitle = ({\n  conditional,\n  short,\n  internalEquationText,\n  validating,\n  validatedFormula,\n  validationSuccessResult,\n  validationErrorMessages,\n  errorPosition,\n}: FormulaEditPanelTitleProps) => {\n  const intl = useIntl();\n\n  const validatedFragment = validatedFormula !== internalEquationText;\n\n  const validatedFormulaCut = useMemo(() => {\n    if (validatedFormula.includes('\\n')) {\n      return validatedFormula.split('\\n')[0] + '...';\n    } else {\n      return validatedFormula;\n    }\n  }, [validatedFormula]);\n\n  return (\n    <div className=\"formula-edit-panel-title\">\n      {!short && <div>{intl.messages['toolsetView.formula']}</div>}\n      {validating && <div>{intl.messages['toolsetView.validating']}...</div>}\n      {validatedFormula && (\n        <div className=\"result\">\n          {validationSuccessResult !== null && (\n            <div>\n              <span className=\"validation-success-info\">\n                {intl.messages['toolsetView.validationSuccess']}.\n              </span>\n              &ensp;\n              <span>{intl.messages['toolsetView.result']}:</span>&ensp;\n              <strong>\n                {conditional && !validatedFragment\n                  ? validationSuccessResult\n                    ? 'TRUE'\n                    : 'FALSE'\n                  : validationSuccessResult}\n              </strong>\n            </div>\n          )}\n          {validationErrorMessages?.length > 0 && (\n            <div>\n              <span>{intl.messages['toolsetView.validationError']}.</span>&ensp;\n              <span className=\"validation-error-info\">{validationErrorMessages.join('. ')}</span>\n            </div>\n          )}\n          {validatedFragment && (\n            <div className=\"validated-formula-info\">\n              <span>{intl.messages['toolsetView.validatedFormula']}:</span>\n              <ReadonlyFormula\n                style={{\n                  whiteSpace: 'nowrap',\n                  display: 'inline-flex',\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis',\n                }}\n                errorPosition={errorPosition ?? undefined}\n              >\n                {validatedFormulaCut}\n              </ReadonlyFormula>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\ninterface FormulaEditPanelBaseProps\n  extends ReturnType<typeof useFormulaValidate>,\n    Omit<FormulaEditPanelProps, 'showInDialog'> {\n  internalEquationText: string;\n  setInternalEquationText: React.Dispatch<React.SetStateAction<string>>;\n  undoAll: () => void;\n}\n\nconst FormulaEditPanelBase = ({\n  inspectionID,\n  internalEquationText,\n  equationText,\n  equationId,\n  setInternalEquationText,\n  onSave,\n  onClose,\n  undoAll,\n  validate,\n  validating,\n  reset: resetValidation,\n  validatedFormula,\n  validationErrorMessages,\n}: FormulaEditPanelBaseProps) => {\n  const intl = useIntl();\n  const panelButtonClasses = useStyles();\n\n  const formulaEditorRef = useRef<FormulaEditorRef>(null);\n\n  const [selection, setSelection] = useState<{ start: number; end: number }>({\n    start: internalEquationText.length,\n    end: internalEquationText.length,\n  });\n  const [openLinkedValueSelectDialog, setOpenLinkedValueSelectDialog] = useState(false);\n\n  const validateAndReturn = useCallback(async () => {\n    const result = await validate(internalEquationText);\n    if (result.success) {\n      onSave(internalEquationText.trim(), result.resultValue);\n    }\n    return result;\n  }, [validate, internalEquationText, onSave]);\n\n  const appendToInternalEquation = useCallback(\n    (value: string, options: { cursorOffset?: number } = {}) => {\n      const editorSelection = formulaEditorRef.current?.getSelectionPosition() ?? {\n        start: internalEquationText.length,\n        end: internalEquationText.length,\n      };\n\n      const shouldAppendSpace = () => {\n        if (['\\n'].includes(value)) {\n          return false;\n        }\n\n        const lines = internalEquationText.split('\\n');\n        let startLi = 0,\n          endLi = 0;\n        let startPivot = editorSelection.start;\n        let endPivot = editorSelection.end;\n        for (; startLi < lines.length; endLi++) {\n          startPivot -= lines[startLi].length + 1;\n          endPivot -= lines[startLi].length + 1;\n          if (startPivot >= 0) {\n            startLi++;\n          }\n          if (endPivot < 0) {\n            break;\n          }\n        }\n        const equationPart = lines.slice(startLi, Math.min(lines.length, endLi + 1)).join('\\n');\n\n        if (equationPart.length === 0) {\n          return false;\n        }\n        const lastChar = equationPart.charAt(equationPart.length - 1);\n        const digits = '0123456789'.split('');\n        const hexadecimalDigits = 'ABCDEF'.split('');\n        const numeric = [...digits, ...hexadecimalDigits, ...['.', ',', '(', ')']];\n        if (\n          (numeric.includes(lastChar) && numeric.includes(value)) ||\n          (['0', '1'].includes(lastChar) && value === 'b') ||\n          ([...digits, ...hexadecimalDigits].includes(lastChar) && value === 'h')\n        ) {\n          return false;\n        }\n        return !equationPart.endsWith(' ');\n      };\n\n      if (editorSelection.start === editorSelection.end) {\n        setInternalEquationText(\n          internalEquationText.slice(0, editorSelection.start) +\n            (shouldAppendSpace() ? ' ' : '') +\n            value +\n            internalEquationText.slice(editorSelection.end),\n        );\n        formulaEditorRef.current?.focus(\n          editorSelection.start +\n            (options.cursorOffset ?? 0) +\n            (shouldAppendSpace() ? 1 : 0) +\n            value.length,\n        );\n      } else {\n        setInternalEquationText(\n          internalEquationText.slice(0, editorSelection.start) +\n            value +\n            internalEquationText.slice(editorSelection.end),\n        );\n        formulaEditorRef.current?.focus(\n          editorSelection.start +\n            (typeof options.cursorOffset === 'number' ? options.cursorOffset : value.length),\n        );\n      }\n    },\n    [internalEquationText, setInternalEquationText],\n  );\n\n  const deleteLeft = useCallback(() => {\n    const editorSelection = formulaEditorRef.current?.getSelectionPosition() ?? {\n      start: internalEquationText.length,\n      end: internalEquationText.length,\n    };\n    const start = Math.max(\n      0,\n      editorSelection.start - (editorSelection.start === editorSelection.end ? 1 : 0),\n    );\n\n    setInternalEquationText(\n      internalEquationText.slice(0, start) + internalEquationText.slice(editorSelection.end),\n    );\n    formulaEditorRef.current?.focus(start);\n  }, [internalEquationText, setInternalEquationText]);\n\n  const buttons = useMemo<{ label?: string; onClick?: () => void; separator?: boolean }[][]>(() => {\n    const createSimpleAppendButtons = <OptionsType extends Record<string, unknown>>(\n      labels: string[],\n      options?: OptionsType,\n    ) => {\n      return labels.map((symbol) => ({\n        label: symbol,\n        onClick: () => appendToInternalEquation(symbol),\n        ...(options ?? {}),\n      }));\n    };\n\n    return [\n      // External and numeric system letters\n      [\n        {\n          label: intl.messages['toolsetView.buttons.addLinkedValue'],\n          onClick: () => setOpenLinkedValueSelectDialog(true),\n        },\n        {\n          separator: true,\n        },\n        {\n          label: '↞',\n          onClick: () => formulaEditorRef.current?.moveCursorTo(0),\n        },\n        {\n          label: '⇠',\n          onClick: () => formulaEditorRef.current?.moveLeft(),\n        },\n        {\n          label: '⇢',\n          onClick: () => formulaEditorRef.current?.moveRight(),\n        },\n        {\n          label: '↠',\n          onClick: () => formulaEditorRef.current?.moveCursorTo(Number.MAX_SAFE_INTEGER),\n        },\n      ],\n\n      // Digits (including hexadecimal) and dot\n      createSimpleAppendButtons('0123456789.'.split('')),\n      [\n        ...createSimpleAppendButtons('ABCDEF'.split('')),\n        {\n          separator: true,\n        },\n        {\n          label: 'bin',\n          onClick: () => appendToInternalEquation('b'),\n        },\n        {\n          label: 'hex',\n          onClick: () => appendToInternalEquation('h'),\n        },\n      ],\n\n      // Logical and basic math operators\n      [\n        ...createSimpleAppendButtons(['AND', 'OR', 'NOT', 'XOR']),\n        {\n          label: 'IF',\n          onClick: () => appendToInternalEquation('IF(  )\\nTHEN {}\\nELSE {}', { cursorOffset: 4 }),\n        },\n        {\n          separator: true,\n        },\n        ...createSimpleAppendButtons(['+', '-']),\n        {\n          label: '×',\n          onClick: () => appendToInternalEquation('*'),\n        },\n        {\n          label: '÷',\n          onClick: () => appendToInternalEquation('/'),\n        },\n      ],\n\n      // Comparators, parenthesis and coma\n      [\n        ...createSimpleAppendButtons(['<', '>']),\n        {\n          label: '≤',\n          onClick: () => appendToInternalEquation('<='),\n        },\n        {\n          label: '≥',\n          onClick: () => appendToInternalEquation('>='),\n        },\n        {\n          label: '=',\n          onClick: () => appendToInternalEquation('='),\n        },\n        {\n          label: '≠',\n          onClick: () => appendToInternalEquation('<>'),\n        },\n        {\n          separator: true,\n        },\n        ...createSimpleAppendButtons(['(', ')', '{', '}', ',']),\n      ],\n\n      // Advanced and common buttons\n      [\n        {\n          label: 'Sin',\n          onClick: () => appendToInternalEquation('SIN('),\n        },\n        {\n          label: 'Cos',\n          onClick: () => appendToInternalEquation('COS('),\n        },\n        {\n          label: 'Tan',\n          onClick: () => appendToInternalEquation('TAN('),\n        },\n        {\n          label: 'Sin⁻¹',\n          onClick: () => appendToInternalEquation('ASIN('),\n        },\n        {\n          label: 'Cos⁻¹',\n          onClick: () => appendToInternalEquation('ACOS('),\n        },\n        {\n          label: 'Tan⁻¹',\n          onClick: () => appendToInternalEquation('ATAN('),\n        },\n        {\n          label: 'Min',\n          onClick: () => appendToInternalEquation('MIN(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Max',\n          onClick: () => appendToInternalEquation('MAX(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Avg',\n          onClick: () => appendToInternalEquation('AVG(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Med',\n          onClick: () => appendToInternalEquation('MED(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Sum',\n          onClick: () => appendToInternalEquation('SUM(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Std dev',\n          onClick: () => appendToInternalEquation('STDDEV(,', { cursorOffset: 7 }),\n        },\n        {\n          label: 'Mod',\n          onClick: () => appendToInternalEquation('MOD(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Abs',\n          onClick: () => appendToInternalEquation('ABS('),\n        },\n        {\n          label: 'Sqr',\n          onClick: () => appendToInternalEquation('SQR('),\n        },\n        {\n          label: 'Sqrt',\n          onClick: () => appendToInternalEquation('SQRT('),\n        },\n        {\n          label: 'Trunc',\n          onClick: () => appendToInternalEquation('TRUNC('),\n        },\n        {\n          label: 'Pow',\n          onClick: () => appendToInternalEquation('POW(,', { cursorOffset: 4 }),\n        },\n        {\n          separator: true,\n        },\n        {\n          label: '⎵',\n          onClick: () => appendToInternalEquation(' '),\n        },\n        {\n          label: '↵',\n          onClick: () => appendToInternalEquation('\\n'),\n        },\n        {\n          separator: true,\n        },\n        {\n          label: intl.messages['toolsetView.buttons.delete'],\n          onClick: deleteLeft,\n        },\n      ],\n    ];\n  }, [appendToInternalEquation, deleteLeft, intl.messages]);\n\n  return (\n    <>\n      <div className=\"formula-edit-panel\">\n        <div className=\"panel-container\">\n          <div className=\"panel\">\n            <div className=\"panel-buttons\">\n              {buttons.map((row, index1) => (\n                <div key={index1}>\n                  {row.map((btn, index2) =>\n                    btn.separator ? (\n                      <span\n                        key={index1.toString() + (btn.label ?? '_') + index2.toString()}\n                        style={{ flexGrow: 1 }}\n                      />\n                    ) : (\n                      <Button\n                        key={index1.toString() + (btn.label ?? '_') + index2.toString()}\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        onClick={btn.onClick}\n                        classes={panelButtonClasses}\n                        style={{\n                          textTransform: 'none',\n                        }}\n                      >\n                        {btn.label}\n                      </Button>\n                    ),\n                  )}\n                </div>\n              ))}\n            </div>\n            <div className=\"equation-textfield-container\">\n              <FormulaEditor\n                ref={formulaEditorRef}\n                value={internalEquationText}\n                error={validationErrorMessages?.length > 0}\n                onSelectionChange={setSelection}\n                onChange={(value) => {\n                  resetValidation();\n                  setInternalEquationText(value);\n                }}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"options\">\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            style={{ minWidth: 96 }}\n            disabled={!internalEquationText || validating}\n            onClick={() => {\n              const validateFragment =\n                selection.start !== selection.end && selection.end - selection.start > 0;\n              const validateString = validateFragment\n                ? internalEquationText.substring(selection.start, selection.end)\n                : internalEquationText;\n              validate(validateString).then((result) => {\n                if (result.success) {\n                  formulaEditorRef.current?.focus(selection.start, selection.end);\n                } else if (result.errorPosition) {\n                  formulaEditorRef.current?.focus(\n                    result.errorPosition + (validateFragment ? selection.start : 0),\n                  );\n                }\n              });\n            }}\n          >\n            {selection.start !== selection.end && selection.end - selection.start > 0\n              ? intl.messages['toolsetView.validateSelection']\n              : intl.messages['toolsetView.validate']}\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            style={{ minWidth: 96 }}\n            onClick={() => {\n              resetValidation();\n              undoAll();\n            }}\n            disabled={internalEquationText === equationText || validating}\n          >\n            {intl.messages['toolsetView.undoAll']}\n          </Button>\n          <span style={{ marginLeft: 16 }} />\n          <Button variant=\"outlined\" color=\"primary\" style={{ minWidth: 96 }} onClick={onClose}>\n            {intl.messages['cancel']}\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            style={{ minWidth: 96 }}\n            disabled={\n              !internalEquationText ||\n              validating ||\n              internalEquationText === equationText ||\n              (!!validatedFormula && validationErrorMessages?.length > 0)\n            }\n            onClick={() => {\n              validateAndReturn().then((result) => {\n                if (result.success) {\n                  formulaEditorRef.current?.focus(selection.start, selection.end);\n                } else if (result.errorPosition) {\n                  formulaEditorRef.current?.focus(result.errorPosition);\n                }\n              });\n            }}\n          >\n            {intl.messages['ok']}\n          </Button>\n        </div>\n      </div>\n      {openLinkedValueSelectDialog && (\n        <LinkedValueSelectDialog\n          inspectionID={inspectionID}\n          equationId={equationId}\n          onClose={() => setOpenLinkedValueSelectDialog(false)}\n          onSelect={(_, link) => {\n            if (!link) {\n              return;\n            }\n            appendToInternalEquation(`\"${link}\"`);\n            setOpenLinkedValueSelectDialog(false);\n          }}\n        />\n      )}\n    </>\n  );\n};\n\ninterface FormulaEditPanelProps {\n  showInDialog?: boolean;\n  inspectionID: number;\n  equationText: string | undefined;\n  equationId: number;\n  onClose: () => void;\n  onSave: (equationText: string, validationResultValue: number | null) => void;\n  conditional?: boolean;\n}\n\nexport const FormulaEditPanel = ({\n  showInDialog,\n  inspectionID,\n  equationText,\n  equationId,\n  onClose,\n  onSave,\n  conditional,\n}: FormulaEditPanelProps) => {\n  const [internalEquationText, setInternalEquationText] = useState('');\n\n  const formulaValidation = useFormulaValidate(inspectionID, equationId);\n\n  const equationTextUnix = (equationText ?? '').replace(/\\r\\n/g, '\\n');\n\n  useEffect(() => {\n    setInternalEquationText(equationTextUnix);\n  }, [equationTextUnix]);\n\n  const undoAll = useCallback(() => {\n    setInternalEquationText(equationTextUnix);\n  }, [equationTextUnix]);\n\n  const titleProps: FormulaEditPanelTitleProps = {\n    ...formulaValidation,\n    conditional,\n    short: !showInDialog,\n    internalEquationText,\n  };\n\n  const panelProps: FormulaEditPanelBaseProps = {\n    ...formulaValidation,\n    onSave,\n    onClose,\n    inspectionID,\n    equationId,\n    equationText: equationTextUnix,\n    internalEquationText,\n    setInternalEquationText,\n    undoAll,\n  };\n\n  if (showInDialog) {\n    return (\n      <Dialog\n        title={<FormulaEditPanelTitle {...titleProps} />}\n        onClose={onClose}\n        open\n        isPositionAbsolute\n      >\n        <FormulaEditPanelBase {...panelProps} />\n      </Dialog>\n    );\n  } else {\n    return (\n      <div>\n        <FormulaEditPanelTitle {...titleProps} />\n        <FormulaEditPanelBase {...panelProps} />\n      </div>\n    );\n  }\n};\n","import { useEffect, useState } from 'react';\nimport { CircularProgress } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport EditIcon from '../../../assets/icons/edit.svg';\nimport IconButton from '../../../components/buttons/IconButton';\nimport modes from '../../../utils/modes';\nimport { canEditParameterView } from '../../../utils/permissions';\nimport { CommonMathToolProps } from '../common';\nimport { FormulaEditPanel } from './FormulaEditPanel';\nimport { ReadonlyFormula } from './ReadonlyFormula';\nimport { EquationValue } from './hooks/useFormula';\nimport { useFormulaValidate } from './hooks/useFormulaValidate';\n\nimport './FormulaTab.scss';\n\nexport const FormulaTab = ({\n  inspectionID,\n  value,\n  onChange,\n  toggleOptions,\n  loading,\n  conditional,\n}: CommonMathToolProps<EquationValue | null> & { conditional?: boolean }) => {\n  const intl = useIntl();\n\n  const [openFormulaEditPanel, setOpenFormulaEditPanel] = useState(false);\n\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const currentMode = useSelector<any>((state) => state.app?.proxy.mode) as string;\n\n  useEffect(() => {\n    toggleOptions(!openFormulaEditPanel);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [openFormulaEditPanel]);\n\n  const {\n    validate,\n    validating,\n    validatedFormula,\n    validationErrorMessages,\n    validationSuccessResult,\n  } = useFormulaValidate(inspectionID, value?.equationObjectID ?? 0);\n\n  useEffect(() => {\n    if (value?.equationText) {\n      validate(value.equationText);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [value?.equationText]);\n\n  useEffect(() => {\n    if (\n      openFormulaEditPanel &&\n      (!canEditParameterView(myPermissions) || currentMode !== modes.editMode.id)\n    ) {\n      setOpenFormulaEditPanel(false);\n    }\n  }, [openFormulaEditPanel, myPermissions, currentMode]);\n\n  return (\n    <div className=\"tab-body\">\n      {loading || !value ? (\n        <CircularProgress />\n      ) : openFormulaEditPanel ? (\n        <FormulaEditPanel\n          conditional={conditional}\n          inspectionID={inspectionID}\n          equationId={value.equationObjectID}\n          equationText={value.equationText}\n          onClose={() => setOpenFormulaEditPanel(false)}\n          onSave={(equationText) => {\n            onChange({\n              ...value,\n              equationText,\n            });\n            setOpenFormulaEditPanel(false);\n          }}\n        />\n      ) : (\n        <div className=\"formula-tab\">\n          <label>{intl.messages['toolsetView.value']}:</label>\n          <span>\n            {validating\n              ? intl.messages['toolsetView.validating']\n              : validatedFormula && (\n                  <>\n                    {validationSuccessResult !== null &&\n                      (conditional\n                        ? validationSuccessResult\n                          ? 'TRUE'\n                          : 'FALSE'\n                        : validationSuccessResult)}\n                    {validationErrorMessages?.length > 0 && (\n                      <span>\n                        <span>{intl.messages['toolsetView.validationError']}.</span>&ensp;\n                        <span className=\"validation-error-info\">\n                          {validationErrorMessages.join('. ')}\n                        </span>\n                      </span>\n                    )}\n                  </>\n                )}\n          </span>\n          <label>{intl.messages['toolsetView.formula']}:</label>\n          <span\n            style={{\n              display: 'flex',\n              alignItems: 'flex-start',\n              flexWrap: 'wrap',\n              overflow: 'hidden',\n            }}\n          >\n            <ReadonlyFormula\n              style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}\n              codeStyle={{ whiteSpace: 'break-spaces' }}\n            >\n              {value.equationText}\n            </ReadonlyFormula>\n            <IconButton\n              onClick={() => setOpenFormulaEditPanel(true)}\n              style={{\n                height: 20,\n                width: 20,\n                marginLeft: 8,\n              }}\n              iconUrl={EditIcon}\n              tooltip={intl.messages['inputToolView.edit']}\n              enabled={canEditParameterView(myPermissions) && currentMode === modes.editMode.id}\n            />\n          </span>\n        </div>\n      )}\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/chevron-double-left.d02c0bfd.svg\";","export default __webpack_public_path__ + \"static/media/chevron-left.d49f6e12.svg\";","import { useState } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport EditIcon from '../../../assets/icons/edit.svg';\nimport IconButton from '../../../components/buttons/IconButton';\nimport { CommonEditorProps } from './common';\n\nimport './RawEditor.scss';\n\ninterface RawEditorProps {\n  numeric?: boolean;\n  onBlur?: () => void;\n  exitEditModeOnBlur?: boolean;\n}\n\nexport const RawEditor = ({\n  numeric,\n  value,\n  onChange,\n  onBlur,\n  exitEditModeOnBlur,\n}: CommonEditorProps<string> & RawEditorProps) => {\n  const intl = useIntl();\n\n  const [editMode, setEditMode] = useState(false);\n\n  return (\n    <div className=\"raw-editor\">\n      {editMode ? (\n        <TextField\n          type={numeric ? 'number' : 'text'}\n          fullWidth\n          value={value}\n          onChange={(event) => onChange(event.target.value ?? '')}\n          onBlur={() => {\n            if (exitEditModeOnBlur) {\n              setEditMode(false);\n            }\n            onBlur?.();\n          }}\n          autoFocus\n        />\n      ) : (\n        <div className=\"view-mode\">\n          <span>{value}</span>\n          <IconButton\n            tooltip={intl.messages['inputToolView.edit']}\n            onClick={() => setEditMode(true)}\n            style={{ height: 20, width: 20 }}\n            iconUrl={EditIcon}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { Button, Slider } from '@material-ui/core';\nimport clsx from 'clsx';\nimport ChevronDoubleLeftIcon from '../../../assets/icons/chevron-double-left.svg';\nimport ChevronLeftIcon from '../../../assets/icons/chevron-left.svg';\nimport IconButton from '../../../components/buttons/IconButton';\nimport { RawEditor } from './RawEditor';\nimport { CommonEditorProps } from './common';\n\nimport './NumberEditor.scss';\n\nconst toggleNegative = (value: string) =>\n  value.startsWith('-') ? value.substring(1) : `-${value}`;\n\ninterface NumberEditorProps {\n  onlyIntegers?: boolean;\n  min?: number;\n  max?: number;\n  smallStep?: number;\n  largeStep?: number;\n  hideRawEditor?: boolean;\n}\n\nexport const NumberEditor = ({\n  value,\n  onChange,\n  onlyIntegers,\n  min,\n  max,\n  smallStep = 1,\n  largeStep = 10,\n  hideRawEditor,\n}: CommonEditorProps<number> & NumberEditorProps) => {\n  const [rawValue, setRawValue] = useState('');\n  const [invalidInternalValue, setInvalidInternalValue] = useState(false);\n\n  useEffect(() => {\n    setRawValue(value?.toString() ?? '');\n  }, [value]);\n\n  const clamp = (value: number) => {\n    if (typeof min === 'number' && value < min) return min;\n    if (typeof max === 'number' && value > max) return max;\n    return value;\n  };\n\n  const parseRawValue = (raw: string, fix = false) => {\n    setRawValue(raw);\n\n    const numberValue = onlyIntegers ? parseInt(raw) : parseFloat(raw);\n    if (\n      !isNaN(numberValue) &&\n      (typeof min !== 'number' || numberValue >= min) &&\n      (typeof max !== 'number' || numberValue <= max)\n    ) {\n      setInvalidInternalValue(false);\n      onChange(numberValue);\n    } else if (fix) {\n      setInvalidInternalValue(false);\n      const newValue = clamp(numberValue || 0);\n      onChange(newValue);\n      setRawValue(newValue.toString());\n    } else {\n      setInvalidInternalValue(true);\n    }\n  };\n\n  const keys = useMemo(\n    () => [...new Array(10).fill(0).map((_, i) => i.toString()), ...(onlyIntegers ? [] : ['.'])],\n    [onlyIntegers],\n  );\n\n  return (\n    <div className={clsx('number-editor', invalidInternalValue && 'invalid')}>\n      {!hideRawEditor && (\n        <RawEditor\n          numeric\n          value={rawValue}\n          onChange={parseRawValue}\n          onBlur={() => {\n            setRawValue(value.toString());\n            setInvalidInternalValue(false);\n          }}\n          exitEditModeOnBlur\n        />\n      )}\n      <div className=\"slider\">\n        <div style={{ display: 'flex', columnGap: 8 }}>\n          <IconButton\n            iconUrl={ChevronDoubleLeftIcon}\n            onClick={() => onChange(clamp(value - largeStep))}\n          />\n          <IconButton\n            iconUrl={ChevronLeftIcon}\n            onClick={() => onChange(clamp(value - smallStep))}\n          />\n        </div>\n        {typeof min === 'number' && typeof max === 'number' && (\n          <div className=\"slider-widget-container\">\n            <Slider\n              color=\"primary\"\n              value={value || 0}\n              onChange={(_, value) => onChange((Array.isArray(value) ? value[0] : value) || 0)}\n              valueLabelDisplay=\"auto\"\n              min={min}\n              max={max}\n              step={1}\n            />\n          </div>\n        )}\n        <div style={{ display: 'flex', columnGap: 8 }}>\n          <IconButton\n            style={{ transform: 'scaleX(-1)' }}\n            iconUrl={ChevronLeftIcon}\n            onClick={() => onChange(clamp(value + smallStep))}\n          />\n          <IconButton\n            style={{ transform: 'scaleX(-1)' }}\n            iconUrl={ChevronDoubleLeftIcon}\n            onClick={() => onChange(clamp(value + largeStep))}\n          />\n        </div>\n      </div>\n      <div className=\"keys\">\n        {(typeof min !== 'number' || min < 0) && (\n          <Button\n            variant=\"contained\"\n            disabled={\n              (typeof min === 'number' && parseFloat(toggleNegative(rawValue)) < min) ||\n              (typeof max === 'number' && parseFloat(toggleNegative(rawValue)) > max)\n            }\n            onClick={() => parseRawValue(toggleNegative(rawValue), true)}\n          >\n            -\n          </Button>\n        )}\n        {keys.map((key) => (\n          <Button\n            key={key}\n            variant=\"contained\"\n            disabled={\n              (key === '.' && rawValue.includes('.')) ||\n              (typeof max === 'number' &&\n                '1234567890'.includes(key) &&\n                parseFloat(rawValue + key) > max) ||\n              (typeof min === 'number' &&\n                '1234567890'.includes(key) &&\n                parseFloat(rawValue + key) < min)\n            }\n            onClick={() => {\n              if (key === '.' && rawValue.includes('.')) {\n                return;\n              }\n              parseRawValue(rawValue + key, true);\n            }}\n          >\n            {key}\n          </Button>\n        ))}\n        <Button\n          variant=\"contained\"\n          onClick={() =>\n            parseRawValue(rawValue.substring(0, Math.max(0, rawValue.length - 1)), true)\n          }\n        >\n          DEL\n        </Button>\n      </div>\n    </div>\n  );\n};\n","import { useState, useEffect, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport Protobuf from '../../../../protobuf/Protobuf';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport logger from '../../../../utils/logger';\nimport modes from '../../../../utils/modes';\nimport {\n  bytesToString,\n  CommonHookProps,\n  EmbeddedIdEnum,\n  EmbeddedValue,\n  LinkedSelectedOption,\n  ResetType,\n  stringToBytes,\n  VARENUM,\n} from '../../common';\n\ninterface RangeValueBase {\n  rangeClass:\n    | EmbeddedIdEnum.RangeClassFailHighEId\n    | EmbeddedIdEnum.RangeClassFailLowEId\n    | EmbeddedIdEnum.RangeClassWarnHighEId\n    | EmbeddedIdEnum.RangeClassWarnLowEId;\n  inspectionID: number;\n  value: number;\n  equationId: number;\n  embeddedValueObjectID?: number;\n}\n\ninterface DirectRangeValue extends RangeValueBase {\n  option: LinkedSelectedOption.DirectValue;\n}\n\ninterface IndirectRangeValue extends RangeValueBase {\n  option: LinkedSelectedOption.IndirectValue;\n  indirectObjectId?: number;\n}\n\ninterface FormulaRangeValue extends RangeValueBase {\n  option: LinkedSelectedOption.Formula;\n  formula?: string;\n}\n\nexport type RangeValue = DirectRangeValue | IndirectRangeValue | FormulaRangeValue;\n\nexport interface Range {\n  failHigh?: RangeValue;\n  failLow?: RangeValue;\n  warnHigh?: RangeValue;\n  warnLow?: RangeValue;\n}\n\nexport const MIN_RANGE_VALUE = -1700000;\nexport const MAX_RANGE_VALUE = 1700000;\n\nexport function clampRangeValue(val: number) {\n  return Math.max(MIN_RANGE_VALUE, Math.min(MAX_RANGE_VALUE, val));\n}\n\nexport function compareRangeValues(a: RangeValue | undefined, b: RangeValue | undefined) {\n  if (a === b) {\n    return true;\n  }\n  if (!a || !b) {\n    return false;\n  }\n  if (a.option !== b.option || a.value !== b.value) {\n    return false;\n  }\n  switch (a.option) {\n    case LinkedSelectedOption.IndirectValue:\n      if (a.indirectObjectId !== (b as typeof a).indirectObjectId) {\n        return false;\n      }\n      break;\n    case LinkedSelectedOption.Formula:\n      if (a.formula !== (b as typeof a).formula) {\n        return false;\n      }\n      break;\n  }\n\n  return true;\n}\n\nfunction getDefaultValue(rangeClass: RangeValueBase['rangeClass']) {\n  if (\n    [EmbeddedIdEnum.RangeClassFailHighEId, EmbeddedIdEnum.RangeClassWarnHighEId].includes(\n      rangeClass,\n    )\n  ) {\n    return 99999;\n  }\n  return 0;\n}\n\nexport const useRange = ({ inspectionID, data }: CommonHookProps) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n  const currentMode = useSelector<any>((state) => state.app?.proxy.mode) as string;\n\n  const [loading, setLoading] = useState(false);\n  const [initialValue, setInitialValue] = useState<Range>({});\n  const [value, setValue] = useState<Range>({});\n  const [rangeObjectID, setRangeObjectID] = useState(0);\n\n  const modified =\n    value &&\n    initialValue &&\n    (!compareRangeValues(value.failHigh, initialValue.failHigh) ||\n      !compareRangeValues(value.failLow, initialValue.failLow) ||\n      !compareRangeValues(value.warnHigh, initialValue.warnHigh) ||\n      !compareRangeValues(value.warnLow, initialValue.warnLow));\n\n  useEffect(() => {\n    const getRange = (objectId: number) => {\n      return proxy.protobuf.request(\n        Protobuf.SvPb.InspectionCmdRequest.create({\n          inspectionID,\n          getEmbeddedValuesRequest: {\n            objectId,\n          },\n        }),\n      );\n    };\n\n    if (currentMode !== modes.unknownMode.id) {\n      const request = Protobuf.SvPb.InspectionCmdRequest.create({\n        inspectionID,\n        getObjectIdRequest: {\n          info: {\n            ownerId: parseInt(data.objectID ?? ''),\n            infoStruct: {\n              objectType: 0x00200000, //SVObjectTypeEnum.SVRangeObjectType\n              subType: 0, //SVObjectSubTypeEnum.SVNotSetSubObjectType\n              embeddedID: EmbeddedIdEnum.NoEmbeddedId,\n            },\n          },\n        },\n      });\n      setLoading(true);\n      proxy.protobuf\n        .request(request)\n        .then((res: any) => {\n          setRangeObjectID(res?.getObjectIdResponse?.objectId);\n          getRange(rangeObjectID).then(async (res: any) => {\n            const embeddedValues: EmbeddedValue[] = res?.getEmbeddedValuesResponse?.list ?? [];\n\n            const getRangeValue = async (\n              embeddedIdRangeClass: RangeValueBase['rangeClass'],\n            ): Promise<RangeValue | undefined> => {\n              const embeddedValue = embeddedValues.find(\n                (entry) => entry.embeddedId === embeddedIdRangeClass,\n              );\n\n              const embeddedValueObjectID = embeddedValue?.objectId;\n\n              const linkedValue = embeddedValue?.linkedValue;\n              if (!linkedValue) {\n                return undefined;\n              }\n\n              const common = {\n                inspectionID,\n                rangeClass: embeddedIdRangeClass,\n                option: linkedValue.option,\n                embeddedValueObjectID,\n                equationId: linkedValue.equationId,\n              };\n\n              switch (linkedValue.option) {\n                case LinkedSelectedOption.DirectValue:\n                  return {\n                    ...common,\n                    value:\n                      linkedValue.directValue?.dblVal ??\n                      linkedValue.value.dblVal ??\n                      linkedValue.defaultValue.dblVal ??\n                      0,\n                  };\n                case LinkedSelectedOption.IndirectValue: {\n                  return {\n                    ...common,\n                    value: linkedValue.value.dblVal ?? linkedValue.defaultValue.dblVal ?? 0,\n                    indirectObjectId: (() => {\n                      try {\n                        return parseInt(\n                          bytesToString(linkedValue.indirectIDString ?? new Uint8Array()).replace(\n                            /[^\\d]/g,\n                            '',\n                          ),\n                        );\n                      } catch (e) {\n                        logger.error(e instanceof Error ? e.message : String(e));\n                      }\n                    })(),\n                  };\n                }\n                case LinkedSelectedOption.Formula:\n                  return {\n                    ...common,\n                    value: linkedValue.value.dblVal ?? linkedValue.defaultValue.dblVal ?? 0,\n                    formula: bytesToString(linkedValue.formula),\n                  };\n              }\n            };\n            const range = {\n              failHigh: await getRangeValue(EmbeddedIdEnum.RangeClassFailHighEId),\n              failLow: await getRangeValue(EmbeddedIdEnum.RangeClassFailLowEId),\n              warnHigh: await getRangeValue(EmbeddedIdEnum.RangeClassWarnHighEId),\n              warnLow: await getRangeValue(EmbeddedIdEnum.RangeClassWarnLowEId),\n            };\n\n            setInitialValue(range);\n            setValue(range);\n          });\n        })\n        .catch(logger.error)\n        .finally(() => setLoading(false));\n    }\n  }, [data.objectID, inspectionID, proxy.protobuf, rangeObjectID, currentMode]);\n\n  const saveChanges = useCallback(async () => {\n    if (!modified) {\n      return [];\n    }\n\n    if (\n      value.failHigh?.option === LinkedSelectedOption.DirectValue &&\n      value.failLow?.option === LinkedSelectedOption.DirectValue &&\n      value.failHigh?.value < value.failLow?.value\n    ) {\n      return ['Fail low value is bigger than fail high value'];\n    }\n\n    if (\n      value.warnHigh?.option === LinkedSelectedOption.DirectValue &&\n      value.warnLow?.option === LinkedSelectedOption.DirectValue &&\n      value.warnHigh?.value < value.warnLow?.value\n    ) {\n      return ['Warn low value is bigger than warn high value'];\n    }\n    const req = Protobuf.SvPb.InspectionCmdRequest.create({\n      inspectionID,\n      setEmbeddedValuesRequest: {\n        objectId: rangeObjectID,\n        list: Object.values(value).reduce(\n          (\n            acc: { values: EmbeddedValue; isModified: boolean }[],\n            rangeValue: RangeValue | undefined,\n          ) => {\n            if (!rangeValue) {\n              return acc;\n            }\n            acc.push({\n              values: {\n                objectId: rangeValue.embeddedValueObjectID ?? 0,\n                embeddedId: rangeValue.rangeClass ?? EmbeddedIdEnum.NoEmbeddedId,\n                linkedValue: {\n                  option: rangeValue.option,\n                  defaultValue: {\n                    type: VARENUM.VT_R8,\n                    dblVal: getDefaultValue(rangeValue.rangeClass),\n                  },\n                  value: { type: VARENUM.VT_R8, dblVal: clampRangeValue(rangeValue.value ?? 0) },\n                  directValue:\n                    rangeValue.option === LinkedSelectedOption.DirectValue\n                      ? { type: VARENUM.VT_R8, dblVal: clampRangeValue(rangeValue.value ?? 0) }\n                      : undefined,\n                  indirectIDString:\n                    rangeValue.option === LinkedSelectedOption.IndirectValue\n                      ? stringToBytes(`{#${rangeValue.indirectObjectId}}`)\n                      : undefined,\n                  equationId: rangeValue.equationId,\n                  formula:\n                    rangeValue.option === LinkedSelectedOption.Formula\n                      ? stringToBytes(rangeValue.formula?.replace(/\\n/g, ''))\n                      : undefined,\n                },\n              },\n              isModified: true,\n            });\n            return acc;\n          },\n          [],\n        ),\n        resetType: ResetType.RT_FromObject,\n      },\n    });\n    const res = await proxy.protobuf.request(req);\n    const errors: string[] = res?.standardResponse?.errorMessages?.messages?.map(\n      (msg: any) => msg.messageText,\n    );\n    if (!errors?.length) {\n      setInitialValue(value);\n    }\n    return errors ?? [];\n  }, [inspectionID, modified, proxy.protobuf, value, rangeObjectID]);\n\n  return { value, setValue, modified, loading, saveChanges };\n};\n","import { useEffect, useState } from 'react';\nimport { Button, CircularProgress, MenuItem, Select, TextField } from '@material-ui/core';\nimport clsx from 'clsx';\nimport { useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport EditIcon from '../../../assets/icons/edit.svg';\nimport IconButton, { IconButtonProps } from '../../../components/buttons/IconButton';\nimport Product from '../../../protobuf/Product';\nimport type Proxy from '../../../protobuf/Proxy';\nimport modes from '../../../utils/modes';\nimport { canEditParameterView } from '../../../utils/permissions';\nimport { NumberEditor } from '../../InputToolView/components/NumberEditor';\nimport { CommonMathToolProps, EmbeddedIdEnum, LinkedSelectedOption } from '../common';\nimport { FormulaEditPanel } from './FormulaEditPanel';\nimport { LinkedValueSelectDialog } from './LinkedValueSelectDialog';\nimport { ReadonlyFormula } from './ReadonlyFormula';\nimport { useIndirectValueObjectName } from './hooks/useIndirectValueObjectName';\nimport {\n  clampRangeValue,\n  compareRangeValues,\n  MAX_RANGE_VALUE,\n  MIN_RANGE_VALUE,\n  Range,\n  RangeValue,\n} from './hooks/useRange';\n\nimport './RangeTab.scss';\n\nfunction getRangeClassName(classEnum: RangeValue['rangeClass']) {\n  switch (classEnum) {\n    case EmbeddedIdEnum.RangeClassFailHighEId:\n      return 'Fail high';\n    case EmbeddedIdEnum.RangeClassFailLowEId:\n      return 'Fail low';\n    case EmbeddedIdEnum.RangeClassWarnHighEId:\n      return 'Warn high';\n    case EmbeddedIdEnum.RangeClassWarnLowEId:\n      return 'Warn low';\n  }\n}\n\nconst RangeValuePreview = ({\n  inspectionID,\n  rangeValue,\n  onOpenEditView,\n  editButtonEnabled,\n}: {\n  inspectionID: number;\n  rangeValue?: RangeValue;\n  onOpenEditView: (value: RangeValue) => void;\n  editButtonEnabled: boolean;\n}) => {\n  const intl = useIntl();\n\n  if (!rangeValue) {\n    return <span>-</span>;\n  }\n\n  const editButtonProps: IconButtonProps = {\n    onClick: () => onOpenEditView(rangeValue),\n    style: { height: 20, width: 20 },\n    iconUrl: EditIcon,\n    tooltip: intl.messages['inputToolView.edit'],\n    enabled: editButtonEnabled,\n  };\n\n  switch (rangeValue.option) {\n    case LinkedSelectedOption.DirectValue:\n      return (\n        <div className=\"range-value-preview\">\n          <span>{rangeValue.value}</span>\n          <IconButton {...editButtonProps} />\n        </div>\n      );\n    case LinkedSelectedOption.IndirectValue:\n      return (\n        <div className=\"range-value-preview\">\n          <IndirectValue\n            inspectionId={inspectionID}\n            objectId={rangeValue.indirectObjectId}\n            defaultValue={rangeValue.value}\n          />\n          <IconButton {...editButtonProps} />\n          <span className=\"info\">\n            ({intl.messages['toolsetView.link']}:&ensp;\n            <i>\n              <IndirectValueObjectName\n                inspectionID={inspectionID}\n                value={rangeValue.indirectObjectId}\n              />\n            </i>\n            )\n          </span>\n        </div>\n      );\n    case LinkedSelectedOption.Formula:\n      return (\n        <div className=\"range-value-preview\">\n          <span>{rangeValue.value}</span>\n          <IconButton {...editButtonProps} />\n          <span className=\"info\">\n            (Formula:&ensp;\n            <i>\n              <ReadonlyFormula style={{ whiteSpace: 'nowrap' }}>\n                {rangeValue.formula}\n              </ReadonlyFormula>\n            </i>\n            )\n          </span>\n        </div>\n      );\n  }\n};\n\nconst IndirectValueObjectName = ({\n  inspectionID,\n  value,\n}: {\n  inspectionID: number;\n  value?: number;\n}) => {\n  const { name } = useIndirectValueObjectName(inspectionID, value);\n\n  return <span>{name}</span>;\n};\n\nconst IndirectValue = ({\n  inspectionId,\n  objectId,\n  defaultValue,\n}: {\n  inspectionId: number;\n  objectId?: number;\n  defaultValue: number;\n}) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n\n  const [value, setValue] = useState(defaultValue);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    const onProduct = ({ product }: { product: Product }) => {\n      const productValue = product\n        ?.getValuesAsString([objectId], '')\n        ?.find((entry: any) => parseInt(entry.id) === objectId)?.value;\n\n      setError(productValue === '');\n      setValue(productValue || defaultValue);\n      return Promise.resolve();\n    };\n\n    const startAtTriggerCount = -1;\n    const desc = {\n      inspectionId,\n      valueIds: [objectId],\n      startAtTriggerCount,\n    };\n    const productSub = proxy.subscribeToProductStream(desc, onProduct);\n\n    return () => {\n      if (productSub) {\n        proxy.unsubscribeFromProductStream(productSub);\n      }\n    };\n  }, [defaultValue, inspectionId, objectId, proxy]);\n\n  return <span className={clsx(error && 'indirect-value-error')}>{value ?? '-'}</span>;\n};\n\nconst RangeValueEditor = ({\n  inspectionID,\n  value,\n  onExit,\n  onChange,\n}: Omit<CommonMathToolProps<RangeValue>, 'loading' | 'toggleOptions'> & { onExit: () => void }) => {\n  const intl = useIntl();\n\n  const [internalValue, setInternalValue] = useState(value);\n  const [openLinkedValueSelectDialog, setOpenLinkedValueSelectDialog] = useState(false);\n  const [openFormulaEditDialog, setOpenFormulaEditDialog] = useState(false);\n\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const currentMode = useSelector<any>((state) => state.app?.proxy.mode) as string;\n\n  useEffect(() => {\n    setInternalValue(value);\n  }, [value]);\n\n  useEffect(() => {\n    if (\n      openLinkedValueSelectDialog &&\n      (!canEditParameterView(myPermissions) || currentMode !== modes.editMode.id)\n    ) {\n      setOpenLinkedValueSelectDialog(false);\n    }\n  }, [openLinkedValueSelectDialog, myPermissions, currentMode]);\n\n  useEffect(() => {\n    if (\n      openFormulaEditDialog &&\n      (!canEditParameterView(myPermissions) || currentMode !== modes.editMode.id)\n    ) {\n      setOpenFormulaEditDialog(false);\n    }\n  }, [openFormulaEditDialog, myPermissions, currentMode]);\n\n  const applyChanges = () => {\n    onChange(internalValue);\n    onExit();\n  };\n\n  const modified = !compareRangeValues(value, internalValue);\n  const invalid =\n    (internalValue.option === LinkedSelectedOption.IndirectValue &&\n      !internalValue.indirectObjectId) ||\n    (internalValue.option === LinkedSelectedOption.Formula && !internalValue.formula);\n\n  return (\n    <div className=\"range-value-editor\">\n      <header>{getRangeClassName(internalValue.rangeClass)}</header>\n      <div className=\"type-options\">\n        <label>{intl.messages['inputToolView.type']}:</label>\n        <Select\n          defaultValue={internalValue.option}\n          value={internalValue.option}\n          onChange={(event) =>\n            setInternalValue({\n              ...internalValue,\n              option: event.target.value as LinkedSelectedOption,\n            })\n          }\n          style={{ minWidth: 128, width: 'auto' }}\n        >\n          <MenuItem value={LinkedSelectedOption.DirectValue}>\n            {intl.messages['toolsetView.value']}\n          </MenuItem>\n          <MenuItem value={LinkedSelectedOption.IndirectValue}>\n            {intl.messages['toolsetView.link']}\n          </MenuItem>\n          <MenuItem value={LinkedSelectedOption.Formula}>\n            {intl.messages['toolsetView.formula']}\n          </MenuItem>\n        </Select>\n      </div>\n      {internalValue.option === LinkedSelectedOption.DirectValue && (\n        <div className=\"direct-editor-container\">\n          <div className=\"direct-editor\">\n            <label>{intl.messages['toolsetView.value']}:</label>\n            <TextField\n              fullWidth\n              type=\"number\"\n              value={internalValue.value}\n              onChange={(event) =>\n                setInternalValue({\n                  ...internalValue,\n                  value: clampRangeValue(parseFloat(event.target.value ?? 0)),\n                })\n              }\n              autoFocus\n            />\n          </div>\n          <NumberEditor\n            value={internalValue.value}\n            onChange={(value) =>\n              setInternalValue({\n                ...internalValue,\n                value: clampRangeValue(value),\n              })\n            }\n            min={MIN_RANGE_VALUE}\n            max={MAX_RANGE_VALUE}\n            hideRawEditor\n          />\n        </div>\n      )}\n      {internalValue.option === LinkedSelectedOption.IndirectValue && (\n        <div className=\"indirect-editor\">\n          <label>{intl.messages['toolsetView.value']}:</label>\n          <IndirectValue\n            inspectionId={inspectionID}\n            objectId={internalValue.indirectObjectId}\n            defaultValue={internalValue.value}\n          />\n          <label>{intl.messages['toolsetView.link']}:</label>\n          <span style={{ display: 'flex', alignItems: 'center' }}>\n            <IndirectValueObjectName\n              inspectionID={inspectionID}\n              value={internalValue.indirectObjectId}\n            />\n            <IconButton\n              onClick={() => setOpenLinkedValueSelectDialog(true)}\n              style={{ height: 20, width: 20, marginLeft: 8 }}\n              iconUrl={EditIcon}\n              tooltip={intl.messages['inputToolView.edit']}\n              enabled={canEditParameterView(myPermissions) && currentMode === modes.editMode.id}\n            />\n          </span>\n          {openLinkedValueSelectDialog && (\n            <LinkedValueSelectDialog\n              inspectionID={internalValue.inspectionID}\n              equationId={internalValue.equationId}\n              value={internalValue.indirectObjectId}\n              onClose={() => setOpenLinkedValueSelectDialog(false)}\n              onSelect={(objectId) => {\n                setInternalValue({\n                  ...internalValue,\n                  indirectObjectId: objectId,\n                });\n                setOpenLinkedValueSelectDialog(false);\n              }}\n            />\n          )}\n        </div>\n      )}\n      {internalValue.option === LinkedSelectedOption.Formula && (\n        <div className=\"formula-editor\">\n          <label>{intl.messages['toolsetView.value']}:</label>\n          <span>{internalValue.value}</span>\n          <label>{intl.messages['toolsetView.formula']}:</label>\n          <span style={{ display: 'flex', alignItems: 'center' }}>\n            <ReadonlyFormula>{internalValue.formula}</ReadonlyFormula>\n            <IconButton\n              onClick={() => setOpenFormulaEditDialog(true)}\n              style={{ height: 20, width: 20, marginLeft: 8 }}\n              iconUrl={EditIcon}\n              tooltip={intl.messages['inputToolView.edit']}\n              enabled={canEditParameterView(myPermissions) && currentMode === modes.editMode.id}\n            />\n          </span>\n          {openFormulaEditDialog && (\n            <FormulaEditPanel\n              showInDialog\n              inspectionID={internalValue.inspectionID}\n              equationId={internalValue.equationId}\n              equationText={internalValue.formula}\n              onClose={() => setOpenFormulaEditDialog(false)}\n              onSave={(equationText, validationResultValue) => {\n                setInternalValue({\n                  ...internalValue,\n                  formula: equationText,\n                  value: validationResultValue ?? internalValue.value,\n                });\n                setOpenFormulaEditDialog(false);\n              }}\n            />\n          )}\n        </div>\n      )}\n      <div className=\"options\">\n        <Button variant=\"outlined\" color=\"primary\" onClick={onExit} style={{ minWidth: 128 }}>\n          {intl.messages['cancel']}\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={applyChanges}\n          style={{ minWidth: 128 }}\n          disabled={!modified || invalid}\n        >\n          {intl.messages['ok']}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport const RangeTab = ({\n  inspectionID,\n  value,\n  onChange,\n  toggleOptions,\n  loading,\n}: CommonMathToolProps<Range>) => {\n  const [editingValue, setEditingValue] = useState<RangeValue | null>(null);\n\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const currentMode = useSelector<any>((state) => state.app?.proxy.mode) as string;\n\n  useEffect(() => {\n    toggleOptions(!editingValue);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [!!editingValue]);\n\n  useEffect(() => {\n    if (\n      editingValue &&\n      (!canEditParameterView(myPermissions) || currentMode !== modes.editMode.id)\n    ) {\n      setEditingValue(null);\n    }\n  }, [editingValue, myPermissions, currentMode]);\n\n  const handleChange = (rangeValue: RangeValue) => {\n    setEditingValue(rangeValue);\n\n    switch (rangeValue.rangeClass) {\n      case EmbeddedIdEnum.RangeClassFailHighEId:\n        onChange({ ...value, failHigh: rangeValue });\n        break;\n      case EmbeddedIdEnum.RangeClassFailLowEId:\n        onChange({ ...value, failLow: rangeValue });\n        break;\n      case EmbeddedIdEnum.RangeClassWarnHighEId:\n        onChange({ ...value, warnHigh: rangeValue });\n        break;\n      case EmbeddedIdEnum.RangeClassWarnLowEId:\n        onChange({ ...value, warnLow: rangeValue });\n        break;\n    }\n  };\n\n  return (\n    <div className=\"tab-body range-tab\">\n      {loading ? (\n        <CircularProgress />\n      ) : editingValue ? (\n        <RangeValueEditor\n          inspectionID={inspectionID}\n          value={editingValue}\n          onExit={() => setEditingValue(null)}\n          onChange={handleChange}\n        />\n      ) : (\n        <div className=\"values-list\">\n          <label>{getRangeClassName(EmbeddedIdEnum.RangeClassFailHighEId)}:</label>\n          <RangeValuePreview\n            inspectionID={inspectionID}\n            rangeValue={value.failHigh}\n            onOpenEditView={setEditingValue}\n            editButtonEnabled={\n              canEditParameterView(myPermissions) && currentMode === modes.editMode.id\n            }\n          />\n          <label>{getRangeClassName(EmbeddedIdEnum.RangeClassWarnHighEId)}:</label>\n          <RangeValuePreview\n            inspectionID={inspectionID}\n            rangeValue={value.warnHigh}\n            onOpenEditView={setEditingValue}\n            editButtonEnabled={\n              canEditParameterView(myPermissions) && currentMode === modes.editMode.id\n            }\n          />\n          <label>{getRangeClassName(EmbeddedIdEnum.RangeClassWarnLowEId)}:</label>\n          <RangeValuePreview\n            inspectionID={inspectionID}\n            rangeValue={value.warnLow}\n            onOpenEditView={setEditingValue}\n            editButtonEnabled={\n              canEditParameterView(myPermissions) && currentMode === modes.editMode.id\n            }\n          />\n          <label>{getRangeClassName(EmbeddedIdEnum.RangeClassFailLowEId)}:</label>\n          <RangeValuePreview\n            inspectionID={inspectionID}\n            rangeValue={value.failLow}\n            onOpenEditView={setEditingValue}\n            editButtonEnabled={\n              canEditParameterView(myPermissions) && currentMode === modes.editMode.id\n            }\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Protobuf from '../../../../protobuf/Protobuf';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport logger from '../../../../utils/logger';\nimport modes from '../../../../utils/modes';\nimport { CommonHookProps, EmbeddedIdEnum } from '../../common';\n\nexport interface EquationValue {\n  equationText: string;\n  equationObjectID: number;\n}\n\nexport const useFormula = ({\n  inspectionID,\n  data,\n  conditional,\n}: CommonHookProps & { conditional?: boolean }) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n  const currentMode = useSelector<any>((state) => state.app?.proxy.mode) as string;\n\n  const [loading, setLoading] = useState(false);\n  const [initialValue, setInitialValue] = useState<EquationValue | null>(null);\n  const [value, setValue] = useState<EquationValue | null>(null);\n\n  const modified = value !== initialValue;\n\n  useEffect(() => {\n    const getEquation = (objectId: number) => {\n      return proxy.protobuf.request(\n        Protobuf.SvPb.InspectionCmdRequest.create({\n          inspectionID,\n          getEquationRequest: {\n            objectId,\n          },\n        }),\n      );\n    };\n\n    if (currentMode !== modes.unknownMode.id) {\n      const request = Protobuf.SvPb.InspectionCmdRequest.create({\n        inspectionID,\n        getObjectIdRequest: {\n          info: {\n            ownerId: parseInt(data.objectID ?? ''),\n            infoStruct: {\n              objectType: 8, //SVObjectTypeEnum.SVEquationObjectType\n              subType: conditional ? 1024 : 1025, //conditional ? SVObjectSubTypeEnum.SVConditionalObjectType : SVObjectSubTypeEnum.SVMathEquationObjectType\n              embeddedID: EmbeddedIdEnum.NoEmbeddedId,\n            },\n          },\n        },\n      });\n      setLoading(true);\n      proxy.protobuf\n        .request(request)\n        .then((res: any) => {\n          const equationObjectID: number = res?.getObjectIdResponse?.objectId;\n          getEquation(equationObjectID).then((res: any) => {\n            const equationValue: EquationValue = {\n              equationText: res?.getEquationResponse?.equationText ?? '',\n              equationObjectID,\n            };\n            setValue(equationValue);\n            setInitialValue(equationValue);\n          });\n        })\n        .catch(logger.error)\n        .finally(() => setLoading(false));\n    }\n  }, [conditional, data.objectID, inspectionID, proxy.protobuf, currentMode]);\n\n  const saveChanges = useCallback(async () => {\n    if (!modified || !value) {\n      return [];\n    }\n\n    const res = await proxy.protobuf.request(\n      Protobuf.SvPb.InspectionCmdRequest.create({\n        inspectionID,\n        validateAndSetEquationRequest: {\n          objectId: value.equationObjectID,\n          equationText: value.equationText.replace(/([^\\r])\\n/g, '$1\\r\\n'),\n          bSetValue: true,\n        },\n      }),\n    );\n\n    const errors: string[] = res?.standardResponse?.errorMessages?.messages?.map(\n      (msg: any) => msg.messageText,\n    );\n    if (!errors?.length) {\n      setInitialValue(value);\n    }\n    return errors ?? [];\n  }, [inspectionID, modified, proxy.protobuf, value]);\n\n  return { value, setValue, modified, loading, saveChanges };\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { Button, CircularProgress } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport { ToolsetTreeNode } from '..';\nimport logger from '../../../utils/logger';\nimport { CommonHookProps, CommonMathToolProps } from '../common';\nimport { CommentTab } from './CommentTab';\nimport { FormulaTab } from './FormulaTab';\nimport { RangeTab } from './RangeTab';\nimport { useComment } from './hooks/useComment';\nimport { useFormula } from './hooks/useFormula';\nimport { useRange } from './hooks/useRange';\n\nimport './style.scss';\n\nexport function isMathTool(node?: ToolsetTreeNode) {\n  if (!node) {\n    return false;\n  }\n  return (\n    (node.objectType === 'SVToolObjectType' && node.objectSubType === 'SVMathToolObjectType') ||\n    (node.objectType === 0x7 && //SVObjectTypeEnum.SVToolObjectType\n      node.objectSubType === 0x12) //SVObjectSubTypeEnum.SVMathToolObjectType\n  );\n}\n\ninterface MathToolProps extends CommonHookProps {\n  view: string;\n}\n\nconst noDisplayStyle: React.CSSProperties = { display: 'none' };\n\nexport const MathTool = ({ inspectionID, data, view }: MathToolProps) => {\n  const intl = useIntl();\n\n  const [saving, setSaving] = useState(false);\n  const [errors, setErrors] = useState<string[]>([]);\n  const [success, setSuccess] = useState(false);\n  const [showOptions, setShowOptions] = useState(true);\n\n  const commonProps = { inspectionID, data };\n  const formula = useFormula(commonProps);\n  const conditional = useFormula({ ...commonProps, conditional: true });\n  const range = useRange(commonProps);\n  const comment = useComment(commonProps);\n\n  useEffect(() => {\n    if (comment.modified || range.modified || formula.modified || conditional.modified) {\n      setSuccess(false);\n    }\n  }, [comment.modified, conditional.modified, formula.modified, range.modified]);\n\n  useEffect(() => {\n    setSuccess(false);\n    setErrors([]);\n  }, [view]);\n\n  const toggleOptions = (showOptions: boolean) => {\n    setShowOptions(showOptions);\n    if (!showOptions) {\n      setSuccess(false);\n      setErrors([]);\n    }\n  };\n\n  const views = useMemo<\n    {\n      name: string;\n      component: ({ value, onChange, loading }: CommonMathToolProps<any>) => JSX.Element;\n      props: CommonMathToolProps<any>;\n    }[]\n  >(\n    () => [\n      {\n        name: 'Formula',\n        component: FormulaTab,\n        props: {\n          inspectionID,\n          value: formula.value,\n          onChange: formula.setValue,\n          toggleOptions,\n          loading: formula.loading,\n        },\n      },\n      {\n        name: 'Range',\n        component: RangeTab,\n        props: {\n          inspectionID,\n          value: range.value,\n          onChange: range.setValue,\n          toggleOptions,\n          loading: range.loading,\n        },\n      },\n      {\n        name: 'Conditional',\n        component: FormulaTab,\n        props: {\n          inspectionID,\n          value: conditional.value,\n          onChange: conditional.setValue,\n          toggleOptions,\n          loading: conditional.loading,\n          conditional: true,\n        },\n      },\n      {\n        name: 'Comment',\n        component: CommentTab,\n        props: {\n          inspectionID,\n          value: comment.value,\n          onChange: comment.setValue,\n          toggleOptions,\n          loading: comment.loading,\n        },\n      },\n    ],\n    [\n      inspectionID,\n      formula.value,\n      formula.setValue,\n      formula.loading,\n      range.value,\n      range.setValue,\n      range.loading,\n      conditional.value,\n      conditional.setValue,\n      conditional.loading,\n      comment.value,\n      comment.setValue,\n      comment.loading,\n    ],\n  );\n\n  const modified = useMemo(() => {\n    switch (view) {\n      case 'Comment':\n        return comment.modified;\n      case 'Range':\n        return range.modified;\n      case 'Formula':\n        return formula.modified;\n      case 'Conditional':\n        return conditional.modified;\n    }\n    return false;\n  }, [comment.modified, conditional.modified, formula.modified, range.modified, view]);\n\n  const saveChanges = async () => {\n    setSaving(true);\n    setSuccess(false);\n    try {\n      const commentErrors = await comment.saveChanges();\n      const rangeErrors = await range.saveChanges();\n      const formulaErrors = await formula.saveChanges();\n      const conditionalErrors = await conditional.saveChanges();\n\n      const totalErrors = [\n        ...commentErrors,\n        ...rangeErrors,\n        ...formulaErrors,\n        ...conditionalErrors,\n      ];\n      setErrors(totalErrors);\n      setSuccess(!totalErrors?.length);\n    } catch (e) {\n      logger.error(e instanceof Error ? e.message : String(e));\n      setErrors([e instanceof Error ? e.message : String(e)]);\n    }\n    setSaving(false);\n  };\n\n  return (\n    <div className=\"math-tool\">\n      <header>\n        {data.name}&nbsp;|&nbsp;{view}\n        {modified ? '*' : ''}\n      </header>\n      <div className=\"math-tool-body\">\n        <div className=\"content\">\n          {views.map((t) => (\n            <div key={t.name} style={view === t.name ? {} : noDisplayStyle}>\n              <t.component {...t.props} />\n            </div>\n          ))}\n        </div>\n      </div>\n      {showOptions && (\n        <div className=\"options\">\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={saveChanges}\n            disabled={saving || !modified}\n            style={{ minWidth: 128 }}\n          >\n            {saving ? <CircularProgress size={24} /> : intl.messages['save']}\n          </Button>\n          {!saving && errors?.length > 0 && (\n            <div className=\"errors\">\n              {errors.map((err, index) => (\n                <span key={index}>{err}</span>\n              ))}\n            </div>\n          )}\n          {!saving && success && (\n            <div className=\"success\">{intl.messages['toolsetView.savingSuccess']}</div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Protobuf from '../../../../protobuf/Protobuf';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport logger from '../../../../utils/logger';\nimport { CommonHookProps, EmbeddedIdEnum, EmbeddedValue, VARENUM } from '../../common';\n\nexport const useComment = ({ inspectionID, data }: CommonHookProps) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n\n  const [loading, setLoading] = useState(false);\n  const [initialValue, setInitialValue] = useState('');\n  const [value, setValue] = useState('');\n  const [embeddedValueObjectID, setEmbeddedValueObjectID] = useState<number | undefined>(undefined);\n\n  const modified = value !== initialValue;\n\n  useEffect(() => {\n    const request = Protobuf.SvPb.InspectionCmdRequest.create({\n      inspectionID,\n      getEmbeddedValuesRequest: {\n        objectId: parseInt(data.objectID ?? ''),\n      },\n    });\n    setLoading(true);\n    proxy.protobuf\n      .request(request)\n      .then((res: any) => {\n        const embeddedValues: EmbeddedValue[] = res?.getEmbeddedValuesResponse?.list ?? [];\n        const value = embeddedValues.find(\n          (entry) => entry.embeddedId === EmbeddedIdEnum.ToolCommentTypeEId,\n        );\n        setEmbeddedValueObjectID(value?.objectId);\n        const commentValue =\n          value?.value?.value?.strVal ?? value?.value?.defaultValue?.strVal ?? '';\n        setInitialValue(commentValue);\n        setValue(commentValue);\n      })\n      .catch(logger.error)\n      .finally(() => setLoading(false));\n  }, [data.objectID, inspectionID, proxy.protobuf]);\n\n  const saveChanges = useCallback(async () => {\n    if (!modified) {\n      return [];\n    }\n    const res = await proxy.protobuf.request(\n      Protobuf.SvPb.InspectionCmdRequest.create({\n        inspectionID,\n        setEmbeddedValuesRequest: {\n          objectId: parseInt(data.objectID ?? ''),\n          list: [\n            {\n              values: {\n                objectId: embeddedValueObjectID,\n                embeddedId: EmbeddedIdEnum.ToolCommentTypeEId,\n                value: {\n                  defaultValue: { type: VARENUM.VT_BSTR, strVal: '' },\n                  value: { type: VARENUM.VT_BSTR, strVal: value.trim() },\n                },\n              } as EmbeddedValue,\n              isModified: true,\n            },\n          ],\n        },\n      }),\n    );\n    const errors: string[] = res?.standardResponse?.errorMessages?.messages?.map(\n      (msg: any) => msg.messageText,\n    );\n    if (!errors?.length) {\n      setInitialValue(value);\n    }\n    return errors ?? [];\n  }, [data.objectID, embeddedValueObjectID, inspectionID, modified, proxy.protobuf, value]);\n\n  return { value, setValue, modified, loading, saveChanges };\n};\n","import { Key } from 'react';\nimport { useIntl } from 'react-intl';\nimport shortId from 'shortid';\n\nimport './style.scss';\nimport IconButton from '../../../../components/buttons/IconButton';\nimport { ToggleButton } from '../../../../components/buttons/ToggleButton';\nimport { TOGGLE_BUTTON, SEPARATOR } from '../../../../types/ActionBarType';\n\nexport interface ToolSetBarProps {\n  tools: {\n    id?: Key;\n    intlId: string;\n    onClickHandler: () => void;\n    iconUrl: string;\n    enabled: boolean;\n    type?: typeof TOGGLE_BUTTON | typeof SEPARATOR;\n    intlIdAlternative?: string;\n    iconUrlAlternative?: string;\n    onClickHandlerAlternative?: () => void;\n    showAlternative?: boolean;\n  }[];\n}\n\nconst ToolSetBar = ({ tools }: ToolSetBarProps) => {\n  const intl = useIntl();\n\n  return (\n    <div className=\"toolset-bar-wrapper\">\n      {tools &&\n        tools.map((tool) => {\n          if (tool && tool.type === SEPARATOR) {\n            return (\n              <div className=\"toolset-bar-separator\" key={`separator_${shortId.generate()}`}>\n                <div className=\"separator\"></div>\n              </div>\n            );\n          }\n          if (tool && tool.type === TOGGLE_BUTTON) {\n            return (\n              <ToggleButton\n                key={tool.id}\n                id={tool.id}\n                intlId={tool.intlId}\n                iconUrl={tool.iconUrl}\n                enabled={tool.enabled}\n                onClickHandler={tool.onClickHandler}\n                intlIdAlternative={tool.intlIdAlternative}\n                iconUrlAlternative={tool.iconUrlAlternative}\n                onClickHandlerAlternative={tool.onClickHandlerAlternative}\n                showAlternative={tool.showAlternative}\n              />\n            );\n          }\n\n          return (\n            <IconButton\n              key={tool.intlId}\n              tooltip={intl.messages[tool.intlId as keyof typeof intl.messages]}\n              onClick={() => tool.onClickHandler()}\n              iconUrl={tool.iconUrl}\n              enabled={tool.enabled}\n            />\n          );\n        })}\n    </div>\n  );\n};\n\nexport default ToolSetBar;\n","export default __webpack_public_path__ + \"static/media/down.17f143ff.svg\";","export default __webpack_public_path__ + \"static/media/take-over.e8760b3a.svg\";","export default __webpack_public_path__ + \"static/media/up.32f62e1a.svg\";","import { Key, useState } from 'react';\nimport { SortableContainer, SortableElement, arrayMove, SortEndHandler } from 'react-sortable-hoc';\n\nimport './style.scss';\nimport iconDeleteDustbin from '../../../../assets/icons/delete-dustbin.svg';\nimport iconDown from '../../../../assets/icons/down.svg';\nimport iconTakeOver from '../../../../assets/icons/take-over.svg';\nimport iconUp from '../../../../assets/icons/up.svg';\n\nimport ActionBar, { ActionBarType } from '../../../../components/ActionBar';\n\nconst SortableItem = SortableElement(({ value }: { value: Key }) => (\n  <li className=\"filter-list-row\" key={value}>\n    <span className=\"filter-list-row-item\">{value}</span>\n  </li>\n));\n\nconst SortableList = SortableContainer(({ items }: { items: { value: Key }[] }) => (\n  <ul>\n    {items.map((item, index) => (\n      <SortableItem key={item.value} index={index} value={item.value} />\n    ))}\n  </ul>\n));\n\ntype AvailableFilterListItemsType = {\n  id: string;\n  value: string;\n  onClick: () => void;\n}[];\n\ninterface FilterProps {\n  AvailableFilterListItems: AvailableFilterListItemsType;\n  AvailableFilterListActions: ActionBarType[];\n  CurrentFilterListItems: AvailableFilterListItemsType;\n  CurrentFilterListActions: ActionBarType[];\n}\n\nconst Filter = ({\n  AvailableFilterListItems = [\n    { id: '', value: 'Closing Filter', onClick: () => void 0 },\n    { id: '', value: 'Custom Filter', onClick: () => void 0 },\n    { id: '', value: 'Custom2 Filter', onClick: () => void 0 },\n    { id: '', value: 'Dilation Filter', onClick: () => void 0 },\n    { id: '', value: 'EdgeDetect Filter', onClick: () => void 0 },\n    { id: '', value: 'EdgeDetect2 Filter', onClick: () => void 0 },\n    { id: '', value: 'Erosion Filter', onClick: () => void 0 },\n    { id: '', value: 'HorizonEdge Filter', onClick: () => void 0 },\n    { id: '', value: 'LaplacianEdge Filter', onClick: () => void 0 },\n    { id: '', value: 'LaplacianEdge2 Filter', onClick: () => void 0 },\n    { id: '', value: 'MAX MIN Filter', onClick: () => void 0 },\n    { id: '', value: 'Opening Filter', onClick: () => void 0 },\n    { id: '', value: 'Ranking Filter', onClick: () => void 0 },\n    { id: '', value: 'Sharpen Filter', onClick: () => void 0 },\n    { id: '', value: 'Sharpen2 Filter', onClick: () => void 0 },\n    { id: '', value: 'Skeleton Filter', onClick: () => void 0 },\n    { id: '', value: 'Smooth Filter', onClick: () => void 0 },\n    { id: '', value: 'Thickening Filter', onClick: () => void 0 },\n    { id: '', value: 'Thinning Filter', onClick: () => void 0 },\n    { id: '', value: 'VertEdge Filter', onClick: () => void 0 },\n    { id: '', value: 'Watershed Filter', onClick: () => void 0 },\n  ],\n  AvailableFilterListActions = [\n    { intlId: 'before', iconUrl: iconTakeOver, onClickHandler: () => void 0 },\n  ],\n  CurrentFilterListItems = [\n    { id: '', value: 'Custom Filter', onClick: () => void 0 },\n    { id: '', value: 'Dilation Filter', onClick: () => void 0 },\n    { id: '', value: 'Closing Filter', onClick: () => void 0 },\n  ],\n  CurrentFilterListActions = [\n    { intlId: 'down', iconUrl: iconDown, onClickHandler: () => void 0 },\n    { intlId: 'up', iconUrl: iconUp, onClickHandler: () => void 0 },\n    { intlId: 'delete', iconUrl: iconDeleteDustbin, onClickHandler: () => void 0 },\n  ],\n}: FilterProps) => {\n  const [localCurrentFilterListItems, setLocalCurrentFilterListItems] =\n    useState(CurrentFilterListItems);\n\n  const onSortEnd: SortEndHandler = ({ oldIndex, newIndex }) => {\n    setLocalCurrentFilterListItems(arrayMove(localCurrentFilterListItems, oldIndex, newIndex));\n  };\n\n  return (\n    <div className=\"parameter-view-filter-wrapper\">\n      <div className=\"available-filters filter-list\">\n        <div className=\"filter-header\">Available Filters</div>\n        <ul className=\"filter-content\">\n          {AvailableFilterListItems.map((item) => (\n            <li className=\"filter-list-row\" key={item.value}>\n              <span className=\"filter-list-row-item\">{item.value}</span>\n            </li>\n          ))}\n        </ul>\n        <div className=\"filter-list-actions\">\n          <ActionBar actions={AvailableFilterListActions} />\n        </div>\n      </div>\n\n      <div className=\"current-filters filter-list\">\n        <div className=\"filter-header\">Available Filters</div>\n        <ul className=\"filter-content\">\n          <SortableList\n            helperClass=\"filter-list-row-item-on-drag\"\n            items={localCurrentFilterListItems}\n            onSortEnd={onSortEnd}\n          />\n        </ul>\n        <div className=\"filter-list-actions\">\n          <ActionBar actions={CurrentFilterListActions} />\n        </div>\n      </div>\n\n      <div className=\"property-container\">\n        <div className=\"filter-header\">Properties</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { setParameter, setViewSet } from '../../../redux/actions';\nimport Filter from '../../ParameterView/components/Filter';\nimport ViewSetFactory from '../../ViewSetFactory';\n\nclass ToolSetup extends Component {\n  componentDidUpdate(prevProps) {\n    if (prevProps.node !== this.props.node) {\n      this.setup(this.props.node);\n    }\n  }\n\n  setup = (node) => {\n    switch (node.name) {\n      case 'Equation':\n        this.props.setupParameterView({\n          component: <Filter />,\n        });\n\n        break;\n      default:\n        break;\n    }\n  };\n\n  viewSetFactory = new ViewSetFactory();\n\n  render() {\n    return null;\n  }\n}\n\nToolSetup.defaultProps = {\n  node: undefined,\n};\n\nToolSetup.propTypes = {\n  currentViewSet: PropTypes.shape({\n    id: PropTypes.string,\n    viewSet: PropTypes.shape({ id: PropTypes.string }),\n  }).isRequired,\n  setupParameterView: PropTypes.func.isRequired,\n  setViewSet: PropTypes.func.isRequired,\n  node: PropTypes.shape({\n    uniqueReferenceID: PropTypes.string,\n  }),\n};\n\nconst mapStateToProps = (state) => ({\n  currentViewSet: state.viewSet.currentViewSet,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setupParameterView: (parameter) => {\n    dispatch(setParameter(parameter));\n  },\n  setViewSet: (viewSet) => {\n    dispatch(setViewSet(viewSet));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolSetup);\n","import React, { ReactElement, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport ReactDOMServer from 'react-dom/server';\nimport { FormattedMessage } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Treebeard, TreeNode } from 'react-treebeard-ts';\nimport iconArchive from '../../assets/icons/archive.svg';\nimport iconLinear from '../../assets/icons/arrow-top-right.svg';\nimport iconCollapse from '../../assets/icons/collapse-all.svg';\nimport iconCopy from '../../assets/icons/copy.svg';\nimport iconCut from '../../assets/icons/cut.svg';\nimport iconCylindricalWrap from '../../assets/icons/cylindrical-wrap.svg';\nimport iconDelete from '../../assets/icons/delete.svg';\nimport iconExpand from '../../assets/icons/expand-all.svg';\nimport iconExternal from '../../assets/icons/external.svg';\nimport iconFunction from '../../assets/icons/function-variant.svg';\nimport iconGroup from '../../assets/icons/group.svg';\nimport iconImage from '../../assets/icons/image.svg';\nimport iconLoadImage from '../../assets/icons/load-image.svg';\nimport iconLoop from '../../assets/icons/loop.svg';\nimport iconColor from '../../assets/icons/palette.svg';\nimport iconPaste from '../../assets/icons/paste.svg';\nimport iconPerspective from '../../assets/icons/perspective.svg';\nimport iconPolarTransformation from '../../assets/icons/polar-transformation.svg';\nimport iconResize from '../../assets/icons/resize.svg';\nimport iconShift from '../../assets/icons/shift.svg';\nimport iconStatistics from '../../assets/icons/statistics.svg';\nimport iconTableAnalyzer from '../../assets/icons/table-analyzer.svg';\nimport iconTable from '../../assets/icons/table.svg';\nimport iconTransformation from '../../assets/icons/transformation.svg';\nimport iconWindow from '../../assets/icons/window.svg';\nimport ActionBar from '../../components/ActionBar';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport type Configuration from '../../protobuf/Configuration';\nimport Protobuf from '../../protobuf/Protobuf';\nimport type Proxy from '../../protobuf/Proxy';\nimport { setEditingFocus, setParameter } from '../../redux/actions';\nimport { Inspections } from '../../types/InspectionsType';\nimport logger from '../../utils/logger';\nimport {\n  canReadToolSetView,\n  canEditToolSetView,\n  canAddTool,\n  canEditTool,\n  canDeleteTool,\n} from '../../utils/permissions';\nimport { isMathTool, MathTool } from './MathTool';\nimport ToolSetBar, { ToolSetBarProps } from './components/ToolSetBar';\nimport ToolSetup from './components/ToolSetup';\nimport TreebeardStyle from './components/TreebeardStyle';\nimport './style.scss';\n\nenum ActionType {\n  SELECT,\n  DELETE,\n  ADD,\n  COPY,\n  CUT,\n  PASTE,\n}\n\nexport interface ToolsetTreeNode extends TreeNode {\n  children?: ToolsetTreeNode[];\n  parentNode?: ToolsetTreeNode;\n  position: number;\n  isValid?: boolean;\n  toggled?: boolean;\n  objectID?: string;\n  objectType?: string | number;\n  objectSubType?: string | number;\n}\n\nconst sortToolSet = (a: ToolsetTreeNode, b: ToolsetTreeNode) => {\n  return a.position > b.position ? 1 : -1;\n};\n\nconst useStyles = makeStyles(() => ({\n  label: {\n    fontSize: '1.4rem',\n    transform: 'translate(10px, 12px) scale(1)',\n  },\n}));\n\ninterface ToolsetViewProps {\n  id: string;\n  inspectionId: string;\n}\n\nconst ToolsetView = ({ id: viewId, inspectionId }: ToolsetViewProps) => {\n  const proxy = useSelector<any>((state) => state.app?.proxy) as Proxy;\n  const inspections = useSelector<any>((state) => state.inspections) as Inspections;\n  const dispatch = useDispatch();\n  const configuration = useSelector<any>((state) => state.app?.configuration) as Configuration;\n  const inspectionToolsetMappings = useSelector<any>(\n    (state) => state.app?.inspectionToolsetMappings,\n  ) as Map<any, any>;\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const classes = useStyles();\n\n  const [treeModel, setTreeModel] = useState<ToolsetTreeNode[]>([]);\n  const [filteredTreeModel, setFilteredTreeModel] = useState<ToolsetTreeNode[] | undefined>(\n    undefined,\n  );\n  const [cursor, setCursor] = useState<ToolsetTreeNode | null>(null);\n  const lastActionsStack = useRef<\n    {\n      type: ActionType;\n      from?: number;\n      to?: number;\n      position?: number;\n      tool?: ToolsetTreeNode;\n      toolId?: string;\n    }[]\n  >([]);\n  const [toolSetId, setToolSetId] = useState(0);\n  const [openConfirmDelete, setOpenConfirmDelete] = useState(false);\n  const [filterText, setFilterText] = useState('');\n\n  const sharedState = inspections?.[inspectionId]?.sharedState;\n  const isCursorLeaf =\n    !!cursor && !cursor.children?.length && cursor.position === -1 && !cursor.objectType;\n\n  useEffect(() => {\n    if (configuration.inspectionToolsetMappings.size === 0) {\n      configuration\n        .setInspectionIdToToolsetMappings(proxy.protobuf)\n        .then(() => proxy.dispatchCurrentConfiguration(configuration));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const getToolsetTreeByInspectionId = (id: string) => {\n      if (!id) {\n        logger.warn('getToolsetTreeByInspectionId did not receive inspection id');\n        return;\n      } else if (inspectionToolsetMappings.size === 0) {\n        logger.warn('inspectionToolsetMappings is empty');\n        return;\n      }\n      return inspectionToolsetMappings.get(id);\n    };\n\n    const treeDataRaw = getToolsetTreeByInspectionId(inspectionId);\n    setToolSetId(treeDataRaw?.toolSetId);\n\n    const createTreeNodes = (\n      node: ToolsetTreeNode | undefined | null,\n      parentNode?: ToolsetTreeNode,\n    ) => {\n      if (!node) {\n        return null;\n      }\n\n      const { name, isValid, position, objectID, objectType, objectSubType } = node;\n\n      const isLeaf = (child: ToolsetTreeNode) =>\n        !child.children?.length && child.position === -1 && !child.objectType;\n\n      const isMathToolNodeOrLeaf = isMathTool(node) || (isMathTool(parentNode) && isLeaf(node));\n\n      const toolsetTreeNode: ToolsetTreeNode = {\n        parentNode,\n        name: isMathToolNodeOrLeaf\n          ? name\n          : ((<span style={{ color: '#546E7A' }}>{name}</span>) as never),\n        isValid,\n        position,\n        objectID,\n        toggled: false,\n        objectType,\n        objectSubType,\n      };\n\n      const children = node.children?.reduce((acc, node) => {\n        const treeNode = createTreeNodes(node, toolsetTreeNode);\n        if (treeNode) {\n          acc.push(treeNode);\n        }\n        return acc;\n      }, [] as ToolsetTreeNode[]);\n\n      toolsetTreeNode.children = children?.length ? children : undefined;\n\n      return toolsetTreeNode;\n    };\n\n    const tree = createTreeNodes(treeDataRaw);\n\n    if (!tree?.children?.length) {\n      return;\n    }\n\n    const treeModel = tree.children.sort(sortToolSet);\n    setTreeModel(treeModel);\n  }, [inspectionToolsetMappings, inspectionId]);\n\n  useEffect(() => {\n    if (sharedState?.editingViewId !== viewId) {\n      updateTreeModel(\n        () => true,\n        () => ({\n          active: false,\n        }),\n      );\n      setCursor(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sharedState?.editingViewId]);\n\n  const openMathToolTab = useCallback(\n    (tabNode: ToolsetTreeNode) => {\n      if (!sharedState || !tabNode.parentNode) {\n        return;\n      }\n      if (sharedState?.editingViewId !== viewId) {\n        dispatch(setEditingFocus(inspectionId, viewId));\n      }\n\n      dispatch(\n        setParameter({\n          component: (\n            <div className=\"math-tool-parameter-view\">\n              <MathTool\n                inspectionID={parseInt(inspectionId)}\n                data={tabNode.parentNode}\n                view={tabNode.name}\n              />\n            </div>\n          ),\n        }),\n      );\n    },\n    [dispatch, inspectionId, sharedState, viewId],\n  );\n\n  const updateTreeModel = useCallback(\n    (\n      targetNode: ToolsetTreeNode | ((node: ToolsetTreeNode) => boolean),\n      updateTargetData: (node: ToolsetTreeNode) => Partial<ToolsetTreeNode>,\n      updateOtherData?: (node: ToolsetTreeNode) => Partial<ToolsetTreeNode>,\n    ) => {\n      const mapToolsetTree = (tree: ToolsetTreeNode[]): ToolsetTreeNode[] => {\n        return tree.map((node) => {\n          const children = node.children?.length ? mapToolsetTree(node.children) : node.children;\n          if (typeof targetNode === 'function' ? targetNode(node) : node === targetNode) {\n            return { ...node, children, ...updateTargetData(node) };\n          } else {\n            return updateOtherData ? { ...node, children, ...updateOtherData(node) } : node;\n          }\n        });\n      };\n      setTreeModel(mapToolsetTree);\n    },\n    [],\n  );\n\n  const onNodeClicked = useCallback(\n    (node: ToolsetTreeNode, toggled: boolean) => {\n      const isLeaf = !node.children?.length && node.position === -1 && !node.objectType;\n\n      updateTreeModel(\n        node,\n        (node) => ({\n          active: true,\n          toggled: node.children?.length ? toggled || !node.active : node.toggled,\n        }),\n        () => ({ active: false }),\n      );\n\n      lastActionsStack.current.push({\n        type: ActionType.SELECT,\n        from: cursor?.position,\n        to: node.position,\n      });\n\n      setCursor(node);\n\n      if (isLeaf && isMathTool(node.parentNode)) {\n        openMathToolTab(node);\n      }\n    },\n    [cursor?.position, openMathToolTab, updateTreeModel],\n  );\n\n  const getCursorPositionAndObjectID = useCallback(() => {\n    if (!cursor) {\n      return { position: 0, objectID: null };\n    }\n    let node = cursor;\n    while (!node.position || node.position === -1) {\n      if (!node.parentNode) {\n        return { position: 0, objectID: null };\n      }\n      node = node.parentNode;\n    }\n\n    const index = treeModel.findIndex((treeNode) => treeNode.objectID === node.objectID);\n    const position = index !== -1 ? index + 1 : node.position ? node.position : 0;\n    return { position, objectID: node.objectID };\n  }, [cursor, treeModel]);\n\n  const setNext = useCallback(() => {\n    setCursor(null);\n  }, []);\n\n  const deleteTool = useCallback(\n    (objectId: string) => {\n      if (!cursor) {\n        return;\n      }\n      const { position } = cursor;\n      lastActionsStack.current.push({\n        type: ActionType.DELETE,\n        tool: { ...cursor, active: false },\n      });\n\n      proxy.deleteTool(inspectionId, objectId);\n      setTreeModel(treeModel.filter((treeNode) => treeNode.position !== position));\n      setNext();\n    },\n    [cursor, inspectionId, proxy, setNext, treeModel],\n  );\n\n  const handleConfirmDeleteClose = (confirmed: boolean) => {\n    if (confirmed && cursor?.objectID) {\n      deleteTool(cursor.objectID);\n    }\n    setOpenConfirmDelete(false);\n  };\n\n  const viewActions = useMemo(() => {\n    const expandTools = () => {\n      updateTreeModel(\n        () => true,\n        (node) => ({ toggled: !!node.children?.length }),\n      );\n    };\n\n    const collapseTools = () => {\n      updateTreeModel(\n        () => true,\n        () => ({ toggled: false }),\n      );\n    };\n\n    const copyTool = async () => {\n      if (!cursor) {\n        return;\n      }\n      const { objectID } = getCursorPositionAndObjectID();\n      lastActionsStack.current.push({\n        type: ActionType.COPY,\n        tool: { ...cursor, active: false },\n      });\n\n      await proxy.copyTool(inspectionId, objectID);\n    };\n\n    const cutTool = async () => {\n      if (!cursor) {\n        return;\n      }\n      const { position, objectID } = getCursorPositionAndObjectID();\n      lastActionsStack.current.push({\n        type: ActionType.CUT,\n        tool: { ...cursor, active: false },\n      });\n\n      await proxy.cutTool(inspectionId, objectID);\n      setNext();\n      setTreeModel(treeModel.filter((treeNode) => treeNode.position !== position));\n    };\n\n    const pasteTool = async () => {\n      if (!cursor) {\n        return;\n      }\n      const { objectID } = getCursorPositionAndObjectID();\n      lastActionsStack.current.push({\n        type: ActionType.PASTE,\n        tool: { ...cursor, active: false },\n      });\n\n      await proxy.pasteTool(inspectionId, objectID);\n    };\n\n    const canEdit = canEditTool(myPermissions) && !!cursor;\n    const canDelete = canDeleteTool(myPermissions) && !!cursor;\n    const actions = [\n      { intlId: 'copy', iconUrl: iconCopy, onClickHandler: copyTool, enabled: canEdit },\n      { intlId: 'cut', iconUrl: iconCut, onClickHandler: cutTool, enabled: canEdit },\n      { intlId: 'paste', iconUrl: iconPaste, onClickHandler: pasteTool, enabled: canEdit },\n      { intlId: 'expandAll', iconUrl: iconExpand, onClickHandler: expandTools, enabled: canEdit },\n      {\n        intlId: 'collapseAll',\n        iconUrl: iconCollapse,\n        onClickHandler: collapseTools,\n        enabled: canEdit,\n      },\n      {\n        intlId: 'delete',\n        iconUrl: iconDelete,\n        onClickHandler: () => setOpenConfirmDelete(true),\n        enabled: canDelete,\n      },\n    ];\n\n    return actions;\n  }, [\n    cursor,\n    getCursorPositionAndObjectID,\n    inspectionId,\n    myPermissions,\n    proxy,\n    setNext,\n    treeModel,\n    updateTreeModel,\n  ]);\n\n  const toolActions = useMemo<ToolSetBarProps['tools']>(() => {\n    const addTool = async (type: ActionType) => {\n      const { position } = getCursorPositionAndObjectID();\n      const newToolId = await proxy.addTool(inspectionId, toolSetId, type, position);\n      lastActionsStack.current.push({\n        type: ActionType.ADD,\n        position,\n        toolId: newToolId,\n      });\n    };\n    const canAdd = canAddTool(myPermissions);\n    return [\n      {\n        intlId: 'toolsetView.windowTool',\n        iconUrl: iconWindow,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.WindowToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.mathTool',\n        iconUrl: iconFunction,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.MathToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.statisticsTool',\n        iconUrl: iconStatistics,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.StatisticsToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.ringBufferTool',\n        iconUrl: iconLinear,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.RingBufferToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.archiveTool',\n        iconUrl: iconArchive,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ArchiveToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.acquisitionTool',\n        iconUrl: iconLinear,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.AcquisitionToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.transformationTool',\n        iconUrl: iconTransformation,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.TransformationToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.shiftTool',\n        iconUrl: iconShift,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ShiftToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.cylindricalWarpTool',\n        iconUrl: iconCylindricalWrap,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.CylindricalWarpToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.perspectiveTool',\n        iconUrl: iconPerspective,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.PerspectiveToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.imageTool',\n        iconUrl: iconImage,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ImageToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.linearTool',\n        iconUrl: iconLinear,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.LinearToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.colorTool',\n        iconUrl: iconColor,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ColorToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.resizeTool',\n        iconUrl: iconResize,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ResizeToolId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.loadImageTool',\n        iconUrl: iconLoadImage,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.LoadImageToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.tableTool',\n        iconUrl: iconTable,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.TableToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.tableAnalyzerTool',\n        iconUrl: iconTableAnalyzer,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.TableAnalyzerToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.polarTransformationTool',\n        iconUrl: iconPolarTransformation,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.PolarTransformationToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.loopTool',\n        iconUrl: iconLoop,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.LoopToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.externalTool',\n        iconUrl: iconExternal,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ExternalToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.groupTool',\n        iconUrl: iconGroup,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.GroupToolClassId),\n        enabled: canAdd,\n      },\n    ];\n  }, [getCursorPositionAndObjectID, inspectionId, proxy, toolSetId, myPermissions]);\n\n  const onChangeFilter: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement> = (\n    event,\n  ) => {\n    const text = event.target.value;\n    setFilterText(text);\n\n    const includesTextInReactElement = (element: ReactElement) => {\n      try {\n        return (\n          ReactDOMServer.renderToString(element).toLowerCase().indexOf(text.toLowerCase()) > -1\n        );\n      } catch (e) {\n        return false;\n      }\n    };\n    setFilteredTreeModel(\n      text\n        ? treeModel.filter((item) =>\n            typeof item.name === 'string'\n              ? item.name.toLowerCase().indexOf(text.toLowerCase()) > -1\n              : includesTextInReactElement(item.name),\n          )\n        : undefined,\n    );\n  };\n\n  if (canReadToolSetView(myPermissions) || canEditToolSetView(myPermissions)) {\n    return (\n      <div className=\"toolset-wrapper\">\n        <ConfirmDialog\n          open={openConfirmDelete}\n          onClose={(confirmed: boolean) => handleConfirmDeleteClose(confirmed)}\n          message={\n            <FormattedMessage\n              id=\"toolsetView.confirmDelete\"\n              values={{ toolName: isCursorLeaf ? cursor?.parentNode?.name : cursor?.name }}\n            />\n          }\n        />\n        <ToolSetBar tools={toolActions} />\n        <div className=\"toolset\">\n          <div className=\"overflow-auto h-100 w-100\" style={{ paddingBottom: 24 }}>\n            <div>\n              {cursor && <ToolSetup node={cursor} />}\n              <div className=\"w100\">\n                <TextField\n                  label=\"Filter\"\n                  type=\"text\"\n                  variant=\"outlined\"\n                  style={{ width: '100%' }}\n                  onChange={onChangeFilter}\n                  value={filterText}\n                  InputLabelProps={{ classes: { root: classes.label } }}\n                />\n              </div>\n              <Treebeard\n                data={filteredTreeModel ?? treeModel}\n                onToggle={(node, toggled) => onNodeClicked(node as never, toggled)}\n                style={TreebeardStyle}\n              />\n            </div>\n          </div>\n        </div>\n        <ActionBar isViewAction actions={viewActions} />\n      </div>\n    );\n  }\n  return <div></div>;\n};\n\nexport default ToolsetView;\n","import React from 'react';\nimport shortId from 'shortid';\n\nimport ImageStripView from './ImageStripView';\nimport ImageView from './ImageView';\nimport ListView from './ListView';\nimport ParameterView from './ParameterView';\nimport RecipeView from './RecipeView';\nimport ToolsetView from './ToolsetView';\n\nconst mapViewSetArray = (views) => {\n  return views.reduce((viewSet, view) => ({ ...viewSet, [view.id]: view }), {});\n};\n\nconst configurations = [\n  {\n    title: 'No. of Cameras',\n    intlId: 'noOfCameras',\n    options: [\n      { title: '1', value: 1 },\n      { title: '2', value: 2 },\n      { title: '3', value: 3 },\n      { title: '4', value: 4 },\n    ],\n  },\n  {\n    title: 'No. of Triggers',\n    intlId: 'noOfTriggers',\n    options: [\n      { title: '1', value: 1 },\n      { title: '2', value: 2 },\n      { title: '3', value: 3 },\n      { title: '4', value: 4 },\n    ],\n  },\n  {\n    title: 'No. of MonitorLists',\n    intlId: 'noOfMonitors',\n    options: [\n      { title: '1', value: 1 },\n      { title: '2', value: 2 },\n      { title: '3', value: 3 },\n      { title: '4', value: 4 },\n    ],\n  },\n];\n\nexport const CONFIG_VIEW = 'CONFIG_VIEW';\nexport const TOOLSET_VIEW = 'TOOLSET_VIEW';\nexport const IMAGE_VIEW = 'IMAGE_VIEW';\nexport const PARAMETER_VIEW = 'PARAMETER_VIEW';\nexport const LIST_VIEW = 'LIST_VIEW';\nexport const IMAGE_STRIP_VIEW = 'IMAGE_STRIP_VIEW';\n\nexport const DEFAULT_RECIPE_VIEWSET = 'DEFAULT_RECIPE_VIEWSET';\nexport const DEFAULT_EDIT_VIEWSET = 'DEFAULT_EDIT_VIEWSET';\nexport const DEFAULT_VIEWSET = 'DEFAULT_VIEWSET';\n\nexport const DEFAULT_VIEWSET_NAME = 'Initial';\n\nexport default class ViewSetFactory {\n  getViewSet = (id) => {\n    switch (id) {\n      case DEFAULT_VIEWSET:\n        return this.buildEmptyViewSet();\n      case DEFAULT_EDIT_VIEWSET:\n      case DEFAULT_RECIPE_VIEWSET:\n      default:\n        return null;\n    }\n  };\n\n  createViewInstance = (viewDesc, props) => {\n    const meta = this.getViewById(viewDesc.viewComponentClassId);\n    if (!meta) {\n      return false;\n    }\n\n    const key = `${viewDesc.viewComponentClassId}_${viewDesc.id}_${viewDesc.inspectionId}`;\n\n    const passedProps = {\n      ...meta.passedProps,\n      ...props,\n      key,\n    };\n\n    switch (meta.viewComponentClassId) {\n      case CONFIG_VIEW:\n        return <RecipeView {...passedProps} />;\n      case TOOLSET_VIEW:\n        return <ToolsetView {...passedProps} />;\n      case IMAGE_VIEW:\n        return <ImageView {...passedProps} />;\n      case PARAMETER_VIEW:\n        return <ParameterView {...passedProps} />;\n      case IMAGE_STRIP_VIEW:\n        return <ImageStripView {...passedProps} />;\n      case LIST_VIEW:\n        return <ListView {...passedProps} />;\n      default:\n        return <div>Unknown Component {meta.viewComponentClassId}</div>;\n    }\n  };\n\n  getViewById = (id) => {\n    switch (id) {\n      case CONFIG_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'recipeViewInspectionTemplate',\n          viewComponentClassId: CONFIG_VIEW,\n          passedProps: { configurations },\n        };\n      case TOOLSET_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'toolsetView.inspectionTemplate',\n          viewComponentClassId: TOOLSET_VIEW,\n        };\n      case IMAGE_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'imageView.inspectionTemplate',\n          viewComponentClassId: IMAGE_VIEW,\n        };\n      case PARAMETER_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'parameterView.inspectionTemplate',\n          viewComponentClassId: PARAMETER_VIEW,\n        };\n      case IMAGE_STRIP_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'imageStripView.inspectionTemplate',\n          viewComponentClassId: IMAGE_STRIP_VIEW,\n        };\n      case LIST_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'listView.inspectionTemplate',\n          viewComponentClassId: LIST_VIEW,\n        };\n      default:\n        return null;\n    }\n  };\n\n  buildRecipeViewSet = () => {\n    const views = [\n      this.getViewById(IMAGE_VIEW),\n      this.getViewById(LIST_VIEW),\n      this.getViewById(IMAGE_STRIP_VIEW),\n    ];\n    return {\n      id: DEFAULT_RECIPE_VIEWSET,\n      viewSet: mapViewSetArray(views),\n      initialValue: {\n        first: {\n          direction: 'row',\n          splitPercentage: 60,\n          first: views[0].id,\n          second: views[1].id,\n        },\n        direction: 'column',\n        splitPercentage: 75,\n        second: views[2].id,\n      },\n    };\n  };\n\n  buildEmptyViewSet = (name = DEFAULT_VIEWSET_NAME) => {\n    const emptyViewId = shortId.generate();\n    return {\n      id: name,\n      name,\n      viewSet: {\n        [emptyViewId]: {},\n      },\n      initialValue: emptyViewId,\n    };\n  };\n\n  buildEditViewSet = () => {\n    const views = [\n      this.getViewById(TOOLSET_VIEW),\n      this.getViewById(IMAGE_VIEW),\n      this.getViewById(PARAMETER_VIEW),\n    ];\n    return {\n      id: DEFAULT_VIEWSET,\n      viewSet: mapViewSetArray(views),\n      initialValue: {\n        direction: 'row',\n        first: views[0].id,\n        splitPercentage: 30,\n        second: {\n          direction: 'column',\n          splitPercentage: 45,\n          first: views[1].id,\n          second: views[2].id,\n        },\n      },\n    };\n  };\n\n  createNewViewSet = () => {\n    const views = [\n      {\n        id: shortId.generate(),\n        viewComponentClassId: TOOLSET_VIEW,\n        titleId: 'toolsetViewInspectionTemplate',\n      },\n    ];\n    return {\n      id: 'NEW_VIEWSET',\n      viewSet: mapViewSetArray(views),\n      initialValue: views[0].id,\n    };\n  };\n}\n","import { useRef, useState } from 'react';\nimport { Portal } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport downloadIcon from '../../../assets/icons/download.svg';\nimport helpIcon from '../../../assets/icons/help.svg';\nimport aboutIcon from '../../../assets/icons/info.svg';\nimport logoutIcon from '../../../assets/icons/logout.svg';\nimport permissionsIcon from '../../../assets/icons/permissions.svg';\nimport saveIcon from '../../../assets/icons/save.svg';\nimport shortcutHelpIcon from '../../../assets/icons/shortcut-help.svg';\nimport uploadIcon from '../../../assets/icons/upload.svg';\nimport userIcon from '../../../assets/icons/user.svg';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { saveClientChunk } from '../../../redux/actions';\nimport { forceDownload } from '../../../utils/downloader';\nimport {\n  canEditUserManagement,\n  canReadSVOConfiguration,\n  canReadUserManagement,\n  canSaveConfig,\n  canWriteSVOConfiguration,\n} from '../../../utils/permissions';\nimport AboutView from '../../AboutView';\nimport HelpView from '../../HelpView';\nimport ShortcutView from '../../ShortcutView';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useUserInfoNavigation = (): NavigationItemType => {\n  const dispatch = useDispatch();\n  const currentState = useSelector((state) => state);\n  const { user, protobuf, myPermissions, proxy } = useSelector<any>((state) => state.app) as {\n    myPermissions: Set<string>;\n    proxy: Proxy;\n    [key: string]: any;\n  };\n  const unsavedChanges = useSelector<any>((state) => state.viewSet.unsavedChanges);\n  const intl = useIntl();\n  const history = useHistory();\n  const inputFile = useRef<HTMLInputElement>(null);\n\n  const [shortcutViewOpen, setShortcutViewOpen] = useState(false);\n  const [isHelpViewOpen, setIsHelpViewOpen] = useState(false);\n  const [isAboutViewOpen, setIsAboutViewOpen] = useState(false);\n\n  const downloadConfig = async () => {\n    const fileData = await proxy.downloadSVOConfig();\n    const blob = new Blob([fileData], { type: 'application/octet-stream' });\n    const url = URL.createObjectURL(blob);\n    forceDownload(url, `SVOConfig_${new Date().toISOString()}.svz`);\n  };\n\n  const onFileAdded: React.ChangeEventHandler<HTMLInputElement> = (event) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      const fileReader = new FileReader();\n      fileReader.readAsArrayBuffer(file);\n\n      fileReader.onload = (event) => {\n        const arrayBuffer = event.target?.result;\n        const array =\n          arrayBuffer instanceof ArrayBuffer ? new Uint8Array(arrayBuffer) : new Uint8Array();\n        proxy.uploadSVOConfig(file.name, array);\n      };\n    }\n  };\n\n  const children: NavigationItemType[] = [\n    {\n      id: 'saveConfig',\n      content: intl.messages['topNavigation.saveConfig'],\n      icon: saveIcon,\n      onClick: () => dispatch(saveClientChunk(protobuf, currentState)),\n      enabled: unsavedChanges ? canSaveConfig(myPermissions) : false,\n    },\n    {\n      id: 'permissions',\n      content: intl.messages['topNavigation.permissions'],\n      icon: permissionsIcon,\n      onClick: () => history.push('/permissions'),\n      enabled: canReadUserManagement(myPermissions) || canEditUserManagement(myPermissions),\n    },\n    {\n      id: 'download',\n      content: intl.messages['topNavigation.download'],\n      icon: downloadIcon,\n      onClick: downloadConfig,\n      enabled: canReadSVOConfiguration(myPermissions),\n    },\n    {\n      id: 'upload',\n      content: (\n        <>\n          {intl.messages['topNavigation.upload']}\n          <input\n            type=\"file\"\n            id=\"file\"\n            ref={inputFile}\n            style={{ display: 'none' }}\n            onChange={onFileAdded}\n          />\n        </>\n      ),\n      icon: uploadIcon,\n      onClick: async () => inputFile.current?.click?.(),\n      enabled: canWriteSVOConfiguration(myPermissions),\n    },\n    {\n      id: 'help',\n      icon: helpIcon,\n      content: (\n        <>\n          <span>{intl.messages['topNavigation.help']}</span>\n          <Portal container={document.body}>\n            <HelpView open={isHelpViewOpen} onClose={() => setIsHelpViewOpen(false)} />\n          </Portal>\n        </>\n      ),\n      onClick: () => !isHelpViewOpen && setIsHelpViewOpen(true),\n      enabled: true,\n    },\n    {\n      id: 'shortcutHelp',\n      icon: shortcutHelpIcon,\n      content: (\n        <>\n          <span>{intl.messages['topNavigation.shortcut']}</span>\n          <Portal container={document.body}>\n            <ShortcutView open={shortcutViewOpen} onClose={() => setShortcutViewOpen(false)} />\n          </Portal>\n        </>\n      ),\n      onClick: () => !shortcutViewOpen && setShortcutViewOpen(true),\n      enabled: true,\n    },\n    {\n      id: 'about',\n      icon: aboutIcon,\n      content: (\n        <>\n          <span>{intl.messages['topNavigation.about']}</span>\n          <Portal container={document.body}>\n            <AboutView open={isAboutViewOpen} onClose={() => setIsAboutViewOpen(false)} />\n          </Portal>\n        </>\n      ),\n      onClick: () => !isAboutViewOpen && setIsAboutViewOpen(true),\n      enabled: true,\n    },\n    {\n      id: 'logout',\n      icon: logoutIcon,\n      content: intl.messages['topNavigation.logout'],\n      onClick: async () => {\n        proxy.unsubscribeFromLockAcquisitionStream();\n        setImmediate(() => (window.location.href = `${window.location.origin}/logout`));\n      },\n      enabled: true,\n    },\n  ];\n\n  return {\n    id: 'user-info',\n    icon: userIcon,\n    content: user.fullname,\n    enabled: true,\n    children,\n  };\n};\n","export default __webpack_public_path__ + \"static/media/logout.34533d8e.svg\";","export default __webpack_public_path__ + \"static/media/permissions.ce764429.svg\";","export default __webpack_public_path__ + \"static/media/shortcut-help.d16d3001.svg\";","export default __webpack_public_path__ + \"static/media/upload.6f61d1e9.svg\";","export default __webpack_public_path__ + \"static/media/user.71fbff7c.svg\";","import { Component } from 'react';\nimport { Skeleton } from '@material-ui/lab';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport KoerberLogo from '../../assets/logo/logo.svg';\nimport Dialog from '../../components/Dialog';\nimport Logo from '../../components/layout/Logo';\n\nimport './style.scss';\n\nclass AboutView extends Component {\n  render() {\n    const { onClose, open, intl, configuration } = this.props;\n\n    if (!configuration) {\n      return <div />;\n    }\n\n    return (\n      <Dialog title={<FormattedMessage id=\"aboutView\" />} onClose={onClose} open={open}>\n        <div className=\"appname\">{process.env.REACT_APP_NAME}</div>\n        <div className=\"table\">\n          <div className=\"row\">\n            <div className=\"cell\">{intl.messages['aboutView.applicationVersion']}</div>\n            <div className=\"cell\">\n              {configuration.getWebAppVersion() || <Skeleton width=\"155px\" />}\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"cell\">{intl.messages['aboutView.svoVersion']}</div>\n            <div className=\"cell\">\n              {configuration.getSvObserverVersion() || <Skeleton width=\"155px\" />}\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"cell\">{intl.messages['aboutView.gatewayVersion']}</div>\n            <div className=\"cell\">\n              {configuration.getGatewayVersion() || <Skeleton width=\"155px\" />}\n            </div>\n          </div>\n        </div>\n        <div className=\"logo\">\n          <Logo src={KoerberLogo} title=\"logo\" />\n        </div>\n      </Dialog>\n    );\n  }\n}\n\nAboutView.defaultProps = {\n  open: false,\n};\n\nAboutView.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => {\n  try {\n    const { configuration } = state.app;\n    return { configuration };\n  } catch (error) {\n    return {};\n  }\n};\n\nexport default connect(mapStateToProps)(injectIntl(AboutView));\n","import { setProtobuf } from '../redux/actions';\nimport logger from '../utils/logger';\nimport Protobuf from './Protobuf';\nimport WebsocketConnector from './WebsocketConnector';\n\nexport default class ProtobufConnector {\n  constructor(url, dispatch, authToken) {\n    this.url = url;\n    this.dispatch = dispatch;\n    this.protobuf = new Protobuf();\n    this.websocketConnector = null;\n    this.connectionLost = false;\n    this.authToken = authToken;\n    this.connect();\n  }\n\n  connect = () => {\n    this.disconnect();\n\n    if (!this.authToken) {\n      logger.info('[ProtobufConnector] cannot connect yet. no auth token available');\n      return;\n    }\n\n    this.websocketConnector = new WebsocketConnector(\n      this.onConnect,\n      this.onMessage,\n      this.onClose,\n      this.onError,\n      this.url,\n      this.authToken,\n    );\n  };\n\n  connectWithToken = (token) => {\n    this.authToken = token;\n    this.connect();\n  };\n\n  disconnect = () => {\n    if (this.websocketConnector) {\n      this.websocketConnector.closeSocket();\n      this.websocketConnector = null;\n    }\n  };\n\n  onMessage = (data) => {\n    this.protobuf.readMessage(data);\n  };\n\n  onConnect = async (socket) => {\n    // Force a hard reload on re-conncet to make sure we start fresh\n    if (this.connectionLost) {\n      this.connectionLost = false;\n      setImmediate(() => {\n        window.location.href = `${window.location.origin}/`;\n      });\n      return;\n    }\n\n    // once we have a websocket connection established we publish the protobuf connector via store\n    this.dispatch(setProtobuf(this.protobuf, socket));\n  };\n\n  onClose = () => {\n    this.connectionLost = true;\n    // unsetting the socket will set proxy into disconnected\n    // state and will show the \"Connecting\" screen.\n    this.dispatch(setProtobuf(this.protobuf, /*socket=*/ null));\n  };\n\n  onError = (event) => {\n    console.error('Websocket error: ', event);\n  };\n}\n","import ReconnectingWebSocket from 'reconnecting-websocket';\n\nexport default class WebsocketConnector {\n  constructor(onConnect, onMessage, onClose, onError, url, token) {\n    this.onClose = onClose;\n    const protocol = token ? ['access_token', token] : undefined;\n    const options = { debug: false };\n    this.socket = new ReconnectingWebSocket(url, protocol, options);\n    this.socket.binaryType = 'arraybuffer';\n    this.socket.onopen = () => {\n      onConnect && onConnect(this.socket);\n    };\n    this.socket.onmessage = (e) => onMessage && onMessage(e.data, this.socket);\n    this.socket.onerror = (e) => onError && onError(e);\n    this.socket.onclose = () => onClose && onClose(this.socket);\n    this.socket.onconnecting = (e) => console.log('CONNECTING!', e);\n  }\n\n  closeSocket() {\n    if (this.socket) {\n      this.socket.close();\n    }\n  }\n}\n","import { FormattedMessage } from 'react-intl';\nimport {\n  addModeSwitchNotification,\n  addProjectLoadedNotification,\n  addProjectUnloadedNotification,\n  addProjectModifiedNotification,\n  addServerMessageNotification,\n  addRejectStreamPausedNotification,\n  addConfigAlreadyLockedBySameUser,\n  addTakeoverCandidateNotFoundNotification,\n  addLockAcquisitionErrorNotification,\n  addLockTakeoverErrorNotification,\n  loadClientChunk,\n  resetClientChunk,\n  loadDatabaseGatewayConfiguration,\n  setCurrentModeDone,\n  setCurrentConfiguration,\n  setConfigurationLock,\n  setPausedInspections,\n  showGlobalMessageOverlay,\n  hideGlobalMessageOverlay,\n  setSVOConfigLoaded,\n  setGroupPermissions,\n  setMyPermissions,\n  clearCurrentView,\n  setInspectionToolsetMappings,\n} from '../redux/actions';\nimport { defaultPermissions } from '../utils/defaultPermissions';\nimport { CONFIG_INFO, INSPECTION_TOOLSET_MAPPINGS } from '../utils/localStorage';\nimport logger from '../utils/logger';\nimport modes from '../utils/modes';\nimport {\n  flattenPermissionsRec,\n  canReadUserManagement,\n  canEditUserManagement,\n} from '../utils/permissions';\nimport { LOCK_ACQUISITION_REQUEST } from '../utils/sessionStorage';\nimport Configuration from './Configuration';\nimport ConfigurationLock from './ConfigurationLock';\nimport {\n  mapLogLevelNameToProtobufLogSeverity,\n  mapProtobufDeviceModeToWebAppMode,\n  mapWebAppModeToProtobufDeviceMode,\n} from './Mapper';\nimport ProductHistoryManager from './ProductHistoryManager';\nimport Protobuf from './Protobuf';\nimport SubscriptionManager from './SubscriptionManager';\n\nexport default class Proxy {\n  constructor(dispatch) {\n    this.dispatch = dispatch;\n    this.configInfo = null;\n    this.configLoadedFromCache = false;\n    this.currentConfiguration = null;\n    this.lock = null;\n    this.loading = false;\n    this.mode = null;\n    this.protobuf = null;\n    this.protobufInitialized = false;\n    this.observerNotificationSubscription = null;\n    this.observerMessageSubscription = null;\n    this.lockAcquisitionSubscription = null;\n    this.gatewayNotificationSubscription = null;\n    this.gatewayMessageSubscription = null;\n    this.nextSubId = 0;\n    this.productHistoryManager = new ProductHistoryManager();\n    this.subscriptionManager = new SubscriptionManager({\n      productHistoryManager: this.productHistoryManager,\n    });\n    this.showConnectingSplashScreen();\n  }\n\n  setMode(mode) {\n    this.onCurrentModeChanged(mode);\n  }\n\n  setProtobufStaticInitialized() {\n    this.protobufInitialized = true;\n    this.onProtobufChangedImpl();\n  }\n\n  setProtobuf(protobuf) {\n    this.protobuf = protobuf;\n    this.subscriptionManager.setProtobuf(protobuf);\n    this.onProtobufChangedImpl();\n  }\n\n  onProtobufChangedImpl() {\n    if (this.protobuf && this.protobuf.isConnected() && this.protobufInitialized) {\n      this.hideConnectingSplashScreen();\n      setImmediate(() => this.loadProject());\n    } else {\n      this.showConnectingSplashScreen();\n    }\n  }\n\n  sendLogsToServer = async (entries) => {\n    const logs = entries.map((e) => this.mapLogEntry(e));\n    const req = Protobuf.SvPb.StoreClientLogsRequest.create({\n      client: 'WebApp',\n      logs,\n    });\n    try {\n      if (this.protobuf) {\n        await this.protobuf.request(req);\n      }\n    } catch (e) {\n      console.error('Error while sending logs to server:', e);\n    }\n  };\n\n  mapLogEntry(entry) {\n    return {\n      severity: mapLogLevelNameToProtobufLogSeverity(entry.levelName),\n      message: JSON.stringify(entry),\n    };\n  }\n\n  async updateConfigLockStatus(status) {\n    if (!this.lock) {\n      this.lock = new ConfigurationLock({});\n    }\n    this.lock.owner = status.owner;\n    this.lock.lockDescription = status.description;\n    this.lock.host = status.host;\n    this.lock.status = status.status;\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  async dispatchCurrentConfiguration(configuration) {\n    this.dispatch(setCurrentConfiguration(new Configuration(configuration)));\n    Configuration.saveToCache(this.currentConfiguration, this.configInfo);\n    this.dispatchInspectionToolsetMappings(configuration.inspectionToolsetMappings);\n  }\n\n  dispatchInspectionToolsetMappings(mappings) {\n    this.dispatch(setInspectionToolsetMappings(new Map(mappings)));\n    localStorage.setItem(INSPECTION_TOOLSET_MAPPINGS, JSON.stringify(Array.from(mappings)));\n  }\n\n  async dispatchConfigurationLock(lock) {\n    this.dispatch(setConfigurationLock(new ConfigurationLock(lock)));\n  }\n\n  loadProject = async () => {\n    if (this.loading) {\n      this.loadProjectRequested = true;\n      return;\n    }\n\n    this.loading = true;\n    this.showLoadingSplashScreen();\n    try {\n      await this.getMyPermissions();\n      await this.getDatabaseGatewayConfig();\n      await this.discoverConfiguration();\n      await this.discoverDeviceMode();\n      this.subscribeToNotificationAndMessageStreams();\n      // only load the client chunk when we have a valid configuration\n      if (this.currentConfiguration) {\n        this.dispatch(setSVOConfigLoaded(true));\n        await this.currentConfiguration.discoverInspectionsWithConfigName(this.protobuf);\n        await this.loadClientChunk();\n      } else {\n        await this.resetClientChunk();\n        this.dispatch(setSVOConfigLoaded(false));\n      }\n\n      const request = sessionStorage.getItem(LOCK_ACQUISITION_REQUEST);\n      if (request) {\n        const reqInfo = JSON.parse(request);\n        if (reqInfo.user != this.lock.owner) {\n          reqInfo.requestTakeover = false;\n          this.sendLockAcquisitionStreamRequest(reqInfo);\n        }\n      }\n      // TODO: re-subscribe all current subscriptions?\n      // this.scheduleRebuildSubscriptions();\n      this.hideLoadingSplashScreen();\n    } catch (err) {\n      this.showLoadingErrorOverlay(err);\n    }\n    this.loading = false;\n\n    if (!this.configLoadedFromCache && this.currentConfiguration) {\n      try {\n        this.dispatchCurrentConfiguration(this.currentConfiguration);\n        this.setUpProductHistories(this.currentConfiguration);\n\n        this.currentConfiguration.discoverPartsInBackground(this.protobuf).then(() => {\n          this.dispatchCurrentConfiguration(this.currentConfiguration);\n        });\n      } catch (err) {\n        logger.error({ err }, 'Error loading configuration');\n        return;\n      }\n    }\n\n    if (this.loadProjectRequested) {\n      this.loadProjectRequested = false;\n      this.loadProject();\n    }\n  };\n\n  showConnectingSplashScreen() {\n    // can not call dispatch right away, because we reach this point\n    // while the store itself is still in initialization phase.\n    setImmediate(() => {\n      this.dispatch(\n        showGlobalMessageOverlay({\n          message: <p>Connecting</p>,\n        }),\n      );\n    });\n  }\n\n  hideConnectingSplashScreen() {\n    // This function might be triggered by a redux event itself.\n    // Use setImmediate to not trigger a redux event inside a\n    // redux event (which is forbidden).\n    setImmediate(() => {\n      this.dispatch(hideGlobalMessageOverlay());\n    });\n  }\n\n  showLoadingSplashScreen() {\n    this.dispatch(\n      showGlobalMessageOverlay({\n        message: <p>Loading Configuration</p>,\n      }),\n    );\n  }\n\n  showLoadingErrorOverlay(err) {\n    this.dispatch(\n      showGlobalMessageOverlay({\n        message: <p>Error while loading Configuration: {`${err}`}</p>,\n      }),\n    );\n  }\n\n  hideLoadingSplashScreen() {\n    this.dispatch(hideGlobalMessageOverlay());\n  }\n\n  async getConfigurationInfo() {\n    try {\n      let res = await this.protobuf.request(Protobuf.SvPb.GetConfigurationInfoRequest.create());\n\n      if (Object.keys(res).length === 0) {\n        logger.warn(\n          'Empty response for GetConfigurationInfoRequest, configuration in SVO not loaded',\n        );\n        return null;\n      }\n\n      if (!res.lastModified) {\n        res = {\n          ...res,\n          lastModified: res.loadedSince,\n        };\n      }\n\n      return res;\n    } catch (err) {\n      logger.error('GetConfigurationInfoRequest ERROR', err);\n    }\n\n    return null;\n  }\n\n  async discoverConfiguration() {\n    let cachedConfigInfo = null;\n    this.configInfo = await this.getConfigurationInfo();\n\n    if (!this.configInfo || !this.configInfo.loadedSince) {\n      this.currentConfiguration = null;\n      return;\n    }\n\n    try {\n      cachedConfigInfo = await JSON.parse(localStorage.getItem(CONFIG_INFO));\n    } catch (err) {\n      logger.error({ err }, 'Timestamp request failed');\n    }\n\n    let config = null;\n    // Timestamps should be equal but not null\n    if (\n      this.configInfo &&\n      cachedConfigInfo &&\n      cachedConfigInfo.hash === this.configInfo.hash &&\n      Number(cachedConfigInfo.lastModified) === this.configInfo.lastModified\n    ) {\n      config = await Configuration.loadFromCache();\n      const cachedMappings = localStorage.getItem(INSPECTION_TOOLSET_MAPPINGS);\n      if (cachedMappings) {\n        config.inspectionToolsetMappings = new Map(JSON.parse(cachedMappings));\n      }\n      this.dispatch(setCurrentConfiguration(config));\n      this.setUpProductHistories(config);\n      this.configLoadedFromCache = true;\n    } else {\n      config = new Configuration({});\n      this.dispatch(setCurrentConfiguration(config));\n      this.dispatch(clearCurrentView());\n      this.configLoadedFromCache = false;\n    }\n\n    this.dispatch(setInspectionToolsetMappings(new Map(config.inspectionToolsetMappings)));\n    this.currentConfiguration = config;\n  }\n\n  async onCurrentModeChanged(currentMode) {\n    // set internal mode to unknown while switching the mode to\n    // lower the possibility of running into errors in the\n    // subscription code, e.g. e.g. fetching images which are not\n    // accessible in certain modes\n    this.mode = modes.unknownMode.id;\n\n    const mode = mapWebAppModeToProtobufDeviceMode(currentMode);\n    const req = Protobuf.SvPb.SetDeviceModeRequest.create({ mode });\n    let res = null;\n    try {\n      res = await this.protobuf.request(req);\n    } catch (err) {\n      logger.error({ err }, 'Error while changing the mode');\n      return;\n    }\n\n    if (res.hResult) {\n      logger.error({ hResult: res.hResult }, 'Error while changing the mode');\n      return;\n    }\n\n    // Leaving this here as a safety net in case SVObserver is not\n    // informing us about the new mode via a notification. As we\n    // do nothing when the discovered mode is the one we already,\n    // have in this.mode, it is cheap to do it multiple times.\n    setTimeout(this.discoverDeviceMode, 500);\n  }\n\n  discoverDeviceMode = async () => {\n    let mode = null;\n    let modeName = null;\n    try {\n      const req = Protobuf.SvPb.GetDeviceModeRequest.create({});\n      const res = await this.protobuf.request(req);\n      modeName = res.mode;\n      mode = mapProtobufDeviceModeToWebAppMode(modeName);\n    } catch (err) {\n      logger.error({ err }, 'Error while fetching mode');\n    }\n\n    if (mode === null || this.mode === mode) {\n      return;\n    }\n\n    // Initially we get mode from SVObserver and no change happens\n    if (this.mode === null) {\n      this.mode = mode;\n      return;\n    }\n\n    logger.info(\n      { oldMode: this.mode, newMode: mode, newModeName: modeName },\n      'Discovered new mode',\n    );\n    this.mode = mode;\n\n    this.dispatch(addModeSwitchNotification(mode));\n    return this.dispatch(setCurrentModeDone(mode));\n  };\n\n  loadClientChunk() {\n    return this.dispatch(loadClientChunk(this));\n  }\n\n  resetClientChunk() {\n    return this.dispatch(resetClientChunk(this.protobuf));\n  }\n\n  getDatabaseGatewayConfig() {\n    return this.dispatch(loadDatabaseGatewayConfiguration(this.protobuf));\n  }\n\n  subscribeToNotificationAndMessageStreams() {\n    this.subscribeToObserverNotificationStream();\n    this.subscribeToObserverMessageStream();\n    this.subscribeToGatewayNotificationStream();\n    this.subscribeToGatewayMessageStream();\n  }\n\n  subscribeToObserverNotificationStream() {\n    this.unsubscribeFromObserverNotificationStream();\n    const req = Protobuf.SvPb.GetNotificationStreamRequest.create({});\n    this.observerNotificationSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onObserverNotification(evt),\n      error: (err) => this.onObserverNotificationError(err),\n      complete: () => logger.debug('Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromObserverNotificationStream() {\n    if (this.observerNotificationSubscription) {\n      this.observerNotificationSubscription.unsubscribe();\n    }\n  }\n\n  onObserverNotification({ type, parameter }) {\n    let fileName, configName;\n    switch (type) {\n      case Protobuf.SvPb.NotifyType.currentMode:\n        {\n          const mode = this.getVariantValue(parameter);\n          logger.debug({ mode }, 'Notification currentMode');\n          // the notification contains the new mode already, but it might be \"modeChanging\"\n          // so lets just fetch it from the SVObserver so we always have the actual mode.\n          this.discoverDeviceMode();\n        }\n        break;\n      case Protobuf.SvPb.NotifyType.lastModified:\n        {\n          const timestamp = this.getVariantValue(parameter) * 1000;\n          logger.debug({ timestamp: new Date(timestamp) }, 'Notification lastModified');\n          this.dispatch(addProjectModifiedNotification());\n          // TODO: mateusz@main.dev: modify updateProject when notification will contain inspectionId. ID should be passed as arg to updateProject\n          this.updateProject();\n        }\n        break;\n      case Protobuf.SvPb.NotifyType.configLoaded:\n        fileName = this.getVariantValue(parameter);\n        configName = Configuration.extractConfigNameFromFileName(fileName);\n        logger.debug({ fileName, configName }, 'Notification configLoaded');\n        this.dispatch(addProjectLoadedNotification(fileName));\n        this.loadProject();\n        break;\n      case Protobuf.SvPb.NotifyType.configUnloaded:\n        fileName = this.getVariantValue(parameter);\n        configName = Configuration.extractConfigNameFromFileName(fileName);\n        logger.debug({ fileName, configName }, 'Notification configUnloaded');\n        this.dispatch(addProjectUnloadedNotification(fileName));\n        this.loadProject();\n        break;\n      default:\n        logger.warn({ type, parameter }, 'Unknown notification type');\n        break;\n    }\n  }\n\n  async updateProject() {\n    if (!this.currentConfiguration) {\n      await this.discoverConfiguration();\n    }\n    await this.currentConfiguration.resetInspectionIdToToolsetMappings(this.protobuf);\n    this.dispatchInspectionToolsetMappings(this.currentConfiguration.inspectionToolsetMappings);\n  }\n\n  getVariantValue(variant) {\n    return variant && variant[variant.data];\n  }\n\n  formatMessageNotification(messageText, errorNumber) {\n    return (\n      <div>\n        <FormattedMessage id=\"notifications.checkSvimOutput\" />\n        {messageText && (\n          <div>\n            {errorNumber ? `(${errorNumber})` : ' '} {messageText}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  onObserverNotificationError(err) {\n    logger.error({ err }, 'Notification error');\n    this.unsubscribeFromObserverNotificationStream();\n  }\n\n  subscribeToObserverMessageStream() {\n    this.unsubscribeFromObserverMessageStream();\n    const req = Protobuf.SvPb.GetMessageStreamRequest.create({});\n    this.observerMessageSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onObserverMessage(evt),\n      error: (err) => this.onObserverMessageError(err),\n      complete: () => logger.debug('Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromObserverMessageStream() {\n    if (this.observerMessageSubscription) {\n      this.observerMessageSubscription.unsubscribe();\n    }\n  }\n\n  onObserverMessage(evt) {\n    const { type, messageList } = evt;\n    const { messages } = messageList;\n    logger.debug({ ...evt }, 'SVObserver message stream event');\n\n    switch (type) {\n      case Protobuf.SvPb.MessageType.startMsgBox:\n        {\n          if (!messages || messages.length !== 1) {\n            logger.warn({ type, messages }, 'Expected exactly one message in the message event');\n            return;\n          }\n          const firstMessage = messages[0];\n          const message = this.formatMessageNotification(\n            firstMessage.messageText,\n            firstMessage.messageCode,\n          );\n          this.dispatch(showGlobalMessageOverlay({ message }));\n        }\n        break;\n\n      case Protobuf.SvPb.MessageType.endMsgBox:\n        this.dispatch(hideGlobalMessageOverlay());\n        break;\n\n      case Protobuf.SvPb.MessageType.msgLog:\n        // TODO also handle severity\n        (messages || []).forEach(({ messageCode, messageText }) => {\n          this.dispatch(addServerMessageNotification(messageText, messageCode));\n        });\n        break;\n\n      default:\n        logger.warn({ type }, 'Unknown message event type');\n        break;\n    }\n  }\n\n  onObserverMessageError(err) {\n    logger.error({ err }, 'SVObserver message stream error');\n    this.unsubscribeFromObserverMessageStream();\n  }\n\n  subscribeToLockAcquisitionStream(reqInfo) {\n    if (reqInfo.requestTakeover) {\n      this.lock.waitForTakeoverResponse();\n      this.dispatchConfigurationLock(this.lock);\n    }\n    this.sendLockAcquisitionStreamRequest(reqInfo);\n  }\n\n  sendLockAcquisitionStreamRequest(reqInfo) {\n    const req = Protobuf.SvPb.LockAcquisitionStreamRequest.create(reqInfo);\n    this.lockAcquisitionSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onLockAcquisition(evt, reqInfo),\n      error: (err) => this.onLockAcquisitionError(err),\n      complete: () => logger.debug('Lock acquisition observable completed'),\n    });\n  }\n\n  async unsubscribeFromLockAcquisitionStream() {\n    sessionStorage.removeItem(LOCK_ACQUISITION_REQUEST);\n    if (this.lockAcquisitionSubscription) {\n      this.lockAcquisitionSubscription.unsubscribe();\n      this.lock = new ConfigurationLock({});\n      this.dispatchConfigurationLock(this.lock);\n      await this.getMyPermissions();\n    }\n  }\n\n  onLockAcquisition(evt, req) {\n    const notification = evt[evt.message];\n    logger.debug('message type: ' + JSON.stringify(evt, undefined, 2));\n    switch (evt.message) {\n      case 'lockAcquiredNotification': {\n        this.onLockAcquiredNotification(notification, req);\n        break;\n      }\n      case 'lockTakeoverNotification': {\n        this.onLockTakeoverNotification(notification);\n        break;\n      }\n      case 'lockReleasedNotification': {\n        this.onLockReleasedNotification();\n        break;\n      }\n      case 'lockAlreadyLockedNotification': {\n        this.onLockAlreadyLockedNotification(notification);\n        break;\n      }\n      case 'lockTakeoverRejectedNotification': {\n        this.onLockTakeoverRejectedNotification();\n        break;\n      }\n      default:\n        logger.warn({ type: evt.message }, 'Unknown lock acquisition notification type');\n        break;\n    }\n  }\n\n  onLockAcquisitionError(err) {\n    logger.error({ err }, 'Lock acquisition error: ' + JSON.stringify(err, undefined, 2));\n    if (err.code === 403) {\n      this.dispatch(addConfigAlreadyLockedBySameUser());\n    } else if (err.code === 404) {\n      this.dispatch(addTakeoverCandidateNotFoundNotification());\n    } else {\n      this.dispatch(addLockAcquisitionErrorNotification(err.code));\n    }\n  }\n\n  async onLockAcquiredNotification(notification, request) {\n    request['user'] = notification.user;\n    sessionStorage.setItem(LOCK_ACQUISITION_REQUEST, JSON.stringify(request));\n    this.lock.handleLockAcquiredNotification(notification);\n    this.dispatchConfigurationLock(this.lock);\n    await this.getMyPermissions();\n  }\n\n  onLockTakeoverNotification(notification) {\n    this.lock.handleLockTakeoverNotification(notification);\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  onLockReleasedNotification() {\n    this.lock.handleLockReleasedNotification();\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  onLockAlreadyLockedNotification(notification) {\n    this.lock.handleLockAlreadyLockedNotification(notification);\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  onLockTakeoverRejectedNotification() {\n    this.lock.handleLockTakeoverRejectedNotification();\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  closeAlertDialogs() {\n    this.lock.resetAlertDialogFlags();\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  async passConfigLock(reqInfo) {\n    const req = Protobuf.SvPb.LockTakeoverRequest.create(reqInfo);\n    try {\n      this.protobuf.request(req);\n      this.lock.resetTakeoverAttempt();\n      this.lock.lockedInSameAppInstance = false;\n      sessionStorage.removeItem(LOCK_ACQUISITION_REQUEST);\n    } catch (err) {\n      this.dispatch(addLockTakeoverErrorNotification(err.code));\n      logger.error({ err }, 'Error while perfroming config lock takeover');\n    }\n  }\n\n  async retainConfigLock(reqInfo) {\n    const req = Protobuf.SvPb.LockTakeoverRejectedRequest.create(reqInfo);\n    try {\n      await this.protobuf.request(req);\n      this.lock.resetTakeoverAttempt();\n      this.dispatchConfigurationLock(this.lock);\n    } catch (err) {\n      this.dispatch(addLockTakeoverErrorNotification(err.code));\n      logger.error({ err }, 'Error while perfroming config lock takeover');\n    }\n  }\n\n  subscribeToGatewayNotificationStream() {\n    this.unsubscribeFromGatewayNotificationStream();\n    const req = Protobuf.SvPb.GetGatewayNotificationStreamRequest.create({});\n    this.gatewayNotificationSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onGatewayNotification(evt),\n      error: (err) => this.onGatewayNotificationError(err),\n      complete: () => logger.debug('Gateway Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromGatewayNotificationStream() {\n    if (this.gatewayNotificationSubscription) {\n      this.gatewayNotificationSubscription.unsubscribe();\n    }\n  }\n\n  onGatewayNotification(evt) {\n    const value = evt[evt.message];\n    switch (evt.message) {\n      case 'rejectStreamPaused':\n        {\n          const { pausedInspectionIds } = value;\n          logger.debug({ pausedInspectionIds }, 'Notification rejectStreamPaused');\n          this.onPauseNotification(pausedInspectionIds);\n        }\n        break;\n      case 'configurationLockStatus':\n        {\n          logger.debug({ value }, 'Notification configurationLockStatus');\n          this.updateConfigLockStatus(value);\n          this.getMyPermissions();\n        }\n        break;\n      default:\n        logger.warn({ type: evt.message }, 'Unknown gateway notification type');\n        break;\n    }\n  }\n\n  onGatewayNotificationError(err) {\n    logger.error({ err }, 'Gateway Notification error');\n    this.unsubscribeFromGatewayNotificationStream();\n  }\n\n  subscribeToGatewayMessageStream() {\n    this.unsubscribeFromGatewayMessageStream();\n    const req = Protobuf.SvPb.GetGatewayMessageStreamRequest.create({});\n    this.gatewayMessageSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onGatewayMessage(evt),\n      error: (err) => this.onGatewayMessageError(err),\n      complete: () => logger.debug('Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromGatewayMessageStream() {\n    if (this.gatewayMessageSubscription) {\n      this.gatewayMessageSubscription.unsubscribe();\n    }\n  }\n\n  onGatewayMessage(evt) {\n    const {\n      type,\n      messageList: { messages = [] },\n    } = evt;\n    logger.debug({ ...evt }, 'Gateway message stream event');\n\n    switch (type) {\n      case Protobuf.SvPb.MessageType.startMsgBox:\n        {\n          if (messages.length !== 1) {\n            logger.warn({ type, messages }, 'Expected exactly one message in the message event');\n            return;\n          }\n          const firstMessage = messages[0];\n          const message = this.formatMessageNotification(\n            firstMessage.messageText,\n            firstMessage.messageCode,\n          );\n          this.dispatch(showGlobalMessageOverlay({ message }));\n        }\n        break;\n\n      case Protobuf.SvPb.MessageType.endMsgBox:\n        this.dispatch(hideGlobalMessageOverlay());\n        break;\n\n      case Protobuf.SvPb.MessageType.msgLog:\n        // TODO also handle severity\n        messages.forEach(({ messageCode, messageText }) => {\n          this.dispatch(addServerMessageNotification(messageText, messageCode));\n        });\n        break;\n\n      default:\n        logger.warn({ type }, 'Unknown message event type');\n        break;\n    }\n  }\n\n  onGatewayMessageError(err) {\n    logger.error({ err }, 'Gateway message stream error');\n    this.unsubscribeFromGatewayMessageStream();\n  }\n\n  subscribeToProductStream(desc, cb) {\n    const id = this._getNextSubId();\n    this.subscriptionManager.addSubscription(id, desc, cb);\n    return id;\n  }\n\n  unsubscribeFromProductStream(id) {\n    this.subscriptionManager.removeSubscription(id);\n  }\n\n  _getNextSubId() {\n    return `${++this.nextSubId}`;\n  }\n\n  setUpProductHistories(config) {\n    const inspections = config.getInspections();\n    this.productHistoryManager.init(inspections);\n  }\n\n  async replayProduct(inspectionId, product) {\n    await this.fetchMissingProductData(inspectionId, product);\n    this.subscriptionManager.replayProduct(inspectionId, product);\n  }\n\n  async fetchMissingProductData(inspectionId, product) {\n    const missingImageIds = this.getMissingProductImages(inspectionId, product);\n    const missingValueIds = this.getMissingProductValues(inspectionId, product);\n    if (missingImageIds.length === 0 && missingValueIds.length === 0) {\n      return;\n    }\n\n    const req = Protobuf.SvPb.GetProductDataRequest.create({\n      inspectionId,\n      trigger: product.trigger,\n      imageIds: missingImageIds,\n      valueIds: missingValueIds,\n      includeOverlays: true,\n    });\n    try {\n      const res = await this.protobuf.request(req);\n      await product.addData({\n        trigger: res.trigger,\n        imageIds: missingImageIds,\n        images: res.images,\n        overlays: res.overlays,\n        valueIds: missingValueIds,\n        values: res.values,\n      });\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  getMissingProductImages(inspectionId, product) {\n    const imageIds = this.subscriptionManager.getSubscribedImages(inspectionId);\n    return imageIds.filter((imageId) => product.getImage(imageId) === undefined);\n  }\n\n  getMissingProductValues(inspectionId, product) {\n    const valueIds = this.subscriptionManager.getSubscribedValues(inspectionId);\n    return valueIds.filter((valueId) => product.getValue(valueId) === undefined);\n  }\n\n  onPauseNotification(pausedInspectionIds) {\n    this.dispatch(addRejectStreamPausedNotification(pausedInspectionIds));\n    this.subscriptionManager.updatePausedInspections(pausedInspectionIds);\n    this.dispatch(setPausedInspections(pausedInspectionIds));\n  }\n\n  pauseRejectStream(inspectionId) {\n    this.pauseRejectStreamImpl(true, inspectionId);\n  }\n\n  resumeRejectStream(inspectionId) {\n    this.pauseRejectStreamImpl(false, inspectionId);\n  }\n\n  async pauseRejectStreamImpl(pause, inspectionId) {\n    const request = Protobuf.SvPb.SetRejectStreamPauseStateRequest.create({\n      inspectionId: inspectionId || undefined,\n      pause,\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async getMyPermissions() {\n    let response = {};\n    try {\n      const request = Protobuf.SvPb.GetMyPermissionsRequest.create();\n      response = await this.protobuf.request(request);\n    } catch (err) {\n      logger.error('Cannot get my permissions, fall back to default permissions');\n      response = defaultPermissions;\n    }\n\n    if (!response || !response.permissions) {\n      logger.error('Cannot get my permissions');\n      return false;\n    }\n\n    const myPermissions = new Set();\n    flattenPermissionsRec(response.permissions, myPermissions, '');\n    this.disablePermissionsWhenConfigLocked(myPermissions);\n    this.dispatch(setMyPermissions(myPermissions));\n\n    if (canReadUserManagement(myPermissions) || canEditUserManagement(myPermissions)) {\n      await this.getGroupPermissions();\n    }\n  }\n\n  disablePermissionsWhenConfigLocked(permissions) {\n    if (this.lock?.isUnlocked() || this.lock?.isLockedInDifferentAppInstance()) {\n      permissions.forEach((permission) => {\n        if (\n          permission.endsWith('.save') ||\n          permission.endsWith('.edit') ||\n          permission.endsWith('.write') ||\n          permission.endsWith('.remove') ||\n          permission.endsWith('.add')\n        ) {\n          permissions.delete(permission);\n        }\n      });\n    }\n  }\n\n  async getGroupPermissions() {\n    const request = Protobuf.SvPb.GetGroupDetailsRequest.create();\n    const response = await this.protobuf.request(request);\n\n    if (!response || !response.groupDetails) {\n      logger.error('Cannot get group permissions');\n      return false;\n    }\n\n    const flattenedPermissions = this.flattenPermissions(response.groupDetails);\n    this.dispatch(setGroupPermissions(flattenedPermissions));\n  }\n\n  flattenPermissions(groupDetails) {\n    const permissions = new Map();\n    (groupDetails || []).forEach((groupDetail) => {\n      const groupPermissions = new Set();\n      flattenPermissionsRec(groupDetail.permissions, groupPermissions, '');\n      permissions.set(groupDetail.name, {\n        groupPermissions,\n        users: groupDetail.users,\n      });\n    });\n    return permissions;\n  }\n\n  async setUserPermissions(groupPermissions) {\n    const request = Protobuf.SvPb.UpdateGroupPermissionsRequest.create({\n      groupPermissions,\n    });\n    try {\n      if (this.protobuf) {\n        await this.protobuf.request(request);\n        await this.getGroupPermissions();\n      }\n    } catch (e) {\n      logger.error({ e }, 'Error while setting user permissions');\n    }\n\n    logger.info('Successfully saved user permissions');\n  }\n\n  async updateToolsetData(inspectionId) {\n    await this.currentConfiguration.updateInspectionIdToToolsetMappings(\n      this.protobuf,\n      inspectionId,\n    );\n    this.dispatchInspectionToolsetMappings(this.currentConfiguration.inspectionToolsetMappings);\n  }\n\n  async addTool(inspectionID, ownerId, classId, taskObjectPos) {\n    const request = Protobuf.SvPb.InspectionCmdRequest.create({\n      inspectionID,\n      createObjectRequest: {\n        ownerId,\n        classId,\n        taskObjectPos,\n      },\n    });\n\n    try {\n      const response = await this.protobuf.request(request);\n      this.updateToolsetData(inspectionID);\n      return response?.createObjectResponse?.objectId;\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async deleteTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.InspectionCmdRequest.create({\n      inspectionID,\n      deleteObjectRequest: {\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n      this.updateToolsetData(inspectionID);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async downloadSVOConfig() {\n    const request = Protobuf.SvPb.GetConfigRequest.create({});\n\n    try {\n      const response = await this.protobuf.request(request);\n      return response?.fileData;\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async uploadSVOConfig(fileName, fileData) {\n    const request = Protobuf.SvPb.PutConfigRequest.create({\n      fileName,\n      fileData,\n    });\n\n    try {\n      const res = await this.protobuf.request(request);\n      if (res.hResult) {\n        logger.error({ hResult: res.hResult }, 'Could not load SVO configuration file');\n        return;\n      }\n      this.updateProject();\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async copyTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.ConfigCommandRequest.create({\n      inspectionID,\n      clipboardRequest: {\n        action: Protobuf.SvPb.ClipboardActionEnum.Copy,\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async cutTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.ConfigCommandRequest.create({\n      inspectionID,\n      clipboardRequest: {\n        action: Protobuf.SvPb.ClipboardActionEnum.Cut,\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async pasteTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.ConfigCommandRequest.create({\n      inspectionID,\n      clipboardRequest: {\n        action: Protobuf.SvPb.ClipboardActionEnum.Paste,\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n}\n","export const defaultPermissions = {\n  permissions: {\n    webapp: {\n      configuration: {\n        save: true,\n      },\n      logs: {\n        read: true,\n      },\n      viewset: {\n        add: true,\n        read: true,\n        edit: true,\n        remove: true,\n      },\n      view: [\n        {\n          type: 0,\n          add: true,\n          read: true,\n          edit: true,\n          remove: true,\n        },\n      ],\n    },\n    svobserver: {\n      mode: {\n        read: true,\n        edit: true,\n      },\n      inspectionstate: {\n        read: true,\n        edit: true,\n      },\n      value: {\n        read: true,\n        edit: true,\n      },\n      tool: {\n        read: true,\n        edit: true,\n        add: true,\n        remove: true,\n      },\n      configuration: {\n        read: true,\n        write: true,\n      },\n      notifications: {\n        subscribe: true,\n      },\n      clientlogs: {\n        store: true,\n      },\n      file: {\n        read: true,\n        write: true,\n      },\n      machinestate: {\n        set: true,\n      },\n      command: {\n        execute: true,\n      },\n    },\n    usermanagement: {\n      userpermissions: {\n        // currently set to false because default permissions are used as fallback if svobserver has not yet implemented permissions\n        read: false,\n        edit: false,\n      },\n    },\n  },\n};\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport { useIntl } from 'react-intl';\n\nimport closeIcon from '../../assets/icons/close.svg';\n\nimport ActionBar, { ActionBarType } from '../ActionBar';\nimport IconButton from '../buttons/IconButton';\n\nimport './style.scss';\n\ninterface DialogProps {\n  open?: boolean;\n  className?: string;\n  isInView?: boolean;\n  dialogActions?: ActionBarType[];\n  title?: React.ReactNode;\n  onClose?: () => void;\n  isFullscreen?: boolean;\n  isPositionAbsolute?: boolean;\n  isPopup?: boolean;\n}\n\nconst Dialog: React.FC<React.PropsWithChildren<DialogProps>> = ({\n  children,\n  open = false,\n  className,\n  isInView = false,\n  isFullscreen = false,\n  isPopup = false,\n  isPositionAbsolute,\n  title,\n  dialogActions,\n  onClose,\n}) => {\n  const intl = useIntl();\n\n  const dialogClass = classNames({\n    [className ?? '']: !!className,\n    dialog: true,\n    'dialog--open': open,\n    'is-in-view': isInView,\n    'is-position-absolute': isPositionAbsolute,\n  });\n  const dialogWrapperClass = classNames({\n    'dialog-wrapper': true,\n    'is-height-100': isInView || isFullscreen,\n    'is-width-100': isFullscreen,\n    isPopup: isPopup,\n  });\n\n  const dialogContentWrapperClass = classNames({\n    'dialog-content-wrapper': true,\n    'is-padding-0': isInView,\n    isPopup: isPopup,\n  });\n\n  if (!open) {\n    return null;\n  }\n  return (\n    <div className={dialogClass}>\n      <div className={dialogWrapperClass}>\n        <div className=\"dialog-toolbar\">\n          <div className=\"dialog-title\">{title}</div>\n          <div className=\"dialog-controll-wrapper\">\n            <IconButton\n              tooltip={intl.messages['viewSetManager.close']}\n              iconUrl={closeIcon}\n              onClick={onClose}\n            />\n          </div>\n        </div>\n        <div className={dialogContentWrapperClass}>{children}</div>\n        <div className=\"dialog-action-wrapper\">\n          {dialogActions && <ActionBar isViewAction actions={dialogActions} />}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dialog;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\nimport Heading from '../../../../components/typo/Heading';\n\nconst ShortcutListItem = ({ title, description }) => (\n  <li className=\"shortcut-list-item\">\n    <Heading type=\"h3\" intlId={title} />\n    <FormattedMessage id={description} />\n  </li>\n);\n\nexport const propTypes = {\n  title: PropTypes.node.isRequired,\n  description: PropTypes.node.isRequired,\n};\nShortcutListItem.propTypes = propTypes;\n\nexport default ShortcutListItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport shortId from 'shortid';\n\nimport './style.scss';\nimport ShortcutListItem, { propTypes as shortcutListItemPropTypes } from '../ShortcutListItem';\n\nconst ShortcutList = ({ shortcuts }) => (\n  <ul className=\"shortcut-list\">\n    {shortcuts.map((shortcut) => (\n      <ShortcutListItem\n        key={shortId.generate()}\n        title={shortcut.title}\n        description={shortcut.description}\n      />\n    ))}\n  </ul>\n);\n\nShortcutList.propTypes = {\n  shortcuts: PropTypes.arrayOf(PropTypes.shape(shortcutListItemPropTypes)).isRequired,\n};\n\nexport default ShortcutList;\n","const shortcuts = [\n  {\n    title: 'shortcutView.fullscreenTitle',\n    description: 'shortcutView.fullscreenDescription',\n  },\n  {\n    title: 'shortcutView.helpTitle',\n    description: 'shortcutView.helpDescription',\n  },\n];\n\nexport default shortcuts;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport Dialog from '../../components/Dialog';\nimport ShortcutList from './components/ShortcutList';\nimport shortcuts from './shortcuts';\n\nconst ShortcutView = ({ open, onClose }) => (\n  <Dialog title={<FormattedMessage id=\"shortcutView.title\" />} onClose={onClose} open={open}>\n    <ShortcutList shortcuts={shortcuts} />\n  </Dialog>\n);\n\nShortcutView.defaultProps = {\n  open: false,\n};\n\nShortcutView.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default ShortcutView;\n","import Product from './Product';\n\nexport default class ProductHistory {\n  constructor(inspectionId) {\n    this.inspectionId = inspectionId;\n    this.history = [];\n  }\n\n  async addProductData(productData) {\n    const { trigger, isReject } = productData;\n    const entry = this.history.find((e) => e.trigger === trigger);\n    let product = null;\n    if (entry) {\n      product = entry.product;\n    } else {\n      product = new Product({ trigger, isReject, history: this });\n      this.history.push({\n        trigger,\n        product,\n      });\n    }\n\n    await product.addData(productData);\n\n    return product;\n  }\n\n  releaseProduct(trigger) {\n    const entry = this.history.find((entry) => entry.trigger === trigger);\n    if (!entry) {\n      return;\n    }\n\n    const wasReleased = entry.product.releaseImpl();\n    if (wasReleased) {\n      this.history = this.history.filter((e) => e !== entry);\n    }\n  }\n}\n","import ProductHistory from './ProductHistory';\n\nexport default class ProductHistoryManager {\n  constructor() {\n    this.productHistories = new Map();\n  }\n\n  init(inspections) {\n    this.productHistories.clear();\n\n    (inspections || []).forEach((inspection) => {\n      const inspectionId = inspection.id;\n      const history = new ProductHistory(inspectionId);\n      this.productHistories.set(inspectionId, history);\n    });\n  }\n\n  async addProductData(inspectionId, productData) {\n    const productHistory = this.productHistories.get(inspectionId);\n    if (!productHistory) {\n      return undefined;\n    }\n    return await productHistory.addProductData(productData);\n  }\n}\n","import each from 'lodash/each';\nimport logger from '../utils/logger';\nimport Protobuf from './Protobuf';\n\nexport default class InspectionSubscription {\n  constructor({ inspectionId, productHistoryManager, protobuf, paused }) {\n    this.inspectionId = inspectionId;\n    this.productHistoryManager = productHistoryManager;\n    this.protobuf = protobuf;\n    this.lastTrigger = -1;\n    this.subsById = new Map();\n    this.paused = paused;\n    this.selectedTrigger = null;\n    this.baseSub = null;\n  }\n\n  pause() {\n    this.paused = true;\n  }\n\n  resume() {\n    this.paused = false;\n    this.selectedTrigger = null;\n  }\n\n  replayProduct(product) {\n    this.selectedTrigger = product.trigger;\n    this.emitProductToAllSubscriptions(product);\n  }\n\n  addSubscription(id, desc, cb) {\n    const subscription = { id, desc, cb };\n    this.subsById.set(id, subscription);\n\n    const { inspectionId } = desc;\n    if (this.inspectionId !== inspectionId) {\n      throw new Error('Insection id does not match');\n    }\n\n    this.resubscribeToStream();\n  }\n\n  removeSubscription(id) {\n    const subscription = this.subsById.get(id);\n    if (!subscription) {\n      logger.warn({ id }, 'Unable to unsubscribe listener: unknown id');\n      return;\n    }\n\n    this.swapLastProduct(subscription, null);\n\n    this.subsById.delete(id);\n\n    this.resubscribeToStream();\n  }\n\n  isEmpty() {\n    return this.subsById.size === 0;\n  }\n\n  getSubscribedImages() {\n    return this.uniqueIds('imageIds');\n  }\n\n  getSubscribedValues() {\n    return this.uniqueIds('valueIds');\n  }\n\n  setProtobuf(protobuf) {\n    this.protobuf = protobuf;\n    // TODO re-subscribe!\n  }\n\n  resubscribeToStream() {\n    this.unsubscribeFromStream();\n    if (!this.isEmpty()) {\n      this.subscribeToStream();\n    }\n  }\n\n  subscribeToStream() {\n    // TODO generate nonce per subscription so we know whether we get an event for an old sub\n    const params = this.buildReqParams();\n    const req = Protobuf.SvPb.GetProductStreamRequest.create(params);\n    this.baseSub = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onStreamEvent(req, evt),\n      error: (err) => this.onStreamError(err),\n      // TODO: how do we want to report complete event to the client?\n      //       we could return an event emitter...\n      complete: () => logger.debug('Product observable completed'),\n    });\n  }\n\n  buildReqParams() {\n    return {\n      inspectionId: this.inspectionId,\n      startAtTriggerCount: this.getStartAtTriggerCount(),\n      includeFailStatusValues: true,\n      valueIds: this.uniqueIds('valueIds'),\n      imageIds: this.uniqueIds('imageIds'),\n      rejectValueIds: this.uniqueIds('rejectValueIds'),\n      rejectImageIds: this.uniqueIds('rejectImageIds'),\n      rejectsOnly: this.isRejectsOnly(),\n      imageFormat: Protobuf.SvPb.ImageFormatEnum.bmp,\n      includeOverlays: true,\n    };\n  }\n\n  getStartAtTriggerCount() {\n    let startAtTriggerCount = 0;\n    this.subsById.forEach((sub) => {\n      if (\n        !isNaN(sub.desc.startAtTriggerCount) &&\n        sub.desc.startAtTriggerCount < startAtTriggerCount\n      ) {\n        startAtTriggerCount = sub.desc.startAtTriggerCount;\n      }\n    });\n    if (startAtTriggerCount === -1 && this.trigger > 0) {\n      return this.trigger;\n    }\n    return startAtTriggerCount;\n  }\n\n  isRejectsOnly() {\n    let rejectsOnly = true;\n    this.subsById.forEach((sub) => {\n      if (!sub.desc.rejectsOnly) {\n        rejectsOnly = false;\n      }\n    });\n    return rejectsOnly;\n  }\n\n  uniqueIds(key) {\n    const ids = new Set();\n    this.subsById.forEach((sub) => {\n      each(sub.desc[key], (id) => ids.add(id));\n    });\n    return Array.from(ids);\n  }\n\n  unsubscribeFromStream() {\n    if (this.baseSub && this.baseSub.unsubscribe) {\n      this.baseSub.unsubscribe();\n    }\n    this.baseSub = null;\n  }\n\n  async onStreamEvent(req, rawEvent) {\n    const { trigger, isReject } = rawEvent;\n    const images = this.gatherImages(req, rawEvent);\n    const values = this.gatherValues(req, rawEvent);\n\n    const productData = {\n      trigger,\n      isReject,\n      images,\n      values,\n    };\n\n    const product = await this.productHistoryManager.addProductData(this.inspectionId, productData);\n    this.lastTrigger = trigger;\n    this.emitProductToAllSubscriptions(product);\n  }\n\n  gatherImages(req, rawEvent) {\n    const { imageIds, rejectImageIds } = req;\n    const { isReject, images, rejectImages, overlays: overlaysList, rejectOverlays } = rawEvent;\n\n    const result = new Map();\n\n    imageIds.forEach((id, idx) => {\n      const image = (images || [])[idx];\n      const overlays = (overlaysList || [])[idx];\n      if (image) {\n        result.set(id, {\n          id,\n          image,\n          overlays,\n        });\n      }\n    });\n\n    if (isReject) {\n      rejectImageIds.forEach((id, idx) => {\n        const image = (rejectImages || [])[idx];\n        const overlays = (rejectOverlays || [])[idx];\n        if (image) {\n          result.set(id, {\n            id,\n            image,\n            overlays,\n          });\n        }\n      });\n    }\n\n    return result;\n  }\n\n  gatherValues(req, rawEvent) {\n    const { valueIds, rejectValueIds } = req;\n    const { isReject, values, rejectValues } = rawEvent;\n\n    const result = new Map();\n\n    valueIds.forEach((id, idx) => {\n      const value = (values || [])[idx];\n      if (value) {\n        result.set(id, {\n          id,\n          value,\n        });\n      }\n    });\n\n    if (isReject) {\n      rejectValueIds.forEach((id, idx) => {\n        const value = (rejectValues || [])[idx];\n        if (value) {\n          result.set(id, {\n            id,\n            value,\n          });\n        }\n      });\n    }\n\n    return result;\n  }\n\n  emitProductToAllSubscriptions(product) {\n    this.subsById.forEach((subscription) => {\n      this.emitProductToSubscription(subscription, product);\n    });\n  }\n\n  emitProductToSubscription(subscription, product) {\n    const hasRequestedData = this.hasAllRequestedDataForSubscription(product, subscription);\n    const isInterestedIn = this.isInterestedInNewPorduct(product, subscription);\n    if (hasRequestedData && isInterestedIn) {\n      product.lock();\n      subscription.cb({ product });\n      this.swapLastProduct(subscription, product);\n    }\n  }\n\n  hasAllRequestedDataForSubscription(product, subscription) {\n    // if only reject values requested and product is not a reject\n    if (!subscription.desc.imageIds && !subscription.desc.valueIds && !product.isReject) {\n      return false;\n    }\n    return (\n      this.hasDataForSubscriptionInList(subscription.desc.valueIds, product.values) ||\n      this.hasDataForSubscriptionInList(subscription.desc.rejectValueIds, product.values) ||\n      this.hasDataForSubscriptionInList(subscription.desc.imageIds, product.images) ||\n      this.hasDataForSubscriptionInList(subscription.desc.rejectImageIds, product.images)\n    );\n  }\n\n  isInterestedInNewPorduct(product, subscription) {\n    if (this.selectedTrigger) {\n      return this.selectedTrigger === product.trigger;\n    }\n    if (subscription.lastProduct) {\n      return (\n        subscription.desc.allowOldTrigger || subscription.lastProduct.trigger < product.trigger\n      );\n    }\n    return true;\n  }\n\n  hasDataForSubscriptionInList(requestedIds, map) {\n    const arr = requestedIds || [];\n    for (let i = 0; i < arr.length; ++i) {\n      if (!map.has(arr[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  swapLastProduct(subscription, product) {\n    if (subscription.lastProduct && !subscription.desc.manualRelease) {\n      subscription.lastProduct.release();\n    }\n    subscription.lastProduct = product;\n  }\n\n  onStreamError(err) {\n    // TODO: forward err to callback\n    logger.error({ err }, 'Stream error');\n    // TODO: unsubscribe all in case of error!\n  }\n}\n","import logger from '../utils/logger';\nimport InspectionSubscription from './InspectionSubscription';\n\nexport default class SubscriptionManager {\n  constructor({ productHistoryManager }) {\n    this.productHistoryManager = productHistoryManager;\n    this.inspectionIdBySubId = new Map();\n    this.subsByInspectionId = new Map();\n    this.pausedInspectionIds = [];\n    this.protobuf = null;\n  }\n\n  updatePausedInspections(pausedInspectionIds) {\n    this.pausedInspectionIds = pausedInspectionIds;\n    for (let [key, value] of this.subsByInspectionId.entries()) {\n      if (pausedInspectionIds.includes(key)) {\n        value.pause();\n      } else {\n        value.resume();\n      }\n    }\n  }\n\n  replayProduct(inspectionId, product) {\n    const inspection = this.subsByInspectionId.get(inspectionId);\n    if (inspection) {\n      inspection.replayProduct(product);\n    }\n  }\n\n  addSubscription(id, desc, cb) {\n    const { inspectionId, startAtTriggerCount } = desc;\n    this.inspectionIdBySubId.set(id, inspectionId);\n    const isPaused = this.pausedInspectionIds.includes(inspectionId);\n    let subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      subscription = new InspectionSubscription({\n        inspectionId,\n        startAtTriggerCount,\n        productHistoryManager: this.productHistoryManager,\n        paused: isPaused,\n        protobuf: this.protobuf,\n      });\n      this.subsByInspectionId.set(inspectionId, subscription);\n    }\n    subscription.addSubscription(id, desc, cb);\n  }\n\n  removeSubscription(id) {\n    const inspectionId = this.inspectionIdBySubId.get(id);\n    if (!inspectionId) {\n      logger.warn({ id }, 'Unable to unsubscribe listener: unknown id');\n      return;\n    }\n\n    const subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      logger.warn({ id }, 'Unable to unsubscribe listener: unknown inspection id');\n      return;\n    }\n\n    subscription.removeSubscription(id);\n\n    if (subscription.isEmpty()) {\n      this.subsByInspectionId.delete(inspectionId);\n    }\n  }\n\n  getSubscribedImages(inspectionId) {\n    const subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      return [];\n    }\n    return subscription.getSubscribedImages();\n  }\n\n  getSubscribedValues(inspectionId) {\n    const subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      return [];\n    }\n    return subscription.getSubscribedValues();\n  }\n\n  setProtobuf(protobuf) {\n    this.protobuf = protobuf;\n    this.subsByInspectionId.forEach((subscription) => subscription.setProtobuf(protobuf));\n  }\n}\n","import { Key } from 'react';\nimport { useIntl } from 'react-intl';\nimport shortId from 'shortid';\nimport { TOGGLE_BUTTON, SEPARATOR } from '../../types/ActionBarType';\nimport IconButton from '../buttons/IconButton';\nimport { ToggleButton } from '../buttons/ToggleButton';\n\nimport './style.scss';\n\nexport interface ActionBarType {\n  id?: Key;\n  intlId: string;\n  onClickHandler: () => void;\n  iconUrl: string;\n  enabled?: boolean;\n  type?: typeof TOGGLE_BUTTON | typeof SEPARATOR;\n  showAlternative?: boolean;\n  intlIdAlternative?: string;\n  iconUrlAlternative?: string;\n  onClickHandlerAlternative?: () => void;\n}\n\ninterface ActionBarProps {\n  actions: ActionBarType[];\n  isViewAction?: boolean;\n}\n\nconst ActionBar = ({ actions, isViewAction = false }: ActionBarProps) => {\n  const intl = useIntl();\n\n  return (\n    <div\n      className=\"action-bar-wrapper\"\n      style={{ position: isViewAction ? 'absolute' : 'relative' }}\n    >\n      {actions &&\n        actions.map((action) => {\n          if (action && action.type === SEPARATOR) {\n            return (\n              <div className=\"action-bar-separator\" key={`separator_${shortId.generate()}`}>\n                <div className=\"separator\"></div>\n              </div>\n            );\n          }\n          if (action && action.type === TOGGLE_BUTTON) {\n            return (\n              <ToggleButton\n                key={action.id}\n                id={action.id}\n                intlId={action.intlId}\n                iconUrl={action.iconUrl}\n                enabled={action.enabled}\n                onClickHandler={action.onClickHandler}\n                intlIdAlternative={action.intlIdAlternative}\n                iconUrlAlternative={action.iconUrlAlternative}\n                onClickHandlerAlternative={action.onClickHandlerAlternative}\n                showAlternative={action.showAlternative}\n              />\n            );\n          }\n\n          return (\n            <IconButton\n              key={action.intlId}\n              tooltip={intl.messages[`${action.intlId}` as never]}\n              onClick={() => {\n                action.onClickHandler();\n              }}\n              iconUrl={action.iconUrl}\n              enabled={action.enabled}\n            />\n          );\n        })}\n    </div>\n  );\n};\n\nexport default ActionBar;\n","const AUTH_TOKEN_KEY = 'svAuthToken';\nconst USER_KEY = 'svObserverUser';\nexport const CONFIG_INFO = 'configInfo';\nexport const CONFIGURATION_CHUNK_TEMPLATE = 'configChunk_';\nexport const CONFIGURATION_CHUNK_LIST = 'configChunkList';\nexport const INSPECTION_TOOLSET_MAPPINGS = 'inspectionToolsetMappings';\n\nexport const loadUserInfoFromStorage = () => {\n  const authToken = localStorage.getItem(AUTH_TOKEN_KEY);\n  if (!authToken) {\n    return {};\n  }\n\n  const userStr = localStorage.getItem(USER_KEY);\n  let user;\n  try {\n    user = JSON.parse(userStr);\n  } catch (e) {\n    return {};\n  }\n\n  if (!user) {\n    return {};\n  }\n\n  return { authToken, user };\n};\n\nexport const removeAllUserInfoFromStorage = () => {\n  localStorage.removeItem(AUTH_TOKEN_KEY);\n  localStorage.removeItem(USER_KEY);\n  localStorage.removeItem(CONFIG_INFO);\n  localStorage.removeItem(CONFIGURATION_CHUNK_LIST);\n};\n\nexport const saveUserInfoToStorage = (authToken, user) => {\n  localStorage.setItem(AUTH_TOKEN_KEY, authToken);\n  localStorage.setItem(USER_KEY, JSON.stringify(user));\n};\n","export default __webpack_public_path__ + \"static/media/edit.962e7af9.svg\";","import { useEffect, useRef, useState } from 'react';\nimport { Select, OutlinedInput, InputLabel, FormControl, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  input: {\n    height: 37,\n    fontSize: '1.4rem',\n  },\n  select: {\n    paddingTop: 0,\n    paddingBottom: 0,\n    fontSize: '1.4rem',\n  },\n  label: {\n    transform: 'translate(14px, 11px) scale(1)',\n    fontSize: '1.4rem',\n  },\n}));\n\ninterface OutlinedSelectionProps {\n  id?: string;\n  name?: string | any;\n  labels?: string[];\n  values: string[];\n  selectedValue: any;\n  onSelectionChanged?: (selection: Record<string, unknown>) => void;\n  disabled?: boolean;\n}\n\nexport const OutlinedSelection = ({\n  values,\n  labels,\n  selectedValue,\n  name = '',\n  id = '',\n  onSelectionChanged,\n  disabled,\n}: OutlinedSelectionProps) => {\n  const classes = useStyles();\n  const inputLabelRef = useRef<HTMLLabelElement>(null);\n\n  const [labelWidth, setLabelWidth] = useState(0);\n\n  useEffect(() => {\n    if (inputLabelRef.current) {\n      setLabelWidth(inputLabelRef.current.offsetWidth);\n    }\n  }, []);\n\n  return (\n    <FormControl variant=\"outlined\" style={{ width: '100%' }} disabled={disabled}>\n      <InputLabel htmlFor={id} ref={inputLabelRef} classes={{ outlined: classes.label }}>\n        {name}\n      </InputLabel>\n      <Select\n        native\n        value={selectedValue || ''}\n        onChange={(e) => onSelectionChanged?.({ [id]: e.target.value })}\n        classes={{ root: classes.input }}\n        input={\n          <OutlinedInput\n            name={name}\n            labelWidth={labelWidth}\n            id={id}\n            classes={{ input: classes.select }}\n          />\n        }\n      >\n        {!disabled &&\n          values.map((name, counter) => {\n            return (\n              <option value={name} key={id + counter}>\n                {(labels || values)[counter]}\n              </option>\n            );\n          })}\n      </Select>\n    </FormControl>\n  );\n};\n","const de = {\n  // TopNavigation\n  \"topNavigation.language.german\": \"Deutsch\",\n  \"topNavigation.language.english\": \"Englisch\",\n  \"topNavigation.language.spanish\": \"Spanisch\",\n  \"topNavigation.lock\": \"Sperre\",\n  \"topNavigation.takeover\": \"Übernahme\",\n  \"topNavigation.release\": \"Freigabe\",\n  \"topNavigation.logout\": \"Abmelden\",\n  \"topNavigation.help\": \"Hilfe\",\n  \"topNavigation.about\": \"Info\",\n  \"topNavigation.shortcut\": \"Shortcut\",\n  \"topNavigation.download\": \"SVO-Konfiguration herunterladen\",\n  \"topNavigation.upload\": \"SVO-Konfiguration hochladen\",\n  \"topNavigation.inspectionState\": \"Inspektionsstatus ({runningInspections} von {numberOfInspections} aktiv)\",\n  \"topNavigation.permissions\": \"Rechte\",\n  \"topNavigation.saveConfig\": \"Konfiguration speichern\",\n  \"topNavigation.pauseAllInspections\": \"Alle Inspektionen anhalten\",\n  \"topNavigation.resumeAllInspections\": \"Alle Inspektionen fortsetzen\",\n\n  // there is a auto mapping in utils/modes.js\n  \"editMode\": \"Bearbeitungsmodus\",\n  \"unknownMode\": \"Unbekannter Modus\",\n  \"runMode\": \"Run-Modus\",\n  \"stopMode\": \"Stopp-Modus\",\n  \"regressionMode\": \"Regressionsmodus\",\n  \"testMode\": \"Testmodus\",\n\n  // LockStateHandler\n  \"lockStateHandler.alertDialog.lockAlreadyLocked\": \"Konfigurationssperre bereits gehalten von: {user}\",\n  \"lockStateHandler.alertDialog.lockDescription\": \"Beschreibung für Sperre: {description}\",\n  \"lockStateHandler.alertDialog.waitingForTakeoverResponse\": \"Warte auf Antwort von: {user}\",\n  \"lockStateHandler.alertDialog.waitingForResponseInfo\": \"Der aktuelle Halter der Konfigurationssperre wurde über Ihre Anfrage informiert und hat nun 30 Sekunden, um zu antworten. Wenn bis dahin keine Antwort eingeht, übernehmen Sie automatisch die Sperre.\",\n  \"lockStateHandler.alertDialog.ownerRejectedTakeover\": \"{user} hat die Übernahme der Konfigurationssperre abgelehnt.\",\n  \"lockStateHandler.alertDialog.takeoverAttempt\": \"{user} möchte die Konfigurationssperre übernehmen.\",\n  \"lockStateHandler.alertDialog.takeoverMessage\": \"Übernahmenachricht: {message}\",\n  \"lockStateHandler.formDialog.lockConfigRequestTitle\": \"Anforderung zur Konfigurationssperre\",\n  \"lockStateHandler.formDialog.takeoverConfigRequestTitle\": \"Anforderung zur Konfigurationsübernahme\",\n  \"lockStateHandler.formDialog.lockConfigRequestContent\": \"Um die Konfiguration zu sperren oder zu übernehmen, geben Sie alle Details ein. SVOGateway sendet gelegentlich Updates.\",\n  \"lockStateHandler.formDialog.lockScope\": \"Umfang der Sperre\",\n  \"lockStateHandler.formDialog.lockTimeout\": \"Time-out für Sperre\",\n  \"lockStateHandler.formDialog.lockDescription\": \"Beschreibung für Sperre\",\n  \"lockStateHandler.formDialog.takeoverRequest\": \"Anfrage zur Übernahme\",\n  \"lockStateHandler.formDialog.takeoverMessage\": \"Übernahmenachricht\",\n\n  // ImageStrip\n  \"imageStripView.inspectionTemplate\": \"{inspectionName} Filmstreifen\",\n  \"imageStripView.play\": \"Play\",\n  \"imageStripView.pause\": \"Pause\",\n\n  // InputTool\n  \"inputToolView.inspectionTemplate\": \"{inspectionName} Eingabe-Tool\",\n  \"inputToolView.edit\": \"Bearbeitungsansicht öffnen\",\n  \"inputToolView.showList\": \"Liste anzeigen\",\n  \"inputToolView.backToList\": \"Zurück zur Liste\",\n  \"inputToolView.type\": \"Typ\",\n  \"inputToolView.numberEditor\": \"Zahleneditor\",\n  \"inputToolView.colorEditor\": \"Farbeneditor\",\n  \"inputToolView.setValue\": \"Wert setzen\",\n  \"inputToolView.valueSetSuccess\": \"Wert wurde gesetzt\",\n\n  // ListView\n  \"listView\": \"Liste\",\n  \"listView.inspectionTemplate\": \"{inspectionName} Liste\",\n  \"listView.AliasEditor.title\": \"Alias für Pfadnamen setzen\",\n  \"listView.Actionbar.hideAliases\": \"Alias ausblenden\",\n  \"listView.Actionbar.showAliases\": \"Alias anzeigen\",\n  \"listView.AliasEditor.dottedName\": \"Pfadname\",\n  \"listView.AliasEditor.value\": \"Wert\",\n  \"listView.AliasEditor.button\": \"Speichern\",\n\n  // HelpView\n  \"helpView\": \"Hilfe\",\n\n  // AboutView\n  \"aboutView\": \"Über\",\n  \"aboutView.applicationName\": \"Name der Applikation:\",\n  \"aboutView.applicationVersion\": \"Version der Applikation:\",\n  \"aboutView.svoVersion\": \"SVObserver-Version:\",\n  \"aboutView.gatewayVersion\": \"Gateway-Version:\",\n\n  // ViewTypeSelection\n  \"viewTypeSelection.imageStripView\": \"Filmstreifen\",\n  \"viewTypeSelection.imageView\": \"Bild\",\n  \"viewTypeSelection.parameterView\": \"Parameter\",\n  \"viewTypeSelection.ListView\": \"Liste\",\n  \"viewTypeSelection.toolset\": \"Tool-Set\",\n  \"viewTypeSelection.inputTool\": \"Input-Tool\",\n  \"viewTypeSelection.back\": \"Zurück\",\n  \"viewTypeSelection.cancel\": \"Abbrechen\",\n  \"viewTypeSelection.chooseViewTooltip\": \"View-Typ wählen\",\n  \"viewTypeSelection.selectViewType\": \"Wählen Sie einen Typ für diese View:\",\n\n  // InspectionSelection\n  \"inspectionSelection.selectInspection\": \"Wählen Sie eine Inspektion für diese View:\",\n\n  // ParameterView / Overlay\n  \"parameterview.overlay.delete\": \"Löschen\",\n  \"parameterview.overlay.add\": \"Hinzufügen\",\n  \"parameterview.overlay.showAll\": \"Alle anzeigen\",\n  \"parameterview.overlay.hideAll\": \"Alle ausblenden\",\n  \"parameterview.overlay.parameters\": \"Overlay-Parameter\",\n  \"parameterview.overlay.label\": \"Beschriftung\",\n  \"parameterview.overlay.x\": \"X\",\n  \"parameterview.overlay.xVariable\": \"X-Variable\",\n  \"parameterview.overlay.offsetLeft\": \"Offset links\",\n  \"parameterview.overlay.offsetLeftVariable\": \"Variable für Offset links\",\n  \"parameterview.overlay.y\": \"Y\",\n  \"parameterview.overlay.yVariable\": \"Y-Variable\",\n  \"parameterview.overlay.offsetTop\": \"Offset oben\",\n  \"parameterview.overlay.offsetTopVariable\": \"Variable für Offset oben\",\n  \"parameterview.overlay.width\": \"Breite\",\n  \"parameterview.overlay.widthVariable\": \"Breiten-Variable\",\n  \"parameterview.overlay.height\": \"Höhe\",\n  \"parameterview.overlay.heightVariable\": \"Höhen-Variable\",\n  \"parameterview.overlay.color\": \"Farbe\",\n  \"parameterview.overlay.colorVariable\": \"Farben-Variable\",\n  \"parameterview.overlay.lineStyle\": \"Linienart\",\n\n  // ImageView\n  \"imageView.inspectionTemplate\": \"{inspectionName} Bild\",\n  \"imageView.zoomIn\": \"Hineinzommen\",\n  \"imageView.zoomOut\": \"Herauszommen\",\n  \"imageView.fitToWidth\": \"An Breite anpassen\",\n  \"imageView.fitToHeight\": \"An Höhe anpassen\",\n  \"imageView.saveWithOverlays\": \"Bild mit Overlays herunterladen\",\n  \"imageView.overlayListToggle\": \"Overlay-Liste\",\n  \"imageView.imageInfoToggle\": \"Bildinfo\",\n  \"imageView.save\": \"Bild herunterladen\",\n  \"imageView.showOverlays\": \"Overlays einblenden\",\n  \"imageView.hideOverlays\": \"Overlays ausblenden\",\n  \"imageView.info\": \"Info\",\n  \"imageView.width\": \"Breite:\",\n  \"imageView.height\": \"Höhe:\",\n  \"imageView.x\": \"X:\",\n  \"imageView.y\": \"Y:\",\n\n  // ParameterView\n  \"parameterView\": \"Parameter\",\n  \"parameterView.inspectionTemplate\": \"{inspectionName} Parameter\",\n\n  // ToolsetView\n  \"toolsetView.inspectionTemplate\": \"{inspectionName} Tool–Set\",\n  \"toolsetView.confirmDelete\": \"Möchten Sie {toolName} wirklich löschen? Dieser Vorgang kann nicht rückgängig gemacht werden.\",\n  \"toolsetView.validate\": \"Bestätigen\",\n  \"toolsetView.validateSelection\": \"Auswahl bestätigen\",\n  \"toolsetView.validatedFormula\": \"Validierte Formel\",\n  \"toolsetView.savingSuccess\": \"Die Änderungen wurden gespeichert\",\n  \"toolsetView.value\": \"Wert\",\n  \"toolsetView.link\": \"Link\",\n  \"toolsetView.formula\": \"Formel\",\n  \"toolsetView.selectLinkedValue\": \"Verknüpften Wert wählen\",\n  \"toolsetView.highlightedNode\": \"Hervorgehobener Knoten\",\n  \"toolsetView.evaluatedValue\": \"Evaluierter Wert\",\n  \"toolsetView.undoAll\": \"Alles rückgängig machen\",\n  \"toolsetView.validating\": \"Validierung\",\n  \"toolsetView.validationSuccess\": \"Validierungserfolg\",\n  \"toolsetView.validationError\": \"Validierungsfehler\",\n  \"toolsetView.result\": \"Ergebnis\",\n  \"toolsetView.buttons.addLinkedValue\": \"Fügen Sie verknüpften Wert hinzu\",\n  \"toolsetView.buttons.delete\": \"Delete\",\n\n  // AboutView\n  \"aboutView.title\": \"Über \",\n\n  // ViewSet Manager\n  \"viewSetManager\": \"View-Set-Manager\",\n  \"viewSetManager.title\": \"View-Set-Manager\",\n  \"viewSetManager.viewSetName\": \"Name\",\n  \"viewSetManager.remove\": \"Entfernen\",\n  \"viewSetManager.save\": \"Alle View-Sets speichern\",\n  \"viewSetManager.close\": \"Schließen\",\n  \"viewSetManager.editViewSetHeadline\": \"View-Sets bearbeiten:\",\n  \"viewSetManager.newViewSet\": \"Neues View-Set erstellen\",\n  \"viewSetManager.editViewSetName\": \"View-Set-Namen bearbeiten\",\n  \"viewSetManager.changeViewSetName\": \"View-Set-Namen ändern\",\n  \"viewSetManager.apply\": \"Änderungen übernehmen\",\n  \"viewSetManager.export\": \"Aktuelles View-Layout exportieren\",\n  \"viewSetManager.import\": \"View-Layout aus Datei importieren\",\n  \"viewSetManager.importConfirm.title\": \"View-Set überschreiben\",\n  \"viewSetManager.importConfirm.message\": \"Durch Importieren eines View-Sets aus einer Datei wird Ihr bestehendes View-Set überschrieben. Möchten Sie fortfahren?\",\n  \"viewSetManager.deleteConfirm.message\": \"Möchten Sie das View-Set {viewsetName} wirklich löschen?\",\n  \"viewSetManager.deleteIconTooltip\": \"View-Set löschen\",\n\n  // ShortcutView\n  \"shortcutView.title\": \"Shortcuts\",\n  \"shortcutView.fullscreenTitle\": \"Vollbild\",\n  \"shortcutView.fullscreenDescription\": \"Fokussieren Sie eine View und drücken Sie STRG-F\",\n  \"shortcutView.helpTitle\": \"Hilfe\",\n  \"shortcutView.helpDescription\": \"Fokussieren Sie eine View und drücken Sie F1\",\n\n  // Notifications\n  \"notifications.modeSwitch.userSwitchedModeTo\": \"Der Benutzer hat den Modus geändert zu:\",\n  \"notifications.websocket.connectionEstablished\": \"Websocket-Verbindung hergestellt auf Port:\",\n  \"notifications.websocket.connectionLost\": \"Websocket-Verbindung verloren\",\n  \"notifications.userSwitchedLanguage\": \"Der Benutzer hat die Sprache geändert zu: \",\n  \"notifications.rejectStreamPaused\": \"Reject-Stream wurde angehalten\",\n  \"notifications.rejectStreamResumed\": \"Reject-Stream wurde wieder aufgenommen\",\n  \"notifications.checkSvimOutput\": \"Bitte Ausgabe am SVIM prüfen\",\n  \"notifications.incompatibilityWarning\": \"Die ausgewählte Konfiguration ist möglicherweise nicht mit der aktuellen WebApp kompatibel\",\n  \"notifications.errorOccurred\": \"Ein Fehler ist aufgetreten\",\n  \"notifications.error.loadingFile\": \"Daten aus der Datei konnten nicht geladen werden.\",\n  \"notifications.successfulAction\": \"Erfolgreiche Aktion\",\n  \"notifications.successfullyLoadedFile\": \"View-Set wurde erfolgreich aus der Datei geladen.\",\n  \"notifications.viewsetVersionIncompatibleTitle\": \"Dateiversion inkompatibel\",\n  \"notifications.viewsetVersionIncompatibleMessage\": \"Die Dateiversion ist inkompatibel. Das View-Set kann nicht geladen werden.\",\n  \"notifications.minorVersionDiffTitle\": \"Unterschied in Minor-Version\",\n  \"notifications.minorVersionDiffMessage\": \"Minor-Version in Anwendung und Datei unterschiedlich. Das View-Set wird unter Umständen falsch dargestellt werden.\",\n  \"notifications.variableValueShouldBeInTheRange\": \"Der Wert der Variable {variableName} sollte im Bereich {range} liegen.\",\n  \"notifications.configAlreadyLockedBySameUser\": \"Sie haben die Konfiguration bereits gesperrt!\",\n  \"notifications.takeoverCandidateNotFound\": \"Übernahmekandidat konnte nicht gefunden werden! Sie besitzen weiterhin die Konfigurationssperre.\",\n  \"notifications.lockTakeoverError\": \"Fehler bei Übernahme der Konfigurationssperre! Fehler-Code: {code}\",\n  \"notifications.lockAcquisitionError\": \"Fehler bei Anforderung der Konfigurationssperre! Fehler-Code: {code}\",\n\n  // ListView\n  \"listView.save\": \"Speichern\",\n  \"listView.name\": \"Name\",\n  \"listView.aliasName\": \"Alias/Name\",\n  \"listView.values\": \"Werte\",\n\n  // Object selector\n  \"objectSelector.select\": \"Objekte wählen:\",\n  \"objectSelector.limitReached\": \"(Limit von {items_number} Objekten erreicht)\",\n\n  // SVOView\n  \"svoView.emptyViewInspectionTemplate\": \"{inspectionName}\",\n  \"svoView.closeView\": \"View schließen\",\n  \"svoView.closeViewConfirmation\": \"Möchten Sie diese View wirklich schließen?\",\n\n  \"ok\": \"OK\",\n  \"cancel\": \"Abbrechen\",\n  \"submit\": \"Senden\",\n  \"close\": \"Schließen\",\n  \"accept\": \"Annehmen\",\n  \"reject\": \"Ablehnen\",\n  \"milliseconds\": \"Millisekunden\",\n  \"noConfigName\": \"[Keine Konfiguration]\",\n  \"unknownConfigName\": \"[Unbekannte Konfiguration]\",\n  \"noConfigLoaded\": \"Keine Konfiguration im SVObserver geladen\",\n  \"up\": \"Zurück\",\n  \"down\": \"Vor\",\n  \"save\": \"Speichern\",\n  \"copy\": \"Kopieren\",\n  \"cut\": \"Ausschneiden\",\n  \"paste\": \"Einfügen\",\n  \"delete\": \"Löschen\",\n  \"undo\": \"Rückgängig\",\n  \"expandAll\": \"Alles aufklappen\",\n  \"collapseAll\": \"Alles einklappen\",\n\n  // Permissions\n  \"permissions.backToWebApp\": \"Zurück zur WebApp\",\n  \"permissions.helpText\": \"Sie können die aufgelisteten Rechte für die jeweilige Gruppe (Spalte) anpassen. Rechte der Gruppe Common werden allen anderen Gruppen zugeordnet. Die Rechte haben möglicherweise Auswirkungen auf die WebApp und/oder den SVObserver.\",\n  \"permissions.permissions\": \"Rechte\",\n  \"permissions.permissionManagement\": \"Rechte-Verwaltung\",\n  \"permissions.description\": \"Beschreibung\",\n\n  // Permission descriptions\n  \"permissionDescription.webapp.configuration.save\": \"Der Nutzer kann die aktuelle Konfiguration mit allen View-Sets speichern\",\n  \"permissionDescription.webapp.logs.read\": \"Der Nutzer kann Logs in der oberen Navigationsleiste sehen\",\n  \"permissionDescription.webapp.viewset.add\": \"Der Nutzer kann neue View-Sets hinzufügen\",\n  \"permissionDescription.webapp.viewset.read\": \"Der Nutzer kann View-Sets sehen (zwischen View-Sets wechseln, View-Set-Manager öffnen)\",\n  \"permissionDescription.webapp.viewset.edit\": \"Der Nutzer kann View-Sets sehen und bearbeiten (Größe der Views ändern, neue Views zu View-Sets hinzufügen, zwischen View-Sets wechseln, View-Set-Manager öffnen, View-Sets umbenennen)\",\n  \"permissionDescription.webapp.viewset.remove\": \"Der Nutzer kann ein View-Set entfernen\",\n  \"permissionDescription.webapp.view[type=AnyView].add\": \"Der Nutzer kann Views aller Typen hinzufügen\",\n  \"permissionDescription.webapp.view[type=AnyView].read\": \"Der Nutzer kann Views aller Typen anzeigen\",\n  \"permissionDescription.webapp.view[type=AnyView].edit\": \"Der Nutzer kann Views aller Typen anzeigen und bearbeiten\",\n  \"permissionDescription.webapp.view[type=AnyView].remove\": \"Der Nutzer kann Views aller Typen entfernen\",\n  \"permissionDescription.webapp.view[type=ImageView].add\": \"Der Nutzer kann Views des Typs Bild hinzufügen\",\n  \"permissionDescription.webapp.view[type=ImageView].read\": \"Der Nutzer kann Views des Typs Bilds anzeigen (auch Bilder herunterladen, Liste eigener Overlays anzeigen, Bildinfo anzeigen)\",\n  \"permissionDescription.webapp.view[type=ImageView].edit\": \"Der Nutzer kann Views des Typs Bilds anzeigen und bearbeiten (Inspektion und Tool auswählen, Größe des Bildes ändern, Bilder herunterladen, Liste eigener Overlays anzeigen, Bildinfo anzeigen)\",\n  \"permissionDescription.webapp.view[type=ImageView].remove\": \"Der Nutzer kann Views des Typs Bild entfernen\",\n  \"permissionDescription.webapp.view[type=ListView].add\": \"Der Nutzer kann Views des Typs Liste hinzufügen\",\n  \"permissionDescription.webapp.view[type=ListView].read\": \"Der Nutzer kann Views des Typs Liste anzeigen\",\n  \"permissionDescription.webapp.view[type=ListView].edit\": \"Der Nutzer kann Views des Typs Liste anzeigen und bearbeiten (Inspektion und Tool wählen, Alias bearbeiten)\",\n  \"permissionDescription.webapp.view[type=ListView].remove\": \"Der Nutzer kann Views des Typs Liste entfernen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].add\": \"Der Nutzer kann Views des Typs Filmstreifen hinzufügen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].read\": \"Der Nutzer kann Views des Typs Filmstreifen anzeigen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].edit\": \"Der Nutzer kann Views des Typs Filmstreifen anzeigen und bearbeiten (Inspektion und Tool wählen)\",\n  \"permissionDescription.webapp.view[type=ImageStripView].remove\": \"Der Nutzer kann Views des Typs Filmstreifen entfernen\",\n  \"permissionDescription.webapp.view[type=ParameterView].add\": \"Der Nutzer kann Views des Typs Parameter hinzufügen\",\n  \"permissionDescription.webapp.view[type=ParameterView].read\": \"Der Nutzer kann Views des Typs Parameter anzeigen\",\n  \"permissionDescription.webapp.view[type=ParameterView].edit\": \"Der Nutzer kann Views des Typs Parameter anzeigen und bearbeiten (eigene Overlays hinzufügen, bearbeiten, löschen)\",\n  \"permissionDescription.webapp.view[type=ParameterView].remove\": \"Der Nutzer kann Views des Typs Parameter entfernen\",\n  \"permissionDescription.webapp.view[type=ToolSetView].add\": \"Der Nutzer kann Views des Typs Tool-Set hinzufügen\",\n  \"permissionDescription.webapp.view[type=ToolSetView].read\": \"Der Nutzer kann Views des Typs Tool-Set anzeigen\",\n  \"permissionDescription.webapp.view[type=ToolSetView].edit\": \"Der Nutzer kann Views des Typs Tool-Set anzeigen und bearbeiten\",\n  \"permissionDescription.webapp.view[type=ToolSetView].remove\": \"Der Nutzer kann Views des Typs Tool-Set entfernen\",\n  \"permissionDescription.svobserver.mode.read\": \"Der Nutzer kann den aktuellen Modus des SVObserver in der oberen Navigationsleiste sehen\",\n  \"permissionDescription.svobserver.mode.edit\": \"Der Nutzer kann den aktuellen Modus des SVObserver in der oberen Navigationsleiste sehen und ändern\",\n  \"permissionDescription.svobserver.inspectionstate.read\": \"Der Nutzer kann den Inspektionsstatus aller Inspektionen in der oberen Navigationsleiste sehen\",\n  \"permissionDescription.svobserver.inspectionstate.edit\": \"Der Nutzer kann den Inspektionsstatus aller Inspektionen in der oberen Navigationsleiste sehen und ändern sowie den Status in der Filmstreifen-View wechseln\",\n  \"permissionDescription.svobserver.value.read\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Werte zu sehen\",\n  \"permissionDescription.svobserver.value.edit\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Werte zu bearbeiten\",\n  \"permissionDescription.svobserver.tool.add\": \"SVObserver prüft, ob der Nutzer berechtigt ist, neue Tools hinzuzufügen\",\n  \"permissionDescription.svobserver.tool.read\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Tools zu lesen\",\n  \"permissionDescription.svobserver.tool.edit\": \"SVObserver prüft, ob der Nutzer berechtigt ist, bestehende Tools zu bearbeiten\",\n  \"permissionDescription.svobserver.tool.remove\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Tools zu entfernen\",\n  \"permissionDescription.svobserver.configuration.read\": \"SVObserver prüft, ob der Nutzer berechtigt ist, die SVObserver-Konfiguration zu lesen\",\n  \"permissionDescription.svobserver.configuration.write\": \"SVObserver prüft, ob der Nutzer berechtigt ist, die SVObserver-Konfiguration zu speichern\",\n  \"permissionDescription.svobserver.notifications.subscribe\": \"SVObserver prüft, ob der Nutzer berechtigt ist, SVObserver-Benachrichtigungen zu abonnieren\",\n  \"permissionDescription.svobserver.clientlogs.store\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Client-Logs an SVObserver zu senden\",\n  \"permissionDescription.svobserver.file.read\": \"SVObserver prüft, ob der Nutzer berechtigt ist, beliebige Dateien im Ordner SVIM RUN zu lesen\",\n  \"permissionDescription.svobserver.file.write\": \"SVObserver prüft, ob der Nutzer berechtigt ist, beliebige Dateien im Ordner SVIM RUN zu schreiben\",\n  \"permissionDescription.svobserver.machinestate.set\": \"SVObserver prüft, ob der Nutzer berechtigt ist, den Maschinenstatus zu setzen (Herunterfahren oder Neustart des SVIM)\",\n  \"permissionDescription.svobserver.command.execute\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Befehle auszuführen\",\n  \"permissionDescription.usermanagement.userpermissions.read\": \"Der Nutzer kann Gruppenrechte aus dem Backend laden/das Menü für die Rechteverwaltung sehen/alle Rechte in Rechteverwaltung sehen\",\n  \"permissionDescription.usermanagement.userpermissions.edit\": \"Der Nutzer kann Gruppenrechte aus dem Backend laden/das Menü für die Rechteverwaltung sehen/alle Rechte in Rechteverwaltung sehen/Rechte ändern\",\n\n  // Debugger\n  \"debugger.title\": \"Debugger\",\n  \"debugger.backToWebApp\": \"Zurück zur WebApp\",\n  \"debugger.requestsListHeader\": \"Anforderungsliste\",\n  \"debugger.noParametersMessage\": \"Diese Anforderung hat keine Parameter\",\n  \"debugger.noItemsMessage\": \"(keine Items)\",\n  \"debugger.nothingToConfigureMessage\": \"(nichts zu konfigurieren)\",\n  \"debugger.addItemButtonText\": \"Hinzufügen\",\n  \"debugger.sendRequest\": \"Anfrage senden\",\n  \"debugger.noFilteredResultsMessage\": \"Keine gefilterten Ergebnisse\",\n  \"debugger.copyToClipboard\": \"In die Zwischenablage kopieren\",\n\n  // Toolset\n  \"toolsetView.windowTool\": \"Fenster-Tool\",\n  \"toolsetView.mathTool\": \"Mathe-Tool\",\n  \"toolsetView.statisticsTool\": \"Statistik-Tool\",\n  \"toolsetView.ringBufferTool\": \"Ringspeicher-Tool\",\n  \"toolsetView.archiveTool\": \"Archiv-Tool\",\n  \"toolsetView.acquisitionTool\": \"Aufnahme-Tool\",\n  \"toolsetView.transformationTool\": \"Transformations-Tool\",\n  \"toolsetView.shiftTool\": \"Verschiebe-Tool\",\n  \"toolsetView.cylindricalWarpTool\": \"Tool für zylindrisches Warping\",\n  \"toolsetView.perspectiveTool\": \"Perspektive-Tool\",\n  \"toolsetView.imageTool\": \"Bild-Tool\",\n  \"toolsetView.linearTool\": \"Linear-Tool\",\n  \"toolsetView.colorTool\": \"Farben-Tool\",\n  \"toolsetView.resizeTool\": \"Tool zur Größenänderung\",\n  \"toolsetView.loadImageTool\": \"Tool zum Laden von Bildern\",\n  \"toolsetView.tableTool\": \"Tabellen-Tool\",\n  \"toolsetView.tableAnalyzerTool\": \"Tabellenanalyse-Tool\",\n  \"toolsetView.polarTransformationTool\": \"Polar-Transformations-Tool\",\n  \"toolsetView.loopTool\": \"Loop-Tool\",\n  \"toolsetView.externalTool\": \"Externes Tool\",\n  \"toolsetView.groupTool\": \"Gruppen-Tool\",\n};\n\nexport default de;\n","const en = {\n  // TopNavigation\n  \"topNavigation.language.german\": \"German\",\n  \"topNavigation.language.english\": \"English\",\n  \"topNavigation.language.spanish\": \"Spanish\",\n  \"topNavigation.lock\": \"Lock\",\n  \"topNavigation.takeover\": \"Takeover\",\n  \"topNavigation.release\": \"Release\",\n  \"topNavigation.logout\": \"Logout\",\n  \"topNavigation.help\": \"Help\",\n  \"topNavigation.about\": \"Info\",\n  \"topNavigation.shortcut\": \"Shortcut\",\n  \"topNavigation.download\": \"Download SVO configuration\",\n  \"topNavigation.upload\": \"Upload SVO configuration\",\n  \"topNavigation.inspectionState\": \"Inspection state ({runningInspections} of {numberOfInspections} running)\",\n  \"topNavigation.permissions\": \"Permissions\",\n  \"topNavigation.saveConfig\": \"Save config\",\n  \"topNavigation.pauseAllInspections\": \"Pause all inspections\",\n  \"topNavigation.resumeAllInspections\": \"Resume all inspections\",\n\n  // there is a auto mapping in utils/modes.js\n  \"editMode\": \"Edit Mode\",\n  \"unknownMode\": \"Unknown mode\",\n  \"runMode\": \"Run Mode\",\n  \"stopMode\": \"Stop Mode\",\n  \"regressionMode\": \"Regression Mode\",\n  \"testMode\": \"Test Mode\",\n\n  // LockStateHandler\n  \"lockStateHandler.alertDialog.lockAlreadyLocked\": \"Configuration lock is already owned by: {user}\",\n  \"lockStateHandler.alertDialog.lockDescription\": \"Lock description: {description}\",\n  \"lockStateHandler.alertDialog.waitingForTakeoverResponse\": \"Waiting for response from: {user}\",\n  \"lockStateHandler.alertDialog.waitingForResponseInfo\": \"Current configuration lock owner has been notified of your request and has 30 seconds to respond from now on. If there is no response until then, you will automatically takeover the lock.\",\n  \"lockStateHandler.alertDialog.ownerRejectedTakeover\": \"{user} rejected the configuration lock takeover\",\n  \"lockStateHandler.alertDialog.takeoverAttempt\": \"{user} wants like to take over configuration lock\",\n  \"lockStateHandler.alertDialog.takeoverMessage\": \"Takeover message: {message}\",\n  \"lockStateHandler.formDialog.lockConfigRequestTitle\": \"Lock configuration request\",\n  \"lockStateHandler.formDialog.takeoverConfigRequestTitle\": \"Takeover configuration request\",\n  \"lockStateHandler.formDialog.lockConfigRequestContent\": \"To lock or takeover the configuration, please enter all details here. SVOGateway will send updates occasionally.\",\n  \"lockStateHandler.formDialog.lockScope\": \"Lock scope\",\n  \"lockStateHandler.formDialog.lockTimeout\": \"Lock timeout\",\n  \"lockStateHandler.formDialog.lockDescription\": \"Lock description\",\n  \"lockStateHandler.formDialog.takeoverRequest\": \"Takeover request\",\n  \"lockStateHandler.formDialog.takeoverMessage\": \"Takeover message\",\n\n  // ImageStrip\n  \"imageStripView.inspectionTemplate\": \"{inspectionName} Image Strip\",\n  \"imageStripView.play\": \"Play\",\n  \"imageStripView.pause\": \"Pause\",\n\n  // InputTool\n  \"inputToolView.inspectionTemplate\": \"{inspectionName} Input Tool\",\n  \"inputToolView.edit\": \"Open edit view\",\n  \"inputToolView.showList\": \"Show list\",\n  \"inputToolView.backToList\": \"Back to list\",\n  \"inputToolView.type\": \"Type\",\n  \"inputToolView.numberEditor\": \"Number editor\",\n  \"inputToolView.colorEditor\": \"Color editor\",\n  \"inputToolView.setValue\": \"Set value\",\n  \"inputToolView.valueSetSuccess\": \"Value has been set\",\n\n  // ListView\n  \"listView\": \"List\",\n  \"listView.inspectionTemplate\": \"{inspectionName} List\",\n  \"listView.AliasEditor.title\": \"Set alias for dotted name\",\n  \"listView.Actionbar.hideAliases\": \"Hide aliases\",\n  \"listView.Actionbar.showAliases\": \"Show aliases\",\n  \"listView.AliasEditor.dottedName\": \"Dotted name\",\n  \"listView.AliasEditor.value\": \"Value\",\n  \"listView.AliasEditor.button\": \"Save\",\n\n  // HelpView\n  \"helpView\": \"Help\",\n\n  // AboutView\n  \"aboutView\": \"About\",\n  \"aboutView.applicationName\": \"Application name:\",\n  \"aboutView.applicationVersion\": \"Application version:\",\n  \"aboutView.svoVersion\": \"SVObserver version:\",\n  \"aboutView.gatewayVersion\": \"Gateway version:\",\n\n  // ViewTypeSelection\n  \"viewTypeSelection.imageStripView\": \"Image Strip\",\n  \"viewTypeSelection.imageView\": \"Image\",\n  \"viewTypeSelection.parameterView\": \"Parameter\",\n  \"viewTypeSelection.ListView\": \"List\",\n  \"viewTypeSelection.toolset\": \"Tool Set\",\n  \"viewTypeSelection.inputTool\": \"Input tool\",\n  \"viewTypeSelection.back\": \"Back\",\n  \"viewTypeSelection.cancel\": \"Cancel\",\n  \"viewTypeSelection.chooseViewTooltip\": \"Choose view type\",\n  \"viewTypeSelection.selectViewType\": \"Select a type for this view:\",\n\n  // InspectionSelection\n  \"inspectionSelection.selectInspection\": \"Select an inspection for this view:\",\n\n  // ParameterView / Overlay\n  \"parameterview.overlay.delete\": \"Delete\",\n  \"parameterview.overlay.add\": \"Add\",\n  \"parameterview.overlay.showAll\": \"Show all\",\n  \"parameterview.overlay.hideAll\": \"Hide all\",\n  \"parameterview.overlay.parameters\": \"Overlay parameters\",\n  \"parameterview.overlay.label\": \"Label\",\n  \"parameterview.overlay.x\": \"X\",\n  \"parameterview.overlay.xVariable\": \"X Variable\",\n  \"parameterview.overlay.offsetLeft\": \"Offset Left\",\n  \"parameterview.overlay.offsetLeftVariable\": \"Offset Left Variable\",\n  \"parameterview.overlay.y\": \"Y\",\n  \"parameterview.overlay.yVariable\": \"Y Variable\",\n  \"parameterview.overlay.offsetTop\": \"Offset Top\",\n  \"parameterview.overlay.offsetTopVariable\": \"Offset Top Variable\",\n  \"parameterview.overlay.width\": \"Width\",\n  \"parameterview.overlay.widthVariable\": \"Width Variable\",\n  \"parameterview.overlay.height\": \"Height\",\n  \"parameterview.overlay.heightVariable\": \"Height Variable\",\n  \"parameterview.overlay.color\": \"Color\",\n  \"parameterview.overlay.colorVariable\": \"Color Variable\",\n  \"parameterview.overlay.lineStyle\": \"Line Style\",\n\n  // ImageView\n  \"imageView.inspectionTemplate\": \"{inspectionName} Image\",\n  \"imageView.zoomIn\": \"Zoom in\",\n  \"imageView.zoomOut\": \"Zoom out\",\n  \"imageView.fitToWidth\": \"Fit to width\",\n  \"imageView.fitToHeight\": \"Fit to height\",\n  \"imageView.saveWithOverlays\": \"Download image with overlays\",\n  \"imageView.overlayListToggle\": \"Overlay list\",\n  \"imageView.imageInfoToggle\": \"Image info\",\n  \"imageView.save\": \"Download image\",\n  \"imageView.showOverlays\": \"Show overlays\",\n  \"imageView.hideOverlays\": \"Hide overlays\",\n  \"imageView.info\": \"Info\",\n  \"imageView.width\": \"Width:\",\n  \"imageView.height\": \"Height:\",\n  \"imageView.x\": \"X:\",\n  \"imageView.y\": \"Y:\",\n\n  // ParameterView\n  \"parameterView\": \"Parameter\",\n  \"parameterView.inspectionTemplate\": \"{inspectionName} Parameter\",\n\n  // ToolsetView\n  \"toolsetView.inspectionTemplate\": \"{inspectionName} Tool Set\",\n  \"toolsetView.confirmDelete\": \"Do you really want to delete {toolName}? This cannot be undone.\",\n  \"toolsetView.validate\": \"Validate\",\n  \"toolsetView.validateSelection\": \"Validate selection\",\n  \"toolsetView.validatedFormula\": \"Validated formula\",\n  \"toolsetView.savingSuccess\": \"Changes have been saved\",\n  \"toolsetView.value\": \"Value\",\n  \"toolsetView.link\": \"Link\",\n  \"toolsetView.formula\": \"Formula\",\n  \"toolsetView.selectLinkedValue\": \"Select linked value\",\n  \"toolsetView.highlightedNode\": \"Highlighted node\",\n  \"toolsetView.evaluatedValue\": \"Evaluated value\",\n  \"toolsetView.undoAll\": \"Undo all\",\n  \"toolsetView.validating\": \"Validating\",\n  \"toolsetView.validationSuccess\": \"Validation success\",\n  \"toolsetView.validationError\": \"Validation error\",\n  \"toolsetView.result\": \"Result\",\n  \"toolsetView.buttons.addLinkedValue\": \"Add linked value\",\n  \"toolsetView.buttons.delete\": \"Delete\",\n\n  // AboutView\n  \"aboutView.title\": \"About \",\n\n  // ViewSet Manager\n  \"viewSetManager\": \"View Set Manager\",\n  \"viewSetManager.title\": \"View Set Manager\",\n  \"viewSetManager.viewSetName\": \"Name\",\n  \"viewSetManager.remove\": \"Remove\",\n  \"viewSetManager.save\": \"Save all view sets\",\n  \"viewSetManager.close\": \"Close\",\n  \"viewSetManager.editViewSetHeadline\": \"Edit view sets:\",\n  \"viewSetManager.newViewSet\": \"Create new view set\",\n  \"viewSetManager.editViewSetName\": \"Edit view set name\",\n  \"viewSetManager.changeViewSetName\": \"Change view set name\",\n  \"viewSetManager.apply\": \"Apply changes\",\n  \"viewSetManager.export\": \"Export current view layout\",\n  \"viewSetManager.import\": \"Import a view layout from file\",\n  \"viewSetManager.importConfirm.title\": \"Overwriting view set\",\n  \"viewSetManager.importConfirm.message\": \"Importing a view set from file will overwrite your existing viewset. Do you want to continue?\",\n  \"viewSetManager.deleteConfirm.message\": \"Do you really want to delete view set {viewsetName}?\",\n  \"viewSetManager.deleteIconTooltip\": \"Delete view set\",\n\n  // ShortcutView\n  \"shortcutView.title\": \"Shortcuts\",\n  \"shortcutView.fullscreenTitle\": \"Full screen\",\n  \"shortcutView.fullscreenDescription\": \"Focus a view and press CTRL-F\",\n  \"shortcutView.helpTitle\": \"Help\",\n  \"shortcutView.helpDescription\": \"Focus a view and press F1\",\n\n  // Notifications\n  \"notifications.modeSwitch.userSwitchedModeTo\": \"User switched mode to:\",\n  \"notifications.websocket.connectionEstablished\": \"Websocket connection established on port:\",\n  \"notifications.websocket.connectionLost\": \"Websocket connection lost\",\n  \"notifications.userSwitchedLanguage\": \"User switched language to: \",\n  \"notifications.rejectStreamPaused\": \"Reject stream was paused\",\n  \"notifications.rejectStreamResumed\": \"Reject stream was resumed\",\n  \"notifications.checkSvimOutput\": \"Please check output on SVIM\",\n  \"notifications.incompatibilityWarning\": \"Selected config might not be compatible with the current WebApp\",\n  \"notifications.errorOccurred\": \"An error occurred\",\n  \"notifications.error.loadingFile\": \"Could not load data from file.\",\n  \"notifications.successfulAction\": \"Successful action\",\n  \"notifications.successfullyLoadedFile\": \"Successfully loaded viewset from file.\",\n  \"notifications.viewsetVersionIncompatibleTitle\": \"File version incompatible\",\n  \"notifications.viewsetVersionIncompatibleMessage\": \"The file version is incompatible. Can not load viewset.\",\n  \"notifications.minorVersionDiffTitle\": \"Minor version differs\",\n  \"notifications.minorVersionDiffMessage\": \"Minor version differs between application and file. The presentation of the viewset might be incorrect.\",\n  \"notifications.variableValueShouldBeInTheRange\": \"Value of the variable {variableName} should be in the range of {range}.\",\n  \"notifications.configAlreadyLockedBySameUser\": \"You have already locked the configuration!\",\n  \"notifications.takeoverCandidateNotFound\": \"Could not find takeover candidate! You still own the config lock.\",\n  \"notifications.lockTakeoverError\": \"Error while perfroming config lock takeover! Error code: {code}\",\n  \"notifications.lockAcquisitionError\": \"Error while requesting config lock! Error code : {code}\",\n\n  // ListView\n  \"listView.save\": \"Save\",\n  \"listView.name\": \"Name\",\n  \"listView.aliasName\": \"Alias/Name\",\n  \"listView.values\": \"Values\",\n\n  // Object selector\n  \"objectSelector.select\": \"Select objects:\",\n  \"objectSelector.limitReached\": \"(Selection limit of {items_number} items reached)\",\n\n  // SVOView\n  \"svoView.emptyViewInspectionTemplate\": \"{inspectionName}\",\n  \"svoView.closeView\": \"Close view\",\n  \"svoView.closeViewConfirmation\": \"Do you really want to close this view?\",\n\n  \"ok\": \"OK\",\n  \"cancel\": \"Cancel\",\n  \"submit\": \"Submit\",\n  \"close\": \"Close\",\n  \"accept\": \"Accept\",\n  \"reject\": \"Reject\",\n  \"milliseconds\": \"milliseconds\",\n  \"noConfigName\": \"[No configuration]\",\n  \"unknownConfigName\": \"[Unknown configuration]\",\n  \"noConfigLoaded\": \"No configuration loaded in SVObserver\",\n  \"up\": \"Up\",\n  \"down\": \"Down\",\n  \"save\": \"Save\",\n  \"copy\": \"Copy\",\n  \"cut\": \"Cut\",\n  \"paste\": \"Paste\",\n  \"delete\": \"Delete\",\n  \"undo\": \"Undo\",\n  \"expandAll\": \"Expand all\",\n  \"collapseAll\": \"Collapse all\",\n\n  // Permissions\n  \"permissions.backToWebApp\": \"Back to WebApp\",\n  \"permissions.helpText\": \"You can change the listed permissions for each group (column). Common permissions are applied to all other groups. Permissions may have effect on the WebApp and/or the SVObserver.\",\n  \"permissions.permissions\": \"Permissions\",\n  \"permissions.permissionManagement\": \"Permission Management\",\n  \"permissions.description\": \"Description\",\n\n  // Permission descriptions\n  \"permissionDescription.webapp.configuration.save\": \"User can save the current configuration with all view sets\",\n  \"permissionDescription.webapp.logs.read\": \"User can see logs in top navigation bar\",\n  \"permissionDescription.webapp.viewset.add\": \"User can add new view sets\",\n  \"permissionDescription.webapp.viewset.read\": \"User can see view sets (switch between view sets, open View Set Manager)\",\n  \"permissionDescription.webapp.viewset.edit\": \"User can see and edit view sets (change size of views, add new views to view set, switch between view sets, open View Set Manager, rename view sets)\",\n  \"permissionDescription.webapp.viewset.remove\": \"User can remove a view set\",\n  \"permissionDescription.webapp.view[type=AnyView].add\": \"User can add views of any type\",\n  \"permissionDescription.webapp.view[type=AnyView].read\": \"User can see views of any type\",\n  \"permissionDescription.webapp.view[type=AnyView].edit\": \"User can see and edit views of any type\",\n  \"permissionDescription.webapp.view[type=AnyView].remove\": \"User can remove views of any type\",\n  \"permissionDescription.webapp.view[type=ImageView].add\": \"User can add views of type Image\",\n  \"permissionDescription.webapp.view[type=ImageView].read\": \"User can see views of type Image (also download image, see custom overlay list, see image info)\",\n  \"permissionDescription.webapp.view[type=ImageView].edit\": \"User can see and edit views of type Image (choose inspection and tool, change size of image, download image, see custom overlay list, see image info)\",\n  \"permissionDescription.webapp.view[type=ImageView].remove\": \"User can remove views of type Image\",\n  \"permissionDescription.webapp.view[type=ListView].add\": \"User can add views of type List\",\n  \"permissionDescription.webapp.view[type=ListView].read\": \"User can see views of type List\",\n  \"permissionDescription.webapp.view[type=ListView].edit\": \"User can see and edit views of type List (choose inspection and tool, edit aliases)\",\n  \"permissionDescription.webapp.view[type=ListView].remove\": \"User can remove views of type List\",\n  \"permissionDescription.webapp.view[type=ImageStripView].add\": \"User can add views of type Image Strip\",\n  \"permissionDescription.webapp.view[type=ImageStripView].read\": \"User can see views of type Image Strip\",\n  \"permissionDescription.webapp.view[type=ImageStripView].edit\": \"User can see and edit views of type Image Strip (choose inspection and tool)\",\n  \"permissionDescription.webapp.view[type=ImageStripView].remove\": \"User can remove views of type Image Strip\",\n  \"permissionDescription.webapp.view[type=ParameterView].add\": \"User can add views of type Parameter\",\n  \"permissionDescription.webapp.view[type=ParameterView].read\": \"User can see views of type Parameter\",\n  \"permissionDescription.webapp.view[type=ParameterView].edit\": \"User can see and edit views of type Parameter (add/edit/delete custom overlays)\",\n  \"permissionDescription.webapp.view[type=ParameterView].remove\": \"User can remove views of type Parameter\",\n  \"permissionDescription.webapp.view[type=ToolSetView].add\": \"User can add views of type Tool Set\",\n  \"permissionDescription.webapp.view[type=ToolSetView].read\": \"User can see views of type Tool Set\",\n  \"permissionDescription.webapp.view[type=ToolSetView].edit\": \"User can see and edit views of type Tool Set\",\n  \"permissionDescription.webapp.view[type=ToolSetView].remove\": \"User can remove views of type Tool Set\",\n  \"permissionDescription.svobserver.mode.read\": \"User can see the current mode of SVObserver in top navigation bar\",\n  \"permissionDescription.svobserver.mode.edit\": \"User can see and change the current mode of SVObserver in top navigation bar\",\n  \"permissionDescription.svobserver.inspectionstate.read\": \"User can see the inspection state of all inspections in the top navigation bar\",\n  \"permissionDescription.svobserver.inspectionstate.edit\": \"User can see and change the inspection state of all inspections in the top navigation bar and toggle the state in Image Strip View\",\n  \"permissionDescription.svobserver.value.read\": \"SVObserver checks if user is allowed to see values\",\n  \"permissionDescription.svobserver.value.edit\": \"SVObserver checks if user is allowed to edit values\",\n  \"permissionDescription.svobserver.tool.add\": \"SVObserver checks if user is allowed to add new tools\",\n  \"permissionDescription.svobserver.tool.read\": \"SVObserver checks if user is allowed to read tools\",\n  \"permissionDescription.svobserver.tool.edit\": \"SVObserver checks if user is allowed to edit existing tools\",\n  \"permissionDescription.svobserver.tool.remove\": \"SVObserver checks if user is allowed to remove tools\",\n  \"permissionDescription.svobserver.configuration.read\": \"SVObserver checks if user is allowed to read the SVObserver configuration\",\n  \"permissionDescription.svobserver.configuration.write\": \"SVObserver checks if user is allowed to save the SVObserver configuration\",\n  \"permissionDescription.svobserver.notifications.subscribe\": \"SVObserver checks if user is allowed to subscribe to SVObserver notifications\",\n  \"permissionDescription.svobserver.clientlogs.store\": \"SVObserver checks if user is allowed to send client logs to the SVObserver\",\n  \"permissionDescription.svobserver.file.read\": \"SVObserver checks if user is allowed to read arbitrary files in SVIM RUN folder\",\n  \"permissionDescription.svobserver.file.write\": \"SVObserver checks if user is allowed to write arbitrary files in SVIM RUN folder\",\n  \"permissionDescription.svobserver.machinestate.set\": \"SVObserver checks if user is allowed to set the machine state (shutdown or restart of SVIM)\",\n  \"permissionDescription.svobserver.command.execute\": \"SVObserver checks if user is allowed to execute commands\",\n  \"permissionDescription.usermanagement.userpermissions.read\": \"User can load group permissions from backend/can see menu entry to switch to permission management page/can see all permissions in permission management\",\n  \"permissionDescription.usermanagement.userpermissions.edit\": \"User can load group permissions from backend/can see menu entry to switch to permission management page/can see all permissions in permission management/can edit permissions\",\n\n  // Debugger\n  \"debugger.title\": \"Debugger\",\n  \"debugger.backToWebApp\": \"Back to WebApp\",\n  \"debugger.requestsListHeader\": \"Request list\",\n  \"debugger.noParametersMessage\": \"This request has no parameters\",\n  \"debugger.noItemsMessage\": \"(no items)\",\n  \"debugger.nothingToConfigureMessage\": \"(nothing to configure)\",\n  \"debugger.addItemButtonText\": \"Add\",\n  \"debugger.sendRequest\": \"Send request\",\n  \"debugger.noFilteredResultsMessage\": \"No filtered results\",\n  \"debugger.copyToClipboard\": \"Copy to clipboard\",\n\n  // Toolset\n  \"toolsetView.windowTool\": \"Window Tool\",\n  \"toolsetView.mathTool\": \"Math Tool\",\n  \"toolsetView.statisticsTool\": \"Statistics Tool\",\n  \"toolsetView.ringBufferTool\": \"Ring Buffer Tool\",\n  \"toolsetView.archiveTool\": \"Archive Tool\",\n  \"toolsetView.acquisitionTool\": \"Acquisition Tool\",\n  \"toolsetView.transformationTool\": \"Transformation Tool\",\n  \"toolsetView.shiftTool\": \"Shift Tool\",\n  \"toolsetView.cylindricalWarpTool\": \"Cylindrical Warp Tool\",\n  \"toolsetView.perspectiveTool\": \"Perspective Tool\",\n  \"toolsetView.imageTool\": \"Image Tool\",\n  \"toolsetView.linearTool\": \"Linear Tool\",\n  \"toolsetView.colorTool\": \"Color Tool\",\n  \"toolsetView.resizeTool\": \"Resize Tool\",\n  \"toolsetView.loadImageTool\": \"Load Image Tool\",\n  \"toolsetView.tableTool\": \"Table Tool\",\n  \"toolsetView.tableAnalyzerTool\": \"Table Analyzer Tool\",\n  \"toolsetView.polarTransformationTool\": \"Polar Transformation Tool\",\n  \"toolsetView.loopTool\": \"Loop Tool\",\n  \"toolsetView.externalTool\": \"External Tool\",\n  \"toolsetView.groupTool\": \"Group Tool\",\n};\n\nexport default en;\n\n","const es = {\n  // TopNavigation\n  \"topNavigation.language.german\": \"Alemán\",\n  \"topNavigation.language.english\": \"Inglés\",\n  \"topNavigation.language.spanish\": \"Español\",\n  \"topNavigation.lock\": \"Bloquear\",\n  \"topNavigation.takeover\": \"Tomar el control\",\n  \"topNavigation.release\": \"Liberar\",\n  \"topNavigation.logout\": \"Cerrar sesión\",\n  \"topNavigation.help\": \"Ayuda\",\n  \"topNavigation.about\": \"Información\",\n  \"topNavigation.shortcut\": \"Atajo de teclado\",\n  \"topNavigation.download\": \"Descargar configuración SVO\",\n  \"topNavigation.upload\": \"Cargar configuración SVO\",\n  \"topNavigation.inspectionState\": \"Estado de inspección ({runningInspections} de {numberOfInspections} en curso)\",\n  \"topNavigation.permissions\": \"Permisos\",\n  \"topNavigation.saveConfig\": \"Guardar configuración\",\n  \"topNavigation.pauseAllInspections\": \"Detener todas las inspecciones\",\n  \"topNavigation.resumeAllInspections\": \"Reanudar todas las inspecciones\",\n\n  // there is a auto mapping in utils/modes.js\n  \"editMode\": \"Modo de edición\",\n  \"unknownMode\": \"Modo desconocido\",\n  \"runMode\": \"Modo de ejecución\",\n  \"stopMode\": \"Modo de parada\",\n  \"regressionMode\": \"Modo de regresión\",\n  \"testMode\": \"Modo de prueba\",\n\n  // LockStateHandler\n  \"lockStateHandler.alertDialog.lockAlreadyLocked\": \"El bloqueo de la configuración ya está a cargo de: {user}\",\n  \"lockStateHandler.alertDialog.lockDescription\": \"Descripción de bloqueo: {description}\",\n  \"lockStateHandler.alertDialog.waitingForTakeoverResponse\": \"Esperando respuesta de: {user}\",\n  \"lockStateHandler.alertDialog.waitingForResponseInfo\": \"El propietario del bloqueo de configuración actual ha recibido su solicitud y dispone de 30 segundos para responder a partir de ahora. Si no recibe respuesta transcurrido ese tiempo, usted asumirá automáticamente el control del bloqueo.\",\n  \"lockStateHandler.alertDialog.ownerRejectedTakeover\": \"{user} rechazó tomar el control del bloqueo de configuración\",\n  \"lockStateHandler.alertDialog.takeoverAttempt\": \"{user} desea tomar el control del bloqueo de configuración\",\n  \"lockStateHandler.alertDialog.takeoverMessage\": \"Mensaje de toma de control: {message}\",\n  \"lockStateHandler.formDialog.lockConfigRequestTitle\": \"Solicitud de bloqueo de configuración\",\n  \"lockStateHandler.formDialog.takeoverConfigRequestTitle\": \"Solicitud de toma de control de configuración\",\n  \"lockStateHandler.formDialog.lockConfigRequestContent\": \"Para bloquear o tomar el control de la configuración, introduzca aquí todos los detalles. SVOGateway enviará actualizaciones de forma ocasional.\",\n  \"lockStateHandler.formDialog.lockScope\": \"Ámbito de bloqueo\",\n  \"lockStateHandler.formDialog.lockTimeout\": \"Bloquear tiempo excedido\",\n  \"lockStateHandler.formDialog.lockDescription\": \"Bloquear descripción\",\n  \"lockStateHandler.formDialog.takeoverRequest\": \"Consulta de toma de control\",\n  \"lockStateHandler.formDialog.takeoverMessage\": \"Mensaje de toma de control\",\n\n  // ImageStrip\n  \"imageStripView.inspectionTemplate\": \"Franja de imagen {inspectionName}\",\n  \"imageStripView.play\": \"Reproducir\",\n  \"imageStripView.pause\": \"Pausar\",\n\n  // InputTool\n  \"inputToolView.inspectionTemplate\": \"{inspectionName} Herramienta de entradas\",\n  \"inputToolView.edit\": \"Abrir editar ver\",\n  \"inputToolView.showList\": \"Mostrar lista\",\n  \"inputToolView.backToList\": \"Volver a la lista\",\n  \"inputToolView.type\": \"Tipo\",\n  \"inputToolView.numberEditor\": \"Editor de número\",\n  \"inputToolView.colorEditor\": \"Editor de color\",\n  \"inputToolView.setValue\": \"Establecer valor\",\n  \"inputToolView.valueSetSuccess\": \"Se ha establecido el valor\",\n\n  // ListView\n  \"listView\": \"Lista\",\n  \"listView.inspectionTemplate\": \"Lista {inspectionName}\",\n  \"listView.AliasEditor.title\": \"Configurar alias para el nombre con puntos\",\n  \"listView.Actionbar.hideAliases\": \"Ocultar los alias\",\n  \"listView.Actionbar.showAliases\": \"Mostrar los alias\",\n  \"listView.AliasEditor.dottedName\": \"Nombre con puntos\",\n  \"listView.AliasEditor.value\": \"Valor\",\n  \"listView.AliasEditor.button\": \"Guardar\",\n\n  // HelpView\n  \"helpView\": \"Ayuda\",\n\n  // AboutView\n  \"aboutView\": \"Información relacionada\",\n  \"aboutView.applicationName\": \"Nombre de la aplicación:\",\n  \"aboutView.applicationVersion\": \"Versión de la aplicación:\",\n  \"aboutView.svoVersion\": \"Versión de SVObserver:\",\n  \"aboutView.gatewayVersion\": \"Versión del Gateway:\",\n\n  // ViewTypeSelection\n  \"viewTypeSelection.imageStripView\": \"Franja de la imagen\",\n  \"viewTypeSelection.imageView\": \"Imagen\",\n  \"viewTypeSelection.parameterView\": \"Parámetro\",\n  \"viewTypeSelection.ListView\": \"Lista\",\n  \"viewTypeSelection.toolset\": \"Conjunto de herramientas\",\n  \"viewTypeSelection.inputTool\": \"Herramienta de entradas\",\n  \"viewTypeSelection.back\": \"Atrás\",\n  \"viewTypeSelection.cancel\": \"Cancelar\",\n  \"viewTypeSelection.chooseViewTooltip\": \"Seleccionar tipo de visualización\",\n  \"viewTypeSelection.selectViewType\": \"Seleccionar un tipo para esta visualización:\",\n\n  // InspectionSelection\n  \"inspectionSelection.selectInspection\": \"Seleccionar una inspección para esta visualización:\",\n\n  // ParameterView / Overlay\n  \"parameterview.overlay.delete\": \"Borrar\",\n  \"parameterview.overlay.add\": \"Añadir\",\n  \"parameterview.overlay.showAll\": \"Mostrar todo\",\n  \"parameterview.overlay.hideAll\": \"Ocultar todo\",\n  \"parameterview.overlay.parameters\": \"Parámetros de superposición\",\n  \"parameterview.overlay.label\": \"Etiqueta\",\n  \"parameterview.overlay.x\": \"X\",\n  \"parameterview.overlay.xVariable\": \"Variable X\",\n  \"parameterview.overlay.offsetLeft\": \"Desplazamiento izquierda\",\n  \"parameterview.overlay.offsetLeftVariable\": \"Variable Desplazamiento izquierda\",\n  \"parameterview.overlay.y\": \"Y\",\n  \"parameterview.overlay.yVariable\": \"Variable Y\",\n  \"parameterview.overlay.offsetTop\": \"Desplazamiento arriba\",\n  \"parameterview.overlay.offsetTopVariable\": \"Variable Desplazamiento arriba\",\n  \"parameterview.overlay.width\": \"Anchura\",\n  \"parameterview.overlay.widthVariable\": \"Variable Anchura\",\n  \"parameterview.overlay.height\": \"Altura\",\n  \"parameterview.overlay.heightVariable\": \"Variable Altura\",\n  \"parameterview.overlay.color\": \"Color\",\n  \"parameterview.overlay.colorVariable\": \"Variable Color\",\n  \"parameterview.overlay.lineStyle\": \"Estilo de línea\",\n\n  // ImageView\n  \"imageView.inspectionTemplate\": \"Imagen {inspectionName}\",\n  \"imageView.zoomIn\": \"Acercar\",\n  \"imageView.zoomOut\": \"Alejar\",\n  \"imageView.fitToWidth\": \"Ajustar a la anchura\",\n  \"imageView.fitToHeight\": \"Ajustar a la altura\",\n  \"imageView.saveWithOverlays\": \"Descargar imagen con superposiciones\",\n  \"imageView.overlayListToggle\": \"Lista de superposiciones\",\n  \"imageView.imageInfoToggle\": \"Información de imágenes\",\n  \"imageView.save\": \"Descargar imagen\",\n  \"imageView.showOverlays\": \"Mostrar superposiciones\",\n  \"imageView.hideOverlays\": \"Ocultar superposiciones\",\n  \"imageView.info\": \"Información\",\n  \"imageView.width\": \"Anchura:\",\n  \"imageView.height\": \"Altura:\",\n  \"imageView.x\": \"X:\",\n  \"imageView.y\": \"Y:\",\n\n  // ParameterView\n  \"parameterView\": \"Parámetro\",\n  \"parameterView.inspectionTemplate\": \"Parámetro {inspectionName}\",\n\n  // ToolsetView\n  \"toolsetView.inspectionTemplate\": \"Conjunto de herramientas {inspectionName}\",\n  \"toolsetView.confirmDelete\": \"¿Realmente desea eliminar {toolName}? Esta acción es irreversible.\",\n  \"toolsetView.validate\": \"Validar\",\n  \"toolsetView.validateSelection\": \"Validar selección\",\n  \"toolsetView.validatedFormula\": \"Fórmula validada\",\n  \"toolsetView.savingSuccess\": \"Se han guardado los cambios\",\n  \"toolsetView.value\": \"Valor\",\n  \"toolsetView.link\": \"Vincular\",\n  \"toolsetView.formula\": \"Fórmula\",\n  \"toolsetView.selectLinkedValue\": \"Seleccionar valor vinculado\",\n  \"toolsetView.highlightedNode\": \"Nodo resaltado\",\n  \"toolsetView.evaluatedValue\": \"Valor evaluado\",\n  \"toolsetView.undoAll\": \"Deshacer todo\",\n  \"toolsetView.validating\": \"Validando\",\n  \"toolsetView.validationSuccess\": \"Validación correcta\",\n  \"toolsetView.validationError\": \"Error de validación\",\n  \"toolsetView.result\": \"Resultado\",\n  \"toolsetView.buttons.addLinkedValue\": \"Agregar valor vinculado\",\n  \"toolsetView.buttons.delete\": \"Delete\",\n\n  // AboutView\n  \"aboutView.title\": \"Información relacionada \",\n\n  // ViewSet Manager\n  \"viewSetManager\": \"Gestor de conjuntos de visualización\",\n  \"viewSetManager.title\": \"Gestor de conjuntos de visualización\",\n  \"viewSetManager.viewSetName\": \"Nombre\",\n  \"viewSetManager.remove\": \"Eliminar\",\n  \"viewSetManager.save\": \"Guardar todos los conjuntos de visualización\",\n  \"viewSetManager.close\": \"Cerrar\",\n  \"viewSetManager.editViewSetHeadline\": \"Editar los conjuntos de visualización:\",\n  \"viewSetManager.newViewSet\": \"Crear nuevo conjunto de visualización\",\n  \"viewSetManager.editViewSetName\": \"Editar el nombre del conjunto de visualización\",\n  \"viewSetManager.changeViewSetName\": \"Cambiar el nombre del conjunto de visualización\",\n  \"viewSetManager.apply\": \"Aplicar cambios\",\n  \"viewSetManager.export\": \"Exportación del diseño actual de visualización\",\n  \"viewSetManager.import\": \"Importar un diseño de visualización del archivo\",\n  \"viewSetManager.importConfirm.title\": \"Sobrescribir un conjunto de visualización\",\n  \"viewSetManager.importConfirm.message\": \"Al importar un conjunto de visualización del archivo se sobrescribirá su conjunto de visualización existente. ¿Desea continuar?\",\n  \"viewSetManager.deleteConfirm.message\": \"¿Realmente desea eliminar el conjunto de visualización {viewsetName}?\",\n  \"viewSetManager.deleteIconTooltip\": \"Borrar el conjunto de visualización\",\n\n  // ShortcutView\n  \"shortcutView.title\": \"Atajos de teclado\",\n  \"shortcutView.fullscreenTitle\": \"Pantalla completa\",\n  \"shortcutView.fullscreenDescription\": \"Centrar una visualización y pulsar CTRL-F\",\n  \"shortcutView.helpTitle\": \"Ayuda\",\n  \"shortcutView.helpDescription\": \"Centrar una visualización y pulsar F1\",\n\n  // Notifications\n  \"notifications.modeSwitch.userSwitchedModeTo\": \"El usuario cambió el modo a:\",\n  \"notifications.websocket.connectionEstablished\": \"Conexión WebSocket establecida en el puerto:\",\n  \"notifications.websocket.connectionLost\": \"Conexión WebSocket perdida\",\n  \"notifications.userSwitchedLanguage\": \"El usuario cambió el idioma a: \",\n  \"notifications.rejectStreamPaused\": \"Se ha pausado la corriente de desecho\",\n  \"notifications.rejectStreamResumed\": \"Se ha reiniciado la corriente de desecho\",\n  \"notifications.checkSvimOutput\": \"Compruebe la salida en SVIM\",\n  \"notifications.incompatibilityWarning\": \"La configuración seleccionada puede que no sea compatible con la WebApp actual\",\n  \"notifications.errorOccurred\": \"Se ha producido un error\",\n  \"notifications.error.loadingFile\": \"No se han podido cargar los datos del archivo.\",\n  \"notifications.successfulAction\": \"Acción realizada correctamente\",\n  \"notifications.successfullyLoadedFile\": \"El conjunto de visualización se ha cargado correctamente desde el archivo.\",\n  \"notifications.viewsetVersionIncompatibleTitle\": \"Versión del archivo incompatible\",\n  \"notifications.viewsetVersionIncompatibleMessage\": \"La versión del archivo es incompatible. No se puede cargar el conjunto de visualización.\",\n  \"notifications.minorVersionDiffTitle\": \"Diferencias en la versión secundaria\",\n  \"notifications.minorVersionDiffMessage\": \"La versión secundaria difiere entre la aplicación y el archivo. La presentación del conjunto de visualización puede ser incorrecta.\",\n  \"notifications.variableValueShouldBeInTheRange\": \"El valor de la variable {variableName} debería estar en el rango de {range}.\",\n  \"notifications.configAlreadyLockedBySameUser\": \"Ya ha bloqueado la configuración!\",\n  \"notifications.takeoverCandidateNotFound\": \"No se ha podido encontrar el candidato para la toma de control! Aún está a cargo del bloqueo de la configuración.\",\n  \"notifications.lockTakeoverError\": \"Error al ejecutar la toma de control del bloqueo de la configuración! Código de error: {code}\",\n  \"notifications.lockAcquisitionError\": \"Error al solicitar el bloqueo de configuración Código de error: {code}\",\n\n  // ListView\n  \"listView.save\": \"Guardar\",\n  \"listView.name\": \"Nombre\",\n  \"listView.aliasName\": \"Alias/Nombre\",\n  \"listView.values\": \"Valores\",\n\n  // Object selector\n  \"objectSelector.select\": \"Seleccionar objetos:\",\n  \"objectSelector.limitReached\": \"(Se ha alcanzado el límite de selección de {items_number} elementos)\",\n\n  // SVOView\n  \"svoView.emptyViewInspectionTemplate\": \"{inspectionName}\",\n  \"svoView.closeView\": \"Cerrar visualización\",\n  \"svoView.closeViewConfirmation\": \"¿Seguro que desea cerrar esta visualización?\",\n\n  \"ok\": \"OK\",\n  \"cancel\": \"Cancelar\",\n  \"submit\": \"Enviar\",\n  \"close\": \"Cerrar\",\n  \"accept\": \"Aceptar\",\n  \"reject\": \"Rechazar\",\n  \"milliseconds\": \"milisegundos\",\n  \"noConfigName\": \"[Sin configuración]\",\n  \"unknownConfigName\": \"[Configuración desconocida]\",\n  \"noConfigLoaded\": \"No se ha cargado ninguna configuración en SVObserver\",\n  \"up\": \"Hacia arriba\",\n  \"down\": \"Hacia abajo\",\n  \"save\": \"Guardar\",\n  \"copy\": \"Copiar\",\n  \"cut\": \"Cortar\",\n  \"paste\": \"Pegar\",\n  \"delete\": \"Borrar\",\n  \"undo\": \"Deshacer\",\n  \"expandAll\": \"Expandir todo\",\n  \"collapseAll\": \"Ocultar todo\",\n\n  // Permissions\n  \"permissions.backToWebApp\": \"Volver a WebApp\",\n  \"permissions.helpText\": \"Puede cambiar los permisos enumerados para cada grupo (columna). Los permisos comunes se aplican a todos los demás grupos. Los permisos pueden afectar a la WebApp y/o al SVObserver.\",\n  \"permissions.permissions\": \"Permisos\",\n  \"permissions.permissionManagement\": \"Administración de permisos\",\n  \"permissions.description\": \"Descripción\",\n\n  // Permission descriptions\n  \"permissionDescription.webapp.configuration.save\": \"El usuario puede guardar la configuración actual con todos los conjuntos de visualización\",\n  \"permissionDescription.webapp.logs.read\": \"El usuario puede ver los registros en la barra de navegación superior\",\n  \"permissionDescription.webapp.viewset.add\": \"El usuario puede añadir nuevos conjuntos de visualización\",\n  \"permissionDescription.webapp.viewset.read\": \"El usuario puede ver conjuntos de visualización (cambiar entre los conjuntos de visualización, abrir el gestor de conjuntos de visualización)\",\n  \"permissionDescription.webapp.viewset.edit\": \"El usuario puede ver y editar conjuntos de visualización (cambiar el tamaño de las visualizaciones, abrir el gestor de conjuntos de visualización, cambiar el nombre a los conjuntos de visualización)\",\n  \"permissionDescription.webapp.viewset.remove\": \"El usuario puede eliminar un conjunto de visualización\",\n  \"permissionDescription.webapp.view[type=AnyView].add\": \"El usuario puede añadir visualizaciones de cualquier tipo\",\n  \"permissionDescription.webapp.view[type=AnyView].read\": \"El usuario puede ver visualizaciones de cualquier tipo\",\n  \"permissionDescription.webapp.view[type=AnyView].edit\": \"El usuario puede ver y editar visualizaciones de cualquier tipo\",\n  \"permissionDescription.webapp.view[type=AnyView].remove\": \"El usuario puede eliminar visualizaciones de cualquier tipo\",\n  \"permissionDescription.webapp.view[type=ImageView].add\": \"El usuario puede añadir visualizaciones del tipo Imagen\",\n  \"permissionDescription.webapp.view[type=ImageView].read\": \"El usuario puede ver visualizaciones del tipo Imagen (también descargar imágenes, ver la lista de superposiciones personalizadas, ver información sobre la imagen)\",\n  \"permissionDescription.webapp.view[type=ImageView].edit\": \"El usuario puede ver y editar visualizaciones del tipo Imagen (elegir inspección y herramienta, cambiar el tamaño de la imagen, descargar la imagen, ver una lista de superposiciones personalizadas, ver información sobre la imagen)\",\n  \"permissionDescription.webapp.view[type=ImageView].remove\": \"El usuario puede eliminar visualizaciones del tipo Imagen\",\n  \"permissionDescription.webapp.view[type=ListView].add\": \"El usuario puede añadir visualizaciones del tipo Lista\",\n  \"permissionDescription.webapp.view[type=ListView].read\": \"El usuario puede ver visualizaciones del tipo Lista\",\n  \"permissionDescription.webapp.view[type=ListView].edit\": \"El usuario puede ver y editar visualizaciones del tipo Lista (seleccionar inspección y herramienta, editar alias)\",\n  \"permissionDescription.webapp.view[type=ListView].remove\": \"El usuario puede eliminar visualizaciones del tipo Lista\",\n  \"permissionDescription.webapp.view[type=ImageStripView].add\": \"El usuario puede añadir visualizaciones del tipo Franja de imagen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].read\": \"El usuario puede ver visualizaciones del tipo Franja de imagen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].edit\": \"El usuario puede ver y editar visualizaciones del tipo Franja de imagen (seleccionar inspección y herramienta)\",\n  \"permissionDescription.webapp.view[type=ImageStripView].remove\": \"El usuario puede eliminar visualizaciones del tipo Franja de imagen\",\n  \"permissionDescription.webapp.view[type=ParameterView].add\": \"El usuario puede añadir visualizaciones del tipo Parámetro\",\n  \"permissionDescription.webapp.view[type=ParameterView].read\": \"El usuario puede ver visualizaciones del tipo Parámetro\",\n  \"permissionDescription.webapp.view[type=ParameterView].edit\": \"El usuario puede ver y editar visualizaciones del tipo Parámetro (añadir/editar/borrar superposiciones personalizadas)\",\n  \"permissionDescription.webapp.view[type=ParameterView].remove\": \"El usuario puede eliminar visualizaciones del tipo Parámetro\",\n  \"permissionDescription.webapp.view[type=ToolSetView].add\": \"El usuario puede añadir visualizaciones del tipo Conjunto de herramientas\",\n  \"permissionDescription.webapp.view[type=ToolSetView].read\": \"El usuario puede ver visualizaciones del tipo Conjunto de herramientas\",\n  \"permissionDescription.webapp.view[type=ToolSetView].edit\": \"El usuario puede ver y editar visualizaciones del tipo Conjunto de herramientas\",\n  \"permissionDescription.webapp.view[type=ToolSetView].remove\": \"El usuario puede eliminar visualizaciones del tipo Conjunto de herramientas\",\n  \"permissionDescription.svobserver.mode.read\": \"El usuario puede ver el modo actual de SVObserver en la barra de navegación superior\",\n  \"permissionDescription.svobserver.mode.edit\": \"El usuario puede ver y cambiar el modo actual de SVObserver en la barra de navegación superior\",\n  \"permissionDescription.svobserver.inspectionstate.read\": \"El usuario puede ver el estado de inspección de todas las inspecciones de la barra de navegación superior\",\n  \"permissionDescription.svobserver.inspectionstate.edit\": \"El usuario puede ver y cambiar el estado de inspección de todas las inspecciones de la barra de navegación superior y cambiar el estado en la visualización de franjas de imagen\",\n  \"permissionDescription.svobserver.value.read\": \"SVObserver comprueba si el usuario tiene permiso para ver los valores\",\n  \"permissionDescription.svobserver.value.edit\": \"SVObserver comprueba si el usuario tiene permiso para editar los valores\",\n  \"permissionDescription.svobserver.tool.add\": \"SVObserver comprueba si el usuario tiene permiso para añadir nuevas herramientas\",\n  \"permissionDescription.svobserver.tool.read\": \"SVObserver comprueba si el usuario tiene permiso para leer herramientas\",\n  \"permissionDescription.svobserver.tool.edit\": \"SVObserver comprueba si el usuario tiene permiso para editar herramientas existentes\",\n  \"permissionDescription.svobserver.tool.remove\": \"SVObserver comprueba si el usuario tiene permiso para eliminar herramientas\",\n  \"permissionDescription.svobserver.configuration.read\": \"SVObserver comprueba si el usuario tiene permiso para leer la configuración de SVObserver\",\n  \"permissionDescription.svobserver.configuration.write\": \"SVObserver comprueba si el usuario tiene permiso para guardar la configuración de SVObserver\",\n  \"permissionDescription.svobserver.notifications.subscribe\": \"SVObserver comprueba si el usuario tiene permiso para suscribirse a las notificaciones SVObserver\",\n  \"permissionDescription.svobserver.clientlogs.store\": \"SVObserver comprueba si el usuario tiene permiso para enviar registros de cliente a SVObserver\",\n  \"permissionDescription.svobserver.file.read\": \"SVObserver comprueba si el usuario tiene permiso para leer los archivos arbitrarios en la carpeta SVIM RUN\",\n  \"permissionDescription.svobserver.file.write\": \"SVObserver comprueba si el usuario tiene permiso para escribir archivos arbitrarios en la carpeta SVIM RUN\",\n  \"permissionDescription.svobserver.machinestate.set\": \"SVObserver comprueba si el usuario tiene permiso para configurar el estado de la máquina (apagar o reiniciar SVIM)\",\n  \"permissionDescription.svobserver.command.execute\": \"SVObserver comprueba si el usuario tiene permiso para ejecutar comandos\",\n  \"permissionDescription.usermanagement.userpermissions.read\": \"El usuario puede cargar permisos de grupo desde el backend/puede ver la entrada del menú para cambiar a la página de gestión de permisos/puede ver todos los permisos en la gestión de permisos\",\n  \"permissionDescription.usermanagement.userpermissions.edit\": \"El usuario puede cargar permisos de grupo desde el backend/puede ver la entrada del menú para cambiar a la página de gestión de permisos/puede ver todos los permisos en la gestión de permisos/puede editar permisos\",\n\n  // Debugger\n  \"debugger.title\": \"Depurador\",\n  \"debugger.backToWebApp\": \"Volver a WebApp\",\n  \"debugger.requestsListHeader\": \"Lista de solicitudes\",\n  \"debugger.noParametersMessage\": \"Esta solicitud no tiene parámetros\",\n  \"debugger.noItemsMessage\": \"(sin artículos)\",\n  \"debugger.nothingToConfigureMessage\": \"(no hay nada que configurar)\",\n  \"debugger.addItemButtonText\": \"Añadir\",\n  \"debugger.sendRequest\": \"Enviar consulta\",\n  \"debugger.noFilteredResultsMessage\": \"Sin resultados filtrados\",\n  \"debugger.copyToClipboard\": \"Copiar en el portapapeles\",\n\n  // Toolset\n  \"toolsetView.windowTool\": \"Herramienta de ventana\",\n  \"toolsetView.mathTool\": \"Herramienta matemática\",\n  \"toolsetView.statisticsTool\": \"Herramienta estadística\",\n  \"toolsetView.ringBufferTool\": \"Herramienta de memoria cíclica\",\n  \"toolsetView.archiveTool\": \"Herramienta de archivo\",\n  \"toolsetView.acquisitionTool\": \"Herramienta de adquisición\",\n  \"toolsetView.transformationTool\": \"Herramienta de transformación\",\n  \"toolsetView.shiftTool\": \"Herramienta de cambio\",\n  \"toolsetView.cylindricalWarpTool\": \"Herramienta de deformación cilíndrica\",\n  \"toolsetView.perspectiveTool\": \"Herramienta de perspectiva\",\n  \"toolsetView.imageTool\": \"Herramienta de imagen\",\n  \"toolsetView.linearTool\": \"Herramienta lineal\",\n  \"toolsetView.colorTool\": \"Herramienta de color\",\n  \"toolsetView.resizeTool\": \"Herramienta de cambio de tamaño\",\n  \"toolsetView.loadImageTool\": \"Herramienta de carga de imagen\",\n  \"toolsetView.tableTool\": \"Herramienta de tabla\",\n  \"toolsetView.tableAnalyzerTool\": \"Herramienta analizadora de tablas\",\n  \"toolsetView.polarTransformationTool\": \"Herramienta de transformación polar\",\n  \"toolsetView.loopTool\": \"Herramienta de bucle\",\n  \"toolsetView.externalTool\": \"Herramienta externa\",\n  \"toolsetView.groupTool\": \"Herramienta de grupo\",\n};\n\nexport default es;\n","import { FormattedMessage, IntlShape } from 'react-intl';\n\nimport de from './de';\nimport en from './en';\nimport es from './es';\n\nconst translations = {\n  de: {\n    ...de,\n  },\n  en: {\n    ...en,\n  },\n  es: {\n    ...es,\n  },\n};\n\ndeclare module 'react-intl' {\n  interface TypedIntlShape extends IntlShape {\n    messages: Record<keyof typeof en, string>;\n  }\n\n  export function useIntl(): TypedIntlShape;\n}\n\nexport const languages = [\n  {\n    locale: 'de',\n    name: <FormattedMessage id=\"topNavigation.language.german\" />,\n  },\n  {\n    locale: 'en',\n    name: <FormattedMessage id=\"topNavigation.language.english\" />,\n  },\n  {\n    locale: 'es',\n    name: <FormattedMessage id=\"topNavigation.language.spanish\" />,\n  },\n];\n\nexport default translations;\n","export const isObjectValid = <FunctionType extends () => unknown>(prop: FunctionType) => {\n  try {\n    return prop() as ReturnType<FunctionType>;\n  } catch (error) {\n    return undefined;\n  }\n};\n","import PropTypes from 'prop-types';\n\nconst actionList = PropTypes.arrayOf(\n  PropTypes.shape({ intlId: PropTypes.string, iconUrl: PropTypes.string }),\n);\nconst ActionBarType = PropTypes.oneOfType([actionList, PropTypes.func]);\n\nexport const TOGGLE_BUTTON = 'TOGGLE_BUTTON' as const;\nexport const SEPARATOR = 'SEPARATOR' as const;\n\nexport default ActionBarType;\n","import React, { Key } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles } from '@material-ui/core/styles';\nimport { ClassNameMap } from '@material-ui/styles';\nimport union from 'lodash/union';\nimport Tree, { TreeNode } from 'rc-tree';\nimport { TreeProps } from 'rc-tree/lib/Tree';\nimport { TreeNodeProps } from 'rc-tree/lib/TreeNode';\nimport { FormattedMessage } from 'react-intl';\nimport shortId from 'shortid';\n\nimport { isObjectValid } from '../../utils/objectValidator';\n\nimport './styles.scss';\n\nconst styles = () => ({\n  label: {\n    fontSize: '1.4rem',\n    transform: 'translate(10px, 12px) scale(1)',\n  },\n});\n\nconst NUMBER_FILTER_RESULTS = 100;\nconst NUMBER_OF_SELECTABLE_VALUES = 100;\n\nexport interface TreeNodeSchema {\n  id?: Key;\n  name?: string;\n  styledText?: JSX.Element;\n  children: TreeNodeSchema[];\n  location?: string;\n  title?: string;\n  halfChecked?: boolean[];\n  type?: string;\n}\n\ntype CheckInfo = { title?: string; node: TreeNodeSchema };\n\ninterface TreeContextSchema {\n  abortRecursion: boolean;\n  expandedFilteredKeys: Key[];\n  filteredLocations: string[];\n  filteredKeys: Key[];\n  countSelection: number;\n}\n\ninterface ObjectSelectorProps {\n  data: TreeNodeSchema;\n  selection?: Key[];\n  singleSelect?: boolean;\n  checkable?: boolean;\n  expandedKeys?: Key[];\n  onChange?: (ids: Key | Key[], checkedLocation?: string) => void;\n  onExpand?: (keys: Key[]) => void;\n  classes: Partial<ClassNameMap>;\n  filterIgnore?: string[];\n}\n\nclass ObjectSelector extends React.Component<ObjectSelectorProps> {\n  state = {\n    expandedKeys: [isObjectValid(() => this.props.data.children?.[0].location)].filter(\n      Boolean,\n    ) as Key[],\n    expandedFilteredKeys: [] as Key[],\n    checkedKeys: [] as Key[],\n    filteredCheckedKeys: [] as Key[],\n    inputValue: '',\n    filteredLocations: [] as string[],\n    filteredTree: undefined as TreeNodeSchema | undefined,\n    countedVisibleValues: 0,\n    countedPossibleValues: 0,\n    selectionLimitReached: false,\n    halfChecked: [] as string[],\n  };\n\n  componentDidMount() {\n    this.setSelection();\n    this.setExpandedKeys();\n  }\n\n  componentDidUpdate(prevProps: ObjectSelectorProps) {\n    const { selection, expandedKeys } = this.props;\n\n    if (selection && prevProps.selection !== selection && selection.length > 0) {\n      this.setSelection();\n    }\n\n    if (expandedKeys && prevProps.expandedKeys !== expandedKeys && expandedKeys.length > 0) {\n      this.setExpandedKeys();\n    }\n  }\n\n  setSelection = () => {\n    const { selection } = this.props;\n\n    this.setState({\n      checkedKeys: selection,\n    });\n  };\n\n  setExpandedKeys = () => {\n    const { expandedKeys } = this.props;\n    if (expandedKeys) {\n      this.setState({\n        expandedKeys: expandedKeys,\n      });\n    }\n  };\n\n  onExpand = (expandedKeys: Key[]) => {\n    if (this.state.inputValue) {\n      this.setState({\n        expandedFilteredKeys: expandedKeys,\n      });\n    } else {\n      this.props.onExpand?.(expandedKeys);\n      this.setState({\n        expandedKeys,\n      });\n    }\n  };\n\n  onCheck: TreeProps['onCheck'] = (checkedKeys, checkProps) => {\n    let limitedCheckedKeys = this.limitCheckedKeys(\n      checkedKeys as Key[],\n      NUMBER_OF_SELECTABLE_VALUES,\n    );\n    limitedCheckedKeys = this.checkUnselectingAll(limitedCheckedKeys, checkProps.node as never);\n\n    const filteredCheckedKeys = limitedCheckedKeys.slice();\n    if (this.state.inputValue) {\n      limitedCheckedKeys = this.updateCheckedKeys(limitedCheckedKeys);\n    }\n\n    limitedCheckedKeys = this.ensureSingleSelection(limitedCheckedKeys);\n\n    this.setChangedIds(limitedCheckedKeys, checkProps as never);\n    this.setState({\n      checkedKeys: limitedCheckedKeys,\n      filteredCheckedKeys,\n      selectionLimitReached: limitedCheckedKeys.length === NUMBER_OF_SELECTABLE_VALUES,\n    });\n  };\n\n  limitCheckedKeys = (keys: Key[], limit: number) => {\n    const halfChecked = [];\n    if (!limit || limit > keys.length) {\n      limit = keys.length;\n    }\n    const result = [];\n    let condition = Math.abs(limit);\n    let i = 0;\n    while (condition !== 0 && i < keys.length) {\n      if (parseInt(keys[i] as string, 10)) {\n        result.push(keys[i]);\n        condition--;\n      } else {\n        halfChecked.push(keys[i]);\n      }\n\n      i++;\n    }\n\n    this.setState({ halfChecked });\n\n    return result;\n  };\n\n  checkUnselectingAll = (keys: Key[], checkedNode: TreeNodeSchema) => {\n    const halfChecked = this.state.halfChecked.slice();\n    if (checkedNode.halfChecked) {\n      if (halfChecked.includes(checkedNode.title as string)) {\n        this.setState({ halfChecked: [] });\n        keys = [];\n      } else {\n        halfChecked.push(checkedNode.title as string);\n        this.setState({ halfChecked });\n      }\n    }\n    return keys;\n  };\n\n  updateCheckedKeys = (checkedKeys: Key[]) => {\n    const newSelectedKeys = checkedKeys.filter(\n      (key) => !this.state.filteredCheckedKeys.includes(key),\n    );\n    const newDeselectedKeys = this.state.filteredCheckedKeys.filter(\n      (key) => !checkedKeys.includes(key),\n    );\n    checkedKeys = union(newSelectedKeys, this.state.checkedKeys);\n    checkedKeys = checkedKeys.filter((key) => !newDeselectedKeys.includes(key));\n\n    return checkedKeys;\n  };\n\n  ensureSingleSelection = (checkedKeys: Key[]) => {\n    if (this.props.singleSelect) {\n      return [checkedKeys[checkedKeys.length - 1]] || [];\n    } else {\n      return checkedKeys;\n    }\n  };\n\n  setChangedIds = (ids: Key[], checkProps: CheckInfo) => {\n    const filteredIds = (ids || []).filter((id) => parseInt(id as string, 10) > 0);\n    if (this.props.singleSelect) {\n      const checkedLocation = this.getSelectedLocation(checkProps);\n      this.props.onChange?.(filteredIds[filteredIds.length - 1] || 0, checkedLocation);\n    } else {\n      this.props.onChange?.(filteredIds);\n    }\n  };\n\n  onChangeFilter: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement> = (event) => {\n    const { data } = this.props;\n    let filteredTree: TreeNodeSchema | undefined = undefined;\n\n    const inputValue = event.target.value || '';\n    const filteredInputValue = this.cutFilterIgnoreWords(inputValue.toLowerCase()) || '';\n    const initialChars = filteredInputValue.split('');\n    const ctx: TreeContextSchema = {\n      abortRecursion: false,\n      expandedFilteredKeys: [] as Key[],\n      filteredLocations: [] as string[],\n      filteredKeys: [] as Key[],\n      countSelection: 0,\n    };\n    const countCtx = {\n      countMatches: 0,\n    };\n\n    if (initialChars.length) {\n      const copy = initialChars.slice();\n      const children = [] as ReturnType<this['createFilteredShadowNode']>[];\n      this.filterNodesRecursively(data, initialChars, children, ctx);\n      this.countMatchingNodesRecursively(data, copy, countCtx);\n      filteredTree = children.length > 0 ? children[0] : { children: [] as TreeNodeSchema[] };\n    }\n\n    const filteredCheckedKeys = (this.state.checkedKeys ?? []).filter((key) =>\n      ctx.filteredKeys.includes(key),\n    );\n\n    this.setState({\n      filteredLocations: ctx.filteredLocations,\n      filteredTree,\n      filteredCheckedKeys,\n      expandedFilteredKeys: ctx.expandedFilteredKeys,\n      inputValue,\n      countedVisibleValues: ctx.countSelection,\n      countedPossibleValues: countCtx.countMatches,\n    });\n  };\n\n  cutFilterIgnoreWords = (filteredInput: string) => {\n    const { filterIgnore } = this.props;\n\n    if (filterIgnore) {\n      filterIgnore.forEach((filter) => {\n        filter = filter.toLowerCase();\n        if (filteredInput.startsWith(filter)) {\n          filteredInput = filteredInput.replace(filter, '');\n\n          if (filteredInput.startsWith('.')) {\n            filteredInput = filteredInput.slice(1);\n          }\n        }\n      });\n    }\n\n    return filteredInput;\n  };\n\n  filterNodesRecursively = (\n    node: TreeNodeSchema,\n    chars: string[],\n    shadowChildren: TreeNodeSchema[],\n    ctx: TreeContextSchema,\n  ) => {\n    if (!node) {\n      return false;\n    }\n    const positions: number[] = [];\n    let remainingChars: string[] = [];\n    if (chars.length > 0) {\n      remainingChars = this.consumeChars(node.name as string, chars, positions);\n    }\n\n    if (remainingChars.length === 0) {\n      ctx.filteredLocations.push(node.location as string);\n      if (node.id && node.children.length === 0) {\n        ctx.filteredKeys.push(node.id);\n      }\n    }\n\n    if (ctx.filteredKeys.length >= NUMBER_FILTER_RESULTS) {\n      ctx.abortRecursion = true;\n    }\n\n    const children: ReturnType<this['createFilteredShadowNode']>[] = [];\n    let childMatches = false;\n    if (node.children && !ctx.abortRecursion) {\n      node.children.forEach((child) => {\n        if (\n          !ctx.abortRecursion &&\n          this.filterNodesRecursively(child, remainingChars, children, ctx)\n        ) {\n          childMatches = true;\n        }\n      });\n    }\n\n    if (childMatches) {\n      ctx.expandedFilteredKeys.push(node.location as string);\n    }\n\n    const isMatchingSubtree = remainingChars.length === 0 || childMatches;\n    if (isMatchingSubtree) {\n      if (node.children.length === 0) {\n        ctx.countSelection++;\n      }\n      const shadowNode = this.createFilteredShadowNode(node, positions, children);\n      shadowChildren.push(shadowNode);\n    }\n    return isMatchingSubtree;\n  };\n\n  countMatchingNodesRecursively = (\n    node: TreeNodeSchema,\n    chars: string[],\n    countCtx: { countMatches: number },\n  ) => {\n    if (!node) {\n      return false;\n    }\n    const positions: number[] = [];\n    let remainingChars: string[] = [];\n    if (chars.length > 0) {\n      remainingChars = this.consumeChars(node.name as string, chars, positions);\n    }\n\n    let childMatches = false;\n    if (node.children) {\n      node.children.forEach((child) => {\n        if (this.countMatchingNodesRecursively(child, remainingChars, countCtx)) {\n          childMatches = true;\n        }\n      });\n    }\n\n    const isMatchingSubtree = remainingChars.length === 0 || childMatches;\n    if (isMatchingSubtree && node.children.length === 0) {\n      countCtx.countMatches++;\n    }\n\n    return isMatchingSubtree;\n  };\n\n  consumeChars = (str: string, chars: string[], positions: number[]) => {\n    str = str?.toLowerCase() ?? '';\n    let prevIdx = 0;\n    while (chars.length) {\n      if (chars[0] === '.') {\n        chars = chars.slice(1);\n        break;\n      }\n\n      const idx = str.indexOf(chars[0], prevIdx);\n      if (idx === -1) {\n        break;\n      }\n      positions.push(idx);\n      chars = chars.slice(1);\n      prevIdx = idx + 1;\n    }\n    return chars;\n  };\n\n  createFilteredShadowNode = (\n    node: TreeNodeSchema,\n    positions: number[],\n    children: TreeNodeSchema[],\n  ) => {\n    const styledText = this.highlightAtPositions(node.name as string, positions);\n    const shadowNode: TreeNodeSchema = {\n      ...node,\n      children,\n      styledText,\n    };\n    return shadowNode;\n  };\n\n  highlightAtPositions = (word: string, positions: number[]) => {\n    const result = [];\n    for (let i = 0; i < word.length; i++) {\n      if (positions.includes(i)) {\n        result.push([\n          <span className=\"filteredText\" key={`strong${shortId.generate()}`}>\n            {word.charAt(i)}\n          </span>,\n        ]);\n      } else {\n        result.push([word.charAt(i)]);\n      }\n    }\n    return <div key={`div${shortId.generate()}`}>{result}</div>;\n  };\n\n  createTreeNodes = (node: TreeNodeSchema, loop: (nodeSchema: TreeNodeSchema) => JSX.Element[]) => {\n    const defaultProps: TreeNodeProps = {\n      style: {},\n      onSelect: () => void 0,\n      icon: undefined,\n      switcherIcon: undefined,\n    };\n    if (node.children?.length > 0) {\n      return (\n        <TreeNode\n          // since nodes don't contain a value to subscribe and also don't have a id, we use the location as key\n          // we'll need to filter invalid ids from checkedKeys\n          {...defaultProps}\n          key={node.location}\n          title={node.styledText || node.name}\n          disableCheckbox={this.props.singleSelect}\n        >\n          {node.children.map(loop)}\n        </TreeNode>\n      );\n    }\n    //TODO: insect this missing location property\n    return (\n      <TreeNode\n        {...defaultProps}\n        key={node.id}\n        title={node.styledText || node.name} /*location={node.location}*/\n      />\n    );\n  };\n\n  getSelectedLocation = (childProps: CheckInfo) => {\n    if (isObjectValid(() => childProps.node.location)) {\n      return childProps.node.location as string;\n    }\n    return '';\n  };\n\n  render() {\n    const {\n      checkedKeys,\n      expandedKeys,\n      expandedFilteredKeys,\n      filteredTree,\n      filteredCheckedKeys,\n      inputValue,\n      countedVisibleValues,\n      countedPossibleValues,\n      selectionLimitReached,\n    } = this.state;\n    const loop = (node: TreeNodeSchema) => {\n      if (!node) {\n        return null;\n      }\n      return this.createTreeNodes(node, loop);\n    };\n\n    const className = inputValue ? 'unfilteredText' : '';\n    const expanded = inputValue ? expandedFilteredKeys : expandedKeys;\n    const rootNode = inputValue ? filteredTree : this.props.data;\n    const visibleCheckedKeys = inputValue ? filteredCheckedKeys : checkedKeys;\n    const treeNodes = rootNode?.name\n      ? (loop(rootNode) as unknown as JSX.Element[])\n      : (rootNode?.children ?? []).map(loop);\n\n    return (\n      <div className=\"object-selector\">\n        <div className=\"topmenu-wrapper\">\n          <div className=\"w100 text\">\n            <div className=\"infotext\">\n              <div className=\"pr2\">\n                <FormattedMessage id=\"objectSelector.select\" />\n              </div>\n              {selectionLimitReached ? (\n                <div className=\"warning pr2\">\n                  <FormattedMessage\n                    id=\"objectSelector.limitReached\"\n                    values={{ items_number: NUMBER_OF_SELECTABLE_VALUES }}\n                  />\n                </div>\n              ) : undefined}\n              {inputValue && treeNodes.length > 0 ? (\n                <div className=\"warning\">\n                  {`(${countedVisibleValues} of ${countedPossibleValues} matches are shown)`}\n                </div>\n              ) : undefined}\n            </div>\n          </div>\n          <div className=\"w100\">\n            <TextField\n              label=\"Filter\"\n              type=\"text\"\n              variant=\"outlined\"\n              style={{ width: '100%' }}\n              onChange={this.onChangeFilter}\n              value={this.state.inputValue}\n              InputLabelProps={{ classes: { root: this.props.classes.label } }}\n            />\n          </div>\n        </div>\n        <div>\n          {treeNodes.length > 0 ? (\n            //@ts-expect-error many missing properties are required and need to be set\n            <Tree\n              checkable={this.props.checkable ?? true}\n              showLine\n              autoExpandParent={true}\n              defaultExpandParent={true}\n              showIcon={false}\n              selectable={false}\n              onExpand={this.onExpand}\n              expandedKeys={expanded}\n              checkedKeys={visibleCheckedKeys}\n              onCheck={this.onCheck}\n              className={className}\n            >\n              {treeNodes}\n            </Tree>\n          ) : (\n            <div className=\"text\">No filter results</div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(ObjectSelector);\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { createLogger } from 'browser-bunyan';\nimport browserStdout from 'browser-stdout';\nimport bunyanFormat from 'bunyan-format';\n\ninterface ProxyStreamOptions {\n  throttleInterval?: number;\n}\n\ninterface Message {\n  msg: string;\n  level: string | number;\n  sameMessageCount: number;\n}\n\nclass ProxyStream {\n  private proxy: typeof Proxy | null = null;\n  private pendingMessages: Message[] = [];\n  private readonly opts: ProxyStreamOptions;\n  private currentThrottleTimeout: NodeJS.Timeout | null = null;\n\n  constructor(opts: ProxyStreamOptions = {}) {\n    this.opts = opts;\n    this.start();\n  }\n\n  start() {\n    const { throttleInterval } = this.opts;\n\n    const throttleRequests = () => {\n      this.currentThrottleTimeout = setTimeout(() => {\n        const recs = this.pendingMessages;\n        this.pendingMessages = [];\n\n        if (recs.length > 0) {\n          if (!this.proxy) {\n            this.pendingMessages = recs;\n          } else {\n            //@ts-expect-error waiting for Proxy class to be written in typescript\n            this.proxy.sendLogsToServer(recs);\n          }\n        }\n        throttleRequests();\n      }, throttleInterval);\n    };\n\n    throttleRequests();\n  }\n\n  setProxy(proxy: typeof Proxy) {\n    this.proxy = proxy;\n\n    if (this.proxy && this.pendingMessages.length > 0) {\n      //@ts-expect-error waiting for Proxy class to be written in typescript\n      this.proxy.sendLogsToServer(this.pendingMessages);\n      this.pendingMessages = [];\n    }\n  }\n\n  removeProxy() {\n    this.proxy = null;\n    this.pendingMessages = [];\n  }\n\n  write(rec: Message) {\n    if (this.currentThrottleTimeout) {\n      const idx = this.pendingMessages.findIndex(\n        (message) => message.level === rec.level && message.msg === rec.msg,\n      );\n\n      if (idx >= 0) {\n        if (!this.pendingMessages[idx].sameMessageCount) {\n          this.pendingMessages[idx] = { ...this.pendingMessages[idx], sameMessageCount: 1 };\n        }\n        this.pendingMessages[idx].sameMessageCount++;\n      } else {\n        this.pendingMessages.push(rec);\n      }\n    }\n  }\n}\n\nclass FormatStream {\n  private readonly impl: ReturnType<typeof bunyanFormat>;\n\n  constructor() {\n    const out = browserStdout({\n      label: false,\n    });\n    this.impl = bunyanFormat(\n      {\n        outputMode: 'short',\n        color: false,\n      },\n      out,\n    );\n  }\n\n  write(rec: Message) {\n    this.impl.write(JSON.stringify(rec));\n  }\n}\n\nconst proxyStream = new ProxyStream({\n  throttleInterval: 3000,\n});\nconst formatStream = new FormatStream();\nconst logger = createLogger({\n  name: 'SvWebApp',\n  streams: [\n    {\n      level: 'warn',\n      stream: proxyStream,\n      //@ts-ignore\n      type: 'raw',\n    },\n    {\n      level: 'debug',\n      stream: formatStream,\n      //@ts-ignore\n      type: 'stream',\n    },\n  ],\n});\n\n//@ts-ignore\nlogger.setProxy = (proxy: typeof Proxy) => proxyStream.setProxy(proxy);\n//@ts-ignore\nlogger.removeProxy = () => proxyStream.removeProxy();\n\nexport default logger;\n","export default __webpack_public_path__ + \"static/media/delete.85c719f0.svg\";","export default __webpack_public_path__ + \"static/media/back.c6197e51.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nclass ModalNotification extends Component {\n  render() {\n    const { visible, message } = this.props;\n    if (!visible) {\n      return false;\n    }\n\n    return (\n      <div className=\"modal-fullscreen-style\">\n        <div className=\"modal-fullscreen-inner\">{message}</div>\n      </div>\n    );\n  }\n}\n\nModalNotification.defaultProps = {\n  visible: false,\n  message: undefined,\n};\n\nModalNotification.propTypes = {\n  visible: PropTypes.bool,\n  message: PropTypes.object,\n};\n\nexport default ModalNotification;\n","import React, { useRef, useEffect } from 'react';\nimport { Paper } from '@material-ui/core';\n\nimport './style.scss';\n\nconst usePrevious = (value) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nlet selectedItem = 0;\n\nconst SuggestionList = ({ items, onSelect, show, currentKey, filter, onCancel }) => {\n  const prevFilter = usePrevious(filter);\n\n  if (!show) {\n    return <div></div>;\n  }\n\n  if (filter !== prevFilter) {\n    selectedItem = 0;\n  }\n\n  const consumeChars = (str, chars, positions) => {\n    str = str.toLowerCase();\n    let prevIdx = 0;\n    while (chars.length) {\n      const idx = str.indexOf(chars[0], prevIdx);\n      if (idx === -1) {\n        break;\n      }\n      positions.push(idx);\n      chars = chars.slice(1);\n      prevIdx = idx + 1;\n    }\n    return chars;\n  };\n\n  const highlightAtPositions = (word, positions) => {\n    let result = [];\n    for (let i = 0; i < word.length; i++) {\n      if (positions.includes(i)) {\n        result.push([\n          <span className=\"filteredText\" key={`suggestionlist_highlight_span_${word}_${i}`}>\n            {word.charAt(i)}\n          </span>,\n        ]);\n      } else {\n        result.push([word.charAt(i)]);\n      }\n    }\n    return <div key={`suggestionlist_highlight_div_${word}`}>{result}</div>;\n  };\n\n  const filteredItems = [];\n  (items || []).forEach((item) => {\n    const pos = [];\n    const remainingChars = consumeChars(item, filter.toLowerCase().split(''), pos);\n\n    if (remainingChars.length === 0) {\n      filteredItems.push({\n        text: item,\n        textWithHighlight: highlightAtPositions(item, pos),\n      });\n    }\n  });\n\n  if (filteredItems.length === 0) {\n    return <div></div>;\n  }\n\n  if (currentKey.currentKey === 'ArrowUp' && selectedItem > 0) {\n    selectedItem--;\n  }\n\n  if (currentKey.currentKey === 'ArrowDown' && selectedItem < filteredItems.length - 1) {\n    selectedItem++;\n  }\n\n  const menuitems = [];\n  let currentText = '';\n  (filteredItems || []).forEach((item, idx) => {\n    const isSelected = selectedItem === idx;\n    if (isSelected) {\n      currentText = item.text;\n    }\n\n    menuitems.push(\n      <li\n        key={`suggestionlist_li_${item.text}`}\n        onClick={() => onSelect(item.text)}\n        className={isSelected ? 'suggestionlist-selected' : ''}\n      >\n        {item.textWithHighlight}\n      </li>,\n    );\n  });\n\n  if (currentKey.currentKey === 'Enter') {\n    onSelect(currentText);\n  }\n\n  if (currentKey.currentKey === 'Escape') {\n    onCancel();\n  }\n\n  return (\n    <Paper\n      className=\"suggestionlist-wrapper\"\n      style={show ? { display: 'block' } : { display: 'none' }}\n    >\n      <ul className=\"suggestionlist-list\">{menuitems}</ul>\n    </Paper>\n  );\n};\n\nexport default SuggestionList;\n","import React, { useState, useRef } from 'react';\nimport { TextField } from '@material-ui/core';\n\nimport SuggestionList from '../SuggestionList';\n\nconst Autocomplete = ({ label, fullWidth, value, onChange, variant, size, suggestionList }) => {\n  const inputRef = useRef();\n  const [show, setShow] = useState(false);\n  const [filter, setFilter] = useState('');\n  const [currentKey, setCurrentKey] = useState();\n\n  const getFilterText = (value, position) => {\n    let filterText = '';\n    let currentPosition = position - 1;\n\n    while (currentPosition >= 0 && !filterText.startsWith('$')) {\n      if (value.charAt(currentPosition) === ' ') {\n        return '';\n      }\n\n      filterText = value.charAt(currentPosition) + filterText;\n      currentPosition--;\n    }\n\n    if (!filterText.startsWith('$')) {\n      filterText = '';\n    }\n\n    return filterText;\n  };\n\n  const onChangeAutocompleteText = (event) => {\n    const filterText = getFilterText(event.target.value, inputRef.current.selectionEnd);\n    setFilter(filterText);\n    setShow(filterText.length > 0);\n    onChange(event.target.value);\n  };\n\n  const cancelSuggestionList = () => {\n    setShow(false);\n  };\n\n  const onSelectSuggestion = (name) => {\n    setShow(false);\n    onChange(\n      `${value.slice(0, inputRef.current.selectionEnd - filter.length)}${name}${value.slice(\n        inputRef.current.selectionEnd,\n        value.length,\n      )}`,\n    );\n  };\n\n  const onKeyDown = (event) => {\n    if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {\n      event.preventDefault();\n    }\n    setCurrentKey({ currentKey: event.key });\n  };\n\n  return (\n    <div className=\"autocomplete-wrapper\">\n      <TextField\n        inputRef={inputRef}\n        label={label}\n        fullWidth={fullWidth}\n        value={value}\n        onChange={(e) => onChangeAutocompleteText(e)}\n        onKeyDown={(e) => onKeyDown(e)}\n        variant={variant}\n        size={size}\n        inputProps={{\n          style: {\n            height: 37,\n          },\n        }}\n      />\n      <SuggestionList\n        show={show}\n        currentKey={currentKey}\n        filter={filter}\n        items={suggestionList}\n        onSelect={(name) => onSelectSuggestion(name)}\n        onCancel={() => cancelSuggestionList()}\n      />\n    </div>\n  );\n};\n\nexport default Autocomplete;\n","import Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\ninterface AlertDialogProps {\n  open: boolean;\n  title: React.ReactNode;\n  contentText: React.ReactNode;\n}\n\nexport const AlertDialog: React.FC<React.PropsWithChildren<AlertDialogProps>> = ({\n  open,\n  title,\n  contentText,\n  children,\n}) => {\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n      disableEscapeKeyDown={true}\n    >\n      <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">{contentText}</DialogContentText>\n      </DialogContent>\n      <DialogActions>{children}</DialogActions>\n    </Dialog>\n  );\n};\n","import React, { ReactNode, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { FormattedMessage } from 'react-intl';\nimport infoIcon from '../../../../assets/icons/info.svg';\nimport { AlertDialog } from '../../../../views/TopNavigation/navigation/AlertDialog';\nimport IconButton from '../../../buttons/IconButton';\n\nexport interface InformationBoxProps {\n  onClose?: () => void;\n  open?: boolean;\n  informationText: string | ReactNode;\n  title?: string;\n}\n\nconst InformationBox: React.FC<InformationBoxProps> = ({\n  onClose,\n  informationText,\n  open,\n  title,\n}) => {\n  const [showingInfo, setShowingInfo] = useState(open || false);\n  return (\n    <>\n      <div>\n        <IconButton\n          tooltip=\"Show information\"\n          onClick={() => {\n            setShowingInfo(true);\n          }}\n          iconUrl={infoIcon}\n        />\n      </div>\n      <AlertDialog open={showingInfo} contentText={informationText} title={title}>\n        <Button\n          onClick={() => {\n            setShowingInfo(false);\n            onClose && onClose();\n          }}\n          color=\"primary\"\n        >\n          <FormattedMessage id=\"close\" />\n        </Button>\n      </AlertDialog>\n    </>\n  );\n};\n\nexport default InformationBox;\n","import React, { useState } from 'react';\nimport { Box } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport deleteIcon from '../../../../assets/icons/delete.svg';\nimport AutoComplete from '../../../AutoComplete';\nimport ObjectSelector from '../../../ObjectSelector';\nimport { OutlinedSelection } from '../../../OutlinedSelection';\nimport IconButton from '../../../buttons/IconButton';\nimport InformationBox from '../InformationBox';\n\nconst DEFAULT_SAMPLING_RATE = 0.1;\nconst MAX_SAMPLING_RATE = 1.0;\nexport const treeEntityNameGenerator = (searchedNodeId, tree, inspectionName) => {\n  const queue = (tree && tree.children && tree.children.slice(0)) || [];\n  while (queue.length > 0) {\n    const head = queue.shift();\n    const { id, location, children } = head;\n    if (id && searchedNodeId === id.toString()) {\n      return 'Inspections.' + inspectionName + '.' + location;\n    }\n    if (children && children.length) {\n      for (let i = 0; i < children.length; ++i) {\n        queue.push(children[i]);\n      }\n    }\n  }\n};\n\nconst ImageForm = ({\n  id,\n  object,\n  propertyName,\n  allowedImageVariables,\n  allowedPathVariables,\n  onDelete,\n  inspection,\n  informationText = <></>,\n  treeStyle = {},\n}) => {\n  const [treeNodeId, setTreeNodeId] = useState(object[propertyName].treeNodeId || 0);\n  const [path, setPath] = useState(object[propertyName].path || '');\n  const [samplingRate, setSamplingRate] = useState(\n    object[propertyName].samplingRate || DEFAULT_SAMPLING_RATE,\n  );\n  const [enabled, setEnabled] = useState(\n    (typeof object[propertyName] === 'object' && object[propertyName].enabled) || true,\n  );\n\n  return (\n    <div className=\"field-name-type\">\n      <div className=\"item\">\n        <div className=\"property-id\">{id}</div>\n      </div>\n      <div className=\"inputs\">\n        <div className=\"field-name-type\">\n          <Box sx={{ mr: 1 }}>\n            {allowedImageVariables && (\n              <ObjectSelector\n                singleSelect\n                selection={[treeNodeId]}\n                expandedKeys={[treeNodeId]}\n                data={allowedImageVariables}\n                onChange={(selectedId) => {\n                  // keep id of this node in JSON to find it easily when we load this JSON back\n                  object[propertyName].treeNodeId = selectedId;\n                  const fullLocation = treeEntityNameGenerator(\n                    selectedId,\n                    allowedImageVariables,\n                    inspection,\n                  );\n                  object[propertyName].image = '${IMAGE:' + fullLocation + '}';\n                  setTreeNodeId(selectedId);\n                }}\n                treeStyle={treeStyle}\n              />\n            )}\n          </Box>\n          <Box sx={{ mr: 1 }}>\n            <AutoComplete\n              label=\"Path\"\n              fullWidth\n              value={path}\n              onChange={(value) => {\n                setPath(value);\n                object[propertyName].value = value;\n              }}\n              variant=\"outlined\"\n              size=\"small\"\n              suggestionList={allowedPathVariables}\n            />\n          </Box>\n          <Box sx={{ mr: 1 }}>\n            <OutlinedSelection\n              selectedValue={enabled.toString()}\n              values={['true', 'false']}\n              onSelectionChanged={(e) => setEnabled(e.enabled === 'true')}\n              id=\"enabled\"\n              name=\"Enabled\"\n            />\n          </Box>\n          <Box>\n            <TextField\n              fullWidth\n              variant=\"outlined\"\n              label=\"Sampling rate\"\n              InputProps={{\n                inputProps: {\n                  type: 'number',\n                  min: 0.1,\n                  max: MAX_SAMPLING_RATE,\n                  step: 0.1,\n                },\n                style: {\n                  height: 29,\n                },\n              }}\n              className=\"item\"\n              type=\"number\"\n              required={true}\n              value={samplingRate || DEFAULT_SAMPLING_RATE}\n              onChange={(e) => setSamplingRate(e.target.value)}\n              onBlur={(e) => (object[propertyName].value = e.target.value)}\n            />\n          </Box>\n          <div>\n            <IconButton tooltip=\"Add property\" onClick={() => onDelete()} iconUrl={deleteIcon} />\n          </div>\n          {informationText && <InformationBox informationText={informationText} />}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageForm;\n","import React, { useState } from 'react';\nimport { Typography } from '@material-ui/core';\nimport addIcon from '../../../../assets/icons/plus.svg';\nimport { OutlinedSelection } from '../../../OutlinedSelection';\nimport IconButton from '../../../buttons/IconButton';\nimport ImageForm from '../ImageForm';\nimport PropertyForm from '../PropertyForm';\n\nexport const COMPONENT_TYPE_TREE = 'tree';\nexport const COMPONENT_TYPE_AUTOCOMPLETE = 'autocomplete';\n\nconst fieldsForTreeForValueSelection = [\n  'data1',\n  'data2',\n  'data3',\n  'data4',\n  'data5',\n  'data6',\n  'data7',\n  'data8',\n  'data9',\n  'data10',\n  'data11',\n  'data12',\n  'data13',\n  'data14',\n  'data15',\n  'data16',\n  'data17',\n  'data18',\n  'data19',\n];\nconst triggerPropertiesRequiresName = [\n  ...fieldsForTreeForValueSelection,\n  ...['image1', 'image2', 'image3', 'image4'],\n];\nconst triggerProperties = [\n  ...['', 'storeCondition', 'revolution'],\n  ...triggerPropertiesRequiresName,\n];\n\nconst informationToFieldsMap = {};\n\ntriggerProperties.forEach((key) => {\n  informationToFieldsMap[key] = (\n    <>\n      <Typography gutterBottom>\n        Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in,\n        egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n      </Typography>\n      <Typography gutterBottom>\n        Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus\n        vel augue laoreet rutrum faucibus dolor auctor.\n      </Typography>\n      <Typography gutterBottom>\n        Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel\n        scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus\n        auctor fringilla.\n      </Typography>\n    </>\n  );\n});\n\nconst TriggerSettings = ({\n  subscription,\n  allowedVariables,\n  allowedAutoCompleteVariables,\n  allowedImageVariables,\n  allowedImagePathVariables,\n}) => {\n  const [newTriggerProperty, setNewTriggerProperty] = useState('');\n  const [update, setUpdate] = useState(false);\n\n  const addNewTriggerProperty = (subscription) => {\n    if (!subscription.trigger || newTriggerProperty === '') {\n      subscription.trigger = {};\n    }\n\n    subscription.trigger[newTriggerProperty] = { name: '', value: '', enabled: true };\n    setNewTriggerProperty('');\n  };\n\n  const { trigger, inspection } = subscription;\n  const triggerResult = [];\n\n  const deleteProperty = (key) => {\n    delete trigger[key];\n    setUpdate(!update);\n  };\n\n  const remainingTriggerProperties = triggerProperties.filter(\n    (x) => !Object.keys(trigger).includes(x),\n  );\n\n  Object.keys(trigger).forEach((key) => {\n    if (key.startsWith('image')) {\n      triggerResult.push(\n        <ImageForm\n          key={`trigger_${inspection}_${key}`}\n          inspection={inspection}\n          id={key}\n          object={trigger}\n          propertyName={key}\n          allowedImageVariables={allowedImageVariables}\n          allowedVariables={allowedImagePathVariables}\n          onDelete={() => deleteProperty(key)}\n          informationText={informationToFieldsMap[key]}\n          treeStyle={{ overflow: 'scroll', height: '250px' }}\n        />,\n      );\n    } else {\n      triggerResult.push(\n        <PropertyForm\n          inspection={inspection}\n          key={`trigger_${inspection}_${key}`}\n          informationText={informationToFieldsMap[key]}\n          id={key}\n          object={trigger}\n          propertyName={key}\n          allowedVariables={\n            fieldsForTreeForValueSelection.includes(key)\n              ? allowedVariables\n              : allowedAutoCompleteVariables\n          }\n          onDelete={() => deleteProperty(key)}\n          excludedFields={!triggerPropertiesRequiresName.includes(key) ? ['name'] : []}\n          valueFieldType={\n            fieldsForTreeForValueSelection.includes(key)\n              ? COMPONENT_TYPE_TREE\n              : COMPONENT_TYPE_AUTOCOMPLETE\n          }\n        />,\n      );\n    }\n  });\n\n  return (\n    <div className=\"properties content\">\n      {triggerResult}\n      <div className=\"field-name-type\">\n        <div className=\"item\">Add new property:</div>\n        <div className=\"inputs\">\n          <div className=\"field-name-type\">\n            <div style={{ width: '200px', padding: '5px 0' }}>\n              <OutlinedSelection\n                selectedValue={newTriggerProperty}\n                values={remainingTriggerProperties}\n                onSelectionChanged={(e) => setNewTriggerProperty(e.addtriggerProp)}\n                name=\"Property\"\n                id=\"addtriggerProp\"\n              />\n            </div>\n            <div className=\"item\" style={{ margin: 'auto' }}>\n              <IconButton\n                tooltip=\"Add property\"\n                onClick={() => addNewTriggerProperty(subscription)}\n                iconUrl={addIcon}\n                style={{ margin: '0' }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TriggerSettings;\n","import React, { useState } from 'react';\nimport { Box } from '@material-ui/core';\nimport deleteIcon from '../../../../assets/icons/delete.svg';\nimport AutoComplete from '../../../AutoComplete';\nimport ObjectSelector from '../../../ObjectSelector';\nimport { OutlinedSelection } from '../../../OutlinedSelection';\nimport IconButton from '../../../buttons/IconButton';\nimport { treeEntityNameGenerator } from '../ImageForm';\nimport InformationBox from '../InformationBox';\nimport { COMPONENT_TYPE_AUTOCOMPLETE } from '../TriggerSettings';\n\nconst PropertyForm = ({\n  id,\n  object,\n  propertyName,\n  allowedVariables,\n  onDelete,\n  inspection,\n  excludedFields = [],\n  valueFieldType = COMPONENT_TYPE_AUTOCOMPLETE,\n  informationText = <></>,\n}) => {\n  const [treeNodeId, setTreeNodeId] = useState(object[propertyName].treeNodeId || 0);\n\n  const [name, setName] = useState(\n    typeof object[propertyName] === 'object' ? object[propertyName].name : '',\n  );\n  const [value, setValue] = useState(\n    typeof object[propertyName] === 'object' ? object[propertyName].value : object[propertyName],\n  );\n  const [enabled, setEnabled] = useState(\n    (typeof object[propertyName] === 'object' && object[propertyName].enabled) || true,\n  );\n\n  const getPropertyInputs = () => {\n    return (\n      <div className=\"field-name-type\">\n        <Box sx={{ mr: 1 }}>\n          {!excludedFields.includes('name') && (\n            <AutoComplete\n              label=\"Name\"\n              fullWidth\n              value={name}\n              onChange={(value) => {\n                setName(value);\n                object[propertyName].name = value;\n              }}\n              variant=\"outlined\"\n              size=\"small\"\n              className=\"item\"\n              suggestionList={allowedVariables}\n            />\n          )}\n        </Box>\n        <Box sx={{ mr: 1 }}>\n          {!excludedFields.includes('value') &&\n            allowedVariables &&\n            (valueFieldType === COMPONENT_TYPE_AUTOCOMPLETE ? (\n              <AutoComplete\n                label=\"Value\"\n                fullWidth\n                value={value}\n                onChange={(value) => {\n                  setValue(value);\n                  object[propertyName].value = value;\n                }}\n                variant=\"outlined\"\n                size=\"small\"\n                className=\"item\"\n                suggestionList={allowedVariables}\n              />\n            ) : (\n              ('node' in allowedVariables || 'children' in allowedVariables) && (\n                <ObjectSelector\n                  singleSelect\n                  selection={[treeNodeId]}\n                  expandedKeys={[treeNodeId]}\n                  data={allowedVariables}\n                  onChange={(selectedId) => {\n                    object[propertyName].treeNodeId = selectedId;\n                    const fullLocation = treeEntityNameGenerator(\n                      selectedId,\n                      allowedVariables,\n                      inspection,\n                    );\n                    object[propertyName].value = '${VALUE:' + fullLocation + '}';\n                    setTreeNodeId(selectedId);\n                  }}\n                  treeStyle={{ overflow: 'scroll', height: '250px' }}\n                />\n              )\n            ))}\n        </Box>\n        {!excludedFields.includes('enabled') && (\n          <div>\n            <OutlinedSelection\n              name=\"Enabled\"\n              selectedValue={enabled.toString()}\n              values={['true', 'false']}\n              onSelectionChanged={(e) => {\n                setEnabled(e.enabled === 'true');\n                object[propertyName].enabled = e.enabled === 'true';\n              }}\n              id=\"enabled\"\n            />\n          </div>\n        )}\n        <div>\n          <IconButton tooltip=\"Add property\" onClick={() => onDelete()} iconUrl={deleteIcon} />\n        </div>\n        {informationText && <InformationBox informationText={informationText} />}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"field-name-type\">\n      <div className=\"item\">\n        <div className=\"property-id\">{id}</div>\n      </div>\n      <div className=\"inputs\">{getPropertyInputs(object[propertyName])}</div>\n    </div>\n  );\n};\n\nexport default PropertyForm;\n","import React, { useState } from 'react';\nimport { Typography } from '@material-ui/core';\nimport addIcon from '../../../../assets/icons/plus.svg';\nimport { OutlinedSelection } from '../../../OutlinedSelection';\nimport IconButton from '../../../buttons/IconButton';\nimport PropertyForm from '../PropertyForm';\n\nconst batchPropertiesRequiresName = [\n  'data1',\n  'data2',\n  'data3',\n  'data4',\n  'vdata1',\n  'vdata2',\n  'vdata3',\n  'vdata4',\n  'vdata5',\n  'vdata6',\n  'vdata7',\n  'vdata8',\n  'vdata9',\n  'vdata10',\n];\n\nconst batchProperties = [\n  ...[\n    '',\n    'batch_inspectionid',\n    'timestamp',\n    'svimname',\n    'inspectionname',\n    'batchid',\n    'batchname',\n    'batchstart',\n    'comment',\n    'username',\n    'machinenum',\n    'machinetype',\n    'sectionid',\n    'sectionname',\n    'sectioncomment',\n    'productionspeed',\n    'headerid',\n  ],\n  ...batchPropertiesRequiresName,\n];\n\nconst informationToFieldsMap = {};\n\nbatchProperties.forEach((key) => {\n  informationToFieldsMap[key] = (\n    <>\n      <Typography gutterBottom>\n        Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in,\n        egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n      </Typography>\n      <Typography gutterBottom>\n        Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus\n        vel augue laoreet rutrum faucibus dolor auctor.\n      </Typography>\n      <Typography gutterBottom>\n        Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel\n        scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus\n        auctor fringilla.\n      </Typography>\n    </>\n  );\n});\nconst BatchSettings = ({ subscription, allowedVariables }) => {\n  const [newBatchProperty, setNewBatchProperty] = useState('');\n  const [update, setUpdate] = useState(false);\n\n  const addNewBatchProperty = (subscription) => {\n    if (!subscription.batch || newBatchProperty === '') {\n      subscription.batch = {};\n    }\n\n    subscription.batch[newBatchProperty] = { name: '', value: '', enabled: true };\n    setNewBatchProperty('');\n  };\n\n  const { batch, inspection } = subscription;\n  const batchResult = [];\n\n  Object.keys(batch).map((key) => {\n    if (typeof batch[key] === 'string') {\n      batch[key] = {\n        name: '',\n        value: batch[key],\n        enabled: true,\n      };\n    }\n    return batch[key];\n  });\n\n  const remainingBatchProperties = batchProperties.filter((x) => !Object.keys(batch).includes(x));\n\n  Object.keys(batch).forEach((key) => {\n    batchResult.push(\n      <PropertyForm\n        key={`batch_${inspection}_${key}`}\n        id={key}\n        object={batch}\n        propertyName={key}\n        allowedVariables={allowedVariables}\n        excludedFields={!batchPropertiesRequiresName.includes(key) ? ['name'] : []}\n        onDelete={() => {\n          delete batch[key];\n          setUpdate(!update);\n        }}\n        informationText={informationToFieldsMap[key]}\n      />,\n    );\n  });\n\n  return (\n    <div className=\"properties content\">\n      {batchResult}\n      <div className=\"field-name-type\">\n        <div className=\"item\">Add new property:</div>\n        <div className=\"inputs\">\n          <div className=\"field-name-type\">\n            <div style={{ width: '200px', padding: '5px 0' }}>\n              <OutlinedSelection\n                selectedValue={newBatchProperty}\n                values={remainingBatchProperties}\n                onSelectionChanged={(e) => setNewBatchProperty(e.addbatchProp)}\n                name=\"Property\"\n                id=\"addbatchProp\"\n              />\n            </div>\n            <div style={{ margin: 'auto 0' }}>\n              <IconButton\n                tooltip=\"Add property\"\n                onClick={() => addNewBatchProperty(subscription)}\n                iconUrl={addIcon}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BatchSettings;\n","import React, { ReactNode, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { useSelector, useDispatch } from 'react-redux';\nimport deleteIcon from '../../assets/icons/delete.svg';\nimport { saveDatabaseGatewayConfiguration } from '../../redux/actions';\nimport { SvPb } from '../../types/protobuf';\nimport ModalNotification from '../ModalNotification.js';\nimport { OutlinedSelection } from '../OutlinedSelection';\nimport IconButton from '../buttons/IconButton';\nimport BatchSettings from './components/BatchSettings';\nimport TriggerSettings from './components/TriggerSettings';\n\nimport './style.scss';\n\nexport interface AppConfiguration {\n  globalConstants: Record<string, any>;\n  inspectionSubscriptions: Array<InspectionSubscriptionConfig>;\n  inspections: Array<Inspection>;\n  objectSelectorItems: Map<Inspection['id'], SvPb.GetObjectSelectorItemsResponse>;\n  idNameMappings: Map<Inspection['id'], { fullLocation: string }>;\n  filterArrayValuesFromTree: <T>(val: T) => T;\n  getObjectSelectorImagesForInspection: <T>(inspectionId: Inspection['id']) => T;\n}\n\nexport interface Inspection {\n  name: string;\n  id: number;\n}\n\nexport interface RootState {\n  app: {\n    databaseGatewayConfig: DatabaseGatewayConfig;\n    configuration: AppConfiguration;\n    protobuf: Record<string, unknown>;\n  };\n}\n\nexport interface DatabaseGatewayConfig {\n  inspectionSubscriptions: Array<InspectionSubscriptionConfig>;\n}\n\nexport interface InspectionSubscriptionConfig {\n  url?: string;\n  inspection: string;\n  batch: Partial<BatchConfig>;\n  trigger: Partial<TriggerConfig>;\n}\n\nexport interface BatchConfig extends DataTriggerConfig {\n  comment: string;\n  batchname: string;\n  inspectionname: string;\n  sectionid: string;\n  productionspeed: string;\n  timestamp: string;\n  headerid: number;\n}\n\ninterface DataAttributes {\n  enabled: boolean;\n  name: string;\n  value: string;\n}\n\ntype ResultNames = 'result1' | 'result2' | 'result3';\ntype ImageNames = 'image1' | 'image2' | 'image3' | 'image4';\ntype DataNames =\n  | 'data1'\n  | 'data2'\n  | 'data3'\n  | 'data4'\n  | 'data5'\n  | 'data6'\n  | 'data7'\n  | 'data8'\n  | 'data9'\n  | 'data10'\n  | 'data11'\n  | 'data12'\n  | 'data13'\n  | 'data14'\n  | 'data15'\n  | 'data16'\n  | 'data17'\n  | 'data18'\n  | 'data19';\n\ntype DataTriggerConfig = Partial<Record<DataNames, DataAttributes>>;\ntype ImageTriggerConfig = Partial<Record<ImageNames, TriggerImageConfig>>;\ntype ResultTriggerConfig = Partial<Record<ResultNames, DataAttributes>>;\ntype DataImageTriggerConfig = DataTriggerConfig & ImageTriggerConfig & ResultTriggerConfig;\n\nexport interface TriggerConfig extends DataImageTriggerConfig {\n  storeCondition: string;\n  revolution: string;\n}\n\nexport interface TriggerImageConfig {\n  enabled: boolean;\n  samplingRate: number; //  0.10\n  image: string; // \"${IMAGE:Inspections.C11 Fingergrip.Tool Set.Image}\"\n  path: string; // \"${CONSTANT:Global.Product Name}/${DATE:YYYY-MM-DD}/${CONSTANT:Global.Batch Name}/Reject-${VALUE:Inspections.C11 Fingergrip.Tool Set.1010 M reject condition.Passed}/${trigger}-${name}.bmp\"\n}\n\nconst generateDefaultInspectionSubscription = (inspectionName = '') => ({\n  inspection: inspectionName,\n  batch: {},\n  trigger: {},\n});\n\nexport type TriggerVariablesType = SvPb.GetObjectSelectorItemsResponse['tree'] | string[] | null;\n\nconst DatabaseGatewayEditor = () => {\n  const dispatch = useDispatch();\n  const configuration = useSelector<RootState, DatabaseGatewayConfig>(\n    (state) => state.app.databaseGatewayConfig || { inspectionSubscriptions: [] },\n  );\n\n  const webAppConfiguration = useSelector<RootState, AppConfiguration>(\n    (state) => state.app.configuration,\n  );\n  const protobuf = useSelector<RootState>((state) => state.app.protobuf);\n  const [update, setUpdate] = useState<boolean>(false);\n\n  const batchVariables: string[] = [];\n  if (webAppConfiguration && webAppConfiguration.globalConstants) {\n    (webAppConfiguration.globalConstants || []).forEach((constant: string) => {\n      batchVariables.push('${CONSTANT:' + constant + '}');\n    });\n  }\n\n  const allowedImagePathVariables = [...batchVariables];\n  allowedImagePathVariables.push('${trigger}');\n  allowedImagePathVariables.push('${name}');\n  allowedImagePathVariables.push('${DATE:YYYY-MM-DD}');\n\n  const saveConfiguration = () => {\n    simplifyConfiguration();\n    dispatch(saveDatabaseGatewayConfiguration(protobuf, configuration));\n  };\n\n  const simplifyConfiguration = () => {\n    configuration.inspectionSubscriptions.forEach((subscription) => {\n      if (subscription?.batch) {\n        const batch = subscription.batch;\n        for (const [key, value] of Object.entries(batch)) {\n          if (typeof value === 'object' && value.name === '' && value.enabled !== false) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            batch[key] = value.value;\n          }\n        }\n      }\n    });\n  };\n\n  const getInspectionNames = () => {\n    const names: string[] = [];\n    (webAppConfiguration?.inspections || []).forEach((inspection) => {\n      names.push(inspection.name);\n    });\n    return names;\n  };\n\n  const getInspectionId = (inspectionName: string) => {\n    const filteredInspections = webAppConfiguration.inspections.filter(\n      (inspection) => inspection.name === inspectionName,\n    );\n    if (filteredInspections.length > 0) {\n      return filteredInspections[0].id;\n    }\n\n    return -1;\n  };\n\n  const getTriggerVariablesAsTree = (inspectionId: Inspection['id']) => {\n    const items = webAppConfiguration?.objectSelectorItems.get(inspectionId) || [];\n    let tree: SvPb.GetObjectSelectorItemsResponse['tree'] = 'tree' in items ? items.tree : null;\n    tree = webAppConfiguration.filterArrayValuesFromTree<typeof tree>(tree);\n\n    return tree;\n  };\n\n  const getTriggerVariables = (inspectionId: Inspection['id']) => {\n    const variables: string[] = [];\n    const mapping = webAppConfiguration?.idNameMappings.get(inspectionId);\n\n    if (mapping) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      mapping.forEach((value) => {\n        variables.push('${VALUE:' + value.fullLocation + '}');\n      });\n    }\n    return variables;\n  };\n\n  const getImageVariables = (inspectionId: Inspection['id']) => {\n    const { tree } =\n      webAppConfiguration?.getObjectSelectorImagesForInspection<SvPb.GetObjectSelectorItemsResponse>(\n        inspectionId,\n      ) || {\n        tree: {},\n      };\n    return tree;\n  };\n\n  const deleteSubscription = (idx: number) => {\n    configuration.inspectionSubscriptions.splice(idx, 1);\n    setUpdate(!update);\n  };\n\n  const inspectionNames = getInspectionNames();\n\n  const renderConfig = () => {\n    const subscriptions: ReactNode[] = [];\n    configuration.inspectionSubscriptions.forEach((subscription, idx) => {\n      let triggerVariablesAsTree: ReturnType<typeof getTriggerVariablesAsTree & string[]> = null;\n      let triggerVariables: string[] = [];\n      let allowedImageVariables = null;\n      if (webAppConfiguration && webAppConfiguration.inspections) {\n        const inspectionId = getInspectionId(subscription.inspection);\n        triggerVariablesAsTree = getTriggerVariablesAsTree(inspectionId);\n        triggerVariables = getTriggerVariables(inspectionId);\n        allowedImageVariables = getImageVariables(inspectionId);\n      }\n\n      subscriptions.push(\n        <div\n          key={`subscription_${subscription.inspection}_${idx}`}\n          className=\"database-gateway-fields-container\"\n        >\n          <div>\n            <IconButton\n              tooltip=\"Add property\"\n              onClick={() => deleteSubscription(idx)}\n              iconUrl={deleteIcon}\n            />\n          </div>\n          <div className=\"field-container\">\n            <div key={`inspection_name_wrapper`} className=\"header\">\n              Inspection:\n            </div>\n            <div className=\"field-settings\">\n              <OutlinedSelection\n                selectedValue={subscription.inspection}\n                values={inspectionNames}\n                onSelectionChanged={(e) => {\n                  subscription.inspection = e.inspectionSelection as string;\n                  setUpdate(!update);\n                }}\n                id=\"inspectionSelection\"\n              />\n            </div>\n          </div>\n          <div className=\"field-container\">\n            <div className=\"header\">Batch:</div>\n            <BatchSettings subscription={subscription} allowedVariables={batchVariables} />\n          </div>\n          <div className=\"field-container\">\n            <div className=\"header\">Trigger:</div>\n            <TriggerSettings\n              subscription={subscription}\n              allowedVariables={triggerVariablesAsTree}\n              allowedAutoCompleteVariables={triggerVariables}\n              allowedImageVariables={allowedImageVariables}\n              allowedImagePathVariables={allowedImagePathVariables}\n            />\n          </div>\n        </div>,\n      );\n    });\n\n    return subscriptions;\n  };\n\n  const addNewSubscription = () => {\n    if (configuration.inspectionSubscriptions) {\n      configuration.inspectionSubscriptions.push(\n        generateDefaultInspectionSubscription(inspectionNames[0]),\n      );\n      saveConfiguration();\n    }\n    setUpdate(!update);\n  };\n\n  return (\n    <div className=\"database-gateway-editor-wrapper\">\n      <ModalNotification visible={!webAppConfiguration} message={<p>Loading...</p>} />\n      <Button variant=\"contained\" color=\"primary\" onClick={() => saveConfiguration()}>\n        Save\n      </Button>\n      {renderConfig()}\n      <Button variant=\"contained\" color=\"primary\" onClick={() => addNewSubscription()}>\n        Add subscription\n      </Button>\n    </div>\n  );\n};\n\nexport default DatabaseGatewayEditor;\n","import React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useSelector } from 'react-redux';\n\nimport DatabaseGatewayEditor from '../components/DatabaseGatewayEditor';\nimport translations from '../translations';\n\nconst DatabaseGatewayPage = () => {\n  const { locale } = useSelector((state) => state.app);\n\n  return (\n    <IntlProvider locale={locale} messages={translations[locale]}>\n      <DatabaseGatewayEditor />\n    </IntlProvider>\n  );\n};\n\nexport default DatabaseGatewayPage;\n","import { useEffect } from 'react';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport ClearIcon from '../../../../assets/icons/clear.svg';\nimport { OutlinedSelection } from '../../../../components/OutlinedSelection';\n\nconst SelectParameter = ({ value, options, labels, changeCallback, removeCallback }) => {\n  useEffect(() => {\n    if (typeof value === 'undefined') {\n      changeCallback && changeCallback(options[0]);\n    }\n  });\n\n  let valuesWithLabels = [];\n\n  // if we have a labels array, options and labels need to be sorted together\n  // if we don't have label array, the values will be used as id and value in select\n  if (labels) {\n    options.forEach((option, idx) => valuesWithLabels.push({ option, label: labels[idx] }));\n\n    valuesWithLabels = valuesWithLabels.sort(function (a, b) {\n      return a.label.localeCompare(b.label);\n    });\n\n    options = valuesWithLabels.map((value) => value.option);\n    labels = valuesWithLabels.map((value) => value.label);\n  } else {\n    options = options.sort();\n  }\n\n  return (\n    <OutlinedSelection\n      selectedValue={value}\n      values={options}\n      labels={labels}\n      onSelectionChanged={(e) => {\n        changeCallback && changeCallback(e['param']);\n      }}\n      id=\"param\"\n      InputProps={\n        removeCallback\n          ? {\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    edge=\"end\"\n                    aria-label=\"remove\"\n                    onClick={() => removeCallback()}\n                    title=\"Remove\"\n                  >\n                    <img src={ClearIcon} alt=\"x\" />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }\n          : null\n      }\n    />\n  );\n};\n\nexport default SelectParameter;\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\n\nconst ArrayParameter = ({\n  value,\n  changeCallback,\n  typeName,\n  defaultValue,\n  options,\n  labels,\n  SingleParameterComponent,\n}) => {\n  const numberOfEntries = (value && value.length) || 0;\n  const fields = [];\n\n  const addArrayEntry = () => {\n    changeCallback([...(value || []), defaultValue]);\n  };\n  const removeArrayEntry = (idx) => {\n    const copy = [...value];\n    copy.splice(idx, 1);\n    changeCallback(copy);\n  };\n\n  for (let i = 0; i < numberOfEntries; i++) {\n    fields.push(\n      <div className=\"field-container\" key={`${typeName}_array_${i}`}>\n        <div className=\"field-name-type\">\n          {i}\n          <small>{typeName}</small>\n        </div>\n        <div className=\"field-settings\">\n          <SingleParameterComponent\n            value={value[i]}\n            changeCallback={(newValue) => {\n              const copy = [...(value || [])];\n              copy[i] = newValue;\n              changeCallback(copy);\n            }}\n            options={options}\n            labels={labels}\n            removeCallback={() => removeArrayEntry(i)}\n          />\n        </div>\n      </div>,\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"field-container is-array\">\n        {fields.length ? (\n          fields\n        ) : (\n          <div className=\"field-container\">\n            <div className=\"field-name-type\">\n              <em>\n                <FormattedMessage id=\"debugger.noItemsMessage\" />\n              </em>\n            </div>\n            <div className=\"field-settings\"></div>\n          </div>\n        )}\n      </div>\n      <Button variant=\"contained\" color=\"primary\" onClick={() => addArrayEntry()}>\n        <FormattedMessage id=\"debugger.addItemButtonText\" />\n      </Button>\n    </div>\n  );\n};\n\nexport default ArrayParameter;\n","import React from 'react';\nimport SelectParameter from '../../generic/SelectParameter';\n\nconst BoolParameter = ({ value, changeCallback }) => {\n  return (\n    <SelectParameter\n      value={value && value !== 'false' ? 'true' : 'false'}\n      options={['true', 'false']}\n      changeCallback={(value) => changeCallback(value === 'true')}\n    />\n  );\n};\n\nexport default BoolParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport BoolParameter from '../BoolParameter';\n\nconst BoolArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={false}\n      SingleParameterComponent={BoolParameter}\n    />\n  );\n};\n\nexport default BoolArrayParameter;\n","import React from 'react';\nimport { TextField } from '@material-ui/core';\n\nconst BytesParameter = ({ value, changeCallback }) => {\n  return (\n    <TextField\n      fullWidth\n      type=\"file\"\n      variant=\"outlined\"\n      value={value || ''}\n      onChange={(e) => changeCallback && changeCallback(e.target.value)}\n    />\n  );\n};\n\nexport default BytesParameter;\n","import React from 'react';\nimport { TextField, InputAdornment, IconButton } from '@material-ui/core';\nimport ClearIcon from '../../../../assets/icons/clear.svg';\n\nconst SingleParameter = ({ value, changeCallback, removeCallback, fieldType, defaultValue }) => {\n  return (\n    <TextField\n      fullWidth\n      type={fieldType}\n      variant=\"outlined\"\n      value={value || defaultValue}\n      onChange={(e) => changeCallback && changeCallback(e.target.value)}\n      InputProps={\n        removeCallback\n          ? {\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    edge=\"end\"\n                    aria-label=\"remove\"\n                    onClick={() => removeCallback()}\n                    title=\"Remove\"\n                  >\n                    <img src={ClearIcon} alt=\"x\" />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }\n          : null\n      }\n    />\n  );\n};\n\nexport default SingleParameter;\n","import React from 'react';\nimport SingleParameter from '../../generic/SingleParameter';\n\nconst DecimalParameter = ({ value, changeCallback, removeCallback }) => {\n  return (\n    <SingleParameter\n      value={value}\n      changeCallback={changeCallback}\n      removeCallback={removeCallback}\n      fieldType=\"number\"\n      defaultValue={0}\n    />\n  );\n};\n\nexport default DecimalParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport DecimalParameter from '../DecimalParameter';\n\nconst DecimalArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={0}\n      SingleParameterComponent={DecimalParameter}\n    />\n  );\n};\n\nexport default DecimalArrayParameter;\n","import React from 'react';\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport SelectParameter from '../../generic/SelectParameter';\n\nconst EnumArrayParameter = ({ value, options, changeCallback }) => {\n  return (\n    <ArrayParameter\n      value={(value || []).map((i) => String(i))}\n      changeCallback={changeCallback}\n      options={Object.values(options)}\n      labels={Object.keys(options)}\n      SingleParameterComponent={SelectParameter}\n    />\n  );\n};\n\nexport default EnumArrayParameter;\n","import React from 'react';\nimport SelectParameter from '../../generic/SelectParameter';\n\nconst EnumParameter = ({ value, options, changeCallback }) => {\n  return (\n    <SelectParameter\n      value={String(value)}\n      options={Object.values(options)}\n      labels={Object.keys(options)}\n      changeCallback={(value) => changeCallback(value)}\n    />\n  );\n};\n\nexport default EnumParameter;\n","import React from 'react';\nimport SingleParameter from '../../generic/SingleParameter';\n\nconst IntegerParameter = ({ value, changeCallback, removeCallback }) => {\n  return (\n    <SingleParameter\n      value={value}\n      changeCallback={changeCallback}\n      removeCallback={removeCallback}\n      fieldType=\"number\"\n      defaultValue={0}\n    />\n  );\n};\n\nexport default IntegerParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport IntegerParameter from '../IntegerParameter';\n\nconst IntegerArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={0}\n      SingleParameterComponent={IntegerParameter}\n    />\n  );\n};\n\nexport default IntegerArrayParameter;\n","import React from 'react';\n\nimport SingleParameter from '../../generic/SingleParameter';\n\nconst TextParameter = ({ value, changeCallback, removeCallback, typeName }) => {\n  return (\n    <SingleParameter\n      value={value}\n      typeName={typeName}\n      changeCallback={changeCallback}\n      removeCallback={removeCallback}\n      fieldType=\"text\"\n      defaultValue={''}\n    />\n  );\n};\n\nexport default TextParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport TextParameter from '../TextParameter';\n\nconst TextArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={''}\n      SingleParameterComponent={TextParameter}\n    />\n  );\n};\n\nexport default TextArrayParameter;\n","import React, { useEffect, useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { cloneDeep, get, set } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\nimport { useSelector } from 'react-redux';\n\nimport Protobuf from '../../protobuf/Protobuf';\n\nimport './style.scss';\nimport SelectParameter from './generic/SelectParameter';\nimport BoolArrayParameter from './specialized/BoolArrayParameter';\nimport BoolParameter from './specialized/BoolParameter';\nimport BytesParameter from './specialized/BytesParameter';\nimport DecimalArrayParameter from './specialized/DecimalArrayParameter';\nimport DecimalParameter from './specialized/DecimalParameter';\nimport EnumArrayParameter from './specialized/EnumArrayParameter';\nimport EnumParameter from './specialized/EnumParameter';\nimport IntegerArrayParameter from './specialized/IntegerArrayParameter';\nimport IntegerParameter from './specialized/IntegerParameter';\nimport TextArrayParameter from './specialized/TextArrayParameter';\nimport TextParameter from './specialized/TextParameter';\n\nconst RequestParameter = ({ name, onResponse }) => {\n  const protobuf = useSelector((state) => state.app.protobuf);\n  const [parameters, setParameters] = useState({});\n  const [nestedParamsMap, setNestedParamsMap] = useState({});\n  const [currentRequestName, setCurrentRequestName] = useState('');\n\n  useEffect(() => {\n    if (currentRequestName === name) return;\n\n    setParameters({});\n    setNestedParamsMap({});\n    setCurrentRequestName(name);\n  }, [name, currentRequestName]);\n\n  if (!Protobuf.SvPb[name]) {\n    return <div></div>;\n  }\n\n  const sendRequest = async () => {\n    onResponse('');\n    if (name === 'MyDummyRequest') {\n      onResponse(parameters);\n      return;\n    }\n    const request = Protobuf.SvPb[name].create(parameters);\n    console.dir(parameters);\n    try {\n      const response = await protobuf.request(request);\n      onResponse(response);\n    } catch (e) {\n      onResponse(`An error occured: ${e.message}`);\n    }\n  };\n\n  const deepValue = (obj, path) => {\n    if (!path) return obj;\n    return get(obj, path);\n  };\n\n  const getStringControl = (field, currentPath, currentValue) => {\n    return (\n      <TextParameter\n        key={`txt_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getStringArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <TextArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getBoolControl = (field, currentPath, currentValue) => {\n    return (\n      <BoolParameter\n        key={`bool_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getBoolArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <BoolArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getIntegerControl = (field, currentPath, currentValue) => {\n    return (\n      <IntegerParameter\n        key={`integer_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getIntegerArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <IntegerArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getDecimalControl = (field, currentPath, currentValue) => {\n    return (\n      <DecimalParameter\n        key={`decimal_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getDecimalArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <DecimalArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getBytesControl = (field, currentPath, currentValue) => {\n    return (\n      <BytesParameter\n        key={`bytes_${field.name}`}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getEnumControl = (type, field, currentPath, currentValue) => {\n    return (\n      <EnumParameter\n        value={currentValue}\n        options={type.values}\n        changeCallback={(value) => {\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, value);\n        }}\n      ></EnumParameter>\n    );\n  };\n\n  const getArrayEnumControl = (type, field, currentPath, currentValue) => {\n    return (\n      <EnumArrayParameter\n        value={currentValue}\n        options={type.values}\n        changeCallback={(value) => {\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, value);\n        }}\n      ></EnumArrayParameter>\n    );\n  };\n\n  const addArrayEntryForType = (currentPath, currentValue) => {\n    const newValue = currentValue ? [...currentValue] : [];\n    newValue.push({});\n    changeValue(currentPath, newValue);\n  };\n\n  const getControlForField = (field, isArray, currentPath) => {\n    const currentValue = deepValue(\n      parameters,\n      currentPath ? `${currentPath}.${field.name}` : field.name,\n    );\n\n    switch (field.type) {\n      case 'string':\n        if (isArray) {\n          return getStringArrayControl(field, currentPath, currentValue);\n        }\n\n        return getStringControl(field, currentPath, currentValue);\n      case 'bool':\n        if (isArray) {\n          return getBoolArrayControl(field, currentPath, currentValue);\n        }\n\n        return getBoolControl(field, currentPath, currentValue);\n      case 'int32':\n      case 'int64':\n      case 'uint32':\n      case 'uint64':\n      case 'sint32':\n      case 'sint64':\n      case 'fixed32':\n      case 'fixed64':\n      case 'sfixed32':\n      case 'sfixed64':\n        if (isArray) {\n          return getIntegerArrayControl(field, currentPath, currentValue);\n        }\n\n        return getIntegerControl(field, currentPath, currentValue);\n      case 'double':\n      case 'float':\n        if (isArray) {\n          return getDecimalArrayControl(field, currentPath, currentValue);\n        }\n\n        return getDecimalControl(field, currentPath, currentValue);\n      case 'bytes':\n        return getBytesControl(field, currentPath, currentValue);\n      default: {\n        const type = Protobuf.SvPb.lookup(field.type);\n        if (type && type.constructor.name === 'Enum') {\n          if (isArray) {\n            return getArrayEnumControl(type, field, currentPath, currentValue);\n          }\n\n          return getEnumControl(type, field, currentPath, currentValue);\n        }\n\n        const newPath = currentPath ? `${currentPath}.${field.name}` : field.name;\n\n        if (isArray) {\n          return getArrayControlsForType(type, newPath, currentValue);\n        }\n\n        return getControlsForType(type, newPath, currentValue);\n      }\n    }\n  };\n\n  const changeValue = (path, value) => {\n    const newParams = cloneDeep(parameters);\n    set(newParams, path, value);\n    setParameters(newParams);\n  };\n\n  const getControlsForType = (type, path) => {\n    const controls = [];\n    const fieldKeys = type?.fields ? Object.keys(type.fields) : [];\n\n    if (type.oneofs) {\n      Object.keys(type.oneofs).forEach((oneOfKey) => {\n        controls.push(\n          <div className=\"field-container\" key={`div_${oneOfKey}`}>\n            <div className=\"field-name-type\">\n              {oneOfKey}\n              <small>oneof type</small>\n            </div>\n            <div className=\"field-settings\">\n              <SelectParameter\n                value={nestedParamsMap[`${path}.${oneOfKey}`]}\n                options={type.oneofs[oneOfKey].oneof}\n                changeCallback={(value) => {\n                  setNestedParamsMap({\n                    ...nestedParamsMap,\n                    [`${path}.${oneOfKey}`]: value,\n                  });\n                }}\n              ></SelectParameter>\n            </div>\n          </div>,\n        );\n      });\n    }\n\n    fieldKeys.forEach((fieldkey) => {\n      const field = type.fields[fieldkey];\n      if (!field) return;\n\n      if (field.partOf && field.name !== nestedParamsMap[`${path}.${field.partOf.name}`]) {\n        return;\n      }\n\n      controls.push(\n        <div className=\"field-container\" key={`div_${field.name}`}>\n          <div className=\"field-name-type\">\n            {field.name}\n            <small>\n              {field.rule} {field.type}\n              {field.required ? '*' : ''}\n            </small>\n          </div>\n          <div className=\"field-settings\">\n            {getControlForField(field, field.rule === 'repeated', path)}\n          </div>\n        </div>,\n      );\n    });\n\n    if (!fieldKeys.length && path.length)\n      controls.push(\n        <div className=\"field-container\" key={`div_type.name`}>\n          <div className=\"field-name-type\">\n            <em>\n              <FormattedMessage id=\"debugger.nothingToConfigureMessage\"></FormattedMessage>\n            </em>\n          </div>\n          <div className=\"field-settings\"></div>\n        </div>,\n      );\n\n    return controls;\n  };\n\n  const getArrayControlsForType = (type, path, value) => {\n    const controls = [];\n    (value || []).forEach((_, idx) => {\n      controls.push(\n        <div className=\"field-container\" key={`${type.name}_array_${idx}`}>\n          <div className=\"field-name-type\">\n            {idx}\n            <small>{type.name}</small>\n          </div>\n          <div className=\"field-settings\">\n            {getControlsForType(type, path ? `${path}.${idx}` : idx, value[idx])}\n          </div>\n        </div>,\n      );\n    });\n\n    return (\n      <div>\n        <div className=\"field-container is-array\">\n          {controls.length ? (\n            controls\n          ) : (\n            <div className=\"field-container\">\n              <div className=\"field-name-type\">\n                <em>\n                  <FormattedMessage id=\"debugger.noItemsMessage\" />\n                </em>\n              </div>\n              <div className=\"field-settings\"></div>\n            </div>\n          )}\n        </div>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => addArrayEntryForType(path, value)}\n        >\n          Add\n        </Button>\n      </div>\n    );\n  };\n\n  const fields = getControlsForType(Protobuf.SvPb[name], '');\n  return (\n    <div className=\"request-parameters-container\">\n      <div className=\"request-name-type\">\n        {name}\n        <small>Request</small>\n      </div>\n      <div className=\"request-parameters-fields-container\">\n        {fields && fields.length ? fields : <FormattedMessage id=\"debugger.noParametersMessage\" />}\n      </div>\n\n      <Button\n        className=\"send-button\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => sendRequest()}\n      >\n        <FormattedMessage id=\"debugger.sendRequest\" />\n      </Button>\n    </div>\n  );\n};\n\nexport default RequestParameter;\n","import React, { useEffect, useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport Product from '../../protobuf/Product';\n\nimport './style.scss';\n\nconst RequestedResponseVisualizer = ({ response }) => {\n  const [imageUrl, setImageUrl] = useState('');\n  const [fileData, setFileData] = useState('');\n\n  useEffect(() => {\n    if (response && response.imageData) {\n      const product = new Product({\n        history: null,\n        trigger: null,\n        isReject: false,\n      });\n      setImageUrl(product.buildUrl(response.imageData));\n    } else {\n      setImageUrl('');\n    }\n  }, [response]);\n\n  useEffect(() => {\n    if (response && response.fileData) {\n      const blob = new Blob(response.fileData, { type: 'octet/stream' });\n      setFileData(window.URL.createObjectURL(blob));\n    } else {\n      setFileData('');\n    }\n  }, [response]);\n\n  const copyResponseToClipboard = async () => {\n    if (!navigator.clipboard) {\n      // fallback code possible, but I think not needed as we use the debugger only\n      return;\n    }\n    await navigator.clipboard.writeText(result);\n  };\n\n  const result = response ? JSON.stringify(response, null, 2) : '';\n\n  return (\n    <div className=\"response-body-container\">\n      <div className=\"response-body-header\">\n        <div className=\"response-name-type\">\n          {response ? response.constructor.name : 'Response'}\n          <small>Response</small>\n        </div>\n        <div>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={copyResponseToClipboard}\n            disabled={!result}\n          >\n            <FormattedMessage id=\"debugger.copyToClipboard\" />\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"response-content\">\n        {imageUrl ? <img src={imageUrl} alt=\"\" /> : undefined}\n        {fileData ? <a href={fileData}>Download</a> : undefined}\n        <pre className=\"response-formatter\">{result}</pre>\n      </div>\n    </div>\n  );\n};\n\nexport default RequestedResponseVisualizer;\n","import React, { useEffect, useState } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\n\nconst RequestsList = ({ proto, chooseCallback }) => {\n  const [filter, setFilter] = useState('');\n  const [active, setActive] = useState(null);\n\n  const requests = Object.keys(proto)\n    .sort()\n    .reduce((requests, key) => {\n      if (!key.toLowerCase().includes(filter)) return requests;\n\n      return [\n        ...requests,\n        <li\n          key={`li_${key}`}\n          requestname={key}\n          className={active === key ? 'active' : ''}\n          onClick={() => {\n            chooseCallback(key);\n            setActive(key);\n          }}\n        >\n          {key}\n        </li>,\n      ];\n    }, []);\n\n  useEffect(() => {\n    if (!active) {\n      chooseCallback(requests[0].props.requestname);\n      setActive(requests[0].props.requestname);\n    }\n  }, [active, chooseCallback, requests]);\n\n  return (\n    <div className=\"requests-list\">\n      <div className=\"request-list-header\">\n        <FormattedMessage id=\"debugger.requestsListHeader\" />\n        <small>Choose one from the list below</small>\n      </div>\n      <div className=\"requests-filter\">\n        <TextField\n          fullWidth\n          type=\"text\"\n          variant=\"outlined\"\n          value={filter}\n          onChange={(e) => setFilter(e.target.value.toLowerCase())}\n          placeholder=\"Search...\"\n        />\n      </div>\n      <div className=\"requests\">\n        <ul>{requests}</ul>\n      </div>\n    </div>\n  );\n};\n\nexport default RequestsList;\n","import React, { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router-dom';\nimport ArrowIcon from '../../assets/icons/back.svg';\nimport Protobuf from '../../protobuf/Protobuf';\nimport RequestParameter from '../RequestParameter';\nimport RequestedResponseVisualizer from '../RequestedResponseVisualizer';\nimport RequestsList from '../RequestsList';\n\nimport './style.scss';\n\nconst Debugger = () => {\n  const [currentRequest, setCurrentRequest] = useState('');\n  const [response, setResponse] = useState(null);\n\n  const filteredProto = Object.keys(Protobuf.SvPb)\n    .sort()\n    .reduce((requests, key) => {\n      if (!key.endsWith('Request')) return requests;\n      if (key.endsWith('StreamRequest')) return requests;\n      if (\n        Protobuf.SvPb[key].filename.includes('InspectionCommands') &&\n        key !== 'InspectionCmdRequest'\n      )\n        return requests;\n      if (Protobuf.SvPb[key].filename.includes('ConfigCommands') && key !== 'ConfigCommandRequest')\n        return requests;\n\n      return { ...requests, [key]: Protobuf.SvPb[key] };\n    }, {});\n\n  return (\n    <div className=\"debugger-wrapper\">\n      <div className=\"debugger-header\">\n        <Button component={Link} variant=\"contained\" color=\"primary\" to=\"/app\">\n          <img src={ArrowIcon} alt=\"back\" className=\"image-item\" />\n          <FormattedMessage id=\"debugger.backToWebApp\" />\n        </Button>\n      </div>\n      <div className=\"request-list-container\">\n        <RequestsList\n          proto={filteredProto}\n          chooseCallback={(key) => {\n            setCurrentRequest(key);\n            setResponse(null);\n          }}\n        />\n      </div>\n      <div className=\"request-container\">\n        <RequestParameter name={currentRequest} onResponse={(response) => setResponse(response)} />\n      </div>\n      <div className=\"response-container\">\n        <RequestedResponseVisualizer response={response} />\n      </div>\n    </div>\n  );\n};\n\nexport default Debugger;\n","import React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport Debugger from '../components/Debugger';\nimport translations from '../translations';\n\nconst DebuggerPage = () => {\n  const { locale } = useSelector((state) => state.app);\n  return (\n    <IntlProvider locale={locale} messages={translations[locale]}>\n      <Debugger />\n    </IntlProvider>\n  );\n};\n\nexport default DebuggerPage;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router';\n\nimport {\n  setLocale,\n  authenticate,\n  setTopNavHidden,\n  setBottomNavHidden,\n  setDefaultViewSetName,\n} from '../redux/actions';\nimport logger from '../utils/logger';\n\nconst parseQueryParams = (search) => {\n  const queryParams = {};\n  try {\n    search\n      .substr(1)\n      .split('&')\n      .forEach((item) => {\n        const part = item.split('=');\n        const key = part[0];\n        const value = part[1] && decodeURIComponent(part[1]);\n        queryParams[key] = value;\n      });\n  } catch (error) {\n    logger.error(error);\n  }\n  return queryParams;\n};\n\nclass HmiLoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authenticated: false,\n      queryParams: parseQueryParams(this.props.location.search),\n    };\n  }\n\n  componentDidMount() {\n    this.props.setTopNavHidden(this.state.queryParams.hideTopNavigation === 'true');\n    this.props.setBottomNavHidden(this.state.queryParams.hideBottomNavigation === 'true');\n\n    this.props.setLocale(this.state.queryParams.locale || 'en');\n\n    this.props.setDefaultViewSetName(this.state.queryParams.viewSet || null);\n\n    if (this.state.queryParams.token) {\n      this.props\n        .authenticate(this.state.queryParams.token)\n        .then(() => this.setState({ authenticated: true }))\n        .catch((authError) => this.setState({ authError }));\n    }\n  }\n\n  render() {\n    if (!this.state.queryParams.token) {\n      return <div>Malformed query params</div>;\n    }\n    if (this.state.authError) {\n      return (\n        <div>\n          Invalid token provided. Error: {this.state.authError.response?.status} Status:{' '}\n          {this.state.authError.response?.statusText}\n        </div>\n      );\n    }\n    if (!this.state.authenticated) {\n      return <div>Fetching auth token for provided access token</div>;\n    }\n\n    return (\n      <Redirect\n        to={{\n          pathname: '/app',\n          state: { viewSetTemplate: this.state.queryParams.viewSet },\n        }}\n      />\n    );\n  }\n}\n\nHmiLoginPage.propTypes = {\n  location: PropTypes.shape({\n    search: PropTypes.string,\n  }).isRequired,\n  setLocale: PropTypes.func.isRequired,\n  authenticate: PropTypes.func.isRequired,\n  setTopNavHidden: PropTypes.func.isRequired,\n  setBottomNavHidden: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  setLocale: (locale) => dispatch(setLocale(locale)),\n  authenticate: (accessToken) => dispatch(authenticate(accessToken)),\n  setTopNavHidden: (hidden) => dispatch(setTopNavHidden(hidden)),\n  setBottomNavHidden: (hidden) => dispatch(setBottomNavHidden(hidden)),\n  setDefaultViewSetName: (name) => dispatch(setDefaultViewSetName(name)),\n});\n\nexport default connect(null, mapDispatchToProps)(HmiLoginPage);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport { logOut } from '../redux/actions';\nimport { removeAllUserInfoFromStorage } from '../utils/localStorage';\n\nclass LogoutPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedOut: false,\n    };\n  }\n\n  render() {\n    this.props.onLogOut().then(() => {\n      this.setState({ loggedOut: true });\n    });\n\n    if (this.state.loggedOut) {\n      removeAllUserInfoFromStorage();\n      this.props.onLoggedOut();\n      return (\n        <Redirect\n          to={{\n            pathname: '/',\n            state: { loggedOut: true },\n          }}\n        />\n      );\n    }\n    return null;\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  onLogOut: () => dispatch(logOut()),\n});\n\nexport default connect(null, mapDispatchToProps)(LogoutPage);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  toggleFullscreenMode,\n  setEditingFocus,\n  setFocusedViewType,\n  setSaveFlag,\n  openHelpView,\n  setParameter,\n} from '../redux/actions/index';\nimport logger from '../utils/logger';\nimport { IMAGE_VIEW } from '../views/ViewSetFactory';\n\nexport default class KeyHandler extends Component {\n  componentDidMount() {\n    this.node.addEventListener('keydown', this.handleKeyEvent);\n    this.node.addEventListener('click', this.handleClick);\n  }\n\n  componentWillUnmount() {\n    this.node.removeEventListener('keydown', this.handleKeyEvent);\n    this.node.removeEventListener('click', this.handleClick);\n  }\n\n  handleKeyEvent = (event) => {\n    const keyString = `${event.ctrlKey ? 'ctrl+' : ''}${event.key}`;\n    switch (keyString) {\n      case 'ctrl+f':\n        event.preventDefault();\n        this.props.dispatch(toggleFullscreenMode(this.props.view));\n        break;\n      case 'F1':\n        event.preventDefault();\n        this.props.dispatch(openHelpView());\n        break;\n      default:\n        return;\n    }\n    event.stopPropagation();\n  };\n\n  handleClick = () => {\n    const { view, editingViewIds, dispatch, helpSection } = this.props;\n\n    if (view) {\n      try {\n        const viewId = view.props.id;\n        const viewSet = view.props.views.viewSet[viewId];\n        if (viewSet) {\n          const inspectionId = viewSet.inspectionId;\n          const viewType = viewSet.viewComponentClassId;\n          if (viewType === IMAGE_VIEW) {\n            dispatch(setEditingFocus(inspectionId, viewId));\n            dispatch(setParameter(null));\n\n            if (!editingViewIds.includes(viewId)) {\n              dispatch(setSaveFlag(true));\n            }\n          }\n          dispatch(setFocusedViewType(viewType));\n        }\n      } catch (e) {\n        logger.error(e instanceof Error ? e.message : String(e));\n      }\n    } else if (helpSection) {\n      dispatch(setFocusedViewType(helpSection));\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <div\n        tabIndex={0}\n        style={{ width: '100%', height: '100%' }}\n        ref={(node) => {\n          this.node = node;\n        }}\n      >\n        {children && children}\n      </div>\n    );\n  }\n}\n\nKeyHandler.defaultProps = {\n  children: undefined,\n};\n\nKeyHandler.propTypes = {\n  children: PropTypes.node,\n  dispatch: PropTypes.func.isRequired,\n  view: PropTypes.object, // eslint-disable-line\n};\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport ArrowIcon from '../../assets/icons/back.svg';\nimport Protobuf from '../../protobuf/Protobuf';\nimport {\n  flattenProtobuf,\n  canReadUserManagement,\n  canEditUserManagement,\n  getGroupPermissionsFromFlattenedPermissions,\n} from '../../utils/permissions';\n\nimport './style.scss';\n\nclass PermissionManagement extends Component {\n  constructor(props) {\n    super(props);\n    this.allAvailablePermissions = new Set();\n    this.state = {\n      redirect: false,\n      initiallySelectedPermissions: new Map(),\n      currentSelectedPermissions: new Map(),\n    };\n  }\n\n  componentDidMount() {\n    if (Protobuf.SvPb.Permissions) {\n      this.allAvailablePermissions = flattenProtobuf(Protobuf.SvPb.Permissions);\n      this.loadCurrentPermissions(this.props.groupPermissions);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      (prevProps.groupPermissions === undefined && this.props.groupPermissions) ||\n      prevProps.groupPermissions !== this.props.groupPermissions\n    ) {\n      this.loadCurrentPermissions(this.props.groupPermissions);\n    }\n  }\n\n  loadCurrentPermissions = (permissions) => {\n    if (permissions) {\n      const initiallySelectedPermissions = permissions;\n      const currentSelectedPermissions = cloneDeep(initiallySelectedPermissions);\n      this.setState({ initiallySelectedPermissions, currentSelectedPermissions });\n    }\n  };\n\n  onCheck(groupName, key, checked) {\n    const newPermissions = cloneDeep(this.state.currentSelectedPermissions);\n    if (!newPermissions.has(groupName)) {\n      newPermissions.set(groupName, { groupPermissions: new Set(), users: [] });\n    }\n    if (checked) {\n      newPermissions.get(groupName).groupPermissions.add(key);\n    } else {\n      newPermissions.get(groupName).groupPermissions.delete(key);\n    }\n    this.setState({ currentSelectedPermissions: newPermissions });\n  }\n\n  savePermissions = (flattenedPermissions) => {\n    const result = getGroupPermissionsFromFlattenedPermissions(flattenedPermissions);\n    this.props.proxy.setUserPermissions(result);\n  };\n\n  onSaveClicked = () => {\n    this.savePermissions(this.state.currentSelectedPermissions);\n  };\n\n  onResetClicked = () => {\n    this.setState({\n      currentSelectedPermissions: cloneDeep(this.state.initiallySelectedPermissions),\n    });\n  };\n\n  mapsAreEqual(am, bm) {\n    if (am.size !== bm.size) {\n      return false;\n    }\n    for (var a of am) {\n      if (!bm.has(a[0])) {\n        return false;\n      }\n\n      const bs = bm.get(a[0]).groupPermissions;\n      if (a[1].groupPermissions.size !== bs.size) {\n        return false;\n      }\n\n      for (var as of a[1].groupPermissions) {\n        if (!bs.has(as)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  getColGroup() {\n    const { currentSelectedPermissions } = this.state;\n    const colGroup = [];\n\n    colGroup.push(<col style={{ width: '200px' }} key={`col_permissions`}></col>);\n    currentSelectedPermissions.forEach((permissionsPerGroup, groupName) => {\n      colGroup.push(<col style={{ width: '80px' }} key={`col_${groupName}`}></col>);\n    });\n    colGroup.push(<col style={{ width: '*' }} key={`col_descriptions`}></col>);\n\n    return colGroup;\n  }\n\n  getTableHead() {\n    const { currentSelectedPermissions } = this.state;\n    const tableheader = [];\n\n    tableheader.push(\n      <td key={`header_td_permissions`}>\n        <div className=\"permission-management-permissions-header-left\">\n          <FormattedMessage id=\"permissions.permissions\" />\n        </div>\n      </td>,\n    );\n    currentSelectedPermissions.forEach((permissionsPerGroup, groupName) => {\n      tableheader.push(\n        <td key={`header_td_${groupName}`}>\n          <div className=\"permission-management-permissions-header\">{groupName}</div>\n          <div className=\"permission-management-permissions-subheader\">\n            {Array.isArray(permissionsPerGroup.users) && permissionsPerGroup.users.length > 0\n              ? `(${permissionsPerGroup.users.join(', ')})`\n              : undefined}\n          </div>\n        </td>,\n      );\n    });\n    tableheader.push(\n      <td key={`header_td_description`}>\n        <div className=\"permission-management-permissions-header\">\n          <FormattedMessage id=\"permissions.description\" />\n        </div>\n      </td>,\n    );\n\n    return <tr>{tableheader}</tr>;\n  }\n\n  getData(canEdit) {\n    const { currentSelectedPermissions } = this.state;\n    const data = [];\n    this.allAvailablePermissions.forEach((permission) => {\n      const dataRow = [];\n      dataRow.push(\n        <td key={`body_td_permission_${permission}`}>\n          <div className=\"permission-management-label\">{permission}</div>\n        </td>,\n      );\n      currentSelectedPermissions.forEach((permissionsPerGroup, groupName) => {\n        const selected = permissionsPerGroup.groupPermissions.has(permission);\n        dataRow.push(\n          <td key={`body_td_${groupName}_${permission}`}>\n            <Checkbox\n              type=\"checkbox\"\n              checked={selected}\n              name={`checkbox_${groupName}_${permission}`}\n              color=\"primary\"\n              className=\"permission-management-checkbox\"\n              onClick={(e) =>\n                canEdit && groupName !== 'sdm'\n                  ? this.onCheck(groupName, permission, e.target.checked)\n                  : undefined\n              }\n              disabled={!canEdit || groupName === 'sdm'}\n            />\n          </td>,\n        );\n      });\n      dataRow.push(\n        <td key={`body_td_description_${permission}`}>\n          <div className=\"permission-management-label\">\n            <FormattedMessage id={`permissionDescription.${permission}`} />\n          </div>\n        </td>,\n      );\n      data.push(<tr key={`body_tr_${permission}`}>{dataRow}</tr>);\n    });\n    return data;\n  }\n\n  render() {\n    const { redirect, initiallySelectedPermissions, currentSelectedPermissions } = this.state;\n    const { myPermissions } = this.props;\n\n    const canRead = canReadUserManagement(myPermissions);\n    const canEdit = canEditUserManagement(myPermissions);\n\n    if (redirect) {\n      return <Redirect to=\"/app\" />;\n    }\n\n    const hasChanges = !this.mapsAreEqual(initiallySelectedPermissions, currentSelectedPermissions);\n    const colGroup = this.getColGroup();\n    const tablehead = this.getTableHead();\n    const data = this.getData(canEdit);\n\n    return (\n      <div className=\"permission-management-wrapper\">\n        <div className=\"permission-management-fixed-header\">\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => this.setState({ redirect: true })}\n          >\n            <img src={ArrowIcon} alt=\"back\" className=\"image-item\" />\n            <FormattedMessage id=\"permissions.backToWebApp\" />\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!hasChanges}\n            onClick={this.onSaveClicked}\n          >\n            Save\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!hasChanges}\n            onClick={this.onResetClicked}\n          >\n            Reset\n          </Button>\n        </div>\n        <h1>\n          <FormattedMessage id=\"permissions.permissionManagement\" />\n        </h1>\n        <h3>\n          <FormattedMessage id=\"permissions.helpText\" />\n        </h3>\n        {canRead || canEdit ? (\n          <table className=\"permission-management-table-wrapper\">\n            <colgroup>{colGroup}</colgroup>\n            <thead>{tablehead}</thead>\n            <tbody>{data}</tbody>\n          </table>\n        ) : undefined}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  groupPermissions: state.app.groupPermissions,\n  proxy: state.app.proxy,\n  user: state.app.user,\n  myPermissions: state.app.myPermissions,\n});\n\nexport default connect(mapStateToProps, null)(PermissionManagement);\n","import React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport KeyHandler from '../components/KeyHandler';\nimport PermissionManagement from '../components/PermissionManagement';\nimport { closeHelpView } from '../redux/actions';\nimport translations from '../translations';\nimport HelpView from '../views/HelpView';\nimport viewMappings from '../views/HelpView/viewMappings';\n\nconst PermissionPage = () => {\n  const dispatch = useDispatch();\n  const { isHelpViewOpen, locale } = useSelector((state) => state.app);\n\n  return (\n    <IntlProvider locale={locale} messages={translations[locale]}>\n      <KeyHandler dispatch={dispatch} helpSection={viewMappings.PERMISSIONS}>\n        <PermissionManagement />\n        <HelpView open={isHelpViewOpen} onClose={() => dispatch(closeHelpView())}></HelpView>\n      </KeyHandler>\n    </IntlProvider>\n  );\n};\n\nexport default PermissionPage;\n","import PropTypes from 'prop-types';\n\nconst ProtobufType = PropTypes.shape({\n  request: PropTypes.func.isRequired,\n});\n\nexport default ProtobufType;\n","export default __webpack_public_path__ + \"static/media/view-manager.8d715a8f.svg\";","export default __webpack_public_path__ + \"static/media/check.069f9f99.svg\";","export default __webpack_public_path__ + \"static/media/export.6f1edad0.svg\";","export default __webpack_public_path__ + \"static/media/import.2817cb78.svg\";","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport Dialog from '../Dialog';\nimport './style.scss';\n\nclass InformationDialog extends Component {\n  render() {\n    const { onClose, open, title, message } = this.props;\n\n    return (\n      <div>\n        <Dialog title={title} onClose={onClose} open={open}>\n          <div className=\"message-wrapper\">{message}</div>\n          <div className=\"button-wrapper\">\n            <Button color=\"primary\" onClick={onClose}>\n              Okay\n            </Button>\n          </div>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default InformationDialog;\n","import React, { useState, useRef } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\nimport Table, { AutoResizer } from 'react-base-table';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { useSelector, useDispatch } from 'react-redux';\nimport semver from 'semver';\n\nimport iconCheck from '../../assets/icons/check.svg';\nimport removeIcon from '../../assets/icons/delete.svg';\nimport EditIcon from '../../assets/icons/edit.svg';\nimport exportIcon from '../../assets/icons/export.svg';\nimport importIcon from '../../assets/icons/import.svg';\nimport addIcon from '../../assets/icons/plus.svg';\nimport iconSave from '../../assets/icons/save.svg';\n\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport Dialog from '../../components/Dialog';\nimport InformationDialog from '../../components/InformationDialog';\nimport IconButton from '../../components/buttons/IconButton';\nimport {\n  removeViewSet,\n  renameViewSet,\n  newViewSet,\n  setViewSet,\n  setEditingFocus,\n  purgeViewState,\n} from '../../redux/actions';\nimport { forceDownload } from '../../utils/downloader';\nimport logger from '../../utils/logger';\nimport {\n  canAddViewSet,\n  canReadViewSet,\n  canEditViewSet,\n  canDeleteViewSet,\n  canSaveConfig,\n} from '../../utils/permissions';\n\nimport './style.scss';\n\nconst ViewSetManager = ({ onClose, onSave, intl }) => {\n  const fileChooser = useRef(null);\n  const dispatch = useDispatch();\n  const createdViewSets = useSelector((state) => state.viewSet.createdViewSets);\n  const currentViewSet = useSelector((state) => state.viewSet.currentViewSet);\n  const inspections = useSelector((state) => state.inspections);\n  const configuration = useSelector((state) => state.app.configuration);\n  const myPermissions = useSelector((state) => state.app.myPermissions);\n  const canAdd = canAddViewSet(myPermissions);\n  const canEdit = canEditViewSet(myPermissions);\n  const canDelete = canDeleteViewSet(myPermissions);\n\n  const [name, setName] = useState(currentViewSet.name);\n  const [isImportConfirmOpen, setIsImportConfirmOpen] = useState(false);\n  const [viewsetToDelete, setViewsetToDelete] = useState('');\n  const [currentImportedViewSet, setCurrentImportedViewSet] = useState(null);\n  const [isInformationDialogOpen, setIsInformationDialogOpen] = useState(false);\n  const [informationDialogTitle, setInformationDialogTitle] = useState('');\n  const [informationDialogMessage, setInformationDialogMessage] = useState('');\n  const [shouldCloseViewSetManager, setShouldCloseViewSetManager] = useState(false);\n  const [viewSetToEdit, setViewSetToEdit] = useState('');\n\n  const fileLoaderVersion = '1.0.0';\n\n  const getNextFreeName = (nameToTry) => {\n    let name = nameToTry;\n    let counter = 1;\n    while (existsName(name)) {\n      name = `${nameToTry}${counter}`;\n      counter++;\n    }\n\n    return name;\n  };\n\n  const existsName = (name) => {\n    return Object.keys(createdViewSets).filter((key) => key === name).length > 0;\n  };\n\n  const addViewSet = () => {\n    const newViewSetName = getNextFreeName('Initial');\n    dispatch(newViewSet(newViewSetName));\n  };\n\n  const removeSelectedViewSet = () => {\n    dispatch(removeViewSet(viewsetToDelete));\n  };\n\n  const saveViewSets = () => {\n    onSave();\n    closeViewSetManager();\n  };\n\n  const exportViewSets = async () => {\n    const webAppVersion = configuration.getWebAppVersion();\n    const dataToSave = {\n      currentViewSet,\n      editingViewIds: getEditingViewIdsPerInspection(),\n      timestamp: new Date(),\n      version: '1.0.0',\n      webAppVersion,\n    };\n\n    await createJsonFileFromObject(dataToSave);\n\n    closeViewSetManager();\n  };\n\n  const getEditingViewIdsPerInspection = () => {\n    const editingViewIds = [];\n\n    Object.keys(inspections).forEach((inspectionIdStr) => {\n      const inspectionId = parseInt(inspectionIdStr, 10);\n      if (\n        inspections[inspectionIdStr] &&\n        inspections[inspectionIdStr].sharedState &&\n        inspections[inspectionIdStr].sharedState.editingViewId\n      ) {\n        editingViewIds.push({\n          inspectionId,\n          editingViewId: inspections[inspectionIdStr].sharedState.editingViewId,\n        });\n      }\n    });\n\n    return editingViewIds;\n  };\n\n  const createJsonFileFromObject = async (object) => {\n    const json = JSON.stringify(object);\n    const blob = new Blob([json], { type: 'application/json' });\n    const data = await URL.createObjectURL(blob);\n\n    forceDownload(data, 'viewset.json');\n  };\n\n  const importViewSets = () => {\n    fileChooser.current.click();\n  };\n\n  const onFileAdded = (evt) => {\n    const file = evt.target.files[0];\n\n    if (file) {\n      const fileReader = new FileReader();\n      fileReader.readAsText(file);\n\n      fileReader.onload = (event) => {\n        handleFileData(event.target.result);\n      };\n    }\n  };\n\n  const handleFileData = (fileText) => {\n    try {\n      const data = JSON.parse(fileText);\n      if (equalsViewSetName(data.currentViewSet.id)) {\n        setIsImportConfirmOpen(true);\n        setCurrentImportedViewSet(data);\n        return;\n      }\n\n      setViewSetConfigurationFromFileData(data);\n    } catch (error) {\n      showErrorWhileLoadingFileDialog();\n      logger.error(error);\n    }\n  };\n\n  const handleImportConfirmDialogClose = (confirmed) => {\n    setIsImportConfirmOpen(false);\n    if (confirmed) {\n      loadViewSetFromFile();\n    } else {\n      fileChooser.current.value = '';\n    }\n  };\n\n  const handleDeleteConfirmDialogClose = (confirmed) => {\n    setViewsetToDelete('');\n    if (confirmed) {\n      removeSelectedViewSet();\n    }\n  };\n\n  const loadViewSetFromFile = () => {\n    setViewSetConfigurationFromFileData(currentImportedViewSet);\n  };\n\n  const equalsViewSetName = (name) => {\n    if (currentViewSet.id === name) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const setViewSetConfigurationFromFileData = (data) => {\n    loadSuccessfulInformationDialogText();\n\n    if (!isMajorVersionCompatible(data.version)) {\n      showIncompatibleVersionErrorDialog();\n      logger.error('Version of file is not valid.');\n      return;\n    }\n\n    if (isMinorVersionNewer(data.version)) {\n      loadVersionChangeInformationDialogText();\n    }\n\n    if (!data.currentViewSet.id) {\n      showErrorWhileLoadingFileDialog();\n      logger.error('Could not load viewset id.');\n      return;\n    }\n    dispatch(setViewSet(data.currentViewSet, data.currentViewSet.id));\n\n    if (data.editingViewIds) {\n      data.editingViewIds.forEach((entry) => {\n        dispatch(setEditingFocus(entry.inspectionId, entry.editingViewId));\n      });\n    }\n\n    dispatch(purgeViewState());\n    showInformationDialog();\n  };\n\n  const isMajorVersionCompatible = (version) => {\n    if (fileLoaderVersion === version) {\n      return true;\n    }\n\n    if (!semver.valid(version) || semver.diff(fileLoaderVersion, version) === 'major') {\n      return false;\n    }\n\n    return true;\n  };\n\n  const isMinorVersionNewer = (version) => {\n    return (\n      semver.diff(fileLoaderVersion, version) === 'minor' && semver.gt(version, fileLoaderVersion)\n    );\n  };\n\n  const closeViewSetManager = () => {\n    onClose();\n  };\n\n  const loadSuccessfulInformationDialogText = () => {\n    setInformationDialogTitle(<FormattedMessage id=\"notifications.successfulAction\" />);\n    setInformationDialogMessage(<FormattedMessage id=\"notifications.successfullyLoadedFile\" />);\n    setShouldCloseViewSetManager(true);\n  };\n\n  const showErrorWhileLoadingFileDialog = () => {\n    setInformationDialogTitle(<FormattedMessage id=\"notifications.errorOccurred\" />);\n    setInformationDialogMessage(<FormattedMessage id=\"notifications.error.loadingFile\" />);\n    setIsInformationDialogOpen(true);\n  };\n\n  const showIncompatibleVersionErrorDialog = () => {\n    setInformationDialogTitle(\n      <FormattedMessage id=\"notifications.viewsetVersionIncompatibleTitle\" />,\n    );\n    setInformationDialogMessage(\n      <FormattedMessage id=\"notifications.viewsetVersionIncompatibleMessage\" />,\n    );\n    setIsInformationDialogOpen(true);\n  };\n\n  const loadVersionChangeInformationDialogText = () => {\n    setInformationDialogTitle(<FormattedMessage id=\"notifications.minorVersionDiffTitle\" />);\n    setInformationDialogMessage(<FormattedMessage id=\"notifications.minorVersionDiffMessage\" />);\n    setShouldCloseViewSetManager(true);\n  };\n\n  const showInformationDialog = () => {\n    setIsInformationDialogOpen(true);\n  };\n\n  const getActions = () => {\n    const actions = [\n      {\n        intlId: 'viewSetManager.save',\n        iconUrl: iconSave,\n        onClickHandler: () => {\n          saveViewSets();\n        },\n        enabled: canSaveConfig(myPermissions),\n      },\n      {\n        intlId: 'viewSetManager.export',\n        iconUrl: exportIcon,\n        onClickHandler: () => {\n          exportViewSets();\n        },\n        enabled: canReadViewSet(myPermissions),\n      },\n      {\n        intlId: 'viewSetManager.import',\n        iconUrl: importIcon,\n        onClickHandler: () => {\n          importViewSets();\n        },\n        enabled: canEdit,\n      },\n    ];\n\n    return actions;\n  };\n\n  const getColumns = () => {\n    return [\n      {\n        key: 'name',\n        dataKey: 'name',\n        title: 'Name',\n        width: 0,\n        flexGrow: 1,\n      },\n      {\n        key: 'edit',\n        dataKey: 'edit',\n        title: '',\n        width: 40,\n      },\n      {\n        key: 'delete',\n        dataKey: 'delete',\n        title: '',\n        width: 40,\n      },\n    ];\n  };\n\n  const changeViewSetName = () => {\n    if (viewSetToEdit !== name && Object.keys(createdViewSets).includes(name)) {\n      alert('Viewset with this name already exists.');\n      return;\n    }\n\n    dispatch(renameViewSet(viewSetToEdit, name));\n\n    setViewSetToEdit('');\n    setName('');\n  };\n\n  const getViewSetEditName = () => {\n    return (\n      <div className=\"viewsetmanager-edit-viewset-name-wrapper\">\n        <TextField\n          fullWidth\n          type=\"text\"\n          inputProps={{\n            style: {\n              height: 29,\n            },\n          }}\n          value={name}\n          onChange={(e) => setName(e.target.value.substring(0, 20))}\n        />\n      </div>\n    );\n  };\n\n  const getViewSetEditingIcon = (viewsetName) => {\n    if (!canEdit) {\n      return undefined;\n    }\n\n    if (viewSetToEdit !== viewsetName) {\n      return (\n        <IconButton\n          onClick={() => {\n            setViewSetToEdit(viewsetName);\n            setName(viewsetName);\n          }}\n          tooltip={intl.messages['viewSetManager.editViewSetName']}\n          iconUrl={EditIcon}\n        />\n      );\n    } else {\n      return (\n        <IconButton\n          onClick={() => changeViewSetName()}\n          tooltip={intl.messages['viewSetManager.changeViewSetName']}\n          iconUrl={iconCheck}\n        />\n      );\n    }\n  };\n\n  const getViewSets = () => {\n    const data =\n      createdViewSets &&\n      Object.keys(createdViewSets).map((viewsetName) => {\n        return {\n          edit: getViewSetEditingIcon(viewsetName),\n          delete: canDelete ? (\n            <IconButton\n              onClick={() => setViewsetToDelete(viewsetName)}\n              tooltip={intl.messages['viewSetManager.deleteIconTooltip']}\n              iconUrl={removeIcon}\n            />\n          ) : undefined,\n          name: viewSetToEdit === viewsetName ? getViewSetEditName() : viewsetName,\n          id: viewsetName,\n        };\n      });\n    return data;\n  };\n\n  const headerRenderer = ({ columns }) => {\n    const columnHeaders = [];\n    columns.forEach((column, columnIndex) => {\n      if (column.key === 'delete') {\n        columnHeaders.push(\n          <div\n            style={{ width: columns[columnIndex].width, paddingRight: 3 }}\n            key={`header_${columnIndex}`}\n          >\n            <IconButton\n              tooltip={intl.messages['viewSetManager.newViewSet']}\n              iconUrl={addIcon}\n              onClick={() => addViewSet()}\n              enabled={canAdd}\n            />\n          </div>,\n        );\n      } else {\n        columnHeaders.push(\n          <div key={`header_${columnIndex}`} className=\"viewsetmanager-header-wrapper\">\n            {columns[columnIndex].title}\n          </div>,\n        );\n      }\n    });\n\n    return columnHeaders;\n  };\n\n  const actions = getActions();\n  const data = getViewSets();\n  const columns = getColumns();\n\n  return (\n    <div>\n      <Dialog\n        title={<FormattedMessage id=\"viewSetManager.title\" />}\n        dialogActions={actions}\n        onClose={() => {\n          closeViewSetManager();\n        }}\n        open\n      >\n        <div className=\"viewsetmanager-headline-wrapper\">\n          <FormattedMessage id=\"viewSetManager.editViewSetHeadline\" />\n        </div>\n        <div className=\"viewsetmanager-table-wrapper\">\n          <AutoResizer key={`autoresizer`}>\n            {({ width, height }) => (\n              <Table\n                headerRenderer={headerRenderer}\n                columns={columns}\n                data={data}\n                width={width}\n                height={height - 20}\n                headerHeight={30}\n                rowHeight={30}\n                key=\"viewset-table\"\n              />\n            )}\n          </AutoResizer>\n        </div>\n      </Dialog>\n      <ConfirmDialog\n        open={isImportConfirmOpen}\n        onClose={(confirmed) => handleImportConfirmDialogClose(confirmed)}\n        title={<FormattedMessage id=\"viewSetManager.importConfirm.title\" />}\n        message={<FormattedMessage id=\"viewSetManager.importConfirm.message\" />}\n      />\n      <ConfirmDialog\n        open={viewsetToDelete !== ''}\n        onClose={(confirmed) => handleDeleteConfirmDialogClose(confirmed)}\n        message={\n          <FormattedMessage\n            id=\"viewSetManager.deleteConfirm.message\"\n            values={{ viewsetName: viewsetToDelete }}\n          />\n        }\n      />\n      <InformationDialog\n        onClose={() => {\n          setIsInformationDialogOpen(false);\n          if (shouldCloseViewSetManager) {\n            closeViewSetManager();\n          }\n        }}\n        open={isInformationDialogOpen}\n        title={informationDialogTitle}\n        message={informationDialogMessage}\n      />\n      <input ref={fileChooser} style={{ display: 'none' }} type=\"file\" onChange={onFileAdded} />\n    </div>\n  );\n};\n\nViewSetManager.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n};\n\nexport default injectIntl(ViewSetManager);\n","import PropTypes from 'prop-types';\n\nexport const viewSetType = PropTypes.shape({\n  id: PropTypes.string,\n});\n\nexport const mosaicViewType = PropTypes.oneOfType([viewSetType, PropTypes.string]);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nconst TopNavigationItem = ({ children }) => <div className=\"box-wrapper\">{children}</div>;\n\nTopNavigationItem.defaultProps = {\n  children: undefined,\n};\n\nTopNavigationItem.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default TopNavigationItem;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\nimport NavigationItem from '../../../../../../components/NavigationItem';\n\nconst PresetButton = ({ id, title, onClick, active }) => {\n  const presetButtonClass = classNames({\n    'preset-button': true,\n    'preset-button-active': active,\n  });\n  return (\n    <NavigationItem>\n      <button id={id} onClick={onClick} className={presetButtonClass}>\n        <span>{title}</span>\n      </button>\n    </NavigationItem>\n  );\n};\n\nPresetButton.defaultProps = {\n  id: undefined,\n  onClick: () => void 0,\n  active: false,\n};\n\nPresetButton.propTypes = {\n  id: PropTypes.string,\n  title: PropTypes.node.isRequired,\n  onClick: PropTypes.func,\n  active: PropTypes.bool,\n};\n\nexport default PresetButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport { switchViewSet } from '../../../../redux/actions';\nimport { canReadViewSet, canEditViewSet } from '../../../../utils/permissions';\nimport { viewSetType, mosaicViewType } from '../../../ViewSet/types';\nimport PresetButton from './components/PresetButton';\n\nconst PresetSlider = ({ currentViewSet, createdViewSets, switchViewSet, myPermissions }) =>\n  canReadViewSet(myPermissions) || canEditViewSet(myPermissions) ? (\n    <div className=\"preset-slider-wrapper\">\n      {createdViewSets &&\n        createdViewSets.map((viewSet) => (\n          <PresetButton\n            title={viewSet.name || viewSet.id}\n            key={viewSet.id}\n            onClick={() => switchViewSet(viewSet)}\n            active={currentViewSet && currentViewSet.id === viewSet.id}\n          />\n        ))}\n    </div>\n  ) : (\n    <div></div>\n  );\n\nPresetSlider.defaultProps = {\n  currentViewSet: undefined,\n  createdViewSets: [],\n};\n\nPresetSlider.propTypes = {\n  currentViewSet: mosaicViewType,\n  createdViewSets: PropTypes.arrayOf(viewSetType),\n  switchViewSet: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  createdViewSets: Object.keys(state.viewSet.createdViewSets).map(\n    (key) => state.viewSet.createdViewSets[key],\n  ),\n  currentViewSet: state.viewSet.currentViewSet,\n  myPermissions: state.app.myPermissions,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  switchViewSet: (viewSet) => dispatch(switchViewSet(viewSet)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PresetSlider);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport ViewSetManagerIcon from '../../assets/icons/view-manager.svg';\nimport { setBottomNavHidden } from '../../redux/actions';\nimport { canReadViewSet, canEditViewSet } from '../../utils/permissions';\nimport ViewSetManager from '../ViewSetManager';\nimport PresetSlider from './components/PresetSlider';\n\nclass BottomNav extends Component {\n  state = {\n    selectedIndex: 0,\n    viewSetManagerOpen: false,\n  };\n  select = (index) => this.setState({ selectedIndex: index });\n\n  render() {\n    const { onSave, bottomNavHidden, isSVOConfigLoaded, myPermissions } = this.props;\n    return (\n      <div className={`bottom-nav-wrapper ${bottomNavHidden ? 'bottom-nav-hidden' : ''}`}>\n        <div className=\"bottom-nav\">\n          {isSVOConfigLoaded && <PresetSlider />}\n          {isSVOConfigLoaded && (canReadViewSet(myPermissions) || canEditViewSet(myPermissions)) ? (\n            <div\n              className=\"view-manager\"\n              onClick={() => {\n                this.setState({\n                  viewSetManagerOpen: !this.state.viewSetManagerOpen,\n                });\n              }}\n            >\n              <img src={ViewSetManagerIcon} alt=\"\" />\n              <FormattedMessage id=\"viewSetManager\" />\n            </div>\n          ) : undefined}\n        </div>\n        <button\n          className=\"bottom-hider\"\n          onClick={() => {\n            this.props.setBottomNavHidden(!bottomNavHidden);\n          }}\n        >\n          {bottomNavHidden ? 'show' : 'hide'}\n        </button>\n        {isSVOConfigLoaded && (\n          <div>\n            {this.state.viewSetManagerOpen && (\n              <ViewSetManager\n                onClose={() => this.setState({ viewSetManagerOpen: false })}\n                onSave={onSave}\n              />\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nBottomNav.propTypes = {\n  setBottomNavHidden: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  bottomNavHidden: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  fullscreenMode: state.viewSet.fullscreenMode,\n  bottomNavHidden: state.viewSet.bottomNavHidden,\n  isSVOConfigLoaded: state.viewSet.isSVOConfigLoaded,\n  myPermissions: state.app.myPermissions,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setBottomNavHidden: (hidden) => dispatch(setBottomNavHidden(hidden)),\n});\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(BottomNav));\n","import { ReactNode, useRef, useState } from 'react';\nimport { ClickAwayListener, Paper, Popper } from '@material-ui/core';\nimport clsx from 'clsx';\n\nimport './NavigationItem.scss';\n\nexport interface NavigationItemType {\n  id: string;\n  icon?: string;\n  className?: string;\n  content: ReactNode;\n  onClick?: () => void;\n  enabled: boolean;\n  children?: (NavigationItemType | null)[];\n}\n\ninterface NavigationItemProps {\n  item: NavigationItemType;\n  nested?: boolean;\n}\n\nexport const NavigationItem = ({ item, nested }: NavigationItemProps) => {\n  const itemRef = useRef<HTMLDivElement>(null);\n\n  const [openMenu, setOpenMenu] = useState(false);\n\n  const hasChildren = !!item.children?.length;\n\n  return (\n    <>\n      <div\n        className={clsx('navigation-item', item.className)}\n        ref={itemRef}\n        style={{\n          pointerEvents: item.enabled ? 'auto' : 'none',\n          opacity: item.enabled ? '1.0' : '0.3',\n        }}\n      >\n        <button\n          className={clsx(\n            hasChildren && 'show-arrow',\n            nested && 'nested arrow-right',\n            openMenu && 'active',\n            (hasChildren || item.onClick) && 'clickable',\n          )}\n          onClick={() => {\n            if (item.onClick) {\n              item.onClick();\n            } else if (hasChildren) {\n              setOpenMenu(true);\n            }\n          }}\n        >\n          {item.icon && <img src={item.icon} />}\n          <span>{item.content}</span>\n        </button>\n      </div>\n      <Popper\n        open={openMenu}\n        anchorEl={itemRef.current}\n        placement={nested ? 'right-start' : 'bottom'}\n        style={{ zIndex: 9 }}\n      >\n        <ClickAwayListener onClickAway={() => setOpenMenu(false)}>\n          <Paper\n            elevation={4}\n            className=\"navigation-item-children-list\"\n            style={{ minWidth: itemRef.current?.getBoundingClientRect().width ?? 0 }}\n          >\n            {(item.children ?? []).map(\n              (child) => child && <NavigationItem key={child.id} item={child} nested />,\n            )}\n          </Paper>\n        </ClickAwayListener>\n      </Popper>\n    </>\n  );\n};\n","import Clock from 'react-live-clock';\nimport NavigationItem from '../../../../components/NavigationItem';\n\nimport './style.scss';\n\nconst DateTime = () => (\n  <NavigationItem>\n    <div className=\"date-time-wrapper\">\n      <Clock className=\"date\" format={'DD.MM.YYYY'} ticking />\n      <Clock className=\"time\" format={'HH:mm:ss'} ticking />\n    </div>\n  </NavigationItem>\n);\n\nexport default DateTime;\n","import { useSelector } from 'react-redux';\r\nimport NavigationItem from '../../../../components/NavigationItem';\r\nimport ConfigurationLock from '../../../../protobuf/ConfigurationLock';\r\n\r\nimport './style.scss';\r\n\r\nconst LockState = () => {\r\n  const configLock = useSelector<any>((state) => state.app.configurationLock) as ConfigurationLock;\r\n\r\n  return (\r\n    <NavigationItem>\r\n      <div className=\"lock-status\">\r\n        <p>Status: {configLock.isLocked() ? 'Locked' : 'Unlocked'}</p>\r\n        <p>\r\n          Owner: {configLock.isLocked() ? configLock.owner : 'None'}{' '}\r\n          {configLock.isLocked() ? configLock.host : '0.0.0.0'}\r\n        </p>\r\n        {/* <p>Host: {configLock.isLocked() ? configLock.host : '0.0.0.0'}</p> */}\r\n      </div>\r\n    </NavigationItem>\r\n  );\r\n};\r\nexport default LockState;\r\n","export default __webpack_public_path__ + \"static/media/play-multiple.92160d4a.svg\";","export default __webpack_public_path__ + \"static/media/language.0be28bcb.svg\";","export default __webpack_public_path__ + \"static/media/icons8-lock.b22b5188.svg\";","export default __webpack_public_path__ + \"static/media/icons8-padlock.048e7769.svg\";","import { ReactNode, useEffect, useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nimport './style.scss';\r\n\r\ninterface TakeoverDialogProps {\r\n  open: boolean;\r\n  onAccept: () => void;\r\n  onReject: () => void;\r\n  title: ReactNode;\r\n  contentText: ReactNode;\r\n}\r\n\r\nexport const TakeoverDialog = (props: TakeoverDialogProps) => {\r\n  const timeoutInSeconds = 30;\r\n  const isActive = props.open;\r\n  const onAccept = props.onAccept;\r\n  const [timeLeft, setTimeLeft] = useState(timeoutInSeconds);\r\n\r\n  useEffect(() => {\r\n    let interval: ReturnType<typeof setInterval> | null = null;\r\n\r\n    if (isActive) {\r\n      interval = setInterval(() => {\r\n        setTimeLeft((timeLeft) => timeLeft - 1);\r\n      }, 1000);\r\n\r\n      if (timeLeft <= 0) {\r\n        onAccept();\r\n        clearInterval(interval);\r\n        setTimeLeft(timeoutInSeconds);\r\n      }\r\n    } else {\r\n      if (interval !== null) {\r\n        clearInterval(interval);\r\n      }\r\n      setTimeLeft(timeoutInSeconds);\r\n    }\r\n    return () => {\r\n      if (interval !== null) {\r\n        clearInterval(interval);\r\n      }\r\n    };\r\n  }, [isActive, onAccept, timeLeft]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={props.open}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{props.title}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">{props.contentText}</DialogContentText>\r\n      </DialogContent>\r\n      <Button onClick={props.onAccept} color=\"primary\">\r\n        <FormattedMessage id=\"accept\" />\r\n      </Button>\r\n      <Button onClick={props.onReject} color=\"primary\">\r\n        <FormattedMessage id=\"reject\" />\r\n      </Button>\r\n      <div className=\"auto-accept-container\">\r\n        <p>(auto accept in {timeLeft} seconds)</p>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\n","import { ChangeEventHandler, useCallback, useReducer, useState } from 'react';\nimport { TextField, Button } from '@material-ui/core';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport lockIcon from '../../../assets/icons/icons8-lock.svg';\nimport padlockIcon from '../../../assets/icons/icons8-padlock.svg';\nimport ConfigurationLock from '../../../protobuf/ConfigurationLock';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { NavigationItemType } from '../NavigationItem';\nimport { AlertDialog } from './AlertDialog';\nimport { TakeoverDialog } from './TakeoverDialog';\n\nconst formReducer = (state: any, event: any) => {\n  return {\n    ...state,\n    [event.name]: event.value,\n  };\n};\n\nexport const useLockStateHandlerNavigation = (): NavigationItemType => {\n  const intl = useIntl();\n  const proxy = useSelector<any>((state) => state.app.proxy) as Proxy;\n  const configLock = useSelector<any>((state) => state.app.configurationLock) as ConfigurationLock;\n  const loggedUser = useSelector<any>((state) => state.app.user);\n  const [formData, setFormData] = useReducer(formReducer, { scope: 1 });\n\n  const [openFormDialog, setOpenFormDialog] = useState(false);\n\n  const getLabel = useCallback(() => {\n    if (configLock.isLockedBySameUser(loggedUser)) {\n      return intl.messages['topNavigation.release'];\n    } else if (configLock.isLockedByOtherUser(loggedUser)) {\n      return intl.messages['topNavigation.takeover'];\n    } else {\n      return intl.messages['topNavigation.lock'];\n    }\n  }, [configLock, intl.messages, loggedUser]);\n\n  const handleChange: ChangeEventHandler<HTMLInputElement | HTMLTextAreaElement> = (event) => {\n    setFormData({\n      name: event.target.name,\n      value: event.target.value,\n    });\n  };\n\n  const handleClose: React.MouseEventHandler<HTMLButtonElement> = (event) => {\n    event.stopPropagation();\n    setOpenFormDialog(false);\n  };\n\n  const handleSubmit: React.MouseEventHandler<HTMLButtonElement> = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setOpenFormDialog(false);\n    formData.requestTakeover = configLock.isLockedByOtherUser(loggedUser);\n    proxy.subscribeToLockAcquisitionStream(formData);\n  };\n\n  return {\n    id: 'lock-state-handler',\n    icon: configLock.isLockedBySameUser(loggedUser) ? padlockIcon : lockIcon,\n    enabled: true,\n    content: (\n      <>\n        <div className=\"lock-state-handler\">\n          <p>{getLabel()}</p>\n        </div>\n        <Dialog open={openFormDialog} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">\n            {configLock.isLockedByOtherUser(loggedUser) ? (\n              <FormattedMessage id=\"lockStateHandler.formDialog.takeoverConfigRequestTitle\" />\n            ) : (\n              <FormattedMessage id=\"lockStateHandler.formDialog.lockConfigRequestTitle\" />\n            )}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              <FormattedMessage id=\"lockStateHandler.formDialog.lockConfigRequestContent\" />\n            </DialogContentText>\n            <TextField\n              InputLabelProps={{ shrink: true }}\n              autoFocus\n              margin=\"dense\"\n              id=\"lock-scope-id\"\n              name=\"scope\"\n              label={<FormattedMessage id=\"lockStateHandler.formDialog.lockScope\" />}\n              type=\"number\"\n              defaultValue=\"1\"\n              disabled={true}\n              onChange={handleChange}\n              fullWidth\n            />\n            <TextField\n              InputLabelProps={{ shrink: true }}\n              margin=\"dense\"\n              id=\"lock-description-id\"\n              name=\"description\"\n              label={<FormattedMessage id=\"lockStateHandler.formDialog.lockDescription\" />}\n              type=\"text\"\n              onChange={handleChange}\n              fullWidth\n            />\n            {configLock.isLockedByOtherUser(loggedUser) && (\n              <>\n                <TextField\n                  InputLabelProps={{ shrink: true }}\n                  margin=\"dense\"\n                  id=\"takeover-message-id\"\n                  name=\"takeoverMessage\"\n                  label={<FormattedMessage id=\"lockStateHandler.formDialog.takeoverMessage\" />}\n                  type=\"text\"\n                  onChange={handleChange}\n                  fullWidth\n                />\n              </>\n            )}\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n              <FormattedMessage id=\"cancel\" />\n            </Button>\n            <Button onClick={handleSubmit} color=\"primary\">\n              <FormattedMessage id=\"submit\" />\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <AlertDialog\n          open={configLock.isConfigAlreadyLocked()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.lockAlreadyLocked\"\n              values={{ user: configLock.owner }}\n            />\n          }\n          contentText={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.lockDescription\"\n              values={{ description: configLock.lockDescription }}\n            />\n          }\n        >\n          <Button\n            onClick={() => {\n              proxy.closeAlertDialogs();\n            }}\n            color=\"primary\"\n          >\n            <FormattedMessage id=\"close\" />\n          </Button>\n        </AlertDialog>\n        <AlertDialog\n          open={configLock.isOwnerRejectedTakeover()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.ownerRejectedTakeover\"\n              values={{ user: configLock.owner }}\n            />\n          }\n          contentText={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.lockDescription\"\n              values={{ description: configLock.lockDescription }}\n            />\n          }\n        >\n          <Button\n            onClick={() => {\n              proxy.closeAlertDialogs();\n            }}\n            color=\"primary\"\n          >\n            <FormattedMessage id=\"close\" />\n          </Button>\n        </AlertDialog>\n        <AlertDialog\n          open={configLock.isWaitingForTakeoverResponse()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.waitingForTakeoverResponse\"\n              values={{ user: configLock.owner }}\n            />\n          }\n          contentText={\n            <FormattedMessage id=\"lockStateHandler.alertDialog.waitingForResponseInfo\" />\n          }\n        />\n        <TakeoverDialog\n          open={configLock.isTakeoverAttemptFromOtherUser()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.takeoverAttempt\"\n              values={{ user: configLock.takeoverUser }}\n            />\n          }\n          contentText={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.takeoverMessage\"\n              values={{ message: configLock.takeoverMessage }}\n            />\n          }\n          onAccept={() => {\n            proxy.passConfigLock({\n              lockId: configLock.lockId,\n              takeoverId: configLock.takeoverId,\n            });\n          }}\n          onReject={() => {\n            proxy.retainConfigLock({ takeoverId: configLock.takeoverId });\n          }}\n        />\n      </>\n    ),\n    onClick: () => {\n      if (\n        !openFormDialog &&\n        !configLock.isConfigAlreadyLocked() &&\n        !configLock.isOwnerRejectedTakeover() &&\n        !configLock.isWaitingForTakeoverResponse() &&\n        !configLock.isTakeoverAttemptFromOtherUser()\n      ) {\n        if (configLock.isLockedBySameUser(loggedUser)) {\n          proxy.unsubscribeFromLockAcquisitionStream();\n        } else {\n          setOpenFormDialog(true);\n        }\n      }\n    },\n  };\n};\n","import { useMemo } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { setCurrentMode } from '../../../redux/actions';\nimport modes from '../../../utils/modes';\nimport { canEditSVOMode, canReadSVOMode } from '../../../utils/permissions';\nimport { NavigationItemType } from '../NavigationItem';\n\nconst selectableModes = Object.keys(modes).filter(\n  (m) => m !== 'unknownMode',\n) as (keyof typeof modes)[];\n\nexport const useModeSwitchNavigation = (): NavigationItemType | undefined => {\n  const dispatch = useDispatch();\n\n  const isSVOConfigLoaded = useSelector<any>((state) => state.viewSet.isSVOConfigLoaded);\n  const { myPermissions, currentMode, proxy } = useSelector<any>((state) => state.app) as {\n    myPermissions: Set<string>;\n    currentMode: string;\n    proxy: Proxy;\n  };\n\n  const canRead = canReadSVOMode(myPermissions);\n  const canEdit = canEditSVOMode(myPermissions);\n\n  const currentModeKey = useMemo(() => {\n    const modeId = currentMode ?? proxy.mode ?? modes.unknownMode.id;\n    return Object.keys(modes).find(\n      (modeKey) => modes[modeKey as typeof selectableModes[number]].id === modeId,\n    ) as keyof typeof modes;\n  }, [currentMode, proxy.mode]);\n\n  const children = useMemo(() => {\n    const changeMode = (_modeKey: string, modeId: string) => {\n      dispatch(setCurrentMode(modeId));\n    };\n\n    return selectableModes.map<NavigationItemType>((key) => ({\n      id: key,\n      onClick: () => {\n        changeMode(key, modes[key].id);\n      },\n      content: <FormattedMessage id={key} />,\n      icon: modes[key].iconSrc,\n      enabled: true,\n    }));\n  }, [dispatch]);\n\n  if (!isSVOConfigLoaded || (!canRead && !canEdit)) {\n    return undefined;\n  }\n\n  return {\n    id: 'mode-switch',\n    icon: modes[currentModeKey]?.iconSrc,\n    content: <FormattedMessage id={currentModeKey} />,\n    enabled: canEdit,\n    children,\n  };\n};\n","export default __webpack_public_path__ + \"static/media/description.7b05d18e.svg\";","import { NavigationItemType } from '../NavigationItem';\nimport { useInspectionStateNavigation } from './useInspectionStateNavigation';\nimport { useLanguageChooserNavigation } from './useLanguageChooserNavigation';\nimport { useLockStateHandlerNavigation } from './useLockStateHandlerNavigation';\nimport { useModeSwitchNavigation } from './useModeSwitchNavigation';\nimport { useStatusReportNavigation } from './useStatusReportNavigation';\nimport { useUserInfoNavigation } from './useUserInfoNavigation';\n\nimport './style.scss';\n\nexport const useNavigation = () => {\n  const userInfoNavigation = useUserInfoNavigation();\n  const languageChooserNavigation = useLanguageChooserNavigation();\n  const lockStateHandlerNavigation = useLockStateHandlerNavigation();\n  const inspectionStateNavigation = useInspectionStateNavigation();\n  const statusReportNavigation = useStatusReportNavigation();\n  const modeSwitchNavigation = useModeSwitchNavigation();\n\n  const navigation: (NavigationItemType | null)[] = [\n    modeSwitchNavigation ?? (undefined as never),\n    statusReportNavigation ?? (undefined as never),\n    inspectionStateNavigation ?? (undefined as never),\n    null,\n    lockStateHandlerNavigation,\n    userInfoNavigation,\n    languageChooserNavigation,\n  ].filter((item) => item !== undefined);\n\n  return { navigation };\n};\n","import { useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport languageIcon from '../../../assets/icons/language.svg';\nimport { addUserSwitchedLanguageNotification, setLocale } from '../../../redux/actions';\nimport { languages } from '../../../translations';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useLanguageChooserNavigation = (): NavigationItemType => {\n  const dispatch = useDispatch();\n  const locale = useSelector<any>((state) => state.app.locale) as string;\n\n  const children = useMemo<NavigationItemType[]>(\n    () =>\n      languages.map((language) => ({\n        id: language.locale,\n        content: language.name,\n        onClick: () => {\n          dispatch(setLocale(language.locale));\n          dispatch(addUserSwitchedLanguageNotification(language.locale));\n        },\n        enabled: true,\n      })),\n    [dispatch],\n  );\n\n  return {\n    id: 'language-chooser',\n    icon: languageIcon,\n    content: locale ?? '',\n    enabled: true,\n    children,\n  };\n};\n","import { useMemo } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport iconPause from '../../../assets/icons/pause.svg';\nimport iconPlayMultiple from '../../../assets/icons/play-multiple.svg';\nimport iconPlay from '../../../assets/icons/play.svg';\nimport Configuration from '../../../protobuf/Configuration';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { canEditInspectionState, canReadInspectionState } from '../../../utils/permissions';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useInspectionStateNavigation = (): NavigationItemType | undefined => {\n  const isSVOConfigLoaded = useSelector<any>((state) => state.viewSet.isSVOConfigLoaded);\n  const { proxy, configuration, pausedInspections, myPermissions } = useSelector<any>(\n    (state) => state.app,\n  ) as {\n    proxy: Proxy;\n    configuration: Configuration;\n    pausedInspections: string[];\n    myPermissions: Set<string>;\n  };\n  const inspections = useMemo(\n    () => (configuration && configuration.getInspections()) || [],\n    [configuration],\n  );\n  const allRunning = pausedInspections.length === 0;\n  const canRead = canReadInspectionState(myPermissions);\n  const canEdit = canEditInspectionState(myPermissions);\n\n  const children = useMemo(() => {\n    const items = inspections.map<NavigationItemType>((inspection: any) => {\n      const isPaused = (pausedInspections || []).includes(inspection.id);\n\n      return {\n        id: inspection.id,\n        onClick: () => {\n          isPaused\n            ? proxy.resumeRejectStream(inspection.id)\n            : proxy.pauseRejectStream(inspection.id);\n        },\n        content: inspection.name,\n        icon: isPaused ? iconPlay : iconPause,\n        className: isPaused ? 'paused-inspection' : undefined,\n        enabled: true,\n      };\n    });\n\n    items.unshift({\n      id: 'globalResumePause',\n      onClick: () => {\n        allRunning ? proxy.pauseRejectStream() : proxy.resumeRejectStream();\n      },\n      content: allRunning ? (\n        <FormattedMessage id=\"topNavigation.pauseAllInspections\" />\n      ) : (\n        <FormattedMessage id=\"topNavigation.resumeAllInspections\" />\n      ),\n      icon: allRunning ? iconPause : iconPlay,\n      className: 'all-inspections',\n      enabled: true,\n    });\n\n    return items;\n  }, [allRunning, inspections, pausedInspections, proxy]);\n\n  if (!isSVOConfigLoaded || (!canRead && !canEdit)) {\n    return undefined;\n  }\n\n  return {\n    id: 'inspection-state-navigation',\n    icon: iconPlayMultiple,\n    content: (\n      <FormattedMessage\n        id=\"topNavigation.inspectionState\"\n        values={{\n          runningInspections: inspections.length - pausedInspections.length,\n          numberOfInspections: inspections.length,\n        }}\n      />\n    ),\n    enabled: true,\n    children: canEdit ? children : undefined,\n  };\n};\n","import { useSelector } from 'react-redux';\nimport shortId from 'shortid';\nimport logIcon from '../../../assets/icons/description.svg';\nimport { canReadLogs } from '../../../utils/permissions';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useStatusReportNavigation = (): NavigationItemType | undefined => {\n  const { notifications, myPermissions } = useSelector<any>((state) => state.app) as {\n    notifications: any[];\n    myPermissions: Set<string>;\n  };\n\n  if (!canReadLogs(myPermissions)) {\n    return undefined;\n  }\n\n  return {\n    id: 'status-report',\n    icon: logIcon,\n    enabled: true,\n    content: notifications[0]?.message,\n    children: notifications.map<NavigationItemType>((notification: any) => ({\n      id: notification.id ?? notification.timestamp ?? shortId.generate(),\n      content: (\n        <p key={shortId.generate()} className={`${notification.type} status`}>\n          {notification.timestamp}: <b>{notification.message}</b>{' '}\n          {notification.count > 1 ? `(${notification.count})` : ''}\n        </p>\n      ),\n      enabled: true,\n    })),\n  };\n};\n","import { useMemo } from 'react';\nimport classNames from 'classnames';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport iconOverlayList from '../../assets/icons/overlay-list.svg';\nimport KoerberLogo from '../../assets/logo/logo.svg';\nimport Logo from '../../components/layout/Logo';\nimport Configuration from '../../protobuf/Configuration';\nimport { setTopNavHidden } from '../../redux/actions';\nimport { NavigationItem } from './NavigationItem';\nimport DateTime from './components/DateTime';\nimport LockState from './components/LockState';\nimport { useNavigation } from './navigation/useNavigation';\n\nimport './style.scss';\n\nexport const TopNavigation = () => {\n  const { topNavHidden, isSVOConfigLoaded, unsavedChanges } = useSelector(\n    (state: any) => state.viewSet,\n  );\n  const configuration = useSelector((state: any) => state.app.configuration) as Configuration;\n  const dispatch = useDispatch();\n\n  const { navigation } = useNavigation();\n\n  const intl = useIntl();\n\n  const navClass = classNames({\n    nav: true,\n    'nav-hidden': topNavHidden,\n  });\n\n  const configName = useMemo(() => {\n    if (!isSVOConfigLoaded) {\n      return intl.messages['noConfigName'];\n    }\n    if (!configuration || !configuration.name) {\n      return intl.messages['unknownConfigName'];\n    }\n    return <span>{configuration.name}</span>;\n  }, [configuration, intl.messages, isSVOConfigLoaded]);\n\n  return (\n    <>\n      <div className={navClass}>\n        <button className=\"hider\" onClick={() => dispatch(setTopNavHidden(!topNavHidden))}>\n          {topNavHidden ? 'show' : 'hide'}\n        </button>\n        <div className=\"config-wrapper\">\n          <Logo src={KoerberLogo} title=\"logo\" />\n          {unsavedChanges ? <div style={{ fontStyle: 'italic' }}>{configName}*</div> : configName}\n        </div>\n        <div className=\"flex-container\">\n          {navigation.map((item, index) =>\n            item ? (\n              <NavigationItem key={item.id} item={item} />\n            ) : (\n              <span key={index} className=\"spacer\" />\n            ),\n          )}\n        </div>\n        <div className=\"responsive-menu\">\n          <NavigationItem\n            key=\"menu\"\n            item={{\n              id: 'responsive-menu',\n              content: 'Menu',\n              icon: iconOverlayList,\n              enabled: true,\n              children: navigation,\n            }}\n          />\n        </div>\n        <div className=\"separator\">\n          <DateTime />\n          <LockState />\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { Component } from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\n\nclass NoSVOConfigurationLoadedView extends Component {\n  render() {\n    return (\n      <div className=\"no-config-loaded-wrapper\">\n        <FormattedMessage id=\"noConfigLoaded\" />\n      </div>\n    );\n  }\n}\n\nexport default NoSVOConfigurationLoadedView;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport './style.scss';\n\ninterface ListSelectionProps {\n  headline?: React.ReactNode;\n  selectionItems?: {\n    id: number | string;\n    text: React.ReactNode;\n    icon: string;\n    enabled: boolean;\n  }[];\n  showCancel?: boolean;\n  onSelection: (itemId: string | number) => void;\n  cancelButtonProps?: {\n    text?: React.ReactNode;\n    icon?: string;\n    goBack?: () => void;\n  };\n}\n\nconst ListSelection = ({\n  headline = '',\n  selectionItems = [],\n  onSelection,\n  cancelButtonProps = {},\n  showCancel = false,\n}: ListSelectionProps) => (\n  <div>\n    <h3>{headline}</h3>\n    <ul className=\"list-wrapper\">\n      {selectionItems.map((item) => (\n        <li\n          className=\"selection-item\"\n          key={`li${item.id}`}\n          style={{\n            pointerEvents: item.enabled ? 'auto' : 'none',\n            opacity: item.enabled ? '1.0' : '0.3',\n          }}\n        >\n          <Button variant=\"outlined\" key={`button${item.id}`} onClick={() => onSelection(item.id)}>\n            {item.icon && <img src={item.icon} alt=\"inspection.name\" className=\"image-item\" />}\n            {item.text}\n          </Button>\n        </li>\n      ))}\n      {showCancel ? (\n        <li className=\"selection-item\" key=\"liCancel\">\n          <Button variant=\"contained\" color=\"primary\" onClick={cancelButtonProps.goBack}>\n            {cancelButtonProps.icon && (\n              <img src={cancelButtonProps.icon} alt=\"type.id\" className=\"image-item\" />\n            )}\n            {cancelButtonProps.text}\n          </Button>\n        </li>\n      ) : null}\n    </ul>\n  </div>\n);\n\nexport default ListSelection;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport BackIcon from '../../../../assets/icons/back.svg';\nimport InspectionIcon from '../../../../assets/icons/show.svg';\nimport ListSelection from '../../../../components/ListSelection';\n\nclass InspectionSelection extends Component {\n  getSelectionItems = () => {\n    const { configuration } = this.props;\n    const inspections = (configuration && configuration.getInspections()) || [];\n    const items = inspections.map((inspection) => {\n      return {\n        id: inspection.id,\n        text: inspection.name,\n        icon: InspectionIcon,\n        enabled: true,\n      };\n    });\n\n    return items;\n  };\n\n  render() {\n    const { onSelection, goBack, showCancel } = this.props;\n    const cancelButtonProps = {\n      text: <FormattedMessage id=\"viewTypeSelection.back\" />,\n      icon: BackIcon,\n      goBack,\n    };\n\n    const selectionItems = this.getSelectionItems();\n\n    return (\n      <div>\n        <ListSelection\n          headline={<FormattedMessage id=\"inspectionSelection.selectInspection\" />}\n          onSelection={onSelection}\n          cancelButtonProps={cancelButtonProps}\n          showCancel={showCancel}\n          selectionItems={selectionItems}\n        />\n      </div>\n    );\n  }\n}\n\nInspectionSelection.defaultProps = {};\n\nInspectionSelection.propTypes = {\n  onSelection: PropTypes.func.isRequired,\n  configuration: PropTypes.object,\n  goBack: PropTypes.func,\n  showCancel: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  configuration: state.app.configuration,\n});\n\nexport default connect(mapStateToProps)(InspectionSelection);\n","export default __webpack_public_path__ + \"static/media/filmstrip.c43ef800.svg\";","export default __webpack_public_path__ + \"static/media/list.7380903e.svg\";","export default __webpack_public_path__ + \"static/media/parameter.417d04e6.svg\";","export default __webpack_public_path__ + \"static/media/toolset.f1f1d3b2.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport BackIcon from '../../../../assets/icons/back.svg';\nimport ImageStripViewIcon from '../../../../assets/icons/filmstrip.svg';\nimport ImageViewIcon from '../../../../assets/icons/image.svg';\nimport ListViewIcon from '../../../../assets/icons/list.svg';\nimport ParameterViewIcon from '../../../../assets/icons/parameter.svg';\nimport toolsetIcon from '../../../../assets/icons/toolset.svg';\nimport ListSelection from '../../../../components/ListSelection';\nimport {\n  canAddImageView,\n  canAddListView,\n  canAddImageStripView,\n  canAddParameterView,\n  canAddToolSetView,\n} from '../../../../utils/permissions';\nimport {\n  PARAMETER_VIEW,\n  IMAGE_VIEW,\n  IMAGE_STRIP_VIEW,\n  LIST_VIEW,\n  TOOLSET_VIEW,\n} from '../../../ViewSetFactory';\n\nclass ViewTypeSelection extends Component {\n  render() {\n    const { onSelection, goBack, myPermissions, showCancel } = this.props;\n    const inspectionTypes = [\n      {\n        id: IMAGE_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.imageView\" />,\n        icon: ImageViewIcon,\n        enabled: canAddImageView(myPermissions),\n      },\n      {\n        id: PARAMETER_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.parameterView\" />,\n        icon: ParameterViewIcon,\n        enabled: canAddParameterView(myPermissions),\n      },\n      {\n        id: IMAGE_STRIP_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.imageStripView\" />,\n        icon: ImageStripViewIcon,\n        enabled: canAddImageStripView(myPermissions),\n      },\n      {\n        id: LIST_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.ListView\" />,\n        icon: ListViewIcon,\n        enabled: canAddListView(myPermissions),\n      },\n      {\n        id: TOOLSET_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.toolset\" />,\n        icon: toolsetIcon,\n        enabled: canAddToolSetView(myPermissions),\n      },\n    ];\n    const cancelButtonProps = {\n      text: <FormattedMessage id=\"viewTypeSelection.back\" />,\n      icon: BackIcon,\n      goBack,\n    };\n\n    return (\n      <div>\n        <ListSelection\n          headline={<FormattedMessage id=\"viewTypeSelection.selectViewType\" />}\n          onSelection={onSelection}\n          cancelButtonProps={cancelButtonProps}\n          showCancel={showCancel}\n          selectionItems={inspectionTypes}\n        />\n      </div>\n    );\n  }\n}\n\nViewTypeSelection.defaultProps = {};\n\nViewTypeSelection.propTypes = {\n  onSelection: PropTypes.func.isRequired,\n  goBack: PropTypes.func,\n  showCancel: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  myPermissions: state.app.myPermissions,\n});\n\nexport default connect(mapStateToProps)(ViewTypeSelection);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { replaceViewInCurrentViewSet, purgeViewState } from '../../redux/actions';\nimport InspectionSelection from './components/InspectionSelection';\nimport ViewTypeSelection from './components/ViewTypeSelection';\nimport './style.scss';\n\nclass ViewSelection extends Component {\n  state = {\n    visibleComponent: 'ViewTypeSelection',\n    selectedInspectionId: 0,\n    selectedViewType: '',\n  };\n\n  componentDidMount() {\n    const { viewToShowWithoutInspection } = this.props;\n\n    if (viewToShowWithoutInspection) {\n      this.setState({\n        visibleComponent: 'InspectionSelection',\n        selectedViewType: viewToShowWithoutInspection,\n      });\n    }\n  }\n\n  setSelectedInspectionId = (inspectionId) => {\n    this.setState({\n      visibleComponent: '',\n      selectedInspectionId: inspectionId,\n    });\n\n    this.props.changeTitle(inspectionId);\n    this.updateView(inspectionId);\n  };\n\n  setSelectedViewType = (viewType) => {\n    this.setState({\n      visibleComponent: 'InspectionSelection',\n      selectedViewType: viewType,\n    });\n  };\n\n  goBackToViewTypeSelection = () => {\n    this.setState({\n      visibleComponent: 'ViewTypeSelection',\n      selectedInspectionId: 0,\n    });\n  };\n\n  cancelViewSelection = () => {\n    const { changeContent } = this.props;\n    changeContent();\n  };\n\n  updateView = (inspectionId) => {\n    const { replaceViewInCurrentViewSet, viewId, changeContent } = this.props;\n    const { selectedViewType } = this.state;\n\n    replaceViewInCurrentViewSet(viewId, selectedViewType, inspectionId);\n\n    changeContent();\n  };\n\n  render() {\n    const { showCancel } = this.props;\n    const { visibleComponent } = this.state;\n\n    return (\n      <div className=\"view-selection-wrapper\">\n        {(() => {\n          switch (visibleComponent) {\n            case 'InspectionSelection':\n              return (\n                <InspectionSelection\n                  onSelection={this.setSelectedInspectionId}\n                  goBack={this.goBackToViewTypeSelection}\n                  showCancel\n                />\n              );\n            case 'ViewTypeSelection':\n              return (\n                <ViewTypeSelection\n                  onSelection={this.setSelectedViewType}\n                  goBack={this.cancelViewSelection}\n                  showCancel={showCancel}\n                />\n              );\n            default:\n              return <div></div>;\n          }\n        })()}\n      </div>\n    );\n  }\n}\n\nViewSelection.propTypes = {\n  replaceViewInCurrentViewSet: PropTypes.func.isRequired,\n  viewId: PropTypes.string.isRequired,\n  changeContent: PropTypes.func,\n  changeTitle: PropTypes.func,\n  showCancel: PropTypes.bool,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  replaceViewInCurrentViewSet: (viewId, replacementComponentId, inspectionId) => {\n    dispatch(purgeViewState(undefined, viewId));\n    dispatch(replaceViewInCurrentViewSet(viewId, replacementComponentId, inspectionId));\n  },\n});\n\nexport default connect(null, mapDispatchToProps)(ViewSelection);\n","import { Component } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\nimport { MosaicWindow, SplitButton } from 'react-mosaic-component';\nimport { connect } from 'react-redux';\nimport shortId from 'shortid';\n\nimport CloseIcon from '../../assets/icons/close.svg';\nimport EditIcon from '../../assets/icons/edit.svg';\nimport KeyHandler from '../../components/KeyHandler';\nimport IconButton from '../../components/buttons/IconButton';\nimport { isObjectValid } from '../../utils/objectValidator';\nimport {\n  canEditViewSet,\n  canEditImageView,\n  canEditListView,\n  canEditImageStripView,\n  canEditParameterView,\n  canEditToolSetView,\n  canDeleteImageView,\n  canDeleteListView,\n  canDeleteImageStripView,\n  canDeleteParameterView,\n  canDeleteToolSetView,\n} from '../../utils/permissions';\nimport ViewSetFactory, {\n  IMAGE_VIEW,\n  LIST_VIEW,\n  PARAMETER_VIEW,\n  IMAGE_STRIP_VIEW,\n  TOOLSET_VIEW,\n} from '../../views/ViewSetFactory';\nimport NoSVOConfigurationLoadedView from '../NoSVOConfigurationLoadedView';\nimport ViewSelection from '../ViewSelection';\nimport { mosaicViewType } from './types';\n\nconst viewSetFactory = new ViewSetFactory();\n\nclass SVOView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFullscreen: false,\n      resetView: false,\n      selectedInspectionId: 0,\n      isConfirmOpen: false,\n    };\n  }\n\n  setFullscreen = (isFullscreen) =>\n    // this function can be triggered from reducer\n    // where state modifications are not allowed\n    setTimeout(() => this.setState({ isFullscreen }), 0);\n\n  resetView = () => {\n    this.setState({\n      resetView: true,\n    });\n  };\n\n  removeIdsForUnknownInspectionIds = (currentViewSet, inspectionIds) => {\n    const viewSet = currentViewSet.viewSet;\n\n    Object.keys(viewSet).forEach((viewId) => {\n      const inspectionId = viewSet[viewId].inspectionId;\n      if (!inspectionIds.includes(inspectionId)) {\n        delete viewSet[viewId].id;\n        delete viewSet[viewId].inspectionId;\n      }\n    });\n  };\n\n  canEditCurrentView = () => {\n    const { id, views, myPermissions } = this.props;\n    if (views && views.viewSet && views.viewSet[id]) {\n      switch (views.viewSet[id].viewComponentClassId) {\n        case IMAGE_VIEW:\n          return canEditImageView(myPermissions);\n        case LIST_VIEW:\n          return canEditListView(myPermissions);\n        case IMAGE_STRIP_VIEW:\n          return canEditImageStripView(myPermissions);\n        case PARAMETER_VIEW:\n          return canEditParameterView(myPermissions);\n        case TOOLSET_VIEW:\n          return canEditToolSetView(myPermissions);\n        default:\n          return false;\n      }\n    }\n\n    return false;\n  };\n\n  canDeleteCurrentView = () => {\n    const { id, views, myPermissions } = this.props;\n    if (views && views.viewSet && views.viewSet[id]) {\n      switch (views.viewSet[id].viewComponentClassId) {\n        case IMAGE_VIEW:\n          return canDeleteImageView(myPermissions);\n        case LIST_VIEW:\n          return canDeleteListView(myPermissions);\n        case IMAGE_STRIP_VIEW:\n          return canDeleteImageStripView(myPermissions);\n        case PARAMETER_VIEW:\n          return canDeleteParameterView(myPermissions);\n        case TOOLSET_VIEW:\n          return canDeleteToolSetView(myPermissions);\n        default:\n          return false;\n      }\n    }\n\n    return false;\n  };\n\n  getInspectionId = () => {\n    const { id, views } = this.props;\n    const { selectedInspectionId } = this.state;\n\n    return selectedInspectionId || (views.viewSet[id] && views.viewSet[id].inspectionId);\n  };\n\n  render() {\n    const {\n      configuration,\n      id,\n      path,\n      views,\n      dispatch,\n      editingViewIds,\n      intl,\n      windowName,\n      isSVOConfigLoaded,\n      myPermissions,\n    } = this.props;\n    const { isFullscreen, resetView, selectedInspectionId } = this.state;\n    const viewClass = classNames({\n      fullscreen: isFullscreen,\n      'editing-focus': editingViewIds.includes(id),\n    });\n\n    const inspectionId = this.getInspectionId();\n    let inspectionName = '<UNKNOWN INSPECTION>';\n    if (configuration) {\n      const name = configuration.getInspectionName(inspectionId);\n      if (name && name.length > 0) {\n        inspectionName = `[${name}]`;\n      }\n      if (windowName && !resetView) {\n        inspectionName = `${inspectionName} ${windowName}`;\n      }\n\n      const currentInspections =\n        configuration &&\n        configuration.inspections &&\n        configuration.inspections.map((inspection) => inspection.id);\n      if (currentInspections) {\n        this.removeIdsForUnknownInspectionIds(views, currentInspections);\n      }\n    }\n\n    const hasInspectionId = views.viewSet && views.viewSet[id] && views.viewSet[id].inspectionId;\n    const viewToShowWithoutInspection =\n      !hasInspectionId &&\n      views.viewSet &&\n      views.viewSet[id] &&\n      views.viewSet[id].viewComponentClassId;\n\n    const toolbarControls = [];\n\n    if (canEditViewSet(myPermissions)) {\n      toolbarControls.push(<SplitButton key=\"splitButton\" />);\n    }\n\n    toolbarControls.push(\n      <IconButton\n        tooltip={intl.messages['viewTypeSelection.chooseViewTooltip']}\n        onClick={() => this.resetView(id)}\n        iconUrl={EditIcon}\n        key=\"swapButton\"\n        enabled={this.canEditCurrentView()}\n      />,\n    );\n    toolbarControls.push(\n      <IconButton\n        tooltip={intl.messages['svoView.closeView']}\n        onClick={() => this.props.onCloseView()}\n        iconUrl={CloseIcon}\n        key=\"customRemoveButton\"\n        style={{ width: '18px', height: '18px' }}\n        enabled={resetView || !hasInspectionId || this.canDeleteCurrentView()}\n      />,\n    );\n\n    return (\n      <MosaicWindow\n        className={viewClass}\n        createNode={() => shortId.generate()}\n        title={\n          (selectedInspectionId ||\n            (views.viewSet && views.viewSet[id] && views.viewSet[id].titleId)) &&\n          this.props.intl.formatMessage(\n            {\n              id:\n                selectedInspectionId || windowName\n                  ? 'svoView.emptyViewInspectionTemplate'\n                  : views.viewSet[id].titleId,\n            },\n            {\n              inspectionName,\n            },\n          )\n        }\n        toolbarControls={isSVOConfigLoaded ? toolbarControls : []}\n        path={path}\n        draggable={canEditViewSet(myPermissions)}\n      >\n        <KeyHandler view={this} dispatch={dispatch} editingViewIds={editingViewIds}>\n          {!resetView && hasInspectionId ? (\n            viewSetFactory.createViewInstance(views.viewSet[id], {\n              ...views.viewSet[id].passedProps,\n              id,\n              inspectionId: views.viewSet[id].inspectionId,\n            })\n          ) : isSVOConfigLoaded ? (\n            <ViewSelection\n              viewId={id}\n              changeContent={() => this.setState({ resetView: false, selectedInspectionId: 0 })}\n              changeTitle={(selectedInspectionId) => this.setState({ selectedInspectionId })}\n              showCancel={resetView}\n              viewToShowWithoutInspection={viewToShowWithoutInspection}\n            />\n          ) : (\n            <NoSVOConfigurationLoadedView />\n          )}\n        </KeyHandler>\n      </MosaicWindow>\n    );\n  }\n}\n\nSVOView.defaultProps = {\n  editingViewIds: [],\n};\n\nSVOView.propTypes = {\n  id: PropTypes.string.isRequired,\n  path: PropTypes.arrayOf(PropTypes.string).isRequired,\n  views: mosaicViewType.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  editingViewIds: PropTypes.arrayOf(PropTypes.string),\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { views, id } = ownProps;\n  const inspectionId = isObjectValid(() => views.viewSet[id].inspectionId);\n  const configuration = state.app.configuration;\n  const isSVOConfigLoaded = state.viewSet.isSVOConfigLoaded;\n  const myPermissions = state.app.myPermissions;\n\n  let windowName = isObjectValid(() => state.inspections[inspectionId].views[id].windowName);\n  if (windowName) {\n    const inspectionName = configuration.getInspectionName(inspectionId);\n    windowName = windowName.replace(`Inspections.${inspectionName}.`, '');\n    return {\n      configuration,\n      windowName,\n      isSVOConfigLoaded,\n      myPermissions,\n    };\n  }\n  return {\n    configuration,\n    isSVOConfigLoaded,\n    myPermissions,\n  };\n};\n\nconst mapDispatchToProps = () => {\n  return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(injectIntl(SVOView));\n","import { useCallback, useMemo, useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport { FormattedMessage } from 'react-intl';\nimport {\n  Mosaic,\n  MosaicBranch,\n  MosaicContext,\n  MosaicNode,\n  MosaicPath,\n} from 'react-mosaic-component';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport {\n  increaseViewSizeChangeCounter,\n  purgeViewState,\n  clearCurrentView,\n} from '../../redux/actions/index';\nimport { Inspections } from '../../types/InspectionsType';\nimport { canEditViewSet } from '../../utils/permissions';\nimport SVOView from './SVOView';\n\nimport './style.scss';\n\ninterface SVOViewSchema {\n  viewId: string | number;\n  path: MosaicBranch[];\n  remove: (path: MosaicPath) => void;\n}\n\ninterface ViewSchema {\n  id: string;\n  name: string;\n  initialValue: MosaicNode<string | number> | null;\n  viewSet: Record<\n    string,\n    {\n      id: string;\n      inspectionId: number;\n      titleId: string;\n      viewComponentClassId: string;\n    }\n  >;\n}\n\ninterface ViewSetProps {\n  views: ViewSchema;\n  onChange: (layout: MosaicNode<string | number> | null) => void;\n  topNavHidden?: boolean;\n  bottomNavHidden?: boolean;\n}\n\nconst ViewSet = ({\n  views,\n  onChange,\n  topNavHidden = false,\n  bottomNavHidden = false,\n}: ViewSetProps) => {\n  const inspections = useSelector<any>((state) => state.inspections) as Inspections;\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n\n  const dispatch = useDispatch();\n\n  const mosaic = useRef(null);\n\n  const [viewToClose, setViewToClose] = useState<SVOViewSchema | null>(null);\n\n  const editingViewIds = useMemo(\n    () =>\n      Object.keys(inspections).map(\n        (inspection) => inspections[inspection].sharedState?.editingViewId,\n      ),\n    [inspections],\n  );\n\n  const viewSetClass = classNames({\n    'view-set-wrapper': true,\n    'bottom-nav-offset': !bottomNavHidden,\n    'top-nav-hidden': !topNavHidden,\n  });\n\n  const handleConfirmDialogClose = useCallback(\n    (confirmed: boolean) => {\n      if (confirmed && viewToClose) {\n        const { viewId, path, remove } = viewToClose;\n        const inspectionId = views.viewSet[viewId] && views.viewSet[viewId].inspectionId;\n        if (typeof views.initialValue === 'string') {\n          dispatch(clearCurrentView());\n        }\n        dispatch(purgeViewState(inspectionId, viewId));\n\n        remove(path);\n      }\n      setViewToClose(null);\n    },\n    [dispatch, viewToClose, views.initialValue, views.viewSet],\n  );\n\n  return (\n    <div className={viewSetClass}>\n      <ConfirmDialog\n        open={!!viewToClose}\n        onClose={handleConfirmDialogClose}\n        message={<FormattedMessage id=\"svoView.closeViewConfirmation\" />}\n      />\n      <Mosaic\n        onChange={(layout: MosaicNode<string | number> | null) => {\n          onChange(layout);\n          dispatch(increaseViewSizeChangeCounter());\n        }}\n        ref={mosaic}\n        renderTile={(id, path) => (\n          <MosaicContext.Consumer>\n            {({ mosaicActions }) => (\n              <SVOView\n                key={id}\n                id={id}\n                path={path}\n                views={views}\n                dispatch={dispatch}\n                editingViewIds={editingViewIds}\n                onCloseView={() => {\n                  setViewToClose({ viewId: id, path, remove: mosaicActions.remove });\n                }}\n              />\n            )}\n          </MosaicContext.Consumer>\n        )}\n        initialValue={views.initialValue}\n        resize={canEditViewSet(myPermissions) ? { minimumPaneSizePercentage: 10 } : 'DISABLED'}\n      />\n    </div>\n  );\n};\n\nexport default ViewSet;\n","import React, { Component } from 'react';\nimport throttle from 'lodash/throttle';\nimport PropTypes from 'prop-types';\nimport { IntlProvider } from 'react-intl';\nimport { connect, ReactReduxContext } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport ModalNotification from '../components/ModalNotification.js';\nimport ProtobufType from '../components/Protobuf/ProtobufType';\nimport {\n  setViewSet,\n  setCurrentLayout,\n  addConnectionEstablishedNotification,\n  addConnectionLostNotification,\n  saveClientChunk,\n  closeHelpView,\n  increaseViewSizeChangeCounter,\n  changeViewSetAfterLoading,\n} from '../redux/actions';\nimport translations from '../translations';\nimport BottomNavigation from '../views/BottomNavigation';\nimport HelpView from '../views/HelpView';\nimport { TopNavigation } from '../views/TopNavigation';\nimport ViewSet from '../views/ViewSet';\nimport ViewSetFactory, { DEFAULT_VIEWSET } from '../views/ViewSetFactory';\n\nclass SVObserver extends Component {\n  static contextType = ReactReduxContext;\n  state = {\n    viewSetFactory: new ViewSetFactory(),\n    throttledWindwResizeHandler: throttle(() => this.props.increaseChangeCounter(), 500),\n  };\n\n  handleBeforeUnload(event) {\n    event.preventDefault();\n    event.returnValue = '';\n  }\n\n  componentDidMount() {\n    if (!this.props.currentViewSet) {\n      const viewSetId = DEFAULT_VIEWSET;\n      const viewSet = this.state.viewSetFactory.getViewSet(viewSetId);\n      this.props.setViewSet(viewSet, viewSet.id);\n    }\n\n    if (this.props.defaultViewSetName) {\n      this.props.changeViewSetAfterLoading(this.props.defaultViewSetName);\n    }\n\n    if (this.props.protobuf && this.props.socket) {\n      this.onWebsocketConnect(this.props.protobuf);\n    }\n\n    window.addEventListener('resize', this.state.throttledWindwResizeHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.state.throttledWindwResizeHandler);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.socket !== this.props.socket && nextProps.protobuf && nextProps.socket) {\n      this.onWebsocketConnect(nextProps.protobuf);\n    }\n    if (nextProps.socket !== this.props.socket && !nextProps.socket) {\n      this.onWebsocketDisconnect();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { unsavedChanges } = this.props;\n    if (unsavedChanges && prevProps.currentViewSet) {\n      window.addEventListener('beforeunload', this.handleBeforeUnload);\n    } else {\n      window.removeEventListener('beforeunload', this.handleBeforeUnload);\n    }\n  }\n\n  onWebsocketConnect = async () => {\n    this.props.addConnectionEstablishedNotification();\n  };\n\n  onWebsocketDisconnect = () => {\n    this.props.addConnectionLostNotification();\n  };\n\n  saveConfiguration() {\n    const currentState = this.context.store.getState();\n    this.props.saveClientChunk(this.props.protobuf, currentState);\n  }\n\n  render() {\n    const {\n      locale,\n      currentViewSet,\n      bottomNavHidden,\n      topNavHidden,\n      modalNotificationData,\n      isHelpViewOpen,\n      closeHelpView,\n    } = this.props;\n\n    if (!this.props.user || !this.props.authToken) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <IntlProvider locale={locale} messages={translations[locale]}>\n        <div className=\"vh-100 center\">\n          <ModalNotification\n            visible={!!modalNotificationData}\n            message={modalNotificationData && modalNotificationData.message}\n          />\n          <TopNavigation onLoggedOut={this.props.onLoggedOut} />\n          {!modalNotificationData && currentViewSet && (\n            <ViewSet\n              views={currentViewSet}\n              onChange={(layout) => {\n                this.props.setLayout(layout);\n              }}\n              bottomNavHidden={bottomNavHidden}\n              topNavHidden={topNavHidden}\n            />\n          )}\n          <BottomNavigation onSave={() => this.saveConfiguration()} />\n          <HelpView open={isHelpViewOpen} onClose={() => closeHelpView()}></HelpView>\n        </div>\n      </IntlProvider>\n    );\n  }\n}\n\nSVObserver.defaultProps = {\n  bottomNavHidden: false,\n  topNavHidden: false,\n  protobuf: undefined,\n  viewSetTemplate: undefined,\n  user: undefined,\n  authToken: undefined,\n  location: { state: {} },\n  currentViewSet: undefined,\n};\n\nSVObserver.propTypes = {\n  locale: PropTypes.string.isRequired,\n  user: PropTypes.shape({ name: PropTypes.string }),\n  authToken: PropTypes.string,\n  currentViewSet: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({ id: PropTypes.string }),\n  ]),\n  bottomNavHidden: PropTypes.bool,\n  topNavHidden: PropTypes.bool,\n  setLayout: PropTypes.func.isRequired,\n  setViewSet: PropTypes.func.isRequired,\n  viewSetTemplate: PropTypes.string,\n  addConnectionEstablishedNotification: PropTypes.func.isRequired,\n  addConnectionLostNotification: PropTypes.func.isRequired,\n  protobuf: ProtobufType,\n  location: PropTypes.shape({ state: PropTypes.any }),\n};\n\nconst mapStateToProps = (state) => ({\n  isHelpViewOpen: state.app.isHelpViewOpen,\n  locale: state.app.locale,\n  protobuf: state.app.protobuf,\n  socket: state.app.socket,\n  user: state.app.user,\n  authToken: state.app.authToken,\n  currentViewSet: state.viewSet.currentViewSet,\n  bottomNavHidden: state.viewSet.bottomNavHidden,\n  topNavHidden: state.viewSet.topNavHidden,\n  defaultViewSetName: state.viewSet.defaultViewSetName,\n  createdViewSets: state.app.createdViewSets,\n  modalNotificationData: state.app.modalNotificationData,\n  increaseChangeCounter: PropTypes.func.isRequired,\n  unsavedChanges: state.viewSet.unsavedChanges,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  closeHelpView: () => {\n    dispatch(closeHelpView());\n  },\n  setViewSet: (viewSet, viewSetId) => {\n    dispatch(setViewSet(viewSet, viewSetId));\n  },\n  setLayout: (layout) => {\n    dispatch(setCurrentLayout(layout));\n  },\n  addConnectionEstablishedNotification: () => {\n    dispatch(addConnectionEstablishedNotification());\n  },\n  addConnectionLostNotification: () => {\n    dispatch(addConnectionLostNotification());\n  },\n  saveClientChunk: (protobuf, chunk) => {\n    dispatch(saveClientChunk(protobuf, chunk));\n  },\n  increaseChangeCounter: () => {\n    dispatch(increaseViewSizeChangeCounter());\n  },\n  changeViewSetAfterLoading: (name) => {\n    dispatch(changeViewSetAfterLoading(name));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SVObserver);\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\n\nimport DatabaseGatewayPage from './pages/DatabaseGatewayPage';\nimport DebuggerPage from './pages/DebuggerPage';\nimport HmiLoginPage from './pages/HmiLoginPage';\nimport LogoutPage from './pages/LogoutPage';\nimport PermissionPage from './pages/PermissionPage';\nimport SVObserver from './pages/SVObserver';\n\nconst App = ({ user, authToken, onLoggedOut }) => {\n  const dispatch = useDispatch();\n  dispatch({\n    type: 'LOG_IN',\n    authToken,\n    user,\n  });\n\n  return (\n    <Router>\n      <div>\n        <Route exact path={'/'} render={() => <Redirect to=\"/app\" />} />\n        <Route\n          path={'/app'}\n          render={(props) => <SVObserver {...props} onLoggedOut={onLoggedOut} />}\n        />\n        <Route path={'/hmi-v1'} component={HmiLoginPage} />\n        <Route path={'/permissions'} component={PermissionPage} />\n        <Route\n          path={'/logout'}\n          render={(props) => <LogoutPage {...props} onLoggedOut={onLoggedOut} />}\n        />\n        <Route path={'/databasegateway'} component={DatabaseGatewayPage} />\n        <Route path={'/debugger'} component={DebuggerPage} />\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\n\nimport { logIn } from '../utils/authentication';\n\nconst paperStyle = {\n  width: 400,\n  margin: 20,\n  padding: 25,\n  display: 'inline-block',\n};\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: null,\n      password: null,\n    };\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    logIn(this.state.username, this.state.password)\n      .then((data) => this.props.onLogin(data))\n      .catch(() => this.setState({ loginFailed: true }));\n  };\n\n  render() {\n    return (\n      <div className=\"flex items-center justify-center\" id=\"login-page\">\n        <Paper elevation={5} style={paperStyle}>\n          {this.state.loginFailed ? <p className=\"red\">Log In failed</p> : null}\n          <form onSubmit={this.onSubmit}>\n            <TextField\n              label=\"Username\"\n              style={{ width: '100%' }}\n              margin=\"dense\"\n              type=\"username\"\n              onChange={(e) => {\n                this.setState({\n                  username: e.target.value,\n                });\n              }}\n            />\n            <br />\n            <TextField\n              label=\"Password\"\n              style={{ width: '100%' }}\n              autoComplete=\"current-password\"\n              margin=\"dense\"\n              type=\"password\"\n              onChange={(e) => {\n                this.setState({\n                  password: e.target.value,\n                });\n              }}\n            />\n            <br />\n            <br />\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n              LogIn\n            </Button>\n          </form>\n        </Paper>\n      </div>\n    );\n  }\n}\n\nLoginPage.propTypes = {\n  onLogin: PropTypes.func.isRequired,\n};\n\nexport default LoginPage;\n","import isEqual from 'lodash/isEqual';\n\nimport ConfigurationLock from '../../protobuf/ConfigurationLock';\nimport ProtobufConnector from '../../protobuf/ProtobufConnector';\nimport Proxy from '../../protobuf/Proxy';\nimport { removeAllUserInfoFromStorage, saveUserInfoToStorage } from '../../utils/localStorage';\nimport logger from '../../utils/logger';\n\nconst NUMBER_OF_NOTIFICATIONS_SHOWN = 50;\n\nfunction createInitialAppState({ websocketUrl, dispatch, user, authToken }) {\n  const connector = new ProtobufConnector(websocketUrl, dispatch, authToken);\n  const proxy = new Proxy(dispatch);\n  const configurationLock = new ConfigurationLock({});\n  const inspectionToolsetMappings = new Map();\n  const locale = localStorage.getItem('CURRENT_LOCALE');\n  logger.setProxy(proxy);\n  return {\n    connection: null,\n    notifications: [],\n    mode: 0,\n    navigationHidden: false,\n    locale: locale || 'en',\n    authToken,\n    user,\n    currentMode: null,\n    pausedInspections: [],\n    connector,\n    protobuf: undefined,\n    socket: undefined,\n    proxy,\n    saveOperationInProcess: false,\n    currentClientChunkRevision: 0,\n    modalNotificationData: null,\n    focusedViewType: null,\n    isHelpViewOpen: false,\n    configuration: null,\n    configurationLock,\n    inspectionToolsetMappings,\n    isBrowserWindowVisible: true,\n  };\n}\n\nconst appReducer = (params) => {\n  const initalAppState = createInitialAppState(params);\n  return (state = initalAppState, action) => {\n    switch (action.type) {\n      case 'SET_PROTOBUF_STATIC_INITIALIZED':\n        state.proxy.setProtobufStaticInitialized();\n        return state;\n      case 'SET_PROTOBUF': {\n        const { protobuf, socket } = action;\n        protobuf.onConnect(socket);\n        state.proxy.setProtobuf(protobuf);\n        return Object.assign({}, state, { protobuf, socket });\n      }\n      case 'ADD_NOTIFICATION': {\n        const newNotifications = getNewNotifications(action.notification, state);\n\n        return Object.assign({}, state, {\n          notifications: newNotifications,\n        });\n      }\n      case 'LOG_IN':\n        saveUserInfoToStorage(action.authToken, action.user);\n        state.connector.connectWithToken(action.authToken);\n        return { ...state, authToken: action.authToken, user: action.user };\n      case 'LOG_OUT':\n        removeAllUserInfoFromStorage();\n        setTimeout(() => state.connector.disconnect());\n        return state;\n      case 'AUTH_TOKEN_EXPIRED':\n        removeAllUserInfoFromStorage();\n        return { ...state, authToken: undefined, user: undefined };\n      case 'SET_LOCALE':\n        localStorage.setItem('CURRENT_LOCALE', action.locale);\n        return { ...state, locale: action.locale };\n      case 'ON_NAVIGATION_HIDDEN': {\n        return Object.assign({}, state, {\n          navigationHidden: !state.navigationHidden,\n        });\n      }\n      case 'SHOW_GLOBAL_MESSAGE_OVERLAY': {\n        const { message } = action;\n        logger.info({ message }, 'Showing global message overlay');\n        return {\n          ...state,\n          modalNotificationData: {\n            message,\n          },\n        };\n      }\n      case 'HIDE_GLOBAL_MESSAGE_OVERLAY':\n        logger.info('Hiding global message overlay');\n        return {\n          ...state,\n          modalNotificationData: null,\n        };\n      case 'SET_CURRENT_MODE':\n        state.proxy.setMode(action.mode);\n        return state;\n      case 'SET_CURRENT_MODE_DONE':\n        return {\n          ...state,\n          currentMode: action.mode,\n        };\n      case 'SET_PAUSED_INSPECTIONS':\n        return {\n          ...state,\n          pausedInspections: action.pausedInspections,\n        };\n      case 'UPDATE_CLIENT_CHUNK_REVISION':\n        return {\n          ...state,\n          currentClientChunkRevision: action.revision,\n        };\n\n      case 'UPDATE_SAVE_OPERATION_IN_PROCESS':\n        return {\n          ...state,\n          saveOperationInProcess: action.inProcess,\n        };\n      case 'SET_CONFIGURATION':\n        return {\n          ...state,\n          configuration: action.configuration,\n        };\n      case 'SET_CONFIGURATION_LOCK':\n        return {\n          ...state,\n          configurationLock: action.configurationLock,\n        };\n      case 'SET_INSPECTION_TOOLSET_MAPPINGS':\n        return {\n          ...state,\n          inspectionToolsetMappings: action.mappings,\n        };\n      case 'SET_FOCUSED_VIEW_TYPE':\n        return {\n          ...state,\n          focusedViewType: action.viewType,\n        };\n\n      case 'OPEN_HELP_VIEW':\n        return {\n          ...state,\n          isHelpViewOpen: action.isHelpViewOpen,\n        };\n\n      case 'CLOSE_HELP_VIEW':\n        return {\n          ...state,\n          isHelpViewOpen: action.isHelpViewOpen,\n        };\n\n      case 'SET_GROUP_PERMISSIONS':\n        return {\n          ...state,\n          groupPermissions: action.groupPermissions,\n        };\n\n      case 'SET_MY_PERMISSIONS':\n        return {\n          ...state,\n          myPermissions: action.myPermissions,\n        };\n\n      case 'SET_BROWSER_WINDOW_VISIBILITY':\n        return {\n          ...state,\n          isBrowserWindowVisible: action.visible,\n        };\n\n      case 'SET_DATABASE_GATEWAY_CHUNK':\n        return {\n          ...state,\n          databaseGatewayConfig: action.chunk,\n        };\n\n      default:\n        return state;\n    }\n  };\n};\n\nfunction getNewNotifications(notification2Add, state) {\n  let newNotifications = [...state.notifications];\n  let notification = addTimestampToNotification(notification2Add, state.locale);\n\n  const equalsLastNotification = equalsLastNotificationCurrentNotification(\n    notification,\n    newNotifications,\n  );\n\n  if (!equalsLastNotification) {\n    notification = setCountForNotification(notification);\n    newNotifications.unshift(notification);\n  } else {\n    newNotifications[0] = setCountForNotification(newNotifications[0]);\n  }\n\n  if (newNotifications && newNotifications.length > NUMBER_OF_NOTIFICATIONS_SHOWN) {\n    newNotifications.splice(-1, 1);\n  }\n\n  return newNotifications;\n}\n\nfunction addTimestampToNotification(notification, locale) {\n  const date = new Date();\n  const dateOptions = { day: '2-digit', month: '2-digit', year: 'numeric' };\n  const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit' };\n  const timestamp = `${date.toLocaleString(locale, dateOptions)} ${date.toLocaleString(\n    locale,\n    timeOptions,\n  )}`;\n\n  notification = {\n    ...notification,\n    timestamp: timestamp,\n  };\n\n  return notification;\n}\n\nfunction equalsLastNotificationCurrentNotification(currentNotification, notifications) {\n  if (notifications && notifications.length > 0) {\n    return isEqual(currentNotification.message, notifications[0].message);\n  }\n\n  return false;\n}\n\nfunction setCountForNotification(notification) {\n  let count = notification.count;\n  if (count === undefined) {\n    count = 1;\n  } else {\n    count++;\n  }\n\n  notification = {\n    ...notification,\n    count,\n  };\n\n  return notification;\n}\n\nexport default appReducer;\n","const initialState = {\n  parameter: null,\n};\n\nconst toolsetReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_PARAMETER':\n      return {\n        ...state,\n        parameter: action.parameter,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default toolsetReducer;\n","import omit from 'lodash/omit';\nimport { isObjectValid } from '../../utils/objectValidator';\n\nconst findInspectionForView = (viewId, state) =>\n  Object.keys(state).find(\n    (inspectionId) =>\n      state[inspectionId] && state[inspectionId].views && !!state[inspectionId].views[viewId],\n  );\n\nconst viewDataReducer = (state = {}, action) => {\n  const { inspectionId, viewId, key } = action;\n  switch (action.type) {\n    case 'PURGE_VIEW_STATE': {\n      const inspectionId = action.inspectionId || findInspectionForView(action.viewId, state);\n      if (!inspectionId) {\n        return state;\n      }\n\n      if (!state[inspectionId]) {\n        return state;\n      }\n\n      return omit(state, [\n        `${inspectionId}.sharedState.views.${action.viewId}`,\n        `${inspectionId}.views.${action.viewId}`,\n        state[inspectionId].sharedState.editingViewId === action.viewId &&\n          `${inspectionId}.sharedState.editingViewId`,\n      ]);\n    }\n    case 'SET_EDITING_FOCUS': {\n      if (!state[inspectionId]) {\n        return state;\n      }\n\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...state[inspectionId].sharedState,\n            editingViewId: viewId,\n          },\n        },\n      };\n    }\n\n    case 'SET_LIST_VIEW_ALIASES': {\n      if (!state[inspectionId]) {\n        return state;\n      }\n\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...state[inspectionId].sharedState,\n            listViewAliases: action.aliases,\n            showAliasesInList: action.showInList,\n          },\n        },\n      };\n    }\n\n    case 'UPDATE_LIST_VIEW_SHOW_ALIASES': {\n      if (!state[inspectionId]) {\n        return state;\n      }\n\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...state[inspectionId].sharedState,\n            showAliasesInList: action.showInList,\n          },\n        },\n      };\n    }\n\n    case 'SET_VIEW_DATA':\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          views: {\n            ...(state[inspectionId] ? state[inspectionId].views : {}),\n            [viewId]: {\n              ...(state[inspectionId] && state[inspectionId].views\n                ? state[inspectionId].views[viewId]\n                : {}),\n              [key]: action.data,\n            },\n          },\n        },\n      };\n\n    case 'SAVE_IMAGE_SETTINGS':\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          views: {\n            ...(state[inspectionId] ? state[inspectionId].views : {}),\n            [viewId]: {\n              ...(state[inspectionId] && state[inspectionId].views\n                ? state[inspectionId].views[viewId]\n                : {}),\n              zoomFactor: action.zoomFactor,\n              imagePosition: action.imagePosition,\n            },\n          },\n        },\n      };\n\n    case 'SET_SHARED_STATE_DATA': {\n      const editingViewId = action.viewId || state[inspectionId].sharedState.editingViewId;\n      const newState = {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...(state[inspectionId] ? state[inspectionId].sharedState : {}),\n            views: {\n              ...(state[inspectionId] ? state[inspectionId].sharedState.views : {}),\n              [editingViewId]: {\n                ...(state[inspectionId]\n                  ? state[inspectionId].sharedState.views[editingViewId]\n                  : {}),\n                [key]: action.data,\n              },\n            },\n          },\n        },\n      };\n      return newState;\n    }\n\n    case 'INIT_VIEW_STATE': {\n      const { initState, initSharedState } = action;\n\n      const newState = {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...(state[inspectionId] ? state[inspectionId].sharedState : {}),\n            views: {\n              ...(state[inspectionId] ? state[inspectionId].sharedState.views : {}),\n              [viewId]: isObjectValid(() => state[inspectionId].sharedState.views[viewId])\n                ? {\n                    ...initSharedState,\n                    ...state[inspectionId].sharedState.views[viewId],\n                  }\n                : initSharedState,\n            },\n          },\n          views: {\n            ...(state[inspectionId] ? state[inspectionId].views : {}),\n            [viewId]: isObjectValid(() => state[inspectionId].views[viewId])\n              ? { ...initState, ...state[inspectionId].views[viewId] }\n              : initState,\n          },\n        },\n      };\n\n      const listViewAliases =\n        newState[inspectionId] &&\n        newState[inspectionId].sharedState &&\n        (newState[inspectionId].sharedState.listViewAliases || new Map());\n      newState[inspectionId].sharedState.listViewAliases = listViewAliases;\n\n      return newState;\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default viewDataReducer;\n","import ViewSetFactory, { DEFAULT_VIEWSET_NAME } from '../../views/ViewSetFactory';\n\nconst viewSetFactory = new ViewSetFactory();\n\nconst initialState = () => {\n  const hideBottomNavigation = localStorage.getItem('BOTTOM_NAVIGATION_HIDDEN') === 'true';\n  const hideTopNavigation = localStorage.getItem('TOP_NAVIGATION_HIDDEN') === 'true';\n  const defaultViewSetName = localStorage.getItem('DEFAULT_VIEWSET_NAME');\n\n  return {\n    currentViewSet: undefined,\n    createdViewSets: {},\n    fullscreenMode: false,\n    fullscreenComponentDescriptor: undefined,\n    viewSizeChangeCounter: 0,\n    bottomNavHidden: hideBottomNavigation || false,\n    topNavHidden: hideTopNavigation || false,\n    defaultViewSetName: defaultViewSetName || null,\n    isSVOConfigLoaded: false,\n    unsavedChanges: false,\n  };\n};\n\nconst enterFullScreenMode = (componentDescriptor, state) => {\n  componentDescriptor.setFullscreen(true);\n  return {\n    ...state,\n    fullscreenMode: true,\n    fullscreenComponentDescriptor: componentDescriptor,\n  };\n};\n\nconst leaveFullScreenMode = (componentDescriptor, state) => {\n  componentDescriptor.setFullscreen(false);\n  return {\n    ...state,\n    fullscreenMode: false,\n    fullscreenComponentDescriptor: undefined,\n  };\n};\n\nconst findCreatedViewSetWithName = (name, createdViewSets) => {\n  const viewSetId = Object.keys(createdViewSets).find(\n    (viewSetId) => createdViewSets[viewSetId] && createdViewSets[viewSetId].name === name,\n  );\n  return viewSetId && createdViewSets[viewSetId];\n};\n\nconst switchViewSet = (viewSet, state) => {\n  const viewSetId = viewSet.id;\n  const cached = state.createdViewSets[viewSetId];\n  const targetViewSet = cached || viewSetFactory.getViewSet(viewSetId);\n  const createdViewSet = !cached ? { [viewSetId]: targetViewSet } : {};\n\n  const newState = {\n    ...state,\n    currentViewSet: targetViewSet,\n    createdViewSets: Object.assign({}, state.createdViewSets, createdViewSet),\n  };\n  return newState;\n};\n\nconst updateCurrentViewSet = (state, viewSet, viewSetId) => {\n  return {\n    ...state,\n    currentViewSet: viewSet,\n    createdViewSets: {\n      ...state.createdViewSets,\n      [viewSetId]: viewSet,\n    },\n    unsavedChanges: true,\n  };\n};\n\nconst removeViewSet = (state, name) => {\n  const { createdViewSets } = state;\n\n  let newCreatedViewSets = Object.keys(createdViewSets)\n    .filter((id) => id !== name)\n    .reduce((p, c) => ({ ...p, [c]: createdViewSets[c] }), {});\n\n  if (Object.keys(newCreatedViewSets).length === 0) {\n    const name = DEFAULT_VIEWSET_NAME;\n    newCreatedViewSets = {\n      [name]: viewSetFactory.buildEmptyViewSet(name),\n    };\n  }\n\n  return {\n    createdViewSets: newCreatedViewSets,\n    currentViewSet: newCreatedViewSets[Object.keys(newCreatedViewSets)[0]],\n    unsavedChanges: true,\n  };\n};\n\nconst viewSetReducer = (state = initialState(), action) => {\n  switch (action.type) {\n    case 'LOG_OUT':\n      return initialState();\n    case 'SET_VIEWSET':\n      return updateCurrentViewSet(state, action.viewSet, action.viewSetId);\n    case 'REPLACE_VIEW_IN_CURRENT_VIEWSET': {\n      const { viewId, inspectionId, replacementComponentId } = action;\n      const createdView = viewSetFactory.getViewById(replacementComponentId);\n      createdView.inspectionId = inspectionId;\n      const currentViewSetId = state.currentViewSet.id;\n      const updatedViewSet = {\n        ...state.currentViewSet,\n        viewSet: {\n          ...state.currentViewSet.viewSet,\n          [viewId]: createdView,\n        },\n      };\n      return updateCurrentViewSet(state, updatedViewSet, currentViewSetId);\n    }\n    case 'SWITCH_VIEWSET':\n      return switchViewSet(action.viewSet, state);\n    case 'ENTER_FULLSCREEN_MODE': {\n      if (\n        state.fullscreenComponentDescriptor &&\n        state.fullscreenComponentDescriptor.id !== action.componentDescriptor.id\n      ) {\n        leaveFullScreenMode(state.fullscreenComponentDescriptor, state);\n      }\n      return enterFullScreenMode(action.componentDescriptor, state);\n    }\n    case 'LEAVE_FULLSCREEN_MODE': {\n      return leaveFullScreenMode(action.componentDescriptor, state);\n    }\n    case 'TOGGLE_FULLSCREEN_MODE': {\n      if (!state.fullscreenComponentDescriptor) {\n        return enterFullScreenMode(action.componentDescriptor, state);\n      }\n      if (state.fullscreenComponentDescriptor.id === action.componentDescriptor.id) {\n        if (state.fullscreenMode) {\n          return leaveFullScreenMode(action.componentDescriptor, state);\n        }\n        return enterFullScreenMode(action.componentDescriptor, state);\n      }\n      return state;\n    }\n    case 'INCREASE_VIEW_SIZE_CHANGE_COUNTER':\n      return {\n        ...state,\n        viewSizeChangeCounter: state.viewSizeChangeCounter + 1,\n      };\n    case 'SET_BOTTOM_NAV_HIDDEN':\n      localStorage.setItem('BOTTOM_NAVIGATION_HIDDEN', action.hidden);\n      return {\n        ...state,\n        bottomNavHidden: action.hidden,\n      };\n    case 'CHANGE_VIEWSET_AFTER_LOADING':\n      return {\n        ...state,\n        changeViewSetToName: action.name,\n      };\n    case 'SET_TOP_NAV_HIDDEN':\n      localStorage.setItem('TOP_NAVIGATION_HIDDEN', action.hidden);\n      return {\n        ...state,\n        topNavHidden: action.hidden,\n      };\n    case 'SET_DEFAULT_VIEWSET_NAME':\n      localStorage.setItem('DEFAULT_VIEWSET_NAME', action.name);\n      return {\n        ...state,\n        defaultViewSetName: action.name,\n      };\n    case 'NEW_VIEW_SET': {\n      const newViewSet = {\n        [action.name]: viewSetFactory.buildEmptyViewSet(action.name),\n      };\n\n      return {\n        ...state,\n        createdViewSets: {\n          ...state.createdViewSets,\n          ...newViewSet,\n        },\n        unsavedChanges: true,\n      };\n    }\n    case 'REMOVE_VIEWSET': {\n      const { createdViewSets, currentViewSet } = removeViewSet(state, action.name);\n      return {\n        ...state,\n        currentViewSet,\n        createdViewSets,\n        unsavedChanges: true,\n      };\n    }\n    case 'CLEAR_CURRENT_VIEW': {\n      if (!state?.currentViewSet?.name) {\n        return state;\n      }\n\n      const emptyViewSet = viewSetFactory.buildEmptyViewSet(state.currentViewSet.name);\n      state.createdViewSets[state.currentViewSet.name] = emptyViewSet;\n\n      return {\n        ...state,\n        currentViewSet: emptyViewSet,\n        unsavedChanges: true,\n      };\n    }\n    case 'RENAME_VIEWSET': {\n      const viewsetToEdit = state.createdViewSets[action.oldName];\n      const renamedViewSet = {\n        ...viewsetToEdit,\n        id: action.newName,\n        name: action.newName,\n      };\n      const createdViewSets = Object.keys(state.createdViewSets).reduce(\n        (all, id) =>\n          id === action.oldName\n            ? { ...all, [action.newName]: renamedViewSet }\n            : { ...all, [id]: state.createdViewSets[id] },\n        {},\n      );\n\n      if (action.oldName === state.currentViewSet.name) {\n        return {\n          ...state,\n          createdViewSets,\n          currentViewSet: renamedViewSet,\n          unsavedChanges: true,\n        };\n      }\n\n      return {\n        ...state,\n        createdViewSets,\n        unsavedChanges: true,\n      };\n    }\n    case 'SET_CURRENT_LAYOUT':\n      if (!action.layout) {\n        return state;\n      }\n      return {\n        ...state,\n        createdViewSets: Object.assign({}, state.createdViewSets, {\n          [state.currentViewSet.id]: {\n            ...state.currentViewSet,\n            initialValue: action.layout,\n          },\n        }),\n        currentViewSet: {\n          ...state.currentViewSet,\n          initialValue: action.layout,\n        },\n        currentLayout: action.layout,\n        unsavedChanges: true,\n      };\n    case 'LOAD_CLIENT_CHUNK': {\n      if (state.changeViewSetToName) {\n        let loadedViewSet = findCreatedViewSetWithName(\n          state.changeViewSetToName,\n          action.chunk.createdViewSets,\n        );\n\n        if (loadedViewSet) {\n          const newState = {\n            ...state,\n            currentViewSet: loadedViewSet,\n            createdViewSets: action.chunk.createdViewSets,\n            changeViewSetToName: undefined,\n          };\n          return switchViewSet(loadedViewSet, newState);\n        }\n      }\n\n      const config = {\n        createdViewSets: action.chunk.createdViewSets,\n        currentViewSet: action.chunk.currentViewSet,\n      };\n      return {\n        ...state,\n        ...config,\n      };\n    }\n    case 'SET_SVO_CONFIG_LOADED':\n      return {\n        ...state,\n        isSVOConfigLoaded: action.isLoaded,\n        unsavedChanges: false,\n      };\n    case 'SET_SAVE_FLAG':\n      return {\n        ...state,\n        unsavedChanges: action.hasChanges,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default viewSetReducer;\n","import { routerReducer as routing } from 'react-router-redux';\nimport { combineReducers } from 'redux';\n\nimport appReducer from './appReducer';\nimport toolsetReducer from './toolsetReducer';\nimport viewDataReducer from './viewDataReducer';\nimport viewSetReducer from './viewSetReducer';\n\nfunction createReducers(params) {\n  return combineReducers({\n    app: appReducer(params),\n    viewSet: viewSetReducer,\n    toolSet: toolsetReducer,\n    inspections: viewDataReducer,\n    routing,\n  });\n}\n\nexport default createReducers;\n","/* eslint-disable import/order */\nimport React, { useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { createStore, applyMiddleware, compose } from 'redux';\n\nimport App from './App';\nimport LoginPage from './pages/LoginPage';\nimport Protobuf from './protobuf/Protobuf';\nimport {\n  saveClientChunk,\n  setProtobufStaticInitialized,\n  setBrowserWindowVisibility,\n} from './redux/actions';\nimport createReducers from './redux/reducers';\nimport env from './utils/env';\nimport { loadUserInfoFromStorage } from './utils/localStorage';\n\nimport './App.scss';\nimport './css/utils.css';\nimport './css/reset.scss';\n\nconst PreLogin = () => {\n  const [user, setUser] = useState(null);\n  const [authToken, setAuthToken] = useState('');\n  const [store, setStore] = useState(null);\n\n  const onLoggedIn = (data) => {\n    if (data && data.user && data.authToken) {\n      setUser(data.user);\n      setAuthToken(data.authToken);\n    }\n  };\n\n  const onLoggedOut = () => {\n    setUser(null);\n    setAuthToken('');\n  };\n\n  const create = async () => {\n    const autoSave = (store) => (next) => (action) => {\n      if (env.enableAutoSave) {\n        // TODO: for now trigger an auto-save whenever dispatching a \"SET_*\" action\n        const state = store.getState();\n        if (\n          action.type.substr(0, 4) === 'SET_' &&\n          !state.app.saveOperationInProcess &&\n          state.app.protobuf\n        ) {\n          // only store if we have a valid protobuf connection\n          const { currentClientChunkRevision, protobuf, user } = state.app;\n          store.dispatch(saveClientChunk(protobuf, user, state, currentClientChunkRevision));\n        }\n      }\n      return next(action);\n    };\n\n    const store = createStore(\n      createReducers({\n        websocketUrl: env.websocketServerUrl,\n        dispatch: (action) => store.dispatch(action),\n      }),\n      compose(\n        applyMiddleware(thunk, autoSave),\n        window.devToolsExtension ? window.devToolsExtension() : (f) => f,\n      ),\n    );\n\n    await Protobuf.init();\n    store.dispatch(setProtobufStaticInitialized());\n\n    setStore(store);\n  };\n\n  useEffect(() => {\n    if ((user && authToken) || window.location.pathname === '/hmi-v1') {\n      create();\n    }\n  }, [user, authToken]);\n\n  const fromLocalStorage = loadUserInfoFromStorage();\n  if (fromLocalStorage) {\n    if (fromLocalStorage.user && !user) {\n      setUser(fromLocalStorage.user);\n    }\n\n    if (fromLocalStorage.authToken && !authToken) {\n      setAuthToken(fromLocalStorage.authToken);\n    }\n  }\n\n  if (!(user && authToken) && window.location.pathname !== '/hmi-v1') {\n    return <LoginPage onLogin={(data) => onLoggedIn(data)} />;\n  } else {\n    if (!store) {\n      return <div></div>;\n    }\n\n    document.addEventListener('visibilitychange', function () {\n      if (document.visibilityState === 'visible') {\n        store.dispatch(setBrowserWindowVisibility(true));\n        clearTimeout(this.hibernateTimer);\n      } else {\n        this.hibernateTimer = setTimeout(() => {\n          store.dispatch(setBrowserWindowVisibility(false));\n        }, 10000);\n      }\n    });\n\n    return (\n      <Provider store={store}>\n        <App user={user} authToken={authToken} onLoggedOut={() => onLoggedOut()} />\n      </Provider>\n    );\n  }\n};\n\nexport default PreLogin;\n","import { createTheme } from '@material-ui/core/styles';\n\n// MUI Seidenader Default Colors\nconst GREY135 = 'rgb(135, 135, 135)';\nconst muiTheme = createTheme({\n  palette: {\n    primary: { main: GREY135 },\n  },\n  typography: {\n    useNextVariants: true,\n    htmlFontSize: 10,\n  },\n});\n\nexport default muiTheme;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport ReactDOM from 'react-dom';\nimport PreLogin from './PreLogin';\nimport muiTheme from './theme';\n\nimport './css/app.scss';\n// eslint-disable-next-line import/order\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MuiThemeProvider theme={muiTheme}>\n      <PreLogin />\n    </MuiThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import protobufjs from 'protobufjs';\n\nexport const utf8StringToBuffer = (str) => {\n  const len = protobufjs.util.utf8.length(str);\n  const buf = new Uint8Array(len);\n  protobufjs.util.utf8.write(str, buf, 0);\n  return buf;\n};\n\nexport const bufferToUtf8String = (buffer) => {\n  return protobufjs.util.utf8.read(buffer, 0, buffer.length);\n};\n","import semver from 'semver';\n\nimport Protobuf from '../protobuf/Protobuf';\nimport { bufferToUtf8String, utf8StringToBuffer } from '../protobuf/Utils';\nimport logger from '../utils/logger';\n\nimport ViewSetFactory, {\n  DEFAULT_VIEWSET_NAME,\n  TOOLSET_VIEW,\n  IMAGE_VIEW,\n  LIST_VIEW,\n  IMAGE_STRIP_VIEW,\n} from '../views/ViewSetFactory';\n\nconst viewSetFactory = new ViewSetFactory();\n\n/*\n * Version Changelog:\n * 1:   createdViewSets and currentViewSet property as initial state\n * 2:   added inspectionOverlays property\n * 3:   added inspectionListSelection property\n * 3.1: added inspectionEditingViewIds property\n * 4.0.0: breaking change bw 8.10-8.20. Uses GUIDs instead dotted names\n * 5.0.0: breaking change between 8.20 and 10.00. Uses int ids instead of GUIDs\n */\n\nconst DATABASEGATEWAY_CHUNK_FILENAME = 'DatabaseGateway.json';\nconst WEBAPP_CHUNK_FILENAME = 'WebApp.json';\nconst WEBAPP_IDMAPPING_FILENAME = 'WebAppIds.json';\nconst WEBAPP_CHUNK_VERSION = '5.0.0';\nconst WEBAPP_CHUNK_PARAMETERS = {\n  VERSION: 'version',\n  SV_OBSERVER_VERSION: 'svObserverVersion',\n  GATEWAY_VERSION: 'gatewayVersion',\n  WEBAPP_VERSION: 'webAppVersion',\n  CREATED_VIEW_SETS: 'createdViewSets',\n  CURRENT_VIEW_SETS: 'currentViewSet',\n  INSPECTION_OVERLAYS: 'inspectionOverlays',\n  INSPECTION_LIST_SELECTION: 'inspectionListSelection',\n  INSPECTION_EDITING_VIEW_IDS: 'inspectionEditingViewIds',\n  INSPECTION_LIST_ALIASES: 'inspectionListAliases',\n  INSPECTION_IMAGE_VIEW_SETTINGS: 'inspectionImageViewSettings',\n};\n\nexport const saveChunk = (protobuf, currentState, actions) => async (dispatch) => {\n  const { setSaveOperationInProcess, setSaveFlag } = actions;\n  // extract the saveable information from store\n  const inspectionOverlays = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    const overlays = Object.keys(inspection.sharedState.views).map((viewId) => ({\n      viewId,\n      overlays:\n        inspection.sharedState.views[viewId] && inspection.sharedState.views[viewId].overlays,\n      sourceImage:\n        inspection.sharedState.views[viewId] && inspection.sharedState.views[viewId].sourceImage,\n    }));\n    return { inspectionId, overlays };\n  });\n\n  const inspectionListSelection = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    const listSelection = Object.keys(inspection.views).map((viewId) => ({\n      viewId,\n      selection: inspection.views[viewId] && inspection.views[viewId].selection,\n      isSelectionMode: inspection.views[viewId] && inspection.views[viewId].isSelectionMode,\n      selectAll: inspection.views[viewId] && inspection.views[viewId].selectAll,\n    }));\n    return { inspectionId, listSelection };\n  });\n\n  const inspectionEditingViewIds = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    const editingViewId = inspection.sharedState.editingViewId;\n    return { inspectionId, editingViewId };\n  });\n\n  const inspectionListAliases = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    if (inspection.sharedState.listViewAliases) {\n      const aliases = convertAliasesToJson(inspection.sharedState.listViewAliases);\n      return { inspectionId, aliases, showInList: inspection.sharedState.showAliasesInList };\n    }\n\n    return {};\n  });\n\n  const inspectionImageViewSettings = Object.keys(currentState.inspections).map(\n    (inspectionIdStr) => {\n      const inspectionId = parseInt(inspectionIdStr, 10);\n      const inspection = currentState.inspections[inspectionIdStr];\n      const imageViewSettings = Object.keys(inspection.views).map((viewId) => ({\n        viewId,\n        zoomFactor: inspection.views[viewId] && inspection.views[viewId].zoomFactor,\n        imagePosition: inspection.views[viewId] && inspection.views[viewId].imagePosition,\n      }));\n\n      return { inspectionId, imageViewSettings };\n    },\n  );\n\n  const chunk = {\n    [WEBAPP_CHUNK_PARAMETERS.VERSION]: WEBAPP_CHUNK_VERSION,\n    [WEBAPP_CHUNK_PARAMETERS.SV_OBSERVER_VERSION]:\n      currentState.app.configuration.getSvObserverVersion(),\n    [WEBAPP_CHUNK_PARAMETERS.GATEWAY_VERSION]: currentState.app.configuration.getGatewayVersion(),\n    [WEBAPP_CHUNK_PARAMETERS.WEBAPP_VERSION]: currentState.app.configuration.getWebAppVersion(),\n    [WEBAPP_CHUNK_PARAMETERS.CREATED_VIEW_SETS]: currentState.viewSet.createdViewSets,\n    [WEBAPP_CHUNK_PARAMETERS.CURRENT_VIEW_SETS]: currentState.viewSet.currentViewSet,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_OVERLAYS]: inspectionOverlays,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_SELECTION]: inspectionListSelection,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_EDITING_VIEW_IDS]: inspectionEditingViewIds,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_ALIASES]: inspectionListAliases,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_IMAGE_VIEW_SETTINGS]: inspectionImageViewSettings,\n  };\n  const json = JSON.stringify(chunk);\n\n  await dispatch(setSaveOperationInProcess(true));\n  try {\n    const req = Protobuf.SvPb.PutFileRequest.create({\n      destinationPath: WEBAPP_CHUNK_FILENAME,\n      fileData: utf8StringToBuffer(json),\n      saveInConfig: true,\n    });\n    await protobuf.request(req);\n  } catch (err) {\n    // TODO: report save error to user\n    logger.error({ err }, 'Error while saving client chunk');\n    return;\n  }\n  await dispatch(setSaveOperationInProcess(false));\n  dispatch(setSaveFlag(false));\n};\n\nconst convertAliasesToJson = (map) => {\n  const result = [];\n  map.forEach((entry) => {\n    result.push(entry);\n  });\n  return result;\n};\n\nexport const loadChunk = (proxy, actions) => async (dispatch) => {\n  const {\n    setSharedStateData,\n    setClientChunk,\n    setViewData,\n    setEditingFocus,\n    addIncompatibilityDetectedNotification,\n    setListViewAliases,\n    saveImageSettings,\n  } = actions;\n\n  const req = Protobuf.SvPb.GetFileRequest.create({\n    sourcePath: WEBAPP_CHUNK_FILENAME,\n  });\n  let response = null;\n  try {\n    response = await proxy.protobuf.request(req);\n  } catch (err) {\n    logger.error({ err }, 'Error while loading client chunk');\n  }\n\n  if (response.hResult) {\n    logger.info('There is no web app configuration to restore');\n    return;\n  }\n\n  const chunk = bufferToUtf8String(response.fileData);\n  let config = JSON.parse(chunk.toString());\n\n  // will check whether config contains deprecated string GUIDs and try to convert them if required\n  config = await updateConfigWithGuidToIntMapping(proxy.protobuf, config);\n  loadDataForCurrentViewSet(proxy, config);\n\n  const { version: configVersion } = semver.coerce(config.version);\n  if (semver.satisfies(configVersion, '<5.0.0')) {\n    throw new Error('Unable to load deprecated config file');\n  }\n\n  const receivedConfigParameters = Object.keys(config);\n  const expectedConfigParameters = Object.keys(WEBAPP_CHUNK_PARAMETERS).map(\n    (key) => WEBAPP_CHUNK_PARAMETERS[key],\n  );\n\n  for (let i = 0; i < expectedConfigParameters.length; i++) {\n    const currentParameterName = expectedConfigParameters[i];\n    if (!receivedConfigParameters.includes(currentParameterName)) {\n      logger.warn(`\"${currentParameterName}\" can not be found in loaded config`);\n    }\n  }\n\n  if (!semver.valid(configVersion)) {\n    logger.error('Config version is invalid!');\n    throw new Error('Selected config version is invalid');\n  }\n\n  if (semver.diff(WEBAPP_CHUNK_VERSION, configVersion) === 'major') {\n    logger.error('Selected config is not compatible with the current Web App version');\n    throw new Error('Selected config is not compatible with the current Web App version');\n  }\n\n  // Notify user when a minor change detected and a newer config is loaded on an older webapp\n  if (\n    semver.diff(WEBAPP_CHUNK_VERSION, configVersion) === 'minor' &&\n    semver.gt(configVersion, WEBAPP_CHUNK_VERSION)\n  ) {\n    dispatch(addIncompatibilityDetectedNotification());\n  }\n\n  if (semver.satisfies(configVersion, '>=3.0.0')) {\n    // restore custom overlays\n    config.inspectionOverlays.forEach((inspection) =>\n      inspection.overlays.forEach((view) => {\n        dispatch(\n          setSharedStateData(inspection.inspectionId, 'overlays', view.overlays, view.viewId),\n        );\n        dispatch(\n          setSharedStateData(inspection.inspectionId, 'sourceImage', view.sourceImage, view.viewId),\n        );\n      }),\n    );\n\n    // restore list view data\n    config.inspectionListSelection.forEach((inspection) =>\n      inspection.listSelection.forEach((view) => {\n        dispatch(setViewData(inspection.inspectionId, view.viewId, 'selection', view.selection));\n        dispatch(\n          setViewData(\n            inspection.inspectionId,\n            view.viewId,\n            'isSelectionMode',\n            view.isSelectionMode,\n          ),\n        );\n        dispatch(setViewData(inspection.inspectionId, view.viewId, 'selectAll', view.selectAll));\n      }),\n    );\n  }\n\n  if (semver.satisfies(configVersion, '>=3.1.0')) {\n    // restore editing focus\n    config.inspectionEditingViewIds.forEach((inspection) => {\n      if (inspection.inspectionId && inspection.editingViewId) {\n        dispatch(setEditingFocus(inspection.inspectionId, inspection.editingViewId));\n      }\n    });\n  }\n\n  if (semver.satisfies(configVersion, '>=5.0.0')) {\n    (config.inspectionListAliases || []).forEach((inspection) => {\n      if (inspection.inspectionId && Array.isArray(inspection.aliases)) {\n        const aliases = new Map();\n        inspection.aliases.forEach((alias) => aliases.set(alias.objectId, alias));\n        dispatch(setListViewAliases(inspection.inspectionId, aliases, inspection.showInList));\n      }\n    });\n    (config.inspectionImageViewSettings || []).forEach((inspection) => {\n      (inspection.imageViewSettings || []).forEach((setting) => {\n        dispatch(\n          saveImageSettings(\n            inspection.inspectionId,\n            setting.viewId,\n            setting.zoomFactor,\n            setting.imagePosition,\n          ),\n        );\n      });\n    });\n  }\n\n  //now the views are created with all configurations set before\n  dispatch(setClientChunk(config));\n};\n\nexport const resetChunk = (protobuf, actions) => async (dispatch) => {\n  const { setClientChunk } = actions;\n  const name = DEFAULT_VIEWSET_NAME;\n  const emptyViewset = viewSetFactory.buildEmptyViewSet(name);\n  const emptyViewSets = {\n    [name]: emptyViewset,\n  };\n\n  const emptyChunk = {\n    [WEBAPP_CHUNK_PARAMETERS.VERSION]: WEBAPP_CHUNK_VERSION,\n    [WEBAPP_CHUNK_PARAMETERS.SV_OBSERVER_VERSION]: 'UNDEFINED',\n    [WEBAPP_CHUNK_PARAMETERS.GATEWAY_VERSION]: 'UNDEFINED',\n    [WEBAPP_CHUNK_PARAMETERS.WEBAPP_VERSION]: 'UNDEFINED',\n    [WEBAPP_CHUNK_PARAMETERS.CREATED_VIEW_SETS]: emptyViewSets,\n    [WEBAPP_CHUNK_PARAMETERS.CURRENT_VIEW_SETS]: emptyViewset,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_OVERLAYS]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_SELECTION]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_EDITING_VIEW_IDS]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_ALIASES]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_IMAGE_VIEW_SETTINGS]: [],\n  };\n\n  dispatch(setClientChunk(emptyChunk));\n};\n\nconst updateConfigWithGuidToIntMapping = async (protobuf, config) => {\n  const { version } = semver.coerce(config.version);\n\n  // config is not using GUIDs any more already\n  if (semver.satisfies(version, '>=5.0.0') || semver.satisfies(version, '<4.0.0')) {\n    return config;\n  }\n\n  const sourcePath = WEBAPP_IDMAPPING_FILENAME;\n  const req = Protobuf.SvPb.GetFileRequest.create({ sourcePath });\n\n  let res;\n  try {\n    res = await protobuf.request(req);\n  } catch (err) {\n    logger.error({ err }, 'Error while loading id mapping');\n    throw new Error('Unable to load id mapping file');\n  }\n\n  if (res.hResult) {\n    logger.info(`The file \"${WEBAPP_IDMAPPING_FILENAME}\" does not exist.`);\n    throw new Error('Unable to load id mapping file');\n  }\n\n  let idMapping;\n  try {\n    const idMappingChunk = bufferToUtf8String(res.fileData);\n    idMapping = JSON.parse(idMappingChunk.toString());\n  } catch (err) {\n    logger.error({ err }, `Error while parsing content of ${WEBAPP_IDMAPPING_FILENAME}`);\n    return config;\n  }\n\n  const mapping = parseGuidToObjectIdMapping(idMapping.guidToObjectIdMapping);\n  const error = { hasError: false };\n  recursivlyUpdateConfigWithGuidToIntMapping(config, mapping, error);\n\n  // this is the first version with int ids\n  config.version = '5.0.0';\n  config.patchedIds = true;\n  if (error.hasError) {\n    throw new Error(\n      'Selected config is not compatible with the current Web App version (could not migrate all string GUIDs to int ObjectIds)',\n    );\n  } else {\n    logger.debug('Successfully migrated string GUIDs to int ObjectIds');\n  }\n\n  return config;\n};\n\nconst parseGuidToObjectIdMapping = (mapping) => {\n  const result = new Map();\n  Object.entries(mapping || {}).forEach(([key, value]) => {\n    const guid = key.toLowerCase().replace('{', '').replace('}', '');\n    result.set(guid, value);\n  });\n  return result;\n};\n\nconst lookUpKeyInMapping = (key, mapping) => {\n  if (mapping.has(key)) {\n    return mapping.get(key);\n  }\n  const lowerCaseKey = key.toLowerCase();\n  if (mapping.has(lowerCaseKey)) {\n    return mapping.get(lowerCaseKey);\n  }\n  return undefined;\n};\n\nconst recursivlyUpdateConfigWithGuidToIntMapping = (obj, mapping, error) => {\n  for (const key in obj) {\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      if (key === 'selection') {\n        obj[key] = obj[key]\n          .map((entry) => {\n            const value = lookUpKeyInMapping(entry, mapping);\n            if (value) {\n              return value;\n            } else {\n              error.hasError = true;\n              logger.error(\n                `There is a guid in the config which is not included in the mapping: ${entry}`,\n              );\n              return undefined;\n            }\n          })\n          .filter((entry) => !!entry); // remove undefined entries from selection\n      }\n      recursivlyUpdateConfigWithGuidToIntMapping(obj[key], mapping, error);\n    } else {\n      if (\n        key === 'inspectionId' ||\n        key === 'sourceImage' ||\n        key === 'xVariable' ||\n        key === 'offsetLeftVariable' ||\n        key === 'yVariable' ||\n        key === 'offsetTopVariable' ||\n        key === 'widthVariable' ||\n        key === 'heightVariable' ||\n        key === 'colorVariable'\n      ) {\n        const value = lookUpKeyInMapping(obj[key], mapping);\n        if (value) {\n          obj[key] = value;\n        } else {\n          obj[key] = undefined;\n          error.hasError = true;\n          logger.error(\n            `There is a guid in the config which is not included in the mapping: ${obj[key]}`,\n          );\n        }\n      }\n    }\n  }\n};\n\nexport const loadDatabaseGatewayConfig = (protobuf, actions) => async (dispatch) => {\n  const { setDatabaseGatewayChunk } = actions;\n  const req = Protobuf.SvPb.GetFileRequest.create({\n    sourcePath: DATABASEGATEWAY_CHUNK_FILENAME,\n  });\n  let response = null;\n  try {\n    response = await protobuf.request(req);\n  } catch (err) {\n    logger.error({ err }, 'Error while loading client chunk');\n  }\n\n  if (response.hResult) {\n    logger.info('There is no database gateway configuration to restore');\n  }\n\n  const chunk = bufferToUtf8String(response.fileData);\n  let config = !response.hResult ? JSON.parse(chunk.toString()) : null;\n\n  dispatch(setDatabaseGatewayChunk(config));\n};\n\nexport const saveDatabaseGatewayConfig = (protobuf, chunk) => async () => {\n  const json = JSON.stringify(chunk, 0, 2);\n  try {\n    const req = Protobuf.SvPb.PutFileRequest.create({\n      destinationPath: DATABASEGATEWAY_CHUNK_FILENAME,\n      fileData: utf8StringToBuffer(json),\n      saveInConfig: true,\n    });\n    await protobuf.request(req);\n  } catch (err) {\n    logger.error({ err }, 'Error while saving client chunk');\n    return;\n  }\n};\n\nconst loadDataForCurrentViewSet = async (proxy, config) => {\n  let isToolsetViewSet = false;\n  let isImageViewSet = false;\n  let isListViewSet = false;\n  let isImageStripViewSet = false;\n\n  for (const view of Object.values(config.currentViewSet.viewSet)) {\n    switch (view.viewComponentClassId) {\n      case TOOLSET_VIEW:\n        if (!isToolsetViewSet && proxy.currentConfiguration.inspectionToolsetMappings.size === 0) {\n          await proxy.currentConfiguration.setInspectionIdToToolsetMappings(proxy.protobuf);\n          isToolsetViewSet = true;\n        }\n        break;\n      case IMAGE_VIEW:\n        if (!isImageViewSet) {\n          if (proxy.currentConfiguration.objectSelectorImages?.size === 0) {\n            await proxy.currentConfiguration.setObjectSelectorImages(proxy.protobuf);\n          }\n          if (proxy.currentConfiguration.idNameMappings.size === 0) {\n            await proxy.currentConfiguration.setIdNameMappings(proxy.protobuf);\n          }\n          isImageViewSet = true;\n        }\n        break;\n      case LIST_VIEW:\n        if (!isListViewSet) {\n          if (proxy.currentConfiguration.objectSelectorItems?.size === 0) {\n            await proxy.currentConfiguration.setObjectSelectorItems(proxy.protobuf);\n          }\n          if (proxy.currentConfiguration.idNameMappings.size === 0) {\n            await proxy.currentConfiguration.setIdNameMappings(proxy.protobuf);\n          }\n          isListViewSet = true;\n        }\n        break;\n      case IMAGE_STRIP_VIEW:\n        if (!isImageStripViewSet) {\n          if (proxy.currentConfiguration.objectSelectorImages?.size === 0) {\n            await proxy.currentConfiguration.setObjectSelectorImages(proxy.protobuf);\n          }\n          if (proxy.currentConfiguration.idNameMappings.size === 0) {\n            await proxy.currentConfiguration.setIdNameMappings(proxy.protobuf);\n          }\n          isImageStripViewSet = true;\n        }\n        break;\n      default:\n        break;\n    }\n  }\n  proxy.dispatchCurrentConfiguration(proxy.currentConfiguration);\n};\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport {\n  authenticate as authenticateHelper,\n  logOut as logOutHelper,\n} from '../../utils/authentication';\nimport {\n  saveChunk,\n  loadChunk,\n  resetChunk,\n  loadDatabaseGatewayConfig,\n  saveDatabaseGatewayConfig,\n} from '../../utils/clientChunkManager';\n\nexport const setLocale = (locale) => ({\n  type: 'SET_LOCALE',\n  locale,\n});\n\nexport const setProtobufStaticInitialized = () => ({\n  type: 'SET_PROTOBUF_STATIC_INITIALIZED',\n});\n\nexport const setProtobuf = (newProtobuf, socket) => ({\n  type: 'SET_PROTOBUF',\n  protobuf: newProtobuf,\n  socket,\n});\n\nexport const setCurrentConfiguration = (configuration) => ({\n  type: 'SET_CONFIGURATION',\n  configuration,\n});\n\nexport const setConfigurationLock = (configurationLock) => ({\n  type: 'SET_CONFIGURATION_LOCK',\n  configurationLock,\n});\n\nexport const setInspectionToolsetMappings = (mappings) => ({\n  type: 'SET_INSPECTION_TOOLSET_MAPPINGS',\n  mappings,\n});\n\nexport const addNotification = (type, message) => ({\n  type: 'ADD_NOTIFICATION',\n  notification: {\n    type,\n    message,\n  },\n});\n\nexport const addImageNotAvailableNotification = () => {\n  return addNotification('warning', <FormattedMessage id=\"imageNotAvailable\" />);\n};\n\nexport const addConnectionEstablishedNotification = () => {\n  return addNotification(\n    'info',\n    <FormattedMessage id=\"notifications.websocket.connectionEstablished\" />,\n  );\n};\n\nexport const addConnectionLostNotification = () => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.websocket.connectionLost\" />,\n  );\n};\n\nexport const addModeSwitchNotification = (mode) => {\n  return addNotification(\n    'info',\n    <span>\n      <FormattedMessage id=\"notifications.modeSwitch.userSwitchedModeTo\" /> {mode}\n    </span>,\n  );\n};\n\nexport const addUserSwitchedLanguageNotification = (locale) => {\n  return addNotification(\n    'info',\n    <span>\n      <FormattedMessage id=\"notifications.userSwitchedLanguage\" />\n      {locale}\n    </span>,\n  );\n};\n\nexport const addProjectLoadedNotification = (configFile) => {\n  return addNotification('info', `A new project was loaded: \"${configFile}\"`);\n};\n\nexport const addProjectUnloadedNotification = (configFile) => {\n  return addNotification('info', `The project was unloaded: \"${configFile}\"`);\n};\n\nexport const addProjectModifiedNotification = () => {\n  return addNotification('info', `Project was modified. Updating UI.`);\n};\n\nexport const addServerMessageNotification = (messageText, errorNumber) => {\n  return addNotification('info', `Server reported: ${messageText} ${errorNumber}`);\n};\n\nexport const addRejectStreamPausedNotification = (pausedInspectionIds) => {\n  return addNotification(\n    'info',\n    Array.isArray(pausedInspectionIds) && pausedInspectionIds.length > 0 ? (\n      <FormattedMessage id=\"notifications.rejectStreamPaused\" />\n    ) : (\n      <FormattedMessage id=\"notifications.rejectStreamResumed\" />\n    ),\n  );\n};\n\nexport const addRunModePauseNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"runViewSet.runModePaused\" />);\n};\n\nexport const addRunModeContinueNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"runViewSet.runModeContinue\" />);\n};\n\nexport const addStartInspectingNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"runViewSet.runModeStoppedInspecting\" />);\n};\n\nexport const addVariableValueShouldBeInTheRangeNotification = (variableName, range) => {\n  return addNotification(\n    'warning',\n    <FormattedMessage\n      id=\"notifications.variableValueShouldBeInTheRange\"\n      values={{ variableName, range }}\n    />,\n  );\n};\n\nexport const addConfigAlreadyLockedBySameUser = () => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.configAlreadyLockedBySameUser\" />,\n  );\n};\n\nexport const addTakeoverCandidateNotFoundNotification = () => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.takeoverCandidateNotFound\" />,\n  );\n};\n\nexport const addLockTakeoverErrorNotification = (code) => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.lockTakeoverError\" values={{ code }} />,\n  );\n};\n\nexport const addLockAcquisitionErrorNotification = (code) => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.lockAcquisitionError\" values={{ code }} />,\n  );\n};\n\nexport const tokenExpired = () => ({\n  type: 'AUTH_TOKEN_EXPIRED',\n});\n\nexport const authenticate = (accessToken) => async (dispatch) => {\n  const { authToken, user } = await authenticateHelper(accessToken);\n  return dispatch({\n    type: 'LOG_IN',\n    authToken,\n    user,\n  });\n};\n\nexport const logOut =\n  (notifyGateway = true) =>\n  async (dispatch) => {\n    await logOutHelper(notifyGateway);\n    return dispatch({\n      type: 'LOG_OUT',\n    });\n  };\n\nexport const onNavigationHidden = () => ({\n  type: 'ON_NAVIGATION_HIDDEN',\n});\n\nexport const showGlobalMessageOverlay = ({ message }) => ({\n  type: 'SHOW_GLOBAL_MESSAGE_OVERLAY',\n  message,\n});\n\nexport const hideGlobalMessageOverlay = () => ({\n  type: 'HIDE_GLOBAL_MESSAGE_OVERLAY',\n});\n\nexport const setViewSet = (viewSet, viewSetId) => ({\n  type: 'SET_VIEWSET',\n  viewSet,\n  viewSetId,\n});\n\nexport const replaceViewInCurrentViewSet = (viewId, replacementComponentId, inspectionId) => ({\n  type: 'REPLACE_VIEW_IN_CURRENT_VIEWSET',\n  viewId,\n  replacementComponentId,\n  inspectionId,\n});\n\nexport const switchViewSet = (viewSet) => ({\n  type: 'SWITCH_VIEWSET',\n  viewSet,\n});\n\nexport const setParameter = (parameter) => ({\n  type: 'SET_PARAMETER',\n  parameter,\n});\n\nexport const enterFullscreenMode = (component) => ({\n  type: 'ENTER_FULLSCREEN_MODE',\n  componentDescriptor: {\n    componentId: component.props.id,\n    setFullscreen: component.setFullscreen,\n  },\n});\n\nexport const leaveFullscreenMode = (component) => ({\n  type: 'LEAVE_FULLSCREEN_MODE',\n  componentDescriptor: {\n    componentId: component.props.id,\n    setFullscreen: component.setFullscreen,\n  },\n});\n\nexport const toggleFullscreenMode = (component) => ({\n  type: 'TOGGLE_FULLSCREEN_MODE',\n  componentDescriptor: {\n    id: component.props.id,\n    setFullscreen: component.setFullscreen,\n  },\n});\n\nexport const increaseViewSizeChangeCounter = () => ({\n  type: 'INCREASE_VIEW_SIZE_CHANGE_COUNTER',\n});\n\nexport const setBottomNavHidden = (hidden) => ({\n  type: 'SET_BOTTOM_NAV_HIDDEN',\n  hidden: !!hidden,\n});\n\nexport const setTopNavHidden = (hidden) => ({\n  type: 'SET_TOP_NAV_HIDDEN',\n  hidden: !!hidden,\n});\n\nexport const setDefaultViewSetName = (name) => ({\n  type: 'SET_DEFAULT_VIEWSET_NAME',\n  name,\n});\n\nexport const newViewSet = (name, mode) => ({\n  type: 'NEW_VIEW_SET',\n  name,\n  mode,\n});\n\nexport const setSaveOperationInProcess = (inProcess) => ({\n  type: 'UPDATE_SAVE_OPERATION_IN_PROCESS',\n  inProcess,\n});\n\nexport const setSaveFlag = (hasChanges) => ({\n  type: 'SET_SAVE_FLAG',\n  hasChanges,\n});\n\nexport const saveClientChunk = (protobuf, currentState) => async (dispatch) => {\n  const actions = {\n    setSaveOperationInProcess,\n    setSaveFlag,\n  };\n  await dispatch(saveChunk(protobuf, currentState, actions));\n};\n\nexport const loadClientChunk = (proxy) => async (dispatch) => {\n  const actions = {\n    setSharedStateData,\n    setClientChunk,\n    setViewData,\n    setEditingFocus,\n    addIncompatibilityDetectedNotification,\n    setListViewAliases,\n    saveImageSettings,\n  };\n  await dispatch(loadChunk(proxy, actions));\n};\n\nexport const loadDatabaseGatewayConfiguration = (protobuf) => async (dispatch) => {\n  const actions = {\n    setDatabaseGatewayChunk,\n  };\n  await dispatch(loadDatabaseGatewayConfig(protobuf, actions));\n};\n\nexport const saveDatabaseGatewayConfiguration = (protobuf, chunk) => async (dispatch) => {\n  await dispatch(saveDatabaseGatewayConfig(protobuf, chunk));\n};\n\nexport const resetClientChunk = (protobuf) => async (dispatch) => {\n  const actions = {\n    setClientChunk,\n    setSVOConfigLoaded,\n  };\n  await dispatch(resetChunk(protobuf, actions));\n};\n\nexport const setClientChunk = (chunk) => ({\n  type: 'LOAD_CLIENT_CHUNK',\n  chunk,\n});\n\nexport const setDatabaseGatewayChunk = (chunk) => ({\n  type: 'SET_DATABASE_GATEWAY_CHUNK',\n  chunk,\n});\n\nexport const setSVOConfigLoaded = (isLoaded) => ({\n  type: 'SET_SVO_CONFIG_LOADED',\n  isLoaded,\n});\n\nexport const setViewSetForMode = (mode) => ({\n  type: 'SET_VIEWSET_FOR_MODE',\n  mode,\n});\n\nexport const removeViewSet = (name) => ({\n  type: 'REMOVE_VIEWSET',\n  name,\n});\n\nexport const clearCurrentView = () => ({\n  type: 'CLEAR_CURRENT_VIEW',\n});\n\nexport const renameViewSet = (oldName, newName) => ({\n  type: 'RENAME_VIEWSET',\n  oldName,\n  newName,\n});\n\nexport const changeViewSetAfterLoading = (name) => ({\n  type: 'CHANGE_VIEWSET_AFTER_LOADING',\n  name,\n});\n\nexport const setCurrentLayout = (layout) => ({\n  type: 'SET_CURRENT_LAYOUT',\n  layout,\n});\n\nexport const setCurrentMode = (mode) => ({\n  type: 'SET_CURRENT_MODE',\n  mode,\n});\n\nexport const setCurrentModeDone = (mode) => ({\n  type: 'SET_CURRENT_MODE_DONE',\n  mode,\n});\n\nexport const setPausedInspections = (pausedInspections) => ({\n  type: 'SET_PAUSED_INSPECTIONS',\n  pausedInspections,\n});\n\nexport const initViewState = (inspectionId, viewId, initState, initSharedState) => ({\n  type: 'INIT_VIEW_STATE',\n  inspectionId,\n  viewId,\n  initState,\n  initSharedState,\n});\n\nexport const setViewData = (inspectionId, viewId, key, data) => ({\n  type: 'SET_VIEW_DATA',\n  inspectionId,\n  viewId,\n  key,\n  data,\n});\n\nexport const saveImageSettings = (inspectionId, viewId, zoomFactor, imagePosition) => ({\n  type: 'SAVE_IMAGE_SETTINGS',\n  inspectionId,\n  viewId,\n  zoomFactor,\n  imagePosition,\n});\n\nexport const setSharedStateData = (inspectionId, key, data, viewId) => ({\n  type: 'SET_SHARED_STATE_DATA',\n  inspectionId,\n  key,\n  data,\n  viewId,\n});\n\nexport const setEditingFocus = (inspectionId, viewId) => ({\n  type: 'SET_EDITING_FOCUS',\n  inspectionId,\n  viewId,\n});\n\nexport const setListViewAliases = (inspectionId, aliases, showInList) => ({\n  type: 'SET_LIST_VIEW_ALIASES',\n  inspectionId,\n  aliases,\n  showInList,\n});\n\nexport const updateListViewShowAliases = (inspectionId, showInList) => ({\n  type: 'UPDATE_LIST_VIEW_SHOW_ALIASES',\n  inspectionId,\n  showInList,\n});\n\nexport const setFocusedViewType = (viewType) => ({\n  type: 'SET_FOCUSED_VIEW_TYPE',\n  viewType,\n});\n\nexport const purgeViewState = (inspectionId, viewId) => ({\n  type: 'PURGE_VIEW_STATE',\n  inspectionId,\n  viewId,\n});\n\nexport const openHelpView = () => ({\n  type: 'OPEN_HELP_VIEW',\n  isHelpViewOpen: true,\n});\n\nexport const closeHelpView = () => ({\n  type: 'CLOSE_HELP_VIEW',\n  isHelpViewOpen: false,\n});\n\nexport const addIncompatibilityDetectedNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"incompatibilityNotification\" />);\n};\n\nexport const setGroupPermissions = (groupPermissions) => ({\n  type: 'SET_GROUP_PERMISSIONS',\n  groupPermissions,\n});\n\nexport const setMyPermissions = (myPermissions) => ({\n  type: 'SET_MY_PERMISSIONS',\n  myPermissions,\n});\n\nexport const setBrowserWindowVisibility = (visible) => ({\n  type: 'SET_BROWSER_WINDOW_VISIBILITY',\n  visible,\n});\n"],"sourceRoot":""}