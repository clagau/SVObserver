{"version":3,"sources":["assets/icons/overlay-list.svg","assets/icons/plus.svg","utils/downloader.js","components/ConfirmDialog/index.js","utils/env.js","utils/jsonMapper.js","utils/stringChunker.js","protobuf/Configuration.js","assets/icons/info.svg","assets/icons/close.svg","assets/icons/clear.svg","assets/icons/save.svg","views/HelpView/index.js","components/typo/Heading.js","views/HelpView/viewMappings.js","protobuf/ConfigurationLock.js","utils/permissions.ts","utils/authentication.js","assets/icons/pause.svg","assets/icons/play.svg","utils/sessionStorage.js","components/buttons/ToggleButton/index.tsx","assets/icons/help.svg","assets/icons/download.svg","assets/icons/show.svg","assets/icons/image.svg","protobuf/Product.js","assets/logo/logo.svg","components/layout/Logo/index.js","protobuf/Mapper.js","components/buttons/IconButton/index.tsx","components/Protobuf/ProxyType.js","components/layout/Container/index.tsx","utils/OverlayRenderer.js","views/ImageStripView/components/FilmStrip/index.js","views/ImageStripView/index.js","assets/icons/downloadWithOverlays.svg","assets/icons/fit-to-height.svg","assets/icons/fit-to-width.svg","assets/icons/one.svg","utils/reduxHelper.ts","components/OverlayList/index.tsx","views/ImageView/components/ImageEditor.js","views/ImageView/components/ImageInfo.js","utils/propHelper.js","views/ImageView/index.js","webpack:///./src/assets/icons/back.svg?1103","views/InputToolView/components/ToolListSelector.tsx","views/ToolsetView/common.ts","views/InputToolView/components/RawEditor.tsx","views/InputToolView/components/AngleEditor.tsx","views/InputToolView/components/BooleanEditor.tsx","views/InputToolView/components/ColorEditor.tsx","assets/icons/chevron-double-left.svg","assets/icons/chevron-left.svg","views/InputToolView/components/NumberEditor.tsx","views/InputToolView/components/Tabs.tsx","views/InputToolView/components/ValueEditor.tsx","views/InputToolView/index.tsx","assets/icons/show-off.svg","assets/icons/drag.svg","components/DraggableTable/index.js","views/ListView/components/List/AliasEditor.js","views/ListView/index.js","assets/icons/delete-dustbin.svg","views/ParameterView/components/Overlay/OverlayPropertyList.tsx","views/ParameterView/components/Overlay/VariableSelection.tsx","views/ParameterView/components/Overlay/index.tsx","views/ParameterView/index.tsx","assets/icons/before.svg","components/layout/ScrollContainer/index.js","views/RecipeView/index.js","assets/icons/archive.svg","assets/icons/arrow-top-right.svg","assets/icons/collapse-all.svg","assets/icons/copy.svg","assets/icons/cut.svg","assets/icons/cylindrical-wrap.svg","assets/icons/expand-all.svg","assets/icons/external.svg","assets/icons/function-variant.svg","assets/icons/group.svg","assets/icons/load-image.svg","assets/icons/loop.svg","assets/icons/palette.svg","assets/icons/paste.svg","assets/icons/perspective.svg","assets/icons/polar-transformation.svg","assets/icons/resize.svg","assets/icons/shift.svg","assets/icons/statistics.svg","assets/icons/table-analyzer.svg","assets/icons/table.svg","assets/icons/transformation.svg","assets/icons/window.svg","views/ToolsetView/MathTool/CommentTab.tsx","views/ToolsetView/MathTool/FormulaEditor.tsx","views/ToolsetView/components/TreebeardStyle.ts","views/ToolsetView/MathTool/hooks/useIndirectValueObjectName.ts","views/ToolsetView/MathTool/LinkedValueSelectDialog.tsx","views/ToolsetView/MathTool/ReadonlyFormula.tsx","views/ToolsetView/MathTool/hooks/useFormulaValidate.ts","views/ToolsetView/MathTool/FormulaEditPanel.tsx","views/ToolsetView/MathTool/FormulaTab.tsx","views/ToolsetView/MathTool/hooks/useRange.ts","views/ToolsetView/MathTool/RangeTab.tsx","views/ToolsetView/MathTool/hooks/useFormula.ts","views/ToolsetView/MathTool/index.tsx","views/ToolsetView/MathTool/hooks/useComment.ts","views/ToolsetView/components/ToolSetBar/index.tsx","assets/icons/down.svg","assets/icons/take-over.svg","assets/icons/up.svg","views/ParameterView/components/Filter/index.tsx","views/ToolsetView/components/ToolSetup.js","views/ToolsetView/index.tsx","views/ViewSetFactory.js","assets/icons/regression.svg","assets/icons/run.svg","assets/icons/stop.svg","assets/icons/test.svg","utils/modes.js","views/TopNavigation/navigation/useUserInfoNavigation.tsx","assets/icons/logout.svg","assets/icons/permissions.svg","assets/icons/shortcut-help.svg","assets/icons/upload.svg","assets/icons/user.svg","views/AboutView/index.js","protobuf/ProtobufConnector.js","components/ActionBar/index.tsx","protobuf/WebsocketConnector.js","protobuf/Proxy.js","utils/defaultPermissions.js","views/ShortcutView/components/ShortcutListItem/index.js","views/ShortcutView/components/ShortcutList/index.js","views/ShortcutView/shortcuts.js","views/ShortcutView/index.js","protobuf/ProductHistory.js","protobuf/ProductHistoryManager.js","protobuf/InspectionSubscription.js","protobuf/SubscriptionManager.js","components/Dialog/index.tsx","assets/icons/edit.svg","utils/localStorage.js","types/ActionBarType.ts","components/ObjectSelector/index.tsx","components/OutlinedSelection/index.tsx","utils/objectValidator.ts","utils/logger.ts","translations/de.js","translations/en.js","translations/es.js","translations/index.tsx","protobuf/Observable.js","protobuf/Protobuf.js","assets/icons/delete.svg","assets/icons/back.svg","components/ModalNotification.js/index.js","components/SuggestionList/index.js","components/AutoComplete/index.js","views/TopNavigation/navigation/AlertDialog.tsx","components/DatabaseGatewayEditor/components/InformationBox/index.tsx","components/DatabaseGatewayEditor/components/ImageForm/index.js","components/DatabaseGatewayEditor/components/TriggerSettings/index.js","components/DatabaseGatewayEditor/components/PropertyForm/index.js","components/DatabaseGatewayEditor/components/BatchSettings/index.js","components/DatabaseGatewayEditor/index.tsx","pages/DatabaseGatewayPage.js","components/RequestParameter/generic/SelectParameter/index.js","components/RequestParameter/generic/ArrayParameter/index.js","components/RequestParameter/specialized/BoolParameter/index.js","components/RequestParameter/specialized/BoolArrayParameter/index.js","components/RequestParameter/specialized/BytesParameter/index.js","components/RequestParameter/generic/SingleParameter/index.js","components/RequestParameter/specialized/DecimalParameter/index.js","components/RequestParameter/specialized/DecimalArrayParameter/index.js","components/RequestParameter/specialized/EnumArrayParameter/index.js","components/RequestParameter/specialized/EnumParameter/index.js","components/RequestParameter/specialized/IntegerParameter/index.js","components/RequestParameter/specialized/IntegerArrayParameter/index.js","components/RequestParameter/specialized/TextParameter/index.js","components/RequestParameter/specialized/TextArrayParameter/index.js","components/RequestParameter/index.js","components/RequestedResponseVisualizer/index.js","components/RequestsList/index.js","components/Debugger/index.js","pages/DebuggerPage.js","pages/HmiLoginPage.js","pages/LogoutPage.js","components/KeyHandler.js","components/PermissionManagement/index.js","pages/PermissionPage.js","components/Protobuf/ProtobufType.js","assets/icons/view-manager.svg","assets/icons/check.svg","assets/icons/export.svg","assets/icons/import.svg","components/InformationDialog/index.js","views/ViewSetManager/index.js","views/ViewSet/types.js","components/NavigationItem/index.js","views/BottomNavigation/components/PresetSlider/components/PresetButton/index.js","views/BottomNavigation/components/PresetSlider/index.js","views/BottomNavigation/index.js","views/TopNavigation/NavigationItem.tsx","views/TopNavigation/components/DateTime/index.tsx","views/TopNavigation/components/LockState/index.tsx","assets/icons/play-multiple.svg","assets/icons/language.svg","assets/icons/icons8-lock.svg","assets/icons/icons8-padlock.svg","views/TopNavigation/navigation/TakeoverDialog.tsx","views/TopNavigation/navigation/useLockStateHandlerNavigation.tsx","views/TopNavigation/navigation/useModeSwitchNavigation.tsx","assets/icons/description.svg","views/TopNavigation/navigation/useNavigation.tsx","views/TopNavigation/navigation/useLanguageChooserNavigation.tsx","views/TopNavigation/navigation/useInspectionStateNavigation.tsx","views/TopNavigation/navigation/useStatusReportNavigation.tsx","views/TopNavigation/index.tsx","views/NoSVOConfigurationLoadedView/index.js","components/ListSelection/index.tsx","views/ViewSelection/components/InspectionSelection/index.js","assets/icons/filmstrip.svg","assets/icons/list.svg","assets/icons/parameter.svg","assets/icons/toolset.svg","views/ViewSelection/components/ViewTypeSelection/index.js","views/ViewSelection/index.js","views/ViewSet/SVOView.js","views/ViewSet/index.js","pages/SVObserver.js","App.js","pages/LoginPage.js","redux/reducers/appReducer.js","redux/reducers/toolsetReducer.js","redux/reducers/viewDataReducer.js","redux/reducers/viewSetReducer.js","redux/reducers/index.js","PreLogin.js","theme.js","reportWebVitals.ts","index.tsx","protobuf/Utils.js","utils/clientChunkManager.js","redux/actions/index.js"],"names":["forceDownload","data","fileName","link","document","createElement","download","href","body","appendChild","click","removeChild","logger","info","ConfirmDialog","this","props","onClose","open","title","message","className","color","onClick","id","Component","env","authEndpoint","url","parsedUrl","parse","window","location","protocol","replace","host","getEndpoint","process","REACT_APP_WEBSOCKET_SERVER_URL","websocketServerUrl","getDefaultWebsocketUrl","enableAutoSave","replacerMapToJson","key","value","originalObject","Map","dataType","reviverJsonToMap","chunkSubstr","str","size","numChunks","Math","ceil","length","chunks","Array","i","o","substr","extractConfigName","filename","slashIdx","lastIndexOf","dotIdx","getConfigName","protobuf","a","request","Protobuf","SvPb","GetConfigurationInfoRequest","create","getInspections","inspectionsReq","GetInspectionsRequest","inspectionsRes","inspections","map","inspection","name","error","getInspectionIds","getInspectionNames","cleanObjectSelectorNodeRecursively","node","type","objectIDIndex","children","selected","cleanedChildren","startsWith","endIdx","indexOf","parseInt","parseObjectIdIndex","getIdNameMappingForInspection","inspectionId","inspectionName","req","GetObjectSelectorItemsRequest","areas","SearchArea","toolsetItems","inspectionID","instanceID","attribute","ObjectAttributes","viewable","wholeArray","ObjectSelectorType","allValueObjects","attributesAllowed","res","tree","entries","queue","slice","head","shift","set","fullLocation","push","getObjectSelectorItemsRequest","requestParameters","getObjectSelectorItemsForInspection","getRemotelySettableObjectSelectorItemsForInspection","remotelySettable","getObjectSelectorImagesForInspection","allImageObjects","archivableImage","getVersion","requestClass","response","version","getPerInspection","inspectionIds","inspectionNames","fn","itemsByInspectionId","item","getConfigurationTree","GetConfigurationTreeRequest","mapInspectionIdtoToolset","inspectionToolsetMappings","configurationTree","isObjectValid","Promise","all","objectID","toolSetId","getToolSetId","InspectionCmdRequest","undefined","getObjectIdRequest","getObjectIdResponse","objectId","getGlobalConstants","constants","reqObj","globalConstantItems","forEach","childLevel1","childLevel2","Configuration","config","filterArrayValuesFromTree","ii","stack","pop","firstChildId","idNameMappings","objectSelectorItems","remotelySettableObjectSelectorItems","objectSelectorImages","versions","globalConstants","Object","keys","assign","isConnected","promises","configName","err","GetSVObserverVersionRequest","GetGatewayVersionRequest","GetWebAppVersionRequest","svObserverVersion","gatewayVersion","webAppVersion","find","mappings","get","mapping","warn","resetInspectionIdToToolsetMappings","chunksString","localStorage","getItem","CONFIGURATION_CHUNK_LIST","chunkList","split","configString","join","decompressedConfig","LZString","decompress","JSON","configuration","configInfo","stringifiedConfig","compress","stringify","configChunks","configChunkNames","chunk","chunkName","CONFIGURATION_CHUNK_TEMPLATE","setItem","CONFIG_INFO","HelpView","helpUrl","focusedViewType","locale","isFullscreen","style","width","height","src","defaultProps","connect","state","app","Heading","intlId","React","Views","PARAMETER_VIEW","LIST_VIEW","IMAGE_VIEW","PERMISSIONS","DEBUGGER","ConfigurationLock","lock","lockId","takeoverId","owner","takeoverUser","lockDescription","takeoverMessage","status","lockedInSameAppInstance","isTakeoverAttempt","configAlreadyLocked","isWaitingForResponse","ownerRejectedTakeover","user","username","isLocked","isSameUserAsOwner","notification","description","flattenProtobuf","oldObject","permissions","Set","flattenProtobufRec","currentObject","parentPath","nested","currKey","toLowerCase","currPath","fields","viewTypeProtobuf","lookup","values","viewPath","getViewName","addFieldValues","path","field","add","flattenPermissionsRec","isArray","entry","createObjectFromFlattenedPermissions","obj","v","k","getViewId","substring","view","index","findIndex","getGroupPermissionsFromFlattenedPermissions","flattenedPermissions","result","groupEntry","permissionForUser","groupPermissions","permission","viewType","canSaveConfig","myPermissions","has","canReadLogs","canAddViewSet","canReadViewSet","canEditViewSet","canDeleteViewSet","canAddImageView","canReadImageView","canEditImageView","canDeleteImageView","canAddListView","canReadListView","canEditListView","canDeleteListView","canAddImageStripView","canReadImageStripView","canEditImageStripView","canDeleteImageStripView","canAddParameterView","canReadParameterView","canEditParameterView","canDeleteParameterView","canAddToolSetView","canReadToolSetView","canEditToolSetView","canDeleteToolSetView","canAddInputToolView","canEditInputToolView","canDeleteInputToolView","canReadSVOMode","canEditSVOMode","canReadInspectionState","canEditInspectionState","canEditTool","canAddTool","canDeleteTool","canReadUserManagement","canEditUserManagement","canReadSVOConfiguration","canWriteSVOConfiguration","logIn","password","axios","post","loginRes","accessToken","authenticate","authRes","authToken","claims","jwtDecode","pick","logOut","notifyGateway","removeProxy","LOCK_ACQUISITION_REQUEST","ToggleButton","iconUrl","enabled","onClickHandler","intlIdAlternative","iconUrlAlternative","onClickHandlerAlternative","showAlternative","intl","useIntl","tooltip","messages","Product","history","trigger","isReject","useCount","images","imageId","checkNotReleasedYet","imageIds","valueId","valueIds","fallbackValue","toString","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","offset","byteNumbers","charCodeAt","byteArray","Uint8Array","blob","Blob","URL","createObjectURL","imagePromises","image","overlays","rgbData","initImage","valueStr","getValueFromVariant","buildImage","domImage","initOverlayImages","overlayImages","resolve","reject","arrayBufferView","domURL","self","webkitURL","Image","onload","onerror","e","revokeObjectURL","overlaysDesc","overlay","shapeGroups","shapeGroup","shapes","shape","then","releaseProduct","Error","releaseImages","clear","released","releaseImage","overlayImage","remove","Logo","alt","mapProtobufDeviceModeToWebAppMode","deviceMode","DeviceModeType","available","modes","unknownMode","runMode","stopMode","regressionMode","testMode","editMode","modeChanging","mapWebAppModeToProtobufDeviceMode","mode","mapLogLevelNameToProtobufLogSeverity","levelName","LogSeverity","trace","debug","warning","IconButton","pointerEvents","opacity","duration","delay","backgroundImage","backgroundPosition","backgroundSize","PropTypes","Container","drawInspectionOverlays","drawTarget","zoomFactor","boundingCoordinates","currentMode","targetContext","getContext","setLineDash","colorInt","colorString","getRgbaString","fillStyle","fontSize","lineWidth","font","strokeStyle","boundingShape","OverlayBoundingShape","rect","renderRectangleTool","renderSliceTool","perspective","renderPerspectiveTool","boundingBoxX","abs","minX","x","boundingBoxY","minY","y","boundingBoxWidth","w","boundingBoxHeight","h","displayBounding","overlayTitle","angle","fillText","detailLevel","shapeColor","shapeColorString","shapeType","useRotation","OverlayShape","arrow","rotateContextByAngleAroundPoint","x1","y1","x2","y2","angleBetweenP1andP2","atan2","PI","calcAngleDegrees","beginPath","moveTo","lineTo","theta1","cos","sin","theta2","stroke","closePath","rectArray","rAngle","restore","graph","maxValueX","maxValueY","marker","orientationType","sizeType","strokeHeight","maxValue","strokeWidth","markers","blockMarker","colors","changePos","currentPos","drawImage","save","maxOverlayTextX","measureText","updateBoundingCoordinates","max","translate","rotate","centerX","centerY","innerRadius","outerRadius","startRadian","calculateRadiansFromAngle","endAngle","endRadian","startAngle","arc","textWidth","orientation","isNaN","green","blue","setBoundingCoordinatesForCustomOverlays","product","dispatch","coords","setCustomOverlayCoordinates","getTextWidth","label","setBoundingCoordinatesForInspectionOverlays","setInspectionOverlayCoordinates","text","ctx","coordinates","offsetLeft","Number","getValueById","offsetLeftVariable","xVariable","offsetTop","offsetTopVariable","yVariable","widthVariable","heightVariable","maxHeightFallback","maxWidthFallback","minHeightFallback","minWidthFallback","addVariableValueShouldBeInTheRangeNotification","correctCoordsWithBoundingCoordinates","actualCoordinates","maxX","maxY","valueObj","getValue","extractInspectionOverlays","getImage","FilmStrip","onImageClick","combinedSrc","ImageStripView","onProduct","release","updateImageDimensions","drawImageAndOverlaysToCanvas","canvas","sort","b","productsToRelease","imageStripLength","splice","setState","releaseProducts","sourceImage","imageWidth","imageHeigt","setSourceImageIndex","setSharedStateData","drawTargetContext","clearRect","toDataURL","renderObjectSelector","overflow","ObjectSelector","singleSelect","onChange","selectedIid","checkedLocation","setViewData","setSaveFlag","setTitleFromConfig","getValueNameForId","showPause","pausedInspections","includes","renderFilmStrip","canEdit","actions","TOGGLE_BUTTON","iconPlay","resumeStream","iconPause","pauseStream","display","ref","selectProduct","ActionBar","isViewAction","productSub","unsubscribeFromProductStream","subscribeToProductStream","proxy","setObjectSelectorImages","setIdNameMappings","dispatchCurrentConfiguration","nextProps","isBrowserWindowVisible","products","desc","startAtTriggerCount","rejectImageIds","allowOldTrigger","manualRelease","replayProduct","resumeRejectStream","pauseRejectStream","imageData","initState","initSharedState","mappedConnect","ownProps","viewId","sharedState","views","initViewState","hasChanges","updateOverlayList","updatedOverlay","overlayList","OverlayList","onSelectAll","updateCurrentOverlay","externalUpdateOverlayList","canSelectRow","hasActionBar","useState","selectAll","setSelectAll","selectedRowIndex","setSelectedRowIndex","useEffect","isActive","headerRenderer","useCallback","columns","columnHeaders","_","columnIndex","Checkbox","checked","target","padding","tableDataFromOverlays","useMemo","getCheckboxDefinition4Cell","currentId","filter","updatedOverlayList","handleSingleSelect","checkbox","columnDefinition4OverlayTable","dataKey","flexGrow","headerHeight","rowHeight","rowEventHandlers","rowIndex","rowClassName","ImageEditor","left","top","currentCursorPosition","canvasDimension","setBoundingCoordinates","getBoundingCoordinatesFromCustomOverlays","getBoundingCoordinatesFromInspectionOverlays","setCanvasDimensions","customOverlays","imageHeight","setImageInfo","isImageInfoOpen","setRgbValues","handleScroll","evt","delta","wheelDelta","detail","offsetX","offsetY","zoom","preventDefault","handleMouseDown","event","dragStart","pageX","pageY","dragStartPos","dragging","handleMouseUp","handleDrag","diffX","diffY","handleMouseMove","cursorPosition","getMouseCoordinatesOnElement","setCursorPosition","element","containerRef","parentNode","trunc","getImageData","red","R","G","B","cursorPositionOnImage","trimPositionsOnImageSize","loadViewSettings","bindEventListeners","prevProps","prevState","productChanged","modeChanged","zoomFactorChanged","customOverlaysChanged","isEqual","imageMoved","saveImageSettings","viewSettings","imagePosition","onImageLoaded","initCanvas","draw","webkitImageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingEnabled","scale","drawOverlays","console","activeOverlays","colorVariable","lineStyle","drawCustomOverlays","addEventListener","removeEventListener","offX","offY","scaleFactor","pow","leftDiff","topDiff","min","getViewSize","getBoundingClientRect","toBlob","position","compose","forwardRef","ImageInfo","imageInfoClass","rgbValues","imageDimensions","backgroundColor","reduce","acc","getPropsFromInspection","ImageView","viewSizeChangeCounter","isOverlayInfoOpen","canvasInitResize","subscribedSource","updateViewSize","newViewSizeChangeCounter","resubscribeToProductStream","getUsedVariablesFromOverlay","variables","setAllOverlaysActive","updatedOverlays","createActiveOverlayList","createActiveOverlayIdList","toggleOverlayInfo","toggleImageInfo","setSourceImageId","selectedId","renderImageView","viewActions","renderImageViewImpl","oldVariables","newVariables","renderImageEditor","renderImageInfo","renderOverlayList","imageEditor","classNames","imageView","canRead","iconOne","resetZoom","iconFitToWidth","fitToWidth","iconFitToHeight","fitToHeight","SEPARATOR","iconDownload","downloadOriginalImage","iconDownloadWithOverlays","downloadOriginalImageWithOverlays","iconOverlayList","iconInfo","overlayActions","inRunMode","_path","_path2","viewSet","addImageNotAvailableNotification","ToolListSelector","memo","expandedKeys","setExpandedKeys","onSelect","useSelector","makeTreeEditable","styledText","EditIcon","filteredTree","checkable","onExpand","_excluded","_extends","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgBack","_ref","svgRef","titleId","fill","viewBox","xmlns","d","LinkedSelectedType","VARENUM","EmbeddedIdEnum","ForwardRef","bytesToString","bytes","fallback","String","fromCharCode","from","stringToBytes","RawEditor","numeric","onBlur","exitEditModeOnBlur","setEditMode","TextField","fullWidth","autoFocus","MAX","AngleEditor","visualizerElement","useRef","current","visualizer","onMouseEvent","buttons","bounds","angleRad","angleDeg","round","update","clientX","clientY","stringValue","numValue","parseFloat","Slider","valueLabelDisplay","step","transform","useStyles","makeStyles","disabled","fontWeight","BooleanEditor","classes","ToggleButtonGroup","exclusive","ChannelValue","Input","parsedValue","ColorEditor","rgba","r","g","int2rgba","handleUpdate","rgba2int","clsx","hex","toggleNegative","NumberEditor","onlyIntegers","smallStep","largeStep","hideRawEditor","rawValue","setRawValue","invalidInternalValue","setInvalidInternalValue","clamp","parseRawValue","raw","fix","numberValue","newValue","columnGap","ChevronDoubleLeftIcon","ChevronLeftIcon","Button","variant","Tabs","options","activeTab","setActiveTab","option","component","Editor","toUpperCase","ValueEditor","onExit","setProduct","internalValue","setInternalValue","errors","setErrors","showSuccessMessage","setShowSuccessMessage","updateCount","setUpdateCount","waitingForEditResult","setWaitingForEditResult","getValuesAsString","textAlign","CircularProgress","SetItemsRequest","valueList","VT_BSTR","strVal","errorList","$type","comment","count","finally","iconList","InputToolView","selectedNode","setSelectedNode","DraggableContainer","sortableContainer","DraggableElement","sortableElement","DraggableHandle","sortableHandle","Row","draggable","rest","DragIcon","DraggableTable","table","createRef","getContainer","getDOMNode","querySelector","getHelperContainer","rowProps","args","extraProps","callOrReturn","tagName","handleSortEnd","oldIndex","newIndex","onSequenceChange","removed","useDragHandle","helperContainer","onSortEnd","PureComponent","injectIntl","selectedAlias","alias","oldState","setAlias","Dialog","isInView","isPopup","languages","language","defaultValue","renderLanguageAliases","ListView","setAliasColumnVisibility","visibility","updateListViewShowAliases","showAliases","saveNewOrder","before","after","selection","renderValueSelector","items","filterIgnore","getInspectionName","selectedIds","renderList","getListData","tableData","row","editAlias","isAliasEditorOpen","renderAliasEditor","listValues","currentValueObject","isSaved","closeAliasEditor","aliases","dottedName","isEmpty","newAlias","delete","isSelectionMode","showAliasesInList","setObjectSelectorItems","bind","createListValues","listView","iconShow","iconShowOff","listViewAliases","show","header","marginBottom","input","theme","createTheme","typography","useNextVariants","htmlFontSize","OverlayPropertyList","currentOverlay","openSelection","useDispatch","minWidth","maxWidth","minHeight","maxHeight","handleChange","changedValue","renderTextField","InputProps","InputLabelProps","root","renderNumberField","inputProps","valueNumber","trimToMinMax","endAdornment","InputAdornment","edge","ClearIcon","onFocus","OutlinedSelection","selectedValue","onSelectionChanged","renderSelection","VariableSelection","setTree","setFilterIgnore","Overlay","setCurrentOverlay","isObjectSelectorOpen","setIsObjectSelectorOpen","variableName","setVariableName","variableId","setVariableId","selectedVariables","setSelectedVariables","editingViewId","iconPlus","newOverlay","floor","random","addNewOverlay","iconDeleteDustbin","newCurrentOverlay","getNeighborOverlayId","deleteCurrentOverlay","setVariableSelection","selectedVariable","ParameterView","parameter","toolSet","ScrollContainer","RecipeView","renderConfiguration","configurations","shortId","generate","iconBack","iconBefore","iconSave","iconClose","CommentTab","loading","multiline","minRows","Code","pre","parentElement","Prism","highlightAllUnder","FormulaEditor","forwardedRef","onSelectionChange","moveCursorTo","textarea","_input","focus","pos","setTimeout","setSelectionRange","handleSelection","activeElement","start","selectionStart","end","selectionEnd","useImperativeHandle","getSelectionPosition","moveLeft","moveRight","placeholder","onValueChange","highlight","code","TreebeardStyle","base","whiteSpace","listStyle","margin","fontFamily","cursor","activeLink","background","toggle","verticalAlign","marginLeft","wrapper","connector","borderLeft","borderBottom","lineHeight","subtree","paddingLeft","useIndirectValueObjectName","setName","setLoading","getObjectNameRequest","BeforeType","getObjectNameResponse","LinkedValueSelectDialog","linkName","treeNodes","setTreeNodes","parseNodes","nodes","leafLink","Boolean","toggled","active","child","traverse","itemName","found","updateTreeModel","targetNode","updateTargetData","updateOtherData","mapToolsetTree","onNodeClicked","isPositionAbsolute","onToggle","ReadonlyFormula","codeRef","textOverflow","useFormulaValidate","equationId","validating","setValidating","validatedFormula","setValidatedFormula","validationSuccessResult","setValidationSuccessResult","validationErrorMessages","setValidationErrorMessages","errorPosition","setErrorPosition","reset","sendValidateAndSetEquationRequest","equationText","validateAndSetEquationRequest","bSetValue","validate","validateAndSetEquationResponse","validateStatus","success","resultValue","Messages","m","messageText","FormulaEditPanelTitle","conditional","short","internalEquationText","validatedFragment","validatedFormulaCut","FormulaEditPanelBase","setInternalEquationText","onSave","undoAll","resetValidation","panelButtonClasses","formulaEditorRef","setSelection","openLinkedValueSelectDialog","setOpenLinkedValueSelectDialog","validateAndReturn","trim","appendToInternalEquation","editorSelection","shouldAppendSpace","lines","startLi","endLi","startPivot","endPivot","equationPart","lastChar","charAt","digits","endsWith","cursorOffset","deleteLeft","createSimpleAppendButtons","labels","symbol","separator","MAX_SAFE_INTEGER","index1","btn","index2","textTransform","validateFragment","validateString","indirectObjectId","parsedName","FormulaEditPanel","showInDialog","formulaValidation","equationTextUnix","titleProps","panelProps","FormulaTab","toggleOptions","openFormulaEditPanel","setOpenFormulaEditPanel","equationObjectID","alignItems","flexWrap","MIN_RANGE_VALUE","MAX_RANGE_VALUE","clampRangeValue","val","compareRangeValues","IndirectValue","Formula","formula","useRange","initialValue","setInitialValue","setValue","modified","failHigh","failLow","warnHigh","warnLow","ownerId","infoStruct","objectType","subType","embeddedID","NoEmbeddedId","rangeObjectID","getEmbeddedValuesRequest","embeddedValues","getEmbeddedValuesResponse","list","getRangeValue","embeddedIdRangeClass","embeddedValue","embeddedId","embeddedValueObjectID","linkedValue","common","rangeClass","DirectValue","directValue","dblVal","indirectIDString","RangeClassFailHighEId","RangeClassFailLowEId","RangeClassWarnHighEId","RangeClassWarnLowEId","range","catch","saveChanges","setEmbeddedValuesRequest","rangeValue","VT_R8","isModified","standardResponse","errorMessages","msg","getRangeClassName","classEnum","RangeValuePreview","onOpenEditView","editButtonProps","IndirectValueObjectName","setError","productValue","RangeValueEditor","openFormulaEditDialog","setOpenFormulaEditDialog","invalid","Select","MenuItem","validationResultValue","RangeTab","editingValue","setEditingValue","useFormula","getEquationRequest","equationValue","getEquationResponse","isMathTool","objectSubType","noDisplayStyle","MathTool","saving","setSaving","setSuccess","showOptions","setShowOptions","commonProps","setEmbeddedValueObjectID","ToolCommentTypeEId","commentValue","useComment","commentErrors","rangeErrors","formulaErrors","conditionalErrors","totalErrors","t","ToolSetBar","tools","tool","SortableItem","SortableElement","SortableList","SortableContainer","Filter","AvailableFilterListItems","AvailableFilterListActions","iconTakeOver","CurrentFilterListItems","CurrentFilterListActions","iconDown","iconUp","localCurrentFilterListItems","setLocalCurrentFilterListItems","helperClass","arrayMove","ToolSetup","setup","setupParameterView","viewSetFactory","ViewSetFactory","ActionType","currentViewSet","setParameter","setViewSet","sortToolSet","ToolsetView","treeModel","setTreeModel","filteredTreeModel","setFilteredTreeModel","setCursor","lastActionsStack","setToolSetId","openConfirmDelete","setOpenConfirmDelete","filterText","setFilterText","setInspectionIdToToolsetMappings","treeDataRaw","getToolsetTreeByInspectionId","log","createTreeNodes","isValid","toolsetTreeNode","isLeaf","treeNode","openMathToolTab","tabNode","setEditingFocus","SELECT","to","getCursorPositionAndObjectID","setNext","deleteTool","DELETE","copyTool","COPY","cutTool","CUT","pasteTool","PASTE","canDelete","iconCopy","iconCut","iconPaste","iconExpand","iconCollapse","iconDelete","toolActions","addTool","newToolId","ADD","toolId","canAdd","iconWindow","ClassIdEnum","WindowToolClassId","iconFunction","MathToolClassId","iconStatistics","StatisticsToolClassId","iconLinear","RingBufferToolClassId","iconArchive","ArchiveToolClassId","AcquisitionToolClassId","iconTransformation","TransformationToolClassId","iconShift","ShiftToolClassId","iconCylindricalWrap","CylindricalWarpToolClassId","iconPerspective","PerspectiveToolClassId","iconImage","ImageToolClassId","LinearToolClassId","iconColor","ColorToolClassId","iconResize","ResizeToolId","iconLoadImage","LoadImageToolClassId","iconTable","TableToolClassId","iconTableAnalyzer","TableAnalyzerToolClassId","iconPolarTransformation","PolarTransformationToolClassId","iconLoop","LoopToolClassId","iconExternal","ExternalToolClassId","iconGroup","GroupToolClassId","confirmed","handleConfirmDeleteClose","toolName","paddingBottom","ReactDOMServer","renderToString","includesTextInReactElement","mapViewSetArray","CONFIG_VIEW","TOOLSET_VIEW","IMAGE_STRIP_VIEW","INPUT_TOOL_VIEW","DEFAULT_RECIPE_VIEWSET","DEFAULT_VIEWSET","DEFAULT_VIEWSET_NAME","getViewSet","buildEmptyViewSet","createViewInstance","viewDesc","meta","getViewById","viewComponentClassId","passedProps","buildRecipeViewSet","first","direction","splitPercentage","second","emptyViewId","buildEditViewSet","createNewViewSet","iconSrc","unknownIcon","runIcon","stopIcon","regressionIcon","testIcon","editIcon","useUserInfoNavigation","currentState","unsavedChanges","useHistory","inputFile","shortcutViewOpen","setShortcutViewOpen","isHelpViewOpen","setIsHelpViewOpen","isAboutViewOpen","setIsAboutViewOpen","downloadConfig","downloadSVOConfig","fileData","Date","toISOString","content","icon","saveIcon","saveClientChunk","permissionsIcon","downloadIcon","file","files","fileReader","FileReader","readAsArrayBuffer","arrayBuffer","array","ArrayBuffer","uploadSVOConfig","uploadIcon","helpIcon","container","shortcutHelpIcon","aboutIcon","logoutIcon","unsubscribeFromLockAcquisitionStream","setImmediate","origin","userIcon","fullname","AboutView","REACT_APP_NAME","getWebAppVersion","getSvObserverVersion","getGatewayVersion","KoerberLogo","ProtobufConnector","disconnect","websocketConnector","WebsocketConnector","onConnect","onMessage","onError","connectWithToken","token","closeSocket","readMessage","socket","connectionLost","setProtobuf","action","ReconnectingWebSocket","binaryType","onopen","onmessage","onclose","onconnecting","close","Proxy","sendLogsToServer","logs","mapLogEntry","StoreClientLogsRequest","client","loadProject","loadProjectRequested","showLoadingSplashScreen","getMyPermissions","getDatabaseGatewayConfig","discoverConfiguration","discoverDeviceMode","subscribeToNotificationAndMessageStreams","currentConfiguration","setSVOConfigLoaded","discoverInspectionsWithConfigName","loadClientChunk","resetClientChunk","sessionStorage","reqInfo","requestTakeover","sendLockAcquisitionStreamRequest","hideLoadingSplashScreen","showLoadingErrorOverlay","configLoadedFromCache","setUpProductHistories","discoverPartsInBackground","modeName","GetDeviceModeRequest","oldMode","newMode","newModeName","addModeSwitchNotification","setCurrentModeDone","protobufInitialized","observerNotificationSubscription","observerMessageSubscription","lockAcquisitionSubscription","gatewayNotificationSubscription","gatewayMessageSubscription","nextSubId","productHistoryManager","ProductHistoryManager","subscriptionManager","SubscriptionManager","showConnectingSplashScreen","onCurrentModeChanged","onProtobufChangedImpl","hideConnectingSplashScreen","severity","dispatchConfigurationLock","setCurrentConfiguration","saveToCache","dispatchInspectionToolsetMappings","setInpectionToolsetMappings","INSPECTION_TOOLSET_MAPPINGS","setConfigurationLock","showGlobalMessageOverlay","hideGlobalMessageOverlay","lastModified","loadedSince","cachedConfigInfo","getConfigurationInfo","hash","loadFromCache","cachedMappings","clearCurrentView","SetDeviceModeRequest","hResult","loadDatabaseGatewayConfiguration","subscribeToObserverNotificationStream","subscribeToObserverMessageStream","subscribeToGatewayNotificationStream","subscribeToGatewayMessageStream","unsubscribeFromObserverNotificationStream","GetNotificationStreamRequest","stream","subscribe","next","onObserverNotification","onObserverNotificationError","complete","unsubscribe","NotifyType","getVariantValue","timestamp","addProjectModifiedNotification","updateProject","configLoaded","extractConfigNameFromFileName","addProjectLoadedNotification","configUnloaded","addProjectUnloadedNotification","errorNumber","unsubscribeFromObserverMessageStream","GetMessageStreamRequest","onObserverMessage","onObserverMessageError","messageList","MessageType","startMsgBox","firstMessage","formatMessageNotification","messageCode","endMsgBox","msgLog","addServerMessageNotification","waitForTakeoverResponse","LockAcquisitionStreamRequest","onLockAcquisition","onLockAcquisitionError","removeItem","onLockAcquiredNotification","onLockTakeoverNotification","onLockReleasedNotification","onLockAlreadyLockedNotification","onLockTakeoverRejectedNotification","addConfigAlreadyLockedBySameUser","addTakeoverCandidateNotFoundNotification","addLockAcquisitionErrorNotification","handleLockAcquiredNotification","handleLockTakeoverNotification","handleLockReleasedNotification","handleLockAlreadyLockedNotification","handleLockTakeoverRejectedNotification","resetAlertDialogFlags","LockTakeoverRequest","resetTakeoverAttempt","addLockTakeoverErrorNotification","LockTakeoverRejectedRequest","unsubscribeFromGatewayNotificationStream","GetGatewayNotificationStreamRequest","onGatewayNotification","onGatewayNotificationError","pausedInspectionIds","onPauseNotification","updateConfigLockStatus","unsubscribeFromGatewayMessageStream","GetGatewayMessageStreamRequest","onGatewayMessage","onGatewayMessageError","cb","_getNextSubId","addSubscription","removeSubscription","init","fetchMissingProductData","missingImageIds","getMissingProductImages","missingValueIds","getMissingProductValues","GetProductDataRequest","includeOverlays","addData","getSubscribedImages","getSubscribedValues","addRejectStreamPausedNotification","updatePausedInspections","setPausedInspections","pauseRejectStreamImpl","pause","SetRejectStreamPauseStateRequest","GetMyPermissionsRequest","defaultPermissions","disablePermissionsWhenConfigLocked","setMyPermissions","getGroupPermissions","isUnlocked","isLockedInDifferentAppInstance","GetGroupDetailsRequest","groupDetails","flattenPermissions","setGroupPermissions","groupDetail","users","UpdateGroupPermissionsRequest","updateInspectionIdToToolsetMapping","classId","taskObjectPos","createObjectRequest","updateToolsetData","createObjectResponse","deleteObjectRequest","GetConfigRequest","PutConfigRequest","ConfigCommandRequest","clipboardRequest","ClipboardActionEnum","Copy","Cut","Paste","webapp","read","viewset","edit","svobserver","inspectionstate","write","notifications","clientlogs","store","machinestate","command","execute","usermanagement","userpermissions","ShortcutListItem","isRequired","ShortcutList","shortcuts","shortcut","ShortcutView","ProductHistory","productData","releaseImpl","productHistories","productHistory","addProductData","InspectionSubscription","paused","lastTrigger","subsById","selectedTrigger","baseSub","emitProductToAllSubscriptions","subscription","resubscribeToStream","swapLastProduct","uniqueIds","unsubscribeFromStream","subscribeToStream","params","buildReqParams","GetProductStreamRequest","onStreamEvent","onStreamError","getStartAtTriggerCount","includeFailStatusValues","rejectValueIds","rejectsOnly","isRejectsOnly","imageFormat","ImageFormatEnum","bmp","sub","ids","each","rawEvent","gatherImages","gatherValues","rejectImages","overlaysList","rejectOverlays","idx","rejectValues","emitProductToSubscription","hasRequestedData","hasAllRequestedDataForSubscription","isInterestedIn","isInterestedInNewPorduct","hasDataForSubscriptionInList","lastProduct","requestedIds","arr","inspectionIdBySubId","subsByInspectionId","resume","isPaused","dialogActions","dialogClass","dialog","dialogWrapperClass","dialogContentWrapperClass","closeIcon","AUTH_TOKEN_KEY","USER_KEY","loadUserInfoFromStorage","userStr","removeAllUserInfoFromStorage","saveUserInfoToStorage","actionList","arrayOf","string","oneOfType","func","NUMBER_OF_SELECTABLE_VALUES","expandedFilteredKeys","checkedKeys","filteredCheckedKeys","inputValue","filteredLocations","countedVisibleValues","countedPossibleValues","selectionLimitReached","halfChecked","onCheck","checkProps","limitedCheckedKeys","limitCheckedKeys","checkUnselectingAll","updateCheckedKeys","ensureSingleSelection","setChangedIds","limit","condition","checkedNode","newSelectedKeys","newDeselectedKeys","union","filteredIds","getSelectedLocation","onChangeFilter","initialChars","cutFilterIgnoreWords","abortRecursion","filteredKeys","countSelection","countCtx","countMatches","copy","filterNodesRecursively","countMatchingNodesRecursively","filteredInput","chars","shadowChildren","positions","remainingChars","consumeChars","childMatches","isMatchingSubtree","shadowNode","createFilteredShadowNode","prevIdx","highlightAtPositions","word","loop","switcherIcon","disableCheckbox","childProps","expanded","rootNode","visibleCheckedKeys","showLine","autoExpandParent","defaultExpandParent","showIcon","selectable","withStyles","select","paddingTop","inputLabelRef","labelWidth","setLabelWidth","offsetWidth","htmlFor","outlined","native","counter","prop","ProxyStream","opts","pendingMessages","currentThrottleTimeout","throttleInterval","throttleRequests","recs","rec","level","sameMessageCount","FormatStream","impl","out","browserStdout","bunyanFormat","outputMode","proxyStream","formatStream","createLogger","streams","setProxy","de","en","es","translations","Observer","observable","closed","onNext","onComplete","Observable","onSubscribe","_onSubscribe","_next","_error","_complete","observer","tearDownCb","pendingRequests","openStreams","prevSocket","cancelAllPendingRequests","SvPenv","Envelope","decode","errorResponse","streamResponse","streamErrorResponse","streamFinish","streamCancel","onResponse","onErrorResponse","onStreamResponse","onStreamErrorResponse","onStreamFinish","onStreamCancel","txId","transactionId","hdl","unwrapResponse","handled","clearTimeout","timeout","unwrapErrorResponse","onErrorResponseImpl","streamId","ackStreamResponse","nextTxId","wrapMessage","buf","serializeEnvelope","onRequestTimeout","send","nextStreamId","streamRequest","cancelStream","fromObject","ackEnv","sequenceNumber","streamAck","wrapOneOf","envelope","payloadType","getPayloadTypeForOneOfMessage","payload","packToAny","unpackFromAny","unwrapOneOf","errorCode","fieldName","getFieldNameForSVRCMessage","SVRCMessages","typeName","fullName","encoded","encode","finish","type_url","any","buffer","byteOffset","loadProto","SvAuth","initialized","namespace","ProtoJs","load","ModalNotification","visible","selectedItem","SuggestionList","currentKey","onCancel","prevFilter","usePrevious","filteredItems","textWithHighlight","menuitems","currentText","isSelected","Paper","Autocomplete","suggestionList","inputRef","setShow","setFilter","setCurrentKey","onChangeAutocompleteText","currentPosition","getFilterText","onKeyDown","onSelectSuggestion","AlertDialog","contentText","disableEscapeKeyDown","DialogTitle","DialogContent","DialogContentText","DialogActions","InformationBox","informationText","showingInfo","setShowingInfo","infoIcon","treeEntityNameGenerator","searchedNodeId","ImageForm","object","propertyName","allowedImageVariables","allowedPathVariables","onDelete","treeStyle","treeNodeId","setTreeNodeId","setPath","samplingRate","setSamplingRate","setEnabled","Box","sx","mr","AutoComplete","required","deleteIcon","COMPONENT_TYPE_AUTOCOMPLETE","fieldsForTreeForValueSelection","triggerPropertiesRequiresName","triggerProperties","informationToFieldsMap","Typography","gutterBottom","TriggerSettings","allowedVariables","allowedAutoCompleteVariables","allowedImagePathVariables","newTriggerProperty","setNewTriggerProperty","setUpdate","triggerResult","deleteProperty","remainingTriggerProperties","excludedFields","valueFieldType","addtriggerProp","addNewTriggerProperty","addIcon","PropertyForm","batchPropertiesRequiresName","batchProperties","BatchSettings","newBatchProperty","setNewBatchProperty","batch","batchResult","remainingBatchProperties","addbatchProp","addNewBatchProperty","DatabaseGatewayEditor","databaseGatewayConfig","inspectionSubscriptions","webAppConfiguration","batchVariables","constant","saveConfiguration","simplifyConfiguration","saveDatabaseGatewayConfiguration","names","subscriptions","triggerVariablesAsTree","triggerVariables","filteredInspections","getInspectionId","getTriggerVariablesAsTree","getTriggerVariables","deleteSubscription","inspectionSelection","renderConfig","generateDefaultInspectionSubscription","DatabaseGatewayPage","SelectParameter","changeCallback","removeCallback","valuesWithLabels","localeCompare","ArrayParameter","SingleParameterComponent","numberOfEntries","removeArrayEntry","BoolParameter","BoolArrayParameter","BytesParameter","SingleParameter","fieldType","DecimalParameter","DecimalArrayParameter","EnumArrayParameter","EnumParameter","IntegerParameter","IntegerArrayParameter","TextParameter","TextArrayParameter","RequestParameter","parameters","setParameters","nestedParamsMap","setNestedParamsMap","currentRequestName","setCurrentRequestName","sendRequest","dir","getControlForField","currentPath","currentValue","changeValue","getStringArrayControl","getStringControl","getBoolArrayControl","getBoolControl","getIntegerArrayControl","getIntegerControl","getDecimalArrayControl","getDecimalControl","getBytesControl","constructor","getArrayEnumControl","getEnumControl","newPath","getArrayControlsForType","getControlsForType","newParams","cloneDeep","controls","fieldKeys","oneofs","oneOfKey","oneof","fieldkey","partOf","rule","addArrayEntryForType","RequestedResponseVisualizer","imageUrl","setImageUrl","setFileData","buildUrl","copyResponseToClipboard","navigator","clipboard","writeText","RequestsList","proto","chooseCallback","setActive","requests","requestname","Debugger","currentRequest","setCurrentRequest","setResponse","filteredProto","Link","ArrowIcon","DebuggerPage","parseQueryParams","search","queryParams","part","decodeURIComponent","HmiLoginPage","authenticated","setTopNavHidden","hideTopNavigation","setBottomNavHidden","hideBottomNavigation","setLocale","setDefaultViewSetName","authError","statusText","pathname","viewSetTemplate","hidden","LogoutPage","loggedOut","onLogOut","onLoggedOut","KeyHandler","handleKeyEvent","ctrlKey","toggleFullscreenMode","openHelpView","stopPropagation","handleClick","editingViewIds","helpSection","setFocusedViewType","tabIndex","PermissionManagement","loadCurrentPermissions","initiallySelectedPermissions","currentSelectedPermissions","savePermissions","setUserPermissions","onSaveClicked","onResetClicked","allAvailablePermissions","redirect","Permissions","groupName","newPermissions","am","bm","bs","as","colGroup","permissionsPerGroup","tableheader","dataRow","mapsAreEqual","getColGroup","tablehead","getTableHead","getData","PermissionPage","viewMappings","closeHelpView","InformationDialog","fileChooser","createdViewSets","isImportConfirmOpen","setIsImportConfirmOpen","viewsetToDelete","setViewsetToDelete","currentImportedViewSet","setCurrentImportedViewSet","isInformationDialogOpen","setIsInformationDialogOpen","informationDialogTitle","setInformationDialogTitle","informationDialogMessage","setInformationDialogMessage","shouldCloseViewSetManager","setShouldCloseViewSetManager","viewSetToEdit","setViewSetToEdit","fileLoaderVersion","existsName","addViewSet","newViewSetName","nameToTry","getNextFreeName","newViewSet","exportViewSets","dataToSave","getEditingViewIdsPerInspection","createJsonFileFromObject","closeViewSetManager","inspectionIdStr","json","handleFileData","fileText","equalsViewSetName","setViewSetConfigurationFromFileData","showErrorWhileLoadingFileDialog","handleDeleteConfirmDialogClose","removeViewSet","loadViewSetFromFile","loadSuccessfulInformationDialogText","isMajorVersionCompatible","isMinorVersionNewer","loadVersionChangeInformationDialogText","purgeViewState","showInformationDialog","showIncompatibleVersionErrorDialog","semver","valid","diff","gt","getViewSetEditingIcon","viewsetName","alert","renameViewSet","iconCheck","column","paddingRight","exportIcon","importIcon","removeIcon","handleImportConfirmDialogClose","readAsText","viewSetType","TopNavigationItem","PresetButton","presetButtonClass","PresetSlider","switchViewSet","BottomNav","selectedIndex","viewSetManagerOpen","bottomNavHidden","isSVOConfigLoaded","ViewSetManagerIcon","fullscreenMode","NavigationItem","itemRef","openMenu","setOpenMenu","hasChildren","Popper","anchorEl","placement","zIndex","ClickAwayListener","onClickAway","elevation","DateTime","format","ticking","LockState","configLock","configurationLock","TakeoverDialog","onAccept","timeLeft","setTimeLeft","interval","setInterval","clearInterval","onReject","formReducer","selectableModes","useModeSwitchNavigation","currentModeKey","modeId","modeKey","setCurrentMode","useNavigation","userInfoNavigation","languageChooserNavigation","addUserSwitchedLanguageNotification","languageIcon","useLanguageChooserNavigation","lockStateHandlerNavigation","loggedUser","useReducer","scope","formData","setFormData","openFormDialog","setOpenFormDialog","getLabel","isLockedBySameUser","isLockedByOtherUser","handleClose","padlockIcon","lockIcon","shrink","subscribeToLockAcquisitionStream","isConfigAlreadyLocked","closeAlertDialogs","isOwnerRejectedTakeover","isWaitingForTakeoverResponse","isTakeoverAttemptFromOtherUser","passConfigLock","retainConfigLock","useLockStateHandlerNavigation","inspectionStateNavigation","allRunning","unshift","iconPlayMultiple","runningInspections","numberOfInspections","useInspectionStateNavigation","statusReportNavigation","logIcon","useStatusReportNavigation","modeSwitchNavigation","navigation","TopNavigation","topNavHidden","navClass","nav","fontStyle","NoSVOConfigurationLoadedView","ListSelection","headline","selectionItems","onSelection","cancelButtonProps","showCancel","goBack","InspectionSelection","getSelectionItems","InspectionIcon","BackIcon","ViewTypeSelection","inspectionTypes","ImageViewIcon","ParameterViewIcon","ImageStripViewIcon","ListViewIcon","toolsetIcon","ViewSelection","visibleComponent","selectedInspectionId","selectedViewType","setSelectedInspectionId","changeTitle","updateView","setSelectedViewType","goBackToViewTypeSelection","cancelViewSelection","changeContent","replaceViewInCurrentViewSet","viewToShowWithoutInspection","replacementComponentId","SVOView","setFullscreen","resetView","removeIdsForUnknownInspectionIds","canEditCurrentView","canDeleteCurrentView","isConfirmOpen","windowName","viewClass","fullscreen","currentInspections","hasInspectionId","toolbarControls","onCloseView","CloseIcon","createNode","formatMessage","ViewSet","increaseChangeCounter","mosaic","viewToClose","setViewToClose","viewSetClass","closeView","handleConfirmDialogClose","layout","renderTile","Consumer","mosaicActions","resize","increaseViewSizeChangeCounter","SVObserver","throttledWindwResizeHandler","throttle","onWebsocketConnect","addConnectionEstablishedNotification","onWebsocketDisconnect","addConnectionLostNotification","returnValue","viewSetId","defaultViewSetName","changeViewSetAfterLoading","handleBeforeUnload","context","getState","modalNotificationData","setLayout","BottomNavigation","contextType","ReactReduxContext","setCurrentLayout","App","exact","render","paperStyle","LoginPage","onSubmit","onLogin","loginFailed","autoComplete","getNewNotifications","notification2Add","newNotifications","date","dateOptions","day","month","year","timeOptions","hour","minute","toLocaleString","addTimestampToNotification","currentNotification","equalsLastNotificationCurrentNotification","setCountForNotification","appReducer","initalAppState","websocketUrl","connection","navigationHidden","saveOperationInProcess","currentClientChunkRevision","createInitialAppState","setProtobufStaticInitialized","setMode","revision","inProcess","initialState","toolsetReducer","findInspectionForView","viewDataReducer","omit","showInList","newState","fullscreenComponentDescriptor","enterFullScreenMode","componentDescriptor","leaveFullScreenMode","findCreatedViewSetWithName","cached","targetViewSet","createdViewSet","updateCurrentViewSet","newCreatedViewSets","p","c","viewSetReducer","createdView","currentViewSetId","updatedViewSet","changeViewSetToName","emptyViewSet","viewsetToEdit","oldName","renamedViewSet","newName","currentLayout","loadedViewSet","isLoaded","createReducers","combineReducers","routing","PreLogin","setUser","setAuthToken","setStore","autoSave","createStore","applyMiddleware","thunk","devToolsExtension","f","fromLocalStorage","visibilityState","setBrowserWindowVisibility","hibernateTimer","onLoggedIn","muiTheme","palette","primary","main","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById","utf8StringToBuffer","len","protobufjs","util","utf8","bufferToUtf8String","DATABASEGATEWAY_CHUNK_FILENAME","WEBAPP_CHUNK_FILENAME","WEBAPP_IDMAPPING_FILENAME","WEBAPP_CHUNK_VERSION","WEBAPP_CHUNK_PARAMETERS","VERSION","SV_OBSERVER_VERSION","GATEWAY_VERSION","WEBAPP_VERSION","CREATED_VIEW_SETS","CURRENT_VIEW_SETS","INSPECTION_OVERLAYS","INSPECTION_LIST_SELECTION","INSPECTION_EDITING_VIEW_IDS","INSPECTION_LIST_ALIASES","INSPECTION_IMAGE_VIEW_SETTINGS","saveChunk","setSaveOperationInProcess","inspectionOverlays","inspectionListSelection","listSelection","inspectionEditingViewIds","inspectionListAliases","convertAliasesToJson","inspectionImageViewSettings","imageViewSettings","PutFileRequest","destinationPath","saveInConfig","loadChunk","setClientChunk","addIncompatibilityDetectedNotification","setListViewAliases","GetFileRequest","sourcePath","updateConfigWithGuidToIntMapping","loadDataForCurrentViewSet","coerce","configVersion","satisfies","receivedConfigParameters","expectedConfigParameters","currentParameterName","setting","resetChunk","emptyViewset","emptyViewSets","idMappingChunk","idMapping","parseGuidToObjectIdMapping","guidToObjectIdMapping","recursivlyUpdateConfigWithGuidToIntMapping","hasError","patchedIds","guid","lookUpKeyInMapping","lowerCaseKey","loadDatabaseGatewayConfig","setDatabaseGatewayChunk","saveDatabaseGatewayConfig","isToolsetViewSet","isImageViewSet","isListViewSet","isImageStripViewSet","newProtobuf","addNotification","configFile","authenticateHelper","logOutHelper"],"mappings":"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I,iBAAAA,I,iBAAAA,I,iBAAAA,I,qBAAAA,I,qBAAAA,I,6BAAAA,I,wBAAAA,I,sBAAAA,I,4BAAAA,I,4BAAAA,I,4BAAAA,I,kBAAAA,I,oBAAAA,I,oBAAAA,I,oBAAAA,I,kBAAAA,I,oBAAAA,I,oBAAAA,I,sBAAAA,I,sBAAAA,I,4BAAAA,I,oBAAAA,I,gCAAAA,I,0BAAAA,I,oCAAAA,I,wBAAAA,I,0BAAAA,I,0BAAAA,I,4BAAAA,I,8BAAAA,I,8BAAAA,I,sBAAAA,I,0BAAAA,I,4BAAAA,I,4CAAAA,I,wCAAAA,I,oCAAAA,I,kBAAAA,I,wBAAAA,I,8CAAAA,I,kCAAAA,I,4BAAAA,I,0BAAAA,I,2BAAAA,I,iCAAAA,I,+BAAAA,I,0CAAAA,I,iCAAAA,Q,cAuDAC,O,+BAAAA,I,mCAAAA,I,qEAAAA,I,qBAAAA,I,yCAAAA,I,mCAAAA,I,mEAAAA,I,qCAAAA,I,6BAAAA,I,yCAAAA,I,0CAAAA,I,wDAAAA,I,sCAAAA,I,8BAAAA,I,sCAAAA,I,oDAAAA,I,0CAAAA,I,gEAAAA,I,4CAAAA,I,0DAAAA,I,8BAAAA,I,sCAAAA,I,gDAAAA,I,wDAAAA,I,0CAAAA,I,0CAAAA,I,wCAAAA,I,4CAAAA,I,oDAAAA,I,gDAAAA,I,kDAAAA,I,gDAAAA,I,0CAAAA,I,gDAAAA,I,oDAAAA,I,0CAAAA,I,gDAAAA,I,8CAAAA,I,4CAAAA,I,0DAAAA,I,sDAAAA,I,oDAAAA,I,0DAAAA,I,gEAAAA,I,gEAAAA,I,0DAAAA,I,gEAAAA,I,0DAAAA,I,kCAAAA,I,4CAAAA,I,kCAAAA,I,oDAAAA,I,kCAAAA,I,sDAAAA,I,oCAAAA,I,4CAAAA,I,wCAAAA,I,wCAAAA,I,gCAAAA,I,oCAAAA,I,wCAAAA,I,sCAAAA,I,4BAAAA,I,4BAAAA,I,oCAAAA,I,kCAAAA,I,sCAAAA,I,wCAAAA,I,oDAAAA,I,4DAAAA,I,oDAAAA,I,gEAAAA,I,0CAAAA,I,0CAAAA,I,gDAAAA,I,0DAAAA,I,0DAAAA,I,wCAAAA,I,4CAAAA,I,4DAAAA,I,wEAAAA,I,sCAAAA,I,gDAAAA,I,kDAAAA,I,sDAAAA,I,sDAAAA,I,wDAAAA,I,8DAAAA,I,8CAAAA,I,sDAAAA,I,kDAAAA,I,gDAAAA,I,kDAAAA,I,gDAAAA,I,mEAAAA,I,iEAAAA,I,mEAAAA,I,iEAAAA,I,yCAAAA,I,mDAAAA,I,uDAAAA,I,qDAAAA,I,uDAAAA,I,6CAAAA,I,2DAAAA,I,2DAAAA,I,qDAAAA,I,6CAAAA,I,2CAAAA,I,2CAAAA,I,iDAAAA,I,yCAAAA,I,uCAAAA,I,2CAAAA,I,6CAAAA,I,yCAAAA,I,6CAAAA,I,qEAAAA,I,iEAAAA,I,uEAAAA,I,+DAAAA,I,2DAAAA,I,iGAAAA,I,yDAAAA,I,yCAAAA,I,iDAAAA,I,mDAAAA,I,yCAAAA,I,mDAAAA,I,iDAAAA,I,iDAAAA,I,uCAAAA,I,2CAAAA,I,2CAAAA,I,mDAAAA,I,2CAAAA,I,mDAAAA,I,+DAAAA,I,mDAAAA,I,2DAAAA,I,mDAAAA,I,2DAAAA,I,6CAAAA,I,iDAAAA,I,mDAAAA,I,qCAAAA,I,iEAAAA,I,6BAAAA,I,6BAAAA,I,+BAAAA,I,2BAAAA,I,qDAAAA,I,qDAAAA,I,iBAAAA,I,mBAAAA,I,iBAAAA,I,mBAAAA,I,yBAAAA,I,2BAAAA,I,2BAAAA,I,2BAAAA,I,2CAAAA,I,qCAAAA,I,qCAAAA,I,qCAAAA,I,uCAAAA,I,2CAAAA,I,mCAAAA,I,mCAAAA,I,iCAAAA,I,yBAAAA,I,2BAAAA,I,yCAAAA,I,2CAAAA,I,2CAAAA,I,mDAAAA,I,yDAAAA,I,mDAAAA,I,mDAAAA,I,+BAAAA,I,iCAAAA,I,yCAAAA,I,uCAAAA,I,yCAAAA,I,uCAAAA,I,mDAAAA,I,qCAAAA,I,+CAAAA,I,uCAAAA,I,uCAAAA,I,yCAAAA,I,yCAAAA,I,iDAAAA,I,+DAAAA,I,+DAAAA,I,2DAAAA,I,6DAAAA,I,2EAAAA,I,qFAAAA,I,6DAAAA,I,uFAAAA,I,qDAAAA,I,+BAAAA,I,+CAAAA,I,6BAAAA,I,yCAAAA,I,2BAAAA,I,yCAAAA,I,2CAAAA,I,2CAAAA,I,yCAAAA,I,yCAAAA,I,yCAAAA,I,yCAAAA,I,6BAAAA,I,qCAAAA,I,uCAAAA,I,iDAAAA,I,mCAAAA,I,iDAAAA,I,mDAAAA,I,+CAAAA,I,mDAAAA,I,qEAAAA,I,mEAAAA,I,+DAAAA,I,qEAAAA,I,2DAAAA,I,iEAAAA,I,2BAAAA,I,2DAAAA,I,uDAAAA,I,yDAAAA,I,iDAAAA,I,uCAAAA,I,iCAAAA,I,uCAAAA,I,uEAAAA,I,uEAAAA,I,qEAAAA,I,2CAAAA,I,yCAAAA,I,yCAAAA,I,mDAAAA,I,qEAAAA,I,uFAAAA,I,6EAAAA,I,2EAAAA,I,iFAAAA,I,uEAAAA,I,qEAAAA,I,qEAAAA,I,uFAAAA,I,6EAAAA,I,2EAAAA,I,iFAAAA,I,uEAAAA,I,qEAAAA,I,uEAAAA,I,yFAAAA,I,+EAAAA,I,6EAAAA,I,mFAAAA,I,yEAAAA,I,uEAAAA,I,uEAAAA,I,yFAAAA,I,+EAAAA,I,6EAAAA,I,mFAAAA,I,yEAAAA,I,uEAAAA,I,mDAAAA,I,mDAAAA,I,uDAAAA,I,yCAAAA,I,qDAAAA,I,qDAAAA,I,mCAAAA,I,qEAAAA,I,qEAAAA,I,iCAAAA,I,mCAAAA,I,yDAAAA,I,yDAAAA,I,+EAAAA,I,+EAAAA,I,yEAAAA,I,yEAAAA,I,iFAAAA,I,mDAAAA,I,uCAAAA,I,uCAAAA,I,6CAAAA,I,qDAAAA,I,qDAAAA,I,+CAAAA,I,+CAAAA,I,uDAAAA,I,2CAAAA,I,mEAAAA,I,6DAAAA,I,yCAAAA,I,yCAAAA,I,iDAAAA,I,6CAAAA,I,+CAAAA,I,2CAAAA,I,6DAAAA,I,+CAAAA,I,qDAAAA,I,qEAAAA,I,qEAAAA,I,6EAAAA,I,yEAAAA,I,2EAAAA,I,uEAAAA,I,mEAAAA,I,iEAAAA,I,qEAAAA,I,uEAAAA,I,qCAAAA,I,uCAAAA,I,+DAAAA,I,iEAAAA,I,2DAAAA,I,+CAAAA,I,+CAAAA,I,uDAAAA,I,+DAAAA,I,iDAAAA,I,iDAAAA,I,qDAAAA,I,6CAAAA,I,2BAAAA,I,qDAAAA,I,6BAAAA,I,uCAAAA,I,uCAAAA,I,qCAAAA,I,qCAAAA,I,uCAAAA,I,uCAAAA,I,mDAAAA,I,qDAAAA,I,qCAAAA,I,+CAAAA,I,mDAAAA,I,+BAAAA,I,iDAAAA,I,2CAAAA,I,+CAAAA,I,+CAAAA,I,iDAAAA,I,+CAAAA,I,yDAAAA,I,qDAAAA,I,qCAAAA,I,uDAAAA,I,iFAAAA,I,qCAAAA,I,uCAAAA,I,yCAAAA,I,2CAAAA,I,6CAAAA,I,6CAAAA,I,+CAAAA,I,iDAAAA,I,qEAAAA,I,6DAAAA,I,6DAAAA,I,6DAAAA,I,6DAAAA,I,qDAAAA,I,mCAAAA,I,mCAAAA,I,2CAAAA,I,qEAAAA,I,6CAAAA,I,mCAAAA,I,mCAAAA,I,mCAAAA,I,uCAAAA,I,2BAAAA,I,yDAAAA,I,qDAAAA,I,qDAAAA,I,yDAAAA,I,yDAAAA,I,qDAAAA,I,qDAAAA,I,yDAAAA,I,yDAAAA,I,qDAAAA,I,qDAAAA,I,yDAAAA,I,yDAAAA,I,6DAAAA,I,2CAAAA,I,iDAAAA,I,6CAAAA,I,+DAAAA,I,2DAAAA,I,yCAAAA,I,qDAAAA,I,+DAAAA,I,2CAAAA,I,iDAAAA,I,6CAAAA,I,+DAAAA,I,2DAAAA,I,yCAAAA,I,qDAAAA,I,+DAAAA,I,+DAAAA,I,uCAAAA,I,6DAAAA,I,2CAAAA,I,iDAAAA,I,6CAAAA,I,qCAAAA,I,qCAAAA,I,2CAAAA,I,uDAAAA,I,uDAAAA,I,+CAAAA,I,iCAAAA,I,2CAAAA,I,6CAAAA,I,6CAAAA,I,yBAAAA,I,yBAAAA,I,qEAAAA,I,uEAAAA,I,6EAAAA,I,6EAAAA,I,6DAAAA,I,+DAAAA,I,qEAAAA,I,qEAAAA,I,+CAAAA,I,+DAAAA,I,6BAAAA,I,iCAAAA,I,2CAAAA,I,iEAAAA,I,uDAAAA,I,iEAAAA,I,mEAAAA,I,6DAAAA,I,+DAAAA,I,mFAAAA,I,+DAAAA,I,+DAAAA,I,6DAAAA,I,mDAAAA,I,2DAAAA,I,uEAAAA,I,uEAAAA,I,2DAAAA,I,+DAAAA,I,yEAAAA,I,6DAAAA,I,uEAAAA,I,6DAAAA,I,uEAAAA,I,+BAAAA,I,qCAAAA,I,qCAAAA,I,mDAAAA,I,iCAAAA,I,+CAAAA,I,qCAAAA,I,iDAAAA,I,yDAAAA,I,2CAAAA,I,+DAAAA,I,6FAAAA,I,2EAAAA,I,iEAAAA,I,iEAAAA,I,yEAAAA,I,yEAAAA,I,yEAAAA,I,+BAAAA,I,mDAAAA,I,qCAAAA,I,+BAAAA,I,iCAAAA,I,2CAAAA,I,iDAAAA,I,iEAAAA,I,iDAAAA,I,iEAAAA,I,+CAAAA,I,qCAAAA,I,6BAAAA,I,6CAAAA,I,6CAAAA,I,uEAAAA,I,yEAAAA,I,6DAAAA,I,qEAAAA,I,+DAAAA,I,uEAAAA,I,uEAAAA,I,uEAAAA,I,mEAAAA,I,qEAAAA,I,mFAAAA,I,6FAAAA,I,qEAAAA,I,iCAAAA,I,mCAAAA,I,2DAAAA,I,+CAAAA,I,+CAAAA,I,+CAAAA,I,iCAAAA,I,iCAAAA,I,2BAAAA,I,2BAAAA,I,2BAAAA,I,uEAAAA,I,mDAAAA,I,mDAAAA,I,6CAAAA,I,+DAAAA,I,qDAAAA,I,uCAAAA,I,2CAAAA,I,2CAAAA,I,qCAAAA,I,8CAAAA,I,sDAAAA,I,oCAAAA,I,0CAAAA,I,sDAAAA,I,4CAAAA,I,0DAAAA,I,gDAAAA,I,sCAAAA,I,8CAAAA,I,iDAAAA,I,oDAAAA,I,gDAAAA,I,+CAAAA,I,8CAAAA,I,8CAAAA,I,sDAAAA,I,gDAAAA,I,gEAAAA,I,0DAAAA,I,kDAAAA,I,8CAAAA,I,oDAAAA,I,oDAAAA,I,wDAAAA,I,gDAAAA,I,wCAAAA,I,wDAAAA,I,wDAAAA,I,sDAAAA,I,gEAAAA,I,gEAAAA,I,0DAAAA,I,0DAAAA,I,kEAAAA,I,sDAAAA,I,sDAAAA,I,8DAAAA,I,0DAAAA,I,4DAAAA,I,wDAAAA,I,sEAAAA,I,oFAAAA,I,kFAAAA,I,sEAAAA,I,oFAAAA,I,kFAAAA,I,0EAAAA,I,sCAAAA,I,wCAAAA,I,8CAAAA,I,8CAAAA,I,gDAAAA,I,gDAAAA,I,gDAAAA,I,gDAAAA,I,sDAAAA,I,gEAAAA,I,kDAAAA,I,oDAAAA,I,oDAAAA,I,4CAAAA,I,0DAAAA,I,oDAAAA,I,4CAAAA,I,sEAAAA,I,wDAAAA,I,4DAAAA,I,4DAAAA,I,oDAAAA,I,kDAAAA,I,qCAAAA,Q,6BC7GCS,I,OAAY,SAAC,GAMyB,IALjDC,EAKgD,EALhDA,QACAh3B,EAIgD,EAJhDA,MACAilB,EAGgD,EAHhDA,SACAgS,EAEgD,EAFhDA,OACAC,EACgD,EADhDA,mBAEM5iB,EAAOC,eAEb,EAAgCsU,oBAAS,GAAzC,oBAAOtP,EAAP,KAAiB4d,EAAjB,KAEA,OACE,qBAAK14B,UAAU,aAAf,SACG8a,EACC,cAAC6d,GAAA,EAAD,CACEz0B,KAAMq0B,EAAU,SAAW,OAC3BK,WAAS,EACTr3B,MAAOA,EACPilB,SAAU,SAACqH,GAAD,aAAWrH,EAAQ,UAACqH,EAAM1C,OAAO5pB,aAAd,QAAuB,KACpDi3B,OAAQ,WACFC,GACFC,GAAY,GAER,OAANF,QAAM,IAANA,QAEFK,WAAS,IAGX,sBAAK74B,UAAU,YAAf,UACE,+BAAOuB,IACP,cAACia,GAAA,EAAD,CACEzF,QAASF,EAAKG,SAAS,sBACvB9V,QAAS,kBAAMw4B,GAAY,IAC3B7rB,MAAO,CAAEE,OAAQ,GAAID,MAAO,IAC5BwI,QAAS0gB,cC1Cf8C,I,OAAM,KAECC,GAAc,SAAC,GAAoD,IAAlDx3B,EAAiD,EAAjDA,MAAOilB,EAA0C,EAA1CA,SAC7BwS,EAAoBC,iBAAuB,MAuCjD,OArCAxO,qBAAU,WACR,GAAKuO,EAAkBE,QAAvB,CAIA,IAAMC,EAAaH,EAAkBE,QAiB/BE,EAAe,SAACvL,GACE,IAAlBA,EAAMwL,SAhBG,SAACzb,EAAWG,GACzB,IAAMub,EAASH,EAAWzH,wBACpBxS,GAAOtB,EAAI0b,EAAOhN,MAAQgN,EAAOxsB,MAAS,EAAI,EAC9CqS,KAASpB,EAAIub,EAAO/M,KAAO+M,EAAOvsB,OAAU,EAAI,GAChDwsB,EAAWv3B,KAAKqd,MAAMF,EAAID,GAChC,IAAIoD,MAAMiX,GAAV,CAIA,IADA,IAAIC,EAAuB,IAAXD,EAAkBv3B,KAAKsd,GAChCka,EAAW,GAChBA,GAAY,IAEdhT,EAASxkB,KAAKy3B,MAAMD,KAKlBE,CAAO7L,EAAM8L,QAAS9L,EAAM+L,UAOhC,OAHAT,EAAWnI,iBAAiB,YAAaoI,GACzCD,EAAWnI,iBAAiB,YAAaoI,GAElC,WACLD,EAAWlI,oBAAoB,YAAamI,GAC5CD,EAAWlI,oBAAoB,YAAamI,OAE7C,CAAC5S,IAGF,sBAAKxmB,UAAU,eAAf,UACE,cAAC,GAAD,CACEu4B,SAAO,EACPh3B,MAAOA,EAAMsV,WACb2P,SAAU,SAACqT,GACT,IAAMC,EAAWC,WAAWF,GACvBvX,MAAMwX,IACTtT,EAASxkB,KAAKuf,IAnDd,EAmDuBvf,KAAKwvB,IAAIsH,GAAKgB,MAGzCrB,oBAAkB,IAEpB,qBAAKz4B,UAAU,0BAAf,SACE,cAACg6B,GAAA,EAAD,CACE/5B,MAAM,UACNsB,MAAOA,GAAS,EAChBilB,SAAU,SAACuE,EAAGxpB,GAAJ,OAAcilB,GAAUpkB,MAAMoO,QAAQjP,GAASA,EAAM,GAAKA,IAAU,IAC9E04B,kBAAkB,OAClBzI,IA9DE,EA+DFjQ,IAAKuX,GACLoB,KAAM,MAGV,sBAAKl6B,UAAU,mBAAmB2nB,IAAKqR,EAAvC,UACE,sBAAKh5B,UAAU,QAAf,UACE,sBACE6M,MAAO,CACLstB,UAAU,qBAAD,QACN,GAAKn4B,KAAKuf,IAAI,EAAGvf,KAAKwvB,IAAIsH,GAASv3B,IAD7B,sBAKb,sBACEsL,MAAO,CACLstB,UAAU,uBAAD,QACN,GAAKn4B,KAAKuf,IAAI,EAAGvf,KAAKwvB,IAAIsH,GAASv3B,EAAQu3B,KADrC,sBAKb,sBACEjsB,MAAO,CACLstB,UAAU,wBAAD,QACN,GAAKn4B,KAAKuf,IAAI,EAAGvf,KAAKwvB,IAAIsH,GAASv3B,EAAQu3B,MADrC,sBAKb,sBACEjsB,MAAO,CACLstB,UAAU,wBAAD,QACN,GAAKn4B,KAAKuf,IAAI,EAAGvf,KAAKwvB,IAAIsH,GAASv3B,EAASu3B,MADtC,yBAMf,qBAAK94B,UAAU,WACf,qBAAKA,UAAU,aAAa6M,MAAO,CAAEstB,UAAU,UAAD,OAAYrB,GAAMv3B,EAAlB,kB,8BCnGhD64B,I,OAAYC,aAAW,CAC3BC,SAAU,CACRr6B,MAAO,sBACPs6B,WAAY,WAIHC,GAAgB,SAAC,GAAqD,IAAnDj5B,EAAkD,EAAlDA,MAAOilB,EAA2C,EAA3CA,SAC/BiU,EAAUL,KAEhB,OACE,qBAAKp6B,UAAU,iBAAf,SACE,eAAC06B,GAAA,EAAD,CACEz6B,MAAM,UACNsB,QAASA,EACTo5B,WAAS,EACTnU,SAAU,SAACuE,EAAGxpB,GAAJ,OAAcilB,IAAWjlB,IAJrC,UAME,cAAC8T,GAAA,EAAD,CAAcilB,SAAU/4B,EAAOA,OAAO,EAAMk5B,QAASA,EAArD,kBAGA,cAACplB,GAAA,EAAD,CAAcilB,UAAW/4B,EAAOA,OAAO,EAAOk5B,QAASA,EAAvD,yB,0BCwBR,IAAMG,GAAe,SAAC,GAAmD,IAAjD7X,EAAgD,EAAhDA,MAAOxhB,EAAyC,EAAzCA,MAAOilB,EAAkC,EAAlCA,SACpC,OACE,sBAAKxmB,UAAU,gBAAf,UACE,kCAAQ+iB,EAAR,OACA,qBAAK/iB,UAAU,kBAAf,SACE,cAAC66B,GAAA,EAAD,CACE32B,KAAK,SACL3C,MAAOA,EACPilB,SAAU,SAACqH,GACT,IAAMiN,EAAcp2B,SAASmpB,EAAM1C,OAAO5pB,OACrC+gB,MAAMwY,IACTtU,EAASsU,QAKjB,qBAAK96B,UAAU,0BAAf,SACE,cAACg6B,GAAA,EAAD,CACE/5B,MAAM,UACNsB,MAAOA,GAAS,EAChBilB,SAAU,SAACuE,EAAGxpB,GAAJ,OAAcilB,GAAUpkB,MAAMoO,QAAQjP,GAASA,EAAM,GAAKA,IAAU,IAC9E04B,kBAAkB,OAClBzI,IAAK,EACLjQ,IAAK,IACL2Y,KAAM,UAOHa,GAAc,SAAC,GAAoD,IAtD9D96B,EAsDYsB,EAAiD,EAAjDA,MAAOilB,EAA0C,EAA1CA,SAC7BwU,EAAO1P,mBAAQ,kBAtEvB,SAAkB/pB,GAChB,MAAO,CACL05B,EAAI15B,GAAS,GAAM,IACnB25B,EAAI35B,GAAS,GAAM,IACnB+jB,EAAI/jB,GAAS,EAAK,IAClBwB,EAAW,IAARxB,GAiEsB45B,CAAS55B,KAAQ,CAACA,IAEvC65B,EAAe,SAACn7B,GACpBumB,EAhEJ,SAAkBvmB,GAChB,OACc,IAAVA,EAAMg7B,IAAa,IAAkB,IAAVh7B,EAAMi7B,IAAa,IAAkB,IAAVj7B,EAAMqlB,IAAa,EAAgB,IAAVrlB,EAAM8C,EA8D9Es4B,CAASp7B,KAGpB,OACE,sBAAKD,UAAWs7B,aAAK,gBAArB,UACE,gCACE,cAAC,GAAD,CACEvY,MAAM,MACNxhB,MAAOy5B,EAAKC,EACZzU,SAAU,SAACjlB,GAAD,OAAW65B,EAAa,2BAAKJ,GAAN,IAAYC,EAAG15B,QAElD,cAAC,GAAD,CACEwhB,MAAM,QACNxhB,MAAOy5B,EAAKE,EACZ1U,SAAU,SAACjlB,GAAD,OAAW65B,EAAa,2BAAKJ,GAAN,IAAYE,EAAG35B,QAElD,cAAC,GAAD,CACEwhB,MAAM,OACNxhB,MAAOy5B,EAAK1V,EACZkB,SAAU,SAACjlB,GAAD,OAAW65B,EAAa,2BAAKJ,GAAN,IAAY1V,EAAG/jB,QAElD,cAAC,GAAD,CACEwhB,MAAM,QACNxhB,MAAOy5B,EAAKj4B,EACZyjB,SAAU,SAACjlB,GAAD,OAAW65B,EAAa,2BAAKJ,GAAN,IAAYj4B,EAAGxB,WAGpD,cAACs5B,GAAA,EAAD,CACE76B,UAAU,eACVkE,KAAK,QACLsiB,SAAU,SAACqH,GAAD,OAAWuN,EAAa,2BAAKJ,IA/E7BO,EA+E+C1N,EAAM1C,OAAO5pB,MA9ErE,CACL05B,EAAGv2B,SAAS62B,EAAI,GAAKA,EAAI,GAAI,IAC7BL,EAAGx2B,SAAS62B,EAAI,GAAKA,EAAI,GAAI,IAC7BjW,EAAG5gB,SAAS62B,EAAI,GAAKA,EAAI,GAAI,QAJjC,IAAkBA,GAgFVh6B,OAzFUtB,EAyFM+6B,EAvFpB,IACA,WAAI/6B,EAAMg7B,EAAEpkB,SAAS,KAAM5Q,OAAO,GAClC,WAAIhG,EAAMi7B,EAAErkB,SAAS,KAAM5Q,OAAO,GAClC,WAAIhG,EAAMqlB,EAAEzO,SAAS,KAAM5Q,OAAO,UCjCvB,OAA0B,gDCA1B,OAA0B,yCCWnCu1B,I,OAAiB,SAACj6B,GAAD,OACrBA,EAAMgD,WAAW,KAAOhD,EAAMwP,UAAU,GAAxC,WAAiDxP,KAWtCk6B,GAAe,SAAC,GASyB,IARpDl6B,EAQmD,EARnDA,MACAilB,EAOmD,EAPnDA,SACAkV,EAMmD,EANnDA,aACAlK,EAKmD,EALnDA,IACAjQ,EAImD,EAJnDA,IAImD,IAHnDoa,iBAGmD,MAHvC,EAGuC,MAFnDC,iBAEmD,MAFvC,GAEuC,EADnDC,EACmD,EADnDA,cAEA,EAAgCzR,mBAAS,IAAzC,oBAAO0R,EAAP,KAAiBC,EAAjB,KACA,EAAwD3R,oBAAS,GAAjE,oBAAO4R,EAAP,KAA6BC,EAA7B,KAEAxR,qBAAU,WAAO,IAAD,EACdsR,EAAW,iBAACx6B,QAAD,IAACA,OAAD,EAACA,EAAOsV,kBAAR,QAAsB,MAChC,CAACtV,IAEJ,IAAM26B,EAAQ,SAAC36B,GACb,MAAmB,kBAARiwB,GAAoBjwB,EAAQiwB,EAAYA,EAChC,kBAARjQ,GAAoBhgB,EAAQggB,EAAYA,EAC5ChgB,GAGH46B,EAAgB,SAACC,GAA8B,IAAjBC,EAAgB,wDAClDN,EAAYK,GAEZ,IAAME,EAAcZ,EAAeh3B,SAAS03B,GAAOrC,WAAWqC,GAC9D,IACG9Z,MAAMga,KACS,kBAAR9K,GAAoB8K,GAAe9K,KAC3B,kBAARjQ,GAAoB+a,GAAe/a,GAE3C0a,GAAwB,GACxBzV,EAAS8V,QACJ,GAAID,EAAK,CACdJ,GAAwB,GACxB,IAAMM,EAAWL,EAAMI,GAAe,GACtC9V,EAAS+V,GACTR,EAAYQ,EAAS1lB,iBAErBolB,GAAwB,IAItBnyB,EAAOwhB,mBACX,uCAAU,IAAIlpB,MAAM,IAAIm1B,KAAK,GAAG7zB,KAAI,SAACqnB,EAAG1oB,GAAJ,OAAUA,EAAEwU,eAAhD,YAAiE6kB,EAAe,GAAK,CAAC,SACtF,CAACA,IAGH,OACE,sBAAK17B,UAAWs7B,aAAK,gBAAiBU,GAAwB,WAA9D,WACIH,GACA,cAAC,GAAD,CACEtD,SAAO,EACPh3B,MAAOu6B,EACPtV,SAAU2V,EACV3D,OAAQ,WACNuD,EAAYx6B,EAAMsV,YAClBolB,GAAwB,IAE1BxD,oBAAkB,IAGtB,sBAAKz4B,UAAU,SAAf,UACE,sBAAK6M,MAAO,CAAE6a,QAAS,OAAQ8U,UAAW,GAA1C,UACE,cAAChhB,GAAA,EAAD,CACE3O,MAAO,CAAEE,OAAQ,GAAID,MAAO,IAC5BwI,QAASmnB,GACTv8B,QAAS,kBAAMsmB,EAAS0V,EAAM36B,EAAQq6B,OAExC,cAACpgB,GAAA,EAAD,CACE3O,MAAO,CAAEE,OAAQ,GAAID,MAAO,IAC5BwI,QAASonB,GACTx8B,QAAS,kBAAMsmB,EAAS0V,EAAM36B,EAAQo6B,UAG1B,kBAARnK,GAAmC,kBAARjQ,GACjC,qBAAKvhB,UAAU,0BAAf,SACE,cAACg6B,GAAA,EAAD,CACE/5B,MAAM,UACNsB,MAAOA,GAAS,EAChBilB,SAAU,SAACuE,EAAGxpB,GAAJ,OAAcilB,GAAUpkB,MAAMoO,QAAQjP,GAASA,EAAM,GAAKA,IAAU,IAC9E04B,kBAAkB,OAClBzI,IAAKA,EACLjQ,IAAKA,EACL2Y,KAAM,MAIZ,sBAAKrtB,MAAO,CAAE6a,QAAS,OAAQ8U,UAAW,GAA1C,UACE,cAAChhB,GAAA,EAAD,CACE3O,MAAO,CAAEE,OAAQ,GAAID,MAAO,GAAIqtB,UAAW,cAC3C7kB,QAASonB,GACTx8B,QAAS,kBAAMsmB,EAAS0V,EAAM36B,EAAQo6B,OAExC,cAACngB,GAAA,EAAD,CACE3O,MAAO,CAAEE,OAAQ,GAAID,MAAO,GAAIqtB,UAAW,cAC3C7kB,QAASmnB,GACTv8B,QAAS,kBAAMsmB,EAAS0V,EAAM36B,EAAQq6B,aAI5C,sBAAK57B,UAAU,OAAf,WACmB,kBAARwxB,GAAoBA,EAAM,IACjC,cAACmL,GAAA,EAAD,CACEC,QAAQ,YACRtC,SACkB,kBAAR9I,GAAoBuI,WAAWyB,GAAeM,IAAatK,GACnD,kBAARjQ,GAAoBwY,WAAWyB,GAAeM,IAAava,EAErErhB,QAAS,kBAAMi8B,EAAcX,GAAeM,IAAW,IANzD,eAWDhyB,EAAKpG,KAAI,SAACpC,GAAD,OACR,cAACq7B,GAAA,EAAD,CAEEC,QAAQ,YACRtC,SACW,MAARh5B,GAAew6B,EAAS7U,SAAS,MAClB,kBAAR1F,GACN,aAAa0F,SAAS3lB,IACtBy4B,WAAW+B,EAAWx6B,GAAOigB,GACf,kBAARiQ,GACN,aAAavK,SAAS3lB,IACtBy4B,WAAW+B,EAAWx6B,GAAOkwB,EAEjCtxB,QAAS,WACK,MAARoB,GAAew6B,EAAS7U,SAAS,MAGrCkV,EAAcL,EAAWx6B,GAAK,IAhBlC,SAmBGA,GAlBIA,MAqBT,cAACq7B,GAAA,EAAD,CACEC,QAAQ,YACR18B,QAAS,kBACPi8B,EAAcL,EAAS/qB,UAAU,EAAG/O,KAAKuf,IAAI,EAAGua,EAAS55B,OAAS,KAAK,IAH3E,wBCzJK26B,I,OAAO,SAAC,GAA4B,IAAD,IAAzBC,EAAyB,EAAzBA,QACrB,EAAkC1S,mBAAQ,UAAC0S,EAAQ,UAAT,aAAC,EAAYv7B,OAAvD,oBAAOw7B,EAAP,KAAkBC,EAAlB,KAEA,OACE,sBAAKh9B,UAAU,OAAf,UACE,8BACE,cAAC06B,GAAA,EAAD,CACEz6B,MAAM,UACNsB,MAAOw7B,EACPpC,WAAS,EACTnU,SAAU,SAACuE,EAAGxpB,GAAJ,OAAcA,GAASy7B,EAAaz7B,IAJhD,SAMGu7B,EAAQp5B,KAAI,gBAAGnC,EAAH,EAAGA,MAAOwhB,EAAV,EAAUA,MAAV,OACX,cAAC1N,GAAA,EAAD,CAA0B9T,MAAOA,EAAOO,KAAK,QAA7C,SACGihB,GADgBxhB,UAMzB,wCAAMu7B,EAAQpyB,MAAK,SAACuyB,GAAD,OAAYA,EAAO17B,QAAUw7B,YAAhD,aAAM,EAAsDG,iBCC5DC,GAAS1H,gBAAK,YAAsE,IAAnEvxB,EAAkE,EAAlEA,KAAM3C,EAA4D,EAA5DA,MAAOilB,EAAqD,EAArDA,SAC5B3Q,EAAOC,eAab,OAAQ5R,EAAKk5B,eACX,QACE,OAAO,cAAC,GAAD,CAAW77B,MAAOA,EAAOilB,SAAUA,IAC5C,IAAK,eACL,IAAK,gBACH,OAAO,cAAC,GAAD,CAAcjlB,MAAOw4B,WAAWx4B,GAAQilB,SAAUA,EAAUgL,IAAK,EAAGjQ,IAAK,MAClF,IAAK,WACL,IAAK,WACL,IAAK,UACH,OAAO,cAAC,GAAD,CAAchgB,MAAOw4B,WAAWx4B,GAAQilB,SAAUA,IAC3D,IAAK,eACH,OAAO,cAAC,GAAD,CAAajlB,MAAOw4B,WAAWx4B,IAAU,EAAGilB,SAAUA,IAC/D,IAAK,YACH,OACE,cAAC,GAAD,CACEsW,QAAS,CACP,CACEv7B,MAAO,SACPwhB,MAAOlN,EAAKG,SAAS,8BACrBknB,UAAW,cAAC,GAAD,CAAc37B,MAAOmD,SAASnD,GAAQilB,SAAUA,EAAUkV,cAAY,KAEnF,CACEn6B,MAAO,QACPwhB,MAAOlN,EAAKG,SAAS,6BACrBknB,UAAW,cAAC,GAAD,CAAa37B,MAAOmD,SAASnD,GAAQilB,SAAUA,QAKpE,IAAK,OACH,OACE,cAAC,GAAD,CACEjlB,MAAwB,kBAAVA,EAA+B,SAAVA,EAAmBA,EACtDilB,SAAUA,QAMP6W,GAAc5H,gBAAK,YAAuD,IAAD,EAAnD5wB,EAAmD,EAAnDA,aAAcjG,EAAqC,EAArCA,KAAM0+B,EAA+B,EAA/BA,OAC/CpV,EAAQ2N,aAAiB,SAAC1oB,GAAD,oBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOC,WAAlB,aAAW,EAAY8a,SAChDtc,EAAgBiqB,aAAiB,SAAC1oB,GAAD,oBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOC,WAAlB,aAAW,EAAYxB,iBAExDiK,EAAOC,eAEb,EAA8BsU,mBAAyB,MAAvD,oBAAO1H,EAAP,KAAgB6a,EAAhB,KACA,EAA0CnT,mBAAc,MAAxD,oBAAOoT,EAAP,KAAsBC,EAAtB,KACA,EAA4BrT,mBAAmB,IAA/C,oBAAOsT,EAAP,KAAeC,EAAf,KACA,EAAoDvT,oBAAS,GAA7D,oBAAOwT,EAAP,KAA2BC,EAA3B,KACA,EAAsCzT,mBAAS,GAA/C,oBAAO0T,EAAP,KAAoBC,EAApB,KACA,EAAwD3T,oBAAS,GAAjE,oBAAO4T,EAAP,KAA6BC,EAA7B,KAEM18B,EAAQ+pB,mBACZ,6CACE5I,QADF,IACEA,GADF,UACEA,EAASwb,kBAAkB,CAACt/B,EAAKuB,YADnC,iBACE,EAAuCuK,MAAK,SAAC+F,GAAD,OAAgBA,EAAMtQ,KAAOvB,EAAKuB,aADhF,aACE,EAAmFoB,aADrF,QAEE,OACF,CAAC3C,EAAKuB,GAAIuiB,IAGN9e,EAAO0nB,mBACX,kBAAM1f,EAAckb,kBAAkBjiB,EAAcjG,EAAKuB,MACzD,CAACyL,EAAehN,EAAKuB,GAAI0E,IAG3B4lB,qBAAU,WACR,IAMMhC,EAAO,CACX5jB,eACA8R,SAAU,CAAC/X,EAAKuB,IAChBuoB,qBAJ2B,GAMvBX,EAAaG,EAAMD,yBAAyBQ,GAXhC,SAAC,GAAuC,IAArC/F,EAAoC,EAApCA,QAEnB,OADA6a,EAAW7a,GACJ3a,QAAQyQ,aAWjB,OAAO,WACDuP,GACFG,EAAMF,6BAA6BD,MAGtC,CAACnpB,EAAKuB,GAAI0E,EAAcqjB,EAAO4V,IAoClC,OACE,gCACE,sBAAK99B,UAAU,eAAf,UACE,mCACE,iCACG6V,EAAKG,SAAS,sBADjB,QAC+CpX,EAAKsF,QAEpD,sCAAON,QAAP,IAAOA,IAAQhF,EAAKgF,UAErB8e,EACC,qBAAK1iB,UAAU,mBAAf,SACE,cAACm9B,GAAD,CACEj5B,KAAI,UAAEtF,EAAKsF,YAAP,QAAe,UACnB3C,MAAK,OAAEi8B,QAAF,IAAEA,IAAiBj8B,EACxBilB,SApBc,SAACjlB,GACzBo8B,EAAU,IACVE,GAAsB,GACtBJ,EAAiBl8B,QAqBX,qBAAKsL,MAAO,CAAEsxB,UAAW,SAAU/S,QAAS,UAA5C,SACE,cAACgT,GAAA,EAAD,MAGJ,sBAAKp+B,UAAU,UAAf,UACE,eAAC28B,GAAA,EAAD,CAAQC,QAAQ,YAAY38B,MAAM,UAAUC,QAASo9B,EAArD,UACE,cAAC,GAAD,CAAW/F,KAAK,OAAOv3B,UAAU,eAChC6V,EAAKG,SAAS,+BAEjB,cAAC2mB,GAAA,EAAD,CACErC,UAAW5X,GAA6B,OAAlB8a,GAA0Bj8B,IAAUi8B,EAC1DZ,QAAQ,YACR38B,MAAM,UACNC,QAjEQ,WAChB+9B,GAAwB,GACxB,IAAMj7B,EAAUC,IAASC,KAAKm7B,gBAAgBj7B,OAAO,CACnDk7B,UAAW,CACT,CACE92B,KAAM,CACJtD,KAAM0zB,GAAQ2G,QACdC,OAAQtG,OAAOsF,IAEjB55B,KAAI,OAAEA,QAAF,IAAEA,IAAQhF,EAAKgF,SAIzBskB,EAAMplB,SACHE,QAAQA,GACRyW,MAAK,SAAC5T,GACL,IAAM63B,EAAS73B,EAAI44B,UAAU/6B,KAAI,SAACuV,GAAD,uBAAYA,EAAEylB,aAAd,aAAY,EAASC,WACtDhB,EAAUD,GAELA,EAAOx7B,SACV27B,GAAsB,GACtBJ,GAAiB,SAACl8B,GAAD,OAAiC22B,OAAO32B,MACzDw8B,GAAe,SAACa,GAAD,OAAWA,EAAQ,SAGrCC,SAAQ,kBAAMZ,GAAwB,OAoCnC,SAMGpoB,EAAKG,SAAS,+BAGlB0nB,EAAOx7B,OAAS,GACf,qBAAKlC,UAAU,SAAf,SACG09B,EAAOh6B,KAAI,SAACG,EAAOoN,GAAR,OACV,8BAAkBpN,GAARoN,QAIf+sB,GAAwB,cAACI,GAAA,EAAD,IACxBR,GACC,qBAAK59B,UAAU,UAAf,SACE,8BAAM6V,EAAKG,SAAS,wCAI1B,cAAC6R,EAAA,EAAD,CACEC,cAAY,EACZV,QAAS,CACP,CACEjnB,GAAI,EACJmN,OAAQ,yBACRkI,eAAc,OAAE8nB,QAAF,IAAEA,IAAW,aAC3BhoB,QAASwpB,KACT56B,KAAMmjB,cC1LH0X,I,OAtBOtJ,gBAAK,YAA2C,IAAxC5wB,EAAuC,EAAvCA,aAC5B,EAAwCulB,mBAAgC,MAAxE,oBAAO4U,EAAP,KAAqBC,EAArB,KACA,EAAwC7U,mBAAgB,CAAC,aAAzD,oBAAOsL,EAAP,KAAqBC,EAArB,KAEA,OACE,qBAAK31B,UAAU,aAAf,SACGg/B,EACC,cAAC3B,GAAD,CACEx4B,aAAcA,EACdjG,KAAMogC,EACN1B,OAAQ,kBAAM2B,EAAgB,SAGhC,cAACzJ,GAAD,CACQE,eAAcC,kBAAiB9wB,eACrC+wB,SAAUqJ,U,UC1BL,OAA0B,qC,6BCA1B,OAA0B,iC,mDCQnCC,GAAqBC,cAAkB,qBAAG/6B,YAC1Cg7B,GAAmBC,cAAgB,qBAAGj7B,YACtCk7B,GAAkBC,cAAe,qBAAGn7B,YAEpCo7B,GAAM,SAAC,GAAkD,IAAhDl+B,EAA+C,EAA/CA,IAAK2P,EAA0C,EAA1CA,MAAO7M,EAAmC,EAAnCA,SAAUq7B,EAAyB,EAAzBA,UAAcC,EAAW,mBAC5D,OAAKD,EAKH,cAACL,GAAD,CAA4BnuB,MAAOA,EAAnC,SACE,gDAASyuB,GAAT,cACE,cAACJ,GAAD,UACE,qBAAKt/B,UAAU,yBAAf,SACE,qBAAKgN,IAAK2yB,GAAUxlB,IAAI,aAG3B/V,OAPkB9C,GAJhB,+CAASo+B,GAAT,aAAgBt7B,MAiBrBw7B,G,4MACJzyB,MAAQ,CACNvO,KAAM,EAAKe,MAAMf,M,EAGnBihC,MAAQtyB,IAAMuyB,Y,EASdC,aAAe,WACb,OAAO,EAAKF,MAAM3G,QAAQ8G,aAAaC,cAAc,qB,EAGvDC,mBAAqB,WACnB,OAAO,EAAKL,MAAM3G,QAAQ8G,aAAaC,cAAc,sB,EAGvDE,SAAW,SAACC,GACV,IAAMC,EAAaC,aAAa,EAAK3gC,MAAMwgC,UAC3C,OAAO,2BACFE,GADL,IAEEZ,UAAW,EAAK9/B,MAAM8/B,UACtBc,QAASf,GACTvuB,MAAOmvB,EAAKjU,Y,EAIhBqU,cAAgB,YAA6B,IAA1BC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC3B,EAAK/gC,MAAMghC,iBAAiBF,EAAUC,GACtC,IAAM9hC,EAAI,YAAO,EAAKuO,MAAMvO,MAC5B,EAAkBA,EAAK6mB,OAAOgb,EAAU,GAAjCG,EAAP,qBACAhiC,EAAK6mB,OAAOib,EAAU,EAAGE,GACzB,EAAKlb,SAAS,CAAE9mB,U,wDA9BlB,SAAmB4wB,GACjB,GAAIA,EAAU5wB,OAASc,KAAKC,MAAMf,KAAM,CACtC,IAAMA,EAAI,YAAOc,KAAKC,MAAMf,MAC5Bc,KAAKgmB,SAAS,CAAE9mB,Y,oBA8BpB,WACE,OAAKc,KAAKC,MAAM8/B,UAOd,cAACP,GAAD,CACE2B,eAAa,EACbd,aAAcrgC,KAAKqgC,aACnBe,gBAAiBphC,KAAKwgC,mBACtBa,UAAWrhC,KAAK8gC,cAJlB,SAME,cAAC,KAAD,2BACM9gC,KAAKC,OADX,IAEEgoB,IAAKjoB,KAAKmgC,MACVjhC,KAAMc,KAAKyN,MAAMvO,KACjBuhC,SAAUzgC,KAAKygC,SACfngC,UAAU,iBAhBZ,cAAC,KAAD,2BAAWN,KAAKC,OAAhB,IAAuBgoB,IAAKjoB,KAAKmgC,MAAOjhC,KAAMc,KAAKyN,MAAMvO,KAAMuhC,SAAUzgC,KAAKygC,gB,GA3CzD5yB,IAAMyzB,eAkEnCpB,GAAe3yB,aAAe,CAC5BwyB,WAAW,GAGEG,U,kBCpBAqB,I,OAAAA,cAzEK,SAAC,GAA4C,IAA1CphC,EAAyC,EAAzCA,KAAMD,EAAmC,EAAnCA,QAASshC,EAA0B,EAA1BA,cAAerrB,EAAW,EAAXA,KAC9CqrB,EAAcC,QACjBD,EAAcC,MAAQ,IAGxB,IAAMC,EAAWnI,iBAAO,eAAKiI,EAAcC,QAC3C,EAA0B/W,mBAAS8W,GAAiB,IAApD,oBAAOC,EAAP,KAAcE,EAAd,KAEIF,EAAMhhC,KAAO+gC,EAAc/gC,IAC7BkhC,EAASH,GAyBX,OACE,cAACI,GAAA,EAAD,CACEC,UAAQ,EACRC,SAAO,EACP1hC,MAAO+V,EAAKG,SAAS,8BACrBpW,QAAS,WACPuhC,EAAMA,MAAQC,EAASlI,QACvBt5B,EAAQuhC,IAEVthC,KAAMA,EARR,SAUE,sBAAKG,UAAU,uBAAf,UACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,UACE,cAAC,KAAD,CAAkBG,GAAG,oCADvB,OAGA,qBAAKH,UAAU,YAAf,SACE,cAAC24B,GAAA,EAAD,CAAWx4B,GAAG,kBAAkBy4B,WAAS,EAACr3B,MAAO2/B,EAAct9B,KAAM02B,UAAQ,SAGjF,sBAAKt6B,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,UACE,cAAC,KAAD,CAAkBG,GAAG,+BADvB,OAGA,qBAAKH,UAAU,YAAf,SACE,cAAC24B,GAAA,EAAD,CAAWx4B,GAAG,aAAay4B,WAAS,EAAC0B,UAAQ,EAAC/4B,MAAO2/B,EAAc3/B,aA/C/C,WAC5B,IAAM8P,EAAS,GAkBf,OAjBCowB,MAAa,IAAI54B,SAAQ,SAAC64B,GACzBrwB,EAAO/K,KACL,sBAAKtG,UAAU,MAAf,UACE,sBAAKA,UAAU,QAAf,mBAA8B0hC,EAAS99B,KAAvC,OACA,qBAAK5D,UAAU,YAAf,SACE,cAAC24B,GAAA,EAAD,CACEx4B,GAAE,oBAAeuhC,EAAS/0B,QAC1BisB,WAAS,EACT+I,aAAcT,EAAcC,OAASD,EAAcC,MAAMO,EAAS/0B,QAClE6Z,SAAU,SAACvN,GACTkoB,EAAMA,MAAMO,EAAS/0B,QAAUsM,EAAEkS,OAAO5pB,aARhD,gBAAmCmgC,EAAS/0B,QAA5C,OAAqDu0B,EAAc/gC,SAehEkR,EA+BFuwB,GACD,qBAAK5hC,UAAU,UAAf,SACE,cAAC28B,GAAA,EAAD,CAAQC,QAAQ,YAAY38B,MAAM,UAAUC,QAAS,kBAAMN,EAAQuhC,GAAO,IAA1E,SACE,cAAC,KAAD,CAAkBhhC,GAAG,6CC1C3B0hC,I,yDACJ,WAAYliC,GAAQ,IAAD,8BACjB,cAAMA,IAwERmiC,yBAA2B,SAACC,GAC1B,EAAKpiC,MAAMqiC,0BAA0BD,GACrC,EAAKpiC,MAAMinB,aAAY,GACvB,EAAKlB,SAAS,CAAEuc,YAAaF,KA5EZ,EA+EnBG,aAAe,SAACC,EAAQC,GACtB,IAAQC,EAAc,EAAK1iC,MAAnB0iC,UACR,EAAkBA,EAAU5c,OAAO0c,EAAQ,GAApCvB,EAAP,qBACAyB,EAAU5c,OAAO2c,EAAO,EAAGxB,GAC3B,EAAKjhC,MAAMgnB,YAAY,YAAa0b,GACpC,EAAK1iC,MAAMinB,aAAY,IApFN,EAuFnB0b,oBAAsB,WACpB,MAAmD,EAAK3iC,MAAhDiM,EAAR,EAAQA,cAAe/G,EAAvB,EAAuBA,aAAcw9B,EAArC,EAAqCA,UAErC,GAAKz2B,GAAkB/G,EAAvB,CAIA,IAAM09B,EAAQ32B,EAAcnF,oCAAoC5B,GAChE,IAAK09B,EACH,OAAO,qBAAK11B,MAAO,CAAEC,MAAO,OAAQuZ,SAAU,OAAQtZ,OAAQ,UAGhE,IAAIjH,EAAOy8B,EAAMz8B,KACjBA,EAAO8F,EAAc1C,0BAA0BpD,GAE/C,IAAM08B,EAAe,GACf5+B,EAAOgI,EAAc62B,kBAAkB59B,GAM7C,OAJA29B,EAAal8B,KAAb,sBAAiC1C,IACjC4+B,EAAal8B,KAAb,qBAAgC1C,IAChC4+B,EAAal8B,KAAK1C,GAGhB,qBAAKiJ,MAAO,CAAEC,MAAO,OAAQuZ,SAAU,OAAQtZ,OAAQ,QAAvD,SACE,cAACuZ,EAAA,EAAD,CACE1nB,KAAMkH,EACN0gB,SAAU,SAACkc,GACT,EAAK/iC,MAAMgnB,YAAY,YAAa+b,GACpC,EAAK/iC,MAAMinB,aAAY,IAEzBuP,SAAU,SAACT,GAAD,OAAkB,EAAKhQ,SAAS,CAAEgQ,kBAC5C2M,UAAWA,EACX3M,aAAc,EAAKvoB,MAAMuoB,aACzB8M,aAAcA,QAxHH,EA8HnBG,WAAa,WACX,MAAwC,EAAKhjC,MAArCkW,EAAR,EAAQA,KAAMlJ,EAAd,EAAcA,OAAQiF,EAAtB,EAAsBA,cACdqwB,EAAgB,EAAK90B,MAArB80B,YACFrjC,EAAO,EAAKgkC,cACZ/X,EAAU,CACd,CACEvpB,IAAK2gC,EAAc,aAAe,OAClCnW,QAAS,OACThsB,MAAOmiC,EAAc,aAAe,OACpCn1B,MAAO,EACPif,SAAU,GAEZ,CACEzqB,IAAK,SACLwqB,QAAS,QACThsB,MAAO,SACPgN,MAAO,EACPif,SAAU,IAIVtZ,YAAgBb,IAClBiZ,EAAQvkB,KAAK,CACXhF,IAAK,GACLwqB,QAAS,YACThsB,MAAO,GACPgN,MAAO,KAIX,IAAM+1B,EAAYjkC,EAAK8E,KAAI,SAACo/B,GAE1B,OADAA,EAAIl/B,KAAOq+B,GAAea,EAAI3B,OAAS2B,EAAI3B,MAAMx0B,IAAuBm2B,EAAIl/B,KACrE,2BACFk/B,GADL,IAEEC,UACE,cAACvnB,GAAA,EAAD,CACEzF,QAASF,EAAKG,SAAS,8BACvB9V,QAAS,kBAAM,EAAKwlB,SAAS,CAAEwb,cAAe4B,EAAKE,mBAAmB,KACtE1tB,QAAS0gB,MACL,kBAMZ,OACE,sBAAKnpB,MAAO,CAAEE,OAAQ,QAAtB,UACE,cAAC,KAAD,UACG,gBAAGD,EAAH,EAAGA,MAAOC,EAAV,EAAUA,OAAV,OACC,cAAC,GAAD,CACE8d,QAASA,EACTjsB,KAAMikC,EACN/1B,MAAOA,EACPC,OAAQA,EACRif,aAAc,GACdC,UAAW,GACX0U,iBAAkB,SAACwB,EAAQC,GAAT,OAAmB,EAAKF,aAAaC,EAAQC,SAIpE,EAAKa,wBA1LO,EA+LnBA,kBAAoB,WAClB,MAAyD,EAAK91B,MAAtD+zB,EAAR,EAAQA,cAAegC,EAAvB,EAAuBA,WAAYF,EAAnC,EAAmCA,kBAC7BG,GAAsBD,GAAc,IAAIx4B,MAAK,SAACnJ,GAAD,OAAWA,EAAMpB,KAAO+gC,EAAc/gC,MAEzF,GAAKgjC,GAAuBH,EAI5B,OACE,cAAC,GAAD,CACEpjC,QAAS,SAACuhC,GAAD,IAAQiC,EAAR,+DAA4B,EAAKC,iBAAiBlC,EAAOiC,IAClEvjC,KAAM,EAAKsN,MAAM61B,kBACjB9B,cAAeiC,KA3MF,EAgNnBP,YAAc,WACZ,IAAQU,EAAY,EAAK3jC,MAAjB2jC,QACF1kC,EAAO,EAAKuO,MAAM+1B,WAqBxB,OAnBII,IACD1kC,GAAQ,IAAI8E,KAAI,SAAC+M,GAChB,GAAI6yB,EAAQzxB,IAAIpB,EAAMtQ,IAAK,CACzB,IAAMghC,EAAQmC,EAAQ14B,IAAI6F,EAAMtQ,IAChC,IAAKghC,EAEH,OADA5hC,IAAOsE,MAAP,4CAAkD4M,EAAMtQ,KACjDsQ,EAGT,IAAK0wB,EAAMA,MAET,OADA5hC,IAAOC,KAAP,6CAAkD2hC,EAAMoC,WAAxD,MACO9yB,EAGTA,EAAM0wB,MAAQA,EAAMA,MAEtB,OAAO1wB,KAGJ7R,GAvOU,EA0OnBykC,iBAAmB,SAAClC,EAAOiC,GACzB,GAAIjC,EAAO,CACT,IAAQmC,EAAY,EAAK3jC,MAAjB2jC,QAERz5B,OAAOC,KAAKq3B,EAAMA,OAAOt4B,SAAQ,SAAC64B,GACF,KAA1BP,EAAMA,MAAMO,WACPP,EAAMA,MAAMO,MAIvB,IAAM8B,EAA8C,IAApC35B,OAAOC,KAAKq3B,EAAMA,OAAOj/B,OACzC,GAAIohC,EAAQzxB,IAAIsvB,EAAMhhC,IAAK,CACzB,IAAMsjC,EAAWH,EAAQ14B,IAAIu2B,EAAMhhC,IACnCsjC,EAAStC,MAAQA,EAAMA,MAEnBqC,EACFF,EAAQI,OAAOvC,EAAMhhC,IAErBmjC,EAAQl9B,IAAI+6B,EAAMhhC,GAAIsjC,QAGnBD,GACHF,EAAQl9B,IAAI+6B,EAAMhhC,GAAI,CAAEqI,SAAU24B,EAAMhhC,GAAIojC,WAAYpC,EAAMv9B,KAAMu9B,MAAOA,EAAMA,QAKvF,EAAKzb,SAAS,CAAEsd,mBAAmB,IAC/BI,GACF,EAAKzjC,MAAMinB,aAAY,IArQzB,EAAKzZ,MAAQ,CACX+1B,WAAY,GACZxN,aAAc,GACdsN,mBAAmB,EACnB9B,cAAe,GACfe,aAAa,GAPE,E,4FAWnB,oCAAAl/B,EAAA,yDACErD,KAAKsoB,gCACAtoB,KAAKC,MAAMgkC,iBAAmBjkC,KAAKC,MAAM0iC,UAAUngC,OAAS,GAC/DxC,KAAKuoB,2BAGHvoB,KAAKC,MAAMikC,mBACblkC,KAAKgmB,SAAS,CAAEuc,aAAa,IAPjC,EAUmCviC,KAAKC,MAA9BiM,EAVV,EAUUA,cAAesc,EAVzB,EAUyBA,MAC0B,KAAhC,OAAbtc,QAAa,IAAbA,GAAA,UAAAA,EAAepC,2BAAf,eAAoC1H,MAX1C,gCAYU8J,EAAci4B,uBAAuB3b,EAAMplB,UAZrD,UAc8C,KAA3B,OAAb8I,QAAa,IAAbA,GAAA,UAAAA,EAAerC,sBAAf,eAA+BzH,MAdrC,kCAeU8J,EAAcwc,kBAAkBF,EAAMplB,UAfhD,QAiBEolB,EAAMG,6BAA6Bzc,GAjBrC,iD,sFAoBA,SAAmB0c,GACjB5oB,KAAKsoB,gCACAM,EAAUqb,iBAAmBrb,EAAU+Z,UAAUngC,OAAS,GAC7DxC,KAAKuoB,6B,kCAIT,WACEvoB,KAAKsoB,iC,sCAGP,WACE,IAAKtoB,KAAKqoB,WAAY,CACpB,MAAoCroB,KAAKC,MAEnC8oB,EAAO,CAAE5jB,aAFf,EAAQA,aAEqB8R,SAF7B,EAAsB0rB,UAE4B3Z,qBADrB,GAE7BhpB,KAAKqoB,WAAaroB,KAAKC,MAAMuoB,MAAMD,yBAAyBQ,EAAM/oB,KAAKslB,UAAU8e,KAAKpkC,U,0CAI1F,WACMA,KAAKqoB,aACProB,KAAKC,MAAMuoB,MAAMF,6BAA6BtoB,KAAKqoB,YACnDroB,KAAKqoB,WAAa,Q,uBAItB,YAAwB,IAAZrF,EAAW,EAAXA,QACJwgB,EAAaxjC,KAAKqkC,iBAAiBrhB,GAEzC,OADAhjB,KAAKgmB,SAAS,CAAEwd,eACTn7B,QAAQyQ,Y,8BAGjB,SAAiBkK,GACf,MAAmDhjB,KAAKC,MAAhDiM,EAAR,EAAQA,cAAe/G,EAAvB,EAAuBA,aAAcw9B,EAArC,EAAqCA,UAErC,OADe3f,EAAQwb,kBAAkBmE,GAC3B3+B,KAAI,SAAC+M,GAAD,mBAAC,eACdA,GADa,IAEhB7M,KAAMgI,EAAckb,kBAAkBjiB,EAAc4L,EAAMtQ,KAAO,U,oBAsMrE,WACE,MAAwDT,KAAKC,MAArD+zB,EAAR,EAAQA,YAAaiQ,EAArB,EAAqBA,gBAAiB/xB,EAAtC,EAAsCA,cAChCuV,EAAU1U,YAAgBb,GAEhC,OAAIY,YAAgBZ,IAAkBuV,EAElC,sBAAKnnB,UAAU,oBAAf,UACG2jC,GAAmBxc,EAAUznB,KAAK4iC,sBAAwB5iC,KAAKijC,aAChE,cAAC9a,EAAA,EAAD,CAAWC,cAAY,EAACV,QAASsM,EAAYh0B,WAK5C,4B,GAzRYU,cA6RvByhC,GAAS50B,aAAe,CACtBymB,YAAa,SAACsQ,GA4BZ,MA3BgB,CACd,CACE12B,OAAQ,gBACRgI,QAASwpB,KACTtpB,eAAgB,WACdwuB,EAASrkC,MAAMgnB,YAAY,mBAAoBqd,EAASrkC,MAAMgkC,iBAC9DK,EAASrkC,MAAMinB,aAAY,IAE7BrR,QAAS9C,YAAgBuxB,EAASrkC,MAAMiS,gBAE1C,CACE1N,KAAMmjB,IACNlnB,GAAI6jC,EAASrkC,MAAMkF,aACnByI,OAAQ,iCACRgI,QAAS2uB,KACTzuB,eAAgB,WACdwuB,EAASlC,0BAAyB,IAEpCrsB,kBAAmB,iCACnBC,mBAAoBwuB,GACpBvuB,0BAA2B,WACzBquB,EAASlC,0BAAyB,IAEpClsB,gBAAiBouB,EAASrkC,MAAMikC,qBAMtCtnB,iBAAajU,EACb6f,WAAO7f,EACPs7B,iBAAiB,EACjBlgC,YAAa,GACb4+B,UAAW,IAYb,IAAMnZ,GAAY,CAChBmZ,UAAW,GACXsB,iBAAiB,GAGbxa,GAAkB,GAkCT8X,gBAAW/zB,aApBF,SAACC,EAAOkc,GAC9B,IAAQxkB,EAAqBwkB,EAArBxkB,aACFykB,EADuBD,EAAPlpB,GAEtB,IAAK,IAAD,IACF,MAAO,CACL+nB,MAAO/a,EAAMC,IAAI8a,MACjBtc,cAAeuB,EAAMC,IAAIxB,cACzB0Q,YAAanP,EAAMC,IAAIkP,YACvB+lB,UAAWl1B,EAAM1J,YAAYoB,GAAc2kB,MAAMF,GAAQ+Y,UACzDsB,gBAAiBx2B,EAAM1J,YAAYoB,GAAc2kB,MAAMF,GAAQqa,gBAC/DL,QAAO,UAAEn2B,EAAM1J,YAAYoB,GAAc0kB,mBAAlC,aAAE,EAA6C4a,gBACtDP,kBAAiB,UAAEz2B,EAAM1J,YAAYoB,GAAc0kB,mBAAlC,aAAE,EAA6Cqa,kBAChEj3B,OAAQQ,EAAMC,IAAIT,OAClBiF,cAAezE,EAAMC,IAAIwE,eAE3B,MAAO/N,GACP,MAAO,OA5BgB,SAAC8e,EAAU0G,GACpC,IAAQxkB,EAAqBwkB,EAArBxkB,aACFykB,EADuBD,EAAPlpB,GAGtB,OADAwiB,EAAS8G,YAAc5kB,EAAcykB,EAAQJ,GAAWC,KACjD,CACLxC,YAAa,SAACrlB,EAAK1C,GAAN,OAAe+jB,EAASgE,aAAY9hB,EAAcykB,EAAQhoB,EAAK1C,KAC5EonB,mBAAoB,SAAC1kB,EAAK1C,GAAN,OAAe+jB,EAASqD,aAAmBnhB,EAAcvD,EAAK1C,KAClFojC,0BAA2B,SAACoC,GAAD,OAAUzhB,EAASqf,aAA0Bn9B,EAAcu/B,KACtFxd,YAAa,SAAC8C,GAAD,OAAgB/G,EAASiE,aAAY8C,QAwB5Bxc,CAA6C20B,KClZxD,OAA0B,2C,qECYnCzH,GAAYC,cAAW,iBAAO,CAClCgK,OAAQ,CACNvnB,SAAU,SACVyd,WAAY,OACZ+J,aAAc,IAEhBC,MAAO,CACLx3B,OAAQ,GACR+P,SAAU,UAEZiG,MAAO,CACLjG,SAAU,SACVqd,UAAW,sCAITqK,GAAQC,aAAY,CACxBC,WAAY,CAGVC,iBAAiB,EACjBC,aAAc,MAaLC,GAAsB,SAAC,GAMH,IAAD,IAL9BhgC,EAK8B,EAL9BA,aACAigC,EAI8B,EAJ9BA,eACA5S,EAG8B,EAH9BA,gBACA1L,EAE8B,EAF9BA,SACAue,EAC8B,EAD9BA,cAEM7c,EAAQ2N,aAAiB,SAAC1oB,GAAD,uBAAWA,EAAMC,WAAjB,aAAW,EAAW8a,SAC/Ctc,EAAgBiqB,aAAiB,SAAC1oB,GAAD,uBAAWA,EAAMC,WAAjB,aAAW,EAAWxB,iBACvDgG,EAAgBikB,aAAiB,SAAC1oB,GAAD,uBAAWA,EAAMC,WAAjB,aAAW,EAAWwE,iBACvD+Q,EAAWqiB,cAEXvK,EAAUL,KAEhB3P,qBAAU,WACkC,IAAtC7e,EAAcrC,eAAezH,MAC/B8J,EAAcwc,kBAAkBF,EAAMplB,UAAU2W,MAAK,WACnDyO,EAAMG,6BAA6Bzc,QAGtC,CAACA,EAAesc,IAEnB,IAAMrC,EAAU,iBAAGqM,QAAH,IAAGA,OAAH,EAAGA,EAAiBplB,aAApB,QAA6B,EACvCigB,EAAW,iBAAGmF,QAAH,IAAGA,OAAH,EAAGA,EAAiBnlB,cAApB,QAA8B,EAEzCk4B,EAAW3hB,OAAqB,GAAbuC,GACnBqf,EAAW5hB,OAAoB,EAAbuC,GAElBsf,EAAY7hB,OAAsB,GAAdyJ,GACpBqY,EAAY9hB,OAAqB,EAAdyJ,GAEnB5F,EAAUlU,YAAqBrB,GAE/ByzB,EAAe,SAACC,GACpB3iB,EAASiE,cAAY,IACrBJ,EAAS8e,IASLC,EAAkB,SAAC,GAA8C,IAA5C3hC,EAA2C,EAA3CA,KAAMzD,EAAqC,EAArCA,GAAIm6B,EAAiC,EAAjCA,SACnC,OACE,cAAC3B,GAAA,EAAD,CACE5V,MAAOnf,EACPiJ,MAAO,CAAEC,MAAO,QAChB3M,GAAIA,EACJ+D,KAAK,OACL04B,QAAQ,WACRtC,SAAUA,IAAawK,EACvBU,WAAY,CAAE/K,QAAS,CAAE8J,MAAO9J,EAAQ8J,QACxCkB,gBAAiB,CAAEhL,QAAS,CAAEiL,KAAMjL,EAAQ1X,QAC5CxhB,MAAQujC,GAAkBA,EAAe3kC,IAAQ,GACjDqmB,SAAU,SAACvN,GAAD,OAAOosB,EAAa,eAAGllC,EAAK8Y,EAAEkS,OAAO5pB,YAK/CokC,EAAoB,SAAC,GAM6B,IALtD/hC,EAKqD,EALrDA,KACAzD,EAIqD,EAJrDA,GACAqxB,EAGqD,EAHrDA,IACAjQ,EAEqD,EAFrDA,IACA+Y,EACqD,EADrDA,SAEM/4B,EAASujC,GAAkBA,EAAe3kC,IAAQ,GAYxD,OACE,cAACw4B,GAAA,EAAD,CACE5V,MAAOnf,EACPiJ,MAAO,CAAEC,MAAO,QAChB3M,GAAIA,EACJ+D,KAAK,SACL04B,QAAQ,WACRtC,SAAUA,IAAawK,EACvBU,WAAY,CACV/K,QAAS,CAAE8J,MAAO9J,EAAQ8J,OAC1BqB,WAAY,CAAEpU,MAAKjQ,QAErBkkB,gBAAiB,CAAEhL,QAAS,CAAEiL,KAAMjL,EAAQ1X,QAC5CxhB,MAAOA,EACPilB,SAAU,SAACvN,GAAD,OAAOosB,EAAa,eAAGllC,EAzBhB,SAACqxB,EAAajQ,EAAahgB,GAC9C,IAAIskC,EAAcviB,OAAO/hB,GAQzB,OAPIskC,EAActkB,IAChBskB,EAActkB,GAEZskB,EAAcrU,IAChBqU,EAAcrU,GAGTqU,EAgBiCC,CAAatU,EAAKjQ,EAAKtI,EAAEkS,OAAO5pB,aAuBtE6kB,EAAuB,SAAC,GAA8C,IAA5CxiB,EAA2C,EAA3CA,KAAMzD,EAAqC,EAArCA,GAAIm6B,EAAiC,EAAjCA,SAClC/4B,EACHujC,GACCA,EAAe3kC,IACfyL,EAAckb,kBAAkBjiB,EAAcigC,EAAe3kC,KAC/D,GAEF,OACE,cAACw4B,GAAA,EAAD,CACE5V,MAAOnf,EACPiJ,MAAO,CAAEC,MAAO,QAChB3M,GAAIA,EACJ+D,KAAK,OACL04B,QAAQ,WACRtC,SAAUA,IAAawK,EACvBU,WAAY,CACV/K,QAAS,CAAE8J,MAAO9J,EAAQ8J,OAC1BwB,aACE,cAACC,GAAA,EAAD,CAAgBpU,SAAS,MAAzB,SACE,cAAC,KAAD,CACEqU,KAAK,MACL,aAAW,QACX/lC,QAAS,kBAAMmlC,EAAa,eAAGllC,EAAK,MACpCL,MAAOK,EAJT,SAME,qBAAK6M,IAAKk5B,KAAW/rB,IAAI,WAKjCsrB,gBAAiB,CAAEhL,QAAS,CAAEiL,KAAMjL,EAAQ1X,QAC5CxhB,MAAOA,EACP4kC,QAAS,kBAAMpB,EAAcnhC,EAAMzD,OAKzC,OACE,qBAAKH,UAAU,6CAAf,SACE,eAAC,KAAD,CAAkBwkC,MAAOA,GAAzB,UACE,uBAAOxkC,UAAWy6B,EAAQ4J,OAA1B,gCACCkB,EAAgB,CAAE3hC,KAAM,QAASzD,GAAI,QAASm6B,UAAWnT,IAEzDwe,EAAkB,CACjB/hC,KAAM,IACNzD,GAAI,IACJqxB,IAAKyT,EACL1jB,IAAK2jB,EACL5K,UAAWnT,IAEZf,EAAqB,CAAExiB,KAAM,aAAczD,GAAI,YAAam6B,UAAWnT,IAEvEwe,EAAkB,CACjB/hC,KAAM,cACNzD,GAAI,aACJqxB,IAAKyT,EACL1jB,IAAK2jB,EACL5K,UAAWnT,IAEZf,EAAqB,CACpBxiB,KAAM,uBACNzD,GAAI,qBACJm6B,UAAWnT,IAGZwe,EAAkB,CACjB/hC,KAAM,IACNzD,GAAI,IACJqxB,IAAK2T,EACL5jB,IAAK6jB,EACL9K,UAAWnT,IAEZf,EAAqB,CAAExiB,KAAM,aAAczD,GAAI,YAAam6B,UAAWnT,IAEvEwe,EAAkB,CACjB/hC,KAAM,aACNzD,GAAI,YACJqxB,IAAK2T,EACL5jB,IAAK6jB,EACL9K,UAAWnT,IAEZf,EAAqB,CACpBxiB,KAAM,sBACNzD,GAAI,oBACJm6B,UAAWnT,IAGZwe,EAAkB,CACjB/hC,KAAM,QACNzD,GAAI,QACJqxB,IAAKyT,EACL1jB,IAAK2jB,EACL5K,UAAWnT,IAEZf,EAAqB,CACpBxiB,KAAM,iBACNzD,GAAI,gBACJm6B,UAAWnT,IAGZwe,EAAkB,CACjB/hC,KAAM,SACNzD,GAAI,SACJqxB,IAAK2T,EACL5jB,IAAK6jB,EACL9K,UAAWnT,IAEZf,EAAqB,CACpBxiB,KAAM,kBACNzD,GAAI,iBACJm6B,UAAWnT,IAEZoe,EAAgB,CAAE3hC,KAAM,QAASzD,GAAI,QAASm6B,UAAWnT,IACzDf,EAAqB,CACpBxiB,KAAM,iBACNzD,GAAI,gBACJm6B,UAAWnT,IAtIK,SAAC,GAKwB,IAJ/CvjB,EAI8C,EAJ9CA,KACAzD,EAG8C,EAH9CA,GACA28B,EAE8C,EAF9CA,QACAxC,EAC8C,EAD9CA,SAEA,OACE,cAAC8L,GAAA,EAAD,CACEC,cAAevB,GAAkBA,EAAe3kC,GAChD6P,OAAQ8sB,EACRwJ,mBAAoBjB,EACpBzhC,KAAMA,EACNzD,GAAIA,EACJm6B,SAAUA,IAAawK,IA4HtByB,CAAgB,CACf3iC,KAAM,aACNzD,GAAI,YACJ28B,QAAS,CAAC,QAAS,SAAU,UAC7BxC,UAAWnT,UChRRqf,GAAoB,SAAC,GAKH,IAJ7B3hC,EAI4B,EAJ5BA,aACAhF,EAG4B,EAH5BA,KACAD,EAE4B,EAF5BA,QAE4B,IAD5BE,aAC4B,MADpB,GACoB,EACtBooB,EAAQ2N,aAAiB,SAAC1oB,GAAD,uBAAWA,EAAMC,WAAjB,aAAW,EAAW8a,SAC/Ctc,EAAgBiqB,aAAiB,SAAC1oB,GAAD,uBAAWA,EAAMC,WAAjB,aAAW,EAAWxB,iBAE7D,EAAwBwe,mBAAgC,MAAxD,oBAAOtkB,EAAP,KAAa2gC,EAAb,KACA,EAAwCrc,mBAAmB,IAA3D,oBAAOoY,EAAP,KAAqBkE,EAArB,KAiCA,OA/BAjc,qBAAU,WAAO,IAAD,EACkC,KAA5C,UAAA7e,EAAcpC,2BAAd,eAAmC1H,OACrC8J,EAAci4B,uBAAuB3b,EAAMplB,UAAU2W,MAAK,WACxDyO,EAAMG,6BAA6Bzc,QAGtC,CAACA,EAAesc,IAEnBuC,qBAAU,WACR,IAAM8X,EAAQ32B,EAAcnF,oCAAoC5B,GAChE,GAAK09B,EAAL,CAIA,IAAIz8B,EAAuBy8B,EAAMz8B,KACjCA,EAAO8F,EAAc1C,0BAA0BpD,GAE/C2gC,EAAQ3gC,GAER4gC,GAAgB,WACd,IAAMlE,EAAyB,GACzB5+B,EAAOgI,EAAc62B,kBAAkB59B,GAM7C,OAJA29B,EAAal8B,KAAb,sBAAiC1C,IACjC4+B,EAAal8B,KAAb,qBAAgC1C,IAChC4+B,EAAal8B,KAAK1C,GAEX4+B,QAER,CAAC52B,EAAe/G,IAEd+G,GAAkB/G,GAAiBiB,EAKtC,cAACw7B,GAAA,EAAD,CAAQC,UAAQ,EAACC,SAAO,EAAC1hC,MAAOA,EAAOF,QAASA,EAASC,KAAMA,EAA/D,SACE,qBAAKG,UAAU,mCAAf,SACE,cAACsmB,EAAA,EAAD,CACEC,cAAY,EACZ3nB,KAAMkH,EACN0gB,SAAU,SAACgN,GAAD,cAAgB5zB,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAU4zB,IACpCgP,aAAcA,QAVb,MCrCEmE,I,OAAU,SAAC,GAAgD,IAA1Crd,EAAyC,EAA7CnpB,GAAY0E,EAAiC,EAAjCA,aAC9B+M,EAAgBikB,aAAiB,SAAC1oB,GAAD,uBAAWA,EAAMC,WAAjB,aAAW,EAAWwE,iBACvDnO,EAAcoyB,aAAiB,SAAC1oB,GAAD,OAAWA,EAAM1J,eAChDkf,EAAWqiB,cAEjB,EAA4C5a,wBAAoC/hB,GAAhF,oBAAOy8B,EAAP,KAAuB8B,EAAvB,KACA,EAAwDxc,oBAAS,GAAjE,oBAAOyc,EAAP,KAA6BC,EAA7B,KACA,EAAwC1c,mBAAS,aAAjD,oBAAO2c,EAAP,KAAqBC,EAArB,KACA,EAAoC5c,mBAAmC,IAAvE,oBAAO6c,EAAP,KAAmBC,EAAnB,KACA,EAAkD9c,mBAAsC,IAAxF,oBAAO+c,EAAP,KAA0BC,EAA1B,KAEA3c,qBAAU,WACR9H,EAAS8G,YAAc5kB,EAAcykB,EAAQ,GAAI,OAChD,CAAC3G,EAAU9d,EAAcykB,IAE5B,MAAmDgC,mBAAQ,WAAO,IAAD,cACzD+b,EAAa,UAAG5jC,EAAYoB,UAAf,iBAAG,EAA2B0kB,mBAA9B,aAAG,EAAwC8d,cAM9D,MAAO,CAACA,EALuB,UAC7B5jC,EAAYoB,UADiB,iBAC7B,EAA2B0kB,mBADE,iBAC7B,EAAwCC,MAAM6d,UADjB,aAC7B,EAA8DtvB,SACR,UACtDtU,EAAYoB,UAD0C,iBACtD,EAA2B2kB,MAAM6d,UADqB,aACtD,EAAiDnV,mBAGlD,CAACrtB,EAAcpB,IARlB,oBAAO4jC,EAAP,KAAsBtvB,EAAtB,KAAgCma,EAAhC,KAUAzH,qBAAU,WACR,GAAI1S,GAAY+sB,EAAgB,CAC9B,IAAM1rB,EAAUrB,EAASrN,MAAK,SAAClD,GAAD,OAAUA,EAAKrH,KAAO2kC,EAAe3kC,MAC/DiZ,GAAWA,IAAY0rB,GACzB8B,EAAkBxtB,IAIjB0rB,IAA0B,OAAR/sB,QAAQ,IAARA,OAAA,EAAAA,EAAU7V,QAAS,GACxC0kC,EAAkB7uB,EAAS,MAE5B,CAAC+sB,EAAgB/sB,EAAUsvB,IAE9B5c,qBAAU,WACRmc,EAAiB,OAAC7uB,QAAD,IAACA,OAAD,EAACA,EAAW,MAE5B,CAACsvB,IAEJ,IAAMnS,EAAiB5J,mBAAQ,WAC7B,IAmDMnE,EAAUlU,YAAqBrB,GAsBrC,MArBiC,CAC/B,CACEtE,OAAQ,4BACRgI,QAASgyB,KACT9xB,eAAgB,WACdmN,EAASiE,cAAY,IAzDL,WACpB,IAAM2gB,EAA4B,CAChCtnC,MAAO,UACP8M,OAAQ,IACR5M,GAAI6B,KAAKwlC,MAAsB,IAAhBxlC,KAAKylC,UACpB/c,UAAU,EACV3H,MAAO,UACP+N,UAAW,QACXhkB,MAAO,IACP8Q,EAAG,GACHG,EAAG,GACHsF,WAAY,KACZK,UAAW,MAEb,IACEf,EAASqD,aAAmBnhB,EAAc,WAAf,sBAA+BkT,GAA/B,CAAyCwvB,MACpEX,EAAkBW,GAClB,MAAOtuB,GACP1Z,IAAOsE,MAAMoV,aAAaU,MAAQV,EAAElZ,QAAUm4B,OAAOjf,KAwCnDyuB,IAEFnyB,QAAS4R,GAEX,CACE7Z,OAAQ,+BACRgI,QAASqyB,GACTnyB,eAAgB,WACdmN,EAASiE,cAAY,IA/BE,WAC3B,GAAKke,EAIL,IACE,IAAM5R,EAAkBnb,EAAS0T,QAAO,SAACrS,GAAD,OAAaA,EAAQjZ,KAAO2kC,EAAe3kC,MACnFwiB,EAASqD,aAAmBnhB,EAAc,WAAYquB,IAEtD,IAAM0U,EAtBmB,SAACznC,EAAY4X,GACxC,IAAK,IAAI1V,EAAI,EAAGA,EAAI0V,EAAS7V,OAAQG,IACnC,GAAI0V,EAAS1V,GAAT,KAAsBlC,EAAI,CAC5B,GAAI4X,EAAS1V,EAAI,GACf,OAAO0V,EAAS1V,EAAI,GAAb,GACF,GAAI0V,EAAS1V,EAAI,GACtB,OAAO0V,EAAS1V,EAAI,GAAb,GAIb,OAAQ,EAYoBwlC,CAAqB/C,EAAe3kC,GAAI4X,GAClE6uB,EAAkB7uB,EAAS0T,QAAO,SAACjkB,GAAD,OAAUA,EAAKrH,KAAOynC,KAAmB,IAC3E,MAAO3uB,GACP1Z,IAAOsE,MAAMoV,aAAaU,MAAQV,EAAElZ,QAAUm4B,OAAOjf,KAoBnD6uB,IAEFvyB,QAAS4R,MAKZ,CAAC2d,EAAgBniB,EAAU9d,EAAc+M,EAAemG,IAOrDgwB,EAAuBnd,uBAC3B,SAACod,GACC,GAAKA,GAAmC,KAAff,GAAsBnC,EAA/C,CAKIkD,IAAqBb,EAAkBlgB,SAAS+gB,IAClDZ,EAAqB,GAAD,mBAAKD,GAAL,CAAwBa,KAG9C,IAAMpe,EAA6B,2BAC9Bkb,GAD8B,kBAEhCmC,EAAae,IAGVtc,EAAqB/B,GAAkBC,EAAgB7R,GAC7D4K,EAASqD,aAAmBnhB,EAAc,WAAY6mB,IACtDob,GAAwB,GACxBnkB,EAASiE,cAAY,SAhBnBkgB,GAAwB,KAkB5B,CAAChC,EAAgBniB,EAAU9d,EAAckT,EAAUovB,EAAmBF,IAGxE,OAAKlvB,EASH,sBAAK/X,UAAU,iCAAf,UACE,sBAAKA,UAAU,uCAAf,UACE,cAAC,GAAD,CACE+X,SAAUA,EACViS,qBAAsB4c,EACtBjd,kBA3CwB,SAAC+B,GAC/B/I,EAASqD,aAAmBnhB,EAAc,WAAY6mB,IACtD/I,EAASiE,cAAY,KA0CfsD,cAAc,EACdH,YAAa,SAACW,GACZ,IACE,IAAMwI,EAAkBnb,EAASrU,KAAI,SAAC0V,GAAD,mBAAC,eACjCA,GADgC,IAEnCsR,gBAEF/H,EAASqD,aAAmBnhB,EAAc,WAAYquB,IACtDvQ,EAASiE,cAAY,IACrB,MAAO3N,GACP1Z,IAAOsE,MAAMoV,aAAaU,MAAQV,EAAElZ,QAAUm4B,OAAOjf,QAI3D,cAAC4O,EAAA,EAAD,CAAWT,QAAS8N,OAErB4P,GACC,cAAC,GAAD,CACEjgC,aAAcA,EACdykB,OAAQA,EACRwb,eAAgBA,EAChB5S,gBAAiBA,EACjB1L,SAAU,SAAC8e,GACT,IAAM1b,EAAc,2BAAQkb,GAAmBQ,GACzC5Z,EAAqB/B,GAAkBC,EAAgB7R,GAC7D4K,EAASqD,aAAmBnhB,EAAc,WAAY6mB,IACtDkb,EAAkBhd,IAEpBmb,cAAe,SAACgC,EAAcE,GAC5BH,GAAwB,GACxBE,EAAgBD,GAChBG,EAAcD,MAIpB,cAAC,GAAD,CACEnnC,MAAOinC,EACPnnC,QAASmoC,EACTloC,KAAMgnC,EACNhiC,aAAcA,OApDhB,qBAAK7E,UAAU,qCAAf,+DCxISioC,I,OAnBO,SAAC,GAAgE,IAA9D9nC,EAA6D,EAA7DA,GAAI0E,EAAyD,EAAzDA,aAAyD,IAA3C6uB,mBAA2C,MAA7B,GAA6B,EAC9E9hB,EAAgBikB,aAAiB,SAAC1oB,GAAD,uBAAWA,EAAMC,WAAjB,aAAW,EAAWwE,iBACvDs2B,EAAYrS,aAAiB,SAAC1oB,GAAD,uBAAWA,EAAMg7B,eAAjB,aAAW,EAAeD,aAI7D,OAAIl1B,YAAqBpB,IAAkBqB,YAAqBrB,GAE5D,sBAAK5R,UAAU,yBAAf,UACE,cAAC,EAAD,CAAW6M,MAAO,OAAC6mB,QAAD,IAACA,KAAaxxB,OAA+B,GAAtB,CAAEoiC,aAAc,GAAzD,UACY,OAAT4D,QAAS,IAATA,OAAA,EAAAA,EAAWhL,YAAa,cAAC,GAAD,CAASr4B,aAAcA,EAAc1E,GAAIA,QAElE,OAACuzB,QAAD,IAACA,MAAaxxB,SAAU,cAAC2lB,EAAA,EAAD,CAAWC,cAAY,EAACV,QAASsM,OAI1D,0B,SCjCM,OAA0B,mC,oBCW1B0U,GARS,SAAC,GAAD,IAAGhkC,EAAH,EAAGA,SAAH,OACtB,qBAAKpE,UAAU,wDAAf,SAAwEoE,K,UCSpEikC,G,4MACJC,oBAAsB,SAAC18B,GAAD,OACpB,sBAAK5L,UAAU,OAAf,UACE,uBAAMA,UAAU,2BAAhB,UACE,cAAC,KAAD,CAAkBG,GAAIyL,EAAc0B,SADtC,OAGA,sBAAMtN,UAAU,YAAhB,SACE,wBAAQA,UAAU,cAAlB,SACG4L,EAAckxB,QAAQp5B,KAAI,SAACu5B,GAAD,OACzB,wBAA2B17B,MAAO07B,EAAO17B,MAAzC,SACG07B,EAAOn9B,OADGm9B,EAAOn9B,kB,4CAS9B,WAAU,IAAD,OACP,EAAwCJ,KAAKC,MAArC4oC,EAAR,EAAQA,eAAgB7U,EAAxB,EAAwBA,YACxB,OACE,gCACE,cAAC,GAAD,UACE,sBAAK1zB,UAAU,wBAAf,UACE,sBAAKA,UAAU,YAAf,UACE,gCACE,cAACqN,GAAA,EAAD,CAASnJ,KAAK,KAAKoJ,OAAO,SAC1B,uBACEpJ,KAAK,OACLlE,UAAU,8DAGd,gCACE,cAACqN,GAAA,EAAD,CAASnJ,KAAK,KAAKoJ,OAAO,YAC1B,0BAAUtN,UAAU,gEAGxB,sBAAKA,UAAU,kCAAf,UACE,cAACqN,GAAA,EAAD,CAASnJ,KAAK,KAAKoJ,OAAO,kBACzBi7B,EAAe7kC,KAAI,SAACkI,GAAD,OAClB,qBAAK5L,UAAU,2BAAf,SACG,EAAKsoC,oBAAoB18B,IADmB48B,IAAQC,uBAO/D,cAAC5gB,EAAA,EAAD,CAAWC,cAAY,EAACV,QAASsM,W,GA/ChBtzB,aAwEzBioC,GAAWp7B,aAAe,CACxBymB,YAAa,CACX,CAAEpmB,OAAQ,OAAQgI,QAASozB,MAC3B,CAAEp7B,OAAQ,SAAUgI,QAASqzB,IAC7B,CAAEr7B,OAAQ,OAAQgI,QAASszB,MAC3B,CAAEt7B,OAAQ,SAAUgI,QAASuzB,QAIlB5H,oBAAWoH,I,+BC9FX,OAA0B,oCCA1B,OAA0B,4CCA1B,OAA0B,yCCA1B,OAA0B,iCCA1B,OAA0B,gCCA1B,OAA0B,6C,SCA1B,OAA0B,uCCA1B,OAA0B,qCCA1B,OAA0B,6CCA1B,OAA0B,kC,UCA1B,OAA0B,uCCA1B,OAA0B,iCCA1B,OAA0B,oCCA1B,OAA0B,kCCA1B,OAA0B,wCCA1B,OAA0B,iDCA1B,OAA0B,mCCA1B,OAA0B,kCCA1B,OAA0B,uCCA1B,OAA0B,2CCA1B,OAA0B,kCCA1B,OAA0B,2CCA1B,OAA0B,mC,UCG5BS,GAAa,SAAC,GAA+D,IAA7DvnC,EAA4D,EAA5DA,MAAOilB,EAAqD,EAArDA,SAAUuiB,EAA2C,EAA3CA,QAO5C,OACE,qBAAK/oC,UAAU,WAAf,SACG+oC,EACC,cAAC3K,GAAA,EAAD,IAEA,cAACzF,GAAA,EAAD,CACEE,WAAS,EACTmQ,WAAS,EACTC,QAAS,EACT1nC,MAAOA,EACPilB,SAhB+E,SACrFqH,GAEArH,EAASqH,EAAM1C,OAAO5pB,QAchBq7B,QAAQ,WACRhE,WAAS,O,0CCObsQ,I,mCAAO,SAAC,GAAwC,IAAtC9kC,EAAqC,EAArCA,SACRujB,EAAMsR,iBAAoB,MAShC,OAPAxO,qBAAU,WAAO,IAAD,EACR0e,EAAG,UAAGxhB,EAAIuR,eAAP,aAAG,EAAakQ,cACrBD,GACFE,KAAMC,kBAAkBH,GAAK,KAE9B,CAAC/kC,IAEG,sBAAMujB,IAAKA,EAAX,SAAiBvjB,MAGbmlC,GAAgBzX,sBAC3B,WAAgD0X,GAAkB,IAA/DjoC,EAA8D,EAA9DA,MAAOilB,EAAuD,EAAvDA,SAAUijB,EAA6C,EAA7CA,kBAAmB5lC,EAA0B,EAA1BA,MAC/BgS,EAAOC,eACP6R,EAAMsR,iBAAY,MAElByQ,EAAe,SAAC9X,GAAsB,IAAD,EACnC+X,EAA6B,UAAGhiB,EAAIuR,eAAP,aAAG,EAAa0Q,OACnD,GAAKD,EAAL,CAGAA,EAASE,QACT,IAAMC,EAAM9nC,KAAKwvB,IAAIjwB,EAAMW,OAAQF,KAAKuf,IAAI,EAAGqQ,IAC/CmY,YAAW,kBAAMJ,EAASK,kBAAkBF,EAAKA,KAAM,KAkDzD,OA/CArf,qBAAU,WACR,GAAKgf,EAAL,CAGA,IAAMQ,EAAkB,WAAO,IAAD,EAC5B,GAAI,UAACtiB,EAAIuR,eAAL,OAAC,EAAa0Q,QAAUjiB,EAAIuR,QAAQ0Q,SAAW7qC,SAASmrC,cAA5D,CAGA,IAAMP,EAAgChiB,EAAIuR,QAAQ0Q,OAClDH,EAAkB,CAChBU,MAAOR,EAASS,eAChBC,IAAKV,EAASW,iBAMlB,OAFAvrC,SAASiyB,iBAAiB,kBAAmBiZ,GAEtC,WACLlrC,SAASkyB,oBAAoB,kBAAmBgZ,OAEjD,CAACR,IAEJc,8BAAoBf,GAAc,iBAAO,CACvCgB,qBAAsB,WAAO,IAAD,YAC1B,MAAO,CACLL,MAAK,oBAAExiB,EAAIuR,eAAN,iBAAE,EAAa0Q,cAAf,aAAE,EAAqBQ,sBAAvB,QAAyC,EAC9CC,IAAG,oBAAE1iB,EAAIuR,eAAN,iBAAE,EAAa0Q,cAAf,aAAE,EAAqBU,oBAAvB,QAAuC,IAG9CT,MAAO,SAACO,EAAgBE,GAAkB,IAAD,EACjCX,EAA6B,UAAGhiB,EAAIuR,eAAP,aAAG,EAAa0Q,OAC9CD,IAGLA,EAASE,QACqB,kBAAnBO,GACTL,YACE,kBAAMJ,EAASK,kBAAkBI,EAA3B,OAA2CE,QAA3C,IAA2CA,IAAgBF,KACjE,KAINV,eACAe,SAAU,4BAAMf,GAAa,oBAAC/hB,EAAIuR,eAAL,iBAAC,EAAa0Q,cAAd,aAAC,EAAqBQ,sBAAtB,QAAwC,GAAK,IAC1EM,UAAW,4BAAMhB,GAAa,oBAAC/hB,EAAIuR,eAAL,iBAAC,EAAa0Q,cAAd,aAAC,EAAqBQ,sBAAtB,QAAwC,GAAK,QAI3E,cAAC,KAAD,CACEpqC,UAAWs7B,aACT,uBACAz3B,GAAS,YAFI,mBA9FN,OAkGP,eACA,kBAEF8jB,IAAKA,EACLpmB,MAAK,OAAEA,QAAF,IAAEA,IAAS,GAChBopC,YAAa90B,EAAKG,SAAS,uBAC3B40B,cAAepkB,EACfqkB,UAAW,SAACC,GAAD,OAAU,cAAC,GAAD,UAAOA,GAAQ,MACpC1f,QAAS,EACTve,MAAO,CACLiQ,SAAU,IAEZ+b,WAAS,OCzCFkS,GA/EmB,CAChCjlC,KAAM,CACJklC,KAAM,CACJC,WAAY,SACZC,UAAW,OACX/Y,gBAAiB,cACjBgZ,OAAQ,EACR/f,QAAS,EACTnrB,MAAO,QACPmrC,WAAY,iDACZtuB,SAAU,QAEZ7Y,KAAM,CACJ+mC,KAAM,CACJpZ,SAAU,YAEZ9yB,KAAM,CACJusC,OAAQ,UACRzZ,SAAU,WACVxG,QAAS,UACT1D,QAAS,SAEX4jB,WAAY,CACVC,WAAY,sBAEdC,OAAQ,CACNR,KAAM,CACJpZ,SAAU,WACVlK,QAAS,eACT+jB,cAAe,MACfC,WAAY,OACZ3+B,OAAQ,OACRD,MAAO,QAET6+B,QAAS,CACP/Z,SAAU,WACVrF,IAAK,MACLD,KAAM,MACN6e,OAAQ,gBACRp+B,OAAQ,QAEVA,OAAQ,GACRD,MAAO,GACPgS,MAAO,CACLyY,KAAM,UACN3W,YAAa,IAGjByjB,OAAQ,CACN2G,KAAM,CACJtjB,QAAS,eACT+jB,cAAe,MACfxrC,MAAO,SAET2rC,UAAW,CACT9+B,MAAO,MACPC,OAAQ,OACR8+B,WAAY,kBACZC,aAAc,kBACdla,SAAU,WACVrF,IAAK,MACLD,KAAM,SAERxsB,MAAO,CACLisC,WAAY,OACZN,cAAe,WAGnBO,QAAS,CACPd,UAAW,OACXe,YAAa,QAEflD,QAAS,CACP9oC,MAAO,cCrEFisC,GAA6B,SAAC9mC,EAAsBoD,GAC/D,IAAM0f,EAAQ2N,aAAiB,SAAC1oB,GAAD,oBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOC,WAAlB,aAAW,EAAY8a,SAEtD,EAAwBkC,mBAAS,IAAjC,oBAAOxmB,EAAP,KAAauoC,EAAb,KACA,EAA8B/hB,oBAAS,GAAvC,oBAAO2e,EAAP,KAAgBqD,EAAhB,KAuBA,OArBA3hB,qBAAU,WACHjiB,IAGL4jC,GAAW,GACXlkB,EAAMplB,SACHE,QACCC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxCgC,eACAinC,qBAAsB,CACpBC,WAAY,KACZ9jC,eAILiR,MAAK,SAAC5T,GAAc,IAAD,EAClBsmC,EAAQpU,GAAa,OAAClyB,QAAD,IAACA,GAAD,UAACA,EAAK0mC,6BAAN,aAAC,EAA4B3oC,UAEnDi7B,SAAQ,kBAAMuN,GAAW,SAC3B,CAAChnC,EAAcoD,EAAU0f,EAAMplB,WAE3B,CAAEc,OAAMmlC,YCPJyD,I,OAA0B,SAAC,GAKH,IAAD,IAJlCpnC,EAIkC,EAJlCA,aACA7D,EAGkC,EAHlCA,MACA3B,EAEkC,EAFlCA,QACAg2B,EACkC,EADlCA,SAEMhqB,EAAgBiqB,aAAiB,SAAC1oB,GAAD,oBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOC,WAAlB,aAAW,EAAYxB,iBACxDiK,EAAOC,eAEb,EAAoCo2B,GAA2B9mC,EAAc7D,GAA/DkrC,EAAd,EAAQ7oC,KAAgBmlC,EAAxB,EAAwBA,QAExB,EAAkC3e,mBAAgC,IAAlE,oBAAOsiB,EAAP,KAAkBC,EAAlB,KACA,EAAwCviB,mBAAqC,MAA7E,oBAAO4U,EAAP,KAAqBC,EAArB,KAEAxU,qBAAU,WAAO,IAAD,EAgCa,EA/BrB8X,EAAQ32B,EAAcnF,oCAAoCrB,GA+BhE,OAAIm9B,QAAJ,IAAIA,GAAJ,UAAIA,EAAOz8B,YAAX,OAAI,EAAa1B,UACfuoC,EAAY,UA9BK,SAAbC,EACJC,GAEuC,IADvC/tC,EACsC,uDAD/B,GAEP,GAAI,OAAC+tC,QAAD,IAACA,KAAO3qC,OAIZ,cAAO2qC,QAAP,IAAOA,OAAP,EAAOA,EAAOnpC,KAAI,SAACO,GAAU,IAAD,MACpB6oC,EAAW,CAAChuC,EAAMmF,EAAKL,MAAM6nB,OAAOshB,SAASxhC,KAAK,KACxD,OAAO,2BACFtH,GADL,IAEE+oC,QAAuB,aAAd/oC,EAAKL,MAA6BK,EAAKgpC,OAChDnuC,KAAMguC,EACN1oC,SAAUwoC,EAAU,UAClB3oC,EAAKG,gBADa,aAClB,EAAeguB,QAAO,SAACC,EAAK6a,GAAW,IAAD,EAIpC,OAHA,UAAIA,EAAM9oC,gBAAV,OAAI,EAAgBlC,QAClBmwB,EAAI/rB,KAAK4mC,GAEJ7a,IACN,IACHya,GAEF98B,OAAM,oBAAG/L,EAAKG,gBAAR,aAAG,EAAeqnB,QAAO,SAACyhB,GAAD,aAAWA,EAAM/sC,MAAM,UAAC+sC,EAAM9oC,gBAAP,OAAC,EAAgBlC,kBAAjE,QACJ,QAMO0qC,CAAWrK,EAAMz8B,KAAK1B,iBAAvB,QAAoC,MAEjD,CAACwH,EAAexG,IAEnBqlB,qBAAU,WACR,IAAKse,EAAS,CACZ,IAAM34B,EAAOq8B,EAASphC,MAAM,KAC5B+E,EAAKjK,QACLiK,EAAK/G,MAEL,IAAM8jC,EAAW,SAAXA,EACJN,EACAz8B,GAEA,OAAKA,EAAKlO,OAGV,OAAO2qC,QAAP,IAAOA,OAAP,EAAOA,EAAOnpC,KAAI,SAACO,GACjB,IAAMmpC,EAAWh9B,EAAK,GAChBi9B,EAAQppC,EAAKL,OAASwpC,EAM5B,OAJIC,GAAyB,IAAhBj9B,EAAKlO,QAChB+8B,EAAgBh7B,GAGX,2BACFA,GADL,IAEEG,SAAUipC,EAAQF,EAASlpC,EAAKG,SAAUgM,EAAKnK,MAAM,IAAMhC,EAAKG,SAChE4oC,UAASK,GAAeppC,EAAK+oC,QAC7BC,OAAQI,GAAyB,IAAhBj9B,EAAKlO,OACtB0B,KAAOypC,EACL,sBAAMrtC,UAAU,qBAAhB,SAAsCiE,EAAKL,OAE3CK,EAAKL,UAlBFipC,GAwBXF,GAAa,SAACE,GAAD,uBAAWM,EAASN,EAAOz8B,UAA3B,QAAoC,SAElD,CAACq8B,EAAU1D,IAEd,IAAMuE,EAAkB1iB,uBACtB,SACE2iB,EACAC,EACAC,GAYAd,GAVuB,SAAjBe,EAAkB5nC,GACtB,OAAOA,EAAKpC,KAAI,SAACO,GAAU,IAAD,EAClBG,EAAW,UAAAH,EAAKG,gBAAL,SAAelC,OAASwrC,EAAezpC,EAAKG,UAAYH,EAAKG,SAC9E,OAA0B,oBAAfmpC,EAA4BA,EAAWtpC,GAAQA,IAASspC,GAC1D,2BAAKtpC,GAAZ,IAAkBG,YAAaopC,EAAiBvpC,IAEzCwpC,EAAe,2BAAQxpC,GAAR,IAAcG,YAAaqpC,EAAgBxpC,IAAUA,UAMnF,IAGI0pC,EAAgB/iB,uBACpB,SAAC3mB,EAA2B+oC,GAC1BM,EACErpC,GACA,SAACA,GAAD,YAAW,CAAEgpC,QAAQ,EAAMD,QAAS,UAAA/oC,EAAKG,gBAAL,SAAelC,OAAS8qC,EAAU/oC,EAAK+oC,YAC3E,iBAAO,CAAEC,QAAQ,MAEnBhO,EAAgBh7B,KAElB,CAACqpC,IAGH,OACE,cAAChM,GAAA,EAAD,CACExhC,MAAO,+BAAO+V,EAAKG,SAAS,mCAC5BpW,QAASA,EACTC,MAAI,EACJ+tC,oBAAkB,EAJpB,SAME,sBAAK5tC,UAAU,kCAAf,UACE,sBAAKA,UAAU,wBAAf,UACE,iCAAO6V,EAAKG,SAAS,+BAArB,OADF,SAEE,gDAAOgpB,QAAP,IAAOA,OAAP,EAAOA,EAAclgC,YAArB,QAA6B,SAE/B,sBAAKkB,UAAU,kCAAf,UACE,8BACE,cAAC,aAAD,CACEpB,KAAM8tC,EACNmB,SAAU,SAAC5pC,EAAM+oC,GAAP,OAAmBW,EAAc1pC,EAAe+oC,IAC1DngC,MAAOk+B,OAGX,qBAAK/qC,UAAU,cAAf,gBACGg/B,QADH,IACGA,GADH,UACGA,EAAchvB,cADjB,aACG,EAAsBtM,KAAI,SAACO,GAAD,OACzB,qBAEEjE,UAAWs7B,aAAK52B,SAAST,EAAK9D,MAAQoB,GAAS,YAC/CrB,QAAS,kBAAM01B,EAASlxB,SAAST,EAAK9D,MAHxC,SAKG8D,EAAKL,MAJDK,EAAK9D,YASlB,8BACE,cAACw8B,GAAA,EAAD,CAAQC,QAAQ,WAAW38B,MAAM,UAAUC,QAASN,EAApD,SACGiW,EAAKG,SAAL,kBC5KA83B,I,OAAkB,SAAC,GAOzB,IANL1pC,EAMI,EANJA,SAMI,IALJyI,aAKI,MALI,GAKJ,EACEkhC,EAAU9U,iBAAuB,MAQvC,OANAxO,qBAAU,WACJsjB,EAAQ7U,SAAW90B,GACrBilC,KAAMC,kBAAkByE,EAAQ7U,SAAS,KAE1C,CAAC90B,IAGF,qBACEujB,IAAKomB,EACLlhC,MAAK,aACH6a,QAAS,SACTujB,WAAY,eACZE,OAAQ,EACRvZ,SAAU,WACV2Z,WAAY,OACZngB,QAAS,GACNve,GAEL7M,UAAS,mBA9BE,MA8BF,gCAXX,SAaE,sBAAM6M,MAAO,CAAEu+B,WAAY,UAAW/kB,SAAU,SAAU2nB,aAAc,YAAxE,SACG5pC,QCpCI6pC,GAAqB,SAAC7oC,EAAsB8oC,GACvD,IAAMhmB,EAAQ2N,aAAiB,SAAC1oB,GAAD,oBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOC,WAAlB,aAAW,EAAY8a,SAEtD,EAAoCkC,oBAAS,GAA7C,oBAAO+jB,EAAP,KAAmBC,EAAnB,KACA,EAAgDhkB,mBAAS,IAAzD,oBAAOikB,EAAP,KAAyBC,EAAzB,KACA,EAA8DlkB,mBAAwB,MAAtF,oBAAOmkB,EAAP,KAAgCC,EAAhC,KACA,EAA8DpkB,mBAAmB,IAAjF,oBAAOqkB,EAAP,KAAgCC,EAAhC,KACA,EAA0CtkB,mBAAwB,MAAlE,oBAAOukB,EAAP,KAAsBC,EAAtB,KAEMC,EAAQjkB,uBAAY,WACxB0jB,EAAoB,IACpBE,EAA2B,MAC3BE,EAA2B,IAC3BE,EAAiB,QAChB,IAEGE,EAAoClkB,uBACxC,SAACmkB,GAAD,OACE7mB,EAAMplB,SAASE,QACbC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxCgC,eACA4pC,8BAA+B,CAC7BxmC,SAAU0lC,EACVa,aAAcA,EAAaluC,QAAQ,aAAc,UACjDouC,WAAW,QAInB,CAACf,EAAY9oC,EAAc8iB,EAAMplB,WAG7BosC,EAAWtkB,sBAAW,uCAC1B,WAAOmkB,GAAP,mCAAAhsC,EAAA,sEAEIqrC,GAAc,GAFlB,SAGsBU,EAAkCC,GAHxD,UAGUlpC,EAHV,OAIIuoC,GAAc,GAEdE,EAAoBS,IAIJ,KAFVzgC,EARV,OAQmBzI,QARnB,IAQmBA,GARnB,UAQmBA,EAAKspC,sCARxB,aAQmB,EAAqCC,gBARxD,wBAWMZ,EAA0B,iBAAC3oC,QAAD,IAACA,GAAD,UAACA,EAAKspC,sCAAN,aAAC,EAAqC99B,cAAtC,QAAgD,MAC1Eq9B,EAA2B,IAZjC,kBAaa,CACLW,SAAS,EACTC,YAAW,iBAAEzpC,QAAF,IAAEA,GAAF,UAAEA,EAAKspC,sCAAP,aAAE,EAAqC99B,cAAvC,QAAiD,OAfpE,eAkBYqsB,GAAS,iBAAC73B,QAAD,IAACA,GAAD,UAACA,EAAKspC,sCAAN,iBAAC,EAAqCI,gBAAtC,aAAC,EAA+Cv5B,gBAAhD,QAA4D,IAAItS,KAC7E,SAAC8rC,GAAD,OAAYA,EAAEC,gBAEJvtC,QACVw7B,EAAOp3B,KAAK,qBAEdooC,EAA2BhR,GAC3B8Q,EAA2B,MAC3BI,EAAiBtgC,GA1BvB,kBA2Ba,CAAE+gC,SAAS,EAAOV,cAAergC,IA3B9C,0DA8BI/O,IAAOsE,MAAM,gBAAa8V,MAAQ,KAAE5Z,QAAUm4B,OAAO,EAAD,KACpDwW,EAA2B,IA/B/B,eAiCEF,EAA2B,MAjC7B,kBAkCS,CAAEa,SAAS,IAlCpB,0DAD0B,sDAqC1B,CAACP,IAGH,MAAO,CACLI,WACAf,aACAE,mBACAQ,QACAN,0BACAE,0BACAE,kBCrEEvU,I,OAAYC,aAAW,CAC3BqL,KAAM,CACJta,QAAS,QACT6Z,SAAU,GACVE,UAAW,WAUTuK,GAAwB,SAAC,GASI,IARjCC,EAQgC,EARhCA,YACAC,EAOgC,EAPhCA,MACAC,EAMgC,EANhCA,qBACA1B,EAKgC,EALhCA,WACAE,EAIgC,EAJhCA,iBACAE,EAGgC,EAHhCA,wBACAE,EAEgC,EAFhCA,wBACAE,EACgC,EADhCA,cAEM94B,EAAOC,eAEPg6B,EAAoBzB,IAAqBwB,EAEzCE,EAAsBzkB,mBAAQ,WAClC,OAAI+iB,EAAiBpnB,SAAS,MACrBonB,EAAiBhjC,MAAM,MAAM,GAAK,MAElCgjC,IAER,CAACA,IAEJ,OACE,sBAAKruC,UAAU,2BAAf,WACI4vC,GAAS,8BAAM/5B,EAAKG,SAAS,yBAC9Bm4B,GAAc,gCAAMt4B,EAAKG,SAAS,0BAApB,SACdq4B,GACC,sBAAKruC,UAAU,SAAf,UAC+B,OAA5BuuC,GACC,gCACE,uBAAMvuC,UAAU,0BAAhB,UACG6V,EAAKG,SAAS,iCADjB,OADF,SAKE,iCAAOH,EAAKG,SAAS,sBAArB,OALF,SAME,iCACG25B,IAAgBG,EACbvB,EACE,OACA,QACFA,QAIc,OAAvBE,QAAuB,IAAvBA,OAAA,EAAAA,EAAyBvsC,QAAS,GACjC,gCACE,iCAAO2T,EAAKG,SAAS,+BAArB,OADF,SAEE,sBAAMhW,UAAU,wBAAhB,SAAyCyuC,EAAwBljC,KAAK,WAGzEukC,GACC,sBAAK9vC,UAAU,yBAAf,UACE,iCAAO6V,EAAKG,SAAS,gCAArB,OACA,cAAC,GAAD,CACEnJ,MAAO,CACLo+B,WAAY,SACZvjB,QAAS,cACTrB,SAAU,SACV2nB,aAAc,YAEhBW,cAAa,OAAEA,QAAF,IAAEA,SAAiBtmC,EAPlC,SASG0nC,cAkBXC,GAAuB,SAAC,GAaI,IAZhC5qC,EAY+B,EAZ/BA,aACAyqC,EAW+B,EAX/BA,qBACAd,EAU+B,EAV/BA,aACAkB,EAS+B,EAT/BA,wBACAC,EAQ+B,EAR/BA,OACAtwC,EAO+B,EAP/BA,QACAuwC,EAM+B,EAN/BA,QACAjB,EAK+B,EAL/BA,SACAf,EAI+B,EAJ/BA,WACOiC,EAGwB,EAH/BvB,MACAR,EAE+B,EAF/BA,iBACAI,EAC+B,EAD/BA,wBAEMvmB,EAAQ2N,aAAiB,SAAC1oB,GAAD,oBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOC,WAAlB,aAAW,EAAY8a,SAChDrS,EAAOC,eACPu6B,EAAqBjW,KAErBkW,EAAmBrX,iBAAyB,MAElD,EAAkC7O,mBAAyC,CACzE+f,MAAO0F,EAAqB3tC,OAC5BmoC,IAAKwF,EAAqB3tC,SAF5B,oBAAOmgC,EAAP,KAAkBkO,EAAlB,KAIA,EAAsEnmB,oBAAS,GAA/E,oBAAOomB,EAAP,KAAoCC,EAApC,KAEMC,EAAoB9lB,sBAAW,sBAAC,4BAAA7nB,EAAA,sEACfmsC,EAASW,GADM,cAC9Bx+B,EAD8B,QAEzBg+B,SACTa,EAAOL,EAAqBc,OAAQt/B,EAAOi+B,aAHT,kBAK7Bj+B,GAL6B,2CAMnC,CAAC69B,EAAUW,EAAsBK,IAE9BU,EAA2BhmB,uBAC/B,SAACrpB,GAA4D,IAAD,IA2CP,IAa5C,EAxDOu7B,EAA4C,uDAAP,GAC7C+T,EAAe,oBAAGP,EAAiBpX,eAApB,aAAG,EAA0BsR,8BAA7B,QAAuD,CAC1EL,MAAO0F,EAAqB3tC,OAC5BmoC,IAAKwF,EAAqB3tC,QAGtB4uC,EAAoB,WACxB,GAAI,CAAC,MAAM7pB,SAAS1lB,GAClB,OAAO,EAQT,IALA,IAAMwvC,EAAQlB,EAAqBxkC,MAAM,MACrC2lC,EAAU,EACZC,EAAQ,EACNC,EAAaL,EAAgB1G,MAC7BgH,EAAWN,EAAgBxG,IACxB2G,EAAUD,EAAM7uC,SACrBgvC,GAAcH,EAAMC,GAAS9uC,OAAS,EACtCivC,GAAYJ,EAAMC,GAAS9uC,OAAS,EAChCgvC,GAAc,GAChBF,MAEEG,EAAW,IANcF,KAU/B,IAAMG,EAAeL,EAAM9qC,MAAM+qC,EAAShvC,KAAKwvB,IAAIuf,EAAM7uC,OAAQ+uC,EAAQ,IAAI1lC,KAAK,MAElF,GAA4B,IAAxB6lC,EAAalvC,OACf,OAAO,EAET,IAAMmvC,EAAWD,EAAaE,OAAOF,EAAalvC,OAAS,GACrDqvC,EAAS,aAAalmC,MAAM,IAC5BktB,EAAO,sBAAOgZ,GAAW,CAAC,IAAK,IAAK,IAAK,MAC/C,QACGhZ,EAAQtR,SAASoqB,IAAa9Y,EAAQtR,SAAS1lB,IAC/CgwC,EAAOtqB,SAASoqB,IAAa,CAAC,IAAK,KAAKpqB,SAAS1lB,MAI5C6vC,EAAaI,SAAS,MAG5BX,EAAgB1G,QAAU0G,EAAgBxG,KAC5C4F,EACEJ,EAAqB5pC,MAAM,EAAG4qC,EAAgB1G,QAC3C2G,IAAsB,IAAM,IAC7BvvC,EACAsuC,EAAqB5pC,MAAM4qC,EAAgBxG,MAE/C,UAAAiG,EAAiBpX,eAAjB,SAA0B2Q,MACxBgH,EAAgB1G,OAAhB,UACGrN,EAAQ2U,oBADX,QAC2B,IACxBX,IAAsB,EAAI,GAC3BvvC,EAAMW,UAGV+tC,EACEJ,EAAqB5pC,MAAM,EAAG4qC,EAAgB1G,OAC5C5oC,EACAsuC,EAAqB5pC,MAAM4qC,EAAgBxG,MAE/C,UAAAiG,EAAiBpX,eAAjB,SAA0B2Q,MACxBgH,EAAgB1G,OACmB,kBAAzBrN,EAAQ2U,aAA4B3U,EAAQ2U,aAAelwC,EAAMW,YAIjF,CAAC2tC,EAAsBI,IAGnByB,EAAa9mB,uBAAY,WAAO,IAAD,MAC7BimB,EAAe,oBAAGP,EAAiBpX,eAApB,aAAG,EAA0BsR,8BAA7B,QAAuD,CAC1EL,MAAO0F,EAAqB3tC,OAC5BmoC,IAAKwF,EAAqB3tC,QAEtBioC,EAAQnoC,KAAKuf,IACjB,EACAsvB,EAAgB1G,OAAS0G,EAAgB1G,QAAU0G,EAAgBxG,IAAM,EAAI,IAG/E4F,EACEJ,EAAqB5pC,MAAM,EAAGkkC,GAAS0F,EAAqB5pC,MAAM4qC,EAAgBxG,MAEpF,UAAAiG,EAAiBpX,eAAjB,SAA0B2Q,MAAMM,KAC/B,CAAC0F,EAAsBI,IAEpB5W,EAAU/N,mBAA2E,WACzF,IAAMqmB,EAA4B,SAChCC,EACA9U,GAEA,OAAO8U,EAAOluC,KAAI,SAACmuC,GAAD,oBAChB9uB,MAAO8uB,EACP3xC,QAAS,kBAAM0wC,EAAyBiB,KAFxB,OAGZ/U,QAHY,IAGZA,IAAW,QAInB,MAAO,EAGH,CACE/Z,MAAO,mBACP7iB,QAAS,kBAAMuwC,GAA+B,KAEhD,CACEqB,WAAW,GAEb,CACE/uB,MAAO,SACP7iB,QAAS,kCAAMowC,EAAiBpX,eAAvB,aAAM,EAA0BwQ,aAAa,KAExD,CACE3mB,MAAO,SACP7iB,QAAS,kCAAMowC,EAAiBpX,eAAvB,aAAM,EAA0BuR,aAE3C,CACE1nB,MAAO,SACP7iB,QAAS,kCAAMowC,EAAiBpX,eAAvB,aAAM,EAA0BwR,cAE3C,CACE3nB,MAAO,SACP7iB,QAAS,kCAAMowC,EAAiBpX,eAAvB,aAAM,EAA0BwQ,aAAapmB,OAAOyuB,oBAE/D,CACED,WAAW,IA3BV,mBA6BAH,EAA0B,CAAC,IAAK,QAIrCA,EAA0B,cAActmC,MAAM,KAjCzC,sBAqCAsmC,EAA0B,CAAC,MAAO,KAAM,MAAO,SArC/C,CAsCH,CACE5uB,MAAO,KACP7iB,QAAS,kBAAM0wC,EAAyB,2BAA4B,CAAEa,aAAc,OAxCnF,YA0CAE,EAA0B,CAAC,IAAK,OA1ChC,CA2CH,CACE5uB,MAAO,OACP7iB,QAAS,kBAAM0wC,EAAyB,OAE1C,CACE7tB,MAAO,OACP7iB,QAAS,kBAAM0wC,EAAyB,SAjDvC,sBAuDAe,EAA0B,CAAC,IAAK,OAvDhC,CAwDH,CACE5uB,MAAO,SACP7iB,QAAS,kBAAM0wC,EAAyB,QAE1C,CACE7tB,MAAO,SACP7iB,QAAS,kBAAM0wC,EAAyB,QAE1C,CACE7tB,MAAO,IACP7iB,QAAS,kBAAM0wC,EAAyB,OAE1C,CACE7tB,MAAO,SACP7iB,QAAS,kBAAM0wC,EAAyB,SAtEvC,YAwEAe,EAA0B,CAAC,IAAK,IAAK,IAAK,IAAK,QAIpD,CACE,CACE5uB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,UAE1C,CACE7tB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,UAE1C,CACE7tB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,UAE1C,CACE7tB,MAAO,gBACP7iB,QAAS,kBAAM0wC,EAAyB,WAE1C,CACE7tB,MAAO,gBACP7iB,QAAS,kBAAM0wC,EAAyB,WAE1C,CACE7tB,MAAO,gBACP7iB,QAAS,kBAAM0wC,EAAyB,WAE1C,CACE7tB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,QAAS,CAAEa,aAAc,MAEnE,CACE1uB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,QAAS,CAAEa,aAAc,MAEnE,CACE1uB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,QAAS,CAAEa,aAAc,MAEnE,CACE1uB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,QAAS,CAAEa,aAAc,MAEnE,CACE1uB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,QAAS,CAAEa,aAAc,MAEnE,CACE1uB,MAAO,UACP7iB,QAAS,kBAAM0wC,EAAyB,WAAY,CAAEa,aAAc,MAEtE,CACE1uB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,QAAS,CAAEa,aAAc,MAEnE,CACE1uB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,UAE1C,CACE7tB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,UAE1C,CACE7tB,MAAO,OACP7iB,QAAS,kBAAM0wC,EAAyB,WAE1C,CACE7tB,MAAO,QACP7iB,QAAS,kBAAM0wC,EAAyB,YAE1C,CACE7tB,MAAO,MACP7iB,QAAS,kBAAM0wC,EAAyB,QAAS,CAAEa,aAAc,OAKrE,CACE,CACE1uB,MAAO,SACP7iB,QAASwxC,GAEX,CACE3uB,MAAO,SACP7iB,QAAS,kBAAM0wC,EAAyB,OAE1C,CACE7tB,MAAO,SACP7iB,QAAS,kBAAM0wC,EAAyB,YAI7C,CAACA,EAA0Bc,IAE9B,OACE,qCACE,sBAAK1xC,UAAU,qBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,sBAAKA,UAAU,QAAf,UACE,qBAAKA,UAAU,gBAAf,SACGq5B,EAAQ31B,KAAI,SAACo/B,EAAKkP,GAAN,OACX,8BACGlP,EAAIp/B,KAAI,SAACuuC,EAAKC,GAAN,eACPD,EAAIH,UACF,sBAEEjlC,MAAO,CAAEkf,SAAU,IADdimB,EAAOn7B,YAAP,UAAqBo7B,EAAIlvB,aAAzB,QAAkC,KAAOmvB,EAAOr7B,YAIvD,cAAC8lB,GAAA,EAAD,CAEEC,QAAQ,WACR38B,MAAM,UACNC,QAAS+xC,EAAI/xC,QACbu6B,QAAS4V,EACTxjC,MAAO,CACLslC,cAAe,QAPnB,SAUGF,EAAIlvB,OATAivB,EAAOn7B,YAAP,UAAqBo7B,EAAIlvB,aAAzB,QAAkC,KAAOmvB,EAAOr7B,gBATnDm7B,QAyBd,qBAAKhyC,UAAU,+BAAf,SACE,cAAC,GAAD,CACE2nB,IAAK2oB,EACL/uC,MAAOsuC,EACPhsC,OAA8B,OAAvB4qC,QAAuB,IAAvBA,OAAA,EAAAA,EAAyBvsC,QAAS,EACzCunC,kBAAmB8G,EACnB/pB,SAAU,SAACjlB,GACT6uC,IACAH,EAAwB1uC,aAMlC,sBAAKvB,UAAU,UAAf,UACE,cAAC28B,GAAA,EAAD,CACEC,QAAQ,WACR38B,MAAM,UACN4M,MAAO,CAAEo4B,SAAU,IACnB3K,UAAWuV,GAAwB1B,EACnCjuC,QAAS,WACP,IAAMkyC,EACJ/P,EAAU8H,QAAU9H,EAAUgI,KAAOhI,EAAUgI,IAAMhI,EAAU8H,MAAQ,EACnEkI,EAAiBD,EACnBvC,EAAqB9+B,UAAUsxB,EAAU8H,MAAO9H,EAAUgI,KAC1DwF,EACJX,EAASmD,GAAgB54B,MAAK,SAACpI,GACR,IAAD,EAApB,GAAIA,EAAOg+B,QACT,UAAAiB,EAAiBpX,eAAjB,SAA0B2Q,MAAMxH,EAAU8H,MAAO9H,EAAUgI,UACtD,GAAIh5B,EAAOs9B,cAAe,CAAC,IAAD,EAC/B,UAAA2B,EAAiBpX,eAAjB,SAA0B2Q,MACxBx4B,EAAOs9B,eAAiByD,EAAmB/P,EAAU8H,MAAQ,SAhBvE,SAsBG9H,EAAU8H,QAAU9H,EAAUgI,KAAOhI,EAAUgI,IAAMhI,EAAU8H,MAAQ,EACpEt0B,EAAKG,SAAS,iCACdH,EAAKG,SAAS,0BAEpB,cAAC2mB,GAAA,EAAD,CACEC,QAAQ,WACR38B,MAAM,UACN4M,MAAO,CAAEo4B,SAAU,IACnB/kC,QAAS,WACPkwC,IACAD,KAEF7V,SAAUuV,IAAyBd,GAAgBZ,EARrD,SAUGt4B,EAAKG,SAAS,yBAEjB,sBAAMnJ,MAAO,CAAE6+B,WAAY,MAC3B,cAAC/O,GAAA,EAAD,CAAQC,QAAQ,WAAW38B,MAAM,UAAU4M,MAAO,CAAEo4B,SAAU,IAAM/kC,QAASN,EAA7E,SACGiW,EAAKG,SAAL,SAEH,cAAC2mB,GAAA,EAAD,CACEC,QAAQ,WACR38B,MAAM,UACN4M,MAAO,CAAEo4B,SAAU,IACnB3K,UACGuV,GACD1B,GACA0B,IAAyBd,KACtBV,IAA2C,OAAvBI,QAAuB,IAAvBA,OAAA,EAAAA,EAAyBvsC,QAAS,EAE3DhC,QAAS,WACPwwC,IAAoBj3B,MAAK,SAACpI,GACH,IAAD,EAApB,GAAIA,EAAOg+B,QACT,UAAAiB,EAAiBpX,eAAjB,SAA0B2Q,MAAMxH,EAAU8H,MAAO9H,EAAUgI,UACtD,GAAIh5B,EAAOs9B,cAAe,CAAC,IAAD,EAC/B,UAAA2B,EAAiBpX,eAAjB,SAA0B2Q,MAAMx4B,EAAOs9B,oBAf/C,SAoBG94B,EAAKG,SAAL,WAINw6B,GACC,cAAC,GAAD,CACEprC,aAAcA,EACdxF,QAAS,kBAAM6wC,GAA+B,IAC9C7a,SAAU,SAAC0c,GACTpqB,EAAMplB,SACHE,QACCC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxCgC,eACAinC,qBAAsB,CACpBC,WAAY,KACZ9jC,SAAU8pC,MAIf74B,MAAK,SAAC5T,GAAc,IAAD,EACZjC,EAAOm0B,GAAa,OAAClyB,QAAD,IAACA,GAAD,UAACA,EAAK0mC,6BAAN,aAAC,EAA4B3oC,MAGjD2uC,EAAU,WAAO3uC,EAAK/C,QAAQ,WAAY,IAAhC,KAChB+vC,EAAyB2B,MAE1B1T,SAAQ,WACP4R,GAA+B,aAmBlC+B,GAAmB,SAAC,GAQH,IAP5BC,EAO2B,EAP3BA,aACArtC,EAM2B,EAN3BA,aACA2pC,EAK2B,EAL3BA,aACAb,EAI2B,EAJ3BA,WACAtuC,EAG2B,EAH3BA,QACAswC,EAE2B,EAF3BA,OACAP,EAC2B,EAD3BA,YAEA,EAAwDvlB,mBAAS,IAAjE,oBAAOylB,EAAP,KAA6BI,EAA7B,KAEMyC,EAAoBzE,GAAmB7oC,EAAc8oC,GAErDyE,GAAmB,OAAC5D,QAAD,IAACA,IAAgB,IAAIluC,QAAQ,QAAS,MAE/D4pB,qBAAU,WACRwlB,EAAwB0C,KACvB,CAACA,IAEJ,IAAMxC,EAAUvlB,uBAAY,WAC1BqlB,EAAwB0C,KACvB,CAACA,IAEEC,EAAsC,2BACvCF,GADuC,IAE1C/C,cACAC,OAAQ6C,EACR5C,yBAGIgD,EAAqC,2BACtCH,GADsC,IAEzCxC,SACAtwC,UACAwF,eACA2pC,aAAc4D,EACd9C,uBACAI,0BACAE,YAGF,OAAIsC,EAEA,cAACnR,GAAA,EAAD,CACExhC,MAAO,cAAC,GAAD,eAA2B8yC,IAClChzC,QAASA,EACTC,MAAI,EACJ+tC,oBAAkB,EAJpB,SAME,cAAC,GAAD,eAA0BiF,MAK5B,gCACE,cAAC,GAAD,eAA2BD,IAC3B,cAAC,GAAD,eAA0BC,QClmBrBC,I,OAAa,SAAC,GAOmD,IAAD,EAN3E1tC,EAM2E,EAN3EA,aACA7D,EAK2E,EAL3EA,MACAilB,EAI2E,EAJ3EA,SACAusB,EAG2E,EAH3EA,cACAhK,EAE2E,EAF3EA,QACA4G,EAC2E,EAD3EA,YAEM95B,EAAOC,eAEb,EAAwDsU,oBAAS,GAAjE,oBAAO4oB,EAAP,KAA6BC,EAA7B,KAEAxoB,qBAAU,WACRsoB,GAAeC,KAEd,CAACA,IAEJ,MAMI/E,GAAmB7oC,EAAD,iBAAe7D,QAAf,IAAeA,OAAf,EAAeA,EAAO2xC,wBAAtB,QAA0C,GAL9DhE,EADF,EACEA,SACAf,EAFF,EAEEA,WACAE,EAHF,EAGEA,iBACAI,EAJF,EAIEA,wBACAF,EALF,EAKEA,wBAUF,OAPA9jB,qBAAU,WACR,OAAIlpB,QAAJ,IAAIA,KAAOwtC,cACTG,EAAS3tC,EAAMwtC,gBAGhB,QAACxtC,QAAD,IAACA,OAAD,EAACA,EAAOwtC,eAGT,qBAAK/uC,UAAU,WAAf,SACG+oC,IAAYxnC,EACX,cAAC68B,GAAA,EAAD,IACE4U,EACF,cAAC,GAAD,CACErD,YAAaA,EACbvqC,aAAcA,EACd8oC,WAAY3sC,EAAM2xC,iBAClBnE,aAAcxtC,EAAMwtC,aACpBnvC,QAAS,kBAAMqzC,GAAwB,IACvC/C,OAAQ,SAACnB,GACPvoB,EAAS,2BACJjlB,GADG,IAENwtC,kBAEFkE,GAAwB,MAI5B,sBAAKjzC,UAAU,cAAf,UACE,kCAAQ6V,EAAKG,SAAS,qBAAtB,OACA,+BACGm4B,EACGt4B,EAAKG,SAAS,0BACdq4B,GACE,qCAC+B,OAA5BE,IACEoB,EACGpB,EACE,OACA,QACFA,IACkB,OAAvBE,QAAuB,IAAvBA,OAAA,EAAAA,EAAyBvsC,QAAS,GACjC,iCACE,iCAAO2T,EAAKG,SAAS,+BAArB,OADF,SAEE,sBAAMhW,UAAU,wBAAhB,SACGyuC,EAAwBljC,KAAK,gBAO9C,kCAAQsK,EAAKG,SAAS,uBAAtB,OACA,uBACEnJ,MAAO,CACL6a,QAAS,OACTyrB,WAAY,aACZC,SAAU,OACV/sB,SAAU,UALd,UAQE,cAAC,GAAD,CAAiBxZ,MAAO,CAAEwZ,SAAU,SAAU2nB,aAAc,YAA5D,SACGzsC,EAAMwtC,eAET,cAACvzB,GAAA,EAAD,CACEtb,QAAS,kBAAM+yC,GAAwB,IACvCpmC,MAAO,CACLE,OAAQ,GACRD,MAAO,GACP4+B,WAAY,GAEdp2B,QAAS0gB,KACTjgB,QAASF,EAAKG,SAAS,kC,oBC3DxBq9B,IAAmB,KACnBC,GAAkB,KAExB,SAASC,GAAgBC,GAC9B,OAAOxxC,KAAKuf,IAAI8xB,GAAiBrxC,KAAKwvB,IAAI8hB,GAAiBE,IAGtD,SAASC,GAAmB1wC,EAA2BuiB,GAC5D,GAAIviB,IAAMuiB,EACR,OAAO,EAET,IAAKviB,IAAMuiB,EACT,OAAO,EAET,GAAIviB,EAAEmB,OAASohB,EAAEphB,MAAQnB,EAAExB,QAAU+jB,EAAE/jB,MACrC,OAAO,EAET,OAAQwB,EAAEmB,MACR,KAAKyzB,GAAmB+b,cACtB,GAAI3wC,EAAEuvC,mBAAsBhtB,EAAegtB,iBACzC,OAAO,EAET,MACF,KAAK3a,GAAmBgc,QACtB,GAAI5wC,EAAE6wC,UAAatuB,EAAesuB,QAChC,OAAO,EAKb,OAAO,EAcF,IAAMC,GAAW,SAAC,GAA6C,IAA3CzuC,EAA0C,EAA1CA,aAAcxG,EAA4B,EAA5BA,KACjCspB,EAAQ2N,aAAiB,SAAC1oB,GAAD,oBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOC,WAAlB,aAAW,EAAY8a,SAEtD,EAA8BkC,oBAAS,GAAvC,oBAAO2e,EAAP,KAAgBqD,EAAhB,KACA,EAAwChiB,mBAAgB,IAAxD,oBAAO0pB,EAAP,KAAqBC,EAArB,KACA,EAA0B3pB,mBAAgB,IAA1C,oBAAO7oB,EAAP,KAAcyyC,EAAd,KAEMC,EACJ1yC,GACAuyC,KACEL,GAAmBlyC,EAAM2yC,SAAUJ,EAAaI,YAC/CT,GAAmBlyC,EAAM4yC,QAASL,EAAaK,WAC/CV,GAAmBlyC,EAAM6yC,SAAUN,EAAaM,YAChDX,GAAmBlyC,EAAM8yC,QAASP,EAAaO,UAEpD5pB,qBAAU,WAAO,IAAD,EAYRznB,EAAUC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxDgC,eACAkD,mBAAoB,CAClB9I,KAAM,CACJ80C,QAAS5vC,SAAQ,UAAC9F,EAAKqJ,gBAAN,QAAkB,IACnCssC,WAAY,CACVC,WAAY,QACZC,QAAS,EACTC,WAAY7c,GAAe8c,kBAKnCvI,GAAW,GACXlkB,EAAMplB,SACHE,QAAQA,GACRyW,MAAK,SAAC5T,GAAc,IAAD,EA3BJ2C,EA4BRosC,EAAa,OAAG/uC,QAAH,IAAGA,GAAH,UAAGA,EAAK0C,2BAAR,aAAG,EAA0BC,UA5BlCA,EA8BLosC,EA7BJ1sB,EAAMplB,SAASE,QACpBC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxCgC,eACAyvC,yBAA0B,CACxBrsC,gBAyBoBiR,KAAxB,uCAA6B,WAAO5T,GAAP,uBAAA9C,EAAA,6DACrB+xC,EADqB,iBACajvC,QADb,IACaA,GADb,UACaA,EAAKkvC,iCADlB,aACa,EAAgCC,YAD7C,QACqD,GAE1EC,EAHqB,+BAAAlyC,EAAA,MAGL,WACpBmyC,GADoB,qCAAAnyC,EAAA,yDAGdoyC,EAAgBL,EAAepqC,MACnC,SAAC+F,GAAD,OAAWA,EAAM2kC,aAAeF,KAG5BG,EAPc,OAOUF,QAPV,IAOUA,OAPV,EAOUA,EAAe3sC,SAEvC8sC,EATc,OASAH,QATA,IASAA,OATA,EASAA,EAAeG,YATf,8CAWXjtC,GAXW,OAcdktC,EAAS,CACbnwC,eACAowC,WAAYN,EACZhxC,KAAMoxC,EAAYpxC,KAClBmxC,wBACAnH,WAAYoH,EAAYpH,YAnBN,KAsBZoH,EAAYpxC,KAtBA,cAuBbyzB,GAAmB8d,YAvBN,SAgCb9d,GAAmB+b,cAhCN,UAkDb/b,GAAmBgc,QAlDN,uEAyBX4B,GAzBW,IA0Bdh0C,MAAK,wCACH+zC,EAAYI,mBADT,aACH,EAAyBC,cADtB,QAEHL,EAAY/zC,MAAMo0C,cAFf,QAGHL,EAAY3T,aAAagU,cAHtB,QAIH,KA9BY,4DAkCXJ,GAlCW,IAmCdh0C,MAAK,oBAAE+zC,EAAY/zC,MAAMo0C,cAApB,QAA8BL,EAAY3T,aAAagU,cAAvD,QAAiE,EACtErD,iBAAmB,WACjB,IAAK,IAAD,EACF,OAAO5tC,SACLqzB,GAAa,UAACud,EAAYM,wBAAb,QAAiC,IAAIp+B,YAAc3W,QAC9D,SACA,KAGJ,MAAOoY,GACP1Z,IAAOsE,MAAMoV,aAAaU,MAAQV,EAAElZ,QAAUm4B,OAAOjf,KATtC,MApCL,4DAoDXs8B,GApDW,IAqDdh0C,MAAK,oBAAE+zC,EAAY/zC,MAAMo0C,cAApB,QAA8BL,EAAY3T,aAAagU,cAAvD,QAAiE,EACtE/B,QAAS7b,GAAcud,EAAY1B,YAtDrB,4CAHK,+DA8DTqB,EAAcpd,GAAege,uBA9DpB,mCA+DVZ,EAAcpd,GAAeie,sBA/DnB,oCAgETb,EAAcpd,GAAeke,uBAhEpB,qCAiEVd,EAAcpd,GAAeme,sBAjEnB,oBA6DrBC,EA7DqB,CA8DzB/B,SA9DyB,KA+DzBC,QA/DyB,KAgEzBC,SAhEyB,KAiEzBC,QAjEyB,MAoE3BN,EAAgBkC,GAChBjC,EAASiC,GArEkB,4CAA7B,0DAwEDC,MAAM32C,IAAOsE,OACbg7B,SAAQ,kBAAMuN,GAAW,QAC3B,CAACxtC,EAAKqJ,SAAU7C,EAAc8iB,EAAMplB,WAEvC,IAAMqzC,EAAcvrB,sBAAW,sBAAC,sDAAA7nB,EAAA,yDACzBkxC,EADyB,yCAErB,IAFqB,aAM5B,UAAA1yC,EAAM2yC,gBAAN,eAAgBhwC,QAASyzB,GAAmB8d,cAC5C,UAAAl0C,EAAM4yC,eAAN,eAAejwC,QAASyzB,GAAmB8d,cAC3C,UAAAl0C,EAAM2yC,gBAAN,eAAgB3yC,QAAhB,UAAwBA,EAAM4yC,eAA9B,aAAwB,EAAe5yC,QARX,yCAUrB,CAAC,kDAVoB,aAc5B,UAAAA,EAAM6yC,gBAAN,eAAgBlwC,QAASyzB,GAAmB8d,cAC5C,UAAAl0C,EAAM8yC,eAAN,eAAenwC,QAASyzB,GAAmB8d,cAC3C,UAAAl0C,EAAM6yC,gBAAN,eAAgB7yC,QAAhB,UAAwBA,EAAM8yC,eAA9B,aAAwB,EAAe9yC,QAhBX,yCAkBrB,CAAC,kDAlBoB,uBAqBZ2mB,EAAMplB,SAASE,QAC/BC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxCgC,eACAgxC,yBAA0B,CACxB5tC,SAAU9D,SAAQ,UAAC9F,EAAKqJ,gBAAN,QAAkB,IACpC+sC,KAAMnrC,OAAOmG,OAAOzO,GAAO6wB,QACzB,SACEC,EACAgkB,GACI,IAAD,UAnKQb,EAoKX,OAAKa,GAGLhkB,EAAI/rB,KAAK,CACP0J,OAAQ,CACNxH,SAAQ,UAAE6tC,EAAWhB,6BAAb,QAAsC,EAC9CD,WAAU,UAAEiB,EAAWb,kBAAb,QAA2B3d,GAAe8c,aACpDW,YAAa,CACXpxC,KAAMmyC,EAAWnyC,KACjBy9B,aAAc,CACZz9B,KAAM0zB,GAAQ0e,MACdX,QA/KGH,EA+KqBa,EAAWb,WA7KrD,CAAC3d,GAAege,sBAAuBhe,GAAeke,uBAAuB9uB,SAC3EuuB,GAGK,MAEF,IAyKWj0C,MAAO,CAAE2C,KAAM0zB,GAAQ0e,MAAOX,OAAQpC,GAAe,UAAC8C,EAAW90C,aAAZ,QAAqB,IAC1Em0C,YACEW,EAAWnyC,OAASyzB,GAAmB8d,YACnC,CAAEvxC,KAAM0zB,GAAQ0e,MAAOX,OAAQpC,GAAe,UAAC8C,EAAW90C,aAAZ,QAAqB,SACnE8G,EACNutC,iBACES,EAAWnyC,OAASyzB,GAAmB+b,cACnCrb,GAAc,KAAD,OAAMge,EAAW/D,iBAAjB,WACbjqC,EACN6lC,WAAYmI,EAAWnI,WACvB0F,QACEyC,EAAWnyC,OAASyzB,GAAmBgc,QACnCtb,GAAa,UAACge,EAAWzC,eAAZ,aAAC,EAAoB/yC,QAAQ,MAAO,UACjDwH,IAGVkuC,YAAY,IAEPlkB,GA9BEA,IAgCX,QAhEsB,cAqBxBxsB,EArBwB,OAwE1B,QAHE63B,EArEwB,OAqEL73B,QArEK,IAqELA,GArEK,UAqELA,EAAK2wC,wBArEA,iBAqEL,EAAuBC,qBArElB,iBAqEL,EAAsCzgC,gBArEjC,aAqEL,EAAgDtS,KACvE,SAACgzC,GAAD,OAAcA,EAAIjH,sBAEhB,IAAC/R,KAAQx7B,QACX6xC,EAAgBxyC,GAzEY,yBA2EvBm8B,QA3EuB,IA2EvBA,IAAU,IA3Ea,4CA4E7B,CAAC9+B,EAAKqJ,SAAU7C,EAAc6uC,EAAU/rB,EAAMplB,SAAUvB,IAE3D,MAAO,CAAEA,QAAOyyC,WAAUC,WAAUlL,UAASoN,gB,OC5Q/C,SAASQ,GAAkBC,GACzB,OAAQA,GACN,KAAK/e,GAAege,sBAClB,MAAO,YACT,KAAKhe,GAAeie,qBAClB,MAAO,WACT,KAAKje,GAAeke,sBAClB,MAAO,YACT,KAAKle,GAAeme,qBAClB,MAAO,YAIb,IAAMa,GAAoB,SAAC,GAQpB,IAPLzxC,EAOI,EAPJA,aACAixC,EAMI,EANJA,WACAS,EAKI,EALJA,eAMMjhC,EAAOC,eAEb,IAAKugC,EACH,OAAO,qCAGT,IAAMU,EAAmC,CACvC72C,QAAS,kBAAM42C,EAAeT,IAC9BxpC,MAAO,CAAEE,OAAQ,GAAID,MAAO,IAC5BwI,QAAS0gB,KACTjgB,QAASF,EAAKG,SAAS,uBAGzB,OAAQqgC,EAAWnyC,MACjB,KAAKyzB,GAAmB8d,YACtB,OACE,sBAAKz1C,UAAU,sBAAf,UACE,+BAAOq2C,EAAW90C,QAClB,cAACia,GAAA,EAAD,eAAgBu7B,OAGtB,KAAKpf,GAAmB+b,cACtB,OACE,sBAAK1zC,UAAU,sBAAf,UACE,cAAC,GAAD,CACE6E,aAAcO,EACdoD,SAAU6tC,EAAW/D,iBACrB3Q,aAAc0U,EAAW90C,QAE3B,cAACia,GAAA,EAAD,eAAgBu7B,IAChB,uBAAM/2C,UAAU,OAAhB,cACI6V,EAAKG,SAAS,oBADlB,UAEE,4BACE,cAAC,GAAD,CACE5Q,aAAcA,EACd7D,MAAO80C,EAAW/D,qBALxB,UAYN,KAAK3a,GAAmBgc,QACtB,OACE,sBAAK3zC,UAAU,sBAAf,UACE,+BAAOq2C,EAAW90C,QAClB,cAACia,GAAA,EAAD,eAAgBu7B,IAChB,uBAAM/2C,UAAU,OAAhB,4BAEE,4BACE,cAAC,GAAD,CAAiB6M,MAAO,CAAEo+B,WAAY,UAAtC,SACGoL,EAAWzC,YAJlB,YAcJoD,GAA0B,SAAC,GAM1B,IALL5xC,EAKI,EALJA,aACA7D,EAII,EAJJA,MAKQqC,EAASsoC,GAA2B9mC,EAAc7D,GAAlDqC,KAER,OAAO,+BAAOA,KAGV8vC,GAAgB,SAAC,GAQhB,IAPL7uC,EAOI,EAPJA,aACA2D,EAMI,EANJA,SACAm5B,EAKI,EALJA,aAMMzZ,EAAQ2N,aAAiB,SAAC1oB,GAAD,oBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOC,WAAlB,aAAW,EAAY8a,SAEtD,EAA0BkC,mBAASuX,GAAnC,oBAAOpgC,EAAP,KAAcyyC,EAAd,KACA,EAA0B5pB,oBAAS,GAAnC,oBAAOvmB,EAAP,KAAcozC,EAAd,KA4BA,OA1BAxsB,qBAAU,WACR,IAWMhC,EAAO,CACX5jB,eACA8R,SAAU,CAACnO,GACXkgB,qBAJ2B,GAMvBX,EAAaG,EAAMD,yBAAyBQ,GAhBhC,SAAC,GAAuC,IAAD,IAApC/F,EAAoC,EAApCA,QACbw0B,EAAY,OAAGx0B,QAAH,IAAGA,GAAH,UAAGA,EACjBwb,kBAAkB,CAAC11B,GAAW,WADhB,iBAAG,EAEjBkC,MAAK,SAAC+F,GAAD,OAAgB/L,SAAS+L,EAAMtQ,MAAQqI,YAF9B,aAAG,EAEsCjH,MAI3D,OAFA01C,EAA0B,KAAjBC,GACTlD,EAASkD,GAAgBvV,GAClB55B,QAAQyQ,aAWjB,OAAO,WACDuP,GACFG,EAAMF,6BAA6BD,MAGtC,CAAC4Z,EAAc98B,EAAc2D,EAAU0f,IAEnC,sBAAMloB,UAAWs7B,aAAKz3B,GAAS,wBAA/B,gBAAyDtC,QAAzD,IAAyDA,IAAS,OAGrE41C,GAAmB,SAAC,GAK0E,IAJlG/xC,EAIiG,EAJjGA,aACA7D,EAGiG,EAHjGA,MACA+7B,EAEiG,EAFjGA,OACA9W,EACiG,EADjGA,SAEM3Q,EAAOC,eAEb,EAA0CsU,mBAAS7oB,GAAnD,oBAAOi8B,EAAP,KAAsBC,EAAtB,KACA,EAAsErT,oBAAS,GAA/E,oBAAOomB,EAAP,KAAoCC,EAApC,KACA,EAA0DrmB,oBAAS,GAAnE,oBAAOgtB,EAAP,KAA8BC,EAA9B,KAEA5sB,qBAAU,WACRgT,EAAiBl8B,KAChB,CAACA,IAEJ,IAKM0yC,GAAYR,GAAmBlyC,EAAOi8B,GACtC8Z,EACH9Z,EAAct5B,OAASyzB,GAAmB+b,gBAAkBlW,EAAc8U,kBAC1E9U,EAAct5B,OAASyzB,GAAmBgc,UAAYnW,EAAcoW,QAEvE,OACE,sBAAK5zC,UAAU,qBAAf,UACE,iCAAS22C,GAAkBnZ,EAAcgY,cACzC,sBAAKx1C,UAAU,eAAf,UACE,kCAAQ6V,EAAKG,SAAS,sBAAtB,OACA,eAACuhC,GAAA,EAAD,CACE5V,aAAcnE,EAAct5B,KAC5B3C,MAAOi8B,EAAct5B,KACrBsiB,SAAU,SAACqH,GAAD,OACR4P,EAAiB,2BAAKD,GAAN,IAAqBt5B,KAAM2pB,EAAM1C,OAAO5pB,UAE1DsL,MAAO,CAAEo4B,SAAU,IAAKn4B,MAAO,QANjC,UAQE,cAAC0qC,GAAA,EAAD,CAAUj2C,MAAOo2B,GAAmB8d,YAApC,SACG5/B,EAAKG,SAAS,uBAEjB,cAACwhC,GAAA,EAAD,CAAUj2C,MAAOo2B,GAAmB+b,cAApC,SACG79B,EAAKG,SAAS,sBAEjB,cAACwhC,GAAA,EAAD,CAAUj2C,MAAOo2B,GAAmBgc,QAApC,SACG99B,EAAKG,SAAS,+BAIpBwnB,EAAct5B,OAASyzB,GAAmB8d,aACzC,sBAAKz1C,UAAU,0BAAf,UACE,sBAAKA,UAAU,gBAAf,UACE,kCAAQ6V,EAAKG,SAAS,qBAAtB,OACA,cAAC2iB,GAAA,EAAD,CACEC,WAAS,EACT10B,KAAK,SACL3C,MAAOi8B,EAAcj8B,MACrBilB,SAAU,SAACqH,GAAD,aACR4P,EAAiB,2BACZD,GADW,IAEdj8B,MAAOgyC,GAAgBxZ,WAAU,UAAClM,EAAM1C,OAAO5pB,aAAd,QAAuB,QAG5Ds3B,WAAS,OAGb,cAAC,GAAD,CACEt3B,MAAOi8B,EAAcj8B,MACrBilB,SAAU,SAACjlB,GAAD,OACRk8B,EAAiB,2BACZD,GADW,IAEdj8B,MAAOgyC,GAAgBhyC,OAG3BiwB,IAAK6hB,GACL9xB,IAAK+xB,GACLzX,eAAa,OAIlB2B,EAAct5B,OAASyzB,GAAmB+b,eACzC,sBAAK1zC,UAAU,kBAAf,UACE,kCAAQ6V,EAAKG,SAAS,qBAAtB,OACA,cAAC,GAAD,CACEnR,aAAcO,EACdoD,SAAUg1B,EAAc8U,iBACxB3Q,aAAcnE,EAAcj8B,QAE9B,kCAAQsU,EAAKG,SAAS,oBAAtB,OACA,uBAAMnJ,MAAO,CAAE6a,QAAS,OAAQyrB,WAAY,UAA5C,UACE,cAAC,GAAD,CACE/tC,aAAcA,EACd7D,MAAOi8B,EAAc8U,mBAEvB,cAAC92B,GAAA,EAAD,CACEtb,QAAS,kBAAMuwC,GAA+B,IAC9C5jC,MAAO,CAAEE,OAAQ,GAAID,MAAO,GAAI4+B,WAAY,GAC5Cp2B,QAAS0gB,KACTjgB,QAASF,EAAKG,SAAS,2BAG1Bw6B,GACC,cAAC,GAAD,CACEprC,aAAco4B,EAAcp4B,aAC5B7D,MAAOi8B,EAAc8U,iBACrB1yC,QAAS,kBAAM6wC,GAA+B,IAC9C7a,SAAU,SAACptB,GACTi1B,EAAiB,2BACZD,GADW,IAEd8U,iBAAkB9pC,KAEpBioC,GAA+B,SAMxCjT,EAAct5B,OAASyzB,GAAmBgc,SACzC,sBAAK3zC,UAAU,iBAAf,UACE,kCAAQ6V,EAAKG,SAAS,qBAAtB,OACA,+BAAOwnB,EAAcj8B,QACrB,kCAAQsU,EAAKG,SAAS,uBAAtB,OACA,uBAAMnJ,MAAO,CAAE6a,QAAS,OAAQyrB,WAAY,UAA5C,UACE,cAAC,GAAD,UAAkB3V,EAAcoW,UAChC,cAACp4B,GAAA,EAAD,CACEtb,QAAS,kBAAMm3C,GAAyB,IACxCxqC,MAAO,CAAEE,OAAQ,GAAID,MAAO,GAAI4+B,WAAY,GAC5Cp2B,QAAS0gB,KACTjgB,QAASF,EAAKG,SAAS,2BAG1BohC,GACC,cAAC,GAAD,CACE3E,cAAY,EACZrtC,aAAco4B,EAAcp4B,aAC5B8oC,WAAY1Q,EAAc0Q,WAC1Ba,aAAcvR,EAAcoW,QAC5Bh0C,QAAS,kBAAMy3C,GAAyB,IACxCnH,OAAQ,SAACnB,EAAc0I,GACrBha,EAAiB,2BACZD,GADW,IAEdoW,QAAS7E,EACTxtC,MAAK,OAAEk2C,QAAF,IAAEA,IAAyBja,EAAcj8B,SAEhD81C,GAAyB,SAMnC,sBAAKr3C,UAAU,UAAf,UACE,cAAC28B,GAAA,EAAD,CAAQC,QAAQ,WAAW38B,MAAM,UAAUC,QAASo9B,EAAQzwB,MAAO,CAAEo4B,SAAU,KAA/E,SACGpvB,EAAKG,SAAL,SAEH,cAAC2mB,GAAA,EAAD,CACEC,QAAQ,YACR38B,MAAM,UACNC,QA9Ia,WACnBsmB,EAASgX,GACTF,KA6IMzwB,MAAO,CAAEo4B,SAAU,KACnB3K,UAAW2Z,GAAYqD,EALzB,SAOGzhC,EAAKG,SAAL,YAOE0hC,GAAW,SAAC,GAMU,IALjCtyC,EAKgC,EALhCA,aACA7D,EAIgC,EAJhCA,MACAilB,EAGgC,EAHhCA,SACAusB,EAEgC,EAFhCA,cACAhK,EACgC,EADhCA,QAEA,EAAwC3e,mBAA4B,MAApE,oBAAOutB,EAAP,KAAqBC,EAArB,KAEAntB,qBAAU,WACRsoB,GAAe4E,KAEd,GAAGA,IAqBN,OACE,qBAAK33C,UAAU,qBAAf,SACG+oC,EACC,cAAC3K,GAAA,EAAD,IACEuZ,EACF,cAAC,GAAD,CACEvyC,aAAcA,EACd7D,MAAOo2C,EACPra,OAAQ,kBAAMsa,EAAgB,OAC9BpxB,SA5Ba,SAAC6vB,GAGpB,OAFAuB,EAAgBvB,GAERA,EAAWb,YACjB,KAAK3d,GAAege,sBAClBrvB,EAAS,2BAAKjlB,GAAN,IAAa2yC,SAAUmC,KAC/B,MACF,KAAKxe,GAAeie,qBAClBtvB,EAAS,2BAAKjlB,GAAN,IAAa4yC,QAASkC,KAC9B,MACF,KAAKxe,GAAeke,sBAClBvvB,EAAS,2BAAKjlB,GAAN,IAAa6yC,SAAUiC,KAC/B,MACF,KAAKxe,GAAeme,qBAClBxvB,EAAS,2BAAKjlB,GAAN,IAAa8yC,QAASgC,SAiB9B,sBAAKr2C,UAAU,cAAf,UACE,kCAAQ22C,GAAkB9e,GAAege,uBAAzC,OACA,cAAC,GAAD,CACEzwC,aAAcA,EACdixC,WAAY90C,EAAM2yC,SAClB4C,eAAgBc,IAElB,kCAAQjB,GAAkB9e,GAAeke,uBAAzC,OACA,cAAC,GAAD,CACE3wC,aAAcA,EACdixC,WAAY90C,EAAM6yC,SAClB0C,eAAgBc,IAElB,kCAAQjB,GAAkB9e,GAAeme,sBAAzC,OACA,cAAC,GAAD,CACE5wC,aAAcA,EACdixC,WAAY90C,EAAM8yC,QAClByC,eAAgBc,IAElB,kCAAQjB,GAAkB9e,GAAeie,sBAAzC,OACA,cAAC,GAAD,CACE1wC,aAAcA,EACdixC,WAAY90C,EAAM4yC,QAClB2C,eAAgBc,UCrYfC,GAAa,SAAC,GAIyB,IAHlDzyC,EAGiD,EAHjDA,aACAxG,EAEiD,EAFjDA,KACA+wC,EACiD,EADjDA,YAEMznB,EAAQ2N,aAAiB,SAAC1oB,GAAD,oBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOC,WAAlB,aAAW,EAAY8a,SAEtD,EAA8BkC,oBAAS,GAAvC,oBAAO2e,EAAP,KAAgBqD,EAAhB,KACA,EAAwChiB,mBAA+B,MAAvE,oBAAO0pB,EAAP,KAAqBC,EAArB,KACA,EAA0B3pB,mBAA+B,MAAzD,oBAAO7oB,EAAP,KAAcyyC,EAAd,KAEMC,EAAW1yC,IAAUuyC,EAE3BrpB,qBAAU,WAAO,IAAD,EAYRznB,EAAUC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxDgC,eACAkD,mBAAoB,CAClB9I,KAAM,CACJ80C,QAAS5vC,SAAQ,UAAC9F,EAAKqJ,gBAAN,QAAkB,IACnCssC,WAAY,CACVC,WAAY,EACZC,QAAS9E,EAAc,KAAO,KAC9B+E,WAAY7c,GAAe8c,kBAKnCvI,GAAW,GACXlkB,EAAMplB,SACHE,QAAQA,GACRyW,MAAK,SAAC5T,GAAc,IAAD,EA3BD2C,EA4BX0qC,EAAwB,OAAGrtC,QAAH,IAAGA,GAAH,UAAGA,EAAK0C,2BAAR,aAAG,EAA0BC,UA5B1CA,EA6BL0qC,EA5BPhrB,EAAMplB,SAASE,QACpBC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxCgC,eACA0yC,mBAAoB,CAClBtvC,gBAwB0BiR,MAAK,SAAC5T,GAAc,IAAD,IACzCkyC,EAA+B,CACnChJ,aAAY,iBAAElpC,QAAF,IAAEA,GAAF,UAAEA,EAAKmyC,2BAAP,aAAE,EAA0BjJ,oBAA5B,QAA4C,GACxDmE,oBAEFc,EAAS+D,GACThE,EAAgBgE,SAGnB7B,MAAM32C,IAAOsE,OACbg7B,SAAQ,kBAAMuN,GAAW,QAC3B,CAACuD,EAAa/wC,EAAKqJ,SAAU7C,EAAc8iB,EAAMplB,WAEpD,IAAMqzC,EAAcvrB,sBAAW,sBAAC,oCAAA7nB,EAAA,yDACzBkxC,GAAa1yC,EADY,yCAErB,IAFqB,uBAKZ2mB,EAAMplB,SAASE,QAC/BC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxCgC,eACA4pC,8BAA+B,CAC7BxmC,SAAUjH,EAAM2xC,iBAChBnE,aAAcxtC,EAAMwtC,aAAaluC,QAAQ,aAAc,UACvDouC,WAAW,MAXa,cAKxBppC,EALwB,OAmB1B,QAHE63B,EAhBwB,OAgBL73B,QAhBK,IAgBLA,GAhBK,UAgBLA,EAAK2wC,wBAhBA,iBAgBL,EAAuBC,qBAhBlB,iBAgBL,EAAsCzgC,gBAhBjC,aAgBL,EAAgDtS,KACvE,SAACgzC,GAAD,OAAcA,EAAIjH,sBAEhB,IAAC/R,KAAQx7B,QACX6xC,EAAgBxyC,GApBY,yBAsBvBm8B,QAtBuB,IAsBvBA,IAAU,IAtBa,2CAuB7B,CAACt4B,EAAc6uC,EAAU/rB,EAAMplB,SAAUvB,IAE5C,MAAO,CAAEA,QAAOyyC,WAAUC,WAAUlL,UAASoN,gB,OC9ExC,SAAS8B,GAAWh0C,GACzB,QAAKA,IAIkB,qBAApBA,EAAKuwC,YAA4D,yBAAvBvwC,EAAKi0C,eAC3B,IAApBj0C,EAAKuwC,YACmB,KAAvBvwC,EAAKi0C,eAQX,IAAMC,GAAsC,CAAEzwB,QAAS,QAE1C0wB,GAAW,SAAC,GAAiD,IAA/ChzC,EAA8C,EAA9CA,aAAcxG,EAAgC,EAAhCA,KAAMoS,EAA0B,EAA1BA,KACvC6E,EAAOC,eAEb,EAA4BsU,oBAAS,GAArC,oBAAOiuB,EAAP,KAAeC,EAAf,KACA,EAA4BluB,mBAAmB,IAA/C,oBAAOsT,EAAP,KAAeC,EAAf,KACA,EAA8BvT,oBAAS,GAAvC,oBAAOilB,EAAP,KAAgBkJ,EAAhB,KACA,EAAsCnuB,oBAAS,GAA/C,oBAAOouB,EAAP,KAAoBC,EAApB,KAEMC,EAAc,CAAEtzC,eAAcxG,QAC9Bg1C,EAAUiE,GAAWa,GACrB/I,EAAckI,GAAW,2BAAKa,GAAN,IAAmB/I,aAAa,KACxDsG,EAAQpC,GAAS6E,GACjB/Z,ECrCkB,SAAC,GAA6C,IAA3Cv5B,EAA0C,EAA1CA,aAAcxG,EAA4B,EAA5BA,KACnCspB,EAAQ2N,aAAiB,SAAC1oB,GAAD,oBAAWA,QAAX,IAAWA,GAAX,UAAWA,EAAOC,WAAlB,aAAW,EAAY8a,SAEtD,EAA8BkC,oBAAS,GAAvC,oBAAO2e,EAAP,KAAgBqD,EAAhB,KACA,EAAwChiB,mBAAS,IAAjD,oBAAO0pB,EAAP,KAAqBC,EAArB,KACA,EAA0B3pB,mBAAS,IAAnC,oBAAO7oB,EAAP,KAAcyyC,EAAd,KACA,EAA0D5pB,wBAA6B/hB,GAAvF,oBAAOgtC,EAAP,KAA8BsD,EAA9B,KAEM1E,EAAW1yC,IAAUuyC,EAE3BrpB,qBAAU,WAAO,IAAD,EACRznB,EAAUC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxDgC,eACAyvC,yBAA0B,CACxBrsC,SAAU9D,SAAQ,UAAC9F,EAAKqJ,gBAAN,QAAkB,OAGxCmkC,GAAW,GACXlkB,EAAMplB,SACHE,QAAQA,GACRyW,MAAK,SAAC5T,GAAc,IAAD,gBAEZtE,GAD+B,iBAAGsE,QAAH,IAAGA,GAAH,UAAGA,EAAKkvC,iCAAR,aAAG,EAAgCC,YAAnC,QAA2C,IACnDtqC,MAC3B,SAAC+F,GAAD,OAAWA,EAAM2kC,aAAevd,GAAe+gB,sBAEjDD,EAAwB,OAACp3C,QAAD,IAACA,OAAD,EAACA,EAAOiH,UAChC,IAAMqwC,EAAY,2BAChBt3C,QADgB,IAChBA,GADgB,UAChBA,EAAOA,aADS,iBAChB,EAAcA,aADE,aAChB,EAAqBi9B,cADL,eACej9B,QADf,IACeA,GADf,UACeA,EAAOA,aADtB,iBACe,EAAcogC,oBAD7B,aACe,EAA4BnD,cAD3C,QACqD,GACvEuV,EAAgB8E,GAChB7E,EAAS6E,MAEV3C,MAAM32C,IAAOsE,OACbg7B,SAAQ,kBAAMuN,GAAW,QAC3B,CAACxtC,EAAKqJ,SAAU7C,EAAc8iB,EAAMplB,WAEvC,IAAMqzC,EAAcvrB,sBAAW,sBAAC,sCAAA7nB,EAAA,yDACzBkxC,EADyB,yCAErB,IAFqB,uBAIZ/rB,EAAMplB,SAASE,QAC/BC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxCgC,eACAgxC,yBAA0B,CACxB5tC,SAAU9D,SAAQ,UAAC9F,EAAKqJ,gBAAN,QAAkB,IACpC+sC,KAAM,CACJ,CACEhlC,OAAQ,CACNxH,SAAU6sC,EACVD,WAAYvd,GAAe+gB,mBAC3Br3C,MAAO,CACLogC,aAAc,CAAEz9B,KAAM0zB,GAAQ2G,QAASC,OAAQ,IAC/Cj9B,MAAO,CAAE2C,KAAM0zB,GAAQ2G,QAASC,OAAQj9B,EAAMovC,UAGlD4F,YAAY,QAnBQ,cAIxB1wC,EAJwB,OA4B1B,QAHE63B,EAzBwB,OAyBL73B,QAzBK,IAyBLA,GAzBK,UAyBLA,EAAK2wC,wBAzBA,iBAyBL,EAAuBC,qBAzBlB,iBAyBL,EAAsCzgC,gBAzBjC,aAyBL,EAAgDtS,KACvE,SAACgzC,GAAD,OAAcA,EAAIjH,sBAEhB,IAAC/R,KAAQx7B,QACX6xC,EAAgBxyC,GA7BY,yBA+BvBm8B,QA/BuB,IA+BvBA,IAAU,IA/Ba,2CAgC7B,CAAC9+B,EAAKqJ,SAAUotC,EAAuBjwC,EAAc6uC,EAAU/rB,EAAMplB,SAAUvB,IAElF,MAAO,CAAEA,QAAOyyC,WAAUC,WAAUlL,UAASoN,eDhC7B2C,CAAWJ,GAE3BjuB,qBAAU,YACJkU,EAAQsV,UAAYgC,EAAMhC,UAAYL,EAAQK,UAAYtE,EAAYsE,WACxEsE,GAAW,KAEZ,CAAC5Z,EAAQsV,SAAUtE,EAAYsE,SAAUL,EAAQK,SAAUgC,EAAMhC,WAEpExpB,qBAAU,WACR8tB,GAAW,GACX5a,EAAU,MACT,CAAC3sB,IAEJ,IAAM+hC,EAAgB,SAACyF,GACrBC,EAAeD,GACVA,IACHD,GAAW,GACX5a,EAAU,MAIRnU,EAAQ8B,mBAOZ,iBAAM,CACJ,CACE1nB,KAAM,UACNs5B,UAAW4V,GACXnzC,MAAO,CACLyF,eACA7D,MAAOqyC,EAAQryC,MACfilB,SAAUotB,EAAQI,SAClBjB,gBACAhK,QAAS6K,EAAQ7K,UAGrB,CACEnlC,KAAM,QACNs5B,UAAWwa,GACX/3C,MAAO,CACLyF,eACA7D,MAAO00C,EAAM10C,MACbilB,SAAUyvB,EAAMjC,SAChBjB,gBACAhK,QAASkN,EAAMlN,UAGnB,CACEnlC,KAAM,cACNs5B,UAAW4V,GACXnzC,MAAO,CACLyF,eACA7D,MAAOouC,EAAYpuC,MACnBilB,SAAUmpB,EAAYqE,SACtBjB,gBACAhK,QAAS4G,EAAY5G,QACrB4G,aAAa,IAGjB,CACE/rC,KAAM,UACNs5B,UAAW4L,GACXnpC,MAAO,CACLyF,eACA7D,MAAOo9B,EAAQp9B,MACfilB,SAAUmY,EAAQqV,SAClBjB,gBACAhK,QAASpK,EAAQoK,aAIvB,CACE3jC,EACAwuC,EAAQryC,MACRqyC,EAAQI,SACRJ,EAAQ7K,QACRkN,EAAM10C,MACN00C,EAAMjC,SACNiC,EAAMlN,QACN4G,EAAYpuC,MACZouC,EAAYqE,SACZrE,EAAY5G,QACZpK,EAAQp9B,MACRo9B,EAAQqV,SACRrV,EAAQoK,UAINkL,EAAW3oB,mBAAQ,WACvB,OAAQta,GACN,IAAK,UACH,OAAO2tB,EAAQsV,SACjB,IAAK,QACH,OAAOgC,EAAMhC,SACf,IAAK,UACH,OAAOL,EAAQK,SACjB,IAAK,cACH,OAAOtE,EAAYsE,SAEvB,OAAO,IACN,CAACtV,EAAQsV,SAAUtE,EAAYsE,SAAUL,EAAQK,SAAUgC,EAAMhC,SAAUjjC,IAExEmlC,EAAW,uCAAG,oCAAApzC,EAAA,6DAClBu1C,GAAU,GACVC,GAAW,GAFO,kBAIY5Z,EAAQwX,cAJpB,cAIV4C,EAJU,gBAKU9C,EAAME,cALhB,cAKV6C,EALU,iBAMYpF,EAAQuC,cANpB,eAMV8C,EANU,iBAOgBtJ,EAAYwG,cAP5B,QAOV+C,EAPU,OASVC,EATU,sBAUXJ,GAVW,YAWXC,GAXW,YAYXC,GAZW,YAaXC,IAELvb,EAAUwb,GACVZ,IAAW,OAACY,QAAD,IAACA,KAAaj3C,SAhBT,kDAkBhB3C,IAAOsE,MAAM,gBAAa8V,MAAQ,KAAE5Z,QAAUm4B,OAAO,EAAD,KACpDyF,EAAU,CAAC,gBAAahkB,MAAQ,KAAE5Z,QAAUm4B,OAAO,EAAD,MAnBlC,QAqBlBogB,GAAU,GArBQ,0DAAH,qDAwBjB,OACE,sBAAKt4C,UAAU,YAAf,UACE,mCACGpB,EAAKgF,KADR,YAC2BoN,EACxBijC,EAAW,IAAM,MAEpB,qBAAKj0C,UAAU,iBAAf,SACE,qBAAKA,UAAU,UAAf,SACGwpB,EAAM9lB,KAAI,SAAC01C,GAAD,OACT,qBAAkBvsC,MAAOmE,IAASooC,EAAEx1C,KAAO,GAAKu0C,GAAhD,SACE,cAACiB,EAAElc,UAAH,eAAiBkc,EAAEz5C,SADXy5C,EAAEx1C,aAMjB40C,GACC,sBAAKx4C,UAAU,UAAf,UACE,cAAC28B,GAAA,EAAD,CACEC,QAAQ,YACR38B,MAAM,UACNC,QAASi2C,EACT7b,SAAU+d,IAAWpE,EACrBpnC,MAAO,CAAEo4B,SAAU,KALrB,SAOGoT,EAAS,cAACja,GAAA,EAAD,CAAkBt8B,KAAM,KAAS+T,EAAKG,SAAL,QAE3CqiC,IAAgB,OAAN3a,QAAM,IAANA,OAAA,EAAAA,EAAQx7B,QAAS,GAC3B,qBAAKlC,UAAU,SAAf,SACG09B,EAAOh6B,KAAI,SAACyG,EAAK8G,GAAN,OACV,+BAAmB9G,GAAR8G,SAIfonC,GAAUhJ,GACV,qBAAKrvC,UAAU,UAAf,SAA0B6V,EAAKG,SAAS,sC,mBE3IrCqjC,GA7CI,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,MACdzjC,EAAOC,eAEb,OACE,qBAAK9V,UAAU,sBAAf,SACGs5C,GACCA,EAAM51C,KAAI,SAAC61C,GACT,OAAIA,GAAQA,EAAKr1C,OAASywB,IAEtB,qBAAK30B,UAAU,wBAAf,SACE,qBAAKA,UAAU,eADjB,oBAAyDwoC,IAAQC,aAKjE8Q,GAAQA,EAAKr1C,OAASmjB,IAEtB,cAAC,KAAD,CAEElnB,GAAIo5C,EAAKp5C,GACTmN,OAAQisC,EAAKjsC,OACbgI,QAASikC,EAAKjkC,QACdC,QAASgkC,EAAKhkC,QACdC,eAAgB+jC,EAAK/jC,eACrBC,kBAAmB8jC,EAAK9jC,kBACxBC,mBAAoB6jC,EAAK7jC,mBACzBC,0BAA2B4jC,EAAK5jC,0BAChCC,gBAAiB2jC,EAAK3jC,iBATjB2jC,EAAKp5C,IAed,cAACqb,GAAA,EAAD,CAEEzF,QAASF,EAAKG,SAASujC,EAAKjsC,QAC5BpN,QAAS,kBAAMq5C,EAAK/jC,kBACpBF,QAASikC,EAAKjkC,QACdC,QAASgkC,EAAKhkC,SAJTgkC,EAAKjsC,cCzDT,I,OAAA,IAA0B,kCCA1B,OAA0B,sCCA1B,OAA0B,+BCWnCksC,GAAeC,cAAgB,gBAAGl4C,EAAH,EAAGA,MAAH,OACnC,oBAAIvB,UAAU,kBAAd,SACE,sBAAMA,UAAU,uBAAhB,SAAwCuB,KADLA,MAKjCm4C,GAAeC,cAAkB,gBAAGpX,EAAH,EAAGA,MAAH,OACrC,6BACGA,EAAM7+B,KAAI,SAAC8D,EAAMyJ,GAAP,OACT,cAACuoC,GAAD,CAA+BvoC,MAAOA,EAAO1P,MAAOiG,EAAKjG,OAAtCiG,EAAKjG,eAoGfq4C,GAlFA,SAAC,GAqCI,IAAD,IApCjBC,gCAoCiB,MApCU,CACzB,CAAE15C,GAAI,GAAIoB,MAAO,iBAAkBrB,QAAS,cAC5C,CAAEC,GAAI,GAAIoB,MAAO,gBAAiBrB,QAAS,cAC3C,CAAEC,GAAI,GAAIoB,MAAO,iBAAkBrB,QAAS,cAC5C,CAAEC,GAAI,GAAIoB,MAAO,kBAAmBrB,QAAS,cAC7C,CAAEC,GAAI,GAAIoB,MAAO,oBAAqBrB,QAAS,cAC/C,CAAEC,GAAI,GAAIoB,MAAO,qBAAsBrB,QAAS,cAChD,CAAEC,GAAI,GAAIoB,MAAO,iBAAkBrB,QAAS,cAC5C,CAAEC,GAAI,GAAIoB,MAAO,qBAAsBrB,QAAS,cAChD,CAAEC,GAAI,GAAIoB,MAAO,uBAAwBrB,QAAS,cAClD,CAAEC,GAAI,GAAIoB,MAAO,wBAAyBrB,QAAS,cACnD,CAAEC,GAAI,GAAIoB,MAAO,iBAAkBrB,QAAS,cAC5C,CAAEC,GAAI,GAAIoB,MAAO,iBAAkBrB,QAAS,cAC5C,CAAEC,GAAI,GAAIoB,MAAO,iBAAkBrB,QAAS,cAC5C,CAAEC,GAAI,GAAIoB,MAAO,iBAAkBrB,QAAS,cAC5C,CAAEC,GAAI,GAAIoB,MAAO,kBAAmBrB,QAAS,cAC7C,CAAEC,GAAI,GAAIoB,MAAO,kBAAmBrB,QAAS,cAC7C,CAAEC,GAAI,GAAIoB,MAAO,gBAAiBrB,QAAS,cAC3C,CAAEC,GAAI,GAAIoB,MAAO,oBAAqBrB,QAAS,cAC/C,CAAEC,GAAI,GAAIoB,MAAO,kBAAmBrB,QAAS,cAC7C,CAAEC,GAAI,GAAIoB,MAAO,kBAAmBrB,QAAS,cAC7C,CAAEC,GAAI,GAAIoB,MAAO,mBAAoBrB,QAAS,eAe/B,MAbjB45C,kCAaiB,MAbY,CAC3B,CAAExsC,OAAQ,SAAUgI,QAASykC,GAAcvkC,eAAgB,eAY5C,MAVjBwkC,8BAUiB,MAVQ,CACvB,CAAE75C,GAAI,GAAIoB,MAAO,gBAAiBrB,QAAS,cAC3C,CAAEC,GAAI,GAAIoB,MAAO,kBAAmBrB,QAAS,cAC7C,CAAEC,GAAI,GAAIoB,MAAO,iBAAkBrB,QAAS,eAO7B,MALjB+5C,gCAKiB,MALU,CACzB,CAAE3sC,OAAQ,OAAQgI,QAAS4kC,GAAU1kC,eAAgB,cACrD,CAAElI,OAAQ,KAAMgI,QAAS6kC,GAAQ3kC,eAAgB,cACjD,CAAElI,OAAQ,SAAUgI,QAASqyB,GAAmBnyB,eAAgB,eAEjD,EACjB,EACE4U,mBAAS4vB,GADX,oBAAOI,EAAP,KAAoCC,EAApC,KAOA,OACE,sBAAKr6C,UAAU,gCAAf,UACE,sBAAKA,UAAU,gCAAf,UACE,qBAAKA,UAAU,gBAAf,+BACA,oBAAIA,UAAU,iBAAd,SACG65C,EAAyBn2C,KAAI,SAAC8D,GAAD,OAC5B,oBAAIxH,UAAU,kBAAd,SACE,sBAAMA,UAAU,uBAAhB,SAAwCwH,EAAKjG,SADViG,EAAKjG,YAK9C,qBAAKvB,UAAU,sBAAf,SACE,cAAC6nB,EAAA,EAAD,CAAWT,QAAS0yB,SAIxB,sBAAK95C,UAAU,8BAAf,UACE,qBAAKA,UAAU,gBAAf,+BACA,oBAAIA,UAAU,iBAAd,SACE,cAAC05C,GAAD,CACEY,YAAY,+BACZ/X,MAAO6X,EACPrZ,UA1BwB,SAAC,GAA4B,IAA1BN,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAC7C2Z,EAA+BE,aAAUH,EAA6B3Z,EAAUC,SA4B5E,qBAAK1gC,UAAU,sBAAf,SACE,cAAC6nB,EAAA,EAAD,CAAWT,QAAS6yB,SAIxB,qBAAKj6C,UAAU,qBAAf,SACE,qBAAKA,UAAU,gBAAf,8BC1GFw6C,G,4MAOJC,MAAQ,SAACx2C,GACP,GACO,aADCA,EAAKL,KAET,EAAKjE,MAAM+6C,mBAAmB,CAC5Bxd,UAAW,cAAC,GAAD,O,EASnByd,eAAiB,IAAIC,G,wDAnBrB,SAAmBprB,GACbA,EAAUvrB,OAASvE,KAAKC,MAAMsE,MAChCvE,KAAK+6C,MAAM/6C,KAAKC,MAAMsE,Q,oBAmB1B,WACE,OAAO,S,GAvBa7D,aA2BxBo6C,GAAUvtC,aAAe,CACvBhJ,UAAMoE,GAeR,ICIKwyC,GDSU3tC,gBAbS,SAACC,GAAD,MAAY,CAClC2tC,eAAgB3tC,EAAMmoB,QAAQwlB,mBAGL,SAACn4B,GAAD,MAAe,CACxC+3B,mBAAoB,SAACxS,GACnBvlB,EAASo4B,YAAa7S,KAExB8S,WAAY,SAAC1lB,GACX3S,EAASq4B,aAAW1lB,QAITpoB,CAA6CstC,I,iBCTvDK,O,mBAAAA,I,mBAAAA,I,aAAAA,I,eAAAA,I,aAAAA,I,kBAAAA,Q,KAoBL,IAAMI,GAAc,SAACl4C,EAAoBuiB,GACvC,OAAOviB,EAAE6uB,SAAWtM,EAAEsM,SAAW,GAAK,GAGlCwI,GAAYC,cAAW,iBAAO,CAClCtX,MAAO,CACLjG,SAAU,SACVqd,UAAW,sCAoiBA+gB,GA3hBK,SAAC,GAAoD,IAAD,EAA7C5xB,EAA6C,EAAjDnpB,GAAY0E,EAAqC,EAArCA,aAC3BqjB,EAAQ2N,aAAiB,SAAC1oB,GAAD,uBAAWA,EAAMC,WAAjB,aAAW,EAAW8a,SAC/CzkB,EAAcoyB,aAAiB,SAAC1oB,GAAD,OAAWA,EAAM1J,eAChDkf,EAAWqiB,cACXp5B,EAAgBiqB,aAAiB,SAAC1oB,GAAD,uBAAWA,EAAMC,WAAjB,aAAW,EAAWxB,iBACvDhE,EAA4BiuB,aAChC,SAAC1oB,GAAD,uBAAWA,EAAMC,WAAjB,aAAW,EAAWxF,6BAElBgK,EAAgBikB,aAAiB,SAAC1oB,GAAD,uBAAWA,EAAMC,WAAjB,aAAW,EAAWwE,iBACvD6oB,EAAUL,KAEhB,EAAkChQ,mBAA4B,IAA9D,oBAAO+wB,EAAP,KAAkBC,EAAlB,KACA,EAAkDhxB,wBAChD/hB,GADF,oBAAOgzC,EAAP,KAA0BC,EAA1B,KAGA,EAA4BlxB,mBAAiC,MAA7D,oBAAOihB,EAAP,KAAekQ,EAAf,KACMC,EAAmBviB,iBASvB,IACF,EAAkC7O,mBAAS,GAA3C,oBAAOliB,EAAP,KAAkBuzC,EAAlB,KACA,EAAkDrxB,oBAAS,GAA3D,oBAAOsxB,EAAP,KAA0BC,EAA1B,KACA,EAAoCvxB,mBAAS,IAA7C,oBAAOwxB,EAAP,KAAmBC,EAAnB,KAEMtyB,EAAW,OAAG9lB,QAAH,IAAGA,GAAH,UAAGA,EAAcoB,UAAjB,aAAG,EAA6B0kB,YAEjDkB,qBAAU,WAC6C,IAAjD7e,EAAchE,0BAA0B9F,MAC1C8J,EACGkwC,iCAAiC5zB,EAAMplB,UACvC2W,MAAK,kBAAMyO,EAAMG,6BAA6Bzc,QAGlD,IAEH6e,qBAAU,WAAO,IAAD,EAYRsxB,EAX+B,SAAC57C,GACpC,GAAKA,EAAL,CAGO,GAAuC,IAAnCyH,EAA0B9F,KAIrC,OAAO8F,EAA0BgD,IAAIzK,GAHnCZ,IAAOuL,KAAK,2CAHZvL,IAAOuL,KAAK,8DASIkxC,CAA6Bn3C,GACjD8rB,QAAQsrB,IAAIp3C,EAAck3C,GAC1BN,EAAY,OAACM,QAAD,IAACA,OAAD,EAACA,EAAa7zC,WAE1B,IAyCMpC,EAzCkB,SAAlBo2C,EACJj4C,EACA4qB,GACI,IAAD,EACH,IAAK5qB,EACH,OAAO,KAGT,IAAQL,EAAiEK,EAAjEL,KAAMu4C,EAA2Dl4C,EAA3Dk4C,QAASvqB,EAAkD3tB,EAAlD2tB,SAAU3pB,EAAwChE,EAAxCgE,SAAUusC,EAA8BvwC,EAA9BuwC,WAAY0D,EAAkBj0C,EAAlBi0C,cAOjDkE,EAAmC,CACvCvtB,aACAjrB,KAJ2Bq0C,GAAWh0C,IAAUg0C,GAAWppB,IAH9C,SAACqe,GAAD,cACb,UAACA,EAAM9oC,gBAAP,OAAC,EAAgBlC,UAA8B,IAApBgrC,EAAMtb,WAAoBsb,EAAMsH,WAEe6H,CAAOp4C,GAK7EL,EACE,sBAAMiJ,MAAO,CAAE5M,MAAO,WAAtB,SAAoC2D,IAC1Cu4C,UACAvqB,WACA3pB,WACA+kC,SAAS,EACTwH,aACA0D,iBAGI9zC,EAAQ,UAAGH,EAAKG,gBAAR,aAAG,EAAeguB,QAAO,SAACC,EAAKpuB,GAC3C,IAAMq4C,EAAWJ,EAAgBj4C,EAAMm4C,GAIvC,OAHIE,GACFjqB,EAAI/rB,KAAKg2C,GAEJjqB,IACN,IAIH,OAFA+pB,EAAgBh4C,SAAmB,OAARA,QAAQ,IAARA,KAAUlC,OAASkC,OAAWiE,EAElD+zC,EAGIF,CAAgBH,GAE7B,GAAI,OAACj2C,QAAD,IAACA,GAAD,UAACA,EAAM1B,gBAAP,OAAC,EAAgBlC,OAArB,CAIA,IAAMi5C,EAAYr1C,EAAK1B,SAASihB,KAAK41B,IACrCG,EAAaD,MACZ,CAACvzC,EAA2B/C,IAE/B4lB,qBAAU,YACO,OAAXlB,QAAW,IAAXA,OAAA,EAAAA,EAAa8d,iBAAkB/d,IACjCgkB,GACE,kBAAM,KACN,iBAAO,CACLL,QAAQ,MAGZsO,EAAU,SAGX,QAAChyB,QAAD,IAACA,OAAD,EAACA,EAAa8d,gBAEjB,IAAMkV,EAAkB3xB,uBACtB,SAAC4xB,GACMjzB,GAAgBizB,EAAQ3tB,cAGd,OAAXtF,QAAW,IAAXA,OAAA,EAAAA,EAAa8d,iBAAkB/d,GACjC3G,EAAS85B,YAAgB53C,EAAcykB,IAGzC3G,EACEo4B,YAAa,CACX7d,UACE,qBAAKl9B,UAAU,2BAAf,SACE,cAAC,GAAD,CACEoF,aAAcV,SAASG,GACvBjG,KAAM49C,EAAQ3tB,WACd7d,KAAMwrC,EAAQ54C,eAO1B,CAAC+e,EAAU9d,EAAc0kB,EAAaD,IAGlCgkB,EAAkB1iB,uBACtB,SACE2iB,EACAC,EACAC,GAYA2N,GAVuB,SAAjB1N,EAAkB5nC,GACtB,OAAOA,EAAKpC,KAAI,SAACO,GAAU,IAAD,EAClBG,EAAW,UAAAH,EAAKG,gBAAL,SAAelC,OAASwrC,EAAezpC,EAAKG,UAAYH,EAAKG,SAC9E,OAA0B,oBAAfmpC,EAA4BA,EAAWtpC,GAAQA,IAASspC,GAC1D,2BAAKtpC,GAAZ,IAAkBG,YAAaopC,EAAiBvpC,IAEzCwpC,EAAe,2BAAQxpC,GAAR,IAAcG,YAAaqpC,EAAgBxpC,IAAUA,UAMnF,IAGI0pC,EAAgB/iB,uBACpB,SAAC3mB,EAAuB+oC,GAAsB,IAAD,EACrCqP,IAAS,UAACp4C,EAAKG,gBAAN,OAAC,EAAelC,UAA6B,IAAnB+B,EAAK2tB,WAAoB3tB,EAAKuwC,WAEvElH,EACErpC,GACA,SAACA,GAAD,YAAW,CACTgpC,QAAQ,EACRD,QAAS,UAAA/oC,EAAKG,gBAAL,SAAelC,OAAS8qC,IAAY/oC,EAAKgpC,OAAShpC,EAAK+oC,YAElE,iBAAO,CAAEC,QAAQ,MAGnBuO,EAAiBtiB,QAAQ5yB,KAAK,CAC5BpC,KAAM22C,GAAW6B,OACjBtkB,KAAI,OAAEiT,QAAF,IAAEA,OAAF,EAAEA,EAAQzZ,SACd+qB,GAAI14C,EAAK2tB,WAGX2pB,EAAUt3C,GAENo4C,GAAUpE,GAAWh0C,EAAK4qB,aAC5B0tB,EAAgBt4C,KAGpB,QAAConC,QAAD,IAACA,OAAD,EAACA,EAAQzZ,SAAU2qB,EAAiBjP,IAGhCsP,EAA+BhyB,uBAAY,WAC/C,IAAKygB,EACH,MAAO,CAAEzZ,SAAU,EAAG3pB,SAAU,MAGlC,IADA,IAAIhE,EAAOonC,GACHpnC,EAAK2tB,WAA+B,IAAnB3tB,EAAK2tB,UAAiB,CAC7C,IAAK3tB,EAAK4qB,WACR,MAAO,CAAE+C,SAAU,EAAG3pB,SAAU,MAElChE,EAAOA,EAAK4qB,WAGd,IAAM5d,EAAQkqC,EAAUjqC,WAAU,SAACorC,GAAD,OAAcA,EAASr0C,WAAahE,EAAKgE,YAE3E,MAAO,CAAE2pB,UADmB,IAAX3gB,EAAeA,EAAQ,EAAIhN,EAAK2tB,SAAW3tB,EAAK2tB,SAAW,EACzD3pB,SAAUhE,EAAKgE,YACjC,CAACojC,EAAQ8P,IAEN0B,EAAUjyB,uBAAY,WAC1B2wB,EAAU,QACT,IAEGuB,EAAalyB,uBACjB,SAACpiB,GACC,GAAK6iC,EAAL,CAGA,IAAQzZ,EAAayZ,EAAbzZ,SACR4pB,EAAiBtiB,QAAQ5yB,KAAK,CAC5BpC,KAAM22C,GAAWkC,OACjBxD,KAAK,2BAAMlO,GAAP,IAAe4B,QAAQ,MAG7B/kB,EAAM40B,WAAWj4C,EAAc2D,GAC/B4yC,EAAaD,EAAU1vB,QAAO,SAAC6wB,GAAD,OAAcA,EAAS1qB,WAAaA,MAClEirB,OAEF,CAACxR,EAAQxmC,EAAcqjB,EAAO20B,EAAS1B,IAUnCznB,GAAcpI,mBAAQ,WAC1B,IAcM0xB,EAAQ,uCAAG,8BAAAj6C,EAAA,yDACVsoC,EADU,0DAIMuR,IAAb30C,EAJO,EAIPA,SACRuzC,EAAiBtiB,QAAQ5yB,KAAK,CAC5BpC,KAAM22C,GAAWoC,KACjB1D,KAAK,2BAAMlO,GAAP,IAAe4B,QAAQ,MAPd,SAUT/kB,EAAM80B,SAASn4C,EAAcoD,GAVpB,2CAAH,qDAaRi1C,EAAO,uCAAG,gCAAAn6C,EAAA,yDACTsoC,EADS,0DAIiBuR,IAAvBhrB,EAJM,EAINA,SAAU3pB,EAJJ,EAIIA,SAClBuzC,EAAiBtiB,QAAQ5yB,KAAK,CAC5BpC,KAAM22C,GAAWsC,IACjB5D,KAAK,2BAAMlO,GAAP,IAAe4B,QAAQ,MAPf,SAUR/kB,EAAMg1B,QAAQr4C,EAAcoD,GAVpB,OAWd40C,IACAzB,EAAaD,EAAU1vB,QAAO,SAAC6wB,GAAD,OAAcA,EAAS1qB,WAAaA,MAZpD,2CAAH,qDAePwrB,EAAS,uCAAG,8BAAAr6C,EAAA,yDACXsoC,EADW,0DAIKuR,IAAb30C,EAJQ,EAIRA,SACRuzC,EAAiBtiB,QAAQ5yB,KAAK,CAC5BpC,KAAM22C,GAAWwC,MACjB9D,KAAK,2BAAMlO,GAAP,IAAe4B,QAAQ,MAPb,SAUV/kB,EAAMk1B,UAAUv4C,EAAcoD,GAVpB,2CAAH,qDAaTkf,EAAUrT,YAAYlC,GACtB0rC,EAAYtpC,YAAcpC,GAoBhC,MAnBgB,CACd,CAAEtE,OAAQ,OAAQgI,QAASioC,GAAU/nC,eAAgBwnC,EAAUznC,QAAS4R,GACxE,CAAE7Z,OAAQ,MAAOgI,QAASkoC,GAAShoC,eAAgB0nC,EAAS3nC,QAAS4R,GACrE,CAAE7Z,OAAQ,QAASgI,QAASmoC,GAAWjoC,eAAgB4nC,EAAW7nC,QAAS4R,GAC3E,CAAE7Z,OAAQ,YAAagI,QAASooC,GAAYloC,eA7D1B,WAClB83B,GACE,kBAAM,KACN,SAACrpC,GAAD,YAAW,CAAE+oC,UAAU,UAAC/oC,EAAKG,gBAAN,QAAC,EAAelC,aA0DgCqT,QAAS4R,GAClF,CACE7Z,OAAQ,cACRgI,QAASqoC,GACTnoC,eA1DkB,WACpB83B,GACE,kBAAM,KACN,iBAAO,CAAEN,SAAS,OAwDlBz3B,QAAS4R,GAEX,CACE7Z,OAAQ,SACRgI,QAASsoC,KACTpoC,eAAgB,kBAAMmmC,GAAqB,IAC3CpmC,QAAS+nC,MAKZ,CACDjS,EACAuR,EACA/3C,EACA+M,EACAsW,EACA20B,EACA1B,EACA7N,IAGIuQ,GAAcvyB,mBAAkC,WACpD,IAAMwyB,EAAO,uCAAG,WAAO55C,GAAP,mBAAAnB,EAAA,+DACO65C,IAAbhrB,EADM,EACNA,SADM,SAEU1J,EAAM41B,QAAQj5C,EAAcqD,EAAWhE,EAAM0tB,GAFvD,OAERmsB,EAFQ,OAGdvC,EAAiBtiB,QAAQ5yB,KAAK,CAC5BpC,KAAM22C,GAAWmD,IACjBpsB,WACAqsB,OAAQF,IANI,2CAAH,sDASPG,EAASnqC,YAAWnC,GAC1B,MAAO,CACL,CACEtE,OAAQ,yBACRgI,QAAS6oC,GACT3oC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYC,oBACxD9oC,QAAS2oC,GAEX,CACE5wC,OAAQ,uBACRgI,QAASgpC,GACT9oC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYG,kBACxDhpC,QAAS2oC,GAEX,CACE5wC,OAAQ,6BACRgI,QAASkpC,GACThpC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYK,wBACxDlpC,QAAS2oC,GAEX,CACE5wC,OAAQ,6BACRgI,QAASopC,GACTlpC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYO,wBACxDppC,QAAS2oC,GAEX,CACE5wC,OAAQ,0BACRgI,QAASspC,GACTppC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYS,qBACxDtpC,QAAS2oC,GAEX,CACE5wC,OAAQ,8BACRgI,QAASopC,GACTlpC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYU,yBACxDvpC,QAAS2oC,GAEX,CACE5wC,OAAQ,iCACRgI,QAASypC,GACTvpC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYY,4BACxDzpC,QAAS2oC,GAEX,CACE5wC,OAAQ,wBACRgI,QAAS2pC,GACTzpC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYc,mBACxD3pC,QAAS2oC,GAEX,CACE5wC,OAAQ,kCACRgI,QAAS6pC,GACT3pC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYgB,6BACxD7pC,QAAS2oC,GAEX,CACE5wC,OAAQ,8BACRgI,QAAS+pC,GACT7pC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYkB,yBACxD/pC,QAAS2oC,GAEX,CACE5wC,OAAQ,wBACRgI,QAASiqC,KACT/pC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYoB,mBACxDjqC,QAAS2oC,GAEX,CACE5wC,OAAQ,yBACRgI,QAASopC,GACTlpC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYqB,oBACxDlqC,QAAS2oC,GAEX,CACE5wC,OAAQ,wBACRgI,QAASoqC,GACTlqC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYuB,mBACxDpqC,QAAS2oC,GAEX,CACE5wC,OAAQ,yBACRgI,QAASsqC,GACTpqC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYyB,eACxDtqC,QAAS2oC,GAEX,CACE5wC,OAAQ,4BACRgI,QAASwqC,GACTtqC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAY2B,uBACxDxqC,QAAS2oC,GAEX,CACE5wC,OAAQ,wBACRgI,QAAS0qC,GACTxqC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAY6B,mBACxD1qC,QAAS2oC,GAEX,CACE5wC,OAAQ,gCACRgI,QAAS4qC,GACT1qC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAY+B,2BACxD5qC,QAAS2oC,GAEX,CACE5wC,OAAQ,sCACRgI,QAAS8qC,GACT5qC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYiC,iCACxD9qC,QAAS2oC,GAEX,CACE5wC,OAAQ,uBACRgI,QAASgrC,GACT9qC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYmC,kBACxDhrC,QAAS2oC,GAEX,CACE5wC,OAAQ,2BACRgI,QAASkrC,GACThrC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYqC,sBACxDlrC,QAAS2oC,GAEX,CACE5wC,OAAQ,wBACRgI,QAASorC,GACTlrC,eAAgB,kBAAMsoC,EAAQ76C,IAASC,KAAKk7C,YAAYuC,mBACxDprC,QAAS2oC,MAGZ,CAACtB,EAA8B/3C,EAAcqjB,EAAOhgB,EAAW0J,IA4BlE,OAAIwB,YAAmBxB,IAAkByB,YAAmBzB,GAExD,sBAAK5R,UAAU,kBAAf,UACE,cAACP,GAAA,EAAD,CACEI,KAAM67C,EACN97C,QAAS,SAACghD,GAAD,OA5QgB,SAACA,GAC5BA,GAAS,OAAIvV,QAAJ,IAAIA,KAAQpjC,UACvB60C,EAAWzR,EAAOpjC,UAEpB0zC,GAAqB,GAwQkBkF,CAAyBD,IAC1D7gD,QACE,cAAC,KAAD,CAAkBI,GAAG,4BAA4B6P,OAAQ,CAAE8wC,SAAQ,OAAEzV,QAAF,IAAEA,OAAF,EAAEA,EAAQznC,UAGjF,cAAC,GAAD,CAAY01C,MAAOuE,KACnB,qBAAK79C,UAAU,UAAf,SACE,qBAAKA,UAAU,4BAA4B6M,MAAO,CAAEk0C,cAAe,IAAnE,SACE,gCACG1V,GAAU,cAAC,GAAD,CAAWpnC,KAAMonC,IAC5B,qBAAKrrC,UAAU,OAAf,SACE,cAAC24B,GAAA,EAAD,CACE5V,MAAM,SACN7e,KAAK,OACL04B,QAAQ,WACR/vB,MAAO,CAAEC,MAAO,QAChB0Z,SA/CyE,SACvFqH,GAEA,IAAM3K,EAAO2K,EAAM1C,OAAO5pB,MAC1Bs6C,EAAc34B,GAWdo4B,EACEp4B,EACIi4B,EAAU1vB,QAAO,SAACjkB,GAAD,MACM,kBAAdA,EAAK5D,KACR4D,EAAK5D,KAAK+L,cAAclL,QAAQye,EAAKvT,gBAAkB,EAbhC,SAACgf,GAClC,IACE,OACEqyB,KAAeC,eAAetyB,GAAShf,cAAclL,QAAQye,EAAKvT,gBAAkB,EAEtF,MAAOsJ,GACP,OAAO,GAQCioC,CAA2B15C,EAAK5D,cAEtCyE,IA0BQ9G,MAAOq6C,EACPnW,gBAAiB,CAAEhL,QAAS,CAAEiL,KAAMjL,EAAQ1X,YAGhD,cAAC,aAAD,CACEnkB,KAAI,OAAEy8C,QAAF,IAAEA,IAAqBF,EAC3BtN,SAAU,SAAC5pC,EAAM+oC,GAAP,OAAmBW,EAAc1pC,EAAe+oC,IAC1DngC,MAAOk+B,YAKf,cAACljB,EAAA,EAAD,CAAWC,cAAY,EAACV,QAASsM,QAIhC,yBCxmBHytB,GAAkB,SAAC33B,GACvB,OAAOA,EAAM4I,QAAO,SAACkD,EAAStkB,GAAV,mBAAC,eAAwBskB,GAAzB,kBAAmCtkB,EAAK7Q,GAAK6Q,MAAS,KAGtEu3B,GAAiB,CACrB,CACEzoC,MAAO,iBACPwN,OAAQ,cACRwvB,QAAS,CACP,CAAEh9B,MAAO,IAAKyB,MAAO,GACrB,CAAEzB,MAAO,IAAKyB,MAAO,GACrB,CAAEzB,MAAO,IAAKyB,MAAO,GACrB,CAAEzB,MAAO,IAAKyB,MAAO,KAGzB,CACEzB,MAAO,kBACPwN,OAAQ,eACRwvB,QAAS,CACP,CAAEh9B,MAAO,IAAKyB,MAAO,GACrB,CAAEzB,MAAO,IAAKyB,MAAO,GACrB,CAAEzB,MAAO,IAAKyB,MAAO,GACrB,CAAEzB,MAAO,IAAKyB,MAAO,KAGzB,CACEzB,MAAO,sBACPwN,OAAQ,eACRwvB,QAAS,CACP,CAAEh9B,MAAO,IAAKyB,MAAO,GACrB,CAAEzB,MAAO,IAAKyB,MAAO,GACrB,CAAEzB,MAAO,IAAKyB,MAAO,GACrB,CAAEzB,MAAO,IAAKyB,MAAO,MAKd6/C,GAAc,cACdC,GAAe,eACf1zC,GAAa,aACbF,GAAiB,iBACjBC,GAAY,YACZ4zC,GAAmB,mBACnBC,GAAkB,kBAElBC,GAAyB,yBAEzBC,GAAkB,kBAElBC,GAAuB,UAEf9G,G,8DACnB+G,WAAa,SAACxhD,GACZ,OAAQA,IACDshD,GACI,EAAKG,oBAIL,M,KAIbC,mBAAqB,SAACC,EAAUniD,GAC9B,IAAMoiD,EAAO,EAAKC,YAAYF,EAASG,sBACvC,IAAKF,EACH,OAAO,EAGT,IAAMzgD,EAAG,UAAMwgD,EAASG,qBAAf,YAAuCH,EAAS3hD,GAAhD,YAAsD2hD,EAASj9C,cAElEq9C,EAAW,uCACZH,EAAKG,aACLviD,GAFY,IAGf2B,QAGF,OAAQygD,EAAKE,sBACX,KAAKb,GACH,OAAO,cAAC,GAAD,eAAgBc,IACzB,KAAKb,GACH,OAAO,cAAC,GAAD,eAAiBa,IAC1B,KAAKv0C,GACH,OAAO,cAAC,GAAD,eAAeu0C,IACxB,KAAKz0C,GACH,OAAO,cAAC,GAAD,eAAmBy0C,IAC5B,KAAKZ,GACH,OAAO,cAAC,EAAD,eAAoBY,IAC7B,KAAKX,GACH,OAAO,cAAC,GAAD,eAAmBW,IAC5B,KAAKx0C,GACH,OAAO,cAAC,GAAD,eAAcw0C,IACvB,QACE,OAAO,qDAAwBH,EAAKE,0B,KAI1CD,YAAc,SAAC7hD,GACb,OAAQA,GACN,KAAKihD,GACH,MAAO,CACLjhD,GAAIqoC,IAAQC,WACZnR,QAAS,+BACT2qB,qBAAsBb,GACtBc,YAAa,CAAE3Z,oBAEnB,KAAK8Y,GACH,MAAO,CACLlhD,GAAIqoC,IAAQC,WACZnR,QAAS,iCACT2qB,qBAAsBZ,IAE1B,KAAK1zC,GACH,MAAO,CACLxN,GAAIqoC,IAAQC,WACZnR,QAAS,+BACT2qB,qBAAsBt0C,IAE1B,KAAKF,GACH,MAAO,CACLtN,GAAIqoC,IAAQC,WACZnR,QAAS,mCACT2qB,qBAAsBx0C,IAE1B,KAAK6zC,GACH,MAAO,CACLnhD,GAAIqoC,IAAQC,WACZnR,QAAS,oCACT2qB,qBAAsBX,IAE1B,KAAKC,GACH,MAAO,CACLphD,GAAIqoC,IAAQC,WACZnR,QAAS,mCACT2qB,qBAAsBV,IAE1B,KAAK7zC,GACH,MAAO,CACLvN,GAAIqoC,IAAQC,WACZnR,QAAS,8BACT2qB,qBAAsBv0C,IAE1B,QACE,OAAO,O,KAIby0C,mBAAqB,WACnB,IAAM34B,EAAQ,CACZ,EAAKw4B,YAAYr0C,IACjB,EAAKq0C,YAAYt0C,IACjB,EAAKs0C,YAAYV,KAEnB,MAAO,CACLnhD,GAAIqhD,GACJlsB,QAAS6rB,GAAgB33B,GACzBsqB,aAAc,CACZsO,MAAO,CACLC,UAAW,MACXC,gBAAiB,GACjBF,MAAO54B,EAAM,GAAGrpB,GAChBoiD,OAAQ/4B,EAAM,GAAGrpB,IAEnBkiD,UAAW,SACXC,gBAAiB,GACjBC,OAAQ/4B,EAAM,GAAGrpB,M,KAKvByhD,kBAAoB,WAAkC,IAAjCh+C,EAAgC,uDAAzB89C,GACpBc,EAAcha,IAAQC,WAC5B,MAAO,CACLtoC,GAAIyD,EACJA,OACA0xB,QAAQ,eACLktB,EAAc,IAEjB1O,aAAc0O,I,KAIlBC,iBAAmB,WACjB,IAAMj5B,EAAQ,CACZ,EAAKw4B,YAAYX,IACjB,EAAKW,YAAYr0C,IACjB,EAAKq0C,YAAYv0C,KAEnB,MAAO,CACLtN,GAAIshD,GACJnsB,QAAS6rB,GAAgB33B,GACzBsqB,aAAc,CACZuO,UAAW,MACXD,MAAO54B,EAAM,GAAGrpB,GAChBmiD,gBAAiB,GACjBC,OAAQ,CACNF,UAAW,SACXC,gBAAiB,GACjBF,MAAO54B,EAAM,GAAGrpB,GAChBoiD,OAAQ/4B,EAAM,GAAGrpB,O,KAMzBuiD,iBAAmB,WACjB,IAAMl5B,EAAQ,CACZ,CACErpB,GAAIqoC,IAAQC,WACZwZ,qBAAsBZ,GACtB/pB,QAAS,kCAGb,MAAO,CACLn3B,GAAI,cACJm1B,QAAS6rB,GAAgB33B,GACzBsqB,aAActqB,EAAM,GAAGrpB,S,qDCnOd,MAA0B,uCCA1B,MAA0B,gCCA1B,MAA0B,iCCA1B,MAA0B,iCCOnCqa,EAAQ,CACZC,YAAa,CACXta,GAAI,eACJwiD,QAASC,IACT1/B,KAAM,IAERxI,QAAS,CACPva,GAAI,WACJwiD,QAASE,EACT3/B,KAAM,IAERvI,SAAU,CACRxa,GAAI,YACJwiD,QAASG,EACT5/B,KAAM,IAERtI,eAAgB,CACdza,GAAI,kBACJwiD,QAASI,EACT7/B,KAAM,IAERrI,SAAU,CACR1a,GAAI,YACJwiD,QAASK,EACT9/B,KAAM,IAERpI,SAAU,CACR3a,GAAI,YACJwiD,QAASM,IACT//B,KAAM,KAIK1I,O,6TCXF0oC,EAAwB,WACnC,IAAMvgC,EAAWqiB,cACXme,EAAettB,aAAY,SAAC1oB,GAAD,OAAWA,KAC5C,EAAiD0oB,aAAiB,SAAC1oB,GAAD,OAAWA,EAAMC,OAA3EwB,EAAR,EAAQA,KAAM9L,EAAd,EAAcA,SAAU8O,EAAxB,EAAwBA,cAAesW,EAAvC,EAAuCA,MAKjCk7B,EAAiBvtB,aAAiB,SAAC1oB,GAAD,OAAWA,EAAMmoB,QAAQ8tB,kBAC3DvtC,EAAOC,cACPI,EAAUmtC,cACVC,EAAYrqB,iBAAyB,MAE3C,EAAgD7O,oBAAS,GAAzD,mBAAOm5B,EAAP,KAAyBC,EAAzB,KACA,EAA4Cp5B,oBAAS,GAArD,mBAAOq5B,EAAP,KAAuBC,EAAvB,KACA,EAA8Ct5B,oBAAS,GAAvD,mBAAOu5B,EAAP,KAAwBC,EAAxB,KAEMC,EAAc,uCAAG,gCAAA9gD,EAAA,sEACEmlB,EAAM47B,oBADR,OACfC,EADe,OAEftsC,EAAO,IAAIC,KAAK,CAACqsC,GAAW,CAAE7/C,KAAM,6BACpC3D,EAAMoX,IAAIC,gBAAgBH,GAChC9Y,YAAc4B,EAAD,qBAAmB,IAAIyjD,MAAOC,cAA9B,SAJQ,2CAAH,qDAsBd7/C,EAAiC,CACrC,CACEjE,GAAI,aACJ+jD,QAASruC,EAAKG,SAAS,4BACvBmuC,KAAMC,IACNlkD,QAAS,kBAAMyiB,EAAS0hC,YAAgBvhD,EAAUqgD,KAClD5tC,UAAS6tC,GAAiBzxC,YAAcC,IAE1C,CACEzR,GAAI,cACJ+jD,QAASruC,EAAKG,SAAS,6BACvBmuC,KAAMG,IACNpkD,QAAS,kBAAMgW,EAAQ5P,KAAK,iBAC5BiP,QAAStB,YAAsBrC,IAAkBsC,YAAsBtC,IAEzE,CACEzR,GAAI,WACJ+jD,QAASruC,EAAKG,SAAS,0BACvBmuC,KAAMI,IACNrkD,QAAS2jD,EACTtuC,QAASpB,YAAwBvC,IAEnC,CACEzR,GAAI,SACJ+jD,QACE,qCACGruC,EAAKG,SAAS,wBACf,uBACE9R,KAAK,OACL/D,GAAG,OACHwnB,IAAK27B,EACLz2C,MAAO,CAAE6a,QAAS,QAClBlB,SA/CsD,SAACqH,GAAW,IAAD,EACnE22B,EAAI,UAAG32B,EAAM1C,OAAOs5B,aAAhB,aAAG,EAAqB,GAClC,GAAID,EAAM,CACR,IAAME,EAAa,IAAIC,WACvBD,EAAWE,kBAAkBJ,GAE7BE,EAAW3rC,OAAS,SAAC8U,GAAW,IAAD,EACvBg3B,EAAW,UAAGh3B,EAAM1C,cAAT,aAAG,EAAc9Z,OAC5ByzC,EACJD,aAAuBE,YAAc,IAAIvtC,WAAWqtC,GAAe,IAAIrtC,WACzE0Q,EAAM88B,gBAAgBR,EAAK5gD,KAAMkhD,WAyCnCX,KAAMc,IACN/kD,QAAQ,WAAD,4BAAE,8BAAA6C,EAAA,yFAAYugD,EAAUpqB,eAAtB,iBAAY,EAAmB75B,aAA/B,aAAY,WAAZ,2CAAF,kDAAC,GACRkW,QAASnB,YAAyBxC,IAEpC,CACEzR,GAAI,OACJgkD,KAAMe,IACNhB,QACE,qCACE,+BAAOruC,EAAKG,SAAS,wBACrB,cAAC,IAAD,CAAQmvC,UAAWpmD,SAASI,KAA5B,SACE,cAAC,IAAD,CAAUU,KAAM4jD,EAAgB7jD,QAAS,kBAAM8jD,GAAkB,WAIvExjD,QAAS,kBAAOujD,GAAkBC,GAAkB,IACpDnuC,SAAS,GAEX,CACEpV,GAAI,eACJgkD,KAAMiB,IACNlB,QACE,qCACE,+BAAOruC,EAAKG,SAAS,4BACrB,cAAC,IAAD,CAAQmvC,UAAWpmD,SAASI,KAA5B,SACE,cAAC,IAAD,CAAcU,KAAM0jD,EAAkB3jD,QAAS,kBAAM4jD,GAAoB,WAI/EtjD,QAAS,kBAAOqjD,GAAoBC,GAAoB,IACxDjuC,SAAS,GAEX,CACEpV,GAAI,QACJgkD,KAAMkB,IACNnB,QACE,qCACE,+BAAOruC,EAAKG,SAAS,yBACrB,cAAC,IAAD,CAAQmvC,UAAWpmD,SAASI,KAA5B,SACE,cAAC,IAAD,CAAWU,KAAM8jD,EAAiB/jD,QAAS,kBAAMgkD,GAAmB,WAI1E1jD,QAAS,kBAAOyjD,GAAmBC,GAAmB,IACtDruC,SAAS,GAEX,CACEpV,GAAI,SACJgkD,KAAMmB,IACNpB,QAASruC,EAAKG,SAAS,wBACvB9V,QAAQ,WAAD,4BAAE,sBAAA6C,EAAA,sDACPmlB,EAAMq9B,uCACNC,GAAa,kBAAO9kD,OAAOC,SAASzB,KAAhB,UAA0BwB,OAAOC,SAAS8kD,OAA1C,cAFb,2CAAF,kDAAC,GAIRlwC,SAAS,IAIb,MAAO,CACLpV,GAAI,YACJgkD,KAAMuB,IACNxB,QAASt1C,EAAK+2C,SACdpwC,SAAS,EACTnR,e,iECvKW,QAA0B,oC,iCCA1B,QAA0B,yC,iCCA1B,QAA0B,2C,iCCA1B,QAA0B,oC,iCCA1B,QAA0B,kC,yJCYnCwhD,E,4JACJ,WACE,MAA+ClmD,KAAKC,MAA5CC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,KAAMgW,EAAvB,EAAuBA,KAAMjK,EAA7B,EAA6BA,cAE7B,OAAKA,EAKH,eAAC,IAAD,CAAQ9L,MAAO,cAAC,IAAD,CAAkBK,GAAG,cAAgBP,QAASA,EAASC,KAAMA,EAA5E,UACE,qBAAKG,UAAU,UAAf,SAA0BgB,mIAAY6kD,iBACtC,sBAAK7lD,UAAU,QAAf,UACE,sBAAKA,UAAU,MAAf,UACE,qBAAKA,UAAU,OAAf,SAAuB6V,EAAKG,SAAS,kCACrC,qBAAKhW,UAAU,OAAf,SACG4L,EAAck6C,oBAAsB,cAAC,IAAD,CAAUh5C,MAAM,eAGzD,sBAAK9M,UAAU,MAAf,UACE,qBAAKA,UAAU,OAAf,SAAuB6V,EAAKG,SAAS,0BACrC,qBAAKhW,UAAU,OAAf,SACG4L,EAAcm6C,wBAA0B,cAAC,IAAD,CAAUj5C,MAAM,eAG7D,sBAAK9M,UAAU,MAAf,UACE,qBAAKA,UAAU,OAAf,SAAuB6V,EAAKG,SAAS,8BACrC,qBAAKhW,UAAU,OAAf,SACG4L,EAAco6C,qBAAuB,cAAC,IAAD,CAAUl5C,MAAM,kBAI5D,qBAAK9M,UAAU,OAAf,SACE,cAAC,IAAD,CAAMgN,IAAKi5C,IAAanmD,MAAM,cA3B3B,4B,GALWM,aAuCxBwlD,EAAU34C,aAAe,CACvBpN,MAAM,GAiBOqN,iBATS,SAACC,GACvB,IAEE,MAAO,CAAEvB,cADiBuB,EAAMC,IAAxBxB,eAER,MAAO/H,GACP,MAAO,MAIIqJ,CAAyB+zB,YAAW2kB,K,0JChE9BM,E,aACnB,WAAY3lD,EAAKoiB,EAAU9N,GAAY,IAAD,gCAUtC3H,QAAU,WACR,EAAKi5C,aAEA,EAAKtxC,UAKV,EAAKuxC,mBAAqB,IAAIC,IAC5B,EAAKC,UACL,EAAKC,UACL,EAAK3mD,QACL,EAAK4mD,QACL,EAAKjmD,IACL,EAAKsU,WAVLtV,IAAOC,KAAK,oEAdsB,KA4BtCinD,iBAAmB,SAACC,GAClB,EAAK7xC,UAAY6xC,EACjB,EAAKx5C,WA9B+B,KAiCtCi5C,WAAa,WACP,EAAKC,qBACP,EAAKA,mBAAmBO,cACxB,EAAKP,mBAAqB,OApCQ,KAwCtCG,UAAY,SAAC3nD,GACX,EAAKkE,SAAS8jD,YAAYhoD,IAzCU,KA4CtC0nD,UA5CsC,uCA4C1B,WAAOO,GAAP,SAAA9jD,EAAA,0DAEN,EAAK+jD,eAFC,uBAGR,EAAKA,gBAAiB,EACtBtB,GAAa,WACX9kD,OAAOC,SAASzB,KAAhB,UAA0BwB,OAAOC,SAAS8kD,OAA1C,QALM,0BAWV,EAAK9iC,SAASokC,YAAY,EAAKjkD,SAAU+jD,IAX/B,2CA5C0B,2DA0DtCjnD,QAAU,WACR,EAAKknD,gBAAiB,EAGtB,EAAKnkC,SAASokC,YAAY,EAAKjkD,SAAsB,QA9DjB,KAiEtC0jD,QAAU,SAAC34B,GACT8C,QAAQ9sB,MAAM,oBAAqBgqB,IAjEnCnuB,KAAKa,IAAMA,EACXb,KAAKijB,SAAWA,EAChBjjB,KAAKoD,SAAW,IAAIG,IACpBvD,KAAK0mD,mBAAqB,KAC1B1mD,KAAKonD,gBAAiB,EACtBpnD,KAAKmV,UAAYA,EACjBnV,KAAKwN,e,gECZT,uEA4Ee2a,IAlDG,SAAC,GAAuD,IAArDT,EAAoD,EAApDA,QAAoD,IAA3CU,oBAA2C,SACjEjS,EAAOC,cAEb,OACE,qBACE9V,UAAU,qBACV6M,MAAO,CAAE+kB,SAAU9J,EAAe,WAAa,YAFjD,SAIGV,GACCA,EAAQ1jB,KAAI,SAACsjD,GACX,OAAIA,GAAUA,EAAO9iD,OAASywB,IAE1B,qBAAK30B,UAAU,uBAAf,SACE,qBAAKA,UAAU,eADjB,oBAAwDwoC,IAAQC,aAKhEue,GAAUA,EAAO9iD,OAASmjB,IAE1B,cAAC,IAAD,CAEElnB,GAAI6mD,EAAO7mD,GACXmN,OAAQ05C,EAAO15C,OACfgI,QAAS0xC,EAAO1xC,QAChBC,QAASyxC,EAAOzxC,QAChBC,eAAgBwxC,EAAOxxC,eACvBC,kBAAmBuxC,EAAOvxC,kBAC1BC,mBAAoBsxC,EAAOtxC,mBAC3BC,0BAA2BqxC,EAAOrxC,0BAClCC,gBAAiBoxC,EAAOpxC,iBATnBoxC,EAAO7mD,IAehB,cAAC,IAAD,CAEE4V,QAASF,EAAKG,SAAL,UAAiBgxC,EAAO15C,SACjCpN,QAAS,WACP8mD,EAAOxxC,kBAETF,QAAS0xC,EAAO1xC,QAChBC,QAASyxC,EAAOzxC,SANXyxC,EAAO15C,e,gGC7DL+4C,E,WACnB,WAAYC,EAAWC,EAAW3mD,EAAS4mD,EAASjmD,EAAKmmD,GAAQ,IAAD,2BAC9DhnD,KAAKE,QAAUA,EACf,IAAMgB,EAAW8lD,EAAQ,CAAC,eAAgBA,QAASr+C,EAEnD3I,KAAKmnD,OAAS,IAAII,IAAsB1mD,EAAKK,EAD7B,CAAE0a,OAAO,IAEzB5b,KAAKmnD,OAAOK,WAAa,cACzBxnD,KAAKmnD,OAAOM,OAAS,WACnBb,GAAaA,EAAU,EAAKO,SAE9BnnD,KAAKmnD,OAAOO,UAAY,SAACnuC,GAAD,OAAOstC,GAAaA,EAAUttC,EAAEra,KAAM,EAAKioD,SACnEnnD,KAAKmnD,OAAO7tC,QAAU,SAACC,GAAD,OAAOutC,GAAWA,EAAQvtC,IAChDvZ,KAAKmnD,OAAOQ,QAAU,kBAAMznD,GAAWA,EAAQ,EAAKinD,SACpDnnD,KAAKmnD,OAAOS,aAAe,SAACruC,GAAD,OAAO0X,QAAQsrB,IAAI,cAAehjC,I,+CAG/D,WACMvZ,KAAKmnD,QACPnnD,KAAKmnD,OAAOU,Y,qQC4BGC,E,WACnB,WAAY7kC,GAAW,IAAD,gCA+CtB8kC,iBA/CsB,uCA+CH,WAAO1hD,GAAP,iBAAAhD,EAAA,yDACX2kD,EAAO3hD,EAAQrC,KAAI,SAACuV,GAAD,OAAO,EAAK0uC,YAAY1uC,MAC3ClU,EAAM9B,IAASC,KAAK0kD,uBAAuBxkD,OAAO,CACtDykD,OAAQ,SACRH,SAJe,UAOX,EAAK5kD,SAPM,gCAQP,EAAKA,SAASE,QAAQ+B,GARf,uDAWf4rB,QAAQ9sB,MAAM,sCAAd,MAXe,yDA/CG,2DA+FtBikD,YA/FsB,sBA+FR,8BAAA/kD,EAAA,0DACR,EAAKgmC,QADG,uBAEV,EAAKgf,sBAAuB,EAFlB,iCAMZ,EAAKhf,SAAU,EACf,EAAKif,0BAPO,kBASJ,EAAKC,mBATD,wBAUJ,EAAKC,2BAVD,yBAWJ,EAAKC,wBAXD,yBAYJ,EAAKC,qBAZD,WAaV,EAAKC,4CAED,EAAKC,qBAfC,wBAgBR,EAAK3lC,SAAS4lC,cAAmB,IAhBzB,UAiBF,EAAKD,qBAAqBE,kCAAkC,EAAK1lD,UAjB/D,yBAkBF,EAAK2lD,kBAlBH,iDAoBF,EAAKC,mBApBH,QAqBR,EAAK/lC,SAAS4lC,cAAmB,IArBzB,SAwBJvlD,EAAU2lD,eAAez9C,QAAQkK,QAE/BwzC,EAAUj9C,KAAKlL,MAAMuC,IACf4L,MAAQ,EAAKb,KAAKG,QAC5B06C,EAAQC,iBAAkB,EAC1B,EAAKC,iCAAiCF,IAK1C,EAAKG,0BAlCK,kDAoCV,EAAKC,wBAAL,MApCU,WAsCZ,EAAKjgB,SAAU,EAEV,EAAKkgB,wBAAyB,EAAKX,qBAxC5B,2BA0CR,EAAKjgC,6BAA6B,EAAKigC,sBACvC,EAAKY,sBAAsB,EAAKZ,sBAEhC,EAAKA,qBAAqBa,0BAA0B,EAAKrmD,UAAU2W,MAAK,WACtE,EAAK4O,6BAA6B,EAAKigC,yBA9CjC,0DAiDR/oD,IAAOsE,MAAM,CAAEsG,IAAG,MAAI,+BAjDd,2BAsDR,EAAK49C,uBACP,EAAKA,sBAAuB,EAC5B,EAAKD,eAxDK,kEA/FQ,KAqStBM,mBArSsB,sBAqSD,kCAAArlD,EAAA,6DACfkY,EAAO,KACPmuC,EAAW,KAFI,SAIXrkD,EAAM9B,IAASC,KAAKmmD,qBAAqBjmD,OAAO,IAJrC,SAKC,EAAKN,SAASE,QAAQ+B,GALvB,OAKXc,EALW,OAMjBujD,EAAWvjD,EAAIoV,KACfA,EAAOb,YAAkCgvC,GAPxB,kDASjB7pD,IAAOsE,MAAM,CAAEsG,IAAG,MAAI,6BATL,WAYN,OAAT8Q,GAAiB,EAAKA,OAASA,EAZhB,sDAiBD,OAAd,EAAKA,KAjBU,wBAkBjB,EAAKA,KAAOA,EAlBK,kCAsBnB1b,IAAOC,KACL,CAAE8pD,QAAS,EAAKruC,KAAMsuC,QAAStuC,EAAMuuC,YAAaJ,GAClD,uBAEF,EAAKnuC,KAAOA,EAEZ,EAAK0H,SAAS8mC,YAA0BxuC,IA5BrB,kBA6BZ,EAAK0H,SAAS+mC,YAAmBzuC,KA7BrB,0DApSnBvb,KAAKijB,SAAWA,EAChBjjB,KAAKmM,WAAa,KAClBnM,KAAKupD,uBAAwB,EAC7BvpD,KAAK4oD,qBAAuB,KAC5B5oD,KAAKqO,KAAO,KACZrO,KAAKqpC,SAAU,EACfrpC,KAAKub,KAAO,KACZvb,KAAKoD,SAAW,KAChBpD,KAAKiqD,qBAAsB,EAC3BjqD,KAAKkqD,iCAAmC,KACxClqD,KAAKmqD,4BAA8B,KACnCnqD,KAAKoqD,4BAA8B,KACnCpqD,KAAKqqD,gCAAkC,KACvCrqD,KAAKsqD,2BAA6B,KAClCtqD,KAAKuqD,UAAY,EACjBvqD,KAAKwqD,sBAAwB,IAAIC,IACjCzqD,KAAK0qD,oBAAsB,IAAIC,IAAoB,CACjDH,sBAAuBxqD,KAAKwqD,wBAE9BxqD,KAAK4qD,6B,2CAGP,SAAQrvC,GACNvb,KAAK6qD,qBAAqBtvC,K,0CAG5B,WACEvb,KAAKiqD,qBAAsB,EAC3BjqD,KAAK8qD,0B,yBAGP,SAAY1nD,GACVpD,KAAKoD,SAAWA,EAChBpD,KAAK0qD,oBAAoBrD,YAAYjkD,GACrCpD,KAAK8qD,0B,mCAGP,WAAyB,IAAD,OAClB9qD,KAAKoD,UAAYpD,KAAKoD,SAASkH,eAAiBtK,KAAKiqD,qBACvDjqD,KAAK+qD,6BACLjF,GAAa,kBAAM,EAAKsC,kBAExBpoD,KAAK4qD,+B,yBAmBT,SAAY75C,GACV,MAAO,CACLi6C,SAAUxvC,YAAqCzK,EAAM0K,WACrDpb,QAAS4L,KAAKK,UAAUyE,M,2EAI5B,WAA6BnC,GAA7B,SAAAvL,EAAA,sDACOrD,KAAKqO,OACRrO,KAAKqO,KAAO,IAAID,IAAkB,KAEpCpO,KAAKqO,KAAKG,MAAQI,EAAOJ,MACzBxO,KAAKqO,KAAKK,gBAAkBE,EAAOW,YACnCvP,KAAKqO,KAAKjN,KAAOwN,EAAOxN,KACxBpB,KAAKqO,KAAKO,OAASA,EAAOA,OAC1B5O,KAAKirD,0BAA0BjrD,KAAKqO,MARtC,gD,wIAWA,WAAmCnC,GAAnC,SAAA7I,EAAA,sDACErD,KAAKijB,SAASioC,YAAwB,IAAI5hD,IAAc4C,KACxD5C,IAAc6hD,YAAYnrD,KAAK4oD,qBAAsB5oD,KAAKmM,YAC1DnM,KAAKorD,kCAAkCl/C,EAAchE,2BAHvD,gD,sGAMA,SAAkC+C,GAChCjL,KAAKijB,SAASooC,YAA4B,IAAItpD,IAAIkJ,KAClDM,aAAaqB,QAAQ0+C,IAA6Br/C,KAAKK,UAAU5J,MAAMg2B,KAAKztB,O,8EAG9E,WAAgCoD,GAAhC,SAAAhL,EAAA,sDACErD,KAAKijB,SAASsoC,YAAqB,IAAIn9C,IAAkBC,KAD3D,gD,+FAgEA,WAA8B,IAAD,OAG3By3C,GAAa,WACX,EAAK7iC,SACHuoC,aAAyB,CACvBnrD,QAAS,mD,wCAMjB,WAA8B,IAAD,OAI3BylD,GAAa,WACX,EAAK7iC,SAASwoC,oB,qCAIlB,WACEzrD,KAAKijB,SACHuoC,aAAyB,CACvBnrD,QAAS,2D,qCAKf,SAAwBoK,GACtBzK,KAAKijB,SACHuoC,aAAyB,CACvBnrD,QAAS,8EAA0CoK,W,qCAKzD,WACEzK,KAAKijB,SAASwoC,iB,yEAGhB,4BAAApoD,EAAA,+EAEoBrD,KAAKoD,SAASE,QAAQC,IAASC,KAAKC,4BAA4BC,UAFpF,UAEQyC,EAFR,OAIoC,IAA5BgE,OAAOC,KAAKjE,GAAK3D,OAJzB,uBAKM3C,IAAOuL,KACL,mFANR,kBAQa,MARb,cAWSjF,EAAIulD,eACPvlD,EAAG,2BACEA,GADF,IAEDulD,aAAcvlD,EAAIwlD,eAd1B,kBAkBWxlD,GAlBX,kCAoBItG,IAAOsE,MAAM,oCAAb,MApBJ,iCAuBS,MAvBT,0D,gIA0BA,gCAAAd,EAAA,6DACMuoD,EAAmB,KADzB,SAE0B5rD,KAAK6rD,uBAF/B,UAEE7rD,KAAKmM,WAFP,OAIOnM,KAAKmM,YAAenM,KAAKmM,WAAWw/C,YAJ3C,uBAKI3rD,KAAK4oD,qBAAuB,KALhC,oDAU6B38C,KAAKlL,MAAMwK,aAAaC,QAAQqB,MAV7D,QAUI++C,EAVJ,yDAYI/rD,IAAOsE,MAAM,CAAEsG,IAAG,MAAI,4BAZ1B,WAeMlB,EAAS,MAGXvJ,KAAKmM,aACLy/C,GACAA,EAAiBE,OAAS9rD,KAAKmM,WAAW2/C,MAC1CloC,OAAOgoC,EAAiBF,gBAAkB1rD,KAAKmM,WAAWu/C,aArB9D,kCAuBmBpiD,IAAcyiD,gBAvBjC,QAuBIxiD,EAvBJ,QAwBUyiD,EAAiBzgD,aAAaC,QAAQ8/C,QAE1C/hD,EAAOrB,0BAA4B,IAAInG,IAAIkK,KAAKlL,MAAMirD,KAExDhsD,KAAKijB,SAASioC,YAAwB3hD,IACtCvJ,KAAKwpD,sBAAsBjgD,GAC3BvJ,KAAKupD,uBAAwB,EA9BjC,wBAgCIhgD,EAAS,IAAID,IAAc,IAC3BtJ,KAAKijB,SAASioC,YAAwB3hD,IACtCvJ,KAAKijB,SAASgpC,eACdjsD,KAAKupD,uBAAwB,EAnCjC,QAsCEvpD,KAAKijB,SAASooC,YAA4B,IAAItpD,IAAIwH,EAAOrB,6BACzDlI,KAAK4oD,qBAAuBr/C,EAvC9B,0D,+HA0CA,WAA2BqT,GAA3B,mBAAAvZ,EAAA,6DAKErD,KAAKub,KAAOT,IAAMC,YAAYta,GAExB8a,EAAOD,YAAkCsB,GACzCvX,EAAM9B,IAASC,KAAK0oD,qBAAqBxoD,OAAO,CAAE6X,SACpDpV,EAAM,KATZ,kBAWgBnG,KAAKoD,SAASE,QAAQ+B,GAXtC,OAWIc,EAXJ,gEAaItG,IAAOsE,MAAM,CAAEsG,IAAG,MAAI,iCAb1B,+BAiBMtE,EAAIgmD,QAjBV,wBAkBItsD,IAAOsE,MAAM,CAAEgoD,QAAShmD,EAAIgmD,SAAW,iCAlB3C,2BA0BE9hB,WAAWrqC,KAAK0oD,mBAAoB,KA1BtC,0D,oFA6DA,WACE,OAAO1oD,KAAKijB,SAAS8lC,YAAgB/oD,S,8BAGvC,WACE,OAAOA,KAAKijB,SAAS+lC,YAAiBhpD,KAAKoD,a,sCAG7C,WACE,OAAOpD,KAAKijB,SAASmpC,YAAiCpsD,KAAKoD,a,sDAG7D,WACEpD,KAAKqsD,wCACLrsD,KAAKssD,mCACLtsD,KAAKusD,uCACLvsD,KAAKwsD,oC,mDAGP,WAAyC,IAAD,OACtCxsD,KAAKysD,4CACL,IAAMpnD,EAAM9B,IAASC,KAAKkpD,6BAA6BhpD,OAAO,IAC9D1D,KAAKkqD,iCAAmClqD,KAAKoD,SAASupD,OAAOtnD,GAAKunD,UAAU,CAC1EC,KAAM,SAACn/B,GAAD,OAAS,EAAKo/B,uBAAuBp/B,IAC3CvpB,MAAO,SAACsG,GAAD,OAAS,EAAKsiD,4BAA4BtiD,IACjDuiD,SAAU,kBAAMntD,IAAO+b,MAAM,0C,uDAIjC,WACM5b,KAAKkqD,kCACPlqD,KAAKkqD,iCAAiC+C,gB,oCAI1C,YAA6C,IACvC9tD,EAAUqL,EADShG,EAAmB,EAAnBA,KAAMgkC,EAAa,EAAbA,UAE7B,OAAQhkC,GACN,KAAKjB,IAASC,KAAK0pD,WAAWtwC,YAE1B,IAAMrB,EAAOvb,KAAKmtD,gBAAgB3kB,GAClC3oC,IAAO+b,MAAM,CAAEL,QAAQ,4BAGvBvb,KAAK0oD,qBAEP,MACF,KAAKnlD,IAASC,KAAK0pD,WAAWxB,aAE1B,IAAM0B,EAA8C,IAAlCptD,KAAKmtD,gBAAgB3kB,GACvC3oC,IAAO+b,MAAM,CAAEwxC,UAAW,IAAI9I,KAAK8I,IAAc,6BACjDptD,KAAKijB,SAASoqC,eAEdrtD,KAAKstD,gBAEP,MACF,KAAK/pD,IAASC,KAAK0pD,WAAWK,aAC5BpuD,EAAWa,KAAKmtD,gBAAgB3kB,GAChCh+B,EAAalB,IAAckkD,8BAA8BruD,GACzDU,IAAO+b,MAAM,CAAEzc,WAAUqL,cAAc,6BACvCxK,KAAKijB,SAASwqC,YAA6BtuD,IAC3Ca,KAAKooD,cACL,MACF,KAAK7kD,IAASC,KAAK0pD,WAAWQ,eAC5BvuD,EAAWa,KAAKmtD,gBAAgB3kB,GAChCh+B,EAAalB,IAAckkD,8BAA8BruD,GACzDU,IAAO+b,MAAM,CAAEzc,WAAUqL,cAAc,+BACvCxK,KAAKijB,SAAS0qC,YAA+BxuD,IAC7Ca,KAAKooD,cACL,MACF,QACEvoD,IAAOuL,KAAK,CAAE5G,OAAMgkC,aAAa,gC,kEAKvC,sBAAAnlC,EAAA,yDACOrD,KAAK4oD,qBADZ,gCAEU5oD,KAAKyoD,wBAFf,uBAIQzoD,KAAK4oD,qBAAqBv9C,mCAAmCrL,KAAKoD,UAJ1E,OAKEpD,KAAKorD,kCAAkCprD,KAAK4oD,qBAAqB1gD,2BALnE,gD,mFAQA,SAAgBg1B,GACd,OAAOA,GAAWA,EAAQA,EAAQh+B,Q,uCAGpC,SAA0B6wC,EAAa6d,GACrC,OACE,gCACE,cAAC,IAAD,CAAkBntD,GAAG,kCACpBsvC,GACC,gCACG6d,EAAW,WAAOA,EAAP,KAAwB,IADtC,IAC4C7d,U,yCAOpD,SAA4BtlC,GAC1B5K,IAAOsE,MAAM,CAAEsG,OAAO,sBACtBzK,KAAKysD,8C,8CAGP,WAAoC,IAAD,OACjCzsD,KAAK6tD,uCACL,IAAMxoD,EAAM9B,IAASC,KAAKsqD,wBAAwBpqD,OAAO,IACzD1D,KAAKmqD,4BAA8BnqD,KAAKoD,SAASupD,OAAOtnD,GAAKunD,UAAU,CACrEC,KAAM,SAACn/B,GAAD,OAAS,EAAKqgC,kBAAkBrgC,IACtCvpB,MAAO,SAACsG,GAAD,OAAS,EAAKujD,uBAAuBvjD,IAC5CuiD,SAAU,kBAAMntD,IAAO+b,MAAM,0C,kDAIjC,WACM5b,KAAKmqD,6BACPnqD,KAAKmqD,4BAA4B8C,gB,+BAIrC,SAAkBv/B,GAAM,IAAD,OACblpB,EAAsBkpB,EAAtBlpB,KACA8R,EADsBoX,EAAhBugC,YACN33C,SAGR,OAFAzW,IAAO+b,MAAP,eAAkB8R,GAAO,mCAEjBlpB,GACN,KAAKjB,IAASC,KAAK0qD,YAAYC,YAE3B,IAAK73C,GAAgC,IAApBA,EAAS9T,OAExB,YADA3C,IAAOuL,KAAK,CAAE5G,OAAM8R,YAAY,qDAGlC,IAAM83C,EAAe93C,EAAS,GACxBjW,EAAUL,KAAKquD,0BACnBD,EAAare,YACbqe,EAAaE,aAEftuD,KAAKijB,SAASuoC,aAAyB,CAAEnrD,aAE3C,MAEF,KAAKkD,IAASC,KAAK0qD,YAAYK,UAC7BvuD,KAAKijB,SAASwoC,eACd,MAEF,KAAKloD,IAASC,KAAK0qD,YAAYM,QAE5Bl4C,GAAY,IAAInN,SAAQ,YAAmC,IAAhCmlD,EAA+B,EAA/BA,YAAave,EAAkB,EAAlBA,YACvC,EAAK9sB,SAASwrC,YAA6B1e,EAAaue,OAE1D,MAEF,QACEzuD,IAAOuL,KAAK,CAAE5G,QAAQ,iC,oCAK5B,SAAuBiG,GACrB5K,IAAOsE,MAAM,CAAEsG,OAAO,mCACtBzK,KAAK6tD,yC,8CAGP,SAAiC3E,GAC3BA,EAAQC,kBACVnpD,KAAKqO,KAAKqgD,0BACV1uD,KAAKirD,0BAA0BjrD,KAAKqO,OAEtCrO,KAAKopD,iCAAiCF,K,8CAGxC,SAAiCA,GAAU,IAAD,OAClC7jD,EAAM9B,IAASC,KAAKmrD,6BAA6BjrD,OAAOwlD,GAC9DlpD,KAAKoqD,4BAA8BpqD,KAAKoD,SAASupD,OAAOtnD,GAAKunD,UAAU,CACrEC,KAAM,SAACn/B,GAAD,OAAS,EAAKkhC,kBAAkBlhC,EAAKw7B,IAC3C/kD,MAAO,SAACsG,GAAD,OAAS,EAAKokD,uBAAuBpkD,IAC5CuiD,SAAU,kBAAMntD,IAAO+b,MAAM,8C,yFAIjC,sBAAAvY,EAAA,yDACE4lD,eAAe6F,WAAWp5C,MACtB1V,KAAKoqD,4BAFX,uBAGIpqD,KAAKoqD,4BAA4B6C,cACjCjtD,KAAKqO,KAAO,IAAID,IAAkB,IAClCpO,KAAKirD,0BAA0BjrD,KAAKqO,MALxC,SAMUrO,KAAKuoD,mBANf,gD,qFAUA,SAAkB76B,EAAKroB,GACrB,IAAMiK,EAAeoe,EAAIA,EAAIrtB,SAE7B,OADAR,IAAO+b,MAAM,iBAAmB3P,KAAKK,UAAUohB,OAAK/kB,EAAW,IACvD+kB,EAAIrtB,SACV,IAAK,2BACHL,KAAK+uD,2BAA2Bz/C,EAAcjK,GAC9C,MAEF,IAAK,2BACHrF,KAAKgvD,2BAA2B1/C,GAChC,MAEF,IAAK,2BACHtP,KAAKivD,6BACL,MAEF,IAAK,gCACHjvD,KAAKkvD,gCAAgC5/C,GACrC,MAEF,IAAK,mCACHtP,KAAKmvD,qCACL,MAEF,QACEtvD,IAAOuL,KAAK,CAAE5G,KAAMkpB,EAAIrtB,SAAW,iD,oCAKzC,SAAuBoK,GACrB5K,IAAOsE,MAAM,CAAEsG,OAAO,2BAA6BwB,KAAKK,UAAU7B,OAAK9B,EAAW,IACjE,MAAb8B,EAAI2gC,KACNprC,KAAKijB,SAASmsC,eACQ,MAAb3kD,EAAI2gC,KACbprC,KAAKijB,SAASosC,eAEdrvD,KAAKijB,SAASqsC,YAAoC7kD,EAAI2gC,S,+EAI1D,WAAiC97B,EAAchM,GAA/C,SAAAD,EAAA,6DACEC,EAAO,KAAWgM,EAAaJ,KAC/B+5C,eAAer8C,QAAQ8I,IAA0BzJ,KAAKK,UAAUhJ,IAChEtD,KAAKqO,KAAKkhD,+BAA+BjgD,GACzCtP,KAAKirD,0BAA0BjrD,KAAKqO,MAJtC,SAKQrO,KAAKuoD,mBALb,gD,iGAQA,SAA2Bj5C,GACzBtP,KAAKqO,KAAKmhD,+BAA+BlgD,GACzCtP,KAAKirD,0BAA0BjrD,KAAKqO,Q,wCAGtC,WACErO,KAAKqO,KAAKohD,iCACVzvD,KAAKirD,0BAA0BjrD,KAAKqO,Q,6CAGtC,SAAgCiB,GAC9BtP,KAAKqO,KAAKqhD,oCAAoCpgD,GAC9CtP,KAAKirD,0BAA0BjrD,KAAKqO,Q,gDAGtC,WACErO,KAAKqO,KAAKshD,yCACV3vD,KAAKirD,0BAA0BjrD,KAAKqO,Q,+BAGtC,WACErO,KAAKqO,KAAKuhD,wBACV5vD,KAAKirD,0BAA0BjrD,KAAKqO,Q,mEAGtC,WAAqB66C,GAArB,eAAA7lD,EAAA,sDACQgC,EAAM9B,IAASC,KAAKqsD,oBAAoBnsD,OAAOwlD,GACrD,IACElpD,KAAKoD,SAASE,QAAQ+B,GACtBrF,KAAKqO,KAAKyhD,uBACV9vD,KAAKqO,KAAKQ,yBAA0B,EACpCo6C,eAAe6F,WAAWp5C,KAC1B,MAAOjL,GACPzK,KAAKijB,SAAS8sC,YAAiCtlD,EAAI2gC,OACnDvrC,IAAOsE,MAAM,CAAEsG,OAAO,+CAT1B,gD,4HAaA,WAAuBy+C,GAAvB,eAAA7lD,EAAA,6DACQgC,EAAM9B,IAASC,KAAKwsD,4BAA4BtsD,OAAOwlD,GAD/D,kBAGUlpD,KAAKoD,SAASE,QAAQ+B,GAHhC,OAIIrF,KAAKqO,KAAKyhD,uBACV9vD,KAAKirD,0BAA0BjrD,KAAKqO,MALxC,gDAOIrO,KAAKijB,SAAS8sC,YAAiC,KAAI3kB,OACnDvrC,IAAOsE,MAAM,CAAEsG,IAAG,MAAI,+CAR1B,yD,yGAYA,WAAwC,IAAD,OACrCzK,KAAKiwD,2CACL,IAAM5qD,EAAM9B,IAASC,KAAK0sD,oCAAoCxsD,OAAO,IACrE1D,KAAKqqD,gCAAkCrqD,KAAKoD,SAASupD,OAAOtnD,GAAKunD,UAAU,CACzEC,KAAM,SAACn/B,GAAD,OAAS,EAAKyiC,sBAAsBziC,IAC1CvpB,MAAO,SAACsG,GAAD,OAAS,EAAK2lD,2BAA2B3lD,IAChDuiD,SAAU,kBAAMntD,IAAO+b,MAAM,kD,sDAIjC,WACM5b,KAAKqqD,iCACPrqD,KAAKqqD,gCAAgC4C,gB,mCAIzC,SAAsBv/B,GACpB,IAAM7rB,EAAQ6rB,EAAIA,EAAIrtB,SACtB,OAAQqtB,EAAIrtB,SACV,IAAK,qBAED,IAAQgwD,EAAwBxuD,EAAxBwuD,oBACRxwD,IAAO+b,MAAM,CAAEy0C,uBAAuB,mCACtCrwD,KAAKswD,oBAAoBD,GAE3B,MACF,IAAK,0BAEDxwD,IAAO+b,MAAM,CAAE/Z,SAAS,wCACxB7B,KAAKuwD,uBAAuB1uD,GAC5B7B,KAAKuoD,mBAEP,MACF,QACE1oD,IAAOuL,KAAK,CAAE5G,KAAMkpB,EAAIrtB,SAAW,wC,wCAKzC,SAA2BoK,GACzB5K,IAAOsE,MAAM,CAAEsG,OAAO,8BACtBzK,KAAKiwD,6C,6CAGP,WAAmC,IAAD,OAChCjwD,KAAKwwD,sCACL,IAAMnrD,EAAM9B,IAASC,KAAKitD,+BAA+B/sD,OAAO,IAChE1D,KAAKsqD,2BAA6BtqD,KAAKoD,SAASupD,OAAOtnD,GAAKunD,UAAU,CACpEC,KAAM,SAACn/B,GAAD,OAAS,EAAKgjC,iBAAiBhjC,IACrCvpB,MAAO,SAACsG,GAAD,OAAS,EAAKkmD,sBAAsBlmD,IAC3CuiD,SAAU,kBAAMntD,IAAO+b,MAAM,0C,iDAIjC,WACM5b,KAAKsqD,4BACPtqD,KAAKsqD,2BAA2B2C,gB,8BAIpC,SAAiBv/B,GAAM,IAAD,OAElBlpB,EAEEkpB,EAFFlpB,KADF,EAGIkpB,EADFugC,YAAe33C,gBAFjB,MAE4B,GAF5B,EAMA,OAFAzW,IAAO+b,MAAP,eAAkB8R,GAAO,gCAEjBlpB,GACN,KAAKjB,IAASC,KAAK0qD,YAAYC,YAE3B,GAAwB,IAApB73C,EAAS9T,OAEX,YADA3C,IAAOuL,KAAK,CAAE5G,OAAM8R,YAAY,qDAGlC,IAAM83C,EAAe93C,EAAS,GACxBjW,EAAUL,KAAKquD,0BACnBD,EAAare,YACbqe,EAAaE,aAEftuD,KAAKijB,SAASuoC,aAAyB,CAAEnrD,aAE3C,MAEF,KAAKkD,IAASC,KAAK0qD,YAAYK,UAC7BvuD,KAAKijB,SAASwoC,eACd,MAEF,KAAKloD,IAASC,KAAK0qD,YAAYM,OAE7Bl4C,EAASnN,SAAQ,YAAmC,IAAhCmlD,EAA+B,EAA/BA,YAAave,EAAkB,EAAlBA,YAC/B,EAAK9sB,SAASwrC,YAA6B1e,EAAaue,OAE1D,MAEF,QACEzuD,IAAOuL,KAAK,CAAE5G,QAAQ,iC,mCAK5B,SAAsBiG,GACpB5K,IAAOsE,MAAM,CAAEsG,OAAO,gCACtBzK,KAAKwwD,wC,sCAGP,SAAyBznC,EAAM6nC,GAC7B,IAAMnwD,EAAKT,KAAK6wD,gBAEhB,OADA7wD,KAAK0qD,oBAAoBoG,gBAAgBrwD,EAAIsoB,EAAM6nC,GAC5CnwD,I,0CAGT,SAA6BA,GAC3BT,KAAK0qD,oBAAoBqG,mBAAmBtwD,K,2BAG9C,WACE,MAAM,GAAN,SAAYT,KAAKuqD,a,mCAGnB,SAAsBhhD,GACpB,IAAMxF,EAAcwF,EAAO5F,iBAC3B3D,KAAKwqD,sBAAsBwG,KAAKjtD,K,kEAGlC,WAAoBoB,EAAc6d,GAAlC,SAAA3f,EAAA,sEACQrD,KAAKixD,wBAAwB9rD,EAAc6d,GADnD,OAEEhjB,KAAK0qD,oBAAoBthC,cAAcjkB,EAAc6d,GAFvD,gD,qIAKA,WAA8B7d,EAAc6d,GAA5C,qBAAA3f,EAAA,yDACQ6tD,EAAkBlxD,KAAKmxD,wBAAwBhsD,EAAc6d,GAC7DouC,EAAkBpxD,KAAKqxD,wBAAwBlsD,EAAc6d,GACpC,IAA3BkuC,EAAgB1uD,QAA2C,IAA3B4uD,EAAgB5uD,OAHtD,wDAOQ6C,EAAM9B,IAASC,KAAK8tD,sBAAsB5tD,OAAO,CACrDyB,eACAsR,QAASuM,EAAQvM,QACjBM,SAAUm6C,EACVj6C,SAAUm6C,EACVG,iBAAiB,IAZrB,kBAesBvxD,KAAKoD,SAASE,QAAQ+B,GAf5C,cAeUc,EAfV,iBAgBU6c,EAAQwuC,QAAQ,CACpB/6C,QAAStQ,EAAIsQ,QACbM,SAAUm6C,EACVt6C,OAAQzQ,EAAIyQ,OACZyB,SAAUlS,EAAIkS,SACdpB,SAAUm6C,EACV9gD,OAAQnK,EAAImK,SAtBlB,0DAyBIzQ,IAAOsE,MAAP,MAzBJ,0D,8FA6BA,SAAwBgB,EAAc6d,GAEpC,OADiBhjB,KAAK0qD,oBAAoB+G,oBAAoBtsD,GAC9C4mB,QAAO,SAAClV,GAAD,YAA2ClO,IAA9Bqa,EAAQiC,SAASpO,Q,qCAGvD,SAAwB1R,EAAc6d,GAEpC,OADiBhjB,KAAK0qD,oBAAoBgH,oBAAoBvsD,GAC9C4mB,QAAO,SAAC/U,GAAD,YAA2CrO,IAA9Bqa,EAAQ+B,SAAS/N,Q,iCAGvD,SAAoBq5C,GAClBrwD,KAAKijB,SAAS0uC,YAAkCtB,IAChDrwD,KAAK0qD,oBAAoBkH,wBAAwBvB,GACjDrwD,KAAKijB,SAAS4uC,YAAqBxB,M,+BAGrC,SAAkBlrD,GAChBnF,KAAK8xD,uBAAsB,EAAM3sD,K,gCAGnC,SAAmBA,GACjBnF,KAAK8xD,uBAAsB,EAAO3sD,K,0EAGpC,WAA4B4sD,EAAO5sD,GAAnC,eAAA9B,EAAA,6DACQC,EAAUC,IAASC,KAAKwuD,iCAAiCtuD,OAAO,CACpEyB,aAAcA,QAAgBwD,EAC9BopD,UAHJ,kBAOU/xD,KAAKoD,SAASE,QAAQA,GAPhC,sDASIzD,IAAOsE,MAAP,MATJ,wD,8HAaA,gCAAAd,EAAA,6DACMkE,EAAW,GADjB,SAGUjE,EAAUC,IAASC,KAAKyuD,wBAAwBvuD,SAH1D,SAIqB1D,KAAKoD,SAASE,QAAQA,GAJ3C,OAIIiE,EAJJ,uDAMI1H,IAAOsE,MAAM,+DACboD,EAAW2qD,IAPf,WAUO3qD,GAAaA,EAASmI,YAV7B,wBAWI7P,IAAOsE,MAAM,6BAXjB,mBAYW,GAZX,WAeQ+N,EAAgB,IAAIvC,IAC1BkB,YAAsBtJ,EAASmI,YAAawC,EAAe,IAC3DlS,KAAKmyD,mCAAmCjgD,GACxClS,KAAKijB,SAASmvC,YAAiBlgD,KAE3BqC,YAAsBrC,KAAkBsC,YAAsBtC,GApBpE,kCAqBUlS,KAAKqyD,sBArBf,yD,sGAyBA,SAAmC3iD,GAAc,IAAD,KAC1C,UAAA1P,KAAKqO,YAAL,SAAWikD,cAAX,UAA2BtyD,KAAKqO,YAAhC,OAA2B,EAAWkkD,mCACxC7iD,EAAYvG,SAAQ,SAAC4I,IAEjBA,EAAW+/B,SAAS,UACpB//B,EAAW+/B,SAAS,UACpB//B,EAAW+/B,SAAS,WACpB//B,EAAW+/B,SAAS,YACpB//B,EAAW+/B,SAAS,UAEpBpiC,EAAYs0B,OAAOjyB,Q,wEAM3B,gCAAA1O,EAAA,6DACQC,EAAUC,IAASC,KAAKgvD,uBAAuB9uD,SADvD,SAEyB1D,KAAKoD,SAASE,QAAQA,GAF/C,WAEQiE,EAFR,SAIoBA,EAASkrD,aAJ7B,uBAKI5yD,IAAOsE,MAAM,gCALjB,mBAMW,GANX,OASQuN,EAAuB1R,KAAK0yD,mBAAmBnrD,EAASkrD,cAC9DzyD,KAAKijB,SAAS0vC,YAAoBjhD,IAVpC,gD,sFAaA,SAAmB+gD,GACjB,IAAM/iD,EAAc,IAAI3N,IASxB,OARC0wD,GAAgB,IAAItpD,SAAQ,SAACypD,GAC5B,IAAM9gD,EAAmB,IAAInC,IAC7BkB,YAAsB+hD,EAAYljD,YAAaoC,EAAkB,IACjEpC,EAAYhJ,IAAIksD,EAAY1uD,KAAM,CAChC4N,mBACA+gD,MAAOD,EAAYC,WAGhBnjD,I,uEAGT,WAAyBoC,GAAzB,eAAAzO,EAAA,yDACQC,EAAUC,IAASC,KAAKsvD,8BAA8BpvD,OAAO,CACjEoO,qBAFJ,UAKQ9R,KAAKoD,SALb,gCAMYpD,KAAKoD,SAASE,QAAQA,GANlC,uBAOYtD,KAAKqyD,sBAPjB,uDAUIxyD,IAAOsE,MAAM,CAAEoV,EAAC,MAAI,wCAVxB,QAaE1Z,IAAOC,KAAK,uCAbd,yD,6HAgBA,WAAwBqF,GAAxB,SAAA9B,EAAA,sEACQrD,KAAK4oD,qBAAqBmK,mCAAmC/yD,KAAKoD,SAAU+B,GADpF,OAEEnF,KAAKorD,kCAAkCprD,KAAK4oD,qBAAqB1gD,2BAFnE,gD,mHAKA,WAAcxC,EAAckvC,EAASoe,EAASC,GAA9C,mBAAA5vD,EAAA,6DACQC,EAAUC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxDgC,eACAwtD,oBAAqB,CACnBte,UACAoe,UACAC,mBANN,kBAW2BjzD,KAAKoD,SAASE,QAAQA,GAXjD,cAWUiE,EAXV,OAYIvH,KAAKmzD,kBAAkBztD,GAZ3B,yBAaW6B,QAbX,IAaWA,GAbX,UAaWA,EAAU6rD,4BAbrB,aAaW,EAAgCtqD,UAb3C,gCAeIjJ,IAAOsE,MAAP,MAfJ,yD,4HAmBA,WAAiBuB,EAAc6C,GAA/B,eAAAlF,EAAA,6DACQC,EAAUC,IAASC,KAAKkF,qBAAqBhF,OAAO,CACxDgC,eACA2tD,oBAAqB,CACnB9qD,cAJN,kBASUvI,KAAKoD,SAASE,QAAQA,GAThC,OAUItD,KAAKmzD,kBAAkBztD,GAV3B,gDAYI7F,IAAOsE,MAAP,MAZJ,yD,+HAgBA,8BAAAd,EAAA,6DACQC,EAAUC,IAASC,KAAK8vD,iBAAiB5vD,OAAO,IADxD,kBAI2B1D,KAAKoD,SAASE,QAAQA,GAJjD,cAIUiE,EAJV,gCAKWA,QALX,IAKWA,OALX,EAKWA,EAAU88C,UALrB,gCAOIxkD,IAAOsE,MAAP,MAPJ,yD,0HAWA,WAAsBhF,EAAUklD,GAAhC,iBAAAhhD,EAAA,6DACQC,EAAUC,IAASC,KAAK+vD,iBAAiB7vD,OAAO,CACpDvE,WACAklD,aAHJ,kBAOsBrkD,KAAKoD,SAASE,QAAQA,GAP5C,YAOU6C,EAPV,QAQYgmD,QARZ,uBASMtsD,IAAOsE,MAAM,CAAEgoD,QAAShmD,EAAIgmD,SAAW,yCAT7C,0BAYInsD,KAAKstD,gBAZT,kDAcIztD,IAAOsE,MAAP,MAdJ,0D,sHAkBA,WAAeuB,EAAc6C,GAA7B,eAAAlF,EAAA,6DACQC,EAAUC,IAASC,KAAKgwD,qBAAqB9vD,OAAO,CACxDgC,eACA+tD,iBAAkB,CAChBnM,OAAQ/jD,IAASC,KAAKkwD,oBAAoBC,KAC1CprD,cALN,kBAUUvI,KAAKoD,SAASE,QAAQA,GAVhC,sDAYIzD,IAAOsE,MAAP,MAZJ,wD,qHAgBA,WAAcuB,EAAc6C,GAA5B,eAAAlF,EAAA,6DACQC,EAAUC,IAASC,KAAKgwD,qBAAqB9vD,OAAO,CACxDgC,eACA+tD,iBAAkB,CAChBnM,OAAQ/jD,IAASC,KAAKkwD,oBAAoBE,IAC1CrrD,cALN,kBAUUvI,KAAKoD,SAASE,QAAQA,GAVhC,sDAYIzD,IAAOsE,MAAP,MAZJ,wD,uHAgBA,WAAgBuB,EAAc6C,GAA9B,eAAAlF,EAAA,6DACQC,EAAUC,IAASC,KAAKgwD,qBAAqB9vD,OAAO,CACxDgC,eACA+tD,iBAAkB,CAChBnM,OAAQ/jD,IAASC,KAAKkwD,oBAAoBG,MAC1CtrD,cALN,kBAUUvI,KAAKoD,SAASE,QAAQA,GAVhC,sDAYIzD,IAAOsE,MAAP,MAZJ,wD,mICphCF,kCAAO,IAAM+tD,EAAqB,CAChCxiD,YAAa,CACXokD,OAAQ,CACN5nD,cAAe,CACbuV,MAAM,GAERumC,KAAM,CACJ+L,MAAM,GAERC,QAAS,CACPpjD,KAAK,EACLmjD,MAAM,EACNE,MAAM,EACN15C,QAAQ,GAEVjJ,KAAM,CACJ,CACE9M,KAAM,EACNoM,KAAK,EACLmjD,MAAM,EACNE,MAAM,EACN15C,QAAQ,KAId25C,WAAY,CACV34C,KAAM,CACJw4C,MAAM,EACNE,MAAM,GAERE,gBAAiB,CACfJ,MAAM,EACNE,MAAM,GAERpyD,MAAO,CACLkyD,MAAM,EACNE,MAAM,GAERpa,KAAM,CACJka,MAAM,EACNE,MAAM,EACNrjD,KAAK,EACL2J,QAAQ,GAEVrO,cAAe,CACb6nD,MAAM,EACNK,OAAO,GAETC,cAAe,CACbzH,WAAW,GAEb0H,WAAY,CACVC,OAAO,GAETzP,KAAM,CACJiP,MAAM,EACNK,OAAO,GAETI,aAAc,CACZ9tD,KAAK,GAEP+tD,QAAS,CACPC,SAAS,IAGbC,eAAgB,CACdC,gBAAiB,CAEfb,MAAM,EACNE,MAAM,O,8HCjDCY,GALNv4C,IAAU/X,KAAKuwD,WACTx4C,IAAU/X,KAAKuwD,WATL,SAAC,GAAD,IAAG10D,EAAH,EAAGA,MAAOmP,EAAV,EAAUA,YAAV,OACvB,qBAAIjP,UAAU,qBAAd,UACE,cAACqN,EAAA,EAAD,CAASnJ,KAAK,KAAKoJ,OAAQxN,IAC3B,cAAC,IAAD,CAAkBK,GAAI8O,SCaXwlD,EAhBM,SAAC,GAAD,IAAGC,EAAH,EAAGA,UAAH,OACnB,oBAAI10D,UAAU,gBAAd,SACG00D,EAAUhxD,KAAI,SAACixD,GAAD,OACb,cAAC,EAAD,CAEE70D,MAAO60D,EAAS70D,MAChBmP,YAAa0lD,EAAS1lD,aAFjBu5B,IAAQC,kBCANisB,EAXG,CAChB,CACE50D,MAAO,+BACPmP,YAAa,sCAEf,CACEnP,MAAO,yBACPmP,YAAa,iCCCX2lD,EAAe,SAAC,GAAD,IAAG/0D,EAAH,EAAGA,KAAMD,EAAT,EAASA,QAAT,OACnB,cAAC0hC,EAAA,EAAD,CAAQxhC,MAAO,cAAC,IAAD,CAAkBK,GAAG,uBAAyBP,QAASA,EAASC,KAAMA,EAArF,SACE,cAAC,EAAD,CAAc60D,UAAWA,OAI7BE,EAAa3nD,aAAe,CAC1BpN,MAAM,GAQO+0D,O,wHCrBMC,E,WACnB,WAAYhwD,GAAe,oBACzBnF,KAAKmF,aAAeA,EACpBnF,KAAKwW,QAAU,G,yFAGjB,WAAqB4+C,GAArB,qBAAA/xD,EAAA,6DACUoT,EAAsB2+C,EAAtB3+C,QAASC,EAAa0+C,EAAb1+C,SACX3F,EAAQ/Q,KAAKwW,QAAQxL,MAAK,SAACuO,GAAD,OAAOA,EAAE9C,UAAYA,KACjDuM,EAAU,KACVjS,EACFiS,EAAUjS,EAAMiS,SAEhBA,EAAU,IAAIzM,IAAQ,CAAEE,UAASC,WAAUF,QAASxW,OACpDA,KAAKwW,QAAQ5P,KAAK,CAChB6P,UACAuM,aAVN,SAcQA,EAAQwuC,QAAQ4D,GAdxB,gCAgBSpyC,GAhBT,gD,mFAmBA,SAAevM,GACb,IAAM1F,EAAQ/Q,KAAKwW,QAAQxL,MAAK,SAAC+F,GAAD,OAAWA,EAAM0F,UAAYA,KACxD1F,IAIeA,EAAMiS,QAAQqyC,gBAEhCr1D,KAAKwW,QAAUxW,KAAKwW,QAAQuV,QAAO,SAACxS,GAAD,OAAOA,IAAMxI,W,KCjCjC05C,E,WACnB,aAAe,oBACbzqD,KAAKs1D,iBAAmB,IAAIvzD,I,wCAG9B,SAAKgC,GAAc,IAAD,OAChB/D,KAAKs1D,iBAAiBn7C,SAErBpW,GAAe,IAAIoF,SAAQ,SAAClF,GAC3B,IAAMkB,EAAelB,EAAWxD,GAC1B+V,EAAU,IAAI2+C,EAAehwD,GACnC,EAAKmwD,iBAAiB5uD,IAAIvB,EAAcqR,Q,mEAI5C,WAAqBrR,EAAciwD,GAAnC,eAAA/xD,EAAA,yDACQkyD,EAAiBv1D,KAAKs1D,iBAAiBpqD,IAAI/F,GADnD,8CAGWwD,GAHX,uBAKe4sD,EAAeC,eAAeJ,GAL7C,wF,+NCbmBK,E,WACnB,cAAwE,IAA1DtwD,EAAyD,EAAzDA,aAAcqlD,EAA2C,EAA3CA,sBAAuBpnD,EAAoB,EAApBA,SAAUsyD,EAAU,EAAVA,OAAU,oBACrE11D,KAAKmF,aAAeA,EACpBnF,KAAKwqD,sBAAwBA,EAC7BxqD,KAAKoD,SAAWA,EAChBpD,KAAK21D,aAAe,EACpB31D,KAAK41D,SAAW,IAAI7zD,IACpB/B,KAAK01D,OAASA,EACd11D,KAAK61D,gBAAkB,KACvB71D,KAAK81D,QAAU,K,yCAGjB,WACE91D,KAAK01D,QAAS,I,oBAGhB,WACE11D,KAAK01D,QAAS,EACd11D,KAAK61D,gBAAkB,O,2BAGzB,SAAc7yC,GACZhjB,KAAK61D,gBAAkB7yC,EAAQvM,QAC/BzW,KAAK+1D,8BAA8B/yC,K,6BAGrC,SAAgBviB,EAAIsoB,EAAM6nC,GACxB,IAAMoF,EAAe,CAAEv1D,KAAIsoB,OAAM6nC,MACjC5wD,KAAK41D,SAASlvD,IAAIjG,EAAIu1D,GAEtB,IAAQ7wD,EAAiB4jB,EAAjB5jB,aACR,GAAInF,KAAKmF,eAAiBA,EACxB,MAAM,IAAI8U,MAAM,+BAGlBja,KAAKi2D,wB,gCAGP,SAAmBx1D,GACjB,IAAMu1D,EAAeh2D,KAAK41D,SAAS1qD,IAAIzK,GAClCu1D,GAKLh2D,KAAKk2D,gBAAgBF,EAAc,MAEnCh2D,KAAK41D,SAAS5xB,OAAOvjC,GAErBT,KAAKi2D,uBARHp2D,IAAOuL,KAAK,CAAE3K,MAAM,gD,qBAWxB,WACE,OAA8B,IAAvBT,KAAK41D,SAASxzD,O,iCAGvB,WACE,OAAOpC,KAAKm2D,UAAU,c,iCAGxB,WACE,OAAOn2D,KAAKm2D,UAAU,c,yBAGxB,SAAY/yD,GACVpD,KAAKoD,SAAWA,I,iCAIlB,WACEpD,KAAKo2D,wBACAp2D,KAAK8jC,WACR9jC,KAAKq2D,sB,+BAIT,WAAqB,IAAD,OAEZC,EAASt2D,KAAKu2D,iBACdlxD,EAAM9B,IAASC,KAAKgzD,wBAAwB9yD,OAAO4yD,GACzDt2D,KAAK81D,QAAU91D,KAAKoD,SAASupD,OAAOtnD,GAAKunD,UAAU,CACjDC,KAAM,SAACn/B,GAAD,OAAS,EAAK+oC,cAAcpxD,EAAKqoB,IACvCvpB,MAAO,SAACsG,GAAD,OAAS,EAAKisD,cAAcjsD,IAGnCuiD,SAAU,kBAAMntD,IAAO+b,MAAM,qC,4BAIjC,WACE,MAAO,CACLzW,aAAcnF,KAAKmF,aACnB6jB,oBAAqBhpB,KAAK22D,yBAC1BC,yBAAyB,EACzB3/C,SAAUjX,KAAKm2D,UAAU,YACzBp/C,SAAU/W,KAAKm2D,UAAU,YACzBU,eAAgB72D,KAAKm2D,UAAU,kBAC/BltC,eAAgBjpB,KAAKm2D,UAAU,kBAC/BW,YAAa92D,KAAK+2D,gBAClBC,YAAazzD,IAASC,KAAKyzD,gBAAgBC,IAC3C3F,iBAAiB,K,oCAIrB,WACE,IAAIvoC,EAAsB,EAS1B,OARAhpB,KAAK41D,SAASzsD,SAAQ,SAACguD,IAElBv0C,MAAMu0C,EAAIpuC,KAAKC,sBAChBmuC,EAAIpuC,KAAKC,oBAAsBA,IAE/BA,EAAsBmuC,EAAIpuC,KAAKC,yBAGN,IAAzBA,GAA8BhpB,KAAKyW,QAAU,EACxCzW,KAAKyW,QAEPuS,I,2BAGT,WACE,IAAI8tC,GAAc,EAMlB,OALA92D,KAAK41D,SAASzsD,SAAQ,SAACguD,GAChBA,EAAIpuC,KAAK+tC,cACZA,GAAc,MAGXA,I,uBAGT,SAAUl1D,GACR,IAAMw1D,EAAM,IAAIznD,IAIhB,OAHA3P,KAAK41D,SAASzsD,SAAQ,SAACguD,GACrBE,IAAKF,EAAIpuC,KAAKnnB,IAAM,SAACnB,GAAD,OAAQ22D,EAAIxmD,IAAInQ,SAE/BiC,MAAMg2B,KAAK0+B,K,mCAGpB,WACMp3D,KAAK81D,SAAW91D,KAAK81D,QAAQ7I,aAC/BjtD,KAAK81D,QAAQ7I,cAEfjtD,KAAK81D,QAAU,O,kEAGjB,WAAoBzwD,EAAKiyD,GAAzB,yBAAAj0D,EAAA,6DACUoT,EAAsB6gD,EAAtB7gD,QAASC,EAAa4gD,EAAb5gD,SACXE,EAAS5W,KAAKu3D,aAAalyD,EAAKiyD,GAChChnD,EAAStQ,KAAKw3D,aAAanyD,EAAKiyD,GAEhClC,EAAc,CAClB3+C,UACAC,WACAE,SACAtG,UATJ,SAYwBtQ,KAAKwqD,sBAAsBgL,eAAex1D,KAAKmF,aAAciwD,GAZrF,OAYQpyC,EAZR,OAaEhjB,KAAK21D,YAAcl/C,EACnBzW,KAAK+1D,8BAA8B/yC,GAdrC,gD,mFAiBA,SAAa3d,EAAKiyD,GAChB,IAAQvgD,EAA6B1R,EAA7B0R,SAAUkS,EAAmB5jB,EAAnB4jB,eACVvS,EAA2E4gD,EAA3E5gD,SAAUE,EAAiE0gD,EAAjE1gD,OAAQ6gD,EAAyDH,EAAzDG,aAAwBC,EAAiCJ,EAA3Cj/C,SAAwBs/C,EAAmBL,EAAnBK,eAE1DhmD,EAAS,IAAI5P,IA4BnB,OA1BAgV,EAAS5N,SAAQ,SAAC1I,EAAIm3D,GACpB,IAAMx/C,GAASxB,GAAU,IAAIghD,GACvBv/C,GAAYq/C,GAAgB,IAAIE,GAClCx/C,GACFzG,EAAOjL,IAAIjG,EAAI,CACbA,KACA2X,QACAC,gBAKF3B,GACFuS,EAAe9f,SAAQ,SAAC1I,EAAIm3D,GAC1B,IAAMx/C,GAASq/C,GAAgB,IAAIG,GAC7Bv/C,GAAYs/C,GAAkB,IAAIC,GACpCx/C,GACFzG,EAAOjL,IAAIjG,EAAI,CACbA,KACA2X,QACAC,gBAMD1G,I,0BAGT,SAAatM,EAAKiyD,GAChB,IAAQrgD,EAA6B5R,EAA7B4R,SAAU4/C,EAAmBxxD,EAAnBwxD,eACVngD,EAAmC4gD,EAAnC5gD,SAAUpG,EAAyBgnD,EAAzBhnD,OAAQunD,EAAiBP,EAAjBO,aAEpBlmD,EAAS,IAAI5P,IAwBnB,OAtBAkV,EAAS9N,SAAQ,SAAC1I,EAAIm3D,GACpB,IAAM/1D,GAASyO,GAAU,IAAIsnD,GACzB/1D,GACF8P,EAAOjL,IAAIjG,EAAI,CACbA,KACAoB,aAKF6U,GACFmgD,EAAe1tD,SAAQ,SAAC1I,EAAIm3D,GAC1B,IAAM/1D,GAASg2D,GAAgB,IAAID,GAC/B/1D,GACF8P,EAAOjL,IAAIjG,EAAI,CACbA,KACAoB,aAMD8P,I,2CAGT,SAA8BqR,GAAU,IAAD,OACrChjB,KAAK41D,SAASzsD,SAAQ,SAAC6sD,GACrB,EAAK8B,0BAA0B9B,EAAchzC,Q,uCAIjD,SAA0BgzC,EAAchzC,GACtC,IAAM+0C,EAAmB/3D,KAAKg4D,mCAAmCh1C,EAASgzC,GACpEiC,EAAiBj4D,KAAKk4D,yBAAyBl1C,EAASgzC,GAC1D+B,GAAoBE,IACtBj1C,EAAQ3U,OACR2nD,EAAapF,GAAG,CAAE5tC,YAClBhjB,KAAKk2D,gBAAgBF,EAAchzC,M,gDAIvC,SAAmCA,EAASgzC,GAE1C,SAAKA,EAAajtC,KAAKhS,UAAai/C,EAAajtC,KAAK9R,UAAa+L,EAAQtM,YAIzE1W,KAAKm4D,6BAA6BnC,EAAajtC,KAAK9R,SAAU+L,EAAQ1S,SACtEtQ,KAAKm4D,6BAA6BnC,EAAajtC,KAAK8tC,eAAgB7zC,EAAQ1S,SAC5EtQ,KAAKm4D,6BAA6BnC,EAAajtC,KAAKhS,SAAUiM,EAAQpM,SACtE5W,KAAKm4D,6BAA6BnC,EAAajtC,KAAKE,eAAgBjG,EAAQpM,W,sCAIhF,SAAyBoM,EAASgzC,GAChC,OAAIh2D,KAAK61D,gBACA71D,KAAK61D,kBAAoB7yC,EAAQvM,SAEtCu/C,EAAaoC,cAEbpC,EAAajtC,KAAKG,iBAAmB8sC,EAAaoC,YAAY3hD,QAAUuM,EAAQvM,W,0CAMtF,SAA6B4hD,EAAcr0D,GAEzC,IADA,IAAMs0D,EAAMD,GAAgB,GACnB11D,EAAI,EAAGA,EAAI21D,EAAI91D,SAAUG,EAChC,IAAKqB,EAAImO,IAAImmD,EAAI31D,IACf,OAAO,EAGX,OAAO,I,6BAGT,SAAgBqzD,EAAchzC,GACxBgzC,EAAaoC,cAAgBpC,EAAajtC,KAAKI,eACjD6sC,EAAaoC,YAAY7yC,UAE3BywC,EAAaoC,YAAcp1C,I,2BAG7B,SAAcvY,GAEZ5K,IAAOsE,MAAM,CAAEsG,OAAO,oB,KCjSLkgD,E,WACnB,cAAwC,IAA1BH,EAAyB,EAAzBA,sBAAyB,oBACrCxqD,KAAKwqD,sBAAwBA,EAC7BxqD,KAAKu4D,oBAAsB,IAAIx2D,IAC/B/B,KAAKw4D,mBAAqB,IAAIz2D,IAC9B/B,KAAKqwD,oBAAsB,GAC3BrwD,KAAKoD,SAAW,K,2DAGlB,SAAwBitD,GACtBrwD,KAAKqwD,oBAAsBA,EADgB,oBAElBrwD,KAAKw4D,mBAAmBnyD,WAFN,IAE3C,2BAA4D,CAAC,IAAD,yBAAlDzE,EAAkD,KAA7CC,EAA6C,KACtDwuD,EAAoB9oC,SAAS3lB,GAC/BC,EAAMkwD,QAENlwD,EAAM42D,UANiC,iC,2BAW7C,SAActzD,EAAc6d,GAC1B,IAAM/e,EAAajE,KAAKw4D,mBAAmBttD,IAAI/F,GAC3ClB,GACFA,EAAWmlB,cAAcpG,K,6BAI7B,SAAgBviB,EAAIsoB,EAAM6nC,GACxB,IAAQzrD,EAAsC4jB,EAAtC5jB,aAAc6jB,EAAwBD,EAAxBC,oBACtBhpB,KAAKu4D,oBAAoB7xD,IAAIjG,EAAI0E,GACjC,IAAMuzD,EAAW14D,KAAKqwD,oBAAoB9oC,SAASpiB,GAC/C6wD,EAAeh2D,KAAKw4D,mBAAmBttD,IAAI/F,GAC1C6wD,IACHA,EAAe,IAAIP,EAAuB,CACxCtwD,eACA6jB,sBACAwhC,sBAAuBxqD,KAAKwqD,sBAC5BkL,OAAQgD,EACRt1D,SAAUpD,KAAKoD,WAEjBpD,KAAKw4D,mBAAmB9xD,IAAIvB,EAAc6wD,IAE5CA,EAAalF,gBAAgBrwD,EAAIsoB,EAAM6nC,K,gCAGzC,SAAmBnwD,GACjB,IAAM0E,EAAenF,KAAKu4D,oBAAoBrtD,IAAIzK,GAClD,GAAK0E,EAAL,CAKA,IAAM6wD,EAAeh2D,KAAKw4D,mBAAmBttD,IAAI/F,GAC5C6wD,GAKLA,EAAajF,mBAAmBtwD,GAE5Bu1D,EAAalyB,WACf9jC,KAAKw4D,mBAAmBx0B,OAAO7+B,IAP/BtF,IAAOuL,KAAK,CAAE3K,MAAM,8DANpBZ,IAAOuL,KAAK,CAAE3K,MAAM,gD,iCAiBxB,SAAoB0E,GAClB,IAAM6wD,EAAeh2D,KAAKw4D,mBAAmBttD,IAAI/F,GACjD,OAAK6wD,EAGEA,EAAavE,sBAFX,K,iCAKX,SAAoBtsD,GAClB,IAAM6wD,EAAeh2D,KAAKw4D,mBAAmBttD,IAAI/F,GACjD,OAAK6wD,EAGEA,EAAatE,sBAFX,K,yBAKX,SAAYtuD,GACVpD,KAAKoD,SAAWA,EAChBpD,KAAKw4D,mBAAmBrvD,SAAQ,SAAC6sD,GAAD,OAAkBA,EAAa3O,YAAYjkD,U,sCCtF/E,4EAgFew+B,IAzDgD,SAAC,GAUzD,IATLl9B,EASI,EATJA,SASI,IARJvE,YAQI,aAPJ0hC,gBAOI,aANJ30B,oBAMI,aALJ40B,eAKI,SAJJoM,EAII,EAJJA,mBACA9tC,EAGI,EAHJA,MACAu4D,EAEI,EAFJA,cACAz4D,EACI,EADJA,QAEMiW,EAAOC,cAEPwiD,EAAcpkC,IAAW,CAC7BqkC,QAAQ,EACR,eAAgB14D,EAChB,aAAc0hC,EACd,uBAAwBqM,IAEpB4qB,EAAqBtkC,IAAW,CACpC,kBAAkB,EAClB,gBAAiBqN,GAAY30B,EAC7B,eAAgBA,EAChB40B,QAASA,IAGLi3B,EAA4BvkC,IAAW,CAC3C,0BAA0B,EAC1B,eAAgBqN,EAChBC,QAASA,IAGX,OAAK3hC,EAIH,qBAAKG,UAAWs4D,EAAhB,SACE,sBAAKt4D,UAAWw4D,EAAhB,UACE,sBAAKx4D,UAAU,iBAAf,UACE,qBAAKA,UAAU,eAAf,SAA+BF,IAC/B,qBAAKE,UAAU,0BAAf,SACE,cAAC,IAAD,CACE+V,QAASF,EAAKG,SAAS,wBACvBV,QAASojD,IACTx4D,QAASN,SAIf,qBAAKI,UAAWy4D,EAAhB,SAA4Cr0D,IAC5C,qBAAKpE,UAAU,wBAAf,SACGq4D,GAAiB,cAAC,IAAD,CAAWvwC,cAAY,EAACV,QAASixC,WAjBlD,O,gCCxDI,QAA0B,kC,gCCAzC,kPAAMM,EAAiB,cACjBC,EAAW,iBACJrsD,EAAc,aACdF,EAA+B,eAC/BlB,EAA2B,kBAC3B6/C,EAA8B,4BAE9B6N,EAA0B,WACrC,IAAMhkD,EAAY5J,aAAaC,QAAQytD,GACvC,IAAK9jD,EACH,MAAO,GAGT,IACIjG,EADEkqD,EAAU7tD,aAAaC,QAAQ0tD,GAErC,IACEhqD,EAAOjD,KAAKlL,MAAMq4D,GAClB,MAAO7/C,GACP,MAAO,GAGT,OAAKrK,EAIE,CAAEiG,YAAWjG,QAHX,IAMEmqD,EAA+B,WAC1C9tD,aAAaujD,WAAWmK,GACxB1tD,aAAaujD,WAAWoK,GACxB3tD,aAAaujD,WAAWjiD,GACxBtB,aAAaujD,WAAWrjD,IAGb6tD,EAAwB,SAACnkD,EAAWjG,GAC/C3D,aAAaqB,QAAQqsD,EAAgB9jD,GACrC5J,aAAaqB,QAAQssD,EAAUjtD,KAAKK,UAAU4C,M,wECrChD,wFAEMqqD,EAAaj9C,IAAUk9C,QAC3Bl9C,IAAUxC,MAAM,CAAElM,OAAQ0O,IAAUm9C,OAAQ7jD,QAAS0G,IAAUm9C,UAIpD9xC,GAFSrL,IAAUo9C,UAAU,CAACH,EAAYj9C,IAAUq9C,OAEpC,iBAChB1kC,EAAY,a,wQCcnB2kC,EAA8B,IAmC9BhzC,E,4MACJnZ,MAAQ,CACNuoB,aAAc,CAAC5tB,aAAc,kCAAM,EAAKnI,MAAMf,KAAKwF,gBAAtB,aAAM,EAA2B,GAAGzD,aAAW8qB,OAC1EshB,SAEFwsB,qBAAsB,GACtBC,YAAa,GACbC,oBAAqB,GACrBC,WAAY,GACZC,kBAAmB,GACnB1jC,kBAAc5tB,EACduxD,qBAAsB,EACtBC,sBAAuB,EACvBC,uBAAuB,EACvBC,YAAa,I,EAoBfxpB,aAAe,WACb,IAAQlO,EAAc,EAAK1iC,MAAnB0iC,UAER,EAAK3c,SAAS,CACZ8zC,YAAan3B,K,EAIjB1M,gBAAkB,WAChB,IAAQD,EAAiB,EAAK/1B,MAAtB+1B,aACJA,GACF,EAAKhQ,SAAS,CACZgQ,aAAcA,K,EAKpBS,SAAW,SAACT,GAKF,IAAD,IAJH,EAAKvoB,MAAMusD,WACb,EAAKh0C,SAAS,CACZ6zC,qBAAsB7jC,KAGxB,eAAK/1B,OAAMw2B,gBAAX,gBAAsBT,GACtB,EAAKhQ,SAAS,CACZgQ,mB,EAKNskC,QAAgC,SAACR,EAAaS,GAC5C,IAAIC,EAAqB,EAAKC,iBAC5BX,EACAF,GAIIG,GAFNS,EAAqB,EAAKE,oBAAoBF,EAAoBD,EAAWh2D,OAE9BgC,QAC3C,EAAKkH,MAAMusD,aACbQ,EAAqB,EAAKG,kBAAkBH,IAG9CA,EAAqB,EAAKI,sBAAsBJ,GAEhD,EAAKK,cAAcL,EAAoBD,GACvC,EAAKv0C,SAAS,CACZ8zC,YAAaU,EACbT,sBACAK,sBAAuBI,EAAmBh4D,SAAWo3D,K,EAIzDa,iBAAmB,SAACrwD,EAAa0wD,GAC/B,IAAMT,EAAc,KACfS,GAASA,EAAQ1wD,EAAK5H,UACzBs4D,EAAQ1wD,EAAK5H,QAKf,IAHA,IAAMmP,EAAS,GACXopD,EAAYz4D,KAAK0b,IAAI88C,GACrBn4D,EAAI,EACa,IAAdo4D,GAAmBp4D,EAAIyH,EAAK5H,QAC7BwC,SAASoF,EAAKzH,GAAc,KAC9BgP,EAAO/K,KAAKwD,EAAKzH,IACjBo4D,KAEAV,EAAYzzD,KAAKwD,EAAKzH,IAGxBA,IAKF,OAFA,EAAKqjB,SAAS,CAAEq0C,gBAET1oD,G,EAGT+oD,oBAAsB,SAACtwD,EAAa4wD,GAClC,IAAMX,EAAc,EAAK5sD,MAAM4sD,YAAY9zD,QAU3C,OATIy0D,EAAYX,cACVA,EAAY9yC,SAASyzC,EAAY56D,QACnC,EAAK4lB,SAAS,CAAEq0C,YAAa,KAC7BjwD,EAAO,KAEPiwD,EAAYzzD,KAAKo0D,EAAY56D,OAC7B,EAAK4lB,SAAS,CAAEq0C,kBAGbjwD,G,EAGTuwD,kBAAoB,SAACb,GACnB,IAAMmB,EAAkBnB,EAAY/tC,QAClC,SAACnqB,GAAD,OAAU,EAAK6L,MAAMssD,oBAAoBxyC,SAAS3lB,MAE9Cs5D,EAAoB,EAAKztD,MAAMssD,oBAAoBhuC,QACvD,SAACnqB,GAAD,OAAUk4D,EAAYvyC,SAAS3lB,MAKjC,OAFAk4D,GADAA,EAAcqB,IAAMF,EAAiB,EAAKxtD,MAAMqsD,cACtB/tC,QAAO,SAACnqB,GAAD,OAAUs5D,EAAkB3zC,SAAS3lB,O,EAKxEg5D,sBAAwB,SAACd,GACvB,OAAI,EAAK75D,MAAM4mB,aACN,CAACizC,EAAYA,EAAYt3D,OAAS,MAAO,EAEzCs3D,G,EAIXe,cAAgB,SAACzD,EAAYmD,GAC3B,IAAMa,GAAehE,GAAO,IAAIrrC,QAAO,SAACtrB,GAAD,OAAQuE,SAASvE,EAAc,IAAM,KAC5E,GAAI,EAAKR,MAAM4mB,aAAc,CAAC,IAAD,IACrBG,EAAkB,EAAKq0C,oBAAoBd,GACjD,eAAKt6D,OAAM6mB,gBAAX,gBAAsBs0C,EAAYA,EAAY54D,OAAS,IAAM,EAAGwkB,OAC3D,CAAC,IAAD,IACL,eAAK/mB,OAAM6mB,gBAAX,gBAAsBs0C,K,EAI1BE,eAAmF,SAACntC,GAAW,IAAD,EACpFjvB,EAAS,EAAKe,MAAdf,KACJq3B,OAA2C5tB,EAEzCqxD,EAAa7rC,EAAM1C,OAAO5pB,OAAS,GAEnC05D,GADqB,EAAKC,qBAAqBxB,EAAW/pD,gBAAkB,IAC1CtE,MAAM,IACxC8X,EAAyB,CAC7Bg4C,gBAAgB,EAChB5B,qBAAsB,GACtBI,kBAAmB,GACnByB,aAAc,GACdC,eAAgB,GAEZC,EAAW,CACfC,aAAc,GAGhB,GAAIN,EAAa/4D,OAAQ,CACvB,IAAMs5D,EAAOP,EAAah1D,QACpB7B,EAAW,GACjB,EAAKq3D,uBAAuB78D,EAAMq8D,EAAc72D,EAAU+e,GAC1D,EAAKu4C,8BAA8B98D,EAAM48D,EAAMF,GAC/CrlC,EAAe7xB,EAASlC,OAAS,EAAIkC,EAAS,GAAK,CAAEA,SAAU,IAGjE,IAAMq1D,GAAsB,UAAC,EAAKtsD,MAAMqsD,mBAAZ,QAA2B,IAAI/tC,QAAO,SAACnqB,GAAD,OAChE6hB,EAAIi4C,aAAan0C,SAAS3lB,MAG5B,EAAKokB,SAAS,CACZi0C,kBAAmBx2C,EAAIw2C,kBACvB1jC,eACAwjC,sBACAF,qBAAsBp2C,EAAIo2C,qBAC1BG,aACAE,qBAAsBz2C,EAAIk4C,eAC1BxB,sBAAuByB,EAASC,gB,EAIpCL,qBAAuB,SAACS,GACtB,IAAQn5B,EAAiB,EAAK7iC,MAAtB6iC,aAeR,OAbIA,GACFA,EAAa35B,SAAQ,SAAC4iB,GACpBA,EAASA,EAAO9b,cACZgsD,EAAcp3D,WAAWknB,KAC3BkwC,EAAgBA,EAAc96D,QAAQ4qB,EAAQ,KAE5BlnB,WAAW,OAC3Bo3D,EAAgBA,EAAc11D,MAAM,OAMrC01D,G,EAGTF,uBAAyB,SACvBx3D,EACA23D,EACAC,EACA14C,GAEA,IAAKlf,EACH,OAAO,EAET,IAAM63D,EAAsB,GACxBC,EAA2B,GAC3BH,EAAM15D,OAAS,IACjB65D,EAAiB,EAAKC,aAAa/3D,EAAKL,KAAgBg4D,EAAOE,IAGnC,IAA1BC,EAAe75D,SACjBihB,EAAIw2C,kBAAkBrzD,KAAKrC,EAAKtD,UAC5BsD,EAAK9D,IAA+B,IAAzB8D,EAAKG,SAASlC,QAC3BihB,EAAIi4C,aAAa90D,KAAKrC,EAAK9D,KAI3BgjB,EAAIi4C,aAAal5D,QAjRK,MAkRxBihB,EAAIg4C,gBAAiB,GAGvB,IAAM/2D,EAA2D,GAC7D63D,GAAe,EACfh4D,EAAKG,WAAa+e,EAAIg4C,gBACxBl3D,EAAKG,SAASyE,SAAQ,SAACqkC,IAElB/pB,EAAIg4C,gBACL,EAAKM,uBAAuBvuB,EAAO6uB,EAAgB33D,EAAU+e,KAE7D84C,GAAe,MAKjBA,GACF94C,EAAIo2C,qBAAqBjzD,KAAKrC,EAAKtD,UAGrC,IAAMu7D,EAA8C,IAA1BH,EAAe75D,QAAgB+5D,EACzD,GAAIC,EAAmB,CACQ,IAAzBj4D,EAAKG,SAASlC,QAChBihB,EAAIk4C,iBAEN,IAAMc,EAAa,EAAKC,yBAAyBn4D,EAAM63D,EAAW13D,GAClEy3D,EAAev1D,KAAK61D,GAEtB,OAAOD,G,EAGTR,8BAAgC,SAC9Bz3D,EACA23D,EACAN,GAEA,IAAKr3D,EACH,OAAO,EAET,IACI83D,EAA2B,GAC3BH,EAAM15D,OAAS,IACjB65D,EAAiB,EAAKC,aAAa/3D,EAAKL,KAAgBg4D,EAH9B,KAM5B,IAAIK,GAAe,EACfh4D,EAAKG,UACPH,EAAKG,SAASyE,SAAQ,SAACqkC,GACjB,EAAKwuB,8BAA8BxuB,EAAO6uB,EAAgBT,KAC5DW,GAAe,MAKrB,IAAMC,EAA8C,IAA1BH,EAAe75D,QAAgB+5D,EAKzD,OAJIC,GAA8C,IAAzBj4D,EAAKG,SAASlC,QACrCo5D,EAASC,eAGJW,G,EAGTF,aAAe,SAACn6D,EAAa+5D,EAAiBE,GAAyB,IAAD,IACpEj6D,EAAG,oBAAGA,SAAH,aAAG,EAAK8N,qBAAR,QAAyB,GAE5B,IADA,IAAI0sD,EAAU,EACPT,EAAM15D,QAAQ,CACnB,GAAiB,MAAb05D,EAAM,GAAY,CACpBA,EAAQA,EAAM31D,MAAM,GACpB,MAGF,IAAMqxD,EAAMz1D,EAAI4C,QAAQm3D,EAAM,GAAIS,GAClC,IAAa,IAAT/E,EACF,MAEFwE,EAAUx1D,KAAKgxD,GACfsE,EAAQA,EAAM31D,MAAM,GACpBo2D,EAAU/E,EAAM,EAElB,OAAOsE,G,EAGTQ,yBAA2B,SACzBn4D,EACA63D,EACA13D,GAEA,IAAM2xB,EAAa,EAAKumC,qBAAqBr4D,EAAKL,KAAgBk4D,GAMlE,OALgC,2BAC3B73D,GAD2B,IAE9BG,WACA2xB,gB,EAKJumC,qBAAuB,SAACC,EAAcT,GAEpC,IADA,IAAMzqD,EAAS,GACNhP,EAAI,EAAGA,EAAIk6D,EAAKr6D,OAAQG,IAC3By5D,EAAU70C,SAAS5kB,GACrBgP,EAAO/K,KAAK,CACV,sBAAMtG,UAAU,eAAhB,SACGu8D,EAAKjrB,OAAOjvC,IADf,gBAA6CmmC,IAAQC,eAKvDp3B,EAAO/K,KAAK,CAACi2D,EAAKjrB,OAAOjvC,KAG7B,OAAO,8BAAuCgP,GAAvC,aAAgBm3B,IAAQC,c,EAGjCyT,gBAAkB,SAACj4C,EAAsBu4D,GAAyD,IAAD,EACzFvvD,EAA8B,CAClCJ,MAAO,GACP+oB,SAAU,aACVuuB,UAAM97C,EACNo0D,kBAAcp0D,GAEhB,OAAI,UAAApE,EAAKG,gBAAL,eAAelC,QAAS,EAExB,wBAAC,IAAD,2BAGM+K,GAHN,IAIE3L,IAAK2C,EAAKtD,SACVb,MAAOmE,EAAK8xB,YAAc9xB,EAAKL,KAC/B84D,gBAAiB,EAAK/8D,MAAM4mB,eAE3BtiB,EAAKG,SAASV,IAAI84D,IAMvB,wBAAC,IAAD,2BACMvvD,GADN,IAEE3L,IAAK2C,EAAK9D,GACVL,MAAOmE,EAAK8xB,YAAc9xB,EAAKL,S,EAKrCm3D,oBAAsB,SAAC4B,GACrB,OAAI70D,aAAc,kBAAM60D,EAAW14D,KAAKtD,YAC/Bg8D,EAAW14D,KAAKtD,SAElB,I,uDAhXT,WACEjB,KAAK6wC,eACL7wC,KAAKi2B,oB,gCAGP,SAAmBnG,GACjB,MAAoC9vB,KAAKC,MAAjC0iC,EAAR,EAAQA,UAAW3M,EAAnB,EAAmBA,aAEf2M,GAAa7S,EAAU6S,YAAcA,GAAaA,EAAUngC,OAAS,GACvExC,KAAK6wC,eAGH7a,GAAgBlG,EAAUkG,eAAiBA,GAAgBA,EAAaxzB,OAAS,GACnFxC,KAAKi2B,oB,oBAsWT,WAAU,IAAD,WACP,EAUIj2B,KAAKyN,MATPqsD,EADF,EACEA,YACA9jC,EAFF,EAEEA,aACA6jC,EAHF,EAGEA,qBACAtjC,EAJF,EAIEA,aACAwjC,EALF,EAKEA,oBACAC,EANF,EAMEA,WACAE,EAPF,EAOEA,qBACAC,EARF,EAQEA,sBACAC,EATF,EASEA,sBAEI0C,EAAO,SAAPA,EAAQv4D,GACZ,OAAKA,EAGE,EAAKi4C,gBAAgBj4C,EAAMu4D,GAFzB,MAKLx8D,EAAY05D,EAAa,iBAAmB,GAC5CkD,EAAWlD,EAAaH,EAAuB7jC,EAC/CmnC,EAAWnD,EAAazjC,EAAev2B,KAAKC,MAAMf,KAClDk+D,EAAqBpD,EAAaD,EAAsBD,EACxD9sB,EAAoB,OAARmwB,QAAQ,IAARA,KAAUj5D,KACvB44D,EAAKK,IACN,iBAACA,QAAD,IAACA,OAAD,EAACA,EAAUz4D,gBAAX,QAAuB,IAAIV,IAAI84D,GAEnC,OACE,sBAAKx8D,UAAU,kBAAf,UACE,sBAAKA,UAAU,kBAAf,UACE,qBAAKA,UAAU,YAAf,SACE,sBAAKA,UAAU,WAAf,UACE,qBAAKA,UAAU,MAAf,6BACC85D,EACC,qBAAK95D,UAAU,cAAf,uCAC0Bs5D,EAD1B,0BAGEjxD,EACHqxD,GAAchtB,EAAUxqC,OAAS,EAChC,qBAAKlC,UAAU,UAAf,oBACO45D,EADP,eACkCC,EADlC,8BAGExxD,OAGR,qBAAKrI,UAAU,OAAf,SACE,cAAC,IAAD,CACE+iB,MAAM,SACN7e,KAAK,OACL04B,QAAQ,WACR/vB,MAAO,CAAEC,MAAO,QAChB0Z,SAAU9mB,KAAKs7D,eACfz5D,MAAO7B,KAAKyN,MAAMusD,WAClBj0B,gBAAiB,CAAEhL,QAAS,CAAEiL,KAAMhmC,KAAKC,MAAM86B,QAAQ1X,eAI7D,8BACG2pB,EAAUxqC,OAAS,EAElB,cAAC,IAAD,CACEg0B,UAAS,UAAEx2B,KAAKC,MAAMu2B,iBAAb,SACT6mC,UAAQ,EACRC,kBAAkB,EAClBC,qBAAqB,EACrBC,UAAU,EACVC,YAAY,EACZhnC,SAAUz2B,KAAKy2B,SACfT,aAAcknC,EACdpD,YAAasD,EACb9C,QAASt6D,KAAKs6D,QACdh6D,UAAWA,EAXb,SAaG0sC,IAGH,qBAAK1sC,UAAU,OAAf,wC,GAhdiBuN,IAAMnN,WAwdpBg9D,iBAngBA,iBAAO,CACpBr6C,MAAO,CACLjG,SAAU,SACVqd,UAAW,qCAggBAijC,CAAmB92C,I,gJC9gB5B8T,EAAYC,aAAW,iBAAO,CAClCkK,MAAO,CACLx3B,OAAQ,GACR+P,SAAU,UAEZugD,OAAQ,CACNC,WAAY,EACZvc,cAAe,EACfjkC,SAAU,UAEZiG,MAAO,CACLoX,UAAW,iCACXrd,SAAU,cAcDspB,EAAoB,SAAC,GAQH,IAP7Bp2B,EAO4B,EAP5BA,OACA4hC,EAM4B,EAN5BA,OACAvL,EAK4B,EAL5BA,cAK4B,IAJ5BziC,YAI4B,MAJrB,GAIqB,MAH5BzD,UAG4B,MAHvB,GAGuB,EAF5BmmC,EAE4B,EAF5BA,mBACAhM,EAC4B,EAD5BA,SAEMG,EAAUL,IACVmjC,EAAgBtkC,iBAAyB,MAE/C,EAAoC7O,mBAAS,GAA7C,mBAAOozC,EAAP,KAAmBC,EAAnB,KAQA,OANAhzC,qBAAU,WACJ8yC,EAAcrkC,SAChBukC,EAAcF,EAAcrkC,QAAQwkC,eAErC,IAGD,eAAC,IAAD,CAAa9gC,QAAQ,WAAW/vB,MAAO,CAAEC,MAAO,QAAUwtB,SAAUA,EAApE,UACE,cAAC,IAAD,CAAYqjC,QAASx9D,EAAIwnB,IAAK41C,EAAe9iC,QAAS,CAAEmjC,SAAUnjC,EAAQ1X,OAA1E,SACGnf,IAEH,cAAC,IAAD,CACEi6D,QAAM,EACNt8D,MAAO8kC,GAAiB,GACxB7f,SAAU,SAACvN,GAAD,cAAOqtB,QAAP,IAAOA,OAAP,EAAOA,EAAkB,eAAMnmC,EAAK8Y,EAAEkS,OAAO5pB,SACvDk5B,QAAS,CAAEiL,KAAMjL,EAAQ8J,OACzBA,MACE,cAAC,IAAD,CACE3gC,KAAMA,EACN45D,WAAYA,EACZr9D,GAAIA,EACJs6B,QAAS,CAAE8J,MAAO9J,EAAQ4iC,UAVhC,UAcI/iC,GACAtqB,EAAOtM,KAAI,SAACE,EAAMk6D,GAChB,OACE,wBAAQv8D,MAAOqC,EAAf,UACIguC,GAAU5hC,GAAQ8tD,IADI39D,EAAK29D,a,gCCvE7C,kCAAO,IAAMh2D,EAAgB,SAAqCi2D,GAChE,IACE,OAAOA,IACP,MAAOl6D,GACP,U,uRCWEm6D,E,WAMJ,aAA4C,IAAhCC,EAA+B,uDAAJ,GAAI,yBALnC/1C,MAA6B,KAKM,KAJnCg2C,gBAA6B,GAIM,KAH1BD,UAG0B,OAFnCE,uBAAgD,KAGtDz+D,KAAKu+D,KAAOA,EACZv+D,KAAKyqC,Q,yCAGP,WAAS,IAAD,OACEi0B,EAAqB1+D,KAAKu+D,KAA1BG,kBAEiB,SAAnBC,IACJ,EAAKF,uBAAyBp0B,YAAW,WACvC,IAAMu0B,EAAO,EAAKJ,gBAClB,EAAKA,gBAAkB,GAEnBI,EAAKp8D,OAAS,IACX,EAAKgmB,MAIR,EAAKA,MAAMu/B,iBAAiB6W,GAH5B,EAAKJ,gBAAkBI,GAM3BD,MACCD,GAGLC,K,sBAGF,SAASn2C,GACPxoB,KAAKwoB,MAAQA,EAETxoB,KAAKwoB,OAASxoB,KAAKw+D,gBAAgBh8D,OAAS,IAE9CxC,KAAKwoB,MAAMu/B,iBAAiB/nD,KAAKw+D,iBACjCx+D,KAAKw+D,gBAAkB,M,yBAI3B,WACEx+D,KAAKwoB,MAAQ,KACbxoB,KAAKw+D,gBAAkB,K,mBAGzB,SAAMK,GACJ,GAAI7+D,KAAKy+D,uBAAwB,CAC/B,IAAM7G,EAAM53D,KAAKw+D,gBAAgBhtD,WAC/B,SAACnR,GAAD,OAAaA,EAAQy+D,QAAUD,EAAIC,OAASz+D,EAAQ22C,MAAQ6nB,EAAI7nB,OAG9D4gB,GAAO,GACJ53D,KAAKw+D,gBAAgB5G,GAAKmH,mBAC7B/+D,KAAKw+D,gBAAgB5G,GAArB,2BAAiC53D,KAAKw+D,gBAAgB5G,IAAtD,IAA4DmH,iBAAkB,KAEhF/+D,KAAKw+D,gBAAgB5G,GAAKmH,oBAE1B/+D,KAAKw+D,gBAAgB53D,KAAKi4D,Q,KAM5BG,E,WAGJ,aAAe,yBAFEC,UAEH,EACZ,IAAMC,EAAMC,IAAc,CACxB97C,OAAO,IAETrjB,KAAKi/D,KAAOG,IACV,CACEC,WAAY,QACZ9+D,OAAO,GAET2+D,G,yCAIJ,SAAML,GACJ7+D,KAAKi/D,KAAK7K,MAAMnoD,KAAKK,UAAUuyD,Q,KAI7BS,EAAc,IAAIhB,EAAY,CAClCI,iBAAkB,MAEda,EAAe,IAAIP,EACnBn/D,EAAS2/D,YAAa,CAC1Bt7D,KAAM,WACNu7D,QAAS,CACP,CACEX,MAAO,OACPnS,OAAQ2S,EAER96D,KAAM,OAER,CACEs6D,MAAO,QACPnS,OAAQ4S,EAER/6D,KAAM,aAMZ3E,EAAO6/D,SAAW,SAACl3C,GAAD,OAAyB82C,EAAYI,SAASl3C,IAEhE3oB,EAAO4V,YAAc,kBAAM6pD,EAAY7pD,eAExB5V,O,wUC0LA8/D,EA5TJ,CAET,gCAAiC,UACjC,iCAAkC,WAClC,iCAAkC,WAClC,qBAAsB,SACtB,yBAA0B,eAC1B,wBAAyB,WACzB,uBAAwB,WACxB,qBAAsB,QACtB,sBAAuB,OACvB,yBAA0B,WAC1B,yBAA0B,kCAC1B,uBAAwB,8BACxB,gCAAiC,2EACjC,4BAA6B,SAC7B,2BAA4B,0BAG5B,SAAY,oBACZ,YAAe,oBACf,QAAW,YACX,SAAY,cACZ,eAAkB,mBAClB,SAAY,YAGZ,iDAAkD,oDAClD,+CAAgD,4CAChD,0DAA2D,gCAC3D,sDAAuD,+MACvD,qDAAsD,kEACtD,+CAAgD,2DAChD,+CAAgD,mCAChD,qDAAsD,uCACtD,yDAA0D,6CAC1D,uDAAwD,6HACxD,wCAAyC,oBACzC,0CAA2C,yBAC3C,8CAA+C,6BAC/C,8CAA+C,2BAC/C,8CAA+C,wBAG/C,oCAAqC,gCACrC,sBAAuB,OACvB,uBAAwB,QAGxB,mCAAoC,gCACpC,qBAAsB,gCACtB,yBAA0B,iBAC1B,2BAA4B,sBAC5B,qBAAsB,MACtB,6BAA8B,eAC9B,4BAA6B,eAC7B,yBAA0B,cAC1B,gCAAiC,qBAGjC,SAAY,QACZ,8BAA+B,yBAC/B,6BAA8B,gCAC9B,iCAAkC,mBAClC,iCAAkC,iBAClC,kCAAmC,WACnC,6BAA8B,OAC9B,8BAA+B,YAG/B,SAAY,QAGZ,UAAa,UACb,4BAA6B,wBAC7B,+BAAgC,2BAChC,uBAAwB,sBACxB,2BAA4B,mBAG5B,mCAAoC,eACpC,8BAA+B,OAC/B,kCAAmC,YACnC,6BAA8B,QAC9B,4BAA6B,UAC7B,8BAA+B,aAC/B,yBAA0B,YAC1B,2BAA4B,YAC5B,sCAAuC,qBACvC,mCAAoC,6CAGpC,uCAAwC,mDAGxC,+BAAgC,aAChC,4BAA6B,gBAC7B,gCAAiC,gBACjC,gCAAiC,kBAGjC,+BAAgC,wBAChC,mBAAoB,eACpB,oBAAqB,eACrB,uBAAwB,qBACxB,wBAAyB,sBACzB,6BAA8B,kCAC9B,8BAA+B,gBAC/B,4BAA6B,WAC7B,iBAAkB,qBAClB,yBAA0B,sBAC1B,yBAA0B,sBAC1B,iBAAkB,OAClB,kBAAmB,UACnB,mBAAoB,WACpB,cAAe,KACf,cAAe,KAGf,cAAiB,YACjB,mCAAoC,6BAGpC,iCAAkC,iCAClC,4BAA6B,4GAC7B,uBAAwB,gBACxB,gCAAiC,wBACjC,+BAAgC,oBAChC,4BAA6B,uCAC7B,oBAAqB,OACrB,mBAAoB,OACpB,sBAAuB,SACvB,gCAAiC,gCACjC,8BAA+B,yBAC/B,sBAAuB,gCACvB,yBAA0B,cAC1B,gCAAiC,qBACjC,8BAA+B,qBAC/B,qBAAsB,WAGtB,kBAAmB,WAGnB,eAAkB,mBAClB,uBAAwB,mBACxB,6BAA8B,OAC9B,wBAAyB,YACzB,sBAAuB,2BACvB,uBAAwB,eACxB,qCAAsC,wBACtC,4BAA6B,2BAC7B,iCAAkC,4BAClC,mCAAoC,2BACpC,uBAAwB,8BACxB,wBAAyB,oCACzB,wBAAyB,oCACzB,qCAAsC,4BACtC,uCAAwC,+HACxC,uCAAwC,iEACxC,mCAAoC,sBAGpC,qBAAsB,YACtB,+BAAgC,WAChC,qCAAsC,sDACtC,yBAA0B,QAC1B,+BAAgC,kDAGhC,8CAA+C,6CAC/C,gDAAiD,6CACjD,yCAA0C,gCAC1C,qCAAsC,gDACtC,mCAAoC,iCACpC,oCAAqC,yCACrC,gCAAiC,kCACjC,uCAAwC,mGACxC,8BAA+B,6BAC/B,kCAAmC,oDACnC,iCAAkC,sBAClC,uCAAwC,oDACxC,gDAAiD,4BACjD,kDAAmD,6EACnD,sCAAuC,+BACvC,wCAAyC,wHACzC,gDAAiD,yEACjD,8CAA+C,gDAC/C,0CAA2C,sGAC3C,kCAAmC,wEACnC,qCAAsC,uEAGtC,gBAAiB,YAGjB,sCAAuC,mBACvC,oBAAqB,oBACrB,gCAAiC,mDAEjC,GAAM,KACN,OAAU,YACV,OAAU,SACV,MAAS,eACT,OAAU,WACV,OAAU,WACV,aAAgB,gBAChB,aAAgB,wBAChB,kBAAqB,6BACrB,eAAkB,4CAClB,GAAM,YACN,KAAQ,MACR,KAAQ,YACR,KAAQ,WACR,IAAO,eACP,MAAS,cACT,OAAU,aACV,KAAQ,mBACR,UAAa,mBACb,YAAe,mBAGf,2BAA4B,uBAC5B,uBAAwB,kPACxB,0BAA2B,SAC3B,mCAAoC,oBACpC,0BAA2B,eAG3B,kDAAmD,2EACnD,yCAA0C,6DAC1C,2CAA4C,+CAC5C,4CAA6C,4FAC7C,4CAA6C,yMAC7C,8CAA+C,yCAC/C,sDAAuD,kDACvD,uDAAwD,6CACxD,uDAAwD,4DACxD,yDAA0D,8CAC1D,wDAAyD,oDACzD,yDAA0D,gIAC1D,yDAA0D,8MAC1D,2DAA4D,gDAC5D,uDAAwD,qDACxD,wDAAyD,gDACzD,wDAAyD,iHACzD,0DAA2D,iDAC3D,6DAA8D,4DAC9D,8DAA+D,uDAC/D,8DAA+D,sGAC/D,gEAAiE,wDACjE,4DAA6D,yDAC7D,6DAA8D,oDAC9D,6DAA8D,2HAC9D,+DAAgE,qDAChE,0DAA2D,wDAC3D,2DAA4D,mDAC5D,2DAA4D,kEAC5D,6DAA8D,oDAC9D,6CAA8C,2FAC9C,6CAA8C,yGAC9C,wDAAyD,iGACzD,wDAAyD,kKACzD,8CAA+C,oEAC/C,8CAA+C,yEAC/C,4CAA6C,gFAC7C,6CAA8C,oEAC9C,6CAA8C,oFAC9C,+CAAgD,wEAChD,sDAAuD,2FACvD,uDAAwD,+FACxD,2DAA4D,iGAC5D,oDAAqD,yFACrD,6CAA8C,mGAC9C,8CAA+C,uGAC/C,oDAAqD,2HACrD,mDAAoD,4EACpD,4DAA6D,0IAC7D,4DAA6D,2JAG7D,iBAAkB,WAClB,wBAAyB,uBACzB,8BAA+B,oBAC/B,+BAAgC,wCAChC,0BAA2B,gBAC3B,qCAAsC,4BACtC,6BAA8B,gBAC9B,uBAAwB,iBACxB,oCAAqC,+BACrC,2BAA4B,iCAG5B,yBAA0B,eAC1B,uBAAwB,aACxB,6BAA8B,iBAC9B,6BAA8B,oBAC9B,0BAA2B,cAC3B,8BAA+B,gBAC/B,iCAAkC,uBAClC,wBAAyB,kBACzB,kCAAmC,oCACnC,8BAA+B,mBAC/B,wBAAyB,YACzB,yBAA0B,cAC1B,wBAAyB,cACzB,yBAA0B,mCAC1B,4BAA6B,6BAC7B,wBAAyB,gBACzB,gCAAiC,uBACjC,sCAAuC,6BACvC,uBAAwB,YACxB,2BAA4B,gBAC5B,wBAAyB,gBCGZC,EA5TJ,CAET,gCAAiC,SACjC,iCAAkC,UAClC,iCAAkC,UAClC,qBAAsB,OACtB,yBAA0B,WAC1B,wBAAyB,UACzB,uBAAwB,SACxB,qBAAsB,OACtB,sBAAuB,OACvB,yBAA0B,WAC1B,yBAA0B,6BAC1B,uBAAwB,2BACxB,gCAAiC,2EACjC,4BAA6B,cAC7B,2BAA4B,cAG5B,SAAY,YACZ,YAAe,eACf,QAAW,WACX,SAAY,YACZ,eAAkB,kBAClB,SAAY,YAGZ,iDAAkD,iDAClD,+CAAgD,kCAChD,0DAA2D,oCAC3D,sDAAuD,8LACvD,qDAAsD,kDACtD,+CAAgD,oDAChD,+CAAgD,8BAChD,qDAAsD,6BACtD,yDAA0D,iCAC1D,uDAAwD,mHACxD,wCAAyC,aACzC,0CAA2C,eAC3C,8CAA+C,mBAC/C,8CAA+C,mBAC/C,8CAA+C,mBAG/C,oCAAqC,+BACrC,sBAAuB,OACvB,uBAAwB,QAGxB,mCAAoC,8BACpC,qBAAsB,iBACtB,yBAA0B,YAC1B,2BAA4B,eAC5B,qBAAsB,OACtB,6BAA8B,gBAC9B,4BAA6B,eAC7B,yBAA0B,YAC1B,gCAAiC,qBAGjC,SAAY,OACZ,8BAA+B,wBAC/B,6BAA8B,4BAC9B,iCAAkC,eAClC,iCAAkC,eAClC,kCAAmC,cACnC,6BAA8B,QAC9B,8BAA+B,OAG/B,SAAY,OAGZ,UAAa,QACb,4BAA6B,oBAC7B,+BAAgC,uBAChC,uBAAwB,sBACxB,2BAA4B,mBAG5B,mCAAoC,cACpC,8BAA+B,QAC/B,kCAAmC,YACnC,6BAA8B,OAC9B,4BAA6B,WAC7B,8BAA+B,aAC/B,yBAA0B,OAC1B,2BAA4B,SAC5B,sCAAuC,mBACvC,mCAAoC,+BAGpC,uCAAwC,sCAGxC,+BAAgC,SAChC,4BAA6B,MAC7B,gCAAiC,WACjC,gCAAiC,WAGjC,+BAAgC,yBAChC,mBAAoB,UACpB,oBAAqB,WACrB,uBAAwB,eACxB,wBAAyB,gBACzB,6BAA8B,+BAC9B,8BAA+B,eAC/B,4BAA6B,aAC7B,iBAAkB,iBAClB,yBAA0B,gBAC1B,yBAA0B,gBAC1B,iBAAkB,OAClB,kBAAmB,SACnB,mBAAoB,UACpB,cAAe,KACf,cAAe,KAGf,cAAiB,YACjB,mCAAoC,6BAGpC,iCAAkC,4BAClC,4BAA6B,kEAC7B,uBAAwB,WACxB,gCAAiC,qBACjC,+BAAgC,oBAChC,4BAA6B,0BAC7B,oBAAqB,QACrB,mBAAoB,OACpB,sBAAuB,UACvB,gCAAiC,sBACjC,8BAA+B,mBAC/B,sBAAuB,WACvB,yBAA0B,aAC1B,gCAAiC,qBACjC,8BAA+B,mBAC/B,qBAAsB,SAGtB,kBAAmB,SAGnB,eAAkB,mBAClB,uBAAwB,mBACxB,6BAA8B,OAC9B,wBAAyB,SACzB,sBAAuB,qBACvB,uBAAwB,QACxB,qCAAsC,kBACtC,4BAA6B,sBAC7B,iCAAkC,qBAClC,mCAAoC,uBACpC,uBAAwB,gBACxB,wBAAyB,6BACzB,wBAAyB,iCACzB,qCAAsC,uBACtC,uCAAwC,gGACxC,uCAAwC,uDACxC,mCAAoC,kBAGpC,qBAAsB,YACtB,+BAAgC,cAChC,qCAAsC,gCACtC,yBAA0B,OAC1B,+BAAgC,4BAGhC,8CAA+C,yBAC/C,gDAAiD,4CACjD,yCAA0C,4BAC1C,qCAAsC,8BACtC,mCAAoC,2BACpC,oCAAqC,4BACrC,gCAAiC,8BACjC,uCAAwC,kEACxC,8BAA+B,oBAC/B,kCAAmC,iCACnC,iCAAkC,oBAClC,uCAAwC,yCACxC,gDAAiD,4BACjD,kDAAmD,0DACnD,sCAAuC,wBACvC,wCAAyC,0GACzC,gDAAiD,0EACjD,8CAA+C,6CAC/C,0CAA2C,oEAC3C,kCAAmC,kEACnC,qCAAsC,0DAGtC,gBAAiB,OAGjB,sCAAuC,mBACvC,oBAAqB,aACrB,gCAAiC,yCAEjC,GAAM,KACN,OAAU,SACV,OAAU,SACV,MAAS,QACT,OAAU,SACV,OAAU,SACV,aAAgB,eAChB,aAAgB,qBAChB,kBAAqB,0BACrB,eAAkB,wCAClB,GAAM,KACN,KAAQ,OACR,KAAQ,OACR,KAAQ,OACR,IAAO,MACP,MAAS,QACT,OAAU,SACV,KAAQ,OACR,UAAa,aACb,YAAe,eAGf,2BAA4B,iBAC5B,uBAAwB,sLACxB,0BAA2B,cAC3B,mCAAoC,wBACpC,0BAA2B,cAG3B,kDAAmD,6DACnD,yCAA0C,0CAC1C,2CAA4C,6BAC5C,4CAA6C,2EAC7C,4CAA6C,uJAC7C,8CAA+C,6BAC/C,sDAAuD,iCACvD,uDAAwD,iCACxD,uDAAwD,0CACxD,yDAA0D,oCAC1D,wDAAyD,mCACzD,yDAA0D,kGAC1D,yDAA0D,wJAC1D,2DAA4D,sCAC5D,uDAAwD,kCACxD,wDAAyD,kCACzD,wDAAyD,sFACzD,0DAA2D,qCAC3D,6DAA8D,yCAC9D,8DAA+D,yCAC/D,8DAA+D,+EAC/D,gEAAiE,4CACjE,4DAA6D,uCAC7D,6DAA8D,uCAC9D,6DAA8D,kFAC9D,+DAAgE,0CAChE,0DAA2D,sCAC3D,2DAA4D,sCAC5D,2DAA4D,+CAC5D,6DAA8D,yCAC9D,6CAA8C,oEAC9C,6CAA8C,+EAC9C,wDAAyD,iFACzD,wDAAyD,qIACzD,8CAA+C,qDAC/C,8CAA+C,sDAC/C,4CAA6C,wDAC7C,6CAA8C,qDAC9C,6CAA8C,8DAC9C,+CAAgD,uDAChD,sDAAuD,4EACvD,uDAAwD,4EACxD,2DAA4D,gFAC5D,oDAAqD,6EACrD,6CAA8C,kFAC9C,8CAA+C,mFAC/C,oDAAqD,8FACrD,mDAAoD,2DACpD,4DAA6D,2JAC7D,4DAA6D,gLAG7D,iBAAkB,WAClB,wBAAyB,iBACzB,8BAA+B,eAC/B,+BAAgC,iCAChC,0BAA2B,aAC3B,qCAAsC,yBACtC,6BAA8B,MAC9B,uBAAwB,eACxB,oCAAqC,sBACrC,2BAA4B,oBAG5B,yBAA0B,cAC1B,uBAAwB,YACxB,6BAA8B,kBAC9B,6BAA8B,mBAC9B,0BAA2B,eAC3B,8BAA+B,mBAC/B,iCAAkC,sBAClC,wBAAyB,aACzB,kCAAmC,wBACnC,8BAA+B,mBAC/B,wBAAyB,aACzB,yBAA0B,cAC1B,wBAAyB,aACzB,yBAA0B,cAC1B,4BAA6B,kBAC7B,wBAAyB,aACzB,gCAAiC,sBACjC,sCAAuC,4BACvC,uBAAwB,YACxB,2BAA4B,gBAC5B,wBAAyB,cC5BZC,EA7RJ,CAET,gCAAiC,YACjC,iCAAkC,YAClC,iCAAkC,aAClC,qBAAsB,4BACtB,wBAAyB,2BACzB,uBAAwB,mBACxB,qBAAsB,QACtB,sBAAuB,iBACvB,yBAA0B,mBAC1B,yBAA0B,iCAC1B,uBAAwB,8BACxB,gCAAiC,mFACjC,4BAA6B,WAG7B,SAAY,qBACZ,YAAe,mBACf,QAAW,uBACX,SAAY,iBACZ,eAAkB,uBAClB,SAAY,iBAGZ,iDAAkD,kEAClD,+CAAgD,2CAChD,+CAAgD,iEAChD,+CAAgD,wCAChD,qDAAsD,2CACtD,uDAAwD,sIACxD,uCAAwC,kBACxC,0CAA2C,2BAC3C,8CAA+C,0BAC/C,8CAA+C,8BAC/C,8CAA+C,qCAC/C,8CAA+C,6BAG/C,oCAAqC,oCACrC,sBAAuB,aACvB,uBAAwB,SAGxB,SAAY,QACZ,8BAA+B,yBAC/B,6BAA8B,6CAC9B,iCAAkC,oBAClC,iCAAkC,oBAClC,kCAAmC,oBACnC,6BAA8B,QAC9B,8BAA+B,UAG/B,SAAY,QAGZ,UAAa,6BACb,4BAA6B,8BAC7B,+BAAgC,kCAChC,uBAAwB,4BACxB,2BAA4B,0BAG5B,mCAAoC,sBACpC,8BAA+B,SAC/B,kCAAmC,eACnC,6BAA8B,QAC9B,4BAA6B,2BAC7B,8BAA+B,aAC/B,yBAA0B,WAC1B,2BAA4B,WAC5B,sCAAuC,uCACvC,mCAAoC,kDAGpC,uCAAwC,4DAGxC,+BAAgC,SAChC,4BAA6B,YAC7B,gCAAiC,eACjC,gCAAiC,eAGjC,+BAAgC,0BAChC,mBAAoB,UACpB,oBAAqB,SACrB,uBAAwB,uBACxB,wBAAyB,sBACzB,6BAA8B,uCAC9B,8BAA+B,2BAC/B,4BAA6B,gCAC7B,iBAAkB,mBAClB,yBAA0B,0BAC1B,yBAA0B,0BAC1B,iBAAkB,iBAClB,kBAAmB,WACnB,mBAAoB,UACpB,cAAe,KACf,cAAe,KAGf,cAAiB,eACjB,mCAAoC,gCAGpC,iCAAkC,4CAClC,4BAA6B,2EAG7B,kBAAmB,8BAGnB,eAAkB,0CAClB,uBAAwB,0CACxB,6BAA8B,SAC9B,wBAAyB,WACzB,sBAAuB,kDACvB,uBAAwB,SACxB,qCAAsC,4CACtC,4BAA6B,2CAC7B,iCAAkC,oDAClC,mCAAoC,qDACpC,uBAAwB,kBACxB,wBAAyB,0DACzB,wBAAyB,wDACzB,qCAAsC,+CACtC,uCAAwC,8IACxC,uCAAwC,8EACxC,mCAAoC,yCAGpC,qBAAsB,oBACtB,+BAAgC,oBAChC,qCAAsC,+CACtC,yBAA0B,QAC1B,+BAAgC,2CAGhC,8CAA+C,kCAC/C,gDAAiD,kDACjD,yCAA0C,gCAC1C,qCAAsC,qCACtC,mCAAoC,wCACpC,oCAAqC,2CACrC,gCAAiC,8BACjC,uCAAwC,oFACxC,8BAA+B,2BAC/B,kCAAmC,iDACnC,iCAAkC,oCAClC,uCAAwC,gFACxC,gDAAiD,sCACjD,kDAAmD,iGACnD,sCAAuC,0CACvC,wCAAyC,kJACzC,gDAAiD,kFACjD,yCAA0C,uCAC1C,0CAA2C,6HAC3C,uCAAwC,sGACxC,kCAAmC,2EAGnC,gBAAiB,UAGjB,sCAAuC,mBACvC,oBAAqB,0BACrB,gCAAiC,qDAEjC,OAAU,WACV,OAAU,SACV,MAAS,SACT,MAAS,UACT,SAAY,aACZ,aAAgB,eAChB,aAAgB,yBAChB,kBAAqB,iCACrB,eAAkB,0DAClB,GAAM,eACN,KAAQ,cACR,KAAQ,UACR,KAAQ,SACR,IAAO,SACP,MAAS,QACT,OAAU,SACV,KAAQ,WACR,UAAa,gBACb,YAAe,eAGf,2BAA4B,kBAC5B,uBAAwB,2LACxB,0BAA2B,WAC3B,mCAAoC,gCACpC,0BAA2B,iBAG3B,kDAAmD,kGACnD,yCAA0C,2EAC1C,2CAA4C,kEAC5C,4CAA6C,yJAC7C,4CAA6C,qNAC7C,8CAA+C,4DAC/C,sDAAuD,+DACvD,uDAAwD,yDACxD,uDAAwD,kEACxD,yDAA0D,8DAC1D,wDAAyD,6DACzD,yDAA0D,8KAC1D,yDAA0D,kPAC1D,2DAA4D,4DAC5D,uDAAwD,4DACxD,wDAAyD,sDACzD,wDAAyD,uHACzD,0DAA2D,2DAC3D,6DAA8D,uEAC9D,8DAA+D,iEAC/D,8DAA+D,oHAC/D,gEAAiE,sEACjE,4DAA6D,mEAC7D,6DAA8D,6DAC9D,6DAA8D,+HAC9D,+DAAgE,kEAChE,0DAA2D,+EAC3D,2DAA4D,yEAC5D,2DAA4D,kFAC5D,6DAA8D,8EAC9D,6CAA8C,0FAC9C,6CAA8C,oGAC9C,wDAAyD,kHACzD,wDAAyD,4LACzD,8CAA+C,wEAC/C,8CAA+C,2EAC/C,4CAA6C,sFAC7C,6CAA8C,0EAC9C,6CAA8C,uFAC9C,+CAAgD,8EAChD,sDAAuD,+FACvD,uDAAwD,kGACxD,2DAA4D,oGAC5D,oDAAqD,iGACrD,6CAA8C,6GAC9C,8CAA+C,6GAC/C,oDAAqD,wHACrD,mDAAoD,0EACpD,4DAA6D,8MAC7D,4DAA6D,oOAG7D,iBAAkB,YAClB,wBAAyB,kBACzB,8BAA+B,uBAC/B,+BAAgC,wCAChC,0BAA2B,qBAC3B,qCAAsC,+BACtC,6BAA8B,YAC9B,uBAAwB,kBACxB,oCAAqC,2BACrC,2BAA4B,4BAG5B,yBAA0B,yBAC1B,uBAAwB,4BACxB,6BAA8B,6BAC9B,6BAA8B,oCAC9B,0BAA2B,yBAC3B,8BAA+B,gCAC/B,iCAAkC,mCAClC,wBAAyB,wBACzB,kCAAmC,8CACnC,8BAA+B,6BAC/B,wBAAyB,wBACzB,yBAA0B,qBAC1B,wBAAyB,uBACzB,yBAA0B,qCAC1B,4BAA6B,iCAC7B,wBAAyB,uBACzB,gCAAiC,oCACjC,sCAAuC,yCACvC,uBAAwB,uBACxB,2BAA4B,sBAC5B,wBAAyB,wB,OCpRrBC,EAAe,CACnBH,GAAG,eACEA,GAELC,GAAG,eACEA,GAELC,GAAG,eACEA,IAYM99B,EAAY,CACvB,CACE90B,OAAQ,KACR/I,KAAM,cAAC,IAAD,CAAkBzD,GAAG,mCAE7B,CACEwM,OAAQ,KACR/I,KAAM,cAAC,IAAD,CAAkBzD,GAAG,oCAE7B,CACEwM,OAAQ,KACR/I,KAAM,cAAC,IAAD,CAAkBzD,GAAG,qCAIhBq/D,O,0cCzCTC,E,WACJ,WAAYC,GAAa,oBACvBhgE,KAAKigE,QAAS,EACdjgE,KAAKggE,WAAaA,E,wCAGpB,SAAK9uD,GACH,OAAOlR,KAAKggE,WAAWE,OAAOhvD,K,mBAGhC,SAAMzG,GACJ,OAAOzK,KAAKggE,WAAWlZ,QAAQr8C,K,sBAGjC,WACE,OAAOzK,KAAKggE,WAAWG,iB,KAIdC,EAAb,WAKE,WAAYC,GAAc,oBACxBrgE,KAAKsgE,aAAeD,EACpBrgE,KAAKugE,MAAQ,aACbvgE,KAAKwgE,OAAS,aACdxgE,KAAKygE,UAAY,aATrB,6CAYE,SAAU13C,GAAO,IAAD,OACW,oBAAdA,EAAK8jC,OACd7sD,KAAKugE,MAAQx3C,EAAK8jC,MAEM,oBAAf9jC,EAAK5kB,QACdnE,KAAKwgE,OAASz3C,EAAK5kB,OAEQ,oBAAlB4kB,EAAKikC,WACdhtD,KAAKygE,UAAY13C,EAAKikC,UAExB,IAAM0T,EAAW,IAAIX,EAAS//D,MAExB2gE,EAAa3gE,KAAKsgE,aAAaI,GACrC,MAAO,CACLzT,YAAa,WACe,oBAAf0T,GACTA,IAGF,EAAKJ,MAAQ,aACb,EAAKC,OAAS,aACd,EAAKC,UAAY,iBAjCzB,oBAsCE,SAAOvvD,GACL,OAAOlR,KAAKugE,MAAMrvD,KAvCtB,qBA0CE,SAAQzG,GACN,OAAOzK,KAAKwgE,OAAO/1D,KA3CvB,wBA8CE,WACE,OAAOzK,KAAKygE,eA/ChB,qBACE,SAAcJ,GACZ,OAAO,IAAID,EAAWC,OAF1B,KCfqB98D,E,WAqBnB,aAAe,oBACbvD,KAAK4gE,gBAAkB,IAAI7+D,IAC3B/B,KAAK6gE,YAAc,IAAI9+D,IACvB/B,KAAKmnD,OAAS,K,+CAGhB,WACE,QAASnnD,KAAKmnD,S,uBAGhB,SAAUA,GACR,IAAM2Z,EAAa9gE,KAAKmnD,OACxBnnD,KAAKmnD,OAASA,EACV2Z,IAAe3Z,GACjBnnD,KAAK+gE,yBAAyB,IAAI9mD,MAAM,yB,gEAI5C,WAAkB/a,GAAlB,eAAAmE,EAAA,sEACoBE,EAASy9D,OAAOC,SAASC,OAAO,IAAIppD,WAAW5Y,IADnE,OACQyB,EADR,YAGUA,EAAI6D,KAHd,cAISjB,EAASy9D,OAAO9S,YAAY3mD,SAJrC,SAOShE,EAASy9D,OAAO9S,YAAYiT,cAPrC,SAUS59D,EAASy9D,OAAO9S,YAAYkT,eAVrC,UAaS79D,EAASy9D,OAAO9S,YAAYmT,oBAbrC,UAgBS99D,EAASy9D,OAAO9S,YAAYoT,aAhBrC,UAmBS/9D,EAASy9D,OAAO9S,YAAYqT,aAnBrC,0BAKMvhE,KAAKwhE,WAAW7gE,GALtB,mCAQMX,KAAKyhE,gBAAgB9gE,GAR3B,oCAWMX,KAAK0hE,iBAAiB/gE,GAX5B,oCAcMX,KAAK2hE,sBAAsBhhE,GAdjC,oCAiBMX,KAAK4hE,eAAejhE,GAjB1B,oCAoBMX,KAAK6hE,eAAelhE,GApB1B,6BAuBMd,IAAOsE,MAAM,CAAEK,KAAM7D,EAAI6D,MAAQ,yCAvBvC,iD,+EA2BA,SAAW7D,GACT,IAAMmhE,EAAOnhE,EAAIohE,cACXC,EAAMhiE,KAAK4gE,gBAAgB11D,IAAI42D,GACrC,GAAKE,EAAL,CAIA,IAAM77D,EAAMnG,KAAKiiE,eAAethE,GAChCX,KAAK4gE,gBAAgB58B,OAAO89B,GACxBE,EAAIE,UAIRC,aAAaH,EAAII,SACjBJ,EAAIlpD,QAAQ3S,SAVVtG,IAAOsE,MAAM,CAAE29D,QAAQ,kD,6BAa3B,SAAgBnhE,GACd,IAAMmhE,EAAOnhE,EAAIohE,cACXt3D,EAAMzK,KAAKqiE,oBAAoB1hE,GACrC,OAAOX,KAAKsiE,oBAAoBR,EAAMr3D,K,iCAGxC,SAAoBq3D,EAAMr3D,GACxB,IAAMu3D,EAAMhiE,KAAK4gE,gBAAgB11D,IAAI42D,GAChCE,GAKLhiE,KAAK4gE,gBAAgB58B,OAAO89B,GACxBE,EAAIE,UAIRC,aAAaH,EAAII,SACjBJ,EAAIjpD,OAAOtO,KAVT5K,IAAOsE,MAAM,CAAE29D,QAAQ,kD,sCAa3B,SAAyBr3D,GAAM,IAAD,gBACXzK,KAAK4gE,gBAAgBx2D,QADV,IAC5B,2BAA8C,CAAC,IAAtC03D,EAAqC,QAC5C9hE,KAAKsiE,oBAAoBR,EAAMr3D,IAFL,iC,8BAM9B,SAAiBq3D,GACf,IAAME,EAAMhiE,KAAK4gE,gBAAgB11D,IAAI42D,GAChCE,GAKLA,EAAIE,SAAU,EACdF,EAAIjpD,OAAO,IAAIkB,MAAM,uBALnBpa,IAAOsE,MAAM,CAAE29D,QAAQ,kD,qEAQ3B,WAAuBnhE,GAAvB,mBAAA0C,EAAA,yDACQk/D,EAAW5hE,EAAIohE,cACfC,EAAMhiE,KAAK6gE,YAAY31D,IAAIq3D,GAFnC,uBAII1iE,IAAOC,KAAK,CAAEyiE,YAAY,yCAJ9B,iCAOQp8D,EAAMnG,KAAKiiE,eAAethE,GAPlC,SAQQqhE,EAAItB,SAAS7T,KAAK1mD,GAR1B,OASEnG,KAAKwiE,kBAAkB7hE,GATzB,gD,0FAYA,SAAsBA,GACpB,IAAM4hE,EAAW5hE,EAAIohE,cACfC,EAAMhiE,KAAK6gE,YAAY31D,IAAIq3D,GACjC,GAAKP,EAAL,CAIA,IAAMv3D,EAAMzK,KAAKqiE,oBAAoB1hE,GACrCX,KAAK6gE,YAAY78B,OAAOu+B,GACxBP,EAAItB,SAASv8D,MAAMsG,QALjB5K,IAAOsE,MAAM,CAAEo+D,YAAY,0C,4BAQ/B,SAAe5hE,GACb,IAAM4hE,EAAW5hE,EAAIohE,cACfC,EAAMhiE,KAAK6gE,YAAY31D,IAAIq3D,GAC5BP,GAKLhiE,KAAK6gE,YAAY78B,OAAOu+B,GACxBP,EAAItB,SAAS1T,YALXntD,IAAOsE,MAAM,CAAEo+D,YAAY,2C,4BAQ/B,c,qBAKA,SAAQl9D,GAAM,IAAD,OACX,OAAO,IAAIgD,SAAQ,SAACyQ,EAASC,GAC3B,IAAK,EAAKouC,OACR,OAAOpuC,EAAO,IAAIkB,MAAM,wBAE1B1W,EAASk/D,UAAY,EACrB,IAAMX,EAAOv+D,EAASk/D,SAChB9hE,EAAM,EAAK+hE,YAAYr9D,EAAKy8D,EAAMv+D,EAASy9D,OAAO9S,YAAY5qD,SAC9Dq/D,EAAM,EAAKC,kBAAkBjiE,GAC7ByhE,EAAU/3B,WAAW,EAAKw4B,iBAAiBz+B,KAAK,EAAM09B,GAAO,KACnE,EAAKlB,gBAAgBl6D,IAAIo7D,EAAM,CAAEhpD,UAASC,SAAQqpD,YAClD,EAAKjb,OAAO2b,KAAKH,Q,oBAIrB,SAAOt9D,GAAM,IAAD,OACV,OAAO+6D,EAAW18D,QAAO,SAACg9D,GACxB,IAAK,EAAKvZ,OACR,OAAOuZ,EAASv8D,MAAM,IAAI8V,MAAM,wBAElC1W,EAASw/D,cAAgB,EACzB,IAAMR,EAAWh/D,EAASw/D,aACpBpiE,EAAM,EAAK+hE,YAAYr9D,EAAKk9D,EAAUh/D,EAASy9D,OAAO9S,YAAY8U,eAClEL,EAAM,EAAKC,kBAAkBjiE,GAInC,OAHA,EAAKkgE,YAAYn6D,IAAI67D,EAAU,CAAE7B,aACjC,EAAKvZ,OAAO2b,KAAKH,GAEV,WACL,EAAK9B,YAAY78B,OAAOu+B,GACxB,EAAKU,aAAaV,S,0BAKxB,SAAaR,GACX,GAAK/hE,KAAKmnD,OAAV,CAGA,IACMmP,EAAS,CAAEyL,gBAAev9D,KADnBjB,EAASy9D,OAAO9S,YAAYqT,cAEnC5gE,EAAM4C,EAASy9D,OAAOC,SAASiC,WAAW5M,GAC1CqM,EAAM3iE,KAAK4iE,kBAAkBjiE,GACnCX,KAAKmnD,OAAO2b,KAAKH,M,+BAGnB,SAAkBhiE,GAChB,IAAMwiE,EAAS5/D,EAASy9D,OAAOC,SAASiC,WAAW,CACjDnB,cAAephE,EAAIohE,cACnBqB,eAAgBziE,EAAIyiE,eACpB5+D,KAAMjB,EAASy9D,OAAO9S,YAAYmV,YAE9BV,EAAM3iE,KAAK4iE,kBAAkBO,GACnCnjE,KAAKmnD,OAAO2b,KAAKH,K,yBAGnB,SAAYt9D,EAAK08D,GAA4D,IAA7Cv9D,EAA4C,uDAArCjB,EAASy9D,OAAO9S,YAAY5qD,QAC3DjD,EAAUL,KAAKsjE,UAAUj+D,GACzBk+D,EAAWhgE,EAASy9D,OAAOC,SAASiC,WAAW,CACnDM,YAAaxjE,KAAKyjE,8BAA8BpjE,GAChDqjE,QAAS1jE,KAAK2jE,UAAUtjE,GACxB0hE,gBACAv9D,SAEF,OAAO++D,I,4BAKT,SAAe5iE,GACb,IAAMN,EAAUL,KAAK4jE,cAAcjjE,EAAI+iE,SAEvC,OADY1jE,KAAK6jE,YAAYxjE,K,iCAI/B,SAAoBM,GAClB,IAAMwD,EAAQ,IAAI8V,MAAMtZ,EAAIwD,MAAM9D,SAGlC,GAFA8D,EAAMinC,KAAOzqC,EAAIwD,MAAM2/D,UAEnBnjE,EAAIwD,MAAMu/D,QAAS,CACrB,IAAMA,EAAU1jE,KAAK4jE,cAAcjjE,EAAIwD,MAAMu/D,SAC7Cv/D,EAAMu/D,QAAUA,EAElB,OAAOv/D,I,uBAGT,SAAUkB,GACR,IAAM0+D,EAAY/jE,KAAKgkE,2BAA2B3+D,GAClD,OAAO9B,EAASC,KAAKygE,aAAavgE,OAA3B,eAAqCqgE,EAAY1+D,M,yBAG1D,SAAYhF,GACV,OAAOA,EAAQA,EAAQA,W,wCAKzB,SAA2BA,GACzB,IAAM6D,EAAO7D,EAAQ2+B,MAAM96B,KAC3B,OAAOA,EAAKrB,OAAO,EAAG,GAAGoN,cAAgB/L,EAAKrB,OAAO,K,2CAGvD,SAA8BxC,GAC5B,IAAM0jE,EAAY1jE,EAAQA,QAE1B,OADaA,EAAQ2+B,MAAM7uB,OAAO4zD,GACtBtjE,K,uBAGd,SAAUJ,GACR,IAAMmE,EAAOnE,EAAQ2+B,MACfklC,EAAW1/D,EAAK2/D,SAAS59D,MAAM,GAG/B69D,EAAU5/D,EAAK6/D,OAAOhkE,GAASikE,SACrC,MAAO,CACLC,SAAS,GAAD,OAHY,sBAGZ,YAAsBL,GAC9BriE,MAAOuiE,K,2BAIX,SAAcI,GACZ,IAAIN,EAAWM,EAAID,SACbvhE,EAAWkhE,EAASn/D,QAAQ,MAChB,IAAd/B,IACFkhE,EAAWA,EAAS39D,MAAMvD,EAAW,IAEvC,IAAMwB,EAAOjB,EAASC,KAAK6M,OAAO6zD,GAClC,GAAK1/D,EAIL,OAAOA,EAAK08D,OAAOsD,EAAI3iE,OAHrBhC,IAAOsE,MAAM,CAAEK,KAAMggE,EAAID,UAAY,gD,+BAMzC,SAAkBhB,GAChB,IAAMZ,EAAMp/D,EAASy9D,OAAOC,SAASoD,OAAOd,GAAUe,SAEtD,OADY3B,EAAI8B,OAAOl+D,MAAMo8D,EAAI+B,WAAY/B,EAAI+B,WAAa/B,EAAIngE,W,0DAjSpE,8FAC0Be,EAASohE,UAAU,4BAA6B,UAD1E,cACEphE,EAASy9D,OADX,gBAEwBz9D,EAASohE,UAAU,wBAAyB,QAFpE,cAEEphE,EAASC,KAFX,gBAG0BD,EAASohE,UAAU,wBAAyB,UAHtE,OAGEphE,EAASqhE,OAHX,OAIErhE,EAASshE,aAAc,EAJzB,4C,oHAOA,WAAuBn0D,EAAMo0D,GAA7B,uFACqBC,IAAQC,KAAKt0D,GADlC,cACQs1B,EADR,yBAESA,EAAK31B,OAAOy0D,IAFrB,2C,gEAhBmBvhE,EAEZy9D,OAAS,GAFGz9D,EAIZC,KAAO,GAJKD,EAKZk/D,SAAW,EALCl/D,EAMZw/D,aAAe,EANHx/D,EAOZshE,aAAc,G,oKCXR,QAA0B,oC,wSCA1B,QAA0B,kC,4dCKnCI,E,4JACJ,WACE,MAA6BjlE,KAAKC,MAA1BilE,EAAR,EAAQA,QAAS7kE,EAAjB,EAAiBA,QACjB,QAAK6kE,GAKH,qBAAK5kE,UAAU,yBAAf,SACE,qBAAKA,UAAU,yBAAf,SAAyCD,U,GATjBK,aAehCukE,EAAkB13D,aAAe,CAC/B23D,SAAS,EACT7kE,aAASsI,GAQIs8D,Q,6DCjBXE,G,OAAe,GA0GJC,EAxGQ,SAAC,GAA6D,IAA3DviC,EAA0D,EAA1DA,MAAO3M,EAAmD,EAAnDA,SAAUwO,EAAyC,EAAzCA,KAAM2gC,EAAmC,EAAnCA,WAAYt5C,EAAuB,EAAvBA,OAAQu5C,EAAe,EAAfA,SAC7DC,EAXY,SAAC1jE,GACnB,IAAMomB,EAAMsR,mBAIZ,OAHAxO,qBAAU,WACR9C,EAAIuR,QAAU33B,KAETomB,EAAIuR,QAMQgsC,CAAYz5C,GAE/B,IAAK2Y,EACH,OAAO,wBAGL3Y,IAAWw5C,IACbJ,EAAe,GAGjB,IAeMvI,EAAuB,SAACC,EAAMT,GAElC,IADA,IAAIzqD,EAAS,GACJhP,EAAI,EAAGA,EAAIk6D,EAAKr6D,OAAQG,IAC3By5D,EAAU70C,SAAS5kB,GACrBgP,EAAO/K,KAAK,CACV,sBAAMtG,UAAU,eAAhB,SACGu8D,EAAKjrB,OAAOjvC,IADf,wCAAqEk6D,EAArE,YAA6El6D,MAK/EgP,EAAO/K,KAAK,CAACi2D,EAAKjrB,OAAOjvC,KAG7B,OAAO,8BAAmDgP,GAAnD,uCAA0CkrD,KAG7C4I,EAAgB,GAatB,IAZC5iC,GAAS,IAAI15B,SAAQ,SAACrB,GACrB,IAAMsiC,EAAM,GAGkB,IApCX,SAACjoC,EAAK+5D,EAAOE,GAChCj6D,EAAMA,EAAI8N,cAEV,IADA,IAAI0sD,EAAU,EACPT,EAAM15D,QAAQ,CACnB,IAAMo1D,EAAMz1D,EAAI4C,QAAQm3D,EAAM,GAAIS,GAClC,IAAa,IAAT/E,EACF,MAEFwE,EAAUx1D,KAAKgxD,GACfsE,EAAQA,EAAM31D,MAAM,GACpBo2D,EAAU/E,EAAM,EAElB,OAAOsE,EAsBgBI,CAAax0D,EAAMikB,EAAO9b,cAActE,MAAM,IAAKy+B,GAEvD5nC,QACjBijE,EAAc7+D,KAAK,CACjB4c,KAAM1b,EACN49D,kBAAmB9I,EAAqB90D,EAAMsiC,QAKvB,IAAzBq7B,EAAcjjE,OAChB,OAAO,wBAGqB,YAA1B6iE,EAAWA,YAA4BF,EAAe,GACxDA,IAG4B,cAA1BE,EAAWA,YAA8BF,EAAeM,EAAcjjE,OAAS,GACjF2iE,IAGF,IAAMQ,EAAY,GACdC,EAAc,GA0BlB,OAzBCH,GAAiB,IAAIt8D,SAAQ,SAACrB,EAAM8vD,GACnC,IAAMiO,EAAaV,IAAiBvN,EAChCiO,IACFD,EAAc99D,EAAK0b,MAGrBmiD,EAAU/+D,KACR,oBAEEpG,QAAS,kBAAM01B,EAASpuB,EAAK0b,OAC7BljB,UAAWulE,EAAa,0BAA4B,GAHtD,SAKG/9D,EAAK49D,mBALR,4BAC4B59D,EAAK0b,WASP,UAA1B6hD,EAAWA,YACbnvC,EAAS0vC,GAGmB,WAA1BP,EAAWA,YACbC,IAIA,cAACQ,EAAA,EAAD,CACExlE,UAAU,yBACV6M,MAAOu3B,EAAO,CAAE1c,QAAS,SAAY,CAAEA,QAAS,QAFlD,SAIE,oBAAI1nB,UAAU,sBAAd,SAAqCqlE,OC1B5BI,EAnFM,SAAC,GAA0E,IAAxE1iD,EAAuE,EAAvEA,MAAO6V,EAAgE,EAAhEA,UAAWr3B,EAAqD,EAArDA,MAAOilB,EAA8C,EAA9CA,SAAUoW,EAAoC,EAApCA,QAAS96B,EAA2B,EAA3BA,KAAM4jE,EAAqB,EAArBA,eAClEC,EAAW1sC,mBACjB,EAAwB7O,oBAAS,GAAjC,mBAAOga,EAAP,KAAawhC,EAAb,KACA,EAA4Bx7C,mBAAS,IAArC,mBAAOqB,EAAP,KAAeo6C,EAAf,KACA,EAAoCz7C,qBAApC,mBAAO26C,EAAP,KAAmBe,EAAnB,KAsBMC,EAA2B,SAACl4C,GAChC,IAAM+tB,EArBc,SAACr6C,EAAOqwB,GAI5B,IAHA,IAAIgqB,EAAa,GACboqB,EAAkBp0C,EAAW,EAE1Bo0C,GAAmB,IAAMpqB,EAAWr3C,WAAW,MAAM,CAC1D,GAAsC,MAAlChD,EAAM+vC,OAAO00B,GACf,MAAO,GAGTpqB,EAAar6C,EAAM+vC,OAAO00B,GAAmBpqB,EAC7CoqB,IAOF,OAJKpqB,EAAWr3C,WAAW,OACzBq3C,EAAa,IAGRA,EAIYqqB,CAAcp4C,EAAM1C,OAAO5pB,MAAOokE,EAASzsC,QAAQoR,cACtEu7B,EAAUjqB,GACVgqB,EAAQhqB,EAAW15C,OAAS,GAC5BskB,EAASqH,EAAM1C,OAAO5pB,QAwBxB,OACE,sBAAKvB,UAAU,uBAAf,UACE,cAAC24B,EAAA,EAAD,CACEgtC,SAAUA,EACV5iD,MAAOA,EACP6V,UAAWA,EACXr3B,MAAOA,EACPilB,SAAU,SAACvN,GAAD,OAAO8sD,EAAyB9sD,IAC1CitD,UAAW,SAACjtD,GAAD,MAdG,eADD4U,EAee5U,GAdtB3X,KAAqC,YAAdusB,EAAMvsB,KACrCusB,EAAMF,sBAERm4C,EAAc,CAAEf,WAAYl3C,EAAMvsB,MAJlB,IAACusB,GAgBb+O,QAASA,EACT96B,KAAMA,EACN8jC,WAAY,CACV/4B,MAAO,CACLE,OAAQ,OAId,cAAC,EAAD,CACEq3B,KAAMA,EACN2gC,WAAYA,EACZt5C,OAAQA,EACR8W,MAAOmjC,EACP9vC,SAAU,SAAChyB,GAAD,OAvCW,SAACA,GAC1BgiE,GAAQ,GACRp/C,EAAS,GAAD,OACHjlB,EAAM0E,MAAM,EAAG0/D,EAASzsC,QAAQoR,aAAe7e,EAAOvpB,SADnD,OAC6D0B,GAD7D,OACoErC,EAAM0E,MAC9E0/D,EAASzsC,QAAQoR,aACjB/oC,EAAMW,UAkCcikE,CAAmBviE,IACvCohE,SAAU,WA3CdY,GAAQ,U,uEC3BCQ,EAAmE,SAAC,GAK1E,IAJLvmE,EAII,EAJJA,KACAC,EAGI,EAHJA,MACAumE,EAEI,EAFJA,YACAjiE,EACI,EADJA,SAEA,OACE,eAACk9B,EAAA,EAAD,CACEzhC,KAAMA,EACN,kBAAgB,qBAChB,mBAAiB,2BACjBymE,sBAAsB,EAJxB,UAME,cAACC,EAAA,EAAD,CAAapmE,GAAG,qBAAhB,SAAsCL,IACtC,cAAC0mE,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAmBtmE,GAAG,2BAAtB,SAAkDkmE,MAEpD,cAACK,EAAA,EAAD,UAAgBtiE,QCkBPuiE,EAjCuC,SAAC,GAKhD,IAJL/mE,EAII,EAJJA,QACAgnE,EAGI,EAHJA,gBACA/mE,EAEI,EAFJA,KACAC,EACI,EADJA,MAEA,EAAsCsqB,mBAASvqB,IAAQ,GAAvD,mBAAOgnE,EAAP,KAAoBC,EAApB,KACA,OACE,qCACE,8BACE,cAACtrD,EAAA,EAAD,CACEzF,QAAQ,mBACR7V,QAAS,WACP4mE,GAAe,IAEjBxxD,QAASyxD,QAGb,cAAC,EAAD,CAAalnE,KAAMgnE,EAAaR,YAAaO,EAAiB9mE,MAAOA,EAArE,SACE,cAAC68B,EAAA,EAAD,CACEz8B,QAAS,WACP4mE,GAAe,GACflnE,GAAWA,KAEbK,MAAM,UALR,SAOE,cAAC,IAAD,CAAkBE,GAAG,kBC5BlB6mE,EAA0B,SAACC,EAAgBnhE,EAAMhB,GAE5D,IADA,IAAMkB,EAASF,GAAQA,EAAK1B,UAAY0B,EAAK1B,SAAS6B,MAAM,IAAO,GAC5DD,EAAM9D,OAAS,GAAG,CACvB,IAAMgE,EAAOF,EAAMG,QACXhG,EAA2B+F,EAA3B/F,GAAIQ,EAAuBuF,EAAvBvF,SAAUyD,EAAa8B,EAAb9B,SACtB,GAAIjE,GAAM8mE,IAAmB9mE,EAAG0W,WAC9B,MAAO,eAAiB/R,EAAiB,IAAMnE,EAEjD,GAAIyD,GAAYA,EAASlC,OACvB,IAAK,IAAIG,EAAI,EAAGA,EAAI+B,EAASlC,SAAUG,EACrC2D,EAAMM,KAAKlC,EAAS/B,MAgHb6kE,EA1GG,SAAC,GAUZ,IATL/mE,EASI,EATJA,GACAgnE,EAQI,EARJA,OACAC,EAOI,EAPJA,aACAC,EAMI,EANJA,sBACAC,EAKI,EALJA,qBACAC,EAII,EAJJA,SACA5jE,EAGI,EAHJA,WAGI,IAFJijE,uBAEI,MAFc,6BAEd,MADJY,iBACI,MADQ,GACR,EACJ,EAAoCp9C,mBAAS+8C,EAAOC,GAAcK,YAAc,GAAhF,mBAAOA,EAAP,KAAmBC,EAAnB,KACA,EAAwBt9C,mBAAS+8C,EAAOC,GAAch3D,MAAQ,IAA9D,mBAAOA,EAAP,KAAau3D,EAAb,KACA,EAAwCv9C,mBACtC+8C,EAAOC,GAAcQ,cAhCK,IA+B5B,mBAAOA,EAAP,KAAqBC,EAArB,KAGA,EAA8Bz9C,mBACK,kBAAzB+8C,EAAOC,IAA8BD,EAAOC,GAAc7xD,UAAY,GADhF,mBAAOA,EAAP,KAAgBuyD,EAAhB,KAIA,OACE,sBAAK9nE,UAAU,kBAAf,UACE,qBAAKA,UAAU,OAAf,SACE,qBAAKA,UAAU,cAAf,SAA8BG,MAEhC,qBAAKH,UAAU,SAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,cAAC+nE,EAAA,EAAD,CAAKC,GAAI,CAAEC,GAAI,GAAf,SACGZ,GACC,cAAC/gD,EAAA,EAAD,CACEC,cAAY,EACZ8b,UAAW,CAAColC,GACZ/xC,aAAc,CAAC+xC,GACf7oE,KAAMyoE,EACN7gD,SAAU,SAACgN,GAET2zC,EAAOC,GAAcK,WAAaj0C,EAClC,IAAMntB,EAAe2gE,EACnBxzC,EACA6zC,EACA1jE,GAEFwjE,EAAOC,GAActvD,MAAQ,WAAazR,EAAe,IACzDqhE,EAAcl0C,IAEhBg0C,UAAWA,MAIjB,cAACO,EAAA,EAAD,CAAKC,GAAI,CAAEC,GAAI,GAAf,SACE,cAACC,EAAD,CACEnlD,MAAM,OACN6V,WAAS,EACTr3B,MAAO6O,EACPoW,SAAU,SAACjlB,GACTomE,EAAQpmE,GACR4lE,EAAOC,GAAc7lE,MAAQA,GAE/Bq7B,QAAQ,WACR96B,KAAK,QACL4jE,eAAgB4B,MAGpB,cAACS,EAAA,EAAD,CAAKC,GAAI,CAAEC,GAAI,GAAf,SACE,cAAC7hC,EAAA,EAAD,CACEC,cAAe9wB,EAAQsB,WACvB7G,OAAQ,CAAC,OAAQ,SACjBs2B,mBAAoB,SAACrtB,GAAD,OAAO6uD,EAAyB,SAAd7uD,EAAE1D,UACxCpV,GAAG,UACHyD,KAAK,cAGT,cAACmkE,EAAA,EAAD,UACE,cAACpvC,EAAA,EAAD,CACEC,WAAS,EACTgE,QAAQ,WACR7Z,MAAM,gBACNyiB,WAAY,CACVI,WAAY,CACV1hC,KAAM,SACNstB,IAAK,GACLjQ,IAlGQ,EAmGR2Y,KAAM,IAERrtB,MAAO,CACLE,OAAQ,KAGZ/M,UAAU,OACVkE,KAAK,SACLikE,UAAU,EACV5mE,MAAOqmE,GA7GS,GA8GhBphD,SAAU,SAACvN,GAAD,OAAO4uD,EAAgB5uD,EAAEkS,OAAO5pB,QAC1Ci3B,OAAQ,SAACvf,GAAD,OAAQkuD,EAAOC,GAAc7lE,MAAQ0X,EAAEkS,OAAO5pB,WAG1D,8BACE,cAACia,EAAA,EAAD,CAAYzF,QAAQ,eAAe7V,QAAS,kBAAMqnE,KAAYjyD,QAAS8yD,QAExExB,GAAmB,cAAC,EAAD,CAAgBA,gBAAiBA,a,QCtHlDyB,EAA8B,eAErCC,EAAiC,CACrC,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,UAEIC,GAA6B,UAC9BD,EACA,CAAC,SAAU,SAAU,SAAU,WAE9BE,GACD,CAAC,GAAI,iBAAkB,cADL,mBAElBD,KAGCE,GAAyB,GAE/BD,GAAkB3/D,SAAQ,SAACvH,GACzBmnE,GAAuBnnE,GACrB,qCACE,cAAConE,EAAA,EAAD,CAAYC,cAAY,EAAxB,0LAIA,cAACD,EAAA,EAAD,CAAYC,cAAY,EAAxB,wJAIA,cAACD,EAAA,EAAD,CAAYC,cAAY,EAAxB,8MASN,IAwGeC,GAxGS,SAAC,GAMlB,IALLlT,EAKI,EALJA,aACAmT,EAII,EAJJA,iBACAC,EAGI,EAHJA,6BACAzB,EAEI,EAFJA,sBACA0B,EACI,EADJA,0BAEA,EAAoD3+C,mBAAS,IAA7D,mBAAO4+C,EAAP,KAA2BC,EAA3B,KACA,EAA4B7+C,oBAAS,GAArC,mBAAOsP,EAAP,KAAewvC,EAAf,KAWQ/yD,EAAwBu/C,EAAxBv/C,QAASxS,EAAe+xD,EAAf/xD,WACXwlE,EAAgB,GAEhBC,EAAiB,SAAC9nE,UACf6U,EAAQ7U,GACf4nE,GAAWxvC,IAGP2vC,EAA6Bb,GAAkB/8C,QACnD,SAAC7N,GAAD,OAAQ/T,OAAOC,KAAKqM,GAAS8Q,SAASrJ,MA6CxC,OA1CA/T,OAAOC,KAAKqM,GAAStN,SAAQ,SAACvH,GACxBA,EAAIiD,WAAW,SACjB4kE,EAAc7iE,KACZ,cAAC,EAAD,CAEE3C,WAAYA,EACZxD,GAAImB,EACJ6lE,OAAQhxD,EACRixD,aAAc9lE,EACd+lE,sBAAuBA,EACvBwB,iBAAkBE,EAClBxB,SAAU,kBAAM6B,EAAe9nE,IAC/BslE,gBAAiB6B,GAAuBnnE,GACxCkmE,UAAW,CAAEnhD,SAAU,SAAUtZ,OAAQ,UAV3C,kBACkBpJ,EADlB,YACgCrC,KAalC6nE,EAAc7iE,KACZ,cAAC,GAAD,CACE3C,WAAYA,EAEZijE,gBAAiB6B,GAAuBnnE,GACxCnB,GAAImB,EACJ6lE,OAAQhxD,EACRixD,aAAc9lE,EACdunE,iBACEP,EAA+BrhD,SAAS3lB,GACpCunE,EACAC,EAENvB,SAAU,kBAAM6B,EAAe9nE,IAC/BgoE,eAAiBf,GAA8BthD,SAAS3lB,GAAkB,GAAX,CAAC,QAChEioE,eACEjB,EAA+BrhD,SAAS3lB,GAvHjB,OAyHnB+mE,GAjBR,kBAEkB1kE,EAFlB,YAEgCrC,QAuBpC,sBAAKtB,UAAU,qBAAf,UACGmpE,EACD,sBAAKnpE,UAAU,kBAAf,UACE,qBAAKA,UAAU,OAAf,+BACA,qBAAKA,UAAU,SAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,qBAAK6M,MAAO,CAAEC,MAAO,QAASse,QAAS,SAAvC,SACE,cAACgb,EAAA,EAAD,CACEC,cAAe2iC,EACfh5D,OAAQq5D,EACR/iC,mBAAoB,SAACrtB,GAAD,OAAOgwD,EAAsBhwD,EAAEuwD,iBACnD5lE,KAAK,WACLzD,GAAG,qBAGP,qBAAKH,UAAU,OAAO6M,MAAO,CAAEs+B,OAAQ,QAAvC,SACE,cAAC3vB,EAAA,EAAD,CACEzF,QAAQ,eACR7V,QAAS,kBAlFO,SAACw1D,GACxBA,EAAav/C,SAAkC,KAAvB6yD,IAC3BtT,EAAav/C,QAAU,IAGzBu/C,EAAav/C,QAAQ6yD,GAAsB,CAAEplE,KAAM,GAAIrC,MAAO,GAAIgU,SAAS,GAC3E0zD,EAAsB,IA4EKQ,CAAsB/T,IACrCpgD,QAASo0D,IACT78D,MAAO,CAAEs+B,OAAQ,qBChClBw+B,GAlHM,SAAC,GAUf,IATLxpE,EASI,EATJA,GACAgnE,EAQI,EARJA,OACAC,EAOI,EAPJA,aACAyB,EAMI,EANJA,iBACAtB,EAKI,EALJA,SACA5jE,EAII,EAJJA,WAII,IAHJ2lE,sBAGI,MAHa,GAGb,MAFJC,sBAEI,MAFalB,EAEb,MADJzB,uBACI,MADc,6BACd,EACJ,EAAoCx8C,mBAAS+8C,EAAOC,GAAcK,YAAc,GAAhF,mBAAOA,EAAP,KAAmBC,EAAnB,KAEA,EAAwBt9C,mBACU,kBAAzB+8C,EAAOC,GAA6BD,EAAOC,GAAcxjE,KAAO,IADzE,mBAAOA,EAAP,KAAauoC,EAAb,KAGA,EAA0B/hB,mBACQ,kBAAzB+8C,EAAOC,GAA6BD,EAAOC,GAAc7lE,MAAQ4lE,EAAOC,IADjF,mBAAO7lE,EAAP,KAAcyyC,EAAd,KAGA,EAA8B5pB,mBACK,kBAAzB+8C,EAAOC,IAA8BD,EAAOC,GAAc7xD,UAAY,GADhF,mBAAOA,EAAP,KAAgBuyD,EAAhB,KAqFA,OACE,sBAAK9nE,UAAU,kBAAf,UACE,qBAAKA,UAAU,OAAf,SACE,qBAAKA,UAAU,cAAf,SAA8BG,MAEhC,qBAAKH,UAAU,SAAf,UAA2CmnE,EAAOC,GApFlD,sBAAKpnE,UAAU,kBAAf,UACE,cAAC+nE,EAAA,EAAD,CAAKC,GAAI,CAAEC,GAAI,GAAf,UACIqB,EAAeriD,SAAS,SACxB,cAACihD,EAAD,CACEnlD,MAAM,OACN6V,WAAS,EACTr3B,MAAOqC,EACP4iB,SAAU,SAACjlB,GACT4qC,EAAQ5qC,GACR4lE,EAAOC,GAAcxjE,KAAOrC,GAE9Bq7B,QAAQ,WACR96B,KAAK,QACL9B,UAAU,OACV0lE,eAAgBmD,MAItB,cAACd,EAAA,EAAD,CAAKC,GAAI,CAAEC,GAAI,GAAf,UACIqB,EAAeriD,SAAS,UACxB4hD,IACCU,IAAmBlB,EAClB,cAACH,EAAD,CACEnlD,MAAM,QACN6V,WAAS,EACTr3B,MAAOA,EACPilB,SAAU,SAACjlB,GACTyyC,EAASzyC,GACT4lE,EAAOC,GAAc7lE,MAAQA,GAE/Bq7B,QAAQ,WACR96B,KAAK,QACL9B,UAAU,OACV0lE,eAAgBmD,KAGjB,SAAUA,GAAoB,aAAcA,IAC3C,cAACviD,EAAA,EAAD,CACEC,cAAY,EACZ8b,UAAW,CAAColC,GACZ/xC,aAAc,CAAC+xC,GACf7oE,KAAMiqE,EACNriD,SAAU,SAACgN,GACT2zC,EAAOC,GAAcK,WAAaj0C,EAClC,IAAMntB,EAAe2gE,EACnBxzC,EACAq1C,EACAllE,GAEFwjE,EAAOC,GAAc7lE,MAAQ,WAAa8E,EAAe,IACzDqhE,EAAcl0C,IAEhBg0C,UAAW,CAAEnhD,SAAU,SAAUtZ,OAAQ,eAKjDu8D,EAAeriD,SAAS,YACxB,8BACE,cAACmf,EAAA,EAAD,CACExiC,KAAK,UACLyiC,cAAe9wB,EAAQsB,WACvB7G,OAAQ,CAAC,OAAQ,SACjBs2B,mBAAoB,SAACrtB,GACnB6uD,EAAyB,SAAd7uD,EAAE1D,SACb4xD,EAAOC,GAAc7xD,QAAwB,SAAd0D,EAAE1D,SAEnCpV,GAAG,cAIT,8BACE,cAACqb,EAAA,EAAD,CAAYzF,QAAQ,eAAe7V,QAAS,kBAAMqnE,KAAYjyD,QAAS8yD,QAExExB,GAAmB,cAAC,EAAD,CAAgBA,gBAAiBA,cCvGvDgD,GAA8B,CAClC,QACA,QACA,QACA,QACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,WAGIC,GACD,CACD,GACA,qBACA,YACA,WACA,iBACA,UACA,YACA,aACA,UACA,WACA,aACA,cACA,YACA,cACA,iBACA,kBACA,YAlBiB,OAoBhBD,IAGCnB,GAAyB,GAE/BoB,GAAgBhhE,SAAQ,SAACvH,GACvBmnE,GAAuBnnE,GACrB,qCACE,cAAConE,EAAA,EAAD,CAAYC,cAAY,EAAxB,0LAIA,cAACD,EAAA,EAAD,CAAYC,cAAY,EAAxB,wJAIA,cAACD,EAAA,EAAD,CAAYC,cAAY,EAAxB,8MAQN,IA6EemB,GA7EO,SAAC,GAAwC,IAAtCpU,EAAqC,EAArCA,aAAcmT,EAAuB,EAAvBA,iBACrC,EAAgDz+C,mBAAS,IAAzD,mBAAO2/C,EAAP,KAAyBC,EAAzB,KACA,EAA4B5/C,oBAAS,GAArC,mBAAOsP,EAAP,KAAewvC,EAAf,KAWQe,EAAsBvU,EAAtBuU,MAAOtmE,EAAe+xD,EAAf/xD,WACTumE,EAAc,GAEpBrgE,OAAOC,KAAKmgE,GAAOvmE,KAAI,SAACpC,GAQtB,MAP0B,kBAAf2oE,EAAM3oE,KACf2oE,EAAM3oE,GAAO,CACXsC,KAAM,GACNrC,MAAO0oE,EAAM3oE,GACbiU,SAAS,IAGN00D,EAAM3oE,MAGf,IAAM6oE,EAA2BN,GAAgBp+C,QAAO,SAAC7N,GAAD,OAAQ/T,OAAOC,KAAKmgE,GAAOhjD,SAASrJ,MAoB5F,OAlBA/T,OAAOC,KAAKmgE,GAAOphE,SAAQ,SAACvH,GAC1B4oE,EAAY5jE,KACV,cAAC,GAAD,CAEEnG,GAAImB,EACJ6lE,OAAQ8C,EACR7C,aAAc9lE,EACdunE,iBAAkBA,EAClBS,eAAiBM,GAA4B3iD,SAAS3lB,GAAkB,GAAX,CAAC,QAC9DimE,SAAU,kBACD0C,EAAM3oE,GACb4nE,GAAWxvC,IAEbktC,gBAAiB6B,GAAuBnnE,IAX1C,gBACgBqC,EADhB,YAC8BrC,QAgBhC,sBAAKtB,UAAU,qBAAf,UACGkqE,EACD,sBAAKlqE,UAAU,kBAAf,UACE,qBAAKA,UAAU,OAAf,+BACA,qBAAKA,UAAU,SAAf,SACE,sBAAKA,UAAU,kBAAf,UACE,qBAAK6M,MAAO,CAAEC,MAAO,QAASse,QAAS,SAAvC,SACE,cAACgb,EAAA,EAAD,CACEC,cAAe0jC,EACf/5D,OAAQm6D,EACR7jC,mBAAoB,SAACrtB,GAAD,OAAO+wD,EAAoB/wD,EAAEmxD,eACjDxmE,KAAK,WACLzD,GAAG,mBAGP,qBAAK0M,MAAO,CAAEs+B,OAAQ,UAAtB,SACE,cAAC3vB,EAAA,EAAD,CACEzF,QAAQ,eACR7V,QAAS,kBA9DK,SAACw1D,GACtBA,EAAauU,OAA8B,KAArBF,IACzBrU,EAAauU,MAAQ,IAGvBvU,EAAauU,MAAMF,GAAoB,CAAEnmE,KAAM,GAAIrC,MAAO,GAAIgU,SAAS,GACvEy0D,EAAoB,IAwDOK,CAAoB3U,IACnCpgD,QAASo0D,oBCqKVY,I,OA5Le,WAC5B,IAAM3nD,EAAWqiB,cACXp5B,EAAgBiqB,aACpB,SAAC1oB,GAAD,OAAWA,EAAMC,IAAIm9D,uBAAyB,CAAEC,wBAAyB,OAGrEC,EAAsB50C,aAC1B,SAAC1oB,GAAD,OAAWA,EAAMC,IAAIxB,iBAEjB9I,EAAW+yB,aAAuB,SAAC1oB,GAAD,OAAWA,EAAMC,IAAItK,YAC7D,EAA4BsnB,oBAAkB,GAA9C,mBAAOsP,EAAP,KAAewvC,EAAf,KAEMwB,EAA2B,GAC7BD,GAAuBA,EAAoB7gE,kBAC5C6gE,EAAoB7gE,iBAAmB,IAAIf,SAAQ,SAAC8hE,GACnDD,EAAepkE,KAAK,cAAgBqkE,EAAW,QAInD,IAAM5B,EAAyB,UAAO2B,GACtC3B,EAA0BziE,KAAK,cAC/ByiE,EAA0BziE,KAAK,WAC/ByiE,EAA0BziE,KAAK,sBAE/B,IAAMskE,EAAoB,WACxBC,IACAloD,EAASmoD,YAAiChoE,EAAU8I,KAGhDi/D,EAAwB,WAC5Bj/D,EAAc4+D,wBAAwB3hE,SAAQ,SAAC6sD,GAC7C,UAAIA,QAAJ,IAAIA,KAAcuU,MAEhB,IADA,IAAMA,EAAQvU,EAAauU,MAC3B,MAA2BpgE,OAAO9D,QAAQkkE,GAA1C,eAAkD,CAA7C,0BAAO3oE,EAAP,KAAYC,EAAZ,KACkB,kBAAVA,GAAqC,KAAfA,EAAMqC,OAAiC,IAAlBrC,EAAMgU,UAG1D00D,EAAM3oE,GAAOC,EAAMA,YA+DvB8F,EAxDqB,WACzB,IAAM0jE,EAAkB,GAIxB,QAHoB,OAAnBN,QAAmB,IAAnBA,OAAA,EAAAA,EAAqBhnE,cAAe,IAAIoF,SAAQ,SAAClF,GAChDonE,EAAMzkE,KAAK3C,EAAWC,SAEjBmnE,EAmDehnE,GA0ExB,OACE,sBAAK/D,UAAU,kCAAf,UACE,cAAC,EAAD,CAAmB4kE,SAAU6F,EAAqB1qE,QAAS,6CAC3D,cAAC48B,EAAA,EAAD,CAAQC,QAAQ,YAAY38B,MAAM,UAAUC,QAAS,kBAAM0qE,KAA3D,kBA3EiB,WACnB,IAAMI,EAA6B,GA0DnC,OAzDAp/D,EAAc4+D,wBAAwB3hE,SAAQ,SAAC6sD,EAAc4B,GAC3D,IApBuBzyD,EAoBnBomE,EAAkF,KAClFC,EAA6B,GAC7B7D,EAAwB,KAC5B,GAAIoD,GAAuBA,EAAoBhnE,YAAa,CAC1D,IAAMoB,EAzDY,SAACC,GACvB,IAAMqmE,EAAsBV,EAAoBhnE,YAAYgoB,QAC1D,SAAC9nB,GAAD,OAAgBA,EAAWC,OAASkB,KAEtC,OAAIqmE,EAAoBjpE,OAAS,EACxBipE,EAAoB,GAAGhrE,IAGxB,EAiDiBirE,CAAgB1V,EAAa/xD,YAClDsnE,EA/C4B,SAACpmE,GACjC,IAAM09B,GAA2B,OAAnBkoC,QAAmB,IAAnBA,OAAA,EAAAA,EAAqBjhE,oBAAoBoB,IAAI/F,KAAiB,GACxEiB,EAAoD,SAAUy8B,EAAQA,EAAMz8B,KAAO,KAGvF,OAFO2kE,EAAoBvhE,0BAAuCpD,GA4CrCulE,CAA0BxmE,GACnDqmE,EAxCsB,SAACrmE,GAC3B,IAAMmuB,EAAsB,GACtBnoB,EAAO,OAAG4/D,QAAH,IAAGA,OAAH,EAAGA,EAAqBlhE,eAAeqB,IAAI/F,GASxD,OAPIgG,GAGFA,EAAQhC,SAAQ,SAACtH,GACfyxB,EAAU1sB,KAAK,WAAa/E,EAAM8E,aAAe,QAG9C2sB,EA6BgBs4C,CAAoBzmE,GA1BlBA,EA2BqBA,EAA1CwiE,IAzBiB,OAAnBoD,QAAmB,IAAnBA,OAAA,EAAAA,EAAqB7jE,qCACnB/B,KACG,CACHiB,KAAM,KAJFA,KA6BNklE,EAAc1kE,KACZ,sBAEEtG,UAAU,oCAFZ,UAIE,8BACE,cAACwb,EAAA,EAAD,CACEzF,QAAQ,eACR7V,QAAS,kBA5BM,SAACo3D,GAC1B1rD,EAAc4+D,wBAAwB/kD,OAAO6xC,EAAK,GAClD4R,GAAWxvC,GA0Bc6xC,CAAmBjU,IAClChiD,QAAS8yD,QAGb,sBAAKpoE,UAAU,kBAAf,UACE,qBAAqCA,UAAU,SAA/C,mDAGA,qBAAKA,UAAU,iBAAf,SACE,cAAComC,EAAA,EAAD,CACEC,cAAeqvB,EAAa/xD,WAC5BqM,OAAQ3I,EACRi/B,mBAAoB,SAACrtB,GACnBy8C,EAAa/xD,WAAasV,EAAEuyD,oBAC5BtC,GAAWxvC,IAEbv5B,GAAG,6BAIT,sBAAKH,UAAU,kBAAf,UACE,qBAAKA,UAAU,SAAf,oBACA,cAAC,GAAD,CAAe01D,aAAcA,EAAcmT,iBAAkB6B,OAE/D,sBAAK1qE,UAAU,kBAAf,UACE,qBAAKA,UAAU,SAAf,sBACA,cAAC,GAAD,CACE01D,aAAcA,EACdmT,iBAAkBoC,EAClBnC,6BAA8BoC,EAC9B7D,sBAAuBA,EACvB0B,0BAA2BA,SAtCjC,uBACuBrT,EAAa/xD,WADpC,YACkD2zD,QA4C/C0T,EAmBJS,GACD,cAAC9uC,EAAA,EAAD,CAAQC,QAAQ,YAAY38B,MAAM,UAAUC,QAAS,kBAhBnD0L,EAAc4+D,0BAChB5+D,EAAc4+D,wBAAwBlkE,KA9KE,iBAA0B,CACtE3C,WAD4C,uDAAkB,GAE9DsmE,MAAO,GACP9zD,QAAS,IA4KHu1D,CAAsCrkE,EAAgB,KAExDujE,UAEF1B,GAAWxvC,IAUT,mC,SCpRSiyC,GAVa,WAC1B,IAAQh/D,EAAWkpB,aAAY,SAAC1oB,GAAD,OAAWA,EAAMC,OAAxCT,OAER,OACE,cAAC,IAAD,CAAcA,OAAQA,EAAQqJ,SAAUwpD,KAAa7yD,GAArD,SACE,cAAC,GAAD,O,2ECgDSi/D,GAvDS,SAAC,GAAgE,IAA9DrqE,EAA6D,EAA7DA,MAAOu7B,EAAsD,EAAtDA,QAAS8U,EAA6C,EAA7CA,OAAQi6B,EAAqC,EAArCA,eAAgBC,EAAqB,EAArBA,eACjErhD,qBAAU,WACa,qBAAVlpB,GACTsqE,GAAkBA,EAAe/uC,EAAQ,OAI7C,IAAIivC,EAAmB,GAiBvB,OAbIn6B,GACF9U,EAAQj0B,SAAQ,SAACo0B,EAAQq6B,GAAT,OAAiByU,EAAiBzlE,KAAK,CAAE22B,SAAQla,MAAO6uB,EAAO0lB,QAE/EyU,EAAmBA,EAAiB1mD,MAAK,SAAUtiB,EAAGuiB,GACpD,OAAOviB,EAAEggB,MAAMipD,cAAc1mD,EAAEvC,UAGjC+Z,EAAUivC,EAAiBroE,KAAI,SAACnC,GAAD,OAAWA,EAAM07B,UAChD2U,EAASm6B,EAAiBroE,KAAI,SAACnC,GAAD,OAAWA,EAAMwhB,UAE/C+Z,EAAUA,EAAQzX,OAIlB,cAAC+gB,EAAA,EAAD,CACEC,cAAe9kC,EACfyO,OAAQ8sB,EACR8U,OAAQA,EACRtL,mBAAoB,SAACrtB,GACnB4yD,GAAkBA,EAAe5yD,EAAC,QAEpC9Y,GAAG,QACHqlC,WACEsmC,EACI,CACE/lC,aACE,cAACC,GAAA,EAAD,CAAgBpU,SAAS,MAAzB,SACE,cAAC,KAAD,CACEqU,KAAK,MACL,aAAW,SACX/lC,QAAS,kBAAM4rE,KACfhsE,MAAM,SAJR,SAME,qBAAKkN,IAAKk5B,KAAW/rB,IAAI,WAKjC,QCkBG8xD,GApEQ,SAAC,GAqBtB,IAbK,IAPL1qE,EAOI,EAPJA,MACAsqE,EAMI,EANJA,eACAjI,EAKI,EALJA,SACAjiC,EAII,EAJJA,aACA7E,EAGI,EAHJA,QACA8U,EAEI,EAFJA,OACAs6B,EACI,EADJA,yBAEMC,EAAmB5qE,GAASA,EAAMW,QAAW,EAC7C2N,EAAS,GAFX,WAaKxN,GACPwN,EAAOvJ,KACL,sBAAKtG,UAAU,kBAAf,UACE,sBAAKA,UAAU,kBAAf,UACGqC,EACD,gCAAQuhE,OAEV,qBAAK5jE,UAAU,iBAAf,SACE,cAACksE,EAAD,CACE3qE,MAAOA,EAAMc,GACbwpE,eAAgB,SAACtvC,GACf,IAAMi/B,EAAI,YAAQj6D,GAAS,IAC3Bi6D,EAAKn5D,GAAKk6B,EACVsvC,EAAerQ,IAEjB1+B,QAASA,EACT8U,OAAQA,EACRk6B,eAAgB,kBAvBD,SAACxU,GACxB,IAAMkE,EAAI,YAAOj6D,GACjBi6D,EAAK/1C,OAAO6xC,EAAK,GACjBuU,EAAerQ,GAoBe4Q,CAAiB/pE,UAf7C,UAAyCuhE,EAAzC,kBAA2DvhE,MAFtDA,EAAI,EAAGA,EAAI8pE,EAAiB9pE,IAAM,EAAlCA,GAwBT,OACE,gCACE,qBAAKrC,UAAU,2BAAf,SACG6P,EAAO3N,OACN2N,EAEA,sBAAK7P,UAAU,kBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,6BACE,cAAC,IAAD,CAAkBG,GAAG,gCAGzB,qBAAKH,UAAU,wBAIrB,cAAC28B,EAAA,EAAD,CAAQC,QAAQ,YAAY38B,MAAM,UAAUC,QAAS,WAhDvD2rE,EAAe,GAAD,mBAAMtqE,GAAS,IAAf,CAAoBogC,MAgDhC,SACE,cAAC,IAAD,CAAkBxhC,GAAG,qCCrDdksE,GAVO,SAAC,GAA+B,IAA7B9qE,EAA4B,EAA5BA,MAAOsqE,EAAqB,EAArBA,eAC9B,OACE,cAAC,GAAD,CACEtqE,MAAOA,GAAmB,UAAVA,EAAoB,OAAS,QAC7Cu7B,QAAS,CAAC,OAAQ,SAClB+uC,eAAgB,SAACtqE,GAAD,OAAWsqE,EAAyB,SAAVtqE,OCSjC+qE,GAZY,SAAC,GAAyC,IAAvC/qE,EAAsC,EAAtCA,MAAOsqE,EAA+B,EAA/BA,eAAgBjI,EAAe,EAAfA,SACnD,OACE,cAAC,GAAD,CACEriE,MAAOA,EACPsqE,eAAgBA,EAChBjI,SAAUA,EACVjiC,cAAc,EACduqC,yBAA0BG,MCGjBE,GAZQ,SAAC,GAA+B,IAA7BhrE,EAA4B,EAA5BA,MAAOsqE,EAAqB,EAArBA,eAC/B,OACE,cAAClzC,EAAA,EAAD,CACEC,WAAS,EACT10B,KAAK,OACL04B,QAAQ,WACRr7B,MAAOA,GAAS,GAChBilB,SAAU,SAACvN,GAAD,OAAO4yD,GAAkBA,EAAe5yD,EAAEkS,OAAO5pB,WCwBlDirE,GA9BS,SAAC,GAAwE,IAAtEjrE,EAAqE,EAArEA,MAAOsqE,EAA8D,EAA9DA,eAAgBC,EAA8C,EAA9CA,eAAgBW,EAA8B,EAA9BA,UAAW9qC,EAAmB,EAAnBA,aAC3E,OACE,cAAChJ,EAAA,EAAD,CACEC,WAAS,EACT10B,KAAMuoE,EACN7vC,QAAQ,WACRr7B,MAAOA,GAASogC,EAChBnb,SAAU,SAACvN,GAAD,OAAO4yD,GAAkBA,EAAe5yD,EAAEkS,OAAO5pB,QAC3DikC,WACEsmC,EACI,CACE/lC,aACE,cAACC,GAAA,EAAD,CAAgBpU,SAAS,MAAzB,SACE,cAAC,KAAD,CACEqU,KAAK,MACL,aAAW,SACX/lC,QAAS,kBAAM4rE,KACfhsE,MAAM,SAJR,SAME,qBAAKkN,IAAKk5B,KAAW/rB,IAAI,WAKjC,QCbGuyD,GAZU,SAAC,GAA+C,IAA7CnrE,EAA4C,EAA5CA,MAAOsqE,EAAqC,EAArCA,eAAgBC,EAAqB,EAArBA,eACjD,OACE,cAAC,GAAD,CACEvqE,MAAOA,EACPsqE,eAAgBA,EAChBC,eAAgBA,EAChBW,UAAU,SACV9qC,aAAc,KCOLgrC,GAZe,SAAC,GAAyC,IAAvCprE,EAAsC,EAAtCA,MAAOsqE,EAA+B,EAA/BA,eAAgBjI,EAAe,EAAfA,SACtD,OACE,cAAC,GAAD,CACEriE,MAAOA,EACPsqE,eAAgBA,EAChBjI,SAAUA,EACVjiC,aAAc,EACduqC,yBAA0BQ,MCIjBE,GAZY,SAAC,GAAwC,IAAtCrrE,EAAqC,EAArCA,MAAOu7B,EAA8B,EAA9BA,QAAS+uC,EAAqB,EAArBA,eAC5C,OACE,cAAC,GAAD,CACEtqE,OAAQA,GAAS,IAAImC,KAAI,SAACrB,GAAD,OAAO61B,OAAO71B,MACvCwpE,eAAgBA,EAChB/uC,QAASjzB,OAAOmG,OAAO8sB,GACvB8U,OAAQ/nC,OAAOC,KAAKgzB,GACpBovC,yBAA0BN,MCGjBiB,GAXO,SAAC,GAAwC,IAAtCtrE,EAAqC,EAArCA,MAAOu7B,EAA8B,EAA9BA,QAAS+uC,EAAqB,EAArBA,eACvC,OACE,cAAC,GAAD,CACEtqE,MAAO22B,OAAO32B,GACdu7B,QAASjzB,OAAOmG,OAAO8sB,GACvB8U,OAAQ/nC,OAAOC,KAAKgzB,GACpB+uC,eAAgB,SAACtqE,GAAD,OAAWsqE,EAAetqE,OCMjCurE,GAZU,SAAC,GAA+C,IAA7CvrE,EAA4C,EAA5CA,MAAOsqE,EAAqC,EAArCA,eAAgBC,EAAqB,EAArBA,eACjD,OACE,cAAC,GAAD,CACEvqE,MAAOA,EACPsqE,eAAgBA,EAChBC,eAAgBA,EAChBW,UAAU,SACV9qC,aAAc,KCOLorC,GAZe,SAAC,GAAyC,IAAvCxrE,EAAsC,EAAtCA,MAAOsqE,EAA+B,EAA/BA,eAAgBjI,EAAe,EAAfA,SACtD,OACE,cAAC,GAAD,CACEriE,MAAOA,EACPsqE,eAAgBA,EAChBjI,SAAUA,EACVjiC,aAAc,EACduqC,yBAA0BY,MCKjBE,GAbO,SAAC,GAAyD,IAAvDzrE,EAAsD,EAAtDA,MAAOsqE,EAA+C,EAA/CA,eAAgBC,EAA+B,EAA/BA,eAAgBlI,EAAe,EAAfA,SAC9D,OACE,cAAC,GAAD,CACEriE,MAAOA,EACPqiE,SAAUA,EACViI,eAAgBA,EAChBC,eAAgBA,EAChBW,UAAU,OACV9qC,aAAc,MCKLsrC,GAZY,SAAC,GAAyC,IAAvC1rE,EAAsC,EAAtCA,MAAOsqE,EAA+B,EAA/BA,eAAgBjI,EAAe,EAAfA,SACnD,OACE,cAAC,GAAD,CACEriE,MAAOA,EACPsqE,eAAgBA,EAChBjI,SAAUA,EACVjiC,aAAc,GACduqC,yBAA0Bc,MC2YjBE,GAjYU,SAAC,GAA0B,IAAxBtpE,EAAuB,EAAvBA,KAAMs9D,EAAiB,EAAjBA,WAC1Bp+D,EAAW+yB,aAAY,SAAC1oB,GAAD,OAAWA,EAAMC,IAAItK,YAClD,EAAoCsnB,mBAAS,IAA7C,mBAAO+iD,EAAP,KAAmBC,EAAnB,KACA,EAA8ChjD,mBAAS,IAAvD,mBAAOijD,EAAP,KAAwBC,EAAxB,KACA,EAAoDljD,mBAAS,IAA7D,mBAAOmjD,EAAP,KAA2BC,EAA3B,KAUA,GARA/iD,qBAAU,WACJ8iD,IAAuB3pE,IAE3BwpE,EAAc,IACdE,EAAmB,IACnBE,EAAsB5pE,MACrB,CAACA,EAAM2pE,KAELtqE,KAASC,KAAKU,GACjB,OAAO,wBAGT,IAAM6pE,EAAW,uCAAG,8BAAA1qE,EAAA,yDAClBm+D,EAAW,IACE,mBAATt9D,EAFc,uBAGhBs9D,EAAWiM,GAHK,iCAMZnqE,EAAUC,KAASC,KAAKU,GAAMR,OAAO+pE,GAC3Cx8C,QAAQ+8C,IAAIP,GAPM,kBASOrqE,EAASE,QAAQA,GATxB,OASViE,EATU,OAUhBi6D,EAAWj6D,GAVK,kDAYhBi6D,EAAW,qBAAD,OAAsB,KAAEnhE,UAZlB,0DAAH,qDAmKX4tE,EAAqB,SAACt9D,EAAOG,EAASo9D,GAC1C,IApJiBj9D,EAAKP,EAoJhBy9D,GApJWl9D,EAqJfw8D,GArJoB/8D,EAsJpBw9D,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,MApJhDgH,eAAI+F,EAAKP,GADEO,GAwJlB,OAAQN,EAAMnM,MACZ,IAAK,SACH,OAAIsM,EAzIoB,SAACH,EAAOu9D,EAAaC,GACjD,OACE,cAAC,GAAD,CACEjK,SAAUvzD,EAAMnM,KAChB3C,MAAOssE,EACPhC,eAAgB,SAACtvC,GAAD,OACduxC,EAAYF,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAAM24B,MAoIhEwxC,CAAsB19D,EAAOu9D,EAAaC,GAvJhC,SAACx9D,EAAOu9D,EAAaC,GAC5C,OACE,cAAC,GAAD,CAEEjK,SAAUvzD,EAAMnM,KAChB3C,MAAOssE,EACPhC,eAAgB,SAACtvC,GAAD,OACduxC,EAAYF,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAAM24B,KAL3E,cACclsB,EAAMzM,OAuJXoqE,CAAiB39D,EAAOu9D,EAAaC,GAC9C,IAAK,OACH,OAAIr9D,EAtHkB,SAACH,EAAOu9D,EAAaC,GAC/C,OACE,cAAC,GAAD,CACEjK,SAAUvzD,EAAMnM,KAChB3C,MAAOssE,EACPhC,eAAgB,SAACtvC,GAAD,OACduxC,EAAYF,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAAM24B,MAiHhE0xC,CAAoB59D,EAAOu9D,EAAaC,GApIhC,SAACx9D,EAAOu9D,EAAaC,GAC1C,OACE,cAAC,GAAD,CAEEjK,SAAUvzD,EAAMnM,KAChB3C,MAAOssE,EACPhC,eAAgB,SAACtvC,GAAD,OACduxC,EAAYF,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAAM24B,KAL3E,eACelsB,EAAMzM,OAoIZsqE,CAAe79D,EAAOu9D,EAAaC,GAC5C,IAAK,QACL,IAAK,QACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,SACL,IAAK,UACL,IAAK,UACL,IAAK,WACL,IAAK,WACH,OAAIr9D,EA5GqB,SAACH,EAAOu9D,EAAaC,GAClD,OACE,cAAC,GAAD,CACEjK,SAAUvzD,EAAMnM,KAChB3C,MAAOssE,EACPhC,eAAgB,SAACtvC,GAAD,OACduxC,EAAYF,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAAM0f,OAAOiZ,OAuGvE4xC,CAAuB99D,EAAOu9D,EAAaC,GA1HhC,SAACx9D,EAAOu9D,EAAaC,GAC7C,OACE,cAAC,GAAD,CAEEjK,SAAUvzD,EAAMnM,KAChB3C,MAAOssE,EACPhC,eAAgB,SAACtvC,GAAD,OACduxC,EAAYF,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAAM0f,OAAOiZ,MALlF,kBACkBlsB,EAAMzM,OA0HfwqE,CAAkB/9D,EAAOu9D,EAAaC,GAC/C,IAAK,SACL,IAAK,QACH,OAAIr9D,EA1FqB,SAACH,EAAOu9D,EAAaC,GAClD,OACE,cAAC,GAAD,CACEjK,SAAUvzD,EAAMnM,KAChB3C,MAAOssE,EACPhC,eAAgB,SAACtvC,GAAD,OACduxC,EAAYF,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAAM0f,OAAOiZ,OAqFvE8xC,CAAuBh+D,EAAOu9D,EAAaC,GAxGhC,SAACx9D,EAAOu9D,EAAaC,GAC7C,OACE,cAAC,GAAD,CAEEjK,SAAUvzD,EAAMnM,KAChB3C,MAAOssE,EACPhC,eAAgB,SAACtvC,GAAD,OACduxC,EAAYF,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAAM0f,OAAOiZ,MALlF,kBACkBlsB,EAAMzM,OAwGf0qE,CAAkBj+D,EAAOu9D,EAAaC,GAC/C,IAAK,QACH,OApFkB,SAACx9D,EAAOu9D,EAAaC,GAC3C,OACE,cAAC,GAAD,CAEEtsE,MAAOssE,EACPhC,eAAgB,SAACtvC,GAAD,OACduxC,EAAYF,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAAM24B,KAJ3E,gBACgBlsB,EAAMzM,OAiFb2qE,CAAgBl+D,EAAOu9D,EAAaC,GAC7C,QACE,IAAM3pE,EAAOjB,KAASC,KAAK6M,OAAOM,EAAMnM,MACxC,GAAIA,GAAkC,SAA1BA,EAAKsqE,YAAY5qE,KAC3B,OAAI4M,EAhEgB,SAACtM,EAAMmM,EAAOu9D,EAAaC,GACrD,OACE,cAAC,GAAD,CACEtsE,MAAOssE,EACP/wC,QAAS54B,EAAK8L,OACd67D,eAAgB,SAACtqE,GACfusE,EAAYF,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAAMrC,MA2D9DktE,CAAoBvqE,EAAMmM,EAAOu9D,EAAaC,GA7ExC,SAAC3pE,EAAMmM,EAAOu9D,EAAaC,GAChD,OACE,cAAC,GAAD,CACEtsE,MAAOssE,EACP/wC,QAAS54B,EAAK8L,OACd67D,eAAgB,SAACtqE,GACfusE,EAAYF,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAAMrC,MA0EhEmtE,CAAexqE,EAAMmM,EAAOu9D,EAAaC,GAGlD,IAAMc,EAAUf,EAAW,UAAMA,EAAN,YAAqBv9D,EAAMzM,MAASyM,EAAMzM,KAErE,OAAI4M,EACKo+D,EAAwB1qE,EAAMyqE,EAASd,GAGzCgB,EAAmB3qE,EAAMyqE,EAASd,KAKzCC,EAAc,SAAC19D,EAAM7O,GACzB,IAAMutE,EAAYC,qBAAU5B,GAC5B/mE,eAAI0oE,EAAW1+D,EAAM7O,GACrB6rE,EAAc0B,IAGVD,EAAqB,SAAC3qE,EAAMkM,GAChC,IAAM4+D,EAAW,GACXC,EAAgB,OAAJ/qE,QAAI,IAAJA,KAAM2L,OAAShG,OAAOC,KAAK5F,EAAK2L,QAAU,GA+D5D,OA7DI3L,EAAKgrE,QACPrlE,OAAOC,KAAK5F,EAAKgrE,QAAQrmE,SAAQ,SAACsmE,GAChCH,EAAS1oE,KACP,sBAAKtG,UAAU,kBAAf,UACE,sBAAKA,UAAU,kBAAf,UACGmvE,EACD,kDAEF,qBAAKnvE,UAAU,iBAAf,SACE,cAAC,GAAD,CACEuB,MAAO8rE,EAAgB,GAAD,OAAIj9D,EAAJ,YAAY++D,IAClCryC,QAAS54B,EAAKgrE,OAAOC,GAAUC,MAC/BvD,eAAgB,SAACtqE,GACf+rE,EAAmB,2BACdD,GADa,6BAEZj9D,EAFY,YAEJ++D,GAAa5tE,YAZnC,cAA6C4tE,QAsBnDF,EAAUpmE,SAAQ,SAACwmE,GACjB,IAAMh/D,EAAQnM,EAAK2L,OAAOw/D,GACrBh/D,IAEDA,EAAMi/D,QAAUj/D,EAAMzM,OAASypE,EAAgB,GAAD,OAAIj9D,EAAJ,YAAYC,EAAMi/D,OAAO1rE,QAI3EorE,EAAS1oE,KACP,sBAAKtG,UAAU,kBAAf,UACE,sBAAKA,UAAU,kBAAf,UACGqQ,EAAMzM,KACP,kCACGyM,EAAMk/D,KADT,IACgBl/D,EAAMnM,KACnBmM,EAAM83D,SAAW,IAAM,SAG5B,qBAAKnoE,UAAU,iBAAf,SACG2tE,EAAmBt9D,EAAsB,aAAfA,EAAMk/D,KAAqBn/D,OAT1D,cAA6CC,EAAMzM,aAelDqrE,EAAU/sE,QAAUkO,EAAKlO,QAC5B8sE,EAAS1oE,KACP,sBAAKtG,UAAU,kBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,6BACE,cAAC,IAAD,CAAkBG,GAAG,2CAGzB,qBAAKH,UAAU,qBANjB,kBAUGgvE,GAGHJ,EAA0B,SAAC1qE,EAAMkM,EAAM7O,GAC3C,IAAMytE,EAAW,GAejB,OAdCztE,GAAS,IAAIsH,SAAQ,SAACkiB,EAAGusC,GACxB0X,EAAS1oE,KACP,sBAAKtG,UAAU,kBAAf,UACE,sBAAKA,UAAU,kBAAf,UACGs3D,EACD,gCAAQpzD,EAAKN,UAEf,qBAAK5D,UAAU,iBAAf,SACG6uE,EAAmB3qE,EAAMkM,EAAI,UAAMA,EAAN,YAAcknD,GAAQA,EAAK/1D,EAAM+1D,QANnE,UAAyCpzD,EAAKN,KAA9C,kBAA4D0zD,QAa9D,gCACE,qBAAKt3D,UAAU,2BAAf,SACGgvE,EAAS9sE,OACR8sE,EAEA,sBAAKhvE,UAAU,kBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,6BACE,cAAC,IAAD,CAAkBG,GAAG,gCAGzB,qBAAKH,UAAU,wBAIrB,cAAC28B,EAAA,EAAD,CACEC,QAAQ,YACR38B,MAAM,UACNC,QAAS,kBAnLY,SAAC0tE,EAAaC,GACzC,IAAMtxC,EAAWsxC,EAAY,YAAOA,GAAgB,GACpDtxC,EAASj2B,KAAK,IACdwnE,EAAYF,EAAarxC,GAgLJizC,CAAqBp/D,EAAM7O,IAH5C,qBAWAsO,EAASg/D,EAAmB5rE,KAASC,KAAKU,GAAO,IACvD,OACE,sBAAK5D,UAAU,+BAAf,UACE,sBAAKA,UAAU,oBAAf,UACG4D,EACD,+CAEF,qBAAK5D,UAAU,sCAAf,SACG6P,GAAUA,EAAO3N,OAAS2N,EAAS,cAAC,IAAD,CAAkB1P,GAAG,mCAG3D,cAACw8B,EAAA,EAAD,CACE38B,UAAU,cACV48B,QAAQ,YACR38B,MAAM,UACNC,QAAS,kBAAMutE,KAJjB,SAME,cAAC,IAAD,CAAkBttE,GAAG,+B,UC1UdsvE,I,OAhEqB,SAAC,GAAkB,IAAhBxoE,EAAe,EAAfA,SACrC,EAAgCmjB,mBAAS,IAAzC,mBAAOslD,EAAP,KAAiBC,EAAjB,KACA,EAAgCvlD,mBAAS,IAAzC,mBAAO25B,EAAP,KAAiB6rB,EAAjB,KAEAnlD,qBAAU,WACR,GAAIxjB,GAAYA,EAASgiB,UAAW,CAClC,IAAMvG,EAAU,IAAIzM,KAAQ,CAC1BC,QAAS,KACTC,QAAS,KACTC,UAAU,IAEZu5D,EAAYjtD,EAAQmtD,SAAS5oE,EAASgiB,iBAEtC0mD,EAAY,MAEb,CAAC1oE,IAEJwjB,qBAAU,WACR,GAAIxjB,GAAYA,EAAS88C,SAAU,CACjC,IAAMtsC,EAAO,IAAIC,KAAKzQ,EAAS88C,SAAU,CAAE7/C,KAAM,iBACjD0rE,EAAYlvE,OAAOiX,IAAIC,gBAAgBH,SAEvCm4D,EAAY,MAEb,CAAC3oE,IAEJ,IAAM6oE,EAAuB,uCAAG,sBAAA/sE,EAAA,yDACzBgtE,UAAUC,UADe,iEAKxBD,UAAUC,UAAUC,UAAU5+D,GALN,2CAAH,qDAQvBA,EAASpK,EAAW0E,KAAKK,UAAU/E,EAAU,KAAM,GAAK,GAE9D,OACE,sBAAKjH,UAAU,0BAAf,UACE,sBAAKA,UAAU,uBAAf,UACE,sBAAKA,UAAU,qBAAf,UACGiH,EAAWA,EAASunE,YAAY5qE,KAAO,WACxC,gDAEF,8BACE,cAAC+4B,EAAA,EAAD,CACEC,QAAQ,YACR38B,MAAM,UACNC,QAAS4vE,EACTx1C,UAAWjpB,EAJb,SAME,cAAC,IAAD,CAAkBlR,GAAG,oCAK3B,sBAAKH,UAAU,mBAAf,UACG0vE,EAAW,qBAAK1iE,IAAK0iE,EAAUv1D,IAAI,UAAQ9R,EAC3C07C,EAAW,mBAAG7kD,KAAM6kD,EAAT,2BAAkC17C,EAC9C,qBAAKrI,UAAU,qBAAf,SAAqCqR,YCJ9B6+D,I,OAvDM,SAAC,GAA+B,IAA7BC,EAA4B,EAA5BA,MAAOC,EAAqB,EAArBA,eAC7B,EAA4BhmD,mBAAS,IAArC,mBAAOqB,EAAP,KAAeo6C,EAAf,KACA,EAA4Bz7C,mBAAS,MAArC,mBAAO6iB,EAAP,KAAeojC,EAAf,KAEMC,EAAWzmE,OAAOC,KAAKqmE,GAC1B9qD,OACA+M,QAAO,SAACk+C,EAAUhvE,GACjB,OAAKA,EAAIqO,cAAcsX,SAASwE,GAE1B,GAAN,mBACK6kD,GADL,CAEE,oBAEEC,YAAajvE,EACbtB,UAAWitC,IAAW3rC,EAAM,SAAW,GACvCpB,QAAS,WACPkwE,EAAe9uE,GACf+uE,EAAU/uE,IANd,SASGA,GATH,aACaA,MALiCgvE,IAgB/C,IASL,OAPA7lD,qBAAU,WACHwiB,IACHmjC,EAAeE,EAAS,GAAG3wE,MAAM4wE,aACjCF,EAAUC,EAAS,GAAG3wE,MAAM4wE,gBAE7B,CAACtjC,EAAQmjC,EAAgBE,IAG1B,sBAAKtwE,UAAU,gBAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,cAAC,IAAD,CAAkBG,GAAG,gCACrB,sEAEF,qBAAKH,UAAU,kBAAf,SACE,cAAC24B,EAAA,EAAD,CACEC,WAAS,EACT10B,KAAK,OACL04B,QAAQ,WACRr7B,MAAOkqB,EACPjF,SAAU,SAACvN,GAAD,OAAO4sD,EAAU5sD,EAAEkS,OAAO5pB,MAAMoO,gBAC1Cg7B,YAAY,gBAGhB,qBAAK3qC,UAAU,WAAf,SACE,6BAAKswE,WCIEE,I,OA/CE,WACf,MAA4CpmD,mBAAS,IAArD,mBAAOqmD,EAAP,KAAuBC,EAAvB,KACA,EAAgCtmD,mBAAS,MAAzC,mBAAOnjB,EAAP,KAAiB0pE,EAAjB,KAEMC,EAAgB/mE,OAAOC,KAAK7G,KAASC,MACxCmiB,OACA+M,QAAO,SAACk+C,EAAUhvE,GACjB,OAAKA,EAAIkwC,SAAS,WACdlwC,EAAIkwC,SAAS,kBAEfvuC,KAASC,KAAK5B,GAAKmB,SAASwkB,SAAS,uBAC7B,yBAAR3lB,GAGE2B,KAASC,KAAK5B,GAAKmB,SAASwkB,SAAS,mBAA6B,yBAAR3lB,EANpBgvE,EASnC,2BAAKA,GAAZ,mBAAuBhvE,EAAM2B,KAASC,KAAK5B,KAVNgvE,IAWpC,IAEL,OACE,sBAAKtwE,UAAU,mBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,eAAC28B,EAAA,EAAD,CAAQO,UAAW2zC,IAAMj0C,QAAQ,YAAY38B,MAAM,UAAU08C,GAAG,OAAhE,UACE,qBAAK3vC,IAAK8jE,KAAW32D,IAAI,OAAOna,UAAU,eAC1C,cAAC,IAAD,CAAkBG,GAAG,+BAGzB,qBAAKH,UAAU,yBAAf,SACE,cAAC,GAAD,CACEmwE,MAAOS,EACPR,eAAgB,SAAC9uE,GACfovE,EAAkBpvE,GAClBqvE,EAAY,WAIlB,qBAAK3wE,UAAU,oBAAf,SACE,cAAC,GAAD,CAAkB4D,KAAM6sE,EAAgBvP,WAAY,SAACj6D,GAAD,OAAc0pE,EAAY1pE,QAEhF,qBAAKjH,UAAU,qBAAf,SACE,cAAC,GAAD,CAA6BiH,SAAUA,WCtChC8pE,GATM,WACnB,IAAQpkE,EAAWkpB,aAAY,SAAC1oB,GAAD,OAAWA,EAAMC,OAAxCT,OACR,OACE,cAAC,IAAD,CAAcA,OAAQA,EAAQqJ,SAAUwpD,KAAa7yD,GAArD,SACE,cAAC,GAAD,O,QCIAqkE,GAAmB,SAACC,GACxB,IAAMC,EAAc,GACpB,IACED,EACG1uE,OAAO,GACP8I,MAAM,KACNxC,SAAQ,SAACrB,GACR,IAAM2pE,EAAO3pE,EAAK6D,MAAM,KAClB/J,EAAM6vE,EAAK,GACX5vE,EAAQ4vE,EAAK,IAAMC,mBAAmBD,EAAK,IACjDD,EAAY5vE,GAAOC,KAEvB,MAAOsC,GACPtE,KAAOsE,MAAMA,GAEf,OAAOqtE,GAGHG,G,kDACJ,WAAY1xE,GAAQ,IAAD,8BACjB,cAAMA,IACDwN,MAAQ,CACXmkE,eAAe,EACfJ,YAAaF,GAAiB,EAAKrxE,MAAMgB,SAASswE,SAJnC,E,qDAQnB,WAAqB,IAAD,OAClBvxE,KAAKC,MAAM4xE,gBAA6D,SAA7C7xE,KAAKyN,MAAM+jE,YAAYM,mBAClD9xE,KAAKC,MAAM8xE,mBAAmE,SAAhD/xE,KAAKyN,MAAM+jE,YAAYQ,sBAErDhyE,KAAKC,MAAMgyE,UAAUjyE,KAAKyN,MAAM+jE,YAAYvkE,QAAU,MAEtDjN,KAAKC,MAAMiyE,sBAAsBlyE,KAAKyN,MAAM+jE,YAAY57C,SAAW,MAE/D51B,KAAKyN,MAAM+jE,YAAYxqB,OACzBhnD,KAAKC,MACFgV,aAAajV,KAAKyN,MAAM+jE,YAAYxqB,OACpCjtC,MAAK,kBAAM,EAAKiM,SAAS,CAAE4rD,eAAe,OAC1Cp7B,OAAM,SAAC27B,GAAD,OAAe,EAAKnsD,SAAS,CAAEmsD,mB,oBAI5C,WACE,OAAKnyE,KAAKyN,MAAM+jE,YAAYxqB,MAGxBhnD,KAAKyN,MAAM0kE,UAEX,4EACkCnyE,KAAKyN,MAAM0kE,UAAU5qE,gBADvD,aACkC,EAA+BqH,OADjE,WACiF,IADjF,UAEG5O,KAAKyN,MAAM0kE,UAAU5qE,gBAFxB,aAEG,EAA+B6qE,cAIjCpyE,KAAKyN,MAAMmkE,cAKd,cAAC,IAAD,CACE30B,GAAI,CACFo1B,SAAU,OACV5kE,MAAO,CAAE6kE,gBAAiBtyE,KAAKyN,MAAM+jE,YAAY57C,YAP9C,gFAXA,yDAEkB,IAAD,Q,GA7BHl1B,aAsEZ8M,eAAQ,MARI,SAACyV,GAAD,MAAe,CACxCgvD,UAAW,SAAChlE,GAAD,OAAYgW,EAASgvD,YAAUhlE,KAC1CgI,aAAc,SAACD,GAAD,OAAiBiO,EAAShO,YAAaD,KACrD68D,gBAAiB,SAACU,GAAD,OAAYtvD,EAAS4uD,aAAgBU,KACtDR,mBAAoB,SAACQ,GAAD,OAAYtvD,EAAS8uD,YAAmBQ,KAC5DL,sBAAuB,SAAChuE,GAAD,OAAU+e,EAASivD,YAAsBhuE,QAGnDsJ,CAAkCmkE,I,SC/F3Ca,G,kDACJ,WAAYvyE,GAAQ,IAAD,8BACjB,cAAMA,IACDwN,MAAQ,CACXglE,WAAW,GAHI,E,0CAOnB,WAAU,IAAD,OAKP,OAJAzyE,KAAKC,MAAMyyE,WAAW34D,MAAK,WACzB,EAAKiM,SAAS,CAAEysD,WAAW,OAGzBzyE,KAAKyN,MAAMglE,WACbpZ,eACAr5D,KAAKC,MAAM0yE,cAET,cAAC,IAAD,CACE11B,GAAI,CACFo1B,SAAU,IACV5kE,MAAO,CAAEglE,WAAW,OAKrB,S,GAzBc/xE,aAiCV8M,eAAQ,MAJI,SAACyV,GAAD,MAAe,CACxCyvD,SAAU,kBAAMzvD,EAAS1N,mBAGZ/H,CAAkCglE,I,SC1B5BI,G,4MAWnBC,eAAiB,SAAC1kD,GAEhB,OADe,UAAMA,EAAM2kD,QAAU,QAAU,IAAhC,OAAqC3kD,EAAMvsB,MAExD,IAAK,SACHusB,EAAMF,iBACN,EAAKhuB,MAAMgjB,SAAS8vD,aAAqB,EAAK9yE,MAAMqR,OACpD,MACF,IAAK,KACH6c,EAAMF,iBACN,EAAKhuB,MAAMgjB,SAAS+vD,eACpB,MACF,QACE,OAEJ7kD,EAAM8kD,mB,EAGRC,YAAc,WACZ,MAAwD,EAAKjzE,MAArDqR,EAAR,EAAQA,KAAM6hE,EAAd,EAAcA,eAAgBlwD,EAA9B,EAA8BA,SAAUmwD,EAAxC,EAAwCA,YAExC,GAAI9hE,EACF,IACE,IAAMsY,EAAStY,EAAKrR,MAAMQ,GACpBm1B,EAAUtkB,EAAKrR,MAAM6pB,MAAM8L,QAAQhM,GACzC,GAAIgM,EAAS,CACX,IAAMzwB,EAAeywB,EAAQzwB,aACvB6M,EAAW4jB,EAAQ2sB,qBACrBvwC,IAAa/D,OACfgV,EAAS85B,YAAgB53C,EAAcykB,IACvC3G,EAASo4B,YAAa,OAEjB83B,EAAe5rD,SAASqC,IAC3B3G,EAASiE,cAAY,KAGzBjE,EAASowD,YAAmBrhE,KAE9B,MAAOuH,GACP1Z,KAAOsE,MAAMoV,aAAaU,MAAQV,EAAElZ,QAAUm4B,OAAOjf,SAE9C65D,GACTnwD,EAASowD,YAAmBD,K,uDAnDhC,WACEpzE,KAAKuE,KAAK+sB,iBAAiB,UAAWtxB,KAAK6yE,gBAC3C7yE,KAAKuE,KAAK+sB,iBAAiB,QAAStxB,KAAKkzE,e,kCAG3C,WACElzE,KAAKuE,KAAKgtB,oBAAoB,UAAWvxB,KAAK6yE,gBAC9C7yE,KAAKuE,KAAKgtB,oBAAoB,QAASvxB,KAAKkzE,e,oBAgD9C,WAAU,IAAD,OACCxuE,EAAa1E,KAAKC,MAAlByE,SACR,OACE,qBACE4uE,SAAU,EACVnmE,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAChC4a,IAAK,SAAC1jB,GACJ,EAAKA,KAAOA,GAJhB,SAOGG,GAAYA,Q,GAlEmBhE,aAwExCkyE,GAAWrlE,aAAe,CACxB7I,cAAUiE,G,qDCpEN4qE,I,yDACJ,WAAYtzE,GAAQ,IAAD,8BACjB,cAAMA,IAyBRuzE,uBAAyB,SAAC9jE,GACxB,GAAIA,EAAa,CACf,IAAM+jE,EAA+B/jE,EAC/BgkE,EAA6BrE,KAAUoE,GAC7C,EAAKztD,SAAS,CAAEytD,+BAA8BC,iCA9B/B,EA+CnBC,gBAAkB,SAACjiE,GACjB,IAAMC,EAASF,aAA4CC,GAC3D,EAAKzR,MAAMuoB,MAAMorD,mBAAmBjiE,IAjDnB,EAoDnBkiE,cAAgB,WACd,EAAKF,gBAAgB,EAAKlmE,MAAMimE,6BArDf,EAwDnBI,eAAiB,WACf,EAAK9tD,SAAS,CACZ0tD,2BAA4BrE,KAAU,EAAK5hE,MAAMgmE,iCAxDnD,EAAKM,wBAA0B,IAAIpkE,IACnC,EAAKlC,MAAQ,CACXumE,UAAU,EACVP,6BAA8B,IAAI1xE,IAClC2xE,2BAA4B,IAAI3xE,KANjB,E,qDAUnB,WACMwB,KAASC,KAAKywE,cAChBj0E,KAAK+zE,wBAA0BvkE,aAAgBjM,KAASC,KAAKywE,aAC7Dj0E,KAAKwzE,uBAAuBxzE,KAAKC,MAAM6R,qB,gCAI3C,SAAmBge,SAEiBnnB,IAA/BmnB,EAAUhe,kBAAkC9R,KAAKC,MAAM6R,kBACxDge,EAAUhe,mBAAqB9R,KAAKC,MAAM6R,mBAE1C9R,KAAKwzE,uBAAuBxzE,KAAKC,MAAM6R,oB,qBAY3C,SAAQoiE,EAAWtyE,EAAK4pB,GACtB,IAAM2oD,EAAiB9E,KAAUrvE,KAAKyN,MAAMimE,4BACvCS,EAAehiE,IAAI+hE,IACtBC,EAAeztE,IAAIwtE,EAAW,CAAEpiE,iBAAkB,IAAInC,IAAOkjD,MAAO,KAElErnC,EACF2oD,EAAejpE,IAAIgpE,GAAWpiE,iBAAiBlB,IAAIhP,GAEnDuyE,EAAejpE,IAAIgpE,GAAWpiE,iBAAiBkyB,OAAOpiC,GAExD5B,KAAKgmB,SAAS,CAAE0tD,2BAA4BS,M,0BAkB9C,SAAaC,EAAIC,GACf,GAAID,EAAGhyE,OAASiyE,EAAGjyE,KACjB,OAAO,EAFU,qBAILgyE,GAJK,IAInB,2BAAkB,CAAC,IAAV/wE,EAAS,QAChB,IAAKgxE,EAAGliE,IAAI9O,EAAE,IACZ,OAAO,EAGT,IAAMixE,EAAKD,EAAGnpE,IAAI7H,EAAE,IAAIyO,iBACxB,GAAIzO,EAAE,GAAGyO,iBAAiB1P,OAASkyE,EAAGlyE,KACpC,OAAO,EAPO,qBAUDiB,EAAE,GAAGyO,kBAVJ,IAUhB,2BAAsC,CAAC,IAA9ByiE,EAA6B,QACpC,IAAKD,EAAGniE,IAAIoiE,GACV,OAAO,GAZK,gCAJC,8BAoBnB,OAAO,I,yBAGT,WACE,IAAQb,EAA+B1zE,KAAKyN,MAApCimE,2BACFc,EAAW,GAQjB,OANAA,EAAS5tE,KAAK,qBAAKuG,MAAO,CAAEC,MAAO,UAArB,oBACdsmE,EAA2BvqE,SAAQ,SAACsrE,EAAqBP,GACvDM,EAAS5tE,KAAK,qBAAKuG,MAAO,CAAEC,MAAO,SAArB,cAA2C8mE,QAE3DM,EAAS5tE,KAAK,qBAAKuG,MAAO,CAAEC,MAAO,MAArB,qBAEPonE,I,0BAGT,WACE,IAAQd,EAA+B1zE,KAAKyN,MAApCimE,2BACFgB,EAAc,GA6BpB,OA3BAA,EAAY9tE,KACV,6BACE,qBAAKtG,UAAU,gDAAf,SACE,cAAC,IAAD,CAAkBG,GAAG,+BAFzB,0BAMFizE,EAA2BvqE,SAAQ,SAACsrE,EAAqBP,GACvDQ,EAAY9tE,KACV,+BACE,qBAAKtG,UAAU,2CAAf,SAA2D4zE,IAC3D,qBAAK5zE,UAAU,8CAAf,SACGoC,MAAMoO,QAAQ2jE,EAAoB5hB,QAAU4hB,EAAoB5hB,MAAMrwD,OAAS,EAA/E,WACOiyE,EAAoB5hB,MAAMhnD,KAAK,MADtC,UAEGlD,MALR,oBAAsBurE,QAU1BQ,EAAY9tE,KACV,6BACE,qBAAKtG,UAAU,2CAAf,SACE,cAAC,IAAD,CAAkBG,GAAG,+BAFzB,0BAOK,6BAAKi0E,M,qBAGd,SAAQjtD,GAAU,IAAD,OACPisD,EAA+B1zE,KAAKyN,MAApCimE,2BACFx0E,EAAO,GAqCb,OApCAc,KAAK+zE,wBAAwB5qE,SAAQ,SAAC4I,GACpC,IAAM4iE,EAAU,GAChBA,EAAQ/tE,KACN,6BACE,qBAAKtG,UAAU,8BAAf,SAA8CyR,KADhD,6BAA+BA,KAIjC2hE,EAA2BvqE,SAAQ,SAACsrE,EAAqBP,GACvD,IAAMvvE,EAAW8vE,EAAoB3iE,iBAAiBK,IAAIJ,GAC1D4iE,EAAQ/tE,KACN,6BACE,cAAC2kB,GAAA,EAAD,CACE/mB,KAAK,WACLgnB,QAAS7mB,EACTT,KAAI,mBAAcgwE,EAAd,YAA2BniE,GAC/BxR,MAAM,UACND,UAAU,iCACVE,QAAS,SAAC+Y,GAAD,OACPkO,GAAyB,QAAdysD,EACP,EAAK5Z,QAAQ4Z,EAAWniE,EAAYwH,EAAEkS,OAAOD,cAC7C7iB,GAENiyB,UAAWnT,GAAyB,QAAdysD,KAZ1B,kBAAoBA,EAApB,YAAiCniE,QAiBrC4iE,EAAQ/tE,KACN,6BACE,qBAAKtG,UAAU,8BAAf,SACE,cAAC,IAAD,CAAkBG,GAAE,gCAA2BsR,QAFnD,8BAAgCA,KAMlC7S,EAAK0H,KAAK,6BAAmC+tE,GAAnC,kBAAoB5iE,QAEzB7S,I,oBAGT,WAAU,IAAD,OACP,EAA+Ec,KAAKyN,MAA5EumE,EAAR,EAAQA,SAAUP,EAAlB,EAAkBA,6BAA8BC,EAAhD,EAAgDA,2BACxCxhE,EAAkBlS,KAAKC,MAAvBiS,cAEFwiB,EAAUngB,aAAsBrC,GAChCuV,EAAUjT,aAAsBtC,GAEtC,GAAI8hE,EACF,OAAO,cAAC,IAAD,CAAU/2B,GAAG,SAGtB,IAAMjzB,GAAchqB,KAAK40E,aAAanB,EAA8BC,GAC9Dc,EAAWx0E,KAAK60E,cAChBC,EAAY90E,KAAK+0E,eACjB71E,EAAOc,KAAKg1E,QAAQvtD,GAE1B,OACE,sBAAKnnB,UAAU,gCAAf,UACE,sBAAKA,UAAU,qCAAf,UACE,eAAC28B,EAAA,EAAD,CACEC,QAAQ,YACR38B,MAAM,UACNC,QAAS,kBAAM,EAAKwlB,SAAS,CAAEguD,UAAU,KAH3C,UAKE,qBAAK1mE,IAAK8jE,KAAW32D,IAAI,OAAOna,UAAU,eAC1C,cAAC,IAAD,CAAkBG,GAAG,gCAEvB,cAACw8B,EAAA,EAAD,CACEC,QAAQ,YACR38B,MAAM,UACNq6B,UAAW5Q,EACXxpB,QAASR,KAAK6zE,cAJhB,kBAQA,cAAC52C,EAAA,EAAD,CACEC,QAAQ,YACR38B,MAAM,UACNq6B,UAAW5Q,EACXxpB,QAASR,KAAK8zE,eAJhB,sBASF,6BACE,cAAC,IAAD,CAAkBrzE,GAAG,uCAEvB,6BACE,cAAC,IAAD,CAAkBA,GAAG,2BAEtBi0B,GAAWjN,EACV,wBAAOnnB,UAAU,sCAAjB,UACE,mCAAWk0E,IACX,gCAAQM,IACR,gCAAQ51E,YAERyJ,S,GAvOuBjI,cAoPpB8M,gBAPS,SAACC,GAAD,MAAY,CAClCqE,iBAAkBrE,EAAMC,IAAIoE,iBAC5B0W,MAAO/a,EAAMC,IAAI8a,MACjBtZ,KAAMzB,EAAMC,IAAIwB,KAChBgD,cAAezE,EAAMC,IAAIwE,iBAGa,KAAzB1E,CAA+B+lE,I,oBC9O/B0B,GAdQ,WACrB,IAAMhyD,EAAWqiB,cACjB,EAAmCnP,aAAY,SAAC1oB,GAAD,OAAWA,EAAMC,OAAxDq2C,EAAR,EAAQA,eAAgB92C,EAAxB,EAAwBA,OAExB,OACE,cAAC,IAAD,CAAcA,OAAQA,EAAQqJ,SAAUwpD,KAAa7yD,GAArD,SACE,eAAC,GAAD,CAAYgW,SAAUA,EAAUmwD,YAAa8B,KAAahnE,YAA1D,UACE,cAAC,GAAD,IACA,cAACpB,GAAA,EAAD,CAAU3M,KAAM4jD,EAAgB7jD,QAAS,kBAAM+iB,EAASkyD,wB,4CCjB3C74D,KAAUxC,MAAM,CACnCxW,QAASgZ,KAAUq9C,KAAK7E,a,QCHX,I,OAAA,IAA0B,0C,6BCA1B,OAA0B,kC,SCA1B,OAA0B,mCCA1B,OAA0B,mC,6BCMnCsgB,I,mKACJ,WACE,MAA0Cp1E,KAAKC,MAAvCC,EAAR,EAAQA,QAASC,EAAjB,EAAiBA,KAAMC,EAAvB,EAAuBA,MAAOC,EAA9B,EAA8BA,QAE9B,OACE,8BACE,eAAC,KAAD,CAAQD,MAAOA,EAAOF,QAASA,EAASC,KAAMA,EAA9C,UACE,qBAAKG,UAAU,kBAAf,SAAkCD,IAClC,qBAAKC,UAAU,iBAAf,SACE,cAAC28B,EAAA,EAAD,CAAQ18B,MAAM,UAAUC,QAASN,EAAjC,6B,GAToBQ,cAmBjB00E,M,UCweA7zC,I,OAAAA,cAzdQ,SAAC,GAA+B,IAA7BrhC,EAA4B,EAA5BA,QAASswC,EAAmB,EAAnBA,OAAQr6B,EAAW,EAAXA,KACnCk/D,EAAc97C,iBAAO,MACrBtW,EAAWqiB,cACXgwC,EAAkBn/C,aAAY,SAAC1oB,GAAD,OAAWA,EAAMmoB,QAAQ0/C,mBACvDl6B,EAAiBjlB,aAAY,SAAC1oB,GAAD,OAAWA,EAAMmoB,QAAQwlB,kBACtDr3C,EAAcoyB,aAAY,SAAC1oB,GAAD,OAAWA,EAAM1J,eAC3CmI,EAAgBiqB,aAAY,SAAC1oB,GAAD,OAAWA,EAAMC,IAAIxB,iBACjDgG,EAAgBikB,aAAY,SAAC1oB,GAAD,OAAWA,EAAMC,IAAIwE,iBACjDssC,EAASnsC,aAAcH,GACvBuV,EAAUlV,aAAeL,GACzB0rC,EAAYprC,aAAiBN,GAEnC,EAAwBwY,mBAAS0wB,EAAel3C,MAAhD,mBAAOA,EAAP,KAAauoC,EAAb,KACA,EAAsD/hB,oBAAS,GAA/D,mBAAO6qD,EAAP,KAA4BC,EAA5B,KACA,EAA8C9qD,mBAAS,IAAvD,mBAAO+qD,EAAP,KAAwBC,EAAxB,KACA,EAA4DhrD,mBAAS,MAArE,mBAAOirD,EAAP,KAA+BC,EAA/B,KACA,EAA8DlrD,oBAAS,GAAvE,mBAAOmrD,EAAP,KAAgCC,EAAhC,KACA,EAA4DprD,mBAAS,IAArE,mBAAOqrD,EAAP,KAA+BC,EAA/B,KACA,EAAgEtrD,mBAAS,IAAzE,mBAAOurD,EAAP,KAAiCC,EAAjC,KACA,GAAkExrD,oBAAS,GAA3E,qBAAOyrD,GAAP,MAAkCC,GAAlC,MACA,GAA0C1rD,mBAAS,IAAnD,qBAAO2rD,GAAP,MAAsBC,GAAtB,MAEMC,GAAoB,QAapBC,GAAa,SAACtyE,GAClB,OAAOiG,OAAOC,KAAKkrE,GAAiBvpD,QAAO,SAACnqB,GAAD,OAASA,IAAQsC,KAAM1B,OAAS,GAGvEi0E,GAAa,WACjB,IAAMC,EAhBgB,SAACC,GAGvB,IAFA,IAAIzyE,EAAOyyE,EACPvY,EAAU,EACPoY,GAAWtyE,IAChBA,EAAI,UAAMyyE,GAAN,OAAkBvY,GACtBA,IAGF,OAAOl6D,EAQgB0yE,CAAgB,WACvC3zD,EAAS4zD,YAAWH,KAYhBI,GAAc,uCAAG,8BAAAzzE,EAAA,6DACf0H,EAAgBmB,EAAck6C,mBAC9B2wB,EAAa,CACjB37B,iBACA+3B,eAAgB6D,KAChB5pB,UAAW,IAAI9I,KACf98C,QAAS,QACTuD,iBAPmB,SAUfksE,GAAyBF,GAVV,OAYrBG,KAZqB,2CAAH,qDAedF,GAAiC,WACrC,IAAM7D,EAAiB,GAgBvB,OAdAhpE,OAAOC,KAAKrG,GAAaoF,SAAQ,SAACguE,GAChC,IAAMhyE,EAAeH,SAASmyE,EAAiB,IAE7CpzE,EAAYozE,IACZpzE,EAAYozE,GAAiBttD,aAC7B9lB,EAAYozE,GAAiBttD,YAAY8d,eAEzCwrC,EAAevsE,KAAK,CAClBzB,eACAwiC,cAAe5jC,EAAYozE,GAAiBttD,YAAY8d,mBAKvDwrC,GAGH8D,GAAwB,uCAAG,WAAOxP,GAAP,mBAAApkE,EAAA,6DACzB+zE,EAAOnrE,KAAKK,UAAUm7D,GACtB1vD,EAAO,IAAIC,KAAK,CAACo/D,GAAO,CAAE5yE,KAAM,qBAFP,SAGZyT,IAAIC,gBAAgBH,GAHR,OAGzB7Y,EAHyB,OAK/BD,aAAcC,EAAM,gBALW,2CAAH,sDAyBxBm4E,GAAiB,SAACC,GACtB,IACE,IAAMp4E,EAAO+M,KAAKlL,MAAMu2E,GACxB,GAAIC,GAAkBr4E,EAAKk8C,eAAe36C,IAGxC,OAFA+0E,GAAuB,QACvBI,EAA0B12E,GAI5Bs4E,GAAoCt4E,GACpC,MAAOiF,GACPszE,KACA53E,KAAOsE,MAAMA,KAaXuzE,GAAiC,SAACx2B,GACtCw0B,EAAmB,IACfx0B,GA/FJj+B,EAAS00D,YAAclC,KAoGnBmC,GAAsB,WAC1BJ,GAAoC7B,IAGhC4B,GAAoB,SAACrzE,GACzB,OAAIk3C,EAAe36C,KAAOyD,GAOtBszE,GAAsC,SAACt4E,GAG3C,OAFA24E,KAEKC,GAAyB54E,EAAKsI,UAM/BuwE,GAAoB74E,EAAKsI,UAC3BwwE,KAGG94E,EAAKk8C,eAAe36C,IAKzBwiB,EAASq4B,aAAWp8C,EAAKk8C,eAAgBl8C,EAAKk8C,eAAe36C,KAEzDvB,EAAKi0E,gBACPj0E,EAAKi0E,eAAehqE,SAAQ,SAAC4H,GAC3BkS,EAAS85B,YAAgBhsC,EAAM5L,aAAc4L,EAAM42B,mBAIvD1kB,EAASg1D,oBACTC,OAbET,UACA53E,KAAOsE,MAAM,iCAXbg0E,UACAt4E,KAAOsE,MAAM,mCAyBX2zE,GAA2B,SAACtwE,GAChC,OAAI+uE,KAAsB/uE,MAIrB4wE,KAAOC,MAAM7wE,IAAwD,UAA5C4wE,KAAOE,KAAK/B,GAAmB/uE,KAOzDuwE,GAAsB,SAACvwE,GAC3B,MAC8C,UAA5C4wE,KAAOE,KAAK/B,GAAmB/uE,IAAwB4wE,KAAOG,GAAG/wE,EAAS+uE,KAIxEW,GAAsB,WAC1Bh3E,KAGI23E,GAAsC,WAC1C7B,EAA0B,cAAC,IAAD,CAAkBv1E,GAAG,oCAC/Cy1E,EAA4B,cAAC,IAAD,CAAkBz1E,GAAG,0CACjD21E,IAA6B,IAGzBqB,GAAkC,WACtCzB,EAA0B,cAAC,IAAD,CAAkBv1E,GAAG,iCAC/Cy1E,EAA4B,cAAC,IAAD,CAAkBz1E,GAAG,qCACjDq1E,GAA2B,IAGvBqC,GAAqC,WACzCnC,EACE,cAAC,IAAD,CAAkBv1E,GAAG,mDAEvBy1E,EACE,cAAC,IAAD,CAAkBz1E,GAAG,qDAEvBq1E,GAA2B,IAGvBkC,GAAyC,WAC7ChC,EAA0B,cAAC,IAAD,CAAkBv1E,GAAG,yCAC/Cy1E,EAA4B,cAAC,IAAD,CAAkBz1E,GAAG,2CACjD21E,IAA6B,IAGzB8B,GAAwB,WAC5BpC,GAA2B,IAwFvB0C,GAAwB,SAACC,GAC7B,GAAKhxD,EAIL,OAAI4uD,KAAkBoC,EAElB,cAAC38D,EAAA,EAAD,CACEtb,QAAS,WACP81E,GAAiBmC,GACjBhsC,EAAQgsC,IAEVpiE,QAASF,EAAKG,SAAS,kCACvBV,QAAS0gB,OAKX,cAACxa,EAAA,EAAD,CACEtb,QAAS,WAhDX61E,KAAkBnyE,GAAQiG,OAAOC,KAAKkrE,GAAiB/tD,SAASrjB,GAClEw0E,MAAM,2CAIRz1D,EAAS01D,YAActC,GAAenyE,IAEtCoyE,GAAiB,IACjB7pC,EAAQ,MAyCFp2B,QAASF,EAAKG,SAAS,oCACvBV,QAASgjE,MA0BX3tD,GAAiB,SAAC,GAAiB,IAAfE,EAAc,EAAdA,QAClBC,EAAgB,GAyBtB,OAxBAD,EAAQhiB,SAAQ,SAAC0vE,EAAQvtD,GACJ,WAAfutD,EAAOj3E,IACTwpB,EAAcxkB,KACZ,qBACEuG,MAAO,CAAEC,MAAO+d,EAAQG,GAAale,MAAO0rE,aAAc,GAD5D,SAIE,cAACh9D,EAAA,EAAD,CACEzF,QAASF,EAAKG,SAAS,6BACvBV,QAASo0D,IACTxpE,QAAS,kBAAMi2E,MACf5gE,QAAS2oC,KARb,iBAEiBlzB,KAWnBF,EAAcxkB,KACZ,qBAAmCtG,UAAU,gCAA7C,SACG6qB,EAAQG,GAAalrB,OADxB,iBAAoBkrB,QAOnBF,GAGH1D,GAhKY,CACd,CACE9Z,OAAQ,sBACRgI,QAASszB,KACTpzB,eAAgB,WArMpB06B,IACA0mC,MAuMIrhE,QAAS5D,aAAcC,IAEzB,CACEtE,OAAQ,wBACRgI,QAASmjE,GACTjjE,eAAgB,WACdghE,MAEFjhE,QAASvD,aAAeJ,IAE1B,CACEtE,OAAQ,wBACRgI,QAASojE,GACTljE,eAAgB,WArKpBu/D,EAAY77C,QAAQ75B,SAwKhBkW,QAAS4R,IA0ITvoB,GAhDFo2E,GACAnrE,OAAOC,KAAKkrE,GAAiBtxE,KAAI,SAACy0E,GAChC,MAAO,CACLxkB,KAAMukB,GAAsBC,GAC5Bz0C,OAAQ4Z,EACN,cAAC9hC,EAAA,EAAD,CACEtb,QAAS,kBAAMk1E,EAAmB+C,IAClCpiE,QAASF,EAAKG,SAAS,oCACvBV,QAASqjE,WAETtwE,EACJzE,KAAMmyE,KAAkBoC,EAxD5B,qBAAKn4E,UAAU,2CAAf,SACE,cAAC24B,EAAA,EAAD,CACEC,WAAS,EACT10B,KAAK,OACL0hC,WAAY,CACV/4B,MAAO,CACLE,OAAQ,KAGZxL,MAAOqC,EACP4iB,SAAU,SAACvN,GAAD,OAAOkzB,EAAQlzB,EAAEkS,OAAO5pB,MAAMwP,UAAU,EAAG,UA8CQonE,EAC7Dh4E,GAAIg4E,MAqCNttD,GAnIG,CACL,CACEvpB,IAAK,OACLwqB,QAAS,OACThsB,MAAO,OACPgN,MAAO,EACPif,SAAU,GAEZ,CACEzqB,IAAK,OACLwqB,QAAS,OACThsB,MAAO,GACPgN,MAAO,IAET,CACExL,IAAK,SACLwqB,QAAS,SACThsB,MAAO,GACPgN,MAAO,KAmHb,OACE,gCACE,eAAC,KAAD,CACEhN,MAAO,cAAC,IAAD,CAAkBK,GAAG,yBAC5Bk4D,cAAejxC,GACfxnB,QAAS,WACPg3E,MAEF/2E,MAAI,EANN,UAQE,qBAAKG,UAAU,kCAAf,SACE,cAAC,IAAD,CAAkBG,GAAG,yCAEvB,qBAAKH,UAAU,+BAAf,SACE,cAAC,KAAD,UACG,gBAAG8M,EAAH,EAAGA,MAAOC,EAAV,EAAUA,OAAV,OACC,cAAC,KAAD,CACE4d,eAAgBA,GAChBE,QAASA,GACTjsB,KAAMA,GACNkO,MAAOA,EACPC,OAAQA,EAAS,GACjBif,aAAc,GACdC,UAAW,IACP,mBAVV,oBAgBJ,cAACxsB,GAAA,EAAD,CACEI,KAAMo1E,EACNr1E,QAAS,SAACghD,GAAD,OArTwB,SAACA,GACtCs0B,GAAuB,GACnBt0B,EACF02B,KAEAvC,EAAY77C,QAAQ33B,MAAQ,GAgTFq3E,CAA+Bh4B,IACvD9gD,MAAO,cAAC,IAAD,CAAkBK,GAAG,uCAC5BJ,QAAS,cAAC,IAAD,CAAkBI,GAAG,2CAEhC,cAACV,GAAA,EAAD,CACEI,KAA0B,KAApBs1E,EACNv1E,QAAS,SAACghD,GAAD,OAAew2B,GAA+Bx2B,IACvD7gD,QACE,cAAC,IAAD,CACEI,GAAG,uCACH6P,OAAQ,CAAEmoE,YAAahD,OAI7B,cAAC,GAAD,CACEv1E,QAAS,WACP41E,GAA2B,GACvBK,IACFe,MAGJ/2E,KAAM01E,EACNz1E,MAAO21E,EACP11E,QAAS41E,IAEX,uBAAOhuD,IAAKotD,EAAaloE,MAAO,CAAE6a,QAAS,QAAUxjB,KAAK,OAAOsiB,SA3WjD,SAAC4G,GACnB,IAAMo3B,EAAOp3B,EAAIjC,OAAOs5B,MAAM,GAE9B,GAAID,EAAM,CACR,IAAME,EAAa,IAAIC,WACvBD,EAAWm0B,WAAWr0B,GAEtBE,EAAW3rC,OAAS,SAAC8U,GACnBkpD,GAAelpD,EAAM1C,OAAO9Z,oBClJvBynE,I,OAAc98D,KAAUxC,MAAM,CACzCrZ,GAAI6b,KAAUm9C,U,IAGcn9C,KAAUo9C,UAAU,CAAC0f,GAAa98D,KAAUm9C,S,kBCDpE4f,I,cAAoB,SAAC,GAAD,IAAG30E,EAAH,EAAGA,SAAH,OAAkB,qBAAKpE,UAAU,cAAf,SAA8BoE,MAE1E20E,GAAkB9rE,aAAe,CAC/B7I,cAAUiE,GAOG0wE,UCRTC,GAAe,SAAC,GAAoC,IAAlC74E,EAAiC,EAAjCA,GAAIL,EAA6B,EAA7BA,MAAOI,EAAsB,EAAtBA,QAAS+sC,EAAa,EAAbA,OACpCgsC,EAAoB/kD,KAAW,CACnC,iBAAiB,EACjB,uBAAwB+Y,IAE1B,OACE,cAAC,GAAD,UACE,wBAAQ9sC,GAAIA,EAAID,QAASA,EAASF,UAAWi5E,EAA7C,SACE,+BAAOn5E,SAMfk5E,GAAa/rE,aAAe,CAC1B9M,QAAIkI,EACJnI,QAAS,aACT+sC,QAAQ,GAUK+rC,UCxBTE,GAAe,SAAC,GAAD,IAAGp+B,EAAH,EAAGA,eAAgBk6B,EAAnB,EAAmBA,gBAAiBmE,EAApC,EAAoCA,cAAevnE,EAAnD,EAAmDA,cAAnD,OACnBI,aAAeJ,IAAkBK,aAAeL,GAC9C,qBAAK5R,UAAU,wBAAf,SACGg1E,GACCA,EAAgBtxE,KAAI,SAAC4xB,GAAD,OAClB,cAAC,GAAD,CACEx1B,MAAOw1B,EAAQ1xB,MAAQ0xB,EAAQn1B,GAE/BD,QAAS,kBAAMi5E,EAAc7jD,IAC7B2X,OAAQ6N,GAAkBA,EAAe36C,KAAOm1B,EAAQn1B,IAFnDm1B,EAAQn1B,SAOrB,yBAGJ+4E,GAAajsE,aAAe,CAC1B6tC,oBAAgBzyC,EAChB2sE,gBAAiB,IASnB,IAYe9nE,gBAZS,SAACC,GAAD,MAAY,CAClC6nE,gBAAiBnrE,OAAOC,KAAKqD,EAAMmoB,QAAQ0/C,iBAAiBtxE,KAC1D,SAACpC,GAAD,OAAS6L,EAAMmoB,QAAQ0/C,gBAAgB1zE,MAEzCw5C,eAAgB3tC,EAAMmoB,QAAQwlB,eAC9BlpC,cAAezE,EAAMC,IAAIwE,kBAGA,SAAC+Q,GAAD,MAAe,CACxCw2D,cAAe,SAAC7jD,GAAD,OAAa3S,EAASw2D,aAAc7jD,QAGtCpoB,CAA6CgsE,ICtCtDE,G,4MACJjsE,MAAQ,CACNksE,cAAe,EACfC,oBAAoB,G,EAEtBjc,OAAS,SAACpsD,GAAD,OAAW,EAAKyU,SAAS,CAAE2zD,cAAepoE,K,4CAEnD,WAAU,IAAD,OACP,EAAsEvR,KAAKC,MAAnEuwC,EAAR,EAAQA,OAAQqpC,EAAhB,EAAgBA,gBAAiBC,EAAjC,EAAiCA,kBAAmB5nE,EAApD,EAAoDA,cACpD,OACE,sBAAK5R,UAAS,6BAAwBu5E,EAAkB,oBAAsB,IAA9E,UACE,sBAAKv5E,UAAU,aAAf,UACGw5E,GAAqB,cAAC,GAAD,IACrBA,IAAsBxnE,aAAeJ,IAAkBK,aAAeL,IACrE,sBACE5R,UAAU,eACVE,QAAS,WACP,EAAKwlB,SAAS,CACZ4zD,oBAAqB,EAAKnsE,MAAMmsE,sBAJtC,UAQE,qBAAKtsE,IAAKysE,GAAoBt/D,IAAI,KAClC,cAAC,IAAD,CAAkBha,GAAG,2BAErBkI,KAEN,wBACErI,UAAU,eACVE,QAAS,WACP,EAAKP,MAAM8xE,oBAAoB8H,IAHnC,SAMGA,EAAkB,OAAS,SAE7BC,GACC,8BACG95E,KAAKyN,MAAMmsE,oBACV,cAAC,GAAD,CACE15E,QAAS,kBAAM,EAAK8lB,SAAS,CAAE4zD,oBAAoB,KACnDppC,OAAQA,a,GAxCA9vC,aAmET6gC,gBAAW/zB,aAXF,SAACC,GAAD,MAAY,CAClCusE,eAAgBvsE,EAAMmoB,QAAQokD,eAC9BH,gBAAiBpsE,EAAMmoB,QAAQikD,gBAC/BC,kBAAmBrsE,EAAMmoB,QAAQkkD,kBACjC5nE,cAAezE,EAAMC,IAAIwE,kBAGA,SAAC+Q,GAAD,MAAe,CACxC8uD,mBAAoB,SAACQ,GAAD,OAAYtvD,EAAS8uD,YAAmBQ,QAGpC/kE,CAA6CksE,K,qEC1D1DO,I,OAAiB,SAAjBA,EAAkB,GAA2C,IAAD,QAAxCnyE,EAAwC,EAAxCA,KAAMiI,EAAkC,EAAlCA,OAC/BmqE,EAAU3gD,iBAAuB,MAEvC,EAAgC7O,oBAAS,GAAzC,mBAAOyvD,EAAP,KAAiBC,EAAjB,KAEMC,IAAe,UAACvyE,EAAKpD,gBAAN,QAAC,EAAelC,QAErC,OACE,qCACE,qBACElC,UAAWs7B,aAAK,kBAAmB9zB,EAAKxH,WACxC2nB,IAAKiyD,EACL/sE,MAAO,CACL4O,cAAejU,EAAK+N,QAAU,OAAS,OACvCmG,QAASlU,EAAK+N,QAAU,MAAQ,OALpC,SAQE,yBACEvV,UAAWs7B,aACTy+C,GAAe,aACftqE,GAAU,qBACVoqE,GAAY,UACXE,GAAevyE,EAAKtH,UAAY,aAEnCA,QAAS,WACHsH,EAAKtH,QACPsH,EAAKtH,UACI65E,GACTD,GAAY,IAXlB,UAeGtyE,EAAK28C,MAAQ,qBAAKn3C,IAAKxF,EAAK28C,OAC7B,+BAAO38C,EAAK08C,eAGhB,cAAC81B,GAAA,EAAD,CACEn6E,KAAMg6E,EACNI,SAAUL,EAAQ1gD,QAClBghD,UAAWzqE,EAAS,cAAgB,SACpC5C,MAAO,CAAEstE,OAAQ,GAJnB,SAME,cAACC,GAAA,EAAD,CAAmBC,YAAa,kBAAMP,GAAY,IAAlD,SACE,cAACtU,EAAA,EAAD,CACE8U,UAAW,EACXt6E,UAAU,gCACV6M,MAAO,CAAEo4B,SAAQ,oBAAE20C,EAAQ1gD,eAAV,aAAE,EAAiBxH,wBAAwB5kB,aAA3C,QAAoD,GAHvE,UAKG,UAACtF,EAAKpD,gBAAN,QAAkB,IAAIV,KACrB,SAACwpC,GAAD,OAAWA,GAAS,cAACysC,EAAD,CAA+BnyE,KAAM0lC,EAAOz9B,QAAM,GAA7By9B,EAAM/sC,kB,qBCxD9Co6E,I,OATE,kBACf,cAAC,GAAD,UACE,sBAAKv6E,UAAU,oBAAf,UACE,cAAC,KAAD,CAAOA,UAAU,OAAOw6E,OAAQ,aAAcC,SAAO,IACrD,cAAC,KAAD,CAAOz6E,UAAU,OAAOw6E,OAAQ,WAAYC,SAAO,WCa1CC,I,OAhBG,WAChB,IAAMC,EAAa9kD,aAAiB,SAAC1oB,GAAD,OAAWA,EAAMC,IAAIwtE,qBAEzD,OACE,cAAC,GAAD,UACE,sBAAK56E,UAAU,cAAf,UACE,yCAAY26E,EAAW7rE,WAAa,SAAW,cAC/C,wCACU6rE,EAAW7rE,WAAa6rE,EAAWzsE,MAAQ,OAAQ,IAC1DysE,EAAW7rE,WAAa6rE,EAAW75E,KAAO,oB,UCftC,OAA0B,0C,UCA1B,OAA0B,qCCA1B,OAA0B,wCCA1B,OAA0B,2CCkB5B+5E,I,OAAiB,SAACl7E,GAC7B,IACM+qB,EAAW/qB,EAAME,KACjBi7E,EAAWn7E,EAAMm7E,SACvB,EAAgC1wD,mBAHP,IAGzB,mBAAO2wD,EAAP,KAAiBC,EAAjB,KA4BA,OA1BAvwD,qBAAU,WACR,IAAIwwD,EAAkD,KAkBtD,OAhBIvwD,GACFuwD,EAAWC,aAAY,WACrBF,GAAY,SAACD,GAAD,OAAcA,EAAW,OACpC,KAECA,GAAY,IACdD,IACAK,cAAcF,GACdD,EAhBmB,OAmBJ,OAAbC,GACFE,cAAcF,GAEhBD,EAtBqB,KAwBhB,WACY,OAAbC,GACFE,cAAcF,MAGjB,CAACvwD,EAAUowD,EAAUC,IAGtB,eAACz5C,EAAA,EAAD,CACEzhC,KAAMF,EAAME,KACZ,kBAAgB,qBAChB,mBAAiB,2BAHnB,UAKE,cAAC0mE,EAAA,EAAD,CAAapmE,GAAG,qBAAhB,SAAsCR,EAAMG,QAC5C,cAAC0mE,EAAA,EAAD,UACE,cAACC,EAAA,EAAD,CAAmBtmE,GAAG,2BAAtB,SAAkDR,EAAM0mE,gBAE1D,cAAC1pC,EAAA,EAAD,CAAQz8B,QAASP,EAAMm7E,SAAU76E,MAAM,UAAvC,SACE,cAAC,IAAD,CAAkBE,GAAG,aAEvB,cAACw8B,EAAA,EAAD,CAAQz8B,QAASP,EAAMy7E,SAAUn7E,MAAM,UAAvC,SACE,cAAC,IAAD,CAAkBE,GAAG,aAEvB,qBAAKH,UAAU,wBAAf,SACE,iDAAoB+6E,EAApB,sBClDFM,GAAc,SAACluE,EAAY0gB,GAC/B,OAAO,2BACF1gB,GADL,mBAEG0gB,EAAMjqB,KAAOiqB,EAAMtsB,S,SCXlB+5E,GAAkBzxE,OAAOC,KAAK0Q,MAAOiR,QACzC,SAAC+jB,GAAD,MAAa,gBAANA,KAGI+rC,GAA0B,WAAuC,IAAD,EACrE54D,EAAWqiB,cAEXw0C,EAAoB3jD,aAAiB,SAAC1oB,GAAD,OAAWA,EAAMmoB,QAAQkkD,qBACpE,EAA8C3jD,aAAiB,SAAC1oB,GAAD,OAAWA,EAAMC,OAAxEwE,EAAR,EAAQA,cAAe0K,EAAvB,EAAuBA,YAAa4L,EAApC,EAAoCA,MAM9BkM,EAAU1gB,aAAe9B,GACzBuV,EAAUxT,aAAe/B,GAEzB4pE,EAAiBlwD,mBAAQ,WAAO,IAAD,EAC7BmwD,EAAM,iBAAGn/D,QAAH,IAAGA,IAAe4L,EAAMjN,YAAxB,QAAgCT,KAAMC,YAAYta,GAC9D,OAAO0J,OAAOC,KAAK0Q,MAAO9P,MACxB,SAACgxE,GAAD,OAAalhE,KAAMkhE,GAA2Cv7E,KAAOs7E,OAEtE,CAACn/D,EAAa4L,EAAMjN,OAEjB7W,EAAWknB,mBAAQ,WAKvB,OAAOgwD,GAAgB53E,KAAwB,SAACpC,GAAD,MAAU,CACvDnB,GAAImB,EACJpB,QAAS,WANQ,IAAmBu7E,IAOlBjhE,KAAMlZ,GAAKnB,GAN7BwiB,EAASg5D,YAAeF,KAQxBv3B,QAAS,cAAC,IAAD,CAAkB/jD,GAAImB,IAC/B6iD,KAAM3pC,KAAMlZ,GAAKqhD,QACjBptC,SAAS,QAEV,CAACoN,IAEJ,GAAK62D,IAAuBplD,GAAYjN,GAIxC,MAAO,CACLhnB,GAAI,cACJgkD,KAAI,UAAE3pC,KAAMghE,UAAR,aAAE,EAAuB74B,QAC7BuB,QAAS,cAAC,IAAD,CAAkB/jD,GAAIq7E,IAC/BjmE,QAAS4R,EACT/iB,a,oBC1DW,OAA0B,wC,UCU5Bw3E,GAAgB,WAC3B,IAAMC,EAAqB34B,eACrB44B,ECLoC,WAC1C,IAAMn5D,EAAWqiB,cACXr4B,EAASkpB,aAAiB,SAAC1oB,GAAD,OAAWA,EAAMC,IAAIT,UAE/CvI,EAAWknB,mBACf,kBACEmW,KAAU/9B,KAAI,SAACg+B,GAAD,MAAe,CAC3BvhC,GAAIuhC,EAAS/0B,OACbu3C,QAASxiB,EAAS99B,KAClB1D,QAAS,WACPyiB,EAASgvD,YAAUjwC,EAAS/0B,SAC5BgW,EAASo5D,YAAoCr6C,EAAS/0B,UAExD4I,SAAS,QAEb,CAACoN,IAGH,MAAO,CACLxiB,GAAI,mBACJgkD,KAAM63B,GACN93B,QAAO,OAAEv3C,QAAF,IAAEA,IAAU,GACnB4I,SAAS,EACTnR,YDlBgC63E,GAC5BC,EHWqC,WAC3C,IAAMrmE,EAAOC,eACPoS,EAAQ2N,aAAiB,SAAC1oB,GAAD,OAAWA,EAAMC,IAAI8a,SAC9CyyD,EAAa9kD,aAAiB,SAAC1oB,GAAD,OAAWA,EAAMC,IAAIwtE,qBACnDuB,EAAatmD,aAAiB,SAAC1oB,GAAD,OAAWA,EAAMC,IAAIwB,QACzD,EAAgCwtE,qBAAWf,GAAa,CAAEgB,MAAO,IAAjE,mBAAOC,EAAP,KAAiBC,EAAjB,KAEA,EAA4CnyD,oBAAS,GAArD,mBAAOoyD,EAAP,KAAuBC,EAAvB,KAEMC,EAAW9xD,uBAAY,WAC3B,OAAI+vD,EAAWgC,mBAAmBR,GACzBtmE,EAAKG,SAAS,yBACZ2kE,EAAWiC,oBAAoBT,GACjCtmE,EAAKG,SAAS,0BAEdH,EAAKG,SAAS,wBAEtB,CAAC2kE,EAAY9kE,EAAKG,SAAUmmE,IAEzB92C,EAA2E,SAACxX,GAChF0uD,EAAY,CACV34E,KAAMiqB,EAAM1C,OAAOvnB,KACnBrC,MAAOssB,EAAM1C,OAAO5pB,SAIlBs7E,EAA0D,SAAChvD,GAC/DA,EAAM8kD,kBACN8J,GAAkB,IAWpB,MAAO,CACLt8E,GAAI,qBACJgkD,KAAMw2B,EAAWgC,mBAAmBR,GAAcW,GAAcC,GAChExnE,SAAS,EACT2uC,QACE,qCACE,qBAAKlkD,UAAU,qBAAf,SACE,4BAAI08E,QAEN,eAACp7C,EAAA,EAAD,CAAQzhC,KAAM28E,EAAgB58E,QAASi9E,EAAa,kBAAgB,oBAApE,UACE,cAACtW,EAAA,EAAD,CAAapmE,GAAG,oBAAhB,SACGw6E,EAAWiC,oBAAoBT,GAC9B,cAAC,IAAD,CAAkBh8E,GAAG,2DAErB,cAAC,IAAD,CAAkBA,GAAG,yDAGzB,eAACqmE,EAAA,EAAD,WACE,cAACC,EAAA,EAAD,UACE,cAAC,IAAD,CAAkBtmE,GAAG,2DAEvB,cAACw4B,EAAA,EAAD,CACE8M,gBAAiB,CAAEu3C,QAAQ,GAC3BnkD,WAAS,EACTsS,OAAO,QACPhrC,GAAG,gBACHyD,KAAK,QACLmf,MAAO,cAAC,IAAD,CAAkB5iB,GAAG,0CAC5B+D,KAAK,SACLy9B,aAAa,IACbrH,UAAU,EACV9T,SAAU6e,EACVzM,WAAS,IAEX,cAACD,EAAA,EAAD,CACE8M,gBAAiB,CAAEu3C,QAAQ,GAC3B7xC,OAAO,QACPhrC,GAAG,sBACHyD,KAAK,cACLmf,MAAO,cAAC,IAAD,CAAkB5iB,GAAG,gDAC5B+D,KAAK,OACLsiB,SAAU6e,EACVzM,WAAS,IAEV+hD,EAAWiC,oBAAoBT,IAC9B,mCACE,cAACxjD,EAAA,EAAD,CACE8M,gBAAiB,CAAEu3C,QAAQ,GAC3B7xC,OAAO,QACPhrC,GAAG,sBACHyD,KAAK,kBACLmf,MAAO,cAAC,IAAD,CAAkB5iB,GAAG,gDAC5B+D,KAAK,OACLsiB,SAAU6e,EACVzM,WAAS,SAKjB,eAAC8tC,EAAA,EAAD,WACE,cAAC/pC,EAAA,EAAD,CAAQz8B,QAAS28E,EAAa58E,MAAM,UAApC,SACE,cAAC,IAAD,CAAkBE,GAAG,aAEvB,cAACw8B,EAAA,EAAD,CAAQz8B,QAvE+C,SAAC2tB,GAChEA,EAAMF,iBACNE,EAAM8kD,kBACN8J,GAAkB,GAClBH,EAASzzB,gBAAkB8xB,EAAWiC,oBAAoBT,GAC1Dj0D,EAAM+0D,iCAAiCX,IAkEAr8E,MAAM,UAArC,SACE,cAAC,IAAD,CAAkBE,GAAG,mBAI3B,cAAC,EAAD,CACEN,KAAM86E,EAAWuC,wBACjBp9E,MACE,cAAC,IAAD,CACEK,GAAG,iDACH6P,OAAQ,CAAEpB,KAAM+rE,EAAWzsE,SAG/Bm4D,YACE,cAAC,IAAD,CACElmE,GAAG,+CACH6P,OAAQ,CAAEf,YAAa0rE,EAAWvsE,mBAXxC,SAeE,cAACuuB,EAAA,EAAD,CACEz8B,QAAS,WACPgoB,EAAMi1D,qBAERl9E,MAAM,UAJR,SAME,cAAC,IAAD,CAAkBE,GAAG,cAGzB,cAAC,EAAD,CACEN,KAAM86E,EAAWyC,0BACjBt9E,MACE,cAAC,IAAD,CACEK,GAAG,qDACH6P,OAAQ,CAAEpB,KAAM+rE,EAAWzsE,SAG/Bm4D,YACE,cAAC,IAAD,CACElmE,GAAG,+CACH6P,OAAQ,CAAEf,YAAa0rE,EAAWvsE,mBAXxC,SAeE,cAACuuB,EAAA,EAAD,CACEz8B,QAAS,WACPgoB,EAAMi1D,qBAERl9E,MAAM,UAJR,SAME,cAAC,IAAD,CAAkBE,GAAG,cAGzB,cAAC,EAAD,CACEN,KAAM86E,EAAW0C,+BACjBv9E,MACE,cAAC,IAAD,CACEK,GAAG,0DACH6P,OAAQ,CAAEpB,KAAM+rE,EAAWzsE,SAG/Bm4D,YACE,cAAC,IAAD,CAAkBlmE,GAAG,0DAGzB,cAAC,GAAD,CACEN,KAAM86E,EAAW2C,iCACjBx9E,MACE,cAAC,IAAD,CACEK,GAAG,+CACH6P,OAAQ,CAAEpB,KAAM+rE,EAAWxsE,gBAG/Bk4D,YACE,cAAC,IAAD,CACElmE,GAAG,+CACH6P,OAAQ,CAAEjQ,QAAS46E,EAAWtsE,mBAGlCysE,SAAU,WACR5yD,EAAMq1D,eAAe,CACnBvvE,OAAQ2sE,EAAW3sE,OACnBC,WAAY0sE,EAAW1sE,cAG3BmtE,SAAU,WACRlzD,EAAMs1D,iBAAiB,CAAEvvE,WAAY0sE,EAAW1sE,mBAKxD/N,QAAS,WAEJs8E,GACA7B,EAAWuC,yBACXvC,EAAWyC,2BACXzC,EAAW0C,gCACX1C,EAAW2C,mCAER3C,EAAWgC,mBAAmBR,GAChCj0D,EAAMq9B,uCAENk3B,GAAkB,MGvNSgB,GAC7BC,EEHoC,WAC1C,IAAMlE,EAAoB3jD,aAAiB,SAAC1oB,GAAD,OAAWA,EAAMmoB,QAAQkkD,qBACpE,EAAmE3jD,aACjE,SAAC1oB,GAAD,OAAWA,EAAMC,OADX8a,EAAR,EAAQA,MAAOtc,EAAf,EAAeA,cAAeob,EAA9B,EAA8BA,kBAAmBpV,EAAjD,EAAiDA,cAQ3CnO,EAAc6nB,mBAClB,kBAAO1f,GAAiBA,EAAcvI,kBAAqB,KAC3D,CAACuI,IAEG+xE,EAA0C,IAA7B32D,EAAkB9kB,OAC/BkyB,EAAUxgB,aAAuBhC,GACjCuV,EAAUtT,aAAuBjC,GAEjCxN,EAAWknB,mBAAQ,WACvB,IAAMiX,EAAQ9+B,EAAYC,KAAwB,SAACC,GACjD,IAAMy0D,GAAYpxC,GAAqB,IAAIC,SAAStjB,EAAWxD,IAE/D,MAAO,CACLA,GAAIwD,EAAWxD,GACfD,QAAS,WACPk4D,EACIlwC,EAAMa,mBAAmBplB,EAAWxD,IACpC+nB,EAAMc,kBAAkBrlB,EAAWxD,KAEzC+jD,QAASvgD,EAAWC,KACpBugD,KAAMiU,EAAW9wC,KAAWE,KAC5BxnB,UAAWo4D,EAAW,yBAAsB/vD,EAC5CkN,SAAS,MAeb,OAXAgtB,EAAMq7C,QAAQ,CACZz9E,GAAI,oBACJD,QAAS,WACPy9E,EAAaz1D,EAAMc,oBAAsBd,EAAMa,sBAEjDm7B,QAASy5B,EAAa,wBAA0B,yBAChDx5B,KAAMw5B,EAAan2D,KAAYF,KAC/BtnB,UAAW,kBACXuV,SAAS,IAGJgtB,IACN,CAACo7C,EAAYl6E,EAAaujB,EAAmBkB,IAEhD,GAAKsxD,IAAuBplD,GAAYjN,GAIxC,MAAO,CACLhnB,GAAI,8BACJgkD,KAAM05B,GACN35B,QACE,cAAC,IAAD,CACE/jD,GAAG,gCACH6P,OAAQ,CACN8tE,mBAAoBr6E,EAAYvB,OAAS8kB,EAAkB9kB,OAC3D67E,oBAAqBt6E,EAAYvB,UAIvCqT,SAAS,EACTnR,SAAU+iB,EAAU/iB,OAAWiE,GFhEC21E,GAC5BC,EGTiC,WAAuC,IAAD,EAC7E,EAAyCpoD,aAAiB,SAAC1oB,GAAD,OAAWA,EAAMC,OAAnE2mD,EAAR,EAAQA,cAAeniD,EAAvB,EAAuBA,cAKvB,GAAKE,aAAYF,GAIjB,MAAO,CACLzR,GAAI,gBACJgkD,KAAM+5B,GACN3oE,SAAS,EACT2uC,QAAO,UAAE6P,EAAc,UAAhB,aAAE,EAAkBh0D,QAC3BqE,SAAU2vD,EAAcrwD,KAAwB,SAACsL,GAAD,cAAwB,CACtE7O,GAAE,oBAAE6O,EAAa7O,UAAf,QAAqB6O,EAAa89C,iBAAlC,QAA+CtkB,KAAQC,WACzDyb,QACE,oBAA4BlkD,UAAS,UAAKgP,EAAa9K,KAAlB,WAArC,UACG8K,EAAa89C,UADhB,KAC4B,4BAAI99C,EAAajP,UAAa,IACvDiP,EAAa4vB,MAAQ,EAArB,WAA6B5vB,EAAa4vB,MAA1C,KAAqD,KAFhD4J,KAAQC,YAKlBlzB,SAAS,OHdkB4oE,GACzBC,EAAuB7C,KAY7B,MAAO,CAAE8C,WAVyC,QAChDD,QADgD,IAChDA,SAAyB/1E,EADuB,OAEhD41E,QAFgD,IAEhDA,SAA2B51E,EAFqB,OAGhDq1E,QAHgD,IAGhDA,SAA8Br1E,EAC9B,KACA6zE,EACAL,EACAC,GACArwD,QAAO,SAACjkB,GAAD,YAAmBa,IAATb,OIVR82E,I,OAAgB,WAC3B,MAA4DzoD,aAC1D,SAAC1oB,GAAD,OAAgBA,EAAMmoB,WADhBipD,EAAR,EAAQA,aAAc/E,EAAtB,EAAsBA,kBAAmBp2B,EAAzC,EAAyCA,eAGnCx3C,EAAgBiqB,aAAY,SAAC1oB,GAAD,OAAgBA,EAAMC,IAAIxB,iBACtD+W,EAAWqiB,cAETq5C,EAAezC,KAAfyC,WAEFxoE,EAAOC,eAEP0oE,EAAWtqD,KAAW,CAC1BuqD,KAAK,EACL,aAAcF,IAGVr0E,EAAaohB,mBAAQ,WACzB,OAAKkuD,EAGA5tE,GAAkBA,EAAchI,KAG9B,+BAAOgI,EAAchI,OAFnBiS,EAAKG,SAAL,kBAHAH,EAAKG,SAAL,eAMR,CAACpK,EAAeiK,EAAKG,SAAUwjE,IAElC,OACE,mCACE,sBAAKx5E,UAAWw+E,EAAhB,UACE,wBAAQx+E,UAAU,QAAQE,QAAS,kBAAMyiB,EAAS4uD,cAAiBgN,KAAnE,SACGA,EAAe,OAAS,SAE3B,sBAAKv+E,UAAU,iBAAf,UACE,cAACka,GAAA,EAAD,CAAMlN,IAAKi5C,KAAanmD,MAAM,SAC7BsjD,EAAiB,sBAAKv2C,MAAO,CAAE6xE,UAAW,UAAzB,UAAsCx0E,EAAtC,OAA2DA,KAE/E,qBAAKlK,UAAU,iBAAf,SACGq+E,EAAW36E,KAAI,SAAC8D,EAAMyJ,GAAP,OACdzJ,EACE,cAAC,GAAD,CAA8BA,KAAMA,GAAfA,EAAKrH,IAE1B,sBAAkBH,UAAU,UAAjBiR,QAIjB,qBAAKjR,UAAU,kBAAf,SACE,cAAC,GAAD,CAEEwH,KAAM,CACJrH,GAAI,kBACJ+jD,QAAS,OACTC,KAAMnvB,KACNzf,SAAS,EACTnR,SAAUi6E,IANR,UAUR,sBAAKr+E,UAAU,YAAf,UACE,cAAC,GAAD,IACA,cAAC,GAAD,c,sCCtEJ2+E,I,mKACJ,WACE,OACE,qBAAK3+E,UAAU,2BAAf,SACE,cAAC,IAAD,CAAkBG,GAAG,yB,GAJcC,cAU5Bu+E,M,UC8CAC,I,OAvCO,SAAC,GAAD,QACpBC,gBADoB,MACT,GADS,MAEpBC,sBAFoB,MAEH,GAFG,EAGpBC,EAHoB,EAGpBA,YAHoB,IAIpBC,yBAJoB,MAIA,GAJA,MAKpBC,kBALoB,gBAOpB,gCACE,6BAAKJ,IACL,qBAAI7+E,UAAU,eAAd,UACG8+E,EAAep7E,KAAI,SAAC8D,GAAD,OAClB,oBACExH,UAAU,iBAEV6M,MAAO,CACL4O,cAAejU,EAAK+N,QAAU,OAAS,OACvCmG,QAASlU,EAAK+N,QAAU,MAAQ,OALpC,SAQE,eAAConB,EAAA,EAAD,CAAQC,QAAQ,WAAoC18B,QAAS,kBAAM6+E,EAAYv3E,EAAKrH,KAApF,UACGqH,EAAK28C,MAAQ,qBAAKn3C,IAAKxF,EAAK28C,KAAMhqC,IAAI,kBAAkBna,UAAU,eAClEwH,EAAK0b,OAFR,gBAAyC1b,EAAKrH,MARhD,YAEYqH,EAAKrH,QAYlB8+E,EACC,oBAAIj/E,UAAU,iBAAd,SACE,eAAC28B,EAAA,EAAD,CAAQC,QAAQ,YAAY38B,MAAM,UAAUC,QAAS8+E,EAAkBE,OAAvE,UACGF,EAAkB76B,MACjB,qBAAKn3C,IAAKgyE,EAAkB76B,KAAMhqC,IAAI,UAAUna,UAAU,eAE3Dg/E,EAAkB97D,SALY,YAQjC,aC/CJi8D,G,4MACJC,kBAAoB,WAClB,IAAQxzE,EAAkB,EAAKjM,MAAvBiM,cAWR,OAVqBA,GAAiBA,EAAcvI,kBAAqB,IAC/CK,KAAI,SAACC,GAC7B,MAAO,CACLxD,GAAIwD,EAAWxD,GACf+iB,KAAMvf,EAAWC,KACjBugD,KAAMk7B,KACN9pE,SAAS,O,4CAOf,WACE,MAA4C7V,KAAKC,MAAzCo/E,EAAR,EAAQA,YAAaG,EAArB,EAAqBA,OAAQD,EAA7B,EAA6BA,WACvBD,EAAoB,CACxB97D,KAAM,cAAC,IAAD,CAAkB/iB,GAAG,2BAC3BgkD,KAAMm7B,KACNJ,UAGIJ,EAAiBp/E,KAAK0/E,oBAE5B,OACE,8BACE,cAAC,GAAD,CACEP,SAAU,cAAC,IAAD,CAAkB1+E,GAAG,yCAC/B4+E,YAAaA,EACbC,kBAAmBA,EACnBC,WAAYA,EACZH,eAAgBA,U,GAjCQ1+E,aAwClC++E,GAAoBlyE,aAAe,GASnC,IAIeC,gBAJS,SAACC,GAAD,MAAY,CAClCvB,cAAeuB,EAAMC,IAAIxB,iBAGZsB,CAAyBiyE,IC9DzB,OAA0B,sC,UCA1B,OAA0B,iCCA1B,OAA0B,sCCA1B,OAA0B,oCC8BnCI,G,4JACJ,WACE,MAA2D7/E,KAAKC,MAAxDo/E,EAAR,EAAQA,YAAaG,EAArB,EAAqBA,OAAQttE,EAA7B,EAA6BA,cAAeqtE,EAA5C,EAA4CA,WACtCO,EAAkB,CACtB,CACEr/E,GAAIwN,KACJuV,KAAM,cAAC,IAAD,CAAkB/iB,GAAG,gCAC3BgkD,KAAMs7B,KACNlqE,QAASpD,aAAgBP,IAE3B,CACEzR,GAAIsN,KACJyV,KAAM,cAAC,IAAD,CAAkB/iB,GAAG,oCAC3BgkD,KAAMu7B,GACNnqE,QAASxC,aAAoBnB,IAE/B,CACEzR,GAAImhD,KACJp+B,KAAM,cAAC,IAAD,CAAkB/iB,GAAG,qCAC3BgkD,KAAMw7B,GACNpqE,QAAS5C,aAAqBf,IAEhC,CACEzR,GAAIuN,KACJwV,KAAM,cAAC,IAAD,CAAkB/iB,GAAG,+BAC3BgkD,KAAMy7B,GACNrqE,QAAShD,aAAeX,IAE1B,CACEzR,GAAIkhD,KACJn+B,KAAM,cAAC,IAAD,CAAkB/iB,GAAG,8BAC3BgkD,KAAM07B,GACNtqE,QAASpC,aAAkBvB,IAE7B,CACEzR,GAAIohD,KACJr+B,KAAM,cAAC,IAAD,CAAkB/iB,GAAG,gCAC3BgkD,KAAMlB,KACN1tC,QAAShC,aAAoB3B,KAG3BotE,EAAoB,CACxB97D,KAAM,cAAC,IAAD,CAAkB/iB,GAAG,2BAC3BgkD,KAAMm7B,KACNJ,UAGF,OACE,8BACE,cAAC,GAAD,CACEL,SAAU,cAAC,IAAD,CAAkB1+E,GAAG,qCAC/B4+E,YAAaA,EACbC,kBAAmBA,EACnBC,WAAYA,EACZH,eAAgBU,U,GAtDMp/E,aA6DhCm/E,GAAkBtyE,aAAe,GAQjC,IAIeC,gBAJS,SAACC,GAAD,MAAY,CAClCyE,cAAezE,EAAMC,IAAIwE,iBAGZ1E,CAAyBqyE,IC9FlCO,I,mNACJ3yE,MAAQ,CACN4yE,iBAAkB,oBAClBC,qBAAsB,EACtBC,iBAAkB,I,EAcpBC,wBAA0B,SAACr7E,GACzB,EAAK6gB,SAAS,CACZq6D,iBAAkB,GAClBC,qBAAsBn7E,IAGxB,EAAKlF,MAAMwgF,YAAYt7E,GACvB,EAAKu7E,WAAWv7E,I,EAGlBw7E,oBAAsB,SAAC3uE,GACrB,EAAKgU,SAAS,CACZq6D,iBAAkB,sBAClBE,iBAAkBvuE,K,EAItB4uE,0BAA4B,WAC1B,EAAK56D,SAAS,CACZq6D,iBAAkB,oBAClBC,qBAAsB,K,EAI1BO,oBAAsB,YAEpBC,EAD0B,EAAK7gF,MAAvB6gF,kB,EAIVJ,WAAa,SAACv7E,GACZ,MAA+D,EAAKlF,MAA5D8gF,EAAR,EAAQA,4BAA6Bn3D,EAArC,EAAqCA,OAAQk3D,EAA7C,EAA6CA,cAG7CC,EAA4Bn3D,EAFC,EAAKnc,MAA1B8yE,iBAE8Cp7E,GAEtD27E,K,uDA9CF,WACE,IAAQE,EAAgChhF,KAAKC,MAArC+gF,4BAEJA,GACFhhF,KAAKgmB,SAAS,CACZq6D,iBAAkB,sBAClBE,iBAAkBS,M,oBA2CxB,WAAU,IAAD,OACCzB,EAAev/E,KAAKC,MAApBs/E,WACAc,EAAqBrgF,KAAKyN,MAA1B4yE,iBAER,OACE,qBAAK//E,UAAU,yBAAf,SACI,WACA,OAAQ+/E,GACN,IAAK,sBACH,OACE,cAAC,GAAD,CACEhB,YAAa,EAAKmB,wBAClBhB,OAAQ,EAAKoB,0BACbrB,YAAU,IAGhB,IAAK,oBACH,OACE,cAAC,GAAD,CACEF,YAAa,EAAKsB,oBAClBnB,OAAQ,EAAKqB,oBACbtB,WAAYA,IAGlB,QACE,OAAO,yBAnBX,S,GA9DkB7+E,cAwGb8M,eAAQ,MAPI,SAACyV,GAAD,MAAe,CACxC89D,4BAA6B,SAACn3D,EAAQq3D,EAAwB97E,GAC5D8d,EAASg1D,iBAAetvE,EAAWihB,IACnC3G,EAAS89D,YAA4Bn3D,EAAQq3D,EAAwB97E,QAI1DqI,CAAkC4yE,ICzE3CnlC,GAAiB,IAAIC,KAErBgmC,G,kDACJ,WAAYjhF,GAAQ,IAAD,8BACjB,cAAMA,IASRkhF,cAAgB,SAACj0E,GAAD,OAGdm9B,YAAW,kBAAM,EAAKrkB,SAAS,CAAE9Y,mBAAiB,IAbjC,EAenBk0E,UAAY,WACV,EAAKp7D,SAAS,CACZo7D,WAAW,KAjBI,EAqBnBC,iCAAmC,SAACjmC,EAAgB1zC,GAClD,IAAMkuB,EAAUwlB,EAAexlB,QAE/BzrB,OAAOC,KAAKwrB,GAASzsB,SAAQ,SAACygB,GAC5B,IAAMzkB,EAAeywB,EAAQhM,GAAQzkB,aAChCuC,EAAc6f,SAASpiB,YACnBywB,EAAQhM,GAAQnpB,UAChBm1B,EAAQhM,GAAQzkB,kBA5BV,EAiCnBm8E,mBAAqB,WACnB,MAAqC,EAAKrhF,MAAlCQ,EAAR,EAAQA,GAAIqpB,EAAZ,EAAYA,MAAO5X,EAAnB,EAAmBA,cACnB,GAAI4X,GAASA,EAAM8L,SAAW9L,EAAM8L,QAAQn1B,GAC1C,OAAQqpB,EAAM8L,QAAQn1B,GAAI8hD,sBACxB,KAAKt0C,KACH,OAAO0E,aAAiBT,GAC1B,KAAKlE,KACH,OAAO+E,aAAgBb,GACzB,KAAK0vC,KACH,OAAOzuC,aAAsBjB,GAC/B,KAAKnE,KACH,OAAOwF,aAAqBrB,GAC9B,KAAKyvC,KACH,OAAOhuC,aAAmBzB,GAC5B,KAAK2vC,KACH,OAAO/tC,aAAqB5B,GAC9B,QACE,OAAO,EAIb,OAAO,GAtDU,EAyDnBqvE,qBAAuB,WACrB,MAAqC,EAAKthF,MAAlCQ,EAAR,EAAQA,GAAIqpB,EAAZ,EAAYA,MAAO5X,EAAnB,EAAmBA,cACnB,GAAI4X,GAASA,EAAM8L,SAAW9L,EAAM8L,QAAQn1B,GAC1C,OAAQqpB,EAAM8L,QAAQn1B,GAAI8hD,sBACxB,KAAKt0C,KACH,OAAO2E,aAAmBV,GAC5B,KAAKlE,KACH,OAAOgF,aAAkBd,GAC3B,KAAK0vC,KACH,OAAOxuC,aAAwBlB,GACjC,KAAKnE,KACH,OAAOyF,aAAuBtB,GAChC,KAAKyvC,KACH,OAAO/tC,aAAqB1B,GAC9B,KAAK2vC,KACH,OAAO9tC,aAAuB7B,GAChC,QACE,OAAO,EAIb,OAAO,GA9EU,EAiFnBw5D,gBAAkB,WAChB,MAAsB,EAAKzrE,MAAnBQ,EAAR,EAAQA,GAAIqpB,EAAZ,EAAYA,MAGZ,OAFiC,EAAKrc,MAA9B6yE,sBAEwBx2D,EAAM8L,QAAQn1B,IAAOqpB,EAAM8L,QAAQn1B,GAAI0E,cAnFvE,EAAKsI,MAAQ,CACXP,cAAc,EACdk0E,WAAW,EACXd,qBAAsB,EACtBkB,eAAe,GANA,E,0CAwFnB,WAAU,IAAD,OACP,EAWIxhF,KAAKC,MAVPiM,EADF,EACEA,cACAzL,EAFF,EAEEA,GACAiQ,EAHF,EAGEA,KACAoZ,EAJF,EAIEA,MACA7G,EALF,EAKEA,SACAkwD,EANF,EAMEA,eACAh9D,EAPF,EAOEA,KACAsrE,EARF,EAQEA,WACA3H,EATF,EASEA,kBACA5nE,EAVF,EAUEA,cAEF,EAA0DlS,KAAKyN,MAAvDP,EAAR,EAAQA,aAAck0E,EAAtB,EAAsBA,UAAWd,EAAjC,EAAiCA,qBAC3BoB,EAAYltD,KAAW,CAC3BmtD,WAAYz0E,EACZ,gBAAiBimE,EAAe5rD,SAAS9mB,KAGrC0E,EAAenF,KAAK0rE,kBACtBtmE,EAAiB,uBACrB,GAAI8G,EAAe,CACjB,IAAMhI,EAAOgI,EAAc62B,kBAAkB59B,GACzCjB,GAAQA,EAAK1B,OAAS,IACxB4C,EAAc,WAAOlB,EAAP,MAEZu9E,IAAeL,IACjBh8E,EAAc,UAAMA,EAAN,YAAwBq8E,IAGxC,IAAMG,EACJ11E,GACAA,EAAcnI,aACdmI,EAAcnI,YAAYC,KAAI,SAACC,GAAD,OAAgBA,EAAWxD,MACvDmhF,GACF5hF,KAAKqhF,iCAAiCv3D,EAAO83D,GAIjD,IAAMC,EAAkB/3D,EAAM8L,SAAW9L,EAAM8L,QAAQn1B,IAAOqpB,EAAM8L,QAAQn1B,GAAI0E,aAC1E67E,GACHa,GACD/3D,EAAM8L,SACN9L,EAAM8L,QAAQn1B,IACdqpB,EAAM8L,QAAQn1B,GAAI8hD,qBAEdu/B,EAAkB,GA0BxB,OAxBIvvE,aAAeL,IACjB4vE,EAAgBl7E,KAAK,cAAC,eAAD,GAAiB,gBAGxCk7E,EAAgBl7E,KACd,cAACkV,EAAA,EAAD,CACEzF,QAASF,EAAKG,SAAS,uCACvB9V,QAAS,kBAAM,EAAK4gF,UAAU3gF,IAC9BmV,QAAS0gB,KAETzgB,QAAS7V,KAAKshF,sBADV,eAIRQ,EAAgBl7E,KACd,cAACkV,EAAA,EAAD,CACEzF,QAASF,EAAKG,SAAS,qBACvB9V,QAAS,kBAAM,EAAKP,MAAM8hF,eAC1BnsE,QAASosE,KAET70E,MAAO,CAAEC,MAAO,OAAQC,OAAQ,QAChCwI,QAASurE,IAAcS,GAAmB7hF,KAAKuhF,wBAF3C,uBAON,cAAC,gBAAD,CACEjhF,UAAWohF,EACXO,WAAY,kBAAMn5C,KAAQC,YAC1B3oC,OACGkgF,GACEx2D,EAAM8L,SAAW9L,EAAM8L,QAAQn1B,IAAOqpB,EAAM8L,QAAQn1B,GAAIm3B,UAC3D53B,KAAKC,MAAMkW,KAAK+rE,cACd,CACEzhF,GACE6/E,GAAwBmB,EACpB,sCACA33D,EAAM8L,QAAQn1B,GAAIm3B,SAE1B,CACExyB,mBAIN08E,gBAAiBhI,EAAoBgI,EAAkB,GACvDpxE,KAAMA,EACNqvB,UAAWxtB,aAAeL,GApB5B,SAsBE,cAAC,GAAD,CAAYZ,KAAMtR,KAAMijB,SAAUA,EAAUkwD,eAAgBA,EAA5D,UACIiO,GAAaS,EACb5mC,GAAekH,mBAAmBr4B,EAAM8L,QAAQn1B,GAAhD,2BACKqpB,EAAM8L,QAAQn1B,GAAI+hD,aADvB,IAEE/hD,KACA0E,aAAc2kB,EAAM8L,QAAQn1B,GAAI0E,gBAEhC20E,EACF,cAAC,GAAD,CACElwD,OAAQnpB,EACRqgF,cAAe,kBAAM,EAAK96D,SAAS,CAAEo7D,WAAW,EAAOd,qBAAsB,KAC7EG,YAAa,SAACH,GAAD,OAA0B,EAAKt6D,SAAS,CAAEs6D,0BACvDf,WAAY6B,EACZJ,4BAA6BA,IAG/B,cAAC,GAAD,Y,GAxMUtgF,aAgNtBwgF,GAAQ3zE,aAAe,CACrB4lE,eAAgB,IAWlB,IA6Be3lE,gBA7BS,SAACC,EAAOkc,GAC9B,IAAQG,EAAcH,EAAdG,MAAOrpB,EAAOkpB,EAAPlpB,GACT0E,EAAeiD,cAAc,kBAAM0hB,EAAM8L,QAAQn1B,GAAI0E,gBACrD+G,EAAgBuB,EAAMC,IAAIxB,cAC1B4tE,EAAoBrsE,EAAMmoB,QAAQkkD,kBAClC5nE,EAAgBzE,EAAMC,IAAIwE,cAE5BuvE,EAAar5E,cAAc,kBAAMqF,EAAM1J,YAAYoB,GAAc2kB,MAAMrpB,GAAIghF,cAC/E,GAAIA,EAAY,CACd,IAAMr8E,EAAiB8G,EAAc62B,kBAAkB59B,GAEvD,MAAO,CACL+G,gBACAu1E,WAHFA,EAAaA,EAAWtgF,QAAX,sBAAkCiE,EAAlC,KAAqD,IAIhE00E,oBACA5nE,iBAGJ,MAAO,CACLhG,gBACA4tE,oBACA5nE,oBAIuB,WACzB,MAAO,KAGM1E,CAA6C+zB,aAAW2/C,KCjRjEiB,GAAU,SAAC,GASV,IARLr4D,EAQI,EARJA,MACAhD,EAOI,EAPJA,SACA+3D,EAMI,EANJA,aACAhF,EAKI,EALJA,gBACAuI,EAII,EAJJA,sBACAn/D,EAGI,EAHJA,SACAlf,EAEI,EAFJA,YACAmO,EACI,EADJA,cAEMmwE,EAAS9oD,iBAAO,MACtB,EAAsC7O,wBAAS/hB,GAA/C,mBAAO25E,EAAP,KAAoBC,EAApB,KACMC,EAAehuD,KAAW,CAC9B,oBAAoB,EACpB,qBAAsBqlD,EACtB,kBAAmBgF,IAGrB,IAAK/0D,EACH,OAAO,EAET,IAAMqpD,EAAiBhpE,OAAOC,KAAKrG,GAAaC,KAC9C,SAACC,GAAD,OACEF,EAAYE,GAAY4lB,aAAe9lB,EAAYE,GAAY4lB,YAAY8d,iBAczE86C,EAAY,WAChB,IAAQ74D,EAAyB04D,EAAzB14D,OAAQlZ,EAAiB4xE,EAAjB5xE,KAAM6J,EAAW+nE,EAAX/nE,OAChBpV,EAAe2kB,EAAM8L,QAAQhM,IAAWE,EAAM8L,QAAQhM,GAAQzkB,aAL/B,kBAAvB2kB,EAAMsqB,cAOlBnxB,EAASgpC,eAEXhpC,EAASg1D,YAAe9yE,EAAcykB,IAEtCrP,EAAO7J,IAGT,OACE,sBAAKpQ,UAAWkiF,EAAhB,UACE,cAACziF,GAAA,EAAD,CACEI,UAAsBwI,IAAhB25E,EACNpiF,QAAS,SAACghD,GAAD,OA1BkB,SAACA,GAC5BA,GACFuhC,IAEFF,OAAe55E,GAsBa+5E,CAAyBxhC,IACjD7gD,QAAS,cAAC,IAAD,CAAkBI,GAAG,oCAEhC,cAAC,UAAD,CACEqmB,SAAU,SAAC67D,GACT77D,EAAS67D,GACTP,KAEFn6D,IAAKo6D,EACLO,WAAY,SAACniF,EAAIiQ,GAAL,OACV,cAAC,iBAAcmyE,SAAf,UACG,YAAwB,IACftoE,EADc,EAApBuoE,cACMvoE,OACR,OACE,cAAC,GAAD,CACE9Z,GAAIA,EACJiQ,KAAMA,EACNoZ,MAAOA,EACP7G,SAAUA,EACVkwD,eAAgBA,EAChB4O,YAAa,WACXQ,EAAe,CAAE34D,OAAQnpB,EAAIiQ,OAAM6J,kBAO/C65B,aAActqB,EAAMsqB,aACpB2uC,OAAQxwE,aAAeL,GAAiB,GAAK,iBAMrDiwE,GAAQ50E,aAAe,CACrBsxE,cAAc,EACdhF,iBAAiB,EACjB/vD,WAAOnhB,GAYT,IAUe6E,gBAVS,SAACC,GAAD,MAAY,CAClC1J,YAAa0J,EAAM1J,YACnBmO,cAAezE,EAAMC,IAAIwE,kBAGA,SAAC+Q,GAAD,MAAe,CACxCm/D,sBAAuB,kBAAMn/D,EAAS+/D,gBACtC//D,SAAU,SAACqkC,GAAD,OAAYrkC,EAASqkC,OAGlB95C,CAA6C20E,ICxGtDc,G,4MAEJx1E,MAAQ,CACNwtC,eAAgB,IAAIC,KACpBgoC,4BAA6BC,MAAS,kBAAM,EAAKljF,MAAMmiF,0BAAyB,M,EAgDlFgB,mB,sBAAqB,sBAAA//E,EAAA,sDACnB,EAAKpD,MAAMojF,uCADQ,2C,EAIrBC,sBAAwB,WACtB,EAAKrjF,MAAMsjF,iC,wDAlDb,SAAmBp1D,GACjBA,EAAMF,iBACNE,EAAMq1D,YAAc,K,+BAGtB,WACE,IAAKxjF,KAAKC,MAAMm7C,eAAgB,CAC9B,IAAMqoC,EAAY1hC,KACZnsB,EAAU51B,KAAKyN,MAAMwtC,eAAegH,WAAWwhC,GACrDzjF,KAAKC,MAAMq7C,WAAW1lB,EAASA,EAAQn1B,IAGrCT,KAAKC,MAAMyjF,oBACb1jF,KAAKC,MAAM0jF,0BAA0B3jF,KAAKC,MAAMyjF,oBAG9C1jF,KAAKC,MAAMmD,UAAYpD,KAAKC,MAAMknD,QACpCnnD,KAAKojF,mBAAmBpjF,KAAKC,MAAMmD,UAGrCpC,OAAOswB,iBAAiB,SAAUtxB,KAAKyN,MAAMy1E,+B,kCAG/C,WACEliF,OAAOuwB,oBAAoB,SAAUvxB,KAAKyN,MAAMy1E,+B,8CAGlD,SAAiCt6D,GAC3BA,EAAUu+B,SAAWnnD,KAAKC,MAAMknD,QAAUv+B,EAAUxlB,UAAYwlB,EAAUu+B,QAC5EnnD,KAAKojF,mBAAmBx6D,EAAUxlB,UAEhCwlB,EAAUu+B,SAAWnnD,KAAKC,MAAMknD,QAAWv+B,EAAUu+B,QACvDnnD,KAAKsjF,0B,gCAIT,SAAmBxzD,GACU9vB,KAAKC,MAAxByjD,gBACc5zB,EAAUsrB,eAC9Bp6C,OAAOswB,iBAAiB,eAAgBtxB,KAAK4jF,oBAE7C5iF,OAAOuwB,oBAAoB,eAAgBvxB,KAAK4jF,sB,+BAYpD,WACE,IAAMngC,EAAezjD,KAAK6jF,QAAQtvB,MAAMuvB,WACxC9jF,KAAKC,MAAM0kD,gBAAgB3kD,KAAKC,MAAMmD,SAAUqgD,K,oBAGlD,WAAU,IAAD,OACP,EAQIzjD,KAAKC,MAPPgN,EADF,EACEA,OACAmuC,EAFF,EAEEA,eACAy+B,EAHF,EAGEA,gBACAgF,EAJF,EAIEA,aACAkF,EALF,EAKEA,sBACAhgC,EANF,EAMEA,eACAoxB,EAPF,EAOEA,cAGF,OAAKn1E,KAAKC,MAAMiP,MAASlP,KAAKC,MAAMkV,UAKlC,cAAC,IAAD,CAAclI,OAAQA,EAAQqJ,SAAUwpD,KAAa7yD,GAArD,SACE,sBAAK3M,UAAU,gBAAf,UACE,cAAC,EAAD,CACE4kE,UAAW6e,EACX1jF,QAAS0jF,GAAyBA,EAAsB1jF,UAE1D,cAAC,GAAD,CAAesyE,YAAa3yE,KAAKC,MAAM0yE,cACvC,cAAC,GAAD,CACE7oD,MAAOsxB,EACPt0B,SAAU,SAAC67D,GACT,EAAK1iF,MAAM+jF,UAAUrB,IAEvB9I,gBAAiBA,EACjBgF,aAAcA,IAEhB,cAACoF,GAAD,CAAkBzzC,OAAQ,kBAAM,EAAK06B,uBACrC,cAACp+D,GAAA,EAAD,CAAU3M,KAAM4jD,EAAgB7jD,QAAS,kBAAMi1E,YApB5C,cAAC,IAAD,CAAUl4B,GAAG,U,GA7EDv8C,aAAnBuiF,GACGiB,YAAcC,IAuGvBlB,GAAW11E,aAAe,CACxBssE,iBAAiB,EACjBgF,cAAc,EACdz7E,cAAUuF,EACV2pE,qBAAiB3pE,EACjBuG,UAAMvG,EACNwM,eAAWxM,EACX1H,SAAU,CAAEwM,MAAO,IACnB2tC,oBAAgBzyC,GAsBlB,IA4Ce6E,gBA5CS,SAACC,GAAD,MAAY,CAClCs2C,eAAgBt2C,EAAMC,IAAIq2C,eAC1B92C,OAAQQ,EAAMC,IAAIT,OAClB7J,SAAUqK,EAAMC,IAAItK,SACpB+jD,OAAQ15C,EAAMC,IAAIy5C,OAClBj4C,KAAMzB,EAAMC,IAAIwB,KAChBiG,UAAW1H,EAAMC,IAAIyH,UACrBimC,eAAgB3tC,EAAMmoB,QAAQwlB,eAC9By+B,gBAAiBpsE,EAAMmoB,QAAQikD,gBAC/BgF,aAAcpxE,EAAMmoB,QAAQipD,aAC5B6E,mBAAoBj2E,EAAMmoB,QAAQ8tD,mBAClCpO,gBAAiB7nE,EAAMC,IAAI4nE,gBAC3ByO,sBAAuBt2E,EAAMC,IAAIq2E,sBACjC3B,sBAAuB9lE,KAAUq9C,KAAK7E,WACtCpR,eAAgBj2C,EAAMmoB,QAAQ8tB,mBAGL,SAACzgC,GAAD,MAAe,CACxCkyD,cAAe,WACblyD,EAASkyD,gBAEX75B,WAAY,SAAC1lB,EAAS6tD,GACpBxgE,EAASq4B,aAAW1lB,EAAS6tD,KAE/BO,UAAW,SAACrB,GACV1/D,EAASmhE,YAAiBzB,KAE5BU,qCAAsC,WACpCpgE,EAASogE,gBAEXE,8BAA+B,WAC7BtgE,EAASsgE,gBAEX5+B,gBAAiB,SAACvhD,EAAUqJ,GAC1BwW,EAAS0hC,YAAgBvhD,EAAUqJ,KAErC21E,sBAAuB,WACrBn/D,EAAS+/D,gBAEXW,0BAA2B,SAACz/E,GAC1B+e,EAAS0gE,YAA0Bz/E,QAIxBsJ,CAA6Cy1E,ICpK7CoB,GA7BH,SAAC,GAAsC,IAApCn1E,EAAmC,EAAnCA,KAAMiG,EAA6B,EAA7BA,UAAWw9D,EAAkB,EAAlBA,YAQ9B,OAPiBrtC,aACjBriB,CAAS,CACPze,KAAM,SACN2Q,YACAjG,SAIA,cAAC,IAAD,UACE,gCACE,cAAC,IAAD,CAAOo1E,OAAK,EAAC5zE,KAAM,IAAK6zE,OAAQ,kBAAM,cAAC,IAAD,CAAUtnC,GAAG,YACnD,cAAC,IAAD,CACEvsC,KAAM,OACN6zE,OAAQ,SAACtkF,GAAD,OAAW,cAAC,GAAD,2BAAgBA,GAAhB,IAAuB0yE,YAAaA,QAEzD,cAAC,IAAD,CAAOjiE,KAAM,UAAW8sB,UAAWm0C,KACnC,cAAC,IAAD,CAAOjhE,KAAM,eAAgB8sB,UAAWy3C,KACxC,cAAC,IAAD,CACEvkE,KAAM,UACN6zE,OAAQ,SAACtkF,GAAD,OAAW,cAAC,GAAD,2BAAgBA,GAAhB,IAAuB0yE,YAAaA,QAEzD,cAAC,IAAD,CAAOjiE,KAAM,mBAAoB8sB,UAAWyuC,KAC5C,cAAC,IAAD,CAAOv7D,KAAM,YAAa8sB,UAAW6zC,W,UC1BvCmT,GAAa,CACjBp3E,MAAO,IACPq+B,OAAQ,GACR/f,QAAS,GACT1D,QAAS,gBAiEIy8D,G,kDA7Db,WAAYxkF,GAAQ,IAAD,8BACjB,cAAMA,IAORykF,SAAW,SAACnrE,GACVA,EAAE0U,iBACFtZ,aAAM,EAAKlH,MAAM0B,SAAU,EAAK1B,MAAMmH,UACnCmF,MAAK,SAAC7a,GAAD,OAAU,EAAKe,MAAM0kF,QAAQzlF,MAClCs3C,OAAM,kBAAM,EAAKxwB,SAAS,CAAE4+D,aAAa,QAV5C,EAAKn3E,MAAQ,CACX0B,SAAU,KACVyF,SAAU,MAJK,E,0CAenB,WAAU,IAAD,OACP,OACE,qBAAKtU,UAAU,mCAAmCG,GAAG,aAArD,SACE,eAACqlE,EAAA,EAAD,CAAO8U,UAAW,EAAGztE,MAAOq3E,GAA5B,UACGxkF,KAAKyN,MAAMm3E,YAAc,mBAAGtkF,UAAU,MAAb,2BAAuC,KACjE,uBAAMokF,SAAU1kF,KAAK0kF,SAArB,UACE,cAACzrD,EAAA,EAAD,CACE5V,MAAM,WACNlW,MAAO,CAAEC,MAAO,QAChBq+B,OAAO,QACPjnC,KAAK,WACLsiB,SAAU,SAACvN,GACT,EAAKyM,SAAS,CACZ7W,SAAUoK,EAAEkS,OAAO5pB,WAIzB,uBACA,cAACo3B,EAAA,EAAD,CACE5V,MAAM,WACNlW,MAAO,CAAEC,MAAO,QAChBy3E,aAAa,mBACbp5C,OAAO,QACPjnC,KAAK,WACLsiB,SAAU,SAACvN,GACT,EAAKyM,SAAS,CACZpR,SAAU2E,EAAEkS,OAAO5pB,WAIzB,uBACA,uBACA,cAACo7B,EAAA,EAAD,CAAQC,QAAQ,YAAY38B,MAAM,UAAUiE,KAAK,SAAjD,+B,GAhDY9D,a,4DC0KxB,SAASokF,GAAoBC,EAAkBt3E,GAC7C,IAAIu3E,EAAgB,YAAOv3E,EAAM4mD,eAC7B/kD,EAqBN,SAAoCA,EAAcrC,GAChD,IAAMg4E,EAAO,IAAI3gC,KACX4gC,EAAc,CAAEC,IAAK,UAAWC,MAAO,UAAWC,KAAM,WACxDC,EAAc,CAAEC,KAAM,UAAWC,OAAQ,UAAW3iC,OAAQ,WAC5DuK,EAAS,UAAM63B,EAAKQ,eAAex4E,EAAQi4E,GAAlC,YAAkDD,EAAKQ,eACpEx4E,EACAq4E,IAQF,OALAh2E,EAAY,2BACPA,GADO,IAEV89C,UAAWA,IAhCMs4B,CAA2BX,EAAkBt3E,EAAMR,QAkBtE,OAoBF,SAAmD04E,EAAqBtxB,GACtE,GAAIA,GAAiBA,EAAc7xD,OAAS,EAC1C,OAAO4tB,KAAQu1D,EAAoBtlF,QAASg0D,EAAc,GAAGh0D,SAG/D,OAAO,EAzCwBulF,CAC7Bt2E,EACA01E,GAOAA,EAAiB,GAAKa,GAAwBb,EAAiB,KAH/D11E,EAAeu2E,GAAwBv2E,GACvC01E,EAAiB9G,QAAQ5uE,IAKvB01E,GAAoBA,EAAiBxiF,OAjML,IAkMlCwiF,EAAiBj/D,QAAQ,EAAG,GAGvBi/D,EA4BT,SAASa,GAAwBv2E,GAC/B,IAAI4vB,EAAQ5vB,EAAa4vB,MAYzB,YAXcv2B,IAAVu2B,EACFA,EAAQ,EAERA,IAGF5vB,EAAY,2BACPA,GADO,IAEV4vB,UAMW4mD,OA9MI,SAACxvB,GAClB,IAAMyvB,EAlCR,YAA6E,IAA5CC,EAA2C,EAA3CA,aAAc/iE,EAA6B,EAA7BA,SAAU/T,EAAmB,EAAnBA,KAAMiG,EAAa,EAAbA,UACvD+2B,EAAY,IAAIsa,KAAkBw/B,EAAc/iE,EAAU9N,GAC1DqT,EAAQ,IAAIs/B,KAAM7kC,GAClBi4D,EAAoB,IAAI9sE,KAAkB,IAC1ClG,EAA4B,IAAInG,IAChCkL,EAAS1B,aAAaC,QAAQ,kBAEpC,OADA3L,KAAO6/D,SAASl3C,GACT,CACLy9D,WAAY,KACZ5xB,cAAe,GACf94C,KAAM,EACN2qE,kBAAkB,EAClBj5E,OAAQA,GAAU,KAClBkI,YACAjG,OACA0N,YAAa,KACb0K,kBAAmB,GACnB4kB,YACA9oC,cAAUuF,EACVw+C,YAAQx+C,EACR6f,QACA29D,wBAAwB,EACxBC,2BAA4B,EAC5BrC,sBAAuB,KACvB/2E,gBAAiB,KACjB+2C,gBAAgB,EAChB73C,cAAe,KACfgvE,oBACAhzE,4BACA2gB,wBAAwB,GAKHw9D,CAAsB/vB,GAC7C,OAAO,WAAqC,IAApC7oD,EAAmC,uDAA3Bs4E,EAAgBz+B,EAAW,uCACzC,OAAQA,EAAO9iD,MACb,IAAK,kCAEH,OADAiJ,EAAM+a,MAAM89D,+BACL74E,EACT,IAAK,eACH,IAAQrK,EAAqBkkD,EAArBlkD,SAAU+jD,EAAWG,EAAXH,OAGlB,OAFA/jD,EAASwjD,UAAUO,GACnB15C,EAAM+a,MAAM6+B,YAAYjkD,GACjB+G,OAAOE,OAAO,GAAIoD,EAAO,CAAErK,WAAU+jD,WAE9C,IAAK,mBACH,IAAM69B,EAAmBF,GAAoBx9B,EAAOh4C,aAAc7B,GAElE,OAAOtD,OAAOE,OAAO,GAAIoD,EAAO,CAC9B4mD,cAAe2wB,IAGnB,IAAK,SAGH,OAFA1rB,aAAsBhS,EAAOnyC,UAAWmyC,EAAOp4C,MAC/CzB,EAAMy+B,UAAU6a,iBAAiBO,EAAOnyC,WACjC,2BAAK1H,GAAZ,IAAmB0H,UAAWmyC,EAAOnyC,UAAWjG,KAAMo4C,EAAOp4C,OAC/D,IAAK,UAGH,OAFAmqD,eACAhvB,YAAW,kBAAM58B,EAAMy+B,UAAUua,gBAC1Bh5C,EACT,IAAK,qBAEH,OADA4rD,eACO,2BAAK5rD,GAAZ,IAAmB0H,eAAWxM,EAAWuG,UAAMvG,IACjD,IAAK,aAEH,OADA4C,aAAaqB,QAAQ,iBAAkB06C,EAAOr6C,QACvC,2BAAKQ,GAAZ,IAAmBR,OAAQq6C,EAAOr6C,SACpC,IAAK,uBACH,OAAO9C,OAAOE,OAAO,GAAIoD,EAAO,CAC9By4E,kBAAmBz4E,EAAMy4E,mBAG7B,IAAK,8BACH,IAAQ7lF,EAAYinD,EAAZjnD,QAER,OADAR,KAAOC,KAAK,CAAEO,WAAW,kCAClB,2BACFoN,GADL,IAEEs2E,sBAAuB,CACrB1jF,aAIN,IAAK,8BAEH,OADAR,KAAOC,KAAK,iCACL,2BACF2N,GADL,IAEEs2E,sBAAuB,OAE3B,IAAK,mBAEH,OADAt2E,EAAM+a,MAAM+9D,QAAQj/B,EAAO/rC,MACpB9N,EACT,IAAK,wBACH,OAAO,2BACFA,GADL,IAEEmP,YAAa0qC,EAAO/rC,OAExB,IAAK,yBACH,OAAO,2BACF9N,GADL,IAEE6Z,kBAAmBggC,EAAOhgC,oBAE9B,IAAK,+BACH,OAAO,2BACF7Z,GADL,IAEE24E,2BAA4B9+B,EAAOk/B,WAGvC,IAAK,mCACH,OAAO,2BACF/4E,GADL,IAEE04E,uBAAwB7+B,EAAOm/B,YAEnC,IAAK,oBACH,OAAO,2BACFh5E,GADL,IAEEvB,cAAeo7C,EAAOp7C,gBAE1B,IAAK,yBACH,OAAO,2BACFuB,GADL,IAEEytE,kBAAmB5zB,EAAO4zB,oBAE9B,IAAK,kCACH,OAAO,2BACFztE,GADL,IAEEvF,0BAA2Bo/C,EAAOr8C,WAEtC,IAAK,wBACH,OAAO,2BACFwC,GADL,IAEET,gBAAiBs6C,EAAOt1C,WAG5B,IAAK,iBAML,IAAK,kBACH,OAAO,2BACFvE,GADL,IAEEs2C,eAAgBuD,EAAOvD,iBAG3B,IAAK,wBACH,OAAO,2BACFt2C,GADL,IAEEqE,iBAAkBw1C,EAAOx1C,mBAG7B,IAAK,qBACH,OAAO,2BACFrE,GADL,IAEEyE,cAAeo1C,EAAOp1C,gBAG1B,IAAK,gCACH,OAAO,2BACFzE,GADL,IAEEob,uBAAwBy+B,EAAO4d,UAGnC,IAAK,6BACH,OAAO,2BACFz3D,GADL,IAEEo9D,sBAAuBvjB,EAAO76C,QAGlC,QACE,OAAOgB,KCpLTi5E,GAAe,CACnBl+C,UAAW,MAeEm+C,GAZQ,WAAmC,IAAlCl5E,EAAiC,uDAAzBi5E,GAAcp/B,EAAW,uCACvD,MACO,kBADCA,EAAO9iD,KAEJ,2BACFiJ,GADL,IAEE+6B,UAAW8e,EAAO9e,YAGb/6B,G,qBCTPm5E,GAAwB,SAACh9D,EAAQnc,GAAT,OAC5BtD,OAAOC,KAAKqD,GAAOzC,MACjB,SAAC7F,GAAD,OACEsI,EAAMtI,IAAiBsI,EAAMtI,GAAc2kB,SAAWrc,EAAMtI,GAAc2kB,MAAMF,OA+KvEi9D,GA5KS,WAAyB,IAAxBp5E,EAAuB,uDAAf,GAAI65C,EAAW,uCACtCniD,EAA8BmiD,EAA9BniD,aAAcykB,EAAgB09B,EAAhB19B,OAAQhoB,EAAQ0lD,EAAR1lD,IAC9B,OAAQ0lD,EAAO9iD,MACb,IAAK,mBACH,IAAMW,EAAemiD,EAAOniD,cAAgByhF,GAAsBt/B,EAAO19B,OAAQnc,GACjF,OAAKtI,GAIAsI,EAAMtI,GAIJ2hF,KAAKr5E,EAAO,CAAC,GAAD,OACdtI,EADc,8BACoBmiD,EAAO19B,QAD3B,UAEdzkB,EAFc,kBAEQmiD,EAAO19B,QAChCnc,EAAMtI,GAAc0kB,YAAY8d,gBAAkB2f,EAAO19B,QAAzD,UACKzkB,EADL,gCAVOsI,EAcX,IAAK,oBACH,OAAKA,EAAMtI,GAIJ,2BACFsI,GADL,mBAEGtI,EAFH,2BAGOsI,EAAMtI,IAHb,IAII0kB,YAAY,2BACPpc,EAAMtI,GAAc0kB,aADd,IAET8d,cAAe/d,QATZnc,EAeX,IAAK,wBACH,OAAKA,EAAMtI,GAIJ,2BACFsI,GADL,mBAEGtI,EAFH,2BAGOsI,EAAMtI,IAHb,IAII0kB,YAAY,2BACPpc,EAAMtI,GAAc0kB,aADd,IAET4a,gBAAiB6iB,EAAO1jB,QACxBM,kBAAmBojB,EAAOy/B,iBAVvBt5E,EAgBX,IAAK,gCACH,OAAKA,EAAMtI,GAIJ,2BACFsI,GADL,mBAEGtI,EAFH,2BAGOsI,EAAMtI,IAHb,IAII0kB,YAAY,2BACPpc,EAAMtI,GAAc0kB,aADd,IAETqa,kBAAmBojB,EAAOy/B,iBATvBt5E,EAeX,IAAK,gBACH,OAAO,2BACFA,GADL,mBAEGtI,EAFH,2BAGOsI,EAAMtI,IAHb,IAII2kB,MAAM,2BACArc,EAAMtI,GAAgBsI,EAAMtI,GAAc2kB,MAAQ,IADnD,mBAEFF,EAFE,2BAGGnc,EAAMtI,IAAiBsI,EAAMtI,GAAc2kB,MAC3Crc,EAAMtI,GAAc2kB,MAAMF,GAC1B,IALH,mBAMAhoB,EAAM0lD,EAAOpoD,aAMxB,IAAK,sBACH,OAAO,2BACFuO,GADL,mBAEGtI,EAFH,2BAGOsI,EAAMtI,IAHb,IAII2kB,MAAM,2BACArc,EAAMtI,GAAgBsI,EAAMtI,GAAc2kB,MAAQ,IADnD,mBAEFF,EAFE,2BAGGnc,EAAMtI,IAAiBsI,EAAMtI,GAAc2kB,MAC3Crc,EAAMtI,GAAc2kB,MAAMF,GAC1B,IALH,IAMDlN,WAAY4qC,EAAO5qC,WACnB8T,cAAe82B,EAAO92B,sBAMhC,IAAK,wBACH,IAAMmX,EAAgB2f,EAAO19B,QAAUnc,EAAMtI,GAAc0kB,YAAY8d,cACjEq/C,EAAQ,2BACTv5E,GADS,mBAEXtI,EAFW,2BAGPsI,EAAMtI,IAHC,IAIV0kB,YAAY,2BACNpc,EAAMtI,GAAgBsI,EAAMtI,GAAc0kB,YAAc,IADnD,IAETC,MAAM,2BACArc,EAAMtI,GAAgBsI,EAAMtI,GAAc0kB,YAAYC,MAAQ,IAD/D,mBAEF6d,EAFE,2BAGGl6B,EAAMtI,GACNsI,EAAMtI,GAAc0kB,YAAYC,MAAM6d,GACtC,IALH,mBAMA/lC,EAAM0lD,EAAOpoD,eAMxB,OAAO8nF,EAGT,IAAK,kBACH,IAAQx9D,EAA+B89B,EAA/B99B,UAAWC,EAAoB69B,EAApB79B,gBAEbu9D,EAAQ,2BACTv5E,GADS,mBAEXtI,EAFW,2BAGPsI,EAAMtI,IAHC,IAIV0kB,YAAY,2BACNpc,EAAMtI,GAAgBsI,EAAMtI,GAAc0kB,YAAc,IADnD,IAETC,MAAM,2BACArc,EAAMtI,GAAgBsI,EAAMtI,GAAc0kB,YAAYC,MAAQ,IAD/D,mBAEFF,EAASxhB,cAAc,kBAAMqF,EAAMtI,GAAc0kB,YAAYC,MAAMF,MAA1D,2BAEDH,GACAhc,EAAMtI,GAAc0kB,YAAYC,MAAMF,IAE3CH,MAGRK,MAAM,2BACArc,EAAMtI,GAAgBsI,EAAMtI,GAAc2kB,MAAQ,IADnD,mBAEFF,EAASxhB,cAAc,kBAAMqF,EAAMtI,GAAc2kB,MAAMF,MAA9C,2BACDJ,GAAc/b,EAAMtI,GAAc2kB,MAAMF,IAC7CJ,QAKJib,EACJuiD,EAAS7hF,IACT6hF,EAAS7hF,GAAc0kB,cACtBm9D,EAAS7hF,GAAc0kB,YAAY4a,iBAAmB,IAAI1iC,KAG7D,OAFAilF,EAAS7hF,GAAc0kB,YAAY4a,gBAAkBA,EAE9CuiD,EAGT,QACE,OAAOv5E,IC/KPwtC,GAAiB,IAAIC,KAErBwrC,GAAe,WAKnB,MAAO,CACLtrC,oBAAgBzyC,EAChB2sE,gBAAiB,GACjB0E,gBAAgB,EAChBiN,mCAA+Bt+E,EAC/BmqB,sBAAuB,EACvB+mD,gBAVgF,SAArDtuE,aAAaC,QAAQ,8BAUP,EACzCqzE,aAV0E,SAAlDtzE,aAAaC,QAAQ,2BAUV,EACnCk4E,mBAVyBn4E,aAAaC,QAAQ,yBAUJ,KAC1CsuE,mBAAmB,EACnBp2B,gBAAgB,IAIdwjC,GAAsB,SAACC,EAAqB15E,GAEhD,OADA05E,EAAoBhG,eAAc,GAC3B,2BACF1zE,GADL,IAEEusE,gBAAgB,EAChBiN,8BAA+BE,KAI7BC,GAAsB,SAACD,EAAqB15E,GAEhD,OADA05E,EAAoBhG,eAAc,GAC3B,2BACF1zE,GADL,IAEEusE,gBAAgB,EAChBiN,mCAA+Bt+E,KAI7B0+E,GAA6B,SAACnjF,EAAMoxE,GACxC,IAAMmO,EAAYt5E,OAAOC,KAAKkrE,GAAiBtqE,MAC7C,SAACy4E,GAAD,OAAenO,EAAgBmO,IAAcnO,EAAgBmO,GAAWv/E,OAASA,KAEnF,OAAOu/E,GAAanO,EAAgBmO,IAGhChK,GAAgB,SAAC7jD,EAASnoB,GAC9B,IAAMg2E,EAAY7tD,EAAQn1B,GACpB6mF,EAAS75E,EAAM6nE,gBAAgBmO,GAC/B8D,EAAgBD,GAAUrsC,GAAegH,WAAWwhC,GACpD+D,EAAkBF,EAA0C,GAA3C,gBAAa7D,EAAY8D,GAOhD,OALc,2BACT95E,GADS,IAEZ2tC,eAAgBmsC,EAChBjS,gBAAiBnrE,OAAOE,OAAO,GAAIoD,EAAM6nE,gBAAiBkS,MAKxDC,GAAuB,SAACh6E,EAAOmoB,EAAS6tD,GAC5C,OAAO,2BACFh2E,GADL,IAEE2tC,eAAgBxlB,EAChB0/C,gBAAgB,2BACX7nE,EAAM6nE,iBADI,mBAEZmO,EAAY7tD,IAEf8tB,gBAAgB,KAIdi0B,GAAgB,SAAClqE,EAAOvJ,GAC5B,IAAQoxE,EAAoB7nE,EAApB6nE,gBAEJoS,EAAqBv9E,OAAOC,KAAKkrE,GAClCvpD,QAAO,SAACtrB,GAAD,OAAQA,IAAOyD,KACtBwuB,QAAO,SAACi1D,EAAGC,GAAJ,mBAAC,eAAeD,GAAhB,mBAAoBC,EAAItS,EAAgBsS,OAAO,IAEzD,GAA+C,IAA3Cz9E,OAAOC,KAAKs9E,GAAoBllF,OAAc,CAChD,IAAM0B,EAAO89C,KACb0lC,EAAkB,gBACfxjF,EAAO+2C,GAAeiH,kBAAkBh+C,IAI7C,MAAO,CACLoxE,gBAAiBoS,EACjBtsC,eAAgBssC,EAAmBv9E,OAAOC,KAAKs9E,GAAoB,IACnEhkC,gBAAgB,IA+MLmkC,GA3MQ,WAAqC,IAApCp6E,EAAmC,uDAA3Bi5E,KAAgBp/B,EAAW,uCACzD,OAAQA,EAAO9iD,MACb,IAAK,UACH,OAAOkiF,KACT,IAAK,cACH,OAAOe,GAAqBh6E,EAAO65C,EAAO1xB,QAAS0xB,EAAOm8B,WAC5D,IAAK,kCACH,IAAQ75D,EAAiD09B,EAAjD19B,OAAQzkB,EAAyCmiD,EAAzCniD,aAAc87E,EAA2B35B,EAA3B25B,uBACxB6G,EAAc7sC,GAAeqH,YAAY2+B,GAC/C6G,EAAY3iF,aAAeA,EAC3B,IAAM4iF,EAAmBt6E,EAAM2tC,eAAe36C,GACxCunF,EAAc,2BACfv6E,EAAM2tC,gBADS,IAElBxlB,QAAQ,2BACHnoB,EAAM2tC,eAAexlB,SADnB,mBAEJhM,EAASk+D,MAGd,OAAOL,GAAqBh6E,EAAOu6E,EAAgBD,GAErD,IAAK,iBACH,OAAOtO,GAAcnyB,EAAO1xB,QAASnoB,GACvC,IAAK,wBAOH,OALEA,EAAMw5E,+BACNx5E,EAAMw5E,8BAA8BxmF,KAAO6mD,EAAO6/B,oBAAoB1mF,IAEtE2mF,GAAoB35E,EAAMw5E,8BAA+Bx5E,GAEpDy5E,GAAoB5/B,EAAO6/B,oBAAqB15E,GAEzD,IAAK,wBACH,OAAO25E,GAAoB9/B,EAAO6/B,oBAAqB15E,GAEzD,IAAK,yBACH,OAAKA,EAAMw5E,8BAGPx5E,EAAMw5E,8BAA8BxmF,KAAO6mD,EAAO6/B,oBAAoB1mF,GACpEgN,EAAMusE,eACDoN,GAAoB9/B,EAAO6/B,oBAAqB15E,GAElDy5E,GAAoB5/B,EAAO6/B,oBAAqB15E,GAElDA,EAREy5E,GAAoB5/B,EAAO6/B,oBAAqB15E,GAU3D,IAAK,oCACH,OAAO,2BACFA,GADL,IAEEqlB,sBAAuBrlB,EAAMqlB,sBAAwB,IAEzD,IAAK,wBAEH,OADAvnB,aAAaqB,QAAQ,2BAA4B06C,EAAOirB,QACjD,2BACF9kE,GADL,IAEEosE,gBAAiBvyB,EAAOirB,SAE5B,IAAK,+BACH,OAAO,2BACF9kE,GADL,IAEEw6E,oBAAqB3gC,EAAOpjD,OAEhC,IAAK,qBAEH,OADAqH,aAAaqB,QAAQ,wBAAyB06C,EAAOirB,QAC9C,2BACF9kE,GADL,IAEEoxE,aAAcv3B,EAAOirB,SAEzB,IAAK,2BAEH,OADAhnE,aAAaqB,QAAQ,uBAAwB06C,EAAOpjD,MAC7C,2BACFuJ,GADL,IAEEi2E,mBAAoBp8B,EAAOpjD,OAE/B,IAAK,eACH,IAAM2yE,EAAU,gBACbvvB,EAAOpjD,KAAO+2C,GAAeiH,kBAAkBoF,EAAOpjD,OAGzD,OAAO,2BACFuJ,GADL,IAEE6nE,gBAAgB,2BACX7nE,EAAM6nE,iBACNuB,GAELnzB,gBAAgB,IAGpB,IAAK,iBACH,MAA4Ci0B,GAAclqE,EAAO65C,EAAOpjD,MAAhEoxE,EAAR,EAAQA,gBAAiBl6B,EAAzB,EAAyBA,eACzB,OAAO,2BACF3tC,GADL,IAEE2tC,iBACAk6B,kBACA5xB,gBAAgB,IAGpB,IAAK,qBAAuB,IAAD,EACzB,GAAI,OAACj2C,QAAD,IAACA,GAAD,UAACA,EAAO2tC,sBAAR,QAAC,EAAuBl3C,KAC1B,OAAOuJ,EAGT,IAAMy6E,EAAejtC,GAAeiH,kBAAkBz0C,EAAM2tC,eAAel3C,MAG3E,OAFAuJ,EAAM6nE,gBAAgB7nE,EAAM2tC,eAAel3C,MAAQgkF,EAE5C,2BACFz6E,GADL,IAEE2tC,eAAgB8sC,EAChBxkC,gBAAgB,IAGpB,IAAK,iBACH,IAAMykC,EAAgB16E,EAAM6nE,gBAAgBhuB,EAAO8gC,SAC7CC,EAAc,2BACfF,GADe,IAElB1nF,GAAI6mD,EAAOghC,QACXpkF,KAAMojD,EAAOghC,UAEThT,EAAkBnrE,OAAOC,KAAKqD,EAAM6nE,iBAAiB5iD,QACzD,SAACpqB,EAAK7H,GAAN,OACEA,IAAO6mD,EAAO8gC,QAAd,2BACS9/E,GADT,mBACeg/C,EAAOghC,QAAUD,IADhC,2BAES//E,GAFT,mBAEe7H,EAAKgN,EAAM6nE,gBAAgB70E,OAC5C,IAGF,OAAI6mD,EAAO8gC,UAAY36E,EAAM2tC,eAAel3C,KACnC,2BACFuJ,GADL,IAEE6nE,kBACAl6B,eAAgBitC,EAChB3kC,gBAAgB,IAIb,2BACFj2C,GADL,IAEE6nE,kBACA5xB,gBAAgB,IAGpB,IAAK,qBACH,OAAK4D,EAAOq7B,OAGL,2BACFl1E,GADL,IAEE6nE,gBAAiBnrE,OAAOE,OAAO,GAAIoD,EAAM6nE,gBAAxBnrE,OAAA,KAAAA,CAAA,GACdsD,EAAM2tC,eAAe36C,GADP0J,OAAA,IAAAA,QAAA,IAAAA,CAAA,GAEVsD,EAAM2tC,gBAFI,IAGbhH,aAAckT,EAAOq7B,WAGzBvnC,eAAe,2BACV3tC,EAAM2tC,gBADG,IAEZhH,aAAckT,EAAOq7B,SAEvB4F,cAAejhC,EAAOq7B,OACtBj/B,gBAAgB,IAfTj2C,EAiBX,IAAK,oBACH,GAAIA,EAAMw6E,oBAAqB,CAC7B,IAAIO,EAAgBnB,GAClB55E,EAAMw6E,oBACN3gC,EAAO76C,MAAM6oE,iBAGf,GAAIkT,EAAe,CACjB,IAAMxB,EAAQ,2BACTv5E,GADS,IAEZ2tC,eAAgBotC,EAChBlT,gBAAiBhuB,EAAO76C,MAAM6oE,gBAC9B2S,yBAAqBt/E,IAEvB,OAAO8wE,GAAc+O,EAAexB,IAIxC,IAAMz9E,EAAS,CACb+rE,gBAAiBhuB,EAAO76C,MAAM6oE,gBAC9Bl6B,eAAgBkM,EAAO76C,MAAM2uC,gBAE/B,OAAO,2BACF3tC,GACAlE,GAGP,IAAK,wBACH,OAAO,2BACFkE,GADL,IAEEqsE,kBAAmBxyB,EAAOmhC,SAC1B/kC,gBAAgB,IAEpB,IAAK,gBACH,OAAO,2BACFj2C,GADL,IAEEi2C,eAAgB4D,EAAOt9B,aAE3B,QACE,OAAOvc,ICpREi7E,OAVf,SAAwBpyB,GACtB,OAAOqyB,YAAgB,CACrBj7E,IAAKo4E,GAAWxvB,GAChB1gC,QAASiyD,GACTp/C,QAASk+C,GACT5iF,YAAa8iF,GACb+B,4B,UCwGWC,I,qBA/FE,WACf,MAAwBn+D,mBAAS,MAAjC,mBAAOxb,EAAP,KAAa45E,EAAb,KACA,EAAkCp+D,mBAAS,IAA3C,mBAAOvV,EAAP,KAAkB4zE,EAAlB,KACA,EAA0Br+D,mBAAS,MAAnC,mBAAO6pC,EAAP,KAAcy0B,EAAd,KAcMtlF,EAAM,uCAAG,8BAAAL,EAAA,6DACP4lF,EAAW,SAAC10B,GAAD,OAAW,SAAC1H,GAAD,OAAU,SAACvF,GACrC,GAAI3mD,KAAIe,eAAgB,CAEtB,IAAM+L,EAAQ8mD,EAAMuvB,WACpB,GAC+B,SAA7Bx8B,EAAO9iD,KAAK3B,OAAO,EAAG,KACrB4K,EAAMC,IAAIy4E,wBACX14E,EAAMC,IAAItK,SACV,CAEA,MAAuDqK,EAAMC,IAArD04E,EAAR,EAAQA,2BAA4BhjF,EAApC,EAAoCA,SAAU8L,EAA9C,EAA8CA,KAC9CqlD,EAAMtxC,SAAS0hC,YAAgBvhD,EAAU8L,EAAMzB,EAAO24E,KAG1D,OAAOv5B,EAAKvF,MAGRiN,EAAQ20B,YACZR,GAAe,CACb1C,aAAcrlF,KAAIa,mBAClByhB,SAAU,SAACqkC,GAAD,OAAYiN,EAAMtxC,SAASqkC,MAEvCn1B,YACEg3D,YAAgBC,IAAOH,GACvBjoF,OAAOqoF,kBAAoBroF,OAAOqoF,oBAAsB,SAACC,GAAD,OAAOA,KAzBtD,SA6BP/lF,KAASytD,OA7BF,OA8BbuD,EAAMtxC,SAASqjE,gBAEf0C,EAASz0B,GAhCI,2CAAH,qDAmCZxpC,qBAAU,YACH7b,GAAQiG,GAA2C,YAA7BnU,OAAOC,SAASoxE,WACzC3uE,MAED,CAACwL,EAAMiG,IAEV,IAAMo0E,EAAmBpwB,eAWzB,OAVIowB,IACEA,EAAiBr6E,OAASA,GAC5B45E,EAAQS,EAAiBr6E,MAGvBq6E,EAAiBp0E,YAAcA,GACjC4zE,EAAaQ,EAAiBp0E,YAI5BjG,GAAQiG,GAA2C,YAA7BnU,OAAOC,SAASoxE,SAGrC9d,GAILl1D,SAASiyB,iBAAiB,oBAAoB,WACX,YAA7BjyB,SAASmqF,iBACXj1B,EAAMtxC,SAASwmE,aAA2B,IAC1CtnB,aAAaniE,KAAK0pF,iBAElB1pF,KAAK0pF,eAAiBr/C,YAAW,WAC/BkqB,EAAMtxC,SAASwmE,aAA2B,MACzC,QAKL,cAAC,IAAD,CAAUl1B,MAAOA,EAAjB,SACE,cAAC,GAAD,CAAKrlD,KAAMA,EAAMiG,UAAWA,EAAWw9D,YAAa,kBA5ExDmW,EAAQ,WACRC,EAAa,UA2DJ,wBAHF,cAAC,GAAD,CAAWpE,QAAS,SAACzlF,GAAD,OAjEV,SAACA,GACdA,GAAQA,EAAKgQ,MAAQhQ,EAAKiW,YAC5B2zE,EAAQ5pF,EAAKgQ,MACb65E,EAAa7pF,EAAKiW,YA8DiBw0E,CAAWzqF,Q,UC/ErC0qF,GAVE7kD,aAAY,CAC3B8kD,QAAS,CACPC,QAAS,CAAEC,KAHC,uBAKd/kD,WAAY,CACVC,iBAAiB,EACjBC,aAAc,MCIH8kD,I,OAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBnwE,MAAK,YAAkD,IAA/CowE,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,QCEdO,IAASjG,OACP,cAAC,IAAMkG,WAAP,UACE,cAAC,IAAD,CAAkB3lD,MAAO8kD,GAAzB,SACE,cAAC,GAAD,QAGJvqF,SAASqrF,eAAe,SAM1BV,M,qyECrBaW,EAAqB,SAACxoF,GACjC,IAAMyoF,EAAMC,IAAWC,KAAKC,KAAKvoF,OAAOL,GAClCwgE,EAAM,IAAI7qD,WAAW8yE,GAE3B,OADAC,IAAWC,KAAKC,KAAK32B,MAAMjyD,EAAKwgE,EAAK,GAC9BA,GAGIqoB,EAAqB,SAACvmB,GACjC,OAAOomB,IAAWC,KAAKC,KAAKh3B,KAAK0Q,EAAQ,EAAGA,EAAOjiE,S,eCI/Cy4C,EAAiB,IAAIC,IAYrB+vC,EAAiC,uBACjCC,EAAwB,cACxBC,EAA4B,iBAC5BC,EAAuB,QACvBC,EAA0B,CAC9BC,QAAS,UACTC,oBAAqB,oBACrBC,gBAAiB,iBACjBC,eAAgB,gBAChBC,kBAAmB,kBACnBC,kBAAmB,iBACnBC,oBAAqB,qBACrBC,0BAA2B,0BAC3BC,4BAA6B,2BAC7BC,wBAAyB,wBACzBC,+BAAgC,+BAGrBC,EAAY,SAAC7oF,EAAUqgD,EAAc/7B,GAAzB,8CAAqC,WAAOzE,GAAP,mCAAA5f,EAAA,6DACpD6oF,EAA2CxkE,EAA3CwkE,0BAA2BhlE,EAAgBQ,EAAhBR,YAE7BilE,EAAqBhiF,OAAOC,KAAKq5C,EAAa1/C,aAAaC,KAAI,SAACmzE,GACpE,IAAMhyE,EAAeH,SAASmyE,EAAiB,IACzClzE,EAAaw/C,EAAa1/C,YAAYozE,GAQ5C,MAAO,CAAEhyE,eAAckT,SAPNlO,OAAOC,KAAKnG,EAAW4lB,YAAYC,OAAO9lB,KAAI,SAAC4lB,GAAD,MAAa,CAC1EA,SACAvR,SACEpU,EAAW4lB,YAAYC,MAAMF,IAAW3lB,EAAW4lB,YAAYC,MAAMF,GAAQvR,SAC/E6N,YACEjiB,EAAW4lB,YAAYC,MAAMF,IAAW3lB,EAAW4lB,YAAYC,MAAMF,GAAQ1D,oBAK7EkmE,EAA0BjiF,OAAOC,KAAKq5C,EAAa1/C,aAAaC,KAAI,SAACmzE,GACzE,IAAMhyE,EAAeH,SAASmyE,EAAiB,IACzClzE,EAAaw/C,EAAa1/C,YAAYozE,GAO5C,MAAO,CAAEhyE,eAAcknF,cANDliF,OAAOC,KAAKnG,EAAW6lB,OAAO9lB,KAAI,SAAC4lB,GAAD,MAAa,CACnEA,SACA+Y,UAAW1+B,EAAW6lB,MAAMF,IAAW3lB,EAAW6lB,MAAMF,GAAQ+Y,UAChEsB,gBAAiBhgC,EAAW6lB,MAAMF,IAAW3lB,EAAW6lB,MAAMF,GAAQqa,gBACtEtZ,UAAW1mB,EAAW6lB,MAAMF,IAAW3lB,EAAW6lB,MAAMF,GAAQe,kBAK9D2hE,EAA2BniF,OAAOC,KAAKq5C,EAAa1/C,aAAaC,KAAI,SAACmzE,GAI1E,MAAO,CAAEhyE,aAHYH,SAASmyE,EAAiB,IAGxBxvC,cAFJ8b,EAAa1/C,YAAYozE,GACXttD,YAAY8d,kBAIzC4kD,EAAwBpiF,OAAOC,KAAKq5C,EAAa1/C,aAAaC,KAAI,SAACmzE,GACvE,IAAMhyE,EAAeH,SAASmyE,EAAiB,IACzClzE,EAAaw/C,EAAa1/C,YAAYozE,GAC5C,OAAIlzE,EAAW4lB,YAAY4a,gBAElB,CAAEt/B,eAAcy+B,QADP4oD,EAAqBvoF,EAAW4lB,YAAY4a,iBAC5BsiD,WAAY9iF,EAAW4lB,YAAYqa,mBAG9D,MAGHuoD,EAA8BtiF,OAAOC,KAAKq5C,EAAa1/C,aAAaC,KACxE,SAACmzE,GACC,IAAMhyE,EAAeH,SAASmyE,EAAiB,IACzClzE,EAAaw/C,EAAa1/C,YAAYozE,GAO5C,MAAO,CAAEhyE,eAAcunF,kBANGviF,OAAOC,KAAKnG,EAAW6lB,OAAO9lB,KAAI,SAAC4lB,GAAD,MAAa,CACvEA,SACAlN,WAAYzY,EAAW6lB,MAAMF,IAAW3lB,EAAW6lB,MAAMF,GAAQlN,WACjE8T,cAAevsB,EAAW6lB,MAAMF,IAAW3lB,EAAW6lB,MAAMF,GAAQ4G,sBArDd,mBA6DzD66D,EAAwBC,QAAUF,GA7DuB,cA8DzDC,EAAwBE,oBACvB9nC,EAAa/1C,IAAIxB,cAAcm6C,wBA/DyB,cAgEzDglC,EAAwBG,gBAAkB/nC,EAAa/1C,IAAIxB,cAAco6C,qBAhEhB,cAiEzD+kC,EAAwBI,eAAiBhoC,EAAa/1C,IAAIxB,cAAck6C,oBAjEf,cAkEzDilC,EAAwBK,kBAAoBjoC,EAAa7tB,QAAQ0/C,iBAlER,cAmEzD+V,EAAwBM,kBAAoBloC,EAAa7tB,QAAQwlB,gBAnER,cAoEzDiwC,EAAwBO,oBAAsBO,GApEW,cAqEzDd,EAAwBQ,0BAA4BO,GArEK,cAsEzDf,EAAwBS,4BAA8BQ,GAtEG,cAuEzDjB,EAAwBU,wBAA0BQ,GAvEO,cAwEzDlB,EAAwBW,+BAAiCS,GAZtDhgF,EA5DsD,EA0EtD2qE,EAAOnrE,KAAKK,UAAUG,GA1EgC,UA4EtDwW,EAASipE,GAA0B,IA5EmB,yBA8EpD7mF,EAAM9B,IAASC,KAAKmpF,eAAejpF,OAAO,CAC9CkpF,gBAAiB1B,EACjB7mC,SAAUsmC,EAAmBvT,GAC7ByV,cAAc,IAjF0C,UAmFpDzpF,EAASE,QAAQ+B,GAnFmC,kEAsF1DxF,IAAOsE,MAAM,CAAEsG,IAAG,MAAI,mCAtFoC,4CAyFtDwY,EAASipE,GAA0B,IAzFmB,QA0F5DjpE,EAASiE,GAAY,IA1FuC,2DAArC,uDA6FnBslE,EAAuB,SAACxoF,GAC5B,IAAM2N,EAAS,GAIf,OAHA3N,EAAImF,SAAQ,SAAC4H,GACXY,EAAO/K,KAAKmK,MAEPY,GAGIm7E,EAAY,SAACtkE,EAAOd,GAAR,8CAAoB,WAAOzE,GAAP,+CAAA5f,EAAA,6DAEzCijB,EAOEoB,EAPFpB,mBACAymE,EAMErlE,EANFqlE,eACA9lE,EAKES,EALFT,YACA81B,EAIEr1B,EAJFq1B,gBACAiwC,EAGEtlE,EAHFslE,uCACAC,EAEEvlE,EAFFulE,mBACA38D,EACE5I,EADF4I,kBAGIjrB,EAAM9B,IAASC,KAAK0pF,eAAexpF,OAAO,CAC9CypF,WAAYjC,IAEV3jF,EAAW,KAd4B,kBAgBxBihB,EAAMplB,SAASE,QAAQ+B,GAhBC,OAgBzCkC,EAhByC,uDAkBzC1H,IAAOsE,MAAM,CAAEsG,IAAG,MAAI,oCAlBmB,YAqBvClD,EAAS4kD,QArB8B,wBAsBzCtsD,IAAOC,KAAK,gDAtB6B,kCA0BrC2M,EAAQu+E,EAAmBzjF,EAAS88C,UACtC96C,EAAS0C,KAAKlL,MAAM0L,EAAM0K,YA3Ba,UA8B5Bi2E,EAAiC5kE,EAAMplB,SAAUmG,GA9BrB,eA8B3CA,EA9B2C,iBA+BrC8jF,EAA0B7kE,EAAOjf,GA/BI,aAiCR6uE,IAAOkV,OAAO/jF,EAAO/B,SAAvC+lF,EAjC0B,EAiCnC/lF,SACJ4wE,IAAOoV,UAAUD,EAAe,UAlCO,uBAmCnC,IAAItzE,MAAM,yCAnCyB,QA2C3C,IALMwzE,EAA2BtjF,OAAOC,KAAKb,GACvCmkF,EAA2BvjF,OAAOC,KAAKihF,GAAyBrnF,KACpE,SAACpC,GAAD,OAASypF,EAAwBzpF,MAG1Be,EAAI,EAAGA,EAAI+qF,EAAyBlrF,OAAQG,IAC7CgrF,EAAuBD,EAAyB/qF,GACjD8qF,EAAyBlmE,SAASomE,IACrC9tF,IAAOuL,KAAP,WAAgBuiF,EAAhB,wCA9CuC,GAkDtCvV,IAAOC,MAAMkV,GAlDyB,uBAmDzC1tF,IAAOsE,MAAM,8BACP,IAAI8V,MAAM,sCApDyB,WAuDc,UAArDm+D,IAAOE,KAAK8S,EAAsBmC,GAvDK,uBAwDzC1tF,IAAOsE,MAAM,sEACP,IAAI8V,MAAM,sEAzDyB,QA8DY,UAArDm+D,IAAOE,KAAK8S,EAAsBmC,IAClCnV,IAAOG,GAAGgV,EAAenC,IAEzBnoE,EAAS+pE,KAGP5U,IAAOoV,UAAUD,EAAe,aAElChkF,EAAO4iF,mBAAmBhjF,SAAQ,SAAClF,GAAD,OAChCA,EAAWoU,SAASlP,SAAQ,SAACmI,GAC3B2R,EACEqD,EAAmBriB,EAAWkB,aAAc,WAAYmM,EAAK+G,SAAU/G,EAAKsY,SAE9E3G,EACEqD,EAAmBriB,EAAWkB,aAAc,cAAemM,EAAK4U,YAAa5U,EAAKsY,eAMxFrgB,EAAO6iF,wBAAwBjjF,SAAQ,SAAClF,GAAD,OACrCA,EAAWooF,cAAcljF,SAAQ,SAACmI,GAChC2R,EAASgE,EAAYhjB,EAAWkB,aAAcmM,EAAKsY,OAAQ,YAAatY,EAAKqxB,YAC7E1f,EACEgE,EACEhjB,EAAWkB,aACXmM,EAAKsY,OACL,kBACAtY,EAAK2yB,kBAGThhB,EAASgE,EAAYhjB,EAAWkB,aAAcmM,EAAKsY,OAAQ,YAAatY,EAAKqZ,mBAK/EytD,IAAOoV,UAAUD,EAAe,YAElChkF,EAAO+iF,yBAAyBnjF,SAAQ,SAAClF,GACnCA,EAAWkB,cAAgBlB,EAAW0jC,eACxC1kB,EAAS85B,EAAgB94C,EAAWkB,aAAclB,EAAW0jC,mBAK/DywC,IAAOoV,UAAUD,EAAe,cACjChkF,EAAOgjF,uBAAyB,IAAIpjF,SAAQ,SAAClF,GAC5C,GAAIA,EAAWkB,cAAgBzC,MAAMoO,QAAQ7M,EAAW2/B,SAAU,CAChE,IAAMA,EAAU,IAAI7hC,IACpBkC,EAAW2/B,QAAQz6B,SAAQ,SAACs4B,GAAD,OAAWmC,EAAQl9B,IAAI+6B,EAAM34B,SAAU24B,MAClExe,EAASgqE,EAAmBhpF,EAAWkB,aAAcy+B,EAAS3/B,EAAW8iF,kBAG5Ex9E,EAAOkjF,6BAA+B,IAAItjF,SAAQ,SAAClF,IACjDA,EAAWyoF,mBAAqB,IAAIvjF,SAAQ,SAACykF,GAC5C3qE,EACEqN,EACErsB,EAAWkB,aACXyoF,EAAQhkE,OACRgkE,EAAQlxE,WACRkxE,EAAQp9D,uBAQlBvN,EAAS8pE,EAAexjF,IAlImB,yDAApB,uDAqIZskF,EAAa,SAACzqF,EAAUskB,GAAX,8CAAuB,WAAOzE,GAAP,uBAAA5f,EAAA,sDACvC0pF,EAAmBrlE,EAAnBqlE,eACF7oF,EAAO89C,IACP8rC,EAAe7yC,EAAeiH,kBAAkBh+C,GAChD6pF,EAJyC,eAK5C7pF,EAAO4pF,GALqC,mBAS5CzC,EAAwBC,QAAUF,GATU,cAU5CC,EAAwBE,oBAAsB,aAVF,cAW5CF,EAAwBG,gBAAkB,aAXE,cAY5CH,EAAwBI,eAAiB,aAZG,cAa5CJ,EAAwBK,kBAAoBqC,GAbA,cAc5C1C,EAAwBM,kBAAoBmC,GAdA,cAe5CzC,EAAwBO,oBAAsB,IAfF,cAgB5CP,EAAwBQ,0BAA4B,IAhBR,cAiB5CR,EAAwBS,4BAA8B,IAjBV,cAkB5CT,EAAwBU,wBAA0B,IAlBN,cAmB5CV,EAAwBW,+BAAiC,IAG5D/oE,EAAS8pE,EAtBsC,+CAAvB,uDAyBpBK,EAAgC,uCAAG,WAAOhqF,EAAUmG,GAAjB,6BAAAlG,EAAA,2DACnB+0E,IAAOkV,OAAO/jF,EAAO/B,SAAjCA,EAD+B,EAC/BA,SAGJ4wE,IAAOoV,UAAUhmF,EAAS,aAAc4wE,IAAOoV,UAAUhmF,EAAS,UAJ/B,yCAK9B+B,GAL8B,cAQpB4hF,EACb9lF,EAAM9B,IAASC,KAAK0pF,eAAexpF,OAAO,CAAEypF,WAD/BhC,mBARoB,kBAazB/nF,EAASE,QAAQ+B,GAbQ,OAarCc,EAbqC,+DAerCtG,IAAOsE,MAAM,CAAEsG,IAAG,MAAI,kCAChB,IAAIwP,MAAM,kCAhBqB,YAmBnC9T,EAAIgmD,QAnB+B,uBAoBrCtsD,IAAOC,KAAP,oBAAyBqrF,EAAzB,sBACM,IAAIlxE,MAAM,kCArBqB,kBA0B/B+zE,EAAiBhD,EAAmB7kF,EAAIk+C,UAC9C4pC,EAAYhiF,KAAKlL,MAAMitF,EAAe72E,YA3BD,0DA6BrCtX,IAAOsE,MAAM,CAAEsG,IAAG,MAAlB,yCAAwD0gF,IA7BnB,kBA8B9B5hF,GA9B8B,WAiCjC4B,EAAU+iF,EAA2BD,EAAUE,uBAErDC,EAA2C7kF,EAAQ4B,EAD7ChH,EAAQ,CAAEkqF,UAAU,IAI1B9kF,EAAO/B,QAAU,QACjB+B,EAAO+kF,YAAa,GAChBnqF,EAAMkqF,SAxC6B,uBAyC/B,IAAIp0E,MACR,4HA1CmC,QA6CrCpa,IAAO+b,MAAM,uDA7CwB,iCAgDhCrS,GAhDgC,kEAAH,wDAmDhC2kF,EAA6B,SAAC/iF,GAClC,IAAMwG,EAAS,IAAI5P,IAKnB,OAJAoI,OAAO9D,QAAQ8E,GAAW,IAAIhC,SAAQ,YAAmB,IAAD,mBAAhBvH,EAAgB,KAAXC,EAAW,KAChD0sF,EAAO3sF,EAAIqO,cAAc9O,QAAQ,IAAK,IAAIA,QAAQ,IAAK,IAC7DwQ,EAAOjL,IAAI6nF,EAAM1sF,MAEZ8P,GAGH68E,EAAqB,SAAC5sF,EAAKuJ,GAC/B,GAAIA,EAAQgH,IAAIvQ,GACd,OAAOuJ,EAAQD,IAAItJ,GAErB,IAAM6sF,EAAe7sF,EAAIqO,cACzB,OAAI9E,EAAQgH,IAAIs8E,GACPtjF,EAAQD,IAAIujF,QADrB,GAMIL,EAA6C,SAA7CA,EAA8Cn9E,EAAK9F,EAAShH,GAChE,IAAK,IAAMvC,KAAOqP,EAChB,GAAwB,kBAAbA,EAAIrP,IAAkC,OAAbqP,EAAIrP,GAC1B,cAARA,IACFqP,EAAIrP,GAAOqP,EAAIrP,GACZoC,KAAI,SAAC+M,GACJ,IAAMlP,EAAQ2sF,EAAmBz9E,EAAO5F,GACxC,OAAItJ,IAGFsC,EAAMkqF,UAAW,OACjBxuF,IAAOsE,MAAP,8EACyE4M,QAK5Egb,QAAO,SAAChb,GAAD,QAAaA,MAEzBq9E,EAA2Cn9E,EAAIrP,GAAMuJ,EAAShH,QAE9D,GACU,iBAARvC,GACQ,gBAARA,GACQ,cAARA,GACQ,uBAARA,GACQ,cAARA,GACQ,sBAARA,GACQ,kBAARA,GACQ,mBAARA,GACQ,kBAARA,EACA,CACA,IAAMC,EAAQ2sF,EAAmBv9E,EAAIrP,GAAMuJ,GACvCtJ,EACFoP,EAAIrP,GAAOC,GAEXoP,EAAIrP,QAAO+G,EACXxE,EAAMkqF,UAAW,EACjBxuF,IAAOsE,MAAP,8EACyE8M,EAAIrP,QAQ1E8sF,EAA4B,SAACtrF,EAAUskB,GAAX,8CAAuB,WAAOzE,GAAP,uBAAA5f,EAAA,6DACtDsrF,EAA4BjnE,EAA5BinE,wBACFtpF,EAAM9B,IAASC,KAAK0pF,eAAexpF,OAAO,CAC9CypF,WAAYlC,IAEV1jF,EAAW,KAL+C,kBAO3CnE,EAASE,QAAQ+B,GAP0B,OAO5DkC,EAP4D,uDAS5D1H,IAAOsE,MAAM,CAAEsG,IAAG,MAAI,oCATsC,QAY1DlD,EAAS4kD,SACXtsD,IAAOC,KAAK,yDAGR2M,EAAQu+E,EAAmBzjF,EAAS88C,UACtC96C,EAAUhC,EAAS4kD,QAAyC,KAA/BlgD,KAAKlL,MAAM0L,EAAM0K,YAElD8L,EAAS0rE,EAAwBplF,IAnB6B,yDAAvB,uDAsB5BqlF,EAA4B,SAACxrF,EAAUqJ,GAAX,6BAAqB,8BAAApJ,EAAA,6DACtD+zE,EAAOnrE,KAAKK,UAAUG,EAAO,EAAG,GADsB,SAGpDpH,EAAM9B,IAASC,KAAKmpF,eAAejpF,OAAO,CAC9CkpF,gBAAiB3B,EACjB5mC,SAAUsmC,EAAmBvT,GAC7ByV,cAAc,IAN0C,SAQpDzpF,EAASE,QAAQ+B,GARmC,8DAU1DxF,IAAOsE,MAAM,CAAEsG,IAAG,MAAI,mCAVoC,6EAexD4iF,EAAyB,uCAAG,WAAO7kE,EAAOjf,GAAd,iCAAAlG,EAAA,sDAC5BwrF,GAAmB,EACnBC,GAAiB,EACjBC,GAAgB,EAChBC,GAAsB,EAJM,MAMb7kF,OAAOmG,OAAO/G,EAAO6xC,eAAexlB,SANvB,yCAMrBtkB,EANqB,UAOtBA,EAAKixC,qBAPiB,cAQvBZ,IARuB,UAcvB1zC,IAduB,UAyBvBD,IAzBuB,UAoCvB4zC,IApCuB,uBASrBitC,GAAkF,IAA9DrmE,EAAMogC,qBAAqB1gD,0BAA0B9F,KATpD,kCAUlBomB,EAAMogC,qBAAqBxM,iCAAiC5zB,EAAMplB,UAVhD,QAWxByrF,GAAmB,EAXK,+CAerBC,EAfqB,oBAgBsC,KAA1D,UAAAtmE,EAAMogC,qBAAqB5+C,4BAA3B,eAAiD5H,MAhB7B,kCAiBhBomB,EAAMogC,qBAAqBngC,wBAAwBD,EAAMplB,UAjBzC,WAmB+B,IAAnDolB,EAAMogC,qBAAqB/+C,eAAezH,KAnBtB,kCAoBhBomB,EAAMogC,qBAAqBlgC,kBAAkBF,EAAMplB,UApBnC,QAsBxB0rF,GAAiB,EAtBO,+CA0BrBC,EA1BqB,oBA2BqC,KAAzD,UAAAvmE,EAAMogC,qBAAqB9+C,2BAA3B,eAAgD1H,MA3B5B,kCA4BhBomB,EAAMogC,qBAAqBzkB,uBAAuB3b,EAAMplB,UA5BxC,WA8B+B,IAAnDolB,EAAMogC,qBAAqB/+C,eAAezH,KA9BtB,kCA+BhBomB,EAAMogC,qBAAqBlgC,kBAAkBF,EAAMplB,UA/BnC,QAiCxB2rF,GAAgB,EAjCQ,+CAqCrBC,EArCqB,oBAsCsC,KAA1D,UAAAxmE,EAAMogC,qBAAqB5+C,4BAA3B,eAAiD5H,MAtC7B,kCAuChBomB,EAAMogC,qBAAqBngC,wBAAwBD,EAAMplB,UAvCzC,WAyC+B,IAAnDolB,EAAMogC,qBAAqB/+C,eAAezH,KAzCtB,kCA0ChBomB,EAAMogC,qBAAqBlgC,kBAAkBF,EAAMplB,UA1CnC,QA4CxB4rF,GAAsB,EA5CE,+EAmDhCxmE,EAAMG,6BAA6BH,EAAMogC,sBAnDT,4CAAH,wD,OC5blBqpB,EAAY,SAAChlE,GAAD,MAAa,CACpCzI,KAAM,aACNyI,WAGWq5E,EAA+B,iBAAO,CACjD9hF,KAAM,oCAGK6iD,EAAc,SAAC4nC,EAAa9nC,GAAd,MAA0B,CACnD3iD,KAAM,eACNpB,SAAU6rF,EACV9nC,WAGW+D,EAA0B,SAACh/C,GAAD,MAAoB,CACzD1H,KAAM,oBACN0H,kBAGWq/C,EAAuB,SAAC2vB,GAAD,MAAwB,CAC1D12E,KAAM,yBACN02E,sBAGW7vB,EAA8B,SAACpgD,GAAD,MAAe,CACxDzG,KAAM,kCACNyG,aAGWikF,EAAkB,SAAC1qF,EAAMnE,GAAP,MAAoB,CACjDmE,KAAM,mBACN8K,aAAc,CACZ9K,OACAnE,aAISw1B,EAAmC,WAC9C,OAAOq5D,EAAgB,UAAW,cAAC,IAAD,CAAkBzuF,GAAG,wBAG5C4iF,EAAuC,WAClD,OAAO6L,EACL,OACA,cAAC,IAAD,CAAkBzuF,GAAG,oDAIZ8iF,EAAgC,WAC3C,OAAO2L,EACL,UACA,cAAC,IAAD,CAAkBzuF,GAAG,6CAIZspD,EAA4B,SAACxuC,GACxC,OAAO2zE,EACL,OACA,iCACE,cAAC,IAAD,CAAkBzuF,GAAG,gDADvB,IACyE8a,OAKhE8gE,EAAsC,SAACpvE,GAClD,OAAOiiF,EACL,OACA,iCACE,cAAC,IAAD,CAAkBzuF,GAAG,uCACpBwM,OAKMwgD,EAA+B,SAAC0hC,GAC3C,OAAOD,EAAgB,OAAD,qCAAuCC,EAAvC,OAGXxhC,EAAiC,SAACwhC,GAC7C,OAAOD,EAAgB,OAAD,qCAAuCC,EAAvC,OAGX9hC,EAAiC,WAC5C,OAAO6hC,EAAgB,OAAD,uCAGXzgC,EAA+B,SAAC1e,EAAa6d,GACxD,OAAOshC,EAAgB,OAAD,2BAA6Bn/C,EAA7B,YAA4C6d,KAGvD+D,EAAoC,SAACtB,GAChD,OAAO6+B,EACL,OACAxsF,MAAMoO,QAAQu/C,IAAwBA,EAAoB7tD,OAAS,EACjE,cAAC,IAAD,CAAkB/B,GAAG,qCAErB,cAAC,IAAD,CAAkBA,GAAG,wCAiBdgkB,GAAiD,SAAC4iB,EAAckP,GAC3E,OAAO24C,EACL,UACA,cAAC,IAAD,CACEzuF,GAAG,gDACH6P,OAAQ,CAAE+2B,eAAckP,aAKjB6Y,GAAmC,WAC9C,OAAO8/B,EACL,UACA,cAAC,IAAD,CAAkBzuF,GAAG,kDAIZ4uD,GAA2C,WACtD,OAAO6/B,EACL,UACA,cAAC,IAAD,CAAkBzuF,GAAG,8CAIZsvD,GAAmC,SAAC3kB,GAC/C,OAAO8jD,EACL,UACA,cAAC,IAAD,CAAkBzuF,GAAG,kCAAkC6P,OAAQ,CAAE86B,YAIxDkkB,GAAsC,SAAClkB,GAClD,OAAO8jD,EACL,UACA,cAAC,IAAD,CAAkBzuF,GAAG,qCAAqC6P,OAAQ,CAAE86B,YAQ3Dn2B,GAAe,SAACD,GAAD,8CAAiB,WAAOiO,GAAP,mBAAA5f,EAAA,sEACT+rF,YAAmBp6E,GADV,uBACnCG,EADmC,EACnCA,UAAWjG,EADwB,EACxBA,KADwB,kBAEpC+T,EAAS,CACdze,KAAM,SACN2Q,YACAjG,UALyC,2CAAjB,uDASfqG,GACX,eAACC,IAAD,uGACA,WAAOyN,GAAP,SAAA5f,EAAA,sEACQgsF,YAAa75E,GADrB,gCAESyN,EAAS,CACdze,KAAM,aAHV,2CADA,uDAYWgnD,GAA2B,SAAC,GAAD,MAAkB,CACxDhnD,KAAM,8BACNnE,QAFsC,EAAGA,UAK9BorD,GAA2B,iBAAO,CAC7CjnD,KAAM,gCAGK82C,GAAa,SAAC1lB,EAAS6tD,GAAV,MAAyB,CACjDj/E,KAAM,cACNoxB,UACA6tD,cAGW1C,GAA8B,SAACn3D,EAAQq3D,EAAwB97E,GAAjC,MAAmD,CAC5FX,KAAM,kCACNolB,SACAq3D,yBACA97E,iBAGWs0E,GAAgB,SAAC7jD,GAAD,MAAc,CACzCpxB,KAAM,iBACNoxB,YAGWylB,GAAe,SAAC7S,GAAD,MAAgB,CAC1ChkC,KAAM,gBACNgkC,cAmBWuqC,GAAuB,SAACv1C,GAAD,MAAgB,CAClDh5B,KAAM,yBACN2iF,oBAAqB,CACnB1mF,GAAI+8B,EAAUv9B,MAAMQ,GACpB0gF,cAAe3jD,EAAU2jD,iBAIhB6B,GAAgC,iBAAO,CAClDx+E,KAAM,sCAGKutE,GAAqB,SAACQ,GAAD,MAAa,CAC7C/tE,KAAM,wBACN+tE,SAAUA,IAGCV,GAAkB,SAACU,GAAD,MAAa,CAC1C/tE,KAAM,qBACN+tE,SAAUA,IAGCL,GAAwB,SAAChuE,GAAD,MAAW,CAC9CM,KAAM,2BACNN,SAGW2yE,GAAa,SAAC3yE,EAAMqX,GAAP,MAAiB,CACzC/W,KAAM,eACNN,OACAqX,SAGW2wE,GAA4B,SAACzF,GAAD,MAAgB,CACvDjiF,KAAM,mCACNiiF,cAGWv/D,GAAc,SAAC8C,GAAD,MAAiB,CAC1CxlB,KAAM,gBACNwlB,eAGW26B,GAAkB,SAACvhD,EAAUqgD,GAAX,8CAA4B,WAAOxgC,GAAP,eAAA5f,EAAA,6DACnDqkB,EAAU,CACdwkE,6BACAhlE,gBAHuD,SAKnDjE,EAASgpE,EAAU7oF,EAAUqgD,EAAc/7B,IALQ,2CAA5B,uDAQlBqhC,GAAkB,SAACvgC,GAAD,8CAAW,WAAOvF,GAAP,eAAA5f,EAAA,6DAClCqkB,EAAU,CACdpB,sBACAymE,kBACA9lE,eACA81B,mBACAiwC,0CACAC,sBACA38D,qBACAu4B,uBATsC,SAWlC5lC,EAAS6pE,EAAUtkE,EAAOd,IAXQ,2CAAX,uDAclB0kC,GAAmC,SAAChpD,GAAD,8CAAc,WAAO6f,GAAP,eAAA5f,EAAA,6DACtDqkB,EAAU,CACdinE,4BAF0D,SAItD1rE,EAASyrE,EAA0BtrF,EAAUskB,IAJS,2CAAd,uDAOnC0jD,GAAmC,SAAChoE,EAAUqJ,GAAX,8CAAqB,WAAOwW,GAAP,SAAA5f,EAAA,sEAC7D4f,EAAS2rE,EAA0BxrF,EAAUqJ,IADgB,2CAArB,uDAInCu8C,GAAmB,SAAC5lD,GAAD,8CAAc,WAAO6f,GAAP,eAAA5f,EAAA,6DACtCqkB,EAAU,CACdqlE,kBACAlkC,uBAH0C,SAKtC5lC,EAAS4qE,EAAWzqF,EAAUskB,IALQ,2CAAd,uDAQnBqlE,GAAiB,SAACtgF,GAAD,MAAY,CACxCjI,KAAM,oBACNiI,UAGWkiF,GAA0B,SAACliF,GAAD,MAAY,CACjDjI,KAAM,6BACNiI,UAGWo8C,GAAqB,SAAC4/B,GAAD,MAAe,CAC/CjkF,KAAM,wBACNikF,aAQW9Q,GAAgB,SAACzzE,GAAD,MAAW,CACtCM,KAAM,iBACNN,SAGW+nD,GAAmB,iBAAO,CACrCznD,KAAM,uBAGKm0E,GAAgB,SAACyP,EAASE,GAAV,MAAuB,CAClD9jF,KAAM,iBACN4jF,UACAE,YAGW3E,GAA4B,SAACz/E,GAAD,MAAW,CAClDM,KAAM,+BACNN,SAGWkgF,GAAmB,SAACzB,GAAD,MAAa,CAC3Cn+E,KAAM,qBACNm+E,WAGW1G,GAAiB,SAAC1gE,GAAD,MAAW,CACvC/W,KAAM,mBACN+W,SAGWyuC,GAAqB,SAACzuC,GAAD,MAAW,CAC3C/W,KAAM,wBACN+W,SAGWs2C,GAAuB,SAACvqC,GAAD,MAAwB,CAC1D9iB,KAAM,yBACN8iB,sBAGWyC,GAAgB,SAAC5kB,EAAcykB,EAAQJ,EAAWC,GAAlC,MAAuD,CAClFjlB,KAAM,kBACNW,eACAykB,SACAJ,YACAC,oBAGWxC,GAAc,SAAC9hB,EAAcykB,EAAQhoB,EAAK1C,GAA5B,MAAsC,CAC/DsF,KAAM,gBACNW,eACAykB,SACAhoB,MACA1C,SAGWoxB,GAAoB,SAACnrB,EAAcykB,EAAQlN,EAAY8T,GAAnC,MAAsD,CACrFhsB,KAAM,sBACNW,eACAykB,SACAlN,aACA8T,kBAGWlK,GAAqB,SAACnhB,EAAcvD,EAAK1C,EAAM0qB,GAA1B,MAAsC,CACtEplB,KAAM,wBACNW,eACAvD,MACA1C,OACA0qB,WAGWmzB,GAAkB,SAAC53C,EAAcykB,GAAf,MAA2B,CACxDplB,KAAM,oBACNW,eACAykB,WAGWqjE,GAAqB,SAAC9nF,EAAcy+B,EAASmjD,GAAxB,MAAwC,CACxEviF,KAAM,wBACNW,eACAy+B,UACAmjD,eAGWzkD,GAA4B,SAACn9B,EAAc4hF,GAAf,MAA+B,CACtEviF,KAAM,gCACNW,eACA4hF,eAGW1T,GAAqB,SAACrhE,GAAD,MAAe,CAC/CxN,KAAM,wBACNwN,aAGWimE,GAAiB,SAAC9yE,EAAcykB,GAAf,MAA2B,CACvDplB,KAAM,mBACNW,eACAykB,WAGWopD,GAAe,iBAAO,CACjCxuE,KAAM,iBACNu/C,gBAAgB,IAGLoxB,GAAgB,iBAAO,CAClC3wE,KAAM,kBACNu/C,gBAAgB,IAGLipC,GAAyC,WACpD,OAAOkC,EAAgB,OAAQ,cAAC,IAAD,CAAkBzuF,GAAG,kCAGzCkyD,GAAsB,SAAC7gD,GAAD,MAAuB,CACxDtN,KAAM,wBACNsN,qBAGWsgD,GAAmB,SAAClgD,GAAD,MAAoB,CAClD1N,KAAM,qBACN0N,kBAGWu3E,GAA6B,SAACvkB,GAAD,MAAc,CACtD1gE,KAAM,gCACN0gE,c","file":"static/js/main.11bb022b.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/overlay-list.d218d7a4.svg\";","export default __webpack_public_path__ + \"static/media/plus.72585b6a.svg\";","import logger from './logger';\nexport const forceDownload = (data, fileName) => {\n  if (!data) {\n    logger.info('forceDownload expects data but did not receive');\n    return;\n  }\n  const link = document.createElement('a');\n  link.download = fileName;\n  link.href = data;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { FormattedMessage } from 'react-intl';\n\nimport Dialog from '../Dialog';\nimport './style.scss';\n\nclass ConfirmDialog extends Component {\n  render() {\n    const { onClose, open, title, message } = this.props;\n\n    return (\n      <div>\n        <Dialog title={title || ''} onClose={() => onClose(false)} open={open}>\n          <div className=\"message-wrapper\">{message}</div>\n          <div className=\"button-wrapper\">\n            <Button color=\"primary\" onClick={() => onClose(true)}>\n              Okay\n            </Button>\n            <Button color=\"primary\" onClick={() => onClose(false)}>\n              <FormattedMessage id=\"cancel\" />\n            </Button>\n          </div>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default ConfirmDialog;\n","import { parse } from 'url';\n\nfunction getDefaultWebsocketUrl() {\n  const { host, protocol } = window.location;\n  const wsProtocol = protocol === 'https:' ? 'wss:' : 'ws:';\n  return `${wsProtocol}//${host}`;\n}\n\nfunction getEndpoint(url) {\n  const parsedUrl = url ? parse(url) : window.location;\n  const protocol = parsedUrl.protocol.replace('ws', 'http');\n  return `${protocol}//${parsedUrl.host}`;\n}\n\nconst env = {\n  authEndpoint: getEndpoint(process.env.REACT_APP_WEBSOCKET_SERVER_URL),\n  websocketServerUrl: process.env.REACT_APP_WEBSOCKET_SERVER_URL || getDefaultWebsocketUrl(),\n  enableAutoSave: false,\n};\n\nexport default env;\n","export function replacerMapToJson(key, value) {\n  const originalObject = this[key];\n  if (originalObject instanceof Map) {\n    return {\n      dataType: 'Map',\n      value: [...originalObject],\n    };\n  } else {\n    return value;\n  }\n}\n\nexport function reviverJsonToMap(key, value) {\n  if (typeof value === 'object' && value !== null) {\n    if (value.dataType === 'Map') {\n      return new Map(value.value);\n    }\n  }\n  return value;\n}\n","export const chunkSubstr = (str, size) => {\n  const numChunks = Math.ceil(str.length / size);\n  const chunks = new Array(numChunks);\n\n  for (let i = 0, o = 0; i < numChunks; ++i, o += size) {\n    chunks[i] = str.substr(o, size);\n  }\n\n  return chunks;\n};\n","import LZString from 'lz-string';\nimport { reviverJsonToMap, replacerMapToJson } from '../utils/jsonMapper';\nimport {\n  CONFIG_INFO,\n  CONFIGURATION_CHUNK_TEMPLATE,\n  CONFIGURATION_CHUNK_LIST,\n} from '../utils/localStorage';\nimport logger from '../utils/logger';\nimport { isObjectValid } from '../utils/objectValidator';\nimport { chunkSubstr } from '../utils/stringChunker';\nimport Protobuf from './Protobuf';\n\nconst extractConfigName = (filename) => {\n  if (!filename) {\n    return '';\n  }\n  const slashIdx = filename.lastIndexOf('\\\\');\n  if (slashIdx !== -1) {\n    filename = filename.substr(slashIdx + 1);\n  }\n  const dotIdx = filename.lastIndexOf('.');\n  if (dotIdx !== -1) {\n    filename = filename.substr(0, dotIdx);\n  }\n  return filename;\n};\n\nconst getConfigName = async (protobuf) => {\n  const request = Protobuf.SvPb.GetConfigurationInfoRequest.create();\n  const { fileName } = await protobuf.request(request);\n  return extractConfigName(fileName);\n};\n\nconst getInspections = async (protobuf) => {\n  try {\n    const inspectionsReq = Protobuf.SvPb.GetInspectionsRequest.create({});\n    const inspectionsRes = await protobuf.request(inspectionsReq);\n    return (inspectionsRes.inspections || []).map((inspection) => ({\n      id: inspection.id,\n      name: inspection.name,\n    }));\n  } catch (e) {\n    // ignore error. will fall back to empty inspection name list.\n    logger.error('Error while fetching inspection name list:', e);\n    return [];\n  }\n};\n\nconst getInspectionIds = (inspections) => {\n  return (inspections || []).map((inspection) => inspection.id);\n};\n\nconst getInspectionNames = (inspections) => {\n  return (inspections || []).map((inspection) => inspection.name);\n};\n\n// objectIDIndex has the format:\n//   {#123}\n// and sometimes also an index at the end:\n//   {#123}[10]\n// or this for empty arrays\n//   {#123}[ ]\n// except of the index at the end, it is a normal id\nconst parseObjectIdIndex = (str) => {\n  if (!str.startsWith('{#')) {\n    return;\n  }\n  const endIdx = str.indexOf('}');\n  if (endIdx < 0) {\n    return;\n  }\n  // TODO parse array index\n  str = str.substr(2, endIdx);\n  return parseInt(str, 10);\n};\n\nconst cleanObjectSelectorNodeRecursively = (node) => {\n  const { name, type, location, objectIDIndex, children, selected } = node;\n  const cleanedChildren = (children || []).map(cleanObjectSelectorNodeRecursively);\n  const id = (objectIDIndex && parseObjectIdIndex(objectIDIndex)) || null;\n  return {\n    id,\n    name,\n    type,\n    location,\n    selected,\n    children: cleanedChildren,\n  };\n};\n\nconst getIdNameMappingForInspection = async (protobuf, inspectionId, inspectionName) => {\n  const req = Protobuf.SvPb.GetObjectSelectorItemsRequest.create({\n    areas: [Protobuf.SvPb.SearchArea.toolsetItems],\n    inspectionID: inspectionId,\n    instanceID: 0, // InvalidObjectId\n    attribute: Protobuf.SvPb.ObjectAttributes.viewable,\n    wholeArray: true,\n    type: Protobuf.SvPb.ObjectSelectorType.allValueObjects,\n    attributesAllowed: 1,\n  });\n  const res = await protobuf.request(req);\n  if (!res.tree) {\n    logger.error('GetObjectSelectorItemsRequest response does not contain a tree');\n    return null;\n  }\n\n  const tree = cleanObjectSelectorNodeRecursively(res.tree);\n\n  const entries = new Map();\n  const queue = (tree && tree.children && tree.children.slice(0)) || [];\n  while (queue.length > 0) {\n    const head = queue.shift();\n    const { id, name, type, location, children } = head;\n    if (id) {\n      entries.set(id, {\n        id,\n        name,\n        type,\n        location,\n        fullLocation: 'Inspections.' + inspectionName + '.' + location,\n      });\n    }\n    if (children && children.length) {\n      for (let i = 0; i < children.length; ++i) {\n        queue.push(children[i]);\n      }\n    }\n  }\n\n  return entries;\n};\n\nconst getObjectSelectorItemsRequest = async (protobuf, inspectionId, requestParameters) => {\n  const req = Protobuf.SvPb.GetObjectSelectorItemsRequest.create(requestParameters);\n  let res;\n  try {\n    res = await protobuf.request(req);\n  } catch (error) {\n    logger.error(error);\n    return null;\n  }\n\n  if (!res.tree) {\n    logger.error('GetObjectSelectorItemsRequest response does not contain a tree');\n    return null;\n  }\n\n  const tree = cleanObjectSelectorNodeRecursively(res.tree);\n  return { tree };\n};\n\nconst getObjectSelectorItemsForInspection = async (protobuf, inspectionId) => {\n  return getObjectSelectorItemsRequest(protobuf, inspectionId, {\n    areas: [Protobuf.SvPb.SearchArea.toolsetItems],\n    inspectionID: inspectionId,\n    instanceID: 0, // InvalidObjectId\n    attribute: Protobuf.SvPb.ObjectAttributes.viewable,\n    wholeArray: true,\n    type: Protobuf.SvPb.ObjectSelectorType.allValueObjects,\n    attributesAllowed: 1,\n  });\n};\n\nconst getRemotelySettableObjectSelectorItemsForInspection = async (protobuf, inspectionId) => {\n  return getObjectSelectorItemsRequest(protobuf, inspectionId, {\n    areas: [Protobuf.SvPb.SearchArea.toolsetItems],\n    inspectionID: inspectionId,\n    instanceID: 0, // InvalidObjectId\n    attribute: Protobuf.SvPb.ObjectAttributes.remotelySettable,\n    wholeArray: true,\n    type: Protobuf.SvPb.ObjectSelectorType.allValueObjects,\n    attributesAllowed: 1,\n  });\n};\n\nconst getObjectSelectorImagesForInspection = async (protobuf, inspectionId) => {\n  return getObjectSelectorItemsRequest(protobuf, inspectionId, {\n    areas: [Protobuf.SvPb.SearchArea.toolsetItems],\n    inspectionID: inspectionId,\n    type: Protobuf.SvPb.ObjectSelectorType.allImageObjects,\n    attribute: Protobuf.SvPb.ObjectAttributes.archivableImage,\n    attributesAllowed: 1,\n  });\n};\n\nconst getVersion = async (protobuf, requestClass) => {\n  const request = requestClass.create();\n  const response = await protobuf.request(request);\n  if (!response.version) {\n    logger.error(`Error while reading version via ${requestClass.name}`);\n    return 'Unknown Version';\n  }\n  return response.version;\n};\n\nconst getPerInspection = async (protobuf, inspectionIds, inspectionNames, fn) => {\n  const itemsByInspectionId = new Map();\n  for (let i = 0; i < inspectionIds.length; ++i) {\n    const inspectionId = inspectionIds[i];\n    const inspectionName = inspectionNames[i];\n    const item = await fn(protobuf, inspectionId, inspectionName);\n    if (item) {\n      itemsByInspectionId.set(inspectionId, item);\n    }\n  }\n  return itemsByInspectionId;\n};\n\nconst getConfigurationTree = async (protobuf) => {\n  const request = Protobuf.SvPb.GetConfigurationTreeRequest.create();\n  const response = await protobuf.request(request);\n  if (!response || !response.tree) {\n    logger.error('Cannot get config tree');\n    return false;\n  }\n  return response;\n};\n\nconst mapInspectionIdtoToolset = async (protobuf) => {\n  const inspectionToolsetMappings = new Map();\n\n  const configurationTree = await getConfigurationTree(protobuf);\n  if (!isObjectValid(() => configurationTree.tree.children)) {\n    logger.error('configTree is not valid');\n    return inspectionToolsetMappings;\n  }\n\n  await Promise.all(\n    configurationTree.tree.children.map(async (inspection) => {\n      const inspectionId = inspection.objectID;\n      if (!inspectionId) {\n        logger.error(`Inspection without valid id: ${inspectionId}`);\n        return;\n      }\n\n      let toolSetId = 0;\n      try {\n        toolSetId = await getToolSetId(protobuf, inspectionId, inspection.name);\n      } catch (e) {\n        logger.error(`Could not load tool set id for ${inspection.name} (${inspectionId})`);\n        return;\n      }\n\n      inspectionToolsetMappings.set(inspectionId, { ...inspection, toolSetId });\n    }),\n  );\n\n  return inspectionToolsetMappings;\n};\n\nconst getToolSetId = async (protobuf, inspectionId, inspectionName) => {\n  const request = Protobuf.SvPb.InspectionCmdRequest.create({\n    inspectionID: inspectionId || undefined,\n    getObjectIdRequest: {\n      name: `${inspectionName}.Tool Set`,\n    },\n  });\n\n  try {\n    const response = await protobuf.request(request);\n    return response?.getObjectIdResponse?.objectId;\n  } catch (error) {\n    logger.error(error);\n  }\n};\nconst getGlobalConstants = async (protobuf, inspectionIds) => {\n  const constants = [];\n  if (!inspectionIds || inspectionIds.length === 0) {\n    return constants;\n  }\n  const reqObj = {\n    areas: [Protobuf.SvPb.SearchArea.globalConstantItems],\n    inspectionID: inspectionIds[0],\n    type: Protobuf.SvPb.ObjectSelectorType.allValueObjects,\n    attribute: Protobuf.SvPb.ObjectAttributes.viewable,\n    attributesAllowed: 1,\n  };\n\n  const req = Protobuf.SvPb.GetObjectSelectorItemsRequest.create(reqObj);\n  const res = await protobuf.request(req);\n\n  (res?.tree?.children || []).forEach((childLevel1) => {\n    if (childLevel1.location === 'Global') {\n      (childLevel1.children || []).forEach((childLevel2) => {\n        constants.push(childLevel2.location);\n      });\n    }\n  });\n\n  return constants;\n};\nexport default class Configuration {\n  static async loadFromCache() {\n    try {\n      let configString = '';\n      const chunksString = localStorage.getItem(CONFIGURATION_CHUNK_LIST);\n      const chunkList = chunksString.split(',');\n\n      configString = chunkList.map((key) => localStorage.getItem(key)).join();\n      const decompressedConfig = LZString.decompress(configString);\n      const config = JSON.parse(decompressedConfig, reviverJsonToMap);\n\n      return new Configuration({\n        ...config,\n      });\n    } catch (err) {\n      logger.error({ err }, 'Error loading configuration');\n      return null;\n    }\n  }\n\n  static async saveToCache(configuration, configInfo) {\n    const stringifiedConfig = LZString.compress(JSON.stringify(configuration, replacerMapToJson));\n    const configChunks = chunkSubstr(stringifiedConfig, 1000000); // 1m chars = 1MB chunks\n    let configChunkNames = [];\n\n    for (let i = 0; i < configChunks.length; i++) {\n      const chunk = configChunks[i];\n      const chunkName = `${CONFIGURATION_CHUNK_TEMPLATE}${i}`;\n      localStorage.setItem(chunkName, chunk);\n      configChunkNames.push(chunkName);\n    }\n\n    localStorage.setItem(CONFIGURATION_CHUNK_LIST, configChunkNames.join(','));\n    localStorage.setItem(CONFIG_INFO, JSON.stringify(configInfo));\n  }\n\n  static extractConfigNameFromFileName(filename) {\n    return extractConfigName(filename);\n  }\n\n  async discoverInspectionsWithConfigName(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    try {\n      const promises = await Promise.all([getConfigName(protobuf), getInspections(protobuf)]);\n\n      const [configName, inspections] = promises;\n\n      this.name = configName;\n      this.inspections = inspections;\n      this.inspectionIds = getInspectionIds(inspections);\n      this.inspectionNames = getInspectionNames(inspections);\n    } catch (err) {\n      logger.error({ err }, 'Error while discovering configuration');\n      return;\n    }\n  }\n\n  async discoverPartsInBackground(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    try {\n      const promises = await Promise.all([\n        getVersion(protobuf, Protobuf.SvPb.GetSVObserverVersionRequest),\n        getVersion(protobuf, Protobuf.SvPb.GetGatewayVersionRequest),\n        getVersion(protobuf, Protobuf.SvPb.GetWebAppVersionRequest),\n        getPerInspection(\n          protobuf,\n          this.inspectionIds,\n          this.inspectionNames,\n          getIdNameMappingForInspection,\n        ),\n        getPerInspection(\n          protobuf,\n          this.inspectionIds,\n          this.inspectionNames,\n          getObjectSelectorItemsForInspection,\n        ),\n        getPerInspection(\n          protobuf,\n          this.inspectionIds,\n          this.inspectionNames,\n          getRemotelySettableObjectSelectorItemsForInspection,\n        ),\n        getPerInspection(\n          protobuf,\n          this.inspectionIds,\n          this.inspectionNames,\n          getObjectSelectorImagesForInspection,\n        ),\n        mapInspectionIdtoToolset(protobuf),\n        getGlobalConstants(protobuf, this.inspectionIds),\n      ]);\n      const [\n        svObserverVersion,\n        gatewayVersion,\n        webAppVersion,\n        idNameMappings,\n        objectSelectorItems,\n        remotelySettableObjectSelectorItems,\n        objectSelectorImages,\n        inspectionToolsetMappings,\n        globalConstants,\n      ] = promises;\n\n      this.versions = { svObserverVersion, gatewayVersion, webAppVersion };\n      this.idNameMappings = idNameMappings;\n      this.objectSelectorItems = objectSelectorItems;\n      this.remotelySettableObjectSelectorItems = remotelySettableObjectSelectorItems;\n      this.objectSelectorImages = objectSelectorImages;\n      this.inspectionToolsetMappings = inspectionToolsetMappings;\n      this.globalConstants = globalConstants;\n    } catch (err) {\n      logger.error({ err }, 'Error while discovering configuration');\n      return;\n    }\n  }\n\n  constructor(config) {\n    this.name = '';\n    this.inspections = [];\n    this.inspectionIds = [];\n    this.inspectionNames = [];\n    this.idNameMappings = new Map();\n    this.objectSelectorItems = new Map();\n    this.remotelySettableObjectSelectorItems = new Map();\n    this.objectSelectorImages = new Map();\n    this.versions = {};\n    this.inspectionToolsetMappings = new Map();\n    this.globalConstants = [];\n\n    if (Object.keys(config).length !== 0) {\n      // copy all provided fields into this.\n      // this allows treating the configuration instance like a\n      // normal json object, but with additional helper functions.\n      Object.assign(this, config);\n    }\n  }\n\n  getSvObserverVersion() {\n    return this.versions && this.versions.svObserverVersion;\n  }\n\n  getGatewayVersion() {\n    return this.versions && this.versions.gatewayVersion;\n  }\n\n  getWebAppVersion() {\n    return this.versions && this.versions.webAppVersion;\n  }\n\n  getInspections() {\n    return this.inspections;\n  }\n\n  getInspectionName(inspectionId) {\n    const inspection = (this.inspections || []).find((i) => i.id === inspectionId);\n    return inspection && inspection.name;\n  }\n\n  getValueNameForId(inspectionId, id) {\n    if (typeof inspectionId === 'string') {\n      inspectionId = parseInt(inspectionId, 10);\n    }\n    const mappings = this.idNameMappings.get(inspectionId);\n    if (mappings) {\n      if (typeof id === 'string') {\n        id = parseInt(id, 10);\n      }\n      const mapping = mappings.get(id);\n      if (mapping) {\n        return mapping.fullLocation;\n      }\n    }\n    return null;\n  }\n\n  async setIdNameMappings(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    if (\n      this.idNameMappings.size === 0 &&\n      this.inspectionIds.length !== 0 &&\n      this.inspectionNames.length !== 0\n    ) {\n      const mappings = await getPerInspection(\n        protobuf,\n        this.inspectionIds,\n        this.inspectionNames,\n        getIdNameMappingForInspection,\n      );\n      this.idNameMappings = mappings;\n    } else {\n      logger.warn('setIdNameMappings: id name mappings already set');\n    }\n  }\n\n  getObjectSelectorItemsForInspection(inspectionId) {\n    return this.objectSelectorItems.get(inspectionId);\n  }\n\n  async setObjectSelectorItems(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    if (\n      this.objectSelectorItems.size === 0 &&\n      this.inspectionIds.length !== 0 &&\n      this.inspectionNames.length !== 0\n    ) {\n      const objectSelectorItems = await getPerInspection(\n        protobuf,\n        this.inspectionIds,\n        this.inspectionNames,\n        getObjectSelectorItemsForInspection,\n      );\n      this.objectSelectorItems = objectSelectorItems;\n    } else {\n      logger.warn('setObjectSelectorItems: object selector items already set');\n    }\n  }\n\n  getRemotelySettableObjectSelectorItemsForInspection(inspectionId) {\n    return this.remotelySettableObjectSelectorItems.get(inspectionId);\n  }\n\n  getObjectSelectorImagesForInspection(inspectionId) {\n    return this.objectSelectorImages.get(inspectionId);\n  }\n\n  async setObjectSelectorImages(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    if (\n      this.objectSelectorImages.size === 0 &&\n      this.inspectionIds.length !== 0 &&\n      this.inspectionNames.length !== 0\n    ) {\n      const objectSelectorImages = await getPerInspection(\n        protobuf,\n        this.inspectionIds,\n        this.inspectionNames,\n        getObjectSelectorImagesForInspection,\n      );\n      this.objectSelectorImages = objectSelectorImages;\n    } else {\n      logger.warn('setObjectSelectorImages: object selector images already set');\n    }\n  }\n\n  async setInspectionIdToToolsetMappings(protobuf) {\n    if (this.inspectionToolsetMappings.size === 0) {\n      this.resetInspectionIdToToolsetMappings(protobuf);\n    } else {\n      logger.warn('setInspectionIdToToolsetMappings: mappings already done');\n    }\n  }\n\n  async resetInspectionIdToToolsetMappings(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    const mappings = await mapInspectionIdtoToolset(protobuf);\n    this.inspectionToolsetMappings = mappings;\n  }\n\n  async updateInspectionIdToToolsetMapping(protobuf, inspectionId) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    const configurationTree = await getConfigurationTree(protobuf);\n    if (!isObjectValid(() => configurationTree.tree.children)) {\n      logger.error('configTree is not valid');\n      return;\n    }\n\n    for (const inspection of configurationTree.tree.children) {\n      const id = inspection.objectID;\n      if (id === inspectionId) {\n        let toolSetId = 0;\n        try {\n          toolSetId = await getToolSetId(protobuf, id, inspection.name);\n        } catch (e) {\n          logger.error(`Could not load tool set id for ${inspection.name} (${id})`);\n          return;\n        }\n\n        this.inspectionToolsetMappings.set(inspectionId, { ...inspection, toolSetId });\n        return;\n      }\n    }\n  }\n\n  // Currently filters array data from values\n  // TODO: array data should be shown in tree, but id must be changed (all have same id atm)\n  filterArrayValuesFromTree = (tree) => {\n    let stack = [],\n      node,\n      ii;\n    stack.push(tree);\n    while (stack.length > 0) {\n      node = stack.pop();\n      if (!node?.id && node?.children?.length) {\n        let firstChildId = '';\n        for (ii = 0; ii < node.children.length; ii += 1) {\n          if (firstChildId === node.children[ii].id) {\n            node.children = [];\n            node.id = firstChildId;\n            break;\n          }\n          if (node.children[ii].id) {\n            firstChildId = node.children[ii].id;\n          }\n        }\n        for (ii = 0; ii < node.children.length; ii += 1) {\n          stack.push(node.children[ii]);\n        }\n      }\n    }\n    return tree;\n  };\n}\n","export default __webpack_public_path__ + \"static/media/info.6a606506.svg\";","export default __webpack_public_path__ + \"static/media/close.f005b782.svg\";","export default __webpack_public_path__ + \"static/media/clear.1114cb53.svg\";","export default __webpack_public_path__ + \"static/media/save.a6a0528c.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\n\nimport Dialog from '../../components/Dialog';\nimport map from './viewMappings';\n\nclass HelpView extends Component {\n  render() {\n    const { onClose, open, focusedViewType, locale } = this.props;\n    let helpUrl;\n    switch (locale) {\n      case 'en':\n        helpUrl = `/help/en/SVOWebApp_WebHelp.htm#cshid=${map[focusedViewType]}`;\n        break;\n\n      case 'de':\n        helpUrl = `/help/de/SVOWebApp_WebHelp.htm#cshid=${map[focusedViewType]}`;\n        break;\n\n      default:\n        helpUrl = `/help/en/SVOWebApp_WebHelp.htm#cshid=${map[focusedViewType]}`;\n        break;\n    }\n    return (\n      <Dialog isFullscreen title={<FormattedMessage id=\"helpView\" />} onClose={onClose} open={open}>\n        <iframe\n          className=\"help-frame\"\n          title=\"help\"\n          style={{ width: '100%', height: '97%' }}\n          src={helpUrl}\n        />\n      </Dialog>\n    );\n  }\n}\n\nHelpView.defaultProps = {\n  open: false,\n  locale: 'en',\n};\n\nHelpView.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n  locale: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n  focusedViewType: state.app.focusedViewType,\n  locale: state.app.locale,\n});\n\nexport default connect(mapStateToProps)(HelpView);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\n\nconst Heading = ({ type, intlId }) =>\n  React.createElement(\n    type,\n    {\n      className: 'heading',\n    },\n    <FormattedMessage id={`${intlId}` || 'none'} />,\n  );\n\nHeading.defaultProps = {\n  intlId: 'none',\n};\n\nHeading.propTypes = {\n  type: PropTypes.string.isRequired,\n  intlId: PropTypes.string,\n};\n\nexport default Heading;\n","import { IMAGE_VIEW, PARAMETER_VIEW, LIST_VIEW } from '../ViewSetFactory';\n\nexport const PERMISSIONS = 'PERMISSIONS';\nexport const DEBUGGER = 'DEBUGGER';\n\nconst Views = {\n  PARAMETER_VIEW,\n  LIST_VIEW,\n  IMAGE_VIEW,\n  PERMISSIONS,\n  DEBUGGER,\n};\n\nexport default Views;\n","export default class ConfigurationLock {\r\n  constructor(lock) {\r\n    this.lockId = undefined;\r\n    this.takeoverId = undefined;\r\n    this.owner = undefined;\r\n    this.takeoverUser = undefined;\r\n    this.host = '';\r\n    this.lockDescription = '';\r\n    this.takeoverMessage = '';\r\n    this.status = 0;\r\n\r\n    // Workaround for checking if config lock is already owned by the same logged user in Proxy.js.\r\n    // In this file (Proxy.js) we don't have an access to redux state.app.user,\r\n    // but we know that it is the same logged user only when LockAcquiredNotification comes\r\n    // from SVOGateway. In result this member is set only in this one place\r\n    // and reset while releasing or passing the lock to other user.\r\n    this.lockedInSameAppInstance = false;\r\n\r\n    // Flags to control alert dialogs\r\n    this.isTakeoverAttempt = false;\r\n    this.configAlreadyLocked = false;\r\n    this.isWaitingForResponse = false;\r\n    this.ownerRejectedTakeover = false;\r\n\r\n    if (Object.keys(lock).length !== 0) {\r\n      Object.assign(this, lock);\r\n    }\r\n  }\r\n\r\n  isLocked() {\r\n    return this.status === 1;\r\n  }\r\n\r\n  isUnlocked() {\r\n    return this.status === 0;\r\n  }\r\n\r\n  isSameUserAsOwner(user) {\r\n    return user.username === this.owner;\r\n  }\r\n\r\n  isLockedBySameUser(user) {\r\n    return this.isLocked() && this.isSameUserAsOwner(user);\r\n  }\r\n\r\n  isLockedByOtherUser(user) {\r\n    return this.isLocked() && !this.isSameUserAsOwner(user);\r\n  }\r\n\r\n  isLockedInDifferentAppInstance() {\r\n    return this.isLocked() && !this.lockedInSameAppInstance;\r\n  }\r\n\r\n  isTakeoverAttemptFromOtherUser() {\r\n    return this.isTakeoverAttempt;\r\n  }\r\n\r\n  isConfigAlreadyLocked() {\r\n    return this.configAlreadyLocked;\r\n  }\r\n\r\n  isWaitingForTakeoverResponse() {\r\n    return this.isWaitingForResponse;\r\n  }\r\n\r\n  isOwnerRejectedTakeover() {\r\n    return this.ownerRejectedTakeover;\r\n  }\r\n\r\n  resetTakeoverAttempt() {\r\n    this.isTakeoverAttempt = false;\r\n  }\r\n\r\n  resetAlertDialogFlags() {\r\n    this.configAlreadyLocked = false;\r\n    this.ownerRejectedTakeover = false;\r\n  }\r\n\r\n  handleLockAcquiredNotification(notification) {\r\n    this.lockId = notification.lockId;\r\n    this.owner = notification.user;\r\n    this.host = notification.host;\r\n    this.lockDescription = notification.description;\r\n    this.status = 1; // Locked\r\n    this.lockedInSameAppInstance = true;\r\n\r\n    this.isWaitingForResponse = false;\r\n  }\r\n\r\n  handleLockTakeoverNotification(notification) {\r\n    this.takeoverId = notification.takeoverId;\r\n    this.takeoverMessage = notification.message;\r\n    this.takeoverUser = notification.user;\r\n\r\n    this.isTakeoverAttempt = true;\r\n  }\r\n\r\n  handleLockReleasedNotification() {\r\n    this.lockId = undefined;\r\n    this.owner = undefined;\r\n    this.host = '0.0.0.0';\r\n    this.lockDescription = '';\r\n    this.status = 0; // Unlocked\r\n  }\r\n\r\n  handleLockAlreadyLockedNotification(notification) {\r\n    this.lockId = notification.lockId;\r\n    this.owner = notification.user;\r\n    this.host = notification.host;\r\n    this.lockDescription = notification.description;\r\n    this.status = 1; // Locked\r\n\r\n    this.configAlreadyLocked = true;\r\n  }\r\n\r\n  handleLockTakeoverRejectedNotification() {\r\n    this.isWaitingForResponse = false;\r\n    this.ownerRejectedTakeover = true;\r\n  }\r\n\r\n  waitForTakeoverResponse() {\r\n    this.isWaitingForResponse = true;\r\n  }\r\n}\r\n","import Protobuf from '../protobuf/Protobuf';\n\nexport const flattenProtobuf = (oldObject: Record<string, any>) => {\n  const permissions = new Set<string>();\n  flattenProtobufRec(oldObject, permissions, '');\n  return permissions;\n};\n\nconst flattenProtobufRec = (\n  currentObject: Record<string, any>,\n  permissions: Set<string>,\n  parentPath: string,\n) => {\n  for (const key in currentObject.nested) {\n    const value = currentObject.nested[key];\n    const currKey = key.toLowerCase();\n    const currPath = parentPath ? `${parentPath}.${currKey}` : currKey;\n    if (!value.nested && value.fields) {\n      if (currPath === 'webapp.view') {\n        const viewTypeProtobuf = Protobuf.SvPb.lookup('ViewType');\n        for (let i = 0; i < Object.keys(viewTypeProtobuf.values).length; i++) {\n          const viewPath = `${currPath}[type=${getViewName(i)}]`;\n          addFieldValues(permissions, viewPath, value.fields);\n        }\n      } else {\n        addFieldValues(permissions, currPath, value.fields);\n      }\n    } else {\n      flattenProtobufRec(value, permissions, currPath);\n    }\n  }\n};\n\nconst addFieldValues = (permissions: Set<string>, path: string, fields: Record<string, any>) => {\n  Object.keys(fields).forEach((key) => {\n    const field = fields[key];\n    if (field.type === 'bool') {\n      const name = field.name.toLowerCase();\n      permissions.add(`${path}.${name}`);\n    }\n  });\n};\n\nexport const flattenPermissionsRec = (\n  currentObject: Record<string, any>,\n  permissions: Set<string>,\n  parentPath: string,\n) => {\n  for (const key in currentObject) {\n    const value = currentObject[key];\n    if (key.indexOf('$') !== -1) {\n      continue;\n    }\n    const currPath = parentPath ? `${parentPath}.${key}` : key;\n    if (Array.isArray(value)) {\n      if (currPath === 'webapp.view') {\n        for (let i = 0; i < value.length; ++i) {\n          const entry = value[i];\n          const viewPath = `${currPath}[type=${getViewName(entry.type)}]`;\n          flattenPermissionsRec(entry, permissions, viewPath);\n        }\n      }\n    } else if (typeof value === 'object') {\n      flattenPermissionsRec(value, permissions, currPath);\n    } else if (typeof value === 'boolean' && value) {\n      permissions.add(currPath);\n    } else {\n      //boolean = false\n      //another type, p.e. number\n    }\n  }\n};\n\nconst createObjectFromFlattenedPermissions = (a: string[], obj: Record<string, any>, v: string) => {\n  if (!a.length) {\n    return;\n  }\n  const k = a.shift() as string;\n\n  if (a.length > 0) {\n    if (k.startsWith('view[')) {\n      const type = getViewId(k.substring(k.indexOf('[type=') + 6, k.indexOf(']')));\n\n      if (!obj.view) {\n        obj.view = [];\n      }\n      const index = obj.view.findIndex((view: any) => view.type === type);\n      if (index !== -1) {\n        obj.view[index] = { ...obj.view[index], [a[0]]: true };\n      } else {\n        obj.view.push({ type, [a[0]]: true });\n      }\n    } else {\n      if (Object(obj[k]) !== obj[k]) {\n        obj[k] = {};\n      }\n\n      createObjectFromFlattenedPermissions(a, obj[k], v);\n    }\n  } else {\n    obj[k] = true;\n  }\n};\n\nexport const getGroupPermissionsFromFlattenedPermissions = (flattenedPermissions: any[]) => {\n  const result: { name: number; permissions: Record<string, any> }[] = [];\n  flattenedPermissions.forEach((groupEntry, name) => {\n    const permissionForUser: Record<string, any> = {};\n    groupEntry.groupPermissions.forEach((permission: string) => {\n      createObjectFromFlattenedPermissions(\n        permission.split('.'),\n        permissionForUser,\n        permissionForUser[permission],\n      );\n    });\n    result.push({\n      name,\n      permissions: permissionForUser,\n    });\n  });\n\n  return result;\n};\n\nconst getViewName = (viewType: number) => {\n  switch (viewType) {\n    case 0:\n      return 'AnyView';\n    case 1:\n      return 'ImageView';\n    case 2:\n      return 'ListView';\n    case 3:\n      return 'ImageStripView';\n    case 4:\n      return 'ParameterView';\n    case 5:\n      return 'ToolSetView';\n    default:\n      return '';\n  }\n};\n\nconst getViewId = (viewType: string) => {\n  switch (viewType) {\n    case 'AnyView':\n      return 0;\n    case 'ImageView':\n      return 1;\n    case 'ListView':\n      return 2;\n    case 'ImageStripView':\n      return 3;\n    case 'ParameterView':\n      return 4;\n    case 'ToolSetView':\n      return 5;\n    default:\n      return 0;\n  }\n};\n\nexport const canSaveConfig = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.configuration.save') : false;\n};\n\nexport const canReadLogs = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.logs.read') : false;\n};\n\nexport const canAddViewSet = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.add') : false;\n};\n\nexport const canReadViewSet = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.read') : false;\n};\n\nexport const canEditViewSet = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.edit') : false;\n};\n\nexport const canDeleteViewSet = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.remove') : false;\n};\n\nexport const canAddImageView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadImageView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditImageView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteImageView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddListView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadListView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditListView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteListView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddImageStripView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadImageStripView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditImageStripView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteImageStripView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddParameterView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadParameterView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditParameterView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteParameterView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddToolSetView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadToolSetView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditToolSetView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteToolSetView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddInputToolView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=InputToolView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canEditInputToolView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=InputToolView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteInputToolView = (myPermissions: Set<string>) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=InputToolView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canReadSVOMode = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.mode.read') : false;\n};\n\nexport const canEditSVOMode = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.mode.edit') : false;\n};\n\nexport const canReadInspectionState = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.inspectionstate.read') : false;\n};\n\nexport const canEditInspectionState = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.inspectionstate.edit') : false;\n};\n\nexport const canReadValue = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.value.read') : false;\n};\n\nexport const canEditValue = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.value.edit') : false;\n};\n\nexport const canReadTool = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.read') : false;\n};\n\nexport const canEditTool = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.edit') : false;\n};\n\nexport const canAddTool = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.add') : false;\n};\n\nexport const canDeleteTool = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.remove') : false;\n};\n\nexport const canReadUserManagement = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('usermanagement.userpermissions.read') : false;\n};\n\nexport const canEditUserManagement = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('usermanagement.userpermissions.edit') : false;\n};\n\nexport const canReadSVOConfiguration = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.configuration.read') : false;\n};\n\nexport const canWriteSVOConfiguration = (myPermissions: Set<string>) => {\n  return myPermissions ? myPermissions.has('svobserver.configuration.write') : false;\n};\n","import axios from 'axios';\nimport jwtDecode from 'jwt-decode';\nimport pick from 'lodash/pick';\nimport env from '../utils/env';\nimport logger from '../utils/logger';\n\nexport const logIn = async (username, password) => {\n  const url = `${env.authEndpoint}/login`;\n  const loginRes = await axios.post(url, { username, password });\n  const { accessToken } = loginRes.data;\n  return await authenticate(accessToken);\n};\n\nexport const authenticate = async (accessToken) => {\n  const url = `${env.authEndpoint}/auth`;\n  const authRes = await axios.post(url, { accessToken });\n  const { authToken } = authRes.data;\n  // TODO verify the token signature\n  const claims = jwtDecode(authToken);\n  const user = pick(claims, ['email', 'fullname', 'username']);\n  return { authToken, user };\n};\n\nexport const logOut =\n  (notifyGateway = true) =>\n  async () => {\n    logger.removeProxy();\n    if (notifyGateway) {\n      const url = `${env.authEndpoint}/logout`;\n      try {\n        await axios.post(url, {});\n      } catch (err) {\n        logger.warn({ err }, 'Error while calling /logout');\n      }\n    }\n  };\n","export default __webpack_public_path__ + \"static/media/pause.ea3fe966.svg\";","export default __webpack_public_path__ + \"static/media/play.f6ca6855.svg\";","export const LOCK_ACQUISITION_REQUEST = 'lockAcquisitionRequest';\r\n","import { Key } from 'react';\nimport { useIntl } from 'react-intl';\nimport logger from '../../../utils/logger';\nimport IconButton from '../IconButton';\n\nimport './style.scss';\n\ninterface ToggleButtonProps {\n  id?: Key;\n  intlId?: string;\n  iconUrl: string;\n  enabled: boolean | any;\n  onClickHandler?: () => void;\n  showAlternative?: boolean;\n  intlIdAlternative?: string;\n  iconUrlAlternative?: string;\n  onClickHandlerAlternative?: () => void;\n}\n\nexport const ToggleButton = ({\n  id,\n  intlId,\n  iconUrl,\n  enabled,\n  onClickHandler,\n  intlIdAlternative,\n  iconUrlAlternative,\n  onClickHandlerAlternative,\n  showAlternative,\n}: ToggleButtonProps) => {\n  if (\n    !intlId ||\n    !iconUrl ||\n    !onClickHandler ||\n    (showAlternative && (!intlIdAlternative || !iconUrlAlternative || !onClickHandlerAlternative))\n  ) {\n    logger.error('ToggleButton component did not receive required parameters');\n  }\n\n  const intl = useIntl();\n\n  return showAlternative ? (\n    <IconButton\n      key={id}\n      tooltip={intl.messages[`${intlIdAlternative}` as never]}\n      onClick={() => {\n        onClickHandlerAlternative?.();\n      }}\n      iconUrl={iconUrlAlternative ?? ''}\n      enabled={enabled}\n    />\n  ) : (\n    <IconButton\n      key={intlId}\n      tooltip={intl.messages[`${intlId}` as never]}\n      onClick={() => onClickHandler?.()}\n      iconUrl={iconUrl}\n      enabled={enabled}\n    />\n  );\n};\n","export default __webpack_public_path__ + \"static/media/help.64b70362.svg\";","export default __webpack_public_path__ + \"static/media/download.c1bdaf13.svg\";","export default __webpack_public_path__ + \"static/media/show.6ac709c0.svg\";","export default __webpack_public_path__ + \"static/media/image.ab9e385a.svg\";","export default class Product {\n  constructor({ history, trigger, isReject }) {\n    this.history = history;\n    this.trigger = trigger;\n    this.isReject = isReject;\n    this.useCount = 0;\n    this.images = new Map();\n    this.values = new Map();\n  }\n\n  getImage(imageId) {\n    this.checkNotReleasedYet();\n    return this.images.get(imageId);\n  }\n\n  getImages(imageIds) {\n    this.checkNotReleasedYet();\n    return (imageIds || []).map((imageId) => this.images.get(imageId));\n  }\n\n  getValue(valueId) {\n    this.checkNotReleasedYet();\n    return this.values.get(valueId);\n  }\n\n  getValuesAsString(valueIds, fallbackValue = '<UNAVAILABLE>') {\n    this.checkNotReleasedYet();\n    return (valueIds || []).map((valueId) => {\n      let value = this.values.has(valueId) && this.values.get(valueId).value;\n\n      if (value === undefined) {\n        value = fallbackValue;\n      }\n      return {\n        id: valueId,\n        value: value.toString(),\n      };\n    });\n  }\n\n  buildUrl(b64Data, contentType = '', sliceSize = 512) {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\n\n      const byteNumbers = new Array(slice.length);\n      for (let i = 0; i < slice.length; i++) {\n        byteNumbers[i] = slice.charCodeAt(i);\n      }\n\n      const byteArray = new Uint8Array(byteNumbers);\n      byteArrays.push(byteArray);\n    }\n\n    const blob = new Blob(byteArrays, { type: contentType });\n    return URL.createObjectURL(blob);\n  }\n\n  async addData({ images, values }) {\n    this.checkNotReleasedYet();\n\n    const imagePromises = [];\n    images.forEach(({ id, image, overlays }) => {\n      if (!this.images.has(id) && image && image.rgbData) {\n        imagePromises.push(this.initImage(id, image, overlays));\n      }\n    });\n\n    values.forEach(({ id, value }) => {\n      if (!this.values.has(id) && value) {\n        const valueStr = this.getValueFromVariant(value);\n        this.values.set(id, {\n          id,\n          value: valueStr,\n        });\n      }\n    });\n\n    await Promise.all(imagePromises);\n  }\n\n  async initImage(id, image, overlays) {\n    const { domImage, url } = await this.buildImage(image);\n    const overlayImages = await this.initOverlayImages(overlays);\n    this.images.set(id, {\n      id,\n      image,\n      domImage,\n      overlays,\n      overlayImages,\n      url,\n    });\n  }\n\n  buildImage({ rgbData, type }) {\n    return new Promise((resolve, reject) => {\n      const arrayBufferView = new Uint8Array(rgbData);\n      const blob = new Blob([arrayBufferView], { type: type || 'image/bmp' });\n      const domURL = self.URL || self.webkitURL || self; // eslint-disable-line\n      const url = domURL.createObjectURL(blob);\n      const domImage = new Image();\n      domImage.onload = () => {\n        resolve({ domImage, url });\n      };\n      domImage.onerror = (e) => {\n        domURL.revokeObjectURL(url);\n        reject(e);\n      };\n      domImage.src = url;\n    });\n  }\n\n  initOverlayImages(overlaysDesc) {\n    const promises = [];\n    ((overlaysDesc && overlaysDesc.overlays) || []).forEach((overlay) => {\n      (overlay.shapeGroups || []).forEach((shapeGroup) => {\n        (shapeGroup.shapes || []).forEach((shape) => {\n          if (shape && shape.image && shape.image.image && shape.image.image.rgbData) {\n            promises.push(\n              this.buildImage(shape.image.image).then(({ domImage, url }) => {\n                shape.image.domImage = domImage;\n                shape.image.url = url;\n                return shape.image;\n              }),\n            );\n          }\n        });\n      });\n    });\n    return Promise.all(promises);\n  }\n\n  getValueFromVariant(v) {\n    if (!v) {\n      return undefined;\n    }\n    return v[v.data];\n  }\n\n  lock() {\n    this.useCount++;\n  }\n\n  release() {\n    this.history?.releaseProduct(this.trigger);\n  }\n\n  releaseImpl() {\n    if (this.useCount <= 0) {\n      throw new Error(`Invalid use count ${this.useCount} in Product::release()`);\n    }\n\n    this.useCount--;\n    if (this.useCount > 0) {\n      return false;\n    }\n\n    this.releaseImages();\n\n    this.images.clear();\n    this.values.clear();\n    this.history = null;\n    this.released = true;\n\n    return true;\n  }\n\n  releaseImages() {\n    this.images.forEach((image) => {\n      this.releaseImage(image);\n\n      image.overlayImages.forEach((overlayImage) => {\n        this.releaseImage(overlayImage);\n      });\n    });\n  }\n\n  releaseImage(image) {\n    if (image.domImage) {\n      image.domImage.onload = undefined;\n      image.domImage.onerror = undefined;\n      image.domImage.remove(); // explicitly remove the image from the DOM\n      image.domImage = null;\n    }\n\n    if (image.url) {\n      const domURL = self.URL || self.webkitURL || self; // eslint-disable-line\n      domURL.revokeObjectURL(image.url);\n    }\n  }\n\n  checkNotReleasedYet() {\n    if (this.released) {\n      throw new Error('Can not use Product after releasing it!');\n    }\n  }\n}\n","export default __webpack_public_path__ + \"static/media/logo.a5b69c2a.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nconst Logo = ({ src, title }) => (\n  <div className=\"logo-wrapper\">\n    <img src={src} alt={title} />\n  </div>\n);\n\nLogo.propTypes = {\n  src: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n};\n\nexport default Logo;\n","import modes from '../utils/modes';\nimport Protobuf from './Protobuf';\n\nexport const mapProtobufDeviceModeToWebAppMode = (deviceMode) => {\n  switch (deviceMode) {\n    case Protobuf.SvPb.DeviceModeType.available:\n      return modes.unknownMode.id;\n    case Protobuf.SvPb.DeviceModeType.runMode:\n      return modes.runMode.id;\n    case Protobuf.SvPb.DeviceModeType.stopMode:\n      return modes.stopMode.id;\n    case Protobuf.SvPb.DeviceModeType.regressionMode:\n      return modes.regressionMode.id;\n    case Protobuf.SvPb.DeviceModeType.testMode:\n      return modes.testMode.id;\n    case Protobuf.SvPb.DeviceModeType.editMode:\n      return modes.editMode.id;\n    case Protobuf.SvPb.DeviceModeType.modeChanging:\n      return modes.unknownMode.id;\n    default:\n      throw new Error(`Unsupported device mode ${deviceMode}`);\n  }\n};\n\nexport const mapWebAppModeToProtobufDeviceMode = (mode) => {\n  switch (mode) {\n    case modes.unknownMode.id:\n      return Protobuf.SvPb.DeviceModeType.available;\n    case modes.runMode.id:\n      return Protobuf.SvPb.DeviceModeType.runMode;\n    case modes.stopMode.id:\n      return Protobuf.SvPb.DeviceModeType.stopMode;\n    case modes.regressionMode.id:\n      return Protobuf.SvPb.DeviceModeType.regressionMode;\n    case modes.testMode.id:\n      return Protobuf.SvPb.DeviceModeType.testMode;\n    case modes.editMode.id:\n      return Protobuf.SvPb.DeviceModeType.editMode;\n    default:\n      throw new Error(`Unsupported mode ${mode}`);\n  }\n};\n\nexport const mapLogLevelNameToProtobufLogSeverity = (levelName) => {\n  switch (levelName) {\n    case 'trace':\n      return Protobuf.SvPb.LogSeverity.trace;\n    case 'debug':\n      return Protobuf.SvPb.LogSeverity.debug;\n    case 'info':\n      return Protobuf.SvPb.LogSeverity.info;\n    case 'warn':\n      return Protobuf.SvPb.LogSeverity.warning;\n    case 'error':\n      return Protobuf.SvPb.LogSeverity.error;\n    default:\n      return Protobuf.SvPb.LogSeverity.error;\n  }\n};\n","import { Tooltip } from 'react-tippy';\nimport './style.scss';\n\nexport interface IconButtonProps {\n  iconUrl: string;\n  onClick?: () => void;\n  tooltip?: string;\n  style?: React.CSSProperties;\n  enabled?: boolean;\n}\n\nconst IconButton = ({ iconUrl, onClick, tooltip, style = {}, enabled = true }: IconButtonProps) => (\n  <div\n    className=\"icon-button-wrapper\"\n    style={{\n      pointerEvents: enabled ? 'auto' : 'none',\n      opacity: enabled ? '1.0' : '0.3',\n    }}\n  >\n    <Tooltip title={tooltip} trigger=\"mouseenter\" duration={1} delay={1000}>\n      <button\n        style={{\n          ...style,\n          backgroundImage: `url(${iconUrl})`,\n          backgroundPosition: 'center',\n          backgroundSize: '100% 100%',\n        }}\n        onClick={onClick}\n        className=\"icon-button\"\n      />\n    </Tooltip>\n  </div>\n);\n\nexport default IconButton;\n","import PropTypes from 'prop-types';\n\nconst ProxyType = PropTypes.shape({});\n\nexport default ProxyType;\n","import React from 'react';\nimport './style.scss';\n\nconst Container = ({\n  children,\n  style,\n}: {\n  children: React.ReactNode;\n  style?: React.CSSProperties;\n}) => (\n  <div className=\"container\" style={style}>\n    {children}\n  </div>\n);\n\nexport default Container;\n","import Protobuf from '../protobuf/Protobuf';\nimport { addVariableValueShouldBeInTheRangeNotification } from '../redux/actions/index';\nimport modes from '../utils/modes';\nimport logger from './logger';\n\nconst MID_SHORT_SIZE = 20;\n\nexport const drawInspectionOverlays = ({\n  drawTarget,\n  zoomFactor,\n  overlays,\n  boundingCoordinates,\n  width,\n  height,\n  currentMode,\n}) => {\n  if (!overlays || overlays.length === 0) {\n    logger.error('drawInspectionOverlays expects overlays but did not receive');\n    return;\n  }\n  const targetContext = drawTarget.getContext('2d');\n  zoomFactor = zoomFactor || 1;\n  if (overlays && overlays.length > 0) {\n    targetContext.setLineDash([]);\n    overlays.forEach((overlay) => {\n      const colorInt = (overlay.color && overlay.color.value) || 0;\n      const colorString = getRgbaString(colorInt);\n      targetContext.fillStyle = colorString;\n      const fontSize = 10 / zoomFactor;\n      targetContext.lineWidth = 1 / zoomFactor;\n      targetContext.font = fontSize + 'px Arial';\n      targetContext.strokeStyle = colorString;\n\n      const boundingShape = overlay.boundingShape.shape;\n\n      switch (boundingShape) {\n        case Protobuf.SvPb.OverlayBoundingShape.fields.rect.name:\n          renderRectangleTool(\n            targetContext,\n            zoomFactor,\n            fontSize,\n            colorString,\n            overlay,\n            boundingCoordinates,\n            currentMode,\n          );\n          break;\n        case Protobuf.SvPb.OverlayBoundingShape.fields.slice.name:\n          renderSliceTool(targetContext, overlay, boundingCoordinates);\n          break;\n        case Protobuf.SvPb.OverlayBoundingShape.fields.perspective.name:\n          renderPerspectiveTool(\n            targetContext,\n            zoomFactor,\n            overlay,\n            boundingCoordinates,\n            width,\n            height,\n          );\n          break;\n        default:\n          logger.error('Unknown boundingShape received');\n          return;\n      }\n    });\n  }\n};\n\nconst renderRectangleTool = (\n  targetContext,\n  zoomFactor,\n  fontSize,\n  colorString,\n  overlay,\n  boundingCoordinates,\n  currentMode,\n) => {\n  const boundingBoxX = Math.abs(boundingCoordinates.minX) + overlay.boundingShape.rect.x.value || 0;\n  const boundingBoxY = Math.abs(boundingCoordinates.minY) + overlay.boundingShape.rect.y.value || 0;\n  const boundingBoxWidth = overlay.boundingShape.rect.w.value || 0;\n  const boundingBoxHeight = overlay.boundingShape.rect.h.value || 0;\n  const { displayBounding, shapeGroups, name: overlayTitle } = overlay;\n\n  const angle = overlay.boundingShape.rect.angle && overlay.boundingShape.rect.angle.value;\n\n  targetContext.fillText(overlayTitle, boundingBoxX, boundingBoxY - 10 / zoomFactor);\n\n  shapeGroups &&\n    shapeGroups.forEach((shapeGroup) => {\n      // Do not show detailLevel 2 OverlayShapes in run mode\n      if (shapeGroup.detailLevel === 2 && currentMode === modes.runMode.id) {\n        return;\n      }\n\n      shapeGroup.shapes.forEach((shape) => {\n        const shapeColor = shape.color && shape.color.value;\n        const shapeColorString = getRgbaString(shapeColor);\n        const { shape: shapeType } = shape;\n\n        const useRotation =\n          angle && angle > 0 && shapeType !== Protobuf.SvPb.OverlayShape.fields.arrow.name;\n\n        if (useRotation) {\n          rotateContextByAngleAroundPoint(targetContext, angle, boundingBoxX, boundingBoxY);\n        }\n\n        switch (shapeType) {\n          case Protobuf.SvPb.OverlayShape.fields.arrow.name:\n            {\n              const x1 = Math.abs(boundingCoordinates.minX) + shape.arrow.x1.value || 0;\n              const y1 = Math.abs(boundingCoordinates.minY) + shape.arrow.y1.value || 0;\n              const x2 = Math.abs(boundingCoordinates.minX) + shape.arrow.x2.value || 0;\n              const y2 = Math.abs(boundingCoordinates.minY) + shape.arrow.y2.value || 0;\n\n              const calcAngleDegrees = (x, y) => (Math.atan2(y, x) * 180) / Math.PI;\n\n              const angleBetweenP1andP2 = calcAngleDegrees(x2 - x1, y2 - y1);\n\n              targetContext.beginPath();\n              targetContext.strokeStyle = shapeColorString || colorString;\n\n              // line\n              targetContext.moveTo(x1, y1);\n              targetContext.lineTo(x2, y2);\n\n              // arrow\n              targetContext.moveTo(x2, y2);\n              // arrow length\n              const r = 15;\n              // calculate one side of arrow and convert to deg\n              const theta1 = (Math.PI * (angleBetweenP1andP2 + 135)) / 180.0;\n              targetContext.lineTo(x2 + r * Math.cos(theta1), y2 + r * Math.sin(theta1));\n\n              targetContext.moveTo(x2, y2);\n              // calculate another side of arrow and convert to deg\n              const theta2 = (Math.PI * (angleBetweenP1andP2 - 135)) / 180.0;\n              targetContext.lineTo(x2 + r * Math.cos(theta2), y2 + r * Math.sin(theta2));\n\n              targetContext.stroke();\n              targetContext.closePath();\n            }\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.rectArray.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n            shape.rectArray.rectArray.forEach((rect) => {\n              const rAngle = -rect.angle;\n              if (rAngle && rAngle < 0) {\n                rotateContextByAngleAroundPoint(\n                  targetContext,\n                  rAngle,\n                  boundingBoxX + rect.x,\n                  boundingBoxY + rect.y,\n                );\n              }\n              targetContext.rect(\n                boundingBoxX + rect.x || 0,\n                boundingBoxY + rect.y || 0,\n                rect.w || 0,\n                rect.h || 0,\n              );\n              if (rAngle && rAngle < 0) {\n                targetContext.restore();\n              }\n            });\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.graph.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n\n            if (shape.graph.x.length === shape.graph.y.length && shape.graph.x.length > 0) {\n              targetContext.moveTo(\n                boundingBoxX + (shape.graph.x[0] * boundingBoxWidth) / shape.graph.maxValueX,\n                boundingBoxY + (shape.graph.y[0] * boundingBoxHeight) / shape.graph.maxValueY,\n              );\n              for (let i = 0; i < shape.graph.x.length; i++) {\n                targetContext.lineTo(\n                  boundingBoxX + (shape.graph.x[i] * boundingBoxWidth) / shape.graph.maxValueX,\n                  boundingBoxY +\n                    boundingBoxHeight -\n                    (shape.graph.y[i] * boundingBoxHeight) / shape.graph.maxValueY,\n                ); //x\n              }\n            }\n\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.marker.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n\n            if (shape.marker.orientationType === 1) {\n              if (shape.marker.sizeType === 1) {\n                const strokeHeight = MID_SHORT_SIZE;\n                targetContext.moveTo(\n                  boundingBoxX + shape.marker.value.value,\n                  boundingBoxY + boundingBoxHeight / 2 - strokeHeight / 2,\n                );\n                targetContext.lineTo(\n                  boundingBoxX + shape.marker.value.value,\n                  boundingBoxY + boundingBoxHeight / 2 + strokeHeight / 2,\n                );\n              } else {\n                targetContext.moveTo(\n                  boundingBoxX +\n                    (shape.marker.value.value * boundingBoxWidth) / shape.marker.maxValue +\n                    1,\n                  boundingBoxY,\n                );\n                targetContext.lineTo(\n                  boundingBoxX +\n                    (shape.marker.value.value * boundingBoxWidth) / shape.marker.maxValue +\n                    1,\n                  boundingBoxY + boundingBoxHeight,\n                );\n              }\n            } else {\n              if (shape.marker.sizeType === 1) {\n                const strokeWidth = MID_SHORT_SIZE;\n                targetContext.moveTo(\n                  boundingBoxX + boundingBoxWidth / 2 - strokeWidth / 2,\n                  boundingBoxY + shape.marker.value.value,\n                );\n                targetContext.lineTo(\n                  boundingBoxX + boundingBoxWidth / 2 + strokeWidth / 2,\n                  boundingBoxY + shape.marker.value.value,\n                );\n              } else {\n                targetContext.moveTo(\n                  boundingBoxX,\n                  boundingBoxY +\n                    boundingBoxHeight -\n                    (shape.marker.value.value * boundingBoxHeight) / shape.marker.maxValue +\n                    1,\n                );\n                targetContext.lineTo(\n                  boundingBoxX + boundingBoxWidth,\n                  boundingBoxY +\n                    boundingBoxHeight -\n                    (shape.marker.value.value * boundingBoxHeight) / shape.marker.maxValue +\n                    1,\n                );\n              }\n            }\n\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.markers.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n\n            if (shape.markers.orientationType === 1) {\n              if (shape.markers.sizeType === 1) {\n                const strokeWidth = MID_SHORT_SIZE;\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(\n                    boundingBoxX + shape.markers.value[i],\n                    boundingBoxY + boundingBoxHeight / 2 - strokeWidth / 2,\n                  );\n                  targetContext.lineTo(\n                    boundingBoxX + shape.markers.value[i],\n                    boundingBoxY + boundingBoxHeight / 2 + strokeWidth / 2,\n                  );\n                }\n              } else {\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(boundingBoxX + shape.markers.value[i], boundingBoxY);\n                  targetContext.lineTo(\n                    boundingBoxX + shape.markers.value[i],\n                    boundingBoxY + boundingBoxHeight,\n                  );\n                }\n              }\n            } else {\n              if (shape.markers.sizeType === 1) {\n                const strokeHeight = MID_SHORT_SIZE;\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(\n                    boundingBoxX + boundingBoxWidth / 2 - strokeHeight / 2,\n                    boundingBoxY + shape.markers.value[i],\n                  );\n                  targetContext.lineTo(\n                    boundingBoxX + boundingBoxWidth / 2 + strokeHeight / 2,\n                    boundingBoxY + shape.markers.value[i],\n                  );\n                }\n              } else {\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(boundingBoxX, boundingBoxY + shape.markers.value[i]);\n                  targetContext.lineTo(\n                    boundingBoxX + boundingBoxWidth,\n                    boundingBoxY + shape.markers.value[i],\n                  );\n                }\n              }\n            }\n\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.blockMarker.name:\n            {\n              const colors = shape.blockMarker.colors;\n              const changePos = shape.blockMarker.changePos;\n              let currentPos = 0;\n\n              for (let i = 0; i <= changePos.length; i++) {\n                targetContext.beginPath();\n                targetContext.lineWidth = 10 / zoomFactor;\n                targetContext.strokeStyle = getRgbaString(colors[i % colors.length]);\n                targetContext.moveTo(\n                  boundingBoxX + currentPos,\n                  boundingBoxY + boundingBoxHeight / 2,\n                );\n\n                if (i < changePos.length) {\n                  targetContext.lineTo(\n                    boundingBoxX + changePos[i],\n                    boundingBoxY + boundingBoxHeight / 2,\n                  );\n                } else {\n                  targetContext.lineTo(\n                    boundingBoxX + boundingBoxWidth,\n                    boundingBoxY + boundingBoxHeight / 2,\n                  );\n                }\n\n                currentPos = changePos[i];\n                targetContext.stroke();\n                targetContext.closePath();\n                targetContext.lineWidth = 1 / zoomFactor;\n              }\n            }\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.image.name:\n            {\n              const { domImage, x, y, w, h } = shape.image;\n              if (domImage) {\n                // TODO incorporate boundingBoxWidth and boundingBoxHeight\n                targetContext.drawImage(\n                  domImage,\n                  boundingBoxX + ((x && x.value) || 0),\n                  boundingBoxY + ((y && y.value) || 0),\n                  (w && w.value) || 100, // TODO better fallback than 100!\n                  (h && h.value) || 100, // TODO better fallback than 100!\n                );\n              }\n            }\n            break;\n\n          default:\n            logger.warn('Received unknown overlay shape', shapeType);\n            break;\n        }\n        if (useRotation) {\n          targetContext.restore();\n        }\n      });\n    });\n\n  if (displayBounding) {\n    if (angle && angle > 0) {\n      rotateContextByAngleAroundPoint(targetContext, angle, boundingBoxX, boundingBoxY);\n    }\n\n    targetContext.save();\n    targetContext.beginPath();\n    targetContext.strokeStyle = colorString;\n    targetContext.rect(boundingBoxX, boundingBoxY, boundingBoxWidth, boundingBoxHeight);\n    targetContext.stroke();\n    targetContext.closePath();\n\n    if (angle && angle > 0) {\n      targetContext.restore();\n    }\n  }\n\n  targetContext.restore();\n  const maxOverlayTextX = boundingBoxX + targetContext.measureText(overlayTitle).width;\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    boundingBoxX,\n    boundingBoxY - fontSize,\n    Math.max(boundingBoxX + boundingBoxWidth, maxOverlayTextX),\n    boundingBoxY + boundingBoxHeight,\n  );\n};\n\nconst rotateContextByAngleAroundPoint = (targetContext, angle, x, y) => {\n  targetContext.save();\n  targetContext.translate(x, y);\n  targetContext.rotate((angle * Math.PI) / 180);\n  targetContext.translate(-x, -y);\n};\n\nconst renderSliceTool = (targetContext, overlay, boundingCoordinates) => {\n  const { name: overlayTitle } = overlay;\n\n  const centerX = Math.abs(boundingCoordinates.minX) + overlay.boundingShape.slice.centerX.value;\n  const centerY = Math.abs(boundingCoordinates.minY) + overlay.boundingShape.slice.centerY.value;\n  const innerRadius = overlay.boundingShape.slice.innerRadius.value;\n  const outerRadius = overlay.boundingShape.slice.outerRadius.value;\n  const startRadian = calculateRadiansFromAngle(overlay.boundingShape.slice.endAngle.value);\n  const endRadian = calculateRadiansFromAngle(overlay.boundingShape.slice.startAngle.value);\n\n  targetContext.fillText(overlayTitle, centerX - 20, centerY + 20);\n\n  targetContext.beginPath();\n\n  // Maximum a full circle\n  if (endRadian - startRadian <= 2 * Math.PI) {\n    targetContext.arc(centerX, centerY, innerRadius, startRadian, endRadian);\n    targetContext.lineTo(centerX, centerY);\n    targetContext.arc(centerX, centerY, outerRadius, startRadian, endRadian);\n    targetContext.lineTo(centerX, centerY);\n  } else {\n    targetContext.arc(centerX, centerY, innerRadius, startRadian, startRadian + 1.99 * Math.PI);\n    targetContext.arc(\n      centerX,\n      centerY,\n      innerRadius + 1,\n      startRadian + 1.99 * Math.PI,\n      startRadian + 2 * Math.PI,\n    );\n    targetContext.arc(\n      centerX,\n      centerY,\n      innerRadius + 2,\n      startRadian + 2 * Math.PI,\n      startRadian + 2.01 * Math.PI,\n    );\n    targetContext.arc(centerX, centerY, innerRadius + 3, startRadian + 2.01 * Math.PI, endRadian);\n    targetContext.lineTo(centerX, centerY);\n    targetContext.arc(centerX, centerY, outerRadius, startRadian, startRadian + 1.99 * Math.PI);\n    targetContext.arc(\n      centerX,\n      centerY,\n      outerRadius + 1,\n      startRadian + 1.99 * Math.PI,\n      startRadian + 2 * Math.PI,\n    );\n    targetContext.arc(\n      centerX,\n      centerY,\n      outerRadius + 2,\n      startRadian + 2 * Math.PI,\n      startRadian + 2.01 * Math.PI,\n    );\n    targetContext.arc(centerX, centerY, outerRadius + 3, startRadian + 2.01 * Math.PI, endRadian);\n    targetContext.lineTo(centerX, centerY);\n  }\n\n  targetContext.stroke();\n  targetContext.closePath();\n\n  const maxOverlayTextX = centerX - 20 + targetContext.measureText(overlayTitle).width;\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    centerX - outerRadius,\n    centerY - outerRadius,\n    Math.max(centerX + outerRadius, maxOverlayTextX),\n    centerY + outerRadius,\n  );\n};\n\nconst calculateRadiansFromAngle = (angle) => {\n  return ((360 - angle) * Math.PI) / 180;\n};\n\nconst renderPerspectiveTool = (\n  targetContext,\n  zoomFactor,\n  overlay,\n  boundingCoordinates,\n  width,\n  height,\n) => {\n  const { name: overlayTitle } = overlay;\n\n  const textWidth = targetContext.measureText(overlayTitle).width;\n\n  targetContext.fillText(overlayTitle, width / 2 - textWidth / 2, 50);\n\n  const boundingBoxX = Math.abs(boundingCoordinates.minX) || 0;\n  const boundingBoxY = Math.abs(boundingCoordinates.minY) || 0;\n  const boundingBoxWidth = width || 0;\n  const boundingBoxHeight = height || 0;\n  const offset =\n    overlay.boundingShape.perspective.offset && overlay.boundingShape.perspective.offset.value;\n  const orientation = overlay.boundingShape.perspective.orientation;\n\n  // Orientation x\n  if (orientation === 0) {\n    targetContext.moveTo(boundingBoxX, boundingBoxY + boundingBoxHeight / 2);\n    targetContext.lineTo(boundingBoxX + offset, boundingBoxY + 1 / zoomFactor);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth - offset, boundingBoxY + 1 / zoomFactor);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth, boundingBoxY + boundingBoxHeight / 2);\n    targetContext.lineTo(\n      boundingBoxX + boundingBoxWidth - offset,\n      boundingBoxY + boundingBoxHeight - 1 / zoomFactor,\n    );\n    targetContext.lineTo(boundingBoxX + offset, boundingBoxY + boundingBoxHeight - 1 / zoomFactor);\n    targetContext.lineTo(boundingBoxX, boundingBoxY + boundingBoxHeight / 2);\n  }\n\n  // Orientation y\n  if (orientation === 1) {\n    targetContext.moveTo(boundingBoxX + 1 / zoomFactor, boundingBoxY + offset);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth / 2, boundingBoxY);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth - 1 / zoomFactor, boundingBoxY + offset);\n    targetContext.lineTo(\n      boundingBoxX + boundingBoxWidth - 1 / zoomFactor,\n      boundingBoxY + boundingBoxHeight - offset,\n    );\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth / 2, boundingBoxY + boundingBoxHeight);\n    targetContext.lineTo(boundingBoxX + 1 / zoomFactor, boundingBoxY + boundingBoxHeight - offset);\n    targetContext.lineTo(boundingBoxX + 1 / zoomFactor, boundingBoxY + offset);\n  }\n\n  targetContext.stroke();\n  targetContext.closePath();\n};\n\nconst getRgbaString = (colorInt) => {\n  if (typeof colorInt !== 'number' || isNaN(colorInt)) {\n    logger.debug('Could not parse value into color.');\n    // fall back to pink when no valid rgba color value provided\n    return 'pink';\n  }\n  const red = colorInt & 0xff;\n  const green = (colorInt >> 8) & 0xff;\n  const blue = (colorInt >> 16) & 0xff;\n  const alpha = 1;\n  return `rgba(${red}, ${green}, ${blue}, ${alpha})`;\n};\n\nexport const setBoundingCoordinatesForCustomOverlays = ({\n  overlay,\n  product,\n  fontSize,\n  boundingCoordinates,\n  dispatch,\n}) => {\n  const coords = { x: 0, y: 0, width: 0, height: 0 };\n  setCustomOverlayCoordinates(product, overlay, coords, dispatch);\n  const textWidth = getTextWidth(overlay.label, fontSize);\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    coords.x,\n    coords.y - fontSize * 2,\n    Math.max(coords.x + coords.width, coords.x + textWidth),\n    coords.y + coords.height,\n  );\n};\n\nexport const setBoundingCoordinatesForInspectionOverlays = ({\n  overlay,\n  fontSize,\n  boundingCoordinates,\n}) => {\n  const coords = { x: 0, y: 0, width: 0, height: 0 };\n  setInspectionOverlayCoordinates(overlay, coords);\n  const textWidth = getTextWidth(overlay.name, fontSize);\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    coords.x,\n    coords.y - fontSize * 2,\n    Math.max(coords.x + coords.width, coords.x + textWidth),\n    coords.y + coords.height,\n  );\n};\n\nconst getTextWidth = (text, fontSize) => {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  ctx.font = fontSize + 'px Arial';\n  return ctx.measureText(text).width;\n};\n\nconst setCustomOverlayCoordinates = (product, overlay, coordinates, dispatch = () => void 0) => {\n  const offsetLeft =\n    Number(getValueById(product, overlay.offsetLeftVariable)) || overlay.offsetLeft;\n  const x = Number(getValueById(product, overlay.xVariable)) || overlay.x;\n  coordinates.x = x + offsetLeft;\n\n  const offsetTop = Number(getValueById(product, overlay.offsetTopVariable)) || overlay.offsetTop;\n  const y = Number(getValueById(product, overlay.yVariable)) || overlay.y;\n  coordinates.y = y + offsetTop;\n\n  coordinates.width = Number(getValueById(product, overlay.widthVariable)) || overlay.width;\n  coordinates.height = Number(getValueById(product, overlay.heightVariable)) || overlay.height;\n\n  // we need to wait here for the fallback values to initialize\n  if (\n    overlay.maxHeightFallback !== 0 &&\n    overlay.maxWidthFallback !== 0 &&\n    overlay.minHeightFallback !== 0 &&\n    overlay.minWidthFallback !== 0\n  ) {\n    if (coordinates.x < overlay.minWidthFallback) {\n      coordinates.x = overlay.minWidthFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'X',\n          `${overlay.minWidthFallback}  -   ${overlay.maxWidthFallback}`,\n        ),\n      );\n    }\n\n    if (coordinates.x > overlay.maxWidthFallback) {\n      coordinates.x = overlay.maxWidthFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'X',\n          `${overlay.minWidthFallback}  -   ${overlay.maxWidthFallback}`,\n        ),\n      );\n    }\n\n    if (coordinates.y < overlay.minHeightFallback) {\n      coordinates.y = overlay.minHeightFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'Y',\n          `${overlay.minHeightFallback}  -   ${overlay.maxHeightFallback}`,\n        ),\n      );\n    }\n\n    if (coordinates.y > overlay.maxHeightFallback) {\n      coordinates.y = overlay.maxHeightFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'Y',\n          `${overlay.minHeightFallback}  -   ${overlay.maxHeightFallback}`,\n        ),\n      );\n    }\n  }\n};\n\nconst setInspectionOverlayCoordinates = (overlay, coordinates) => {\n  if (overlay.boundingShape.rect) {\n    coordinates.x = overlay.boundingShape.rect.x.value || 0;\n    coordinates.y = overlay.boundingShape.rect.y.value || 0;\n    coordinates.width = overlay.boundingShape.rect.w.value || 0;\n    coordinates.height = overlay.boundingShape.rect.h.value || 0;\n  }\n};\n\nexport const drawCustomOverlays = ({\n  drawTarget,\n  customOverlays,\n  product,\n  zoomFactor,\n  boundingCoordinates,\n}) => {\n  if (!customOverlays || customOverlays.length === 0) {\n    return;\n  }\n\n  const targetContext = drawTarget.getContext('2d');\n  const activeOverlays = customOverlays.filter((overlay) => overlay.isActive);\n  zoomFactor = zoomFactor || 1;\n  activeOverlays.forEach((overlay) => {\n    targetContext.beginPath();\n\n    const coords = { x: 0, y: 0, width: 0, height: 0 };\n    setCustomOverlayCoordinates(product, overlay, coords);\n    correctCoordsWithBoundingCoordinates(coords, boundingCoordinates);\n\n    const colorVariable = getValueById(product, overlay.colorVariable);\n    let color;\n    if (!colorVariable) {\n      color = overlay.color;\n    } else {\n      color = getRgbaString(colorVariable);\n    }\n\n    targetContext.rect(coords.x, coords.y, coords.width, coords.height);\n\n    targetContext.fillStyle = color;\n    targetContext.lineWidth = 1 / zoomFactor;\n    const fontSize = 10 / zoomFactor;\n    targetContext.font = fontSize + 'px Arial';\n    targetContext.fillText(overlay.label, coords.x, coords.y - fontSize);\n\n    switch (overlay.lineStyle) {\n      case 'dashed':\n        targetContext.setLineDash([5]);\n        break;\n\n      case 'dotted':\n        targetContext.setLineDash([2, 5]);\n        break;\n\n      default:\n        targetContext.setLineDash([]);\n    }\n    targetContext.strokeStyle = color;\n    targetContext.stroke();\n\n    targetContext.closePath();\n  });\n};\n\nconst correctCoordsWithBoundingCoordinates = (actualCoordinates, boundingCoordinates) => {\n  actualCoordinates.x += Math.abs(boundingCoordinates.minX);\n  actualCoordinates.y += Math.abs(boundingCoordinates.minY);\n};\n\nconst updateBoundingCoordinates = (boundingCoordinates, minX, minY, maxX, maxY) => {\n  if (minX < boundingCoordinates.minX) {\n    boundingCoordinates.minX = minX;\n  }\n\n  if (minY < boundingCoordinates.minY) {\n    boundingCoordinates.minY = minY;\n  }\n\n  if (maxX > boundingCoordinates.maxX) {\n    boundingCoordinates.maxX = maxX;\n  }\n\n  if (maxY > boundingCoordinates.maxY) {\n    boundingCoordinates.maxY = maxY;\n  }\n};\n\nconst getValueById = (product, id) => {\n  if (!product || !id) {\n    return;\n  }\n  const valueObj = product.getValue(id);\n  return valueObj && valueObj.value;\n};\n\nexport const extractInspectionOverlays = (product, imageId) => {\n  if (!product || product.released) {\n    return undefined;\n  }\n\n  const image = product.getImage(imageId);\n\n  if (!image) {\n    return undefined;\n  }\n\n  return (\n    (image &&\n      image.overlays &&\n      image.overlays.overlays &&\n      image.overlays.overlays.length > 0 &&\n      image.overlays.overlays) ||\n    []\n  );\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './styles.scss';\n\n// eslint-disable-next-line\nclass FilmStrip extends Component {\n  render() {\n    const { images, onImageClick } = this.props;\n    return (\n      <div className=\"film-strip-container\">\n        {images.map((image) => (\n          <button\n            key={image.product.trigger}\n            className=\"reject-image\"\n            onClick={() => {\n              onImageClick(image.product);\n            }}\n          >\n            <img src={image.combinedSrc} alt=\"\" />\n          </button>\n        ))}\n      </div>\n    );\n  }\n}\n\nFilmStrip.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      image: PropTypes.string,\n    }),\n  ).isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default FilmStrip;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport './styles.scss';\nimport iconPause from '../../assets/icons/pause.svg';\nimport iconPlay from '../../assets/icons/play.svg';\n\nimport ActionBar from '../../components/ActionBar';\nimport ObjectSelector from '../../components/ObjectSelector';\nimport ProxyType from '../../components/Protobuf/ProxyType';\nimport Container from '../../components/layout/Container';\nimport { initViewState, setViewData, setSharedStateData, setSaveFlag } from '../../redux/actions';\nimport { TOGGLE_BUTTON } from '../../types/ActionBarType';\nimport { drawInspectionOverlays, extractInspectionOverlays } from '../../utils/OverlayRenderer';\nimport logger from '../../utils/logger';\nimport {\n  canReadImageStripView,\n  canEditImageStripView,\n  canEditInspectionState,\n} from '../../utils/permissions';\nimport FilmStrip from './components/FilmStrip';\n\nclass ImageStripView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      images: [],\n      data: null,\n    };\n    this.productSub = null;\n    this.imageStripLength = 10;\n  }\n\n  async componentDidMount() {\n    if (this.props.sourceImage) {\n      this.unsubscribeFromProductStream();\n      this.subscribeToProductStream(this.props.sourceImage);\n    }\n\n    const { configuration, proxy } = this.props;\n    if (configuration?.objectSelectorImages?.size === 0) {\n      await configuration.setObjectSelectorImages(proxy.protobuf);\n    }\n    if (configuration?.idNameMappings?.size === 0) {\n      await configuration.setIdNameMappings(proxy.protobuf);\n    }\n    proxy.dispatchCurrentConfiguration(configuration);\n  }\n\n  componentDidUpdate(nextProps) {\n    if (nextProps.sourceImage && nextProps.sourceImage !== this.props.sourceImage) {\n      this.unsubscribeFromProductStream();\n      this.subscribeToProductStream(nextProps.sourceImage);\n    }\n\n    if (\n      this.props.isBrowserWindowVisible !== undefined &&\n      this.props.isBrowserWindowVisible !== nextProps.isBrowserWindowVisible\n    ) {\n      if (nextProps.isBrowserWindowVisible) {\n        this.subscribeToProductStream(nextProps.sourceImage);\n      } else {\n        this.unsubscribeFromProductStream();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    const { images } = this.state;\n    const products = (images || []).map((e) => e.product);\n    this.releaseProducts(products);\n    // TODO resume stream when paused?\n    this.unsubscribeFromProductStream();\n  }\n\n  subscribeToProductStream(sourceImage) {\n    if (!this.productSub) {\n      const { inspectionId } = this.props;\n      const desc = {\n        inspectionId,\n        startAtTriggerCount: -1 * this.imageStripLength,\n        rejectImageIds: [sourceImage],\n        allowOldTrigger: true,\n        manualRelease: true,\n      };\n      this.productSub = this.props.proxy.subscribeToProductStream(desc, this.onProduct);\n    }\n  }\n\n  unsubscribeFromProductStream() {\n    if (this.productSub) {\n      this.props.proxy.unsubscribeFromProductStream(this.productSub);\n      this.productSub = null;\n    }\n\n    (this.state.images || []).forEach((image) => {\n      image.product?.release();\n    });\n    this.setState({ images: [] });\n  }\n\n  onProduct = ({ product }) => {\n    const entry = this.state.images.find((e) => e.product === product);\n    if (entry) {\n      // we can free this reference. the second reference to the\n      // same product will be released in this.releaseProducts().\n      product.release();\n      return;\n    }\n\n    // TODO: Image dimensions won't change for a subscription\n    // better to update `onSubscribed`\n    this.updateImageDimensions(product);\n\n    const combinedSrc = this.drawImageAndOverlaysToCanvas({\n      drawTarget: this.canvas,\n      product,\n    });\n    const images = [{ combinedSrc, product }, ...this.state.images];\n\n    // sort descending by trigger count. can happen at beginning of stream.\n    images.sort((a, b) => b.product.trigger - a.product.trigger);\n\n    let productsToRelease = [];\n    if (images.length > this.imageStripLength) {\n      productsToRelease = images.splice(this.imageStripLength).map((e) => e.product);\n    }\n\n    this.setState({ images });\n\n    this.releaseProducts(productsToRelease);\n  };\n\n  releaseProducts(products) {\n    (products || []).forEach((product) => product.release());\n  }\n\n  updateImageDimensions = (product) => {\n    if (!product) {\n      logger.error(`updateImageDimensions requires product but did not receive.`);\n      return;\n    }\n\n    if (!product.isReject) {\n      logger.error(`updateImageDimensions requires product that is a reject.`);\n      return;\n    }\n\n    const { sourceImage } = this.props;\n    const { image } = product.getImage(sourceImage);\n\n    if (!image) {\n      logger.error(`Product does not contain an Image.`);\n      return;\n    }\n\n    const { height, width } = image;\n\n    if (\n      !this.state.imageWidth ||\n      !this.state.imageHeigt ||\n      this.state.imageWidth !== width ||\n      this.state.imageHeigt !== height\n    ) {\n      this.setState({ imageHeigt: height, imageWidth: width });\n    }\n  };\n\n  setSourceImageIndex = (id) => {\n    if (!id) {\n      logger.error(`OjectSelector did not return a valid id.`);\n      return;\n    }\n    this.props.setSharedStateData('sourceImage', id);\n  };\n\n  drawImageAndOverlaysToCanvas = ({ drawTarget, product }) => {\n    if (!drawTarget || !product) {\n      logger.error(\n        'drawImageAndOverlaysToCanvas expects drawTarget and product but did not receive.',\n      );\n      return;\n    }\n\n    const imageId = this.props.sourceImage;\n    const image = product.getImage(imageId);\n    if (!image || !image.domImage) {\n      logger.warn(`ImageStrip expected an image onReject but didn't receive`);\n      return;\n    }\n\n    const drawTargetContext = drawTarget.getContext('2d');\n    drawTargetContext.clearRect(0, 0, drawTarget.width, drawTarget.height);\n    drawTargetContext.drawImage(image.domImage, 0, 0);\n\n    const overlays = extractInspectionOverlays(product, imageId);\n    const boundingCoordinates = {\n      minX: 0,\n      minY: 0,\n      maxX: image.width || 0,\n      maxY: image.height || 0,\n    };\n\n    drawInspectionOverlays({\n      drawTarget,\n      overlays,\n      zoomFactor: 1,\n      boundingCoordinates,\n      width: image.width,\n      height: image.height,\n    });\n    return this.canvas.toDataURL('image/bmp');\n  };\n\n  renderObjectSelector = () => {\n    const { configuration, inspectionId } = this.props;\n    if (!configuration || !inspectionId) {\n      return;\n    }\n\n    const images = configuration.getObjectSelectorImagesForInspection(inspectionId);\n\n    return (\n      <div style={{ width: '100%', overflow: 'auto' }}>\n        {images && (\n          <ObjectSelector\n            singleSelect\n            data={images.tree}\n            onChange={(selectedIid, checkedLocation) => {\n              this.setSourceImageIndex(selectedIid);\n              this.props.setViewData('windowName', checkedLocation);\n              this.props.setSaveFlag(true);\n            }}\n          />\n        )}\n      </div>\n    );\n  };\n\n  selectProduct(product) {\n    this.pauseStream();\n    this.props.proxy.replayProduct(this.props.inspectionId, product);\n    // TODO some highlights?\n  }\n\n  resumeStream() {\n    this.props.proxy.resumeRejectStream(this.props.inspectionId);\n    this.props.setSaveFlag(true);\n  }\n\n  pauseStream() {\n    this.props.proxy.pauseRejectStream(this.props.inspectionId);\n    this.props.setSaveFlag(true);\n  }\n\n  setTitleFromConfig = () => {\n    const { sourceImage, inspectionId, configuration } = this.props;\n    if (configuration) {\n      const path = configuration.getValueNameForId(inspectionId, sourceImage);\n      if (path) {\n        this.props.setViewData('windowName', path);\n      }\n    }\n  };\n\n  showPause = () => {\n    const { pausedInspections, inspectionId } = this.props;\n    let showPause = false;\n    if (inspectionId) {\n      if (!pausedInspections.includes(inspectionId)) {\n        showPause = true;\n      }\n    }\n    return showPause;\n  };\n\n  renderFilmStrip = () => {\n    const { inspectionId, myPermissions } = this.props;\n    const { imageWidth, imageHeigt } = this.state;\n    const canEdit = canEditInspectionState(myPermissions);\n    const actions = [\n      {\n        type: TOGGLE_BUTTON,\n        id: inspectionId,\n        intlId: 'imageStripView.play',\n        iconUrl: iconPlay,\n        enabled: canEdit,\n        onClickHandler: () => {\n          this.resumeStream();\n        },\n        intlIdAlternative: 'imageStripView.pause',\n        iconUrlAlternative: iconPause,\n        onClickHandlerAlternative: () => {\n          this.pauseStream();\n        },\n        showAlternative: this.showPause(),\n      },\n    ];\n\n    return (\n      <div className=\"reject-view-container\">\n        <Container>\n          <canvas\n            style={{ display: 'none' }}\n            width={imageWidth}\n            height={imageHeigt}\n            className=\"imageCanvas\"\n            ref={(canvas) => {\n              this.canvas = canvas;\n            }}\n          />\n          {this.state.images && this.state.images.length > 0 && (\n            <FilmStrip\n              onImageClick={(product) => this.selectProduct(product)}\n              images={this.state.images}\n            />\n          )}\n          <ActionBar isViewAction actions={actions} />\n        </Container>\n      </div>\n    );\n  };\n\n  render() {\n    const { sourceImage, myPermissions } = this.props;\n\n    this.setTitleFromConfig();\n    const canEdit = canEditImageStripView(myPermissions);\n    const canRead = canReadImageStripView(myPermissions);\n\n    if (canRead || canEdit) {\n      return (\n        <div className=\"reject-view-container\">\n          {!sourceImage && canEdit ? this.renderObjectSelector() : this.renderFilmStrip()}\n        </div>\n      );\n    }\n\n    return <div></div>;\n  }\n}\n\nImageStripView.defaultProps = {\n  imageData: [],\n  proxy: undefined,\n  configuration: null,\n};\n\nImageStripView.propTypes = {\n  proxy: ProxyType,\n  configuration: PropTypes.object,\n  sourceImage: PropTypes.number,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id: viewId } = ownProps;\n  try {\n    return {\n      proxy: state.app.proxy,\n      configuration: state.app.configuration,\n      sourceImage: Number(state.inspections[inspectionId].sharedState?.views[viewId].sourceImage),\n      pausedInspections: state.app.pausedInspections,\n      myPermissions: state.app.myPermissions,\n      isBrowserWindowVisible: state.app.isBrowserWindowVisible,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nconst initState = {};\n\nconst initSharedState = {\n  sourceImage: 0,\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { inspectionId, id: viewId } = ownProps;\n  dispatch(initViewState(inspectionId, viewId, initState, initSharedState));\n  return {\n    setViewData: (key, data) => dispatch(setViewData(inspectionId, viewId, key, data)),\n    setSharedStateData: (key, data) =>\n      dispatch(setSharedStateData(inspectionId, key, data, viewId)),\n    setSaveFlag: (hasChanges) => dispatch(setSaveFlag(hasChanges)),\n  };\n};\n\nconst mappedConnect = connect(mapStateToProps, mapDispatchToProps);\n\nexport default mappedConnect(ImageStripView);\n","export default __webpack_public_path__ + \"static/media/downloadWithOverlays.0ec8c060.svg\";","export default __webpack_public_path__ + \"static/media/fit-to-height.be413aab.svg\";","export default __webpack_public_path__ + \"static/media/fit-to-width.ea508053.svg\";","export default __webpack_public_path__ + \"static/media/one.0123db23.svg\";","export interface OverlaySchema {\n  id: number;\n  color: string;\n  colorVariable?: string;\n  isActive: boolean;\n  label: string;\n  lineStyle: string;\n  maxHeightFallback?: number;\n  maxWidthFallback?: number;\n  minHeightFallback?: number;\n  minWidthFallback?: number;\n  offsetLeft: number | null;\n  offsetLeftVariable?: string;\n  offsetTop: number | null;\n  offsetTopVariable?: string;\n  width: number;\n  widthVariable?: string;\n  height: number;\n  heightVariable?: string;\n  x: number;\n  xVariable?: string;\n  y: number;\n  yVariable?: string;\n}\n\nexport const updateOverlayList = (updatedOverlay: OverlaySchema, overlayList: OverlaySchema[]) =>\n  overlayList.map((overlay) => (overlay.id === updatedOverlay.id ? updatedOverlay : overlay));\n","import { useCallback, useEffect, useMemo, useState } from 'react';\nimport Checkbox from '@material-ui/core/Checkbox';\n\nimport Table, { AutoResizer, CallOrReturn, ColumnShape } from 'react-base-table';\n\nimport { OverlaySchema, updateOverlayList } from '../../utils/reduxHelper';\n\nimport 'react-base-table/styles.css';\nimport './style.scss';\n\ninterface OverlayListProps {\n  overlays: OverlaySchema[];\n  updateCurrentOverlay: (overlay: OverlaySchema) => void;\n  updateOverlayList: (overlays: OverlaySchema[]) => void;\n  onSelectAll: (selectAll: boolean) => void;\n  hasActionBar?: boolean;\n  canSelectRow?: boolean;\n}\n\nexport const OverlayList = ({\n  overlays,\n  onSelectAll,\n  updateCurrentOverlay,\n  updateOverlayList: externalUpdateOverlayList,\n  canSelectRow,\n  hasActionBar = true,\n}: OverlayListProps) => {\n  const [selectAll, setSelectAll] = useState(false);\n  const [selectedRowIndex, setSelectedRowIndex] = useState(-1);\n\n  useEffect(() => {\n    setSelectedRowIndex(canSelectRow ? 0 : -1);\n  }, [canSelectRow]);\n\n  useEffect(() => {\n    setSelectAll(() => {\n      for (const overlay of overlays || []) {\n        if (!overlay.isActive) {\n          return false;\n        }\n      }\n      return true;\n    });\n  }, [overlays]);\n\n  const headerRenderer: CallOrReturn<\n    React.ReactNode,\n    {\n      cells: React.ReactNode[];\n      columns: ColumnShape<unknown>;\n      headerIndex: number;\n    }\n  > = useCallback(\n    ({ columns }) => {\n      const handleSelectAll = (checked: boolean) => {\n        setSelectAll(checked);\n        onSelectAll(checked);\n      };\n\n      const columnHeaders: JSX.Element[] = [];\n      columns.forEach((_: never, columnIndex: number) => {\n        if (columnIndex === 0) {\n          columnHeaders.push(\n            <div\n              className=\"base-table-header-column\"\n              style={{ width: columns[columnIndex].width }}\n              key={`header_${columnIndex}`}\n            >\n              <Checkbox\n                checked={selectAll}\n                onChange={(e) => handleSelectAll(e.target.checked)}\n                style={{\n                  padding: 0,\n                }}\n                color=\"primary\"\n                key=\"select-all-checkbox\"\n              />\n            </div>,\n          );\n        } else {\n          columnHeaders.push(\n            <div\n              className=\"base-table-header-column\"\n              key={`header_${columnIndex}`}\n              style={{ padding: ' 0 7.5px' }}\n            >\n              {columns[columnIndex].title}\n            </div>,\n          );\n        }\n      });\n\n      return columnHeaders;\n    },\n    [onSelectAll, selectAll],\n  );\n\n  const tableDataFromOverlays = useMemo(() => {\n    const handleSingleSelect = (checked: boolean, overlay: OverlaySchema) => {\n      const updatedOverlay = { ...overlay, isActive: checked };\n      const updatedOverlayList = updateOverlayList(updatedOverlay, overlays);\n\n      externalUpdateOverlayList(updatedOverlayList);\n    };\n\n    const getCheckboxDefinition4Cell = (currentId: number) => {\n      const overlay = overlays.filter((item) => item.id === currentId)[0];\n      const isActive = overlay ? overlay.isActive : false;\n      return (\n        <Checkbox\n          checked={isActive}\n          onChange={(e) => handleSingleSelect(e.target.checked, overlay)}\n          style={{\n            padding: 0,\n          }}\n          color=\"primary\"\n          key={`checkbox_${currentId}`}\n        />\n      );\n    };\n\n    const data =\n      overlays &&\n      overlays.map((overlay) => {\n        return {\n          checkbox: getCheckboxDefinition4Cell(overlay.id),\n          name: overlay.label,\n          id: overlay.id,\n        };\n      });\n    return data;\n  }, [externalUpdateOverlayList, overlays]);\n\n  const columnDefinition4OverlayTable = useMemo(() => {\n    return [\n      {\n        key: 'checkbox',\n        dataKey: 'checkbox',\n        title: '',\n        width: 40,\n      },\n      {\n        key: 'name',\n        dataKey: 'name',\n        title: 'Overlays',\n        width: 0,\n        flexGrow: 1,\n      },\n    ];\n  }, []);\n\n  if (!overlays) return null;\n\n  return (\n    <AutoResizer key=\"autoresizer\">\n      {({ width, height }) => (\n        <Table\n          headerRenderer={headerRenderer}\n          columns={columnDefinition4OverlayTable}\n          data={tableDataFromOverlays}\n          width={width}\n          height={hasActionBar ? height - 30 : height}\n          headerHeight={30}\n          rowHeight={30}\n          key=\"overlay-table\"\n          rowEventHandlers={\n            canSelectRow\n              ? {\n                  onClick: ({ rowIndex }) => {\n                    setSelectedRowIndex(rowIndex);\n                    updateCurrentOverlay(\n                      overlays.filter((item) => item.id === overlays[rowIndex].id)[0],\n                    );\n                  },\n                }\n              : undefined\n          }\n          rowClassName={({ rowIndex }) =>\n            selectedRowIndex === rowIndex ? 'overlay-table-selected-row' : ''\n          }\n        />\n      )}\n    </AutoResizer>\n  );\n};\n","import React, { Component } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\n\nimport { setViewData, saveImageSettings } from '../../../redux/actions';\nimport {\n  drawCustomOverlays,\n  drawInspectionOverlays,\n  setBoundingCoordinatesForCustomOverlays,\n  setBoundingCoordinatesForInspectionOverlays,\n  extractInspectionOverlays,\n} from '../../../utils/OverlayRenderer';\nimport { forceDownload } from '../../../utils/downloader';\nimport logger from '../../../utils/logger';\nimport { isObjectValid } from '../../../utils/objectValidator';\nimport { canEditImageView } from '../../../utils/permissions';\n\nclass ImageEditor extends Component {\n  state = {\n    image: new Image(),\n    left: 0,\n    top: 0,\n    zoomFactor: 1,\n    currentCursorPosition: { x: 0, y: 0 },\n    canvasDimension: { width: 0, height: 0 },\n  };\n\n  componentDidMount() {\n    this.loadViewSettings();\n    this.props.product.lock();\n    this.initImage(this.props);\n    this.bindEventListeners();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { zoomFactor, left, top } = this.state;\n\n    this.bindEventListeners();\n\n    const productChanged = prevProps.product !== this.props.product;\n    const modeChanged = prevProps.currentMode !== this.props.currentMode;\n    const zoomFactorChanged = prevState.zoomFactor !== zoomFactor;\n    const customOverlaysChanged = !isEqual(this.props.customOverlays, prevProps.customOverlays);\n    const imageMoved = prevState.left !== left || prevState.top !== top;\n\n    if (productChanged) {\n      prevProps.product.release();\n      this.props.product.lock();\n    }\n\n    if (productChanged || modeChanged || zoomFactorChanged || customOverlaysChanged) {\n      this.initImage(this.props);\n    }\n\n    if (zoomFactorChanged || imageMoved) {\n      this.props.saveImageSettings(zoomFactor, { left, top });\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.product.release();\n  }\n\n  loadViewSettings() {\n    const { zoomFactor, imagePosition } = this.props.viewSettings;\n    if (zoomFactor) {\n      this.setState({ zoomFactor });\n    }\n\n    if (imagePosition && imagePosition.left) {\n      this.setState({ left: imagePosition.left });\n    }\n\n    if (imagePosition && imagePosition.top) {\n      this.setState({ top: imagePosition.top });\n    }\n  }\n\n  initImage(props) {\n    if (props && props.product && props.imageId) {\n      const image = props.product.getImage(props.imageId);\n      if (image && image.domImage) {\n        this.onImageLoaded(image.domImage);\n      }\n    }\n  }\n\n  onImageLoaded(image) {\n    const { zoomFactor, canvasDimension } = this.state;\n    const { height, width } = canvasDimension;\n    this.setState({ image });\n    this.initCanvas({ canvas: this.canvas, height, width, zoomFactor });\n    this.props.setViewData('imageDimensions', { width: image.width, height: image.height });\n    this.draw(this.canvas, image, zoomFactor);\n    this.setImageInfo();\n  }\n\n  initCanvas({ canvas, height, width, zoomFactor }) {\n    canvas.width = Math.ceil(width * zoomFactor);\n    canvas.height = Math.ceil(height * zoomFactor);\n\n    this.props.setViewData('imageDimensions', { width, height });\n  }\n\n  draw(canvas, image, zoomFactor) {\n    if (!canvas || !image) {\n      console.error('Can not draw because we do not have a canvas');\n      return;\n    }\n\n    const boundingCoordinates = this.setBoundingCoordinates(image, zoomFactor);\n\n    this.setCanvasDimensions(canvas, boundingCoordinates, zoomFactor);\n\n    const ctx = canvas.getContext('2d');\n    ctx.webkitImageSmoothingEnabled = false;\n    ctx.msImageSmoothingEnabled = false;\n    ctx.imageSmoothingEnabled = false;\n    ctx.save();\n    ctx.clearRect(\n      0,\n      0,\n      Math.abs(boundingCoordinates.minX) + boundingCoordinates.maxX,\n      Math.abs(boundingCoordinates.minY) + boundingCoordinates.maxY,\n    );\n    ctx.scale(zoomFactor, zoomFactor);\n    ctx.drawImage(image, Math.abs(boundingCoordinates.minX), Math.abs(boundingCoordinates.minY));\n    this.drawOverlays(canvas, zoomFactor, boundingCoordinates, image.width, image.height);\n    ctx.restore();\n  }\n\n  setBoundingCoordinates = (image, zoomFactor) => {\n    const boundingCoordinates = {\n      minX: 0,\n      minY: 0,\n      maxX: image.width || 0,\n      maxY: image.height || 0,\n    };\n    const fontSize = 10 / zoomFactor;\n    this.getBoundingCoordinatesFromCustomOverlays(boundingCoordinates, fontSize);\n    this.getBoundingCoordinatesFromInspectionOverlays(boundingCoordinates, fontSize);\n\n    return boundingCoordinates;\n  };\n\n  setCanvasDimensions = (canvas, boundingCoordinates, zoomFactor) => {\n    const width = Math.abs(boundingCoordinates.minX) + boundingCoordinates.maxX;\n    const height = Math.abs(boundingCoordinates.minY) + boundingCoordinates.maxY;\n\n    canvas.width = Math.ceil(width * zoomFactor);\n    canvas.height = Math.ceil(height * zoomFactor);\n\n    this.setState({ canvasDimension: { width, height }, boundingCoordinates });\n  };\n\n  drawOverlays(drawTarget, zoomFactor, boundingCoordinates, width, height) {\n    const { product, customOverlays, imageId, currentMode } = this.props;\n    const overlays = extractInspectionOverlays(product, imageId);\n\n    drawCustomOverlays({\n      drawTarget,\n      customOverlays,\n      product,\n      zoomFactor,\n      boundingCoordinates,\n    });\n    drawInspectionOverlays({\n      drawTarget,\n      overlays,\n      zoomFactor,\n      boundingCoordinates,\n      width,\n      height,\n      currentMode,\n    });\n  }\n\n  getBoundingCoordinatesFromCustomOverlays = (boundingCoordinates, fontSize) => {\n    const { product, customOverlays } = this.props;\n    const { image } = this.state;\n\n    const imageWidth = image?.width;\n    const imageHeight = image?.height;\n\n    const minWidthFallback = Number(-imageWidth * 2);\n    const maxWidthFallback = Number(imageWidth * 2);\n\n    const minHeightFallback = Number(-imageHeight * 2);\n    const maxHeightFallback = Number(imageHeight * 2);\n\n    let overlays;\n    overlays = customOverlays.filter((overlay) => overlay.isActive);\n    overlays.map((overlay) =>\n      Object.assign(overlay, {\n        minWidthFallback,\n        maxWidthFallback,\n        minHeightFallback,\n        maxHeightFallback,\n      }),\n    );\n\n    overlays.forEach((overlay) => {\n      setBoundingCoordinatesForCustomOverlays({\n        overlay,\n        product,\n        fontSize,\n        boundingCoordinates,\n        dispatch: this.props.dispatch,\n      });\n    });\n  };\n\n  getBoundingCoordinatesFromInspectionOverlays = (boundingCoordinates, fontSize) => {\n    const { product, imageId } = this.props;\n    const overlays = extractInspectionOverlays(product, imageId);\n\n    overlays &&\n      overlays.forEach((overlay) => {\n        setBoundingCoordinatesForInspectionOverlays({ overlay, fontSize, boundingCoordinates });\n      });\n  };\n\n  setImageInfo = () => {\n    const { isImageInfoOpen } = this.props;\n    const { currentCursorPosition } = this.state;\n\n    if (currentCursorPosition && isImageInfoOpen) {\n      const { x, y } = currentCursorPosition;\n      this.setRgbValues(x, y);\n    }\n  };\n\n  bindEventListeners() {\n    if (canEditImageView(this.props.myPermissions)) {\n      this.containerRef.addEventListener('mousewheel', this.handleScroll);\n      this.containerRef.addEventListener('DOMMouseScroll', this.handleScroll);\n      this.containerRef.addEventListener('mousedown', this.handleMouseDown);\n      this.containerRef.addEventListener('mouseup', this.handleMouseUp);\n      this.containerRef.addEventListener('mouseleave', this.handleMouseUp);\n      this.containerRef.addEventListener('mousemove', this.handleDrag);\n    } else {\n      this.containerRef.removeEventListener('mousewheel', this.handleScroll);\n      this.containerRef.removeEventListener('DOMMouseScroll', this.handleScroll);\n      this.containerRef.removeEventListener('mousedown', this.handleMouseDown);\n      this.containerRef.removeEventListener('mouseup', this.handleMouseUp);\n      this.containerRef.removeEventListener('mouseleave', this.handleMouseUp);\n      this.containerRef.removeEventListener('mousemove', this.handleDrag);\n    }\n\n    this.containerRef.addEventListener('mousemove', this.handleMouseMove);\n  }\n\n  handleScroll = (evt) => {\n    const delta = evt.wheelDelta ? evt.wheelDelta / 40 : evt.detail ? -evt.detail : 0;\n    if (delta) {\n      const { offsetX, offsetY } = evt;\n      this.zoom(delta, offsetX, offsetY);\n    }\n    evt.preventDefault();\n    return false;\n  };\n\n  handleMouseDown = (event) => {\n    const dragStart = { x: event.pageX, y: event.pageY };\n    const { left, top } = this.state;\n    const dragStartPos = { left, top };\n    this.setState({ dragging: true, dragStart, dragStartPos });\n  };\n\n  handleMouseUp = () => {\n    this.setState({ dragging: false, dragStart: null });\n  };\n\n  handleDrag = (event) => {\n    const { dragging, dragStart, dragStartPos } = this.state;\n    if (!dragging) {\n      return;\n    }\n\n    const diffX = event.pageX - dragStart.x;\n    const diffY = event.pageY - dragStart.y;\n    this.setState({\n      left: dragStartPos.left + diffX,\n      top: dragStartPos.top + diffY,\n    });\n  };\n\n  handleMouseMove = (event) => {\n    const { isImageInfoOpen } = this.props;\n\n    if (isImageInfoOpen) {\n      const cursorPosition = this.getMouseCoordinatesOnElement(event, this.canvas);\n\n      this.setCursorPosition(cursorPosition);\n      this.setRgbValues(cursorPosition.x, cursorPosition.y);\n    }\n  };\n\n  getMouseCoordinatesOnElement = (event) => {\n    const { zoomFactor, boundingCoordinates } = this.state;\n    let offsetX = event.offsetX;\n    let offsetY = event.offsetY;\n    let element = event.target;\n\n    while (element !== this.containerRef) {\n      offsetX += element.offsetLeft;\n      offsetY += element.offsetTop;\n      element = element.parentNode;\n    }\n\n    let x = (offsetX - this.canvas.offsetLeft) / zoomFactor;\n    let y = (offsetY - this.canvas.offsetTop) / zoomFactor;\n\n    if (boundingCoordinates) {\n      x += boundingCoordinates.minX;\n      y += boundingCoordinates.minY;\n    }\n\n    return {\n      x: Math.trunc(x),\n      y: Math.trunc(y),\n    };\n  };\n\n  setRgbValues = (x, y) => {\n    const { image } = this.state;\n    const canvas = document.createElement('canvas');\n    canvas.width = image.width;\n    canvas.height = image.height;\n\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(image, 0, 0);\n\n    const colors = ctx.getImageData(x, y, 1, 1).data;\n    const red = colors[0];\n    const green = colors[1];\n    const blue = colors[2];\n    this.props.setViewData('rgbValues', { R: red, G: green, B: blue });\n  };\n\n  setCursorPosition = (cursorPosition) => {\n    const { currentCursorPosition } = this.state;\n    const cursorPositionOnImage = this.trimPositionsOnImageSize(cursorPosition);\n    this.props.setViewData('cursorPosition', cursorPositionOnImage);\n\n    if (\n      currentCursorPosition.x !== cursorPositionOnImage.x ||\n      currentCursorPosition.y !== cursorPositionOnImage.y\n    ) {\n      this.setState({ currentCursorPosition: cursorPosition });\n    }\n  };\n\n  trimPositionsOnImageSize = (cursorPosition) => {\n    const { image } = this.state;\n    if (\n      cursorPosition.x < 0 ||\n      cursorPosition.y < 0 ||\n      cursorPosition.x > image.width ||\n      cursorPosition.y > image.height\n    ) {\n      return { x: 0, y: 0 };\n    }\n\n    return cursorPosition;\n  };\n\n  zoom(delta, offX, offY) {\n    const SCALE_BASE = 1.1;\n    const MIN_ZOOM_FACTOR = 0.05;\n    const MAX_ZOOM_FACTOR = 20;\n    const MAX_CANVAS_SIZE = 4096;\n\n    const scaleFactor = Math.pow(SCALE_BASE, delta);\n    const zoomFactor = this.state.zoomFactor * scaleFactor;\n    if (zoomFactor < MIN_ZOOM_FACTOR || zoomFactor > MAX_ZOOM_FACTOR) {\n      return;\n    }\n\n    const { canvasDimension } = this.state;\n    const longestSide = Math.max(\n      canvasDimension.width * zoomFactor,\n      canvasDimension.height * zoomFactor,\n    );\n    if (longestSide > MAX_CANVAS_SIZE) {\n      return;\n    }\n\n    const { left, top } = this.state;\n    const leftDiff = offX * (1 - scaleFactor);\n    const topDiff = offY * (1 - scaleFactor);\n    this.setState({\n      left: left + leftDiff,\n      top: top + topDiff,\n      zoomFactor,\n    });\n  }\n\n  clamp(v, min, max) {\n    return Math.max(Math.min(v, max), min);\n  }\n\n  resetZoom() {\n    const { boundingCoordinates, zoomFactor } = this.state;\n    this.setState({\n      zoomFactor: 1,\n      left: boundingCoordinates.minX * zoomFactor,\n      top: boundingCoordinates.minY * zoomFactor,\n    });\n  }\n\n  fitToHeight() {\n    const { height } = this.getViewSize();\n    const { image, boundingCoordinates, zoomFactor } = this.state;\n    this.setState({\n      zoomFactor: height / image.height,\n      left: boundingCoordinates.minX * zoomFactor,\n      top: boundingCoordinates.minY * zoomFactor,\n    });\n  }\n\n  fitToWidth() {\n    const { width } = this.getViewSize();\n    const { image, boundingCoordinates, zoomFactor } = this.state;\n    this.setState({\n      zoomFactor: width / image.width,\n      left: boundingCoordinates.minX * zoomFactor,\n      top: boundingCoordinates.minY * zoomFactor,\n    });\n  }\n\n  getViewSize() {\n    return {\n      width: (this.containerRef && this.containerRef.getBoundingClientRect().width) || 200,\n      height: (this.containerRef && this.containerRef.getBoundingClientRect().height) || 200,\n    };\n  }\n\n  downloadOriginalImage() {\n    if (!isObjectValid(() => this.state.image.src)) {\n      logger.info('downloadOriginalImage can not find image source');\n      return;\n    }\n    forceDownload(this.state.image.src, 'image.bmp');\n  }\n\n  downloadOriginalImageWithOverlays() {\n    const { canvasDimension, image } = this.state;\n    const canvas = document.createElement('canvas');\n    canvas.width = canvasDimension.width;\n    canvas.height = canvasDimension.height;\n    this.draw(canvas, image, 1);\n\n    canvas.toBlob((blob) => {\n      const domURL = self.URL || self.webkitURL || self; // eslint-disable-line\n      const url = domURL.createObjectURL(blob);\n      forceDownload(url);\n      domURL.revokeObjectURL(url);\n    });\n  }\n\n  render() {\n    const { zoomFactor, canvasDimension, left, top } = this.state;\n    const height = canvasDimension.height * zoomFactor;\n    const width = canvasDimension.width * zoomFactor;\n\n    return (\n      <div\n        style={{ height: '100%', width: '100%' }}\n        ref={(ref) => {\n          this.containerRef = ref;\n        }}\n      >\n        <canvas\n          className=\"imageCanvas\"\n          style={{\n            position: 'absolute',\n            left,\n            top,\n            width,\n            height,\n          }}\n          ref={(canvas) => {\n            this.canvas = canvas;\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nconst propTypes = {\n  imageSrc: PropTypes.string,\n};\n\nImageEditor.propTypes = propTypes;\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  try {\n    return {\n      customOverlays: state.inspections[inspectionId].sharedState?.views[viewId].overlays,\n      currentMode: state.app.currentMode,\n      viewSettings: state.inspections[inspectionId].views[viewId],\n      myPermissions: state.app.myPermissions,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  return {\n    setViewData: (key, data) => dispatch(setViewData(inspectionId, viewId, key, data)),\n    saveImageSettings: (zoomFactor, imagePosition) =>\n      dispatch(saveImageSettings(inspectionId, viewId, zoomFactor, imagePosition)),\n    dispatch: (...args) => dispatch(...args),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(ImageEditor),\n);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport { getPropsFromInspection } from '../../../utils/propHelper';\n\nclass ImageInfo extends Component {\n  render() {\n    const { imageInfoClass, cursorPosition, rgbValues, imageDimensions } = this.props;\n    return (\n      <div className={imageInfoClass}>\n        <div className=\"info-table\">\n          <div className=\"th\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.info\" />\n            </div>\n          </div>\n\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.width\" />\n            </div>\n            <div className=\"td\">{imageDimensions.width}</div>\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.height\" />\n            </div>\n            <div className=\"td\">{imageDimensions.height}</div>\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">{`${rgbValues.R}, ${rgbValues.G}, ${rgbValues.B}`}</div>\n            <div\n              className=\"td\"\n              style={{\n                backgroundColor: `rgb(${rgbValues.R},${rgbValues.G},${rgbValues.B})`,\n              }}\n            />\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.x\" />\n            </div>\n            <div className=\"td\">{cursorPosition.x}</div>\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.y\" />\n            </div>\n            <div className=\"td\">{cursorPosition.y}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nImageInfo.defaultProps = {\n  imageInfoClass: '',\n  rgbValues: { R: 0, G: 0, B: 0 },\n  cursorPosition: { width: 0, height: 0 },\n  imageDimensions: { width: 0, height: 0 },\n};\n\nImageInfo.propTypes = {\n  imageInfoClass: PropTypes.string,\n  rgbValues: PropTypes.shape({\n    R: PropTypes.number,\n    G: PropTypes.number,\n    B: PropTypes.number,\n  }),\n  imageDimensions: PropTypes.shape({\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n  cursorPosition: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n  }),\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  return getPropsFromInspection(state, inspectionId, viewId, {\n    imageDimensions: 'imageDimensions',\n    cursorPosition: 'cursorPosition',\n    rgbValues: 'rgbValues',\n  });\n};\n\nexport default connect(mapStateToProps)(ImageInfo);\n","export const getPropsFromInspection = (state, inspectionId, viewId, props) => {\n  return Object.keys(props).reduce(\n    (acc, key) => ({\n      ...acc,\n      [key]: state.inspections[inspectionId].views[viewId][key],\n    }),\n    {},\n  );\n};\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport isEqual from 'lodash/isEqual';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport iconDownload from '../../assets/icons/download.svg';\nimport iconDownloadWithOverlays from '../../assets/icons/downloadWithOverlays.svg';\nimport iconFitToHeight from '../../assets/icons/fit-to-height.svg';\nimport iconFitToWidth from '../../assets/icons/fit-to-width.svg';\nimport iconInfo from '../../assets/icons/info.svg';\nimport iconOne from '../../assets/icons/one.svg';\nimport iconOverlayList from '../../assets/icons/overlay-list.svg';\n\nimport ActionBar from '../../components/ActionBar';\nimport ObjectSelector from '../../components/ObjectSelector';\nimport { OverlayList } from '../../components/OverlayList';\nimport ProxyType from '../../components/Protobuf/ProxyType';\nimport {\n  initViewState,\n  setViewData,\n  setSharedStateData,\n  addImageNotAvailableNotification,\n  setSaveFlag,\n} from '../../redux/actions/index';\nimport ActionBarType, { SEPARATOR } from '../../types/ActionBarType';\nimport logger from '../../utils/logger';\nimport { canReadImageView, canEditImageView } from '../../utils/permissions';\nimport ImageEditor from './components/ImageEditor';\nimport ImageInfo from './components/ImageInfo';\n\nclass ImageView extends Component {\n  state = {\n    viewSizeChangeCounter: this.props.viewSizeChangeCounter,\n    isOverlayInfoOpen: false,\n    isImageInfoOpen: false,\n    canvasInitResize: false,\n    subscribedSource: undefined,\n  };\n\n  async componentDidMount() {\n    if (this.props.sourceImage) {\n      this.unsubscribeFromProductStream();\n      this.resubscribeToProductStream(this.props.sourceImage, this.props.overlays);\n    }\n\n    const { configuration, proxy } = this.props;\n    if (configuration?.objectSelectorImages?.size === 0) {\n      await configuration.setObjectSelectorImages(proxy.protobuf);\n    }\n    if (configuration?.idNameMappings?.size === 0) {\n      await configuration.setIdNameMappings(proxy.protobuf);\n    }\n    proxy.dispatchCurrentConfiguration(configuration);\n  }\n\n  componentDidUpdate(nextProps) {\n    this.updateViewSize(nextProps.viewSizeChangeCounter);\n\n    const oldVariables = this.getUsedVariablesFromOverlay(this.props.overlays);\n    const newVariables = this.getUsedVariablesFromOverlay(nextProps.overlays);\n    if (\n      !isEqual(oldVariables, newVariables) ||\n      (this.state.subscribedSource !== nextProps.sourceImage && nextProps.sourceImage)\n    ) {\n      this.resubscribeToProductStream(nextProps.sourceImage, nextProps.overlays);\n    }\n\n    if (this.props.isBrowserWindowVisible !== nextProps.isBrowserWindowVisible) {\n      if (nextProps.isBrowserWindowVisible) {\n        this.resubscribeToProductStream(this.props.sourceImage, this.props.overlays);\n      } else {\n        this.unsubscribeFromProductStream();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromProductStream();\n  }\n\n  updateViewSize = (newViewSizeChangeCounter) => {\n    if (\n      newViewSizeChangeCounter > this.state.viewSizeChangeCounter ||\n      this.state.viewSizeChangeCounter === undefined\n    ) {\n      this.setState({ viewSizeChangeCounter: newViewSizeChangeCounter });\n    }\n  };\n\n  resubscribeToProductStream = (imageId, overlays) => {\n    if (imageId) {\n      this.unsubscribeFromProductStream();\n      this.subscribeToProductStream(imageId, overlays);\n      this.setState({ subscribedSource: imageId });\n    }\n  };\n\n  subscribeToProductStream = (imageId, overlays) => {\n    if (!this.productSub) {\n      const { inspectionId } = this.props;\n      const startAtTriggerCount = -1; // image view can only show one item at a time\n      const imageIds = [imageId];\n      const valueIds = this.getUsedVariablesFromOverlay(overlays);\n      const desc = { inspectionId, imageIds, valueIds, startAtTriggerCount };\n      this.productSub = this.props.proxy.subscribeToProductStream(desc, this.onProduct);\n    }\n  };\n\n  unsubscribeFromProductStream = () => {\n    if (this.productSub) {\n      this.props.proxy.unsubscribeFromProductStream(this.productSub);\n      this.productSub = null;\n    }\n  };\n\n  getUsedVariablesFromOverlay = (overlays) => {\n    const variables = [];\n    overlays &&\n      overlays.forEach((overlay) => {\n        Object.keys(overlay).forEach((key) => {\n          if (key.indexOf('Variable') > -1 && overlay[key] && !variables.includes(overlay[key])) {\n            variables.push(overlay[key]);\n          }\n        });\n      });\n    return variables;\n  };\n\n  setAllOverlaysActive = (isActive) => {\n    const updatedOverlays = this.props.overlays.map((overlay) => ({\n      ...overlay,\n      isActive,\n    }));\n    this.props.setSharedStateData('overlays', updatedOverlays);\n    this.props.setSaveFlag(true);\n  };\n\n  createActiveOverlayList = (overlays) => overlays.filter((overlay) => overlay.isActive);\n\n  createActiveOverlayIdList = (overlays) => {\n    const activeOverlays = overlays.filter((overlay) => overlay.isActive);\n    return activeOverlays.map((overlay) => overlay.id);\n  };\n\n  onProduct = ({ product }) => {\n    const imageId = this.props.sourceImage;\n\n    this.setState({ imageId, product });\n    if (!this.state.canvasInitResize) {\n      this.setState({ canvasInitResize: true });\n    }\n  };\n\n  toggleOverlayInfo = () => {\n    this.setState({\n      isOverlayInfoOpen: !this.state.isOverlayInfoOpen,\n      isImageInfoOpen: false,\n    });\n  };\n\n  toggleImageInfo = () => {\n    this.setState({\n      isImageInfoOpen: !this.state.isImageInfoOpen,\n      isOverlayInfoOpen: false,\n    });\n  };\n\n  setSourceImageId = (id) => {\n    if (!id) {\n      logger.error(`OjectSelector did not return a valid id ${id}.`);\n      return;\n    }\n    this.props.setSharedStateData('sourceImage', id);\n  };\n\n  updateOverlayList = (updatedOverlayList) => {\n    this.props.setSharedStateData('overlays', updatedOverlayList);\n    this.props.setSaveFlag(true);\n  };\n\n  setTitleFromConfig = () => {\n    const { sourceImage, inspectionId, configuration } = this.props;\n    if (configuration) {\n      const path = configuration.getValueNameForId(inspectionId, sourceImage);\n      if (path) {\n        this.props.setViewData('windowName', path);\n      }\n    }\n  };\n\n  renderObjectSelector = () => {\n    const { configuration, inspectionId } = this.props;\n    if (!configuration || !inspectionId) {\n      return;\n    }\n\n    const images = configuration.getObjectSelectorImagesForInspection(inspectionId);\n\n    return (\n      <div style={{ width: '100%', overflow: 'auto' }}>\n        {images && (\n          <ObjectSelector\n            singleSelect\n            data={images.tree}\n            onChange={(selectedId, checkedLocation) => {\n              this.setSourceImageId(selectedId);\n              this.props.setViewData('windowName', checkedLocation);\n              this.props.setSaveFlag(true);\n            }}\n          />\n        )}\n      </div>\n    );\n  };\n\n  renderImageView = () => {\n    const { viewActions } = this.props;\n\n    return (\n      <div style={{ height: '100%', width: '100%' }}>\n        <div style={{ height: '100%', width: '100%' }}>{this.renderImageViewImpl()}</div>\n        <ActionBar isViewAction actions={viewActions(this)} />\n      </div>\n    );\n  };\n\n  renderImageViewImpl() {\n    const { product } = this.state;\n    if (!product || product.released) {\n      return <div>&lt;UNAVAILABLE&gt;</div>;\n    }\n\n    return [this.renderImageEditor(), this.renderImageInfo(), this.renderOverlayList()];\n  }\n\n  renderImageEditor() {\n    const { inspectionId, id } = this.props;\n    const { product, imageId, isImageInfoOpen } = this.state;\n\n    return (\n      <ImageEditor\n        ref={(ref) => {\n          this.imageEditor = ref;\n        }}\n        id={id}\n        inspectionId={inspectionId}\n        imageId={imageId}\n        product={product}\n        key={`ImageEditor${id}`}\n        isImageInfoOpen={isImageInfoOpen}\n      />\n    );\n  }\n\n  renderImageInfo() {\n    const { inspectionId, id } = this.props;\n    const { isImageInfoOpen } = this.state;\n\n    if (!isImageInfoOpen) {\n      return;\n    }\n\n    return (\n      <ImageInfo\n        id={id}\n        key={`ImageInfo${id}`}\n        inspectionId={inspectionId}\n        imageInfoClass={classNames({ 'info-box': true })}\n      />\n    );\n  }\n\n  renderOverlayList() {\n    const { overlays, id } = this.props;\n    const { isOverlayInfoOpen } = this.state;\n\n    if (!isOverlayInfoOpen) {\n      return;\n    }\n\n    return (\n      <div className={classNames({ 'info-box': true })} key={`OverlayList${id}`}>\n        <OverlayList\n          overlays={overlays}\n          updateOverlayList={this.updateOverlayList}\n          canSelectRow={false}\n          onSelectAll={(checked) => this.setAllOverlaysActive(checked)}\n          hasActionBar={false}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const { sourceImage, myPermissions } = this.props;\n\n    this.setTitleFromConfig();\n\n    if (canReadImageView(myPermissions) || canEditImageView(myPermissions)) {\n      return (\n        <div className=\"image-view-wrapper\">\n          {sourceImage ? this.renderImageView() : this.renderObjectSelector()}\n        </div>\n      );\n    }\n\n    return <div></div>;\n  }\n}\n\nImageView.defaultProps = {\n  viewActions: (imageView) => {\n    const canEdit = canEditImageView(imageView.props.myPermissions);\n    const canRead = canReadImageView(imageView.props.myPermissions);\n    const actions = [\n      {\n        intlId: 'imageView.zoomOut',\n        iconUrl: iconOne,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.resetZoom();\n          }\n        },\n        enabled: canEdit,\n      },\n      {\n        intlId: 'imageView.fitToWidth',\n        iconUrl: iconFitToWidth,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.fitToWidth();\n          }\n        },\n        enabled: canEdit,\n      },\n      {\n        intlId: 'imageView.fitToHeight',\n        iconUrl: iconFitToHeight,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.fitToHeight();\n          }\n        },\n        enabled: canEdit,\n      },\n      {\n        type: SEPARATOR,\n      },\n      {\n        intlId: 'imageView.save',\n        iconUrl: iconDownload,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.downloadOriginalImage();\n          }\n        },\n        enabled: canRead || canEdit,\n      },\n      {\n        intlId: 'imageView.saveWithOverlays',\n        iconUrl: iconDownloadWithOverlays,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.downloadOriginalImageWithOverlays();\n          }\n        },\n        enabled: canRead || canEdit,\n      },\n      {\n        type: SEPARATOR,\n      },\n      {\n        intlId: 'imageView.overlayListToggle',\n        iconUrl: iconOverlayList,\n        onClickHandler: () => {\n          imageView.toggleOverlayInfo();\n        },\n        enabled: canRead || canEdit,\n      },\n      {\n        intlId: 'imageView.imageInfoToggle',\n        iconUrl: iconInfo,\n        onClickHandler: () => {\n          imageView.toggleImageInfo();\n        },\n        enabled: canRead || canEdit,\n      },\n    ];\n\n    return actions;\n  },\n  overlayActions: () => [],\n  inRunMode: false,\n  currentMode: undefined,\n  proxy: undefined,\n  rgbValues: { R: 0, G: 0, B: 0 },\n  cursorPosition: { width: 0, height: 0 },\n};\n\nImageView.propTypes = {\n  viewActions: ActionBarType,\n  overlayActions: ActionBarType,\n  currentMode: PropTypes.string,\n  viewSizeChangeCounter: PropTypes.number,\n  overlays: PropTypes.array, //eslint-disable-line\n  proxy: ProxyType,\n  sourceImage: PropTypes.number,\n};\n\nconst initState = {\n  scaleFactor: 0,\n  rgbValues: { R: 0, G: 0, B: 0 },\n  imageDimensions: { width: 0, height: 0 },\n  cursorPosition: { x: 0, y: 0 },\n};\n\nconst initSharedState = {\n  overlays: [],\n  sourceImage: 0,\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { inspectionId, id: viewId } = ownProps;\n  dispatch(initViewState(inspectionId, viewId, initState, initSharedState));\n  return {\n    setViewData: (key, data) => dispatch(setViewData(inspectionId, viewId, key, data)),\n    setSharedStateData: (key, data) =>\n      dispatch(setSharedStateData(inspectionId, key, data, viewId)),\n    addImageNotAvailableNotification: () => dispatch(addImageNotAvailableNotification()),\n    setSaveFlag: (hasChanges) => dispatch(setSaveFlag(hasChanges)),\n  };\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id: viewId } = ownProps;\n  const result = {\n    proxy: state.app.proxy,\n    configuration: state.app.configuration,\n    currentMode: state.app.currentMode,\n    viewSizeChangeCounter: state.viewSet.viewSizeChangeCounter,\n    myPermissions: state.app.myPermissions,\n    isBrowserWindowVisible: state.app.isBrowserWindowVisible,\n  };\n\n  try {\n    return {\n      ...result,\n      overlays: state.inspections[inspectionId].sharedState?.views[viewId].overlays,\n      sourceImage: Number(state.inspections[inspectionId].sharedState?.views[viewId].sourceImage),\n    };\n  } catch (error) {\n    return result;\n  }\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageView);\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgBack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    fill: \"#000000\",\n    height: 24,\n    viewBox: \"0 0 24 24\",\n    width: 24,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 0h24v24H0z\",\n    fill: \"none\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgBack);\nexport default __webpack_public_path__ + \"static/media/back.c6197e51.svg\";\nexport { ForwardRef as ReactComponent };","import { Key, memo, useCallback, useMemo } from 'react';\nimport { useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport EditIcon from '../../../assets/icons/edit.svg';\nimport ObjectSelector, { TreeNodeSchema } from '../../../components/ObjectSelector';\nimport IconButton from '../../../components/buttons/IconButton';\nimport type Configuration from '../../../protobuf/Configuration';\n\ninterface ToolListSelectorProps {\n  inspectionId: string;\n  onSelect: (node: TreeNodeSchema) => void;\n  expandedKeys?: Key[];\n  setExpandedKeys?: (keys: Key[]) => void;\n}\n\nexport const ToolListSelector = memo(\n  ({ inspectionId, expandedKeys, setExpandedKeys, onSelect }: ToolListSelectorProps) => {\n    const intl = useIntl();\n    const configuration = useSelector<any>((state) => state?.app?.configuration) as Configuration;\n\n    const makeTreeEditable = useCallback(\n      (node: TreeNodeSchema): TreeNodeSchema => {\n        if (node.children?.length > 0) {\n          return {\n            ...node,\n            children: node.children.map(makeTreeEditable),\n          };\n        }\n        return {\n          ...node,\n          styledText: (\n            <div className=\"tool-entry\" onClick={() => onSelect(node)}>\n              <span>{node.name}</span>{' '}\n              <IconButton\n                tooltip={intl.messages['inputToolView.edit']}\n                onClick={() => void 0}\n                style={{ height: 20, width: 20 }}\n                iconUrl={EditIcon}\n              />\n            </div>\n          ),\n        };\n      },\n      [intl.messages, onSelect],\n    );\n\n    const tree = useMemo(() => {\n      if (!configuration) {\n        return { children: [] };\n      }\n\n      const tree =\n        configuration.getRemotelySettableObjectSelectorItemsForInspection(inspectionId)?.tree;\n      const filteredTree: TreeNodeSchema = tree\n        ? configuration.filterArrayValuesFromTree(tree)\n        : {};\n\n      return {\n        ...filteredTree,\n        children: (filteredTree?.children ?? []).map(makeTreeEditable),\n      };\n    }, [configuration, inspectionId, makeTreeEditable]);\n\n    return (\n      <ObjectSelector\n        data={tree}\n        checkable={false}\n        onExpand={setExpandedKeys}\n        expandedKeys={expandedKeys}\n      />\n    );\n  },\n);\n","import { ToolsetTreeNode } from '.';\n\nexport function bytesToString(bytes: Uint8Array | undefined, fallback = '') {\n  if (!(bytes instanceof Uint8Array)) {\n    return fallback;\n  }\n  return String.fromCharCode(...Array.from(bytes));\n}\n\nexport function stringToBytes(str = '') {\n  return new Uint8Array(str.split('').map((a) => a.charCodeAt(0)));\n}\n\ninterface Variant {\n  type: number;\n  count?: number;\n\n  bVal?: boolean;\n  lVal?: number;\n  llVal?: number;\n  ulVal?: number;\n  ullVal?: number;\n  dblVal?: number;\n  fltVal?: number;\n  strVal?: string;\n  // bytes bytesVal = 11;\n}\n\ninterface Value {\n  value: Variant;\n  defaultValue: Variant;\n}\n\nexport interface LinkedValue extends Value {\n  type: LinkedSelectedType;\n  directValue?: Variant;\n  indirectIDString?: Uint8Array;\n  formula?: Uint8Array;\n  readonly equationId: number;\n}\n\nexport interface EmbeddedValue {\n  readonly objectId: number;\n  embeddedId: EmbeddedIdEnum;\n  value?: Value;\n  linkedValue?: LinkedValue;\n}\n\nexport interface CommonHookProps {\n  inspectionID: number;\n  data: ToolsetTreeNode;\n}\n\nexport interface CommonMathToolProps<ValueType> {\n  inspectionID: number;\n  value: ValueType;\n  onChange: (value: ValueType) => void;\n  loading: boolean;\n  toggleOptions: (show: boolean) => void;\n}\n\nexport enum LinkedSelectedType {\n  // None = 0, // not used\n  DirectValue = 1,\n  IndirectValue = 2,\n  Formula = 3,\n}\n\n/** {@link https://docs.microsoft.com/en-us/windows/win32/api/wtypes/ne-wtypes-varenum} */\nexport enum VARENUM {\n  VT_EMPTY = 0,\n  VT_NULL = 1,\n  VT_I2 = 2,\n  VT_I4 = 3,\n  VT_R4 = 4,\n  VT_R8 = 5,\n  VT_CY = 6,\n  VT_DATE = 7,\n  VT_BSTR = 8,\n  VT_DISPATCH = 9,\n  VT_ERROR = 10,\n  VT_BOOL = 11,\n  VT_VARIANT = 12,\n  VT_UNKNOWN = 13,\n  VT_DECIMAL = 14,\n  VT_I1 = 16,\n  VT_UI1 = 17,\n  VT_UI2 = 18,\n  VT_UI4 = 19,\n  VT_I8 = 20,\n  VT_UI8 = 21,\n  VT_INT = 22,\n  VT_UINT = 23,\n  VT_VOID = 24,\n  VT_HRESULT = 25,\n  VT_PTR = 26,\n  VT_SAFEARRAY = 27,\n  VT_CARRAY = 28,\n  VT_USERDEFINED = 29,\n  VT_LPSTR = 30,\n  VT_LPWSTR = 31,\n  VT_RECORD = 36,\n  VT_INT_PTR = 37,\n  VT_UINT_PTR = 38,\n  VT_FILETIME = 64,\n  VT_BLOB = 65,\n  VT_STREAM = 66,\n  VT_STORAGE = 67,\n  VT_STREAMED_OBJECT = 68,\n  VT_STORED_OBJECT = 69,\n  VT_BLOB_OBJECT = 70,\n  VT_CF = 71,\n  VT_CLSID = 72,\n  VT_VERSIONED_STREAM = 73,\n  VT_BSTR_BLOB = 0xfff,\n  VT_VECTOR = 0x1000,\n  VT_ARRAY = 0x2000,\n  VT_BYREF = 0x4000,\n  VT_RESERVED = 0x8000,\n  VT_ILLEGAL = 0xffff,\n  VT_ILLEGALMASKED = 0xfff,\n  VT_TYPEMASK = 0xfff,\n}\n\nexport enum EmbeddedIdEnum {\n  NoEmbeddedId = 0,\n  StringValueEId = 1,\n  TaskObjectClassIsObjectValidEId = 2,\n  RootEId = 3,\n  ToolSetEnabledEId = 4,\n  ToolEnabledEId = 5,\n  ToolSelectedForOperatorMoveEId = 6,\n  ToolPositionEId = 7,\n  ToolTimeEId = 8,\n  MinToolSetTimeEId = 9,\n  MaxToolSetTimeEId = 10,\n  ResetInspectionCountsEId = 11,\n  TriggerCountEId = 12,\n  PPQIndexEId = 13,\n  TriggerDeltaEId = 14,\n  TriggerToCompletionEId = 15,\n  TriggerToStartEId = 16,\n  TriggerToAcquisitionStartEId = 17,\n  AcquisitionTimeEId = 18,\n  EnableAuxiliaryExtentsEId = 21,\n  ObjectIDEId = 22,\n  TriggerIndexEId = 23,\n  InspectedObjectIDEId = 24,\n  InspectedObjectIDLinkEId = 25, //obsolete, but needed for loading configs older than 10.20\n  LuminanceValueEId = 26,\n  HistogramValueEId = 27,\n  HistogramMeanEId = 28,\n  HistogramStdDevEId = 29,\n  HistogramRangeStartEId = 30,\n  HistogramRangeEndEId = 31,\n  HistogramRangeSizeEId = 32,\n  HistogramMaxPixelEId = 33,\n  HistogramScaleEId = 34,\n  HistogramMinPixelEId = 35,\n  HistogramPixelCountEId = 36,\n  HistogramImageEId = 37,\n  HistogramHighPeakEId = 38,\n  HistogramLowPeakEId = 39,\n  HistogramValleyEId = 40,\n  HistogramPeakThresholdEId = 41,\n  HistogramDefaultPeakEId = 42,\n  HistogramAccumulateEId = 43,\n  HistogramMinPeakHeightEId = 44,\n  HistogramValleyLowerBoundEId = 45,\n  HistogramValleyUpperBoundEId = 46,\n  HistogramValleyDefaultEId = 47,\n  HistogramFixedHeightValueEId = 48,\n  HistogramDynamicHeightEId = 49,\n  CalcStdDevEId = 50,\n  PixelColorIndexEId = 51,\n  PixelCountEId = 52,\n  BlobEnabledFeaturesEId = 53,\n  NbrOfBlobsEId = 54,\n  MaxBlobDataArraySizeEId = 55,\n  SortFeatureEId = 56,\n  NbrOfBlobsFoundEId = 57,\n  SortAscendingEId = 58,\n  ExcludeFailedEId = 59,\n  BlobColorEId = 60,\n  BlobUseFillEId = 61,\n  BlobFillColorEId = 62,\n  BlobFillTypeEId = 63,\n  StatMinEId = 64,\n  StatMaxEId = 65,\n  StatAverageEId = 66,\n  StatStdDevEId = 67,\n  StatVarianceEId = 68,\n  StatTestValueEId = 69,\n  StatNbrOfOccurancesEId = 70,\n  StatPercentOfOccurancesEId = 71,\n  StatEnabledFeaturesEId = 72,\n  StatVariableNameToMonitorEId = 74,\n  UpperThresholdEId = 76,\n  LowerThresholdEId = 77,\n  ThresholdActivateEId = 78,\n  UpperThresholdActivateEId = 79,\n  LowerThresholdActivateEId = 80,\n  AutoThresholdEId = 81,\n  BlackBackgroundEId = 82,\n  AutoThresholdMultiplierEId = 83,\n  RingBuffer_FlagOfOutputImagesEId = 84,\n  FilterKernelEId = 85,\n  FilterKernelWidthEId = 86,\n  FilterKernelHeightEId = 87,\n  CustomFilterClippingEId = 88,\n  CustomFilterAbsoluteEId = 89,\n  CustomFilterTransformEId = 90,\n  RankingFilterRankingRankEId = 93,\n  RingBuffer_DepthEId = 94,\n  RingBufferLink_DepthEId = 95, //obsolete, but needed for loading configs older than 10.20\n  RangeClassFailHighEId = 96,\n  RangeClassFailLowEId = 97,\n  RangeClassWarnHighEId = 98,\n  RangeClassWarnLowEId = 99,\n  RangeClassFailHighIndirectEId = 100, //obsolete, but needed for loading configs older than 10.20\n  RangeClassFailLowIndirectEId = 101, //obsolete, but needed for loading configs older than 10.20\n  RangeClassWarnHighIndirectEId = 102, //obsolete, but needed for loading configs older than 10.20\n  RangeClassWarnLowIndirectEId = 103, //obsolete, but needed for loading configs older than 10.20\n  OCVPerformOCREId = 104,\n  OCVMatchLineNumberEId = 105,\n  OCVHighestMatchScoreEId = 106,\n  OCVLowestMatchScoreEId = 107,\n  OCVAverageMatchScoreEId = 108,\n  OCVFontFileNameEId = 109,\n  OCVMatchStringFileNameEId = 110,\n  OCVConstraintsFileNameEId = 111,\n  OCVControlsFileNameEId = 112,\n  OCVUseMatchFileEId = 113,\n  OCVMatchStringEId = 114,\n  OCVFoundStringEId = 115,\n  OCVCharacterValueEId = 116,\n  OCVExtentLeftEId = 117,\n  OCVExtentTopEId = 118,\n  OCVExtentWidthEId = 119,\n  OCVExtentHeightEId = 120,\n  OCVMatchScoreEId = 121,\n  ArchiveFilePathEId = 122,\n  ArchiveImageGuids_OBSOLETE_EId = 123,\n  ArchiveImageFileRootPart1EId = 124,\n  ArchiveResultGuids_OBSOLETE_EId = 125,\n  ArchiveAppendArchiveFileEId = 126,\n  ArchiveStopAtMaxImagesEId = 127,\n  ArchiveUseTriggerCountForImages_obsolete_EId = 128,\n  ArchiveMaxImagesCountEId = 129,\n  ArchiveMethodEId = 130,\n  ArchiveUseHeadersEId = 131,\n  ArchiveHeaderLabelEId = 132,\n  ArchiveHeaderEId = 133,\n  ArchiveResultNamesEId = 134,\n  ArchiveImageNamesEId = 135,\n  BaseDirectorynameEId = 136,\n  BaseFilenameEId = 137,\n  CenterFilenameEId = 138,\n  FilenameIndex1EId = 139,\n  FilenameIndex1LinkEId = 140, //obsolete, but needed for loading configs older than 10.20\n  FilenameIndex2EId = 141,\n  FilenameIndex2LinkEId = 142, //obsolete, but needed for loading configs older than 10.20\n  UseAlternativeImagePathsEId = 143,\n  SubfolderSelectionEId = 144,\n  SubfolderSelectionLinkEId = 145, //obsolete, but needed for loading configs older than 10.20\n  DirectorynameIndexEId = 146,\n  DirectorynameIndexLinkEId = 147, //obsolete, but needed for loading configs older than 10.20\n  EquationEnabledEId = 148,\n  ConditionalResultEId = 149,\n  MathEquationResultEId = 150,\n  LinearEdgesEId = 151,\n  ConditionalEditFreezeFlagEId = 152,\n  DPEdgeAEId = 156,\n  DPEdgeBEId = 157,\n  DPCenterEId = 158,\n  DWidthEId = 159,\n  LinearDistanceEdgeAEId = 160,\n  LinearDistanceEdgeBEId = 161,\n  XEId = 162,\n  DXEId = 163,\n  YEId = 164,\n  DYEId = 165,\n  ValueEId = 166,\n  FailedEId = 167,\n  WarnedEId = 168,\n  PassedEId = 169,\n  ExplicitFailedEId = 170,\n  PassedCountEId = 171,\n  FailedCountEId = 172,\n  WarnedCountEId = 173,\n  EnabledCountEId = 174,\n  ProcessedCountEId = 175,\n  BlackPixelEId = 176,\n  WhitePixelEId = 177,\n  EdgeCountEId = 178,\n  ColorEId = 179,\n  StatusEId = 180,\n  RotationAngleEId = 182,\n  RotationPointXEId = 183,\n  RotationPointYEId = 184,\n  ProfileOrientationEId = 185,\n  LinearToolUseRotationEId = 186,\n  TranslationXOffsetEId = 187,\n  TranslationYOffsetEId = 188,\n  WarpTypeEId = 189,\n  WarpAngleEId = 190,\n  EnableOffsetAEId = 191,\n  OffsetAPointEId = 192,\n  EnableOffsetBEId = 193,\n  OffsetBPointEId = 194,\n  ArithmeticOperatorEId = 195,\n  MaskEnabledEId = 196,\n  MaskUseImageMaskEId = 197,\n  MaskOperatorEId = 198,\n  MaskFillAreaEId = 199,\n  MaskFillColorEId = 200,\n  ShapeMaskTypeEId = 201,\n  ShapeMaskMaskAreaEId = 202,\n  ShapeMaskPropertyCenterXEId = 203,\n  ShapeMaskPropertyCenterYEId = 204,\n  ShapeMaskPropertyWidthEId = 205,\n  ShapeMaskPropertyHeightEId = 206,\n  ShapeMaskPropertySideThicknessEId = 207,\n  ShapeMaskPropertyTopBottomThicknessEId = 208,\n  ShapeMaskPropertyOffsetEId = 209,\n  ShapeMaskPropertySymmetryOrientationEId = 210,\n  ShapeMaskAutoResizeEId = 211,\n  PathNameEId = 212,\n  ContinuousReloadEId = 213,\n  BarCodeEId = 214,\n  RegExpressionEId = 215,\n  BCTypeEId = 216,\n  BCOrientationEId = 217,\n  BCSkewNegativeEId = 218,\n  BCSkewPositiveEId = 219,\n  BCCellMinSizeEId = 220,\n  BCCellMaxSizeEId = 221,\n  BCCellNumberXEId = 222,\n  BCCellNumberYEId = 223,\n  BCSpeedEId = 224,\n  BCThresholdEId = 225,\n  BCStringSizeEId = 226,\n  BCErrorCorrectionEId = 227,\n  BCEncodingEId = 228,\n  BCForegroundColorEId = 229,\n  BCSaveStringInFileEId = 230,\n  BCStringFileNameEId = 231,\n  BCWarnOnFailedReadEId = 232,\n  WatershedFilterMinVariationEId = 233,\n  WatershedFilterControlFlagEId = 234,\n  WatershedFilterUseMarkerEId = 235,\n  ThickeningFilterItterationsEId = 236,\n  ThickeningFilterGrayOnEId = 237,\n  ThinningFilterItterationsEId = 238,\n  GrayOnEId = 239,\n  BCUseSingleMatchStringEId = 240,\n  BCUseMatchStringFileEId = 241,\n  BCMatchStringFileNameEId = 242,\n  BCMatchStringLineEId = 243,\n  BCMatchScoreEId = 244,\n  BCTimeoutEId = 245,\n  BCUnevenGridEId = 246,\n  UpperThresholdEquationResultEId = 247,\n  LowerThresholdEquationResultEId = 248,\n  AutoThresholdEquationResultEId = 249,\n  UseExternalATMEId = 250,\n  UseExternalLTEId = 251,\n  UseExternalUTEId = 252,\n  RegressionTestModeEId = 253,\n  UseLowerThresholdSelectableEId = 254,\n  UseLowerThresholdMaxMinusPercentDiffEId = 255,\n  UseLowerThresholdMaxMinusOffsetEId = 256,\n  UseLowerThresholdMinPlusOffsetEId = 257,\n  LowerThresholdMaxMinusPercentDiffEId = 258,\n  LowerThresholdMaxMinusOffsetEId = 259,\n  LowerThresholdMinPlusOffsetEId = 260,\n  UseUpperThresholdSelectableEId = 261,\n  UseUpperThresholdMaxMinusPercentDiffEId = 262,\n  UseUpperThresholdMaxMinusOffsetEId = 263,\n  UseUpperThresholdMinPlusOffsetEId = 264,\n  UpperThresholdMaxMinusPercentDiffEId = 265,\n  UpperThresholdMaxMinusOffsetEId = 266,\n  UpperThresholdMinPlusOffsetEId = 267,\n  UseLowerThresholdSelectableBEId = 268,\n  UseLowerThresholdMaxMinusPercentDiffBEId = 269,\n  UseLowerThresholdMaxMinusOffsetBEId = 270,\n  UseLowerThresholdMinPlusOffsetBEId = 271,\n  LowerThresholdMaxMinusPercentDiffBEId = 272,\n  LowerThresholdMaxMinusOffsetBEId = 273,\n  LowerThresholdMinPlusOffsetBEId = 274,\n  UseUpperThresholdSelectableBEId = 275,\n  UseUpperThresholdMaxMinusPercentDiffBEId = 276,\n  UseUpperThresholdMaxMinusOffsetBEId = 277,\n  UseUpperThresholdMinPlusOffsetBEId = 278,\n  UpperThresholdMaxMinusPercentDiffBEId = 279,\n  UpperThresholdMaxMinusOffsetBEId = 280,\n  UpperThresholdMinPlusOffsetBEId = 281,\n  LinearThresholdMaxEId = 282,\n  LinearThresholdMinEId = 283,\n  LinearThresholdDeltaEId = 284,\n  ShiftToolModeEId = 285,\n  ShiftToolReferenceXEId = 286,\n  ShiftToolReferenceYEId = 287,\n  ContRecalcEId = 288,\n  ImageTransformDisplacementXEId = 289,\n  ImageTransformDisplacementYEId = 290,\n  TopResultEId = 291,\n  LeftResultEId = 292,\n  ImageTransformSourceXEId = 293,\n  ImageTransformSourceYEId = 294,\n  OutputEvaluateTranslationXResultEId = 295,\n  OutputEvaluateTranslationYResultEId = 296,\n  OutputEvaluateRotationXResultEId = 297,\n  OutputEvaluateRotationYResultEId = 298,\n  OutputEvaluateRotationAngleResultEId = 299,\n  PerformTranslationEId = 300,\n  TranslationXEId = 301,\n  TranslationYEId = 302,\n  PerformRotationEId = 303,\n  LearnedTranslationXEId = 304,\n  LearnedTranslationYEId = 305,\n  LearnedRotationXEId = 306,\n  LearnedRotationYEId = 307,\n  LearnedRotationAngleEId = 308,\n  UseExtentsOnlyEId = 309,\n  ConditionalToolSetDrawFlagEId = 310,\n  ConditionalToolDrawFlagEId = 311,\n  OutputCenterXEId = 312,\n  OutputCenterYEId = 313,\n  OutputStartRadiusEId = 314,\n  OutputEndRadiusEId = 315,\n  OutputStartAngleEId = 316,\n  OutputEndAngleEId = 317,\n  OutputInterpolationModeEId = 318,\n  OutputUseFormulaEId = 319,\n  OutputAngularMethodEId = 320,\n  OutputEvaluateCenterXResultEId = 321,\n  OutputEvaluateCenterYResultEId = 322,\n  OutputEvaluateStartRadiusResultEId = 323,\n  OutputEvaluateEndRadiusResultEId = 324,\n  OutputEvaluateStartAngleResultEId = 325,\n  OutputEvaluateEndAngleResultEId = 326,\n  ExtentRelativeLeftPositionEId = 327,\n  ExtentRelativeTopPositionEId = 328,\n  ExtentRelativeRightPositionEId = 329,\n  ExtentRelativeBottomPositionEId = 330,\n  ExtentWidthEId = 331,\n  ExtentHeightEId = 332,\n  ExtentWidthFactorContentEId = 333,\n  ExtentHeightFactorContentEId = 334,\n  UpdateAuxiliaryExtentsEId = 335,\n  AuxiliarySourceXEId = 336,\n  AuxiliarySourceYEId = 337,\n  AuxiliarySourceAngleEId = 338,\n  AuxiliarySourceImageNameEId = 339,\n  AuxiliaryDrawTypeEId = 340,\n  //LUTIndexVariableEId = 341,\n  LUTEquationResultEId = 342,\n  LUTEquationClipFlagEId = 343,\n  OutputLUTVectorEId = 344,\n  UseLUTEId = 345,\n  ContinuousRecalcLUTEId = 346,\n  LUTModeEId = 347,\n  LUTUpperClipEId = 348,\n  LUTLowerClipEId = 349,\n  LUTMinInputEId = 350,\n  LUTMaxInputEId = 351,\n  LUTMinOutputEId = 352,\n  LUTMaxOutputEId = 353,\n  PatAcceptThresholdEId = 354,\n  PatCertainThresholdEId = 355,\n  PatAccuracyEId = 356,\n  PatMaxOccurancesEId = 357,\n  PatSearchAngleModeEId = 358,\n  PatSpeedEId = 359,\n  PatModelImageFileEId = 360,\n  PatSearchAngleEId = 361,\n  PatAngleDeltaNegEId = 362,\n  PatAngleDeltaPosEId = 363,\n  PatAngleToleranceEId = 364,\n  PatAngleAccuracyEId = 365,\n  PatAngleInterpolationEId = 366,\n  PatCircularOverscanEId = 367,\n  PatDontCareEId = 368,\n  PatDontCareImageFileEId = 369,\n  PatPreliminaryAcceptanceThresholdEId = 370,\n  PatFastFindEId = 371,\n  PatModelStepEId = 372,\n  PatModelWidthEId = 373,\n  PatModelHeightEId = 374,\n  PatModelCenterXEId = 375,\n  PatModelCenterYEId = 376,\n  PatDontCareWidthEId = 377,\n  PatDontCareHeightEId = 378,\n  PatBeginningResolutionLevelEId = 379,\n  PatFinalResolutionLevelEId = 380,\n  PatAdditionalCandidatesEId = 381,\n  PatCandidateSpacingXMinEId = 382,\n  PatCandidateSpacingYMinEId = 383,\n  PatResultMatchScoreEId = 384,\n  PatResultXEId = 385,\n  PatResultYEId = 386,\n  PatResultAngleEId = 387,\n  PatResultNumFoundOccurancesEId = 388,\n  LinearDataClassEId = 389,\n  Band0ImageEId = 390,\n  Band1ImageEId = 391,\n  Band2ImageEId = 392,\n  ConvertToHSIEId = 393,\n  HasROIEId = 394,\n  ColorThresholdEnabledEId = 395,\n  Band0UpperThresholdEId = 396,\n  Band0LowerThresholdEId = 397,\n  Band0ThresholdExcludeEId = 398,\n  Band0ThresholdEnabledEId = 399,\n  Band1UpperThresholdEId = 400,\n  Band1LowerThresholdEId = 401,\n  Band1ThresholdExcludeEId = 402,\n  Band1ThresholdEnabledEId = 403,\n  Band2UpperThresholdEId = 404,\n  Band2LowerThresholdEId = 405,\n  Band2ThresholdExcludeEId = 406,\n  Band2ThresholdEnabledEId = 407,\n  EdgeUpperThresholdValueEId = 408,\n  EdgeADirectionEId = 409,\n  EdgeAPolarisationEId = 410,\n  EdgeAEdgeSelectEId = 411,\n  EdgeAEdgeSelectThisValueEId = 412,\n  EdgeAIsFixedEdgeMarkerEId = 413,\n  EdgeAPositionEId = 414,\n  EdgeAPositionOffsetEId = 415,\n  EdgeALowerThresholdValueEId = 416,\n  EdgeBDirectionEId = 418,\n  EdgeBPolarisationEId = 419,\n  EdgeBEdgeSelectEId = 420,\n  EdgeBEdgeSelectThisValueEId = 421,\n  EdgeBIsFixedEdgeMarkerEId = 422,\n  EdgeBPositionEId = 423,\n  EdgeBPositionOffsetEId = 424,\n  EdgeBLowerThresholdValueEId = 425,\n  EdgeBUpperThresholdValueEId = 426,\n  DrawCriteriaEId = 427,\n  ResizeInterpolationModeEId = 428,\n  ResizeOverscanEId = 429,\n  ResizePerformanceEId = 430,\n  LogicalROIImageEId = 431,\n  DllFileNameEId = 432,\n  DllToolNameEId = 433,\n  DllToolVersionEId = 434,\n  ShowAllEdgeAOverlaysEId = 435,\n  ShowAllEdgeBOverlaysEId = 436,\n  SourceImageNamesEId = 437,\n  BCRawDataEId = 438,\n  BCStringFormatEId = 439,\n  BCThresholdTypeEId = 440,\n  ToolCommentTypeEId = 441,\n  NotUsed1 = 442,\n  NotUsed2 = 443,\n  ToolSizeAdjustSizeWidthModeEId = 445,\n  ToolSizeAdjustSizeHeightModeEId = 446,\n  ToolSizeAdjustSizePositionXModeEId = 447,\n  ToolSizeAdjustSizePositionYModeEId = 448,\n  EQAdjustSizeWidthResultEId = 449,\n  EQAdjustSizeHeightResultEId = 450,\n  EQAdjustSizePositionXResultEId = 451,\n  EQAdjustSizePositionYResultEId = 452,\n  TableTool_MaxRowEId = 453,\n  TableObject_NumberOfRowsEId = 454,\n  RootUidEId = 456,\n  GlobalUidEId = 457,\n  EnvironmentUidEId = 458,\n  EnvironmentModelNumberUidEId = 459,\n  EnvironmentWinKeyUidEId = 460,\n  EnvironmentImageUpdateUidEId = 461,\n  EnvironmentResultUpdateUidEId = 462,\n  EnvironmentModeIsRunUidEId = 463,\n  EnvironmentModeIsStopUidEId = 464,\n  EnvironmentModeIsRegressionTestUidEId = 465,\n  EnvironmentModeIsTestUidEId = 466,\n  EnvironmentModeIsEditUidEId = 467,\n  EnvironmentModeValueUidEId = 468,\n  EnvironmentModeUidEId = 469,\n  EnvironmentAutoSaveUidEId = 470,\n  EnvironmentDiskProtectionUidEId = 471,\n  EnvironmentStartLastConfiEIdEId = 472,\n  TableAnaylzerSortIsASCEId = 474,\n  TableAnaylzerExcludeHighEId = 475,\n  TableAnaylzerExcludeHigh_LinkEId = 476, //obsolete, but needed for loading configs older than 10.20\n  TableAnaylzerExcludeLowEId = 477,\n  TableAnaylzerExcludeLow_LinkEId = 478, //obsolete, but needed for loading configs older than 10.20\n  TableAnaylzerLimitValueEId = 479,\n  TableAnaylzerLimitValue_LinkEId = 480, //obsolete, but needed for loading configs older than 10.20\n  MaxLoopsEId = 481,\n  LoopCounterEId = 482,\n  LinkedLoopsEId = 483,\n  LinkedLoops_LinkedEId = 484, //obsolete, but needed for loading configs older than 10.20\n  LoopBreakEId = 485,\n  LoopBreak_LinkedEId = 486, //obsolete, but needed for loading configs older than 10.20\n  TriggerTimeEId = 487,\n  SubfolderLocationEId = 488,\n  SubfolderLocationLinkEId = 489, //obsolete, but needed for loading configs older than 10.20\n  InspectionNameEId = 490,\n  FormatArchiveToolResultsEId = 491,\n  ArchiveResultsMinimumNumberOfCharactersEId = 492,\n  ArchiveResultsNumberOfDecimalsEId = 493,\n  ArchiveImageFileRootPart2EId = 494,\n  ArchiveImageFileRootPart3EId = 495,\n  ArchiveImageFileRootPart1LinkEId = 496, //obsolete, but needed for loading configs older than 10.20\n  ArchiveImageFileRootPart2LinkEId = 497, //obsolete, but needed for loading configs older than 10.20\n  ArchiveImageFileRootPart3LinkEId = 498, //obsolete, but needed for loading configs older than 10.20\n  IsClosedEId = 499,\n  TriggerPerObjectIDEId = 500,\n\n  FeatureTypeEId = 501,\n  SortEnumEId = 502,\n  IsExcludeEId = 503,\n  IsInnerExcludeEId = 504,\n  ExcludeLowerBoundEId = 505,\n  ExcludeLowerBoundIndirectEId = 506, //obsolete, but needed for loading configs older than 10.20\n  ExcludeUpperBoundEId = 507,\n  ExcludeUpperBoundIndirectEId = 508, //obsolete, but needed for loading configs older than 10.20\n  ConnectivityBlobEId = 509,\n  IsGrayImageEId = 510,\n  IsRangeEId = 511,\n  IsCustomFeatureEId = 512,\n  NumberOfObjectsEId = 513,\n  ExtentWidthFactorContentLinkEId = 514, //obsolete, but needed for loading configs older than 10.20\n  ExtentHeightFactorContentLinkEId = 515, //obsolete, but needed for loading configs older than 10.20\n  ExtentWidthFactorFormatEId = 516,\n  ExtentWidthFactorFormatLinkEId = 517, //obsolete, but needed for loading configs older than 10.20\n  ExtentHeightFactorFormatEId = 518,\n  ExtentHeightFactorFormatLinkEId = 519, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyCenterXLinkEId = 534, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyCenterYLinkEId = 635, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyWidthLinkEId = 536, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyHeightLinkEId = 537, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertySideThicknessLinkEId = 538, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyTopBottomThicknessLinkEId = 539, //obsolete, but needed for loading configs older than 10.20\n  ShapeMaskPropertyOffsetLinkEId = 540, //obsolete, but needed for loading configs older than 10.20\n  MaskImageEId = 541,\n  ObjectTypeEId = 542,\n  IsColorAdditionalImageEId = 543,\n  BackgroundColor1EId = 544,\n  BackgroundColor2EId = 545,\n  BackgroundColor3EId = 546,\n  DrawTypesEId = 547,\n  BlobTypesEId = 548,\n  Color1EId = 549,\n  Color2EId = 550,\n  Color3EId = 551,\n  DrawAdditionalImageStepNamesEId = 552,\n  UseAdditionalImageEId = 553,\n  LinkedValueContentEId = 554,\n  LinkedValueTypeEId = 555,\n\n  StatNumberOfValidSamplesEId = 560, //Statistics Tool: number of valid values considered in statistic\n\n  ImageToolEnabledGainId = 561,\n  ImageToolGainId = 562,\n  ImageToolOffsetId = 563,\n  ImageToolUseLutId = 566,\n\n  //The following Ids are the first of an array and must have 100 reserved Ids\n  OutputImageEId = 1000, //Output Images, e.g. External needs 4\n  RingBufferIndexEId = 1100, //For ringBuffer index of output images (by now 2 indexes)\n  RingBufferIndexLinkEId = 1150, //obsolete, but needed for loading configs older than 10.20\n  FilterCellEId = 1200, //Cells of the custom and rank filter (49 cells)\n  ExternalInputEId = 1300, //External Dll (50)\n  ExternalInputLinkedEId = 1400, //obsolete, but needed for loading configs older than 10.20\n  ExternalResultEId = 1500, //External Dll (50)\n  DllDependencyFileNameEId = 1600, //External Dll (50)\n  TableColumnValueEId = 1700, //Table Object Column (50)\n  BlobFeatureEId = 1800, //Blob Feature (SvOi::SV_NUMBER_OF_BLOB_FEATURES)\n  InputObjectTypeEId = 1900, //Type for Input Object\n  ResultObjectValueEId = 2000, //Result value object (for e.g. Result in Group Tool)\n  ResultObjectLinkedEId = 2100, //obsolete, but needed for loading configs older than 10.20\n  ResultObjectTypeEId = 2200, //Type for Result Object (for e.g. Result in Group Tool)\n\n  //IDs for Inputs\n  LUTOperatorInputEId = 100000,\n  GrayImageInputEId = 100001,\n  NewColumnInputEId = 100002,\n  ExcludeColumnInputEId = 100003,\n  SortColumnInputEId = 100004,\n  ProfileOrientationInputEId = 100005,\n  UseRoationAngleInputEId = 100006,\n  MarkerImageInputEId = 100007,\n  SeedImageInputEId = 100008,\n  MinThresholdInputEId = 100009,\n  MaxThresholdInputEId = 100010,\n  DeltaThresholdInputEId = 100011,\n  LinearDataInputEId = 100012,\n  ResultInputEId = 100013,\n  UpperThresholdInputEId = 100014,\n  LowerThresholdInputEId = 100015,\n  AutoThresholdInputEId = 100016,\n  TranslationXResultInputEId = 100017,\n  TranslationYResultInputEId = 100018,\n  RotationXResultInputEId = 100019,\n  RotationYResultInputEId = 100020,\n  RotationAngleResultInputEId = 100021,\n  CenterXResultInputEId = 100022,\n  CenterYResultInputEId = 100023,\n  StartRadiusResultInputEId = 100024,\n  EndRadiusResultInputEId = 100025,\n  StartAngleResultInputEId = 100026,\n  EndAngleResultInputEId = 100027,\n  ImageArithmeticAImageInputEId = 100028,\n  ImageArithmeticAEnableOffsetInputEId = 100029,\n  ImageArithmeticAOffsetPointInputEId = 100030,\n  ImageArithmeticBImageInputEId = 100031,\n  ImageArithmeticBEnableOffsetInputEId = 100032,\n  ImageArithmeticBOffsetPointInputEId = 100033,\n  ImageArithmeticOperatorInputEId = 100034,\n  WidthInputEId = 100035,\n  HeightInputEId = 100036,\n  PositionXInputEId = 100037,\n  PositionYInputEId = 100038,\n  RangeValueInputEId = 100039,\n  Band0ImageInputEId = 100040,\n  Band1ImageInputEId = 100041,\n  Band2ImageInputEId = 100042,\n  UserMaskImageInputEId = 100043,\n  ToolSetConditionalInputEId = 100044,\n  SourceTableInputEId = 100045,\n  TranslationXInputEId = 100046,\n  TranslationYInputEId = 100047,\n  AuxImageInputEId = 100048,\n  ToolConditionalInputEId = 100049,\n  OverlayColorInputEId = 100050,\n  BarCodeResultEId = 100051,\n  ImageArithmeticGainEnabledEId = 100052,\n  ImageArithmeticGainEId = 100053,\n  ImageArithmeticOffsetEId = 100054,\n  ImageArithmeticUseLutEId = 100055,\n  MissingImageCountEId = 100056,\n  NotCompleteCountEId = 100057,\n  //The following Ids are the first of an array and must have 100 reserved Ids\n  ImageInputEId = 150000,\n}\n","import { useState } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport EditIcon from '../../../assets/icons/edit.svg';\nimport IconButton from '../../../components/buttons/IconButton';\nimport { CommonEditorProps } from './common';\n\nimport './RawEditor.scss';\n\ninterface RawEditorProps {\n  numeric?: boolean;\n  onBlur?: () => void;\n  exitEditModeOnBlur?: boolean;\n}\n\nexport const RawEditor = ({\n  numeric,\n  value,\n  onChange,\n  onBlur,\n  exitEditModeOnBlur,\n}: CommonEditorProps<string> & RawEditorProps) => {\n  const intl = useIntl();\n\n  const [editMode, setEditMode] = useState(false);\n\n  return (\n    <div className=\"raw-editor\">\n      {editMode ? (\n        <TextField\n          type={numeric ? 'number' : 'text'}\n          fullWidth\n          value={value}\n          onChange={(event) => onChange(event.target.value ?? '')}\n          onBlur={() => {\n            if (exitEditModeOnBlur) {\n              setEditMode(false);\n            }\n            onBlur?.();\n          }}\n          autoFocus\n        />\n      ) : (\n        <div className=\"view-mode\">\n          <span>{value}</span>\n          <IconButton\n            tooltip={intl.messages['inputToolView.edit']}\n            onClick={() => setEditMode(true)}\n            style={{ height: 20, width: 20 }}\n            iconUrl={EditIcon}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useEffect, useRef } from 'react';\nimport { Slider } from '@material-ui/core';\nimport { RawEditor } from './RawEditor';\nimport { CommonEditorProps } from './common';\nimport './AngleEditor.scss';\n\nconst MIN = 0;\nconst MAX = 360;\n\nexport const AngleEditor = ({ value, onChange }: CommonEditorProps<number>) => {\n  const visualizerElement = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!visualizerElement.current) {\n      return;\n    }\n\n    const visualizer = visualizerElement.current;\n\n    const update = (x: number, y: number) => {\n      const bounds = visualizer.getBoundingClientRect();\n      const x2 = ((x - bounds.left) / bounds.width) * 2 - 1;\n      const y2 = -(((y - bounds.top) / bounds.height) * 2 - 1);\n      const angleRad = Math.atan2(y2, x2);\n      if (isNaN(angleRad)) {\n        return;\n      }\n      let angleDeg = (angleRad * 180) / Math.PI;\n      while (angleDeg < 0) {\n        angleDeg += 360;\n      }\n      onChange(Math.round(angleDeg));\n    };\n\n    const onMouseEvent = (event: MouseEvent) => {\n      if (event.buttons === 1) {\n        update(event.clientX, event.clientY);\n      }\n    };\n\n    visualizer.addEventListener('mousemove', onMouseEvent);\n    visualizer.addEventListener('mousedown', onMouseEvent);\n\n    return () => {\n      visualizer.removeEventListener('mousemove', onMouseEvent);\n      visualizer.removeEventListener('mousedown', onMouseEvent);\n    };\n  }, [onChange]);\n\n  return (\n    <div className=\"angle-editor\">\n      <RawEditor\n        numeric\n        value={value.toString()}\n        onChange={(stringValue) => {\n          const numValue = parseFloat(stringValue);\n          if (!isNaN(numValue)) {\n            onChange(Math.max(MIN, Math.min(MAX, numValue)));\n          }\n        }}\n        exitEditModeOnBlur\n      />\n      <div className=\"slider-widget-container\">\n        <Slider\n          color=\"primary\"\n          value={value || 0}\n          onChange={(_, value) => onChange((Array.isArray(value) ? value[0] : value) || 0)}\n          valueLabelDisplay=\"auto\"\n          min={MIN}\n          max={MAX}\n          step={1}\n        />\n      </div>\n      <div className=\"angle-visualizer\" ref={visualizerElement}>\n        <div className=\"inner\">\n          <span\n            style={{\n              transform: `rotate(0deg) skew(${\n                -90 + Math.max(0, Math.min(MAX / 4, value))\n              }deg) scaleY(-1)`,\n            }}\n          />\n          <span\n            style={{\n              transform: `rotate(-90deg) skew(${\n                -90 + Math.max(0, Math.min(MAX / 4, value - MAX / 4))\n              }deg) scaleY(-1)`,\n            }}\n          />\n          <span\n            style={{\n              transform: `rotate(-180deg) skew(${\n                -90 + Math.max(0, Math.min(MAX / 4, value - MAX / 2))\n              }deg) scaleY(-1)`,\n            }}\n          />\n          <span\n            style={{\n              transform: `rotate(-270deg) skew(${\n                -90 + Math.max(0, Math.min(MAX / 4, value - (MAX * 3) / 4))\n              }deg) scaleY(-1)`,\n            }}\n          />\n        </div>\n        <div className=\"x-axis\" />\n        <div className=\"angle-axis\" style={{ transform: `rotate(${MAX - value}deg)` }} />\n      </div>\n    </div>\n  );\n};\n","import { makeStyles } from '@material-ui/core';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup';\nimport { CommonEditorProps } from './common';\nimport './BooleanEditor.scss';\n\nconst useStyles = makeStyles({\n  disabled: {\n    color: 'darkblue !important',\n    fontWeight: 'bold',\n  },\n});\n\nexport const BooleanEditor = ({ value, onChange }: CommonEditorProps<boolean>) => {\n  const classes = useStyles();\n\n  return (\n    <div className=\"boolean-editor\">\n      <ToggleButtonGroup\n        color=\"primary\"\n        value={!!value}\n        exclusive\n        onChange={(_, value) => onChange(!!value)}\n      >\n        <ToggleButton disabled={value} value={true} classes={classes}>\n          TRUE\n        </ToggleButton>\n        <ToggleButton disabled={!value} value={false} classes={classes}>\n          FALSE\n        </ToggleButton>\n      </ToggleButtonGroup>\n    </div>\n  );\n};\n","import { useMemo } from 'react';\nimport { Input, Slider } from '@material-ui/core';\nimport clsx from 'clsx';\nimport { CommonEditorProps } from './common';\nimport './ColorEditor.scss';\n\ninterface RGBA {\n  r: number;\n  g: number;\n  b: number;\n  a: number;\n}\n\nfunction int2rgba(value: number): RGBA {\n  return {\n    r: (value >> 24) & 0xff,\n    g: (value >> 16) & 0xff,\n    b: (value >> 8) & 0xff,\n    a: value & 0xff,\n  };\n}\n\nfunction rgba2int(color: RGBA): number {\n  return (\n    ((color.r & 0xff) << 24) | ((color.g & 0xff) << 16) | ((color.b & 0xff) << 8) | (color.a & 0xff)\n  );\n}\n\nfunction rgbToHex(color: RGBA) {\n  return (\n    '#' +\n    `0${color.r.toString(16)}`.slice(-2) +\n    `0${color.g.toString(16)}`.slice(-2) +\n    `0${color.b.toString(16)}`.slice(-2)\n  );\n}\n\nfunction hexToRgb(hex: string) {\n  return {\n    r: parseInt(hex[1] + hex[2], 16),\n    g: parseInt(hex[3] + hex[4], 16),\n    b: parseInt(hex[5] + hex[6], 16),\n  };\n}\n\ninterface ChannelValueProps {\n  label: string;\n  value: number;\n  onChange: (value: number) => void;\n}\n\nconst ChannelValue = ({ label, value, onChange }: ChannelValueProps) => {\n  return (\n    <div className=\"channel-value\">\n      <label>{label}:</label>\n      <div className=\"input-container\">\n        <Input\n          type=\"number\"\n          value={value}\n          onChange={(event) => {\n            const parsedValue = parseInt(event.target.value);\n            if (!isNaN(parsedValue)) {\n              onChange(parsedValue);\n            }\n          }}\n        />\n      </div>\n      <div className=\"slider-widget-container\">\n        <Slider\n          color=\"primary\"\n          value={value || 0}\n          onChange={(_, value) => onChange((Array.isArray(value) ? value[0] : value) || 0)}\n          valueLabelDisplay=\"auto\"\n          min={0}\n          max={255}\n          step={1}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport const ColorEditor = ({ value, onChange }: CommonEditorProps<number>) => {\n  const rgba = useMemo(() => int2rgba(value), [value]);\n\n  const handleUpdate = (color: RGBA) => {\n    onChange(rgba2int(color));\n  };\n\n  return (\n    <div className={clsx('color-editor')}>\n      <div>\n        <ChannelValue\n          label=\"Red\"\n          value={rgba.r}\n          onChange={(value) => handleUpdate({ ...rgba, r: value })}\n        />\n        <ChannelValue\n          label=\"Green\"\n          value={rgba.g}\n          onChange={(value) => handleUpdate({ ...rgba, g: value })}\n        />\n        <ChannelValue\n          label=\"Blue\"\n          value={rgba.b}\n          onChange={(value) => handleUpdate({ ...rgba, b: value })}\n        />\n        <ChannelValue\n          label=\"Alpha\"\n          value={rgba.a}\n          onChange={(value) => handleUpdate({ ...rgba, a: value })}\n        />\n      </div>\n      <Input\n        className=\"color-picker\"\n        type=\"color\"\n        onChange={(event) => handleUpdate({ ...rgba, ...hexToRgb(event.target.value) })}\n        value={rgbToHex(rgba)}\n      />\n    </div>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/chevron-double-left.d02c0bfd.svg\";","export default __webpack_public_path__ + \"static/media/chevron-left.d49f6e12.svg\";","import { useEffect, useMemo, useState } from 'react';\nimport { Button, Slider } from '@material-ui/core';\nimport clsx from 'clsx';\nimport ChevronDoubleLeftIcon from '../../../assets/icons/chevron-double-left.svg';\nimport ChevronLeftIcon from '../../../assets/icons/chevron-left.svg';\nimport IconButton from '../../../components/buttons/IconButton';\nimport { RawEditor } from './RawEditor';\nimport { CommonEditorProps } from './common';\n\nimport './NumberEditor.scss';\n\nconst toggleNegative = (value: string) =>\n  value.startsWith('-') ? value.substring(1) : `-${value}`;\n\ninterface NumberEditorProps {\n  onlyIntegers?: boolean;\n  min?: number;\n  max?: number;\n  smallStep?: number;\n  largeStep?: number;\n  hideRawEditor?: boolean;\n}\n\nexport const NumberEditor = ({\n  value,\n  onChange,\n  onlyIntegers,\n  min,\n  max,\n  smallStep = 1,\n  largeStep = 10,\n  hideRawEditor,\n}: CommonEditorProps<number> & NumberEditorProps) => {\n  const [rawValue, setRawValue] = useState('');\n  const [invalidInternalValue, setInvalidInternalValue] = useState(false);\n\n  useEffect(() => {\n    setRawValue(value?.toString() ?? '');\n  }, [value]);\n\n  const clamp = (value: number) => {\n    if (typeof min === 'number' && value < min) return min;\n    if (typeof max === 'number' && value > max) return max;\n    return value;\n  };\n\n  const parseRawValue = (raw: string, fix = false) => {\n    setRawValue(raw);\n\n    const numberValue = onlyIntegers ? parseInt(raw) : parseFloat(raw);\n    if (\n      !isNaN(numberValue) &&\n      (typeof min !== 'number' || numberValue >= min) &&\n      (typeof max !== 'number' || numberValue <= max)\n    ) {\n      setInvalidInternalValue(false);\n      onChange(numberValue);\n    } else if (fix) {\n      setInvalidInternalValue(false);\n      const newValue = clamp(numberValue || 0);\n      onChange(newValue);\n      setRawValue(newValue.toString());\n    } else {\n      setInvalidInternalValue(true);\n    }\n  };\n\n  const keys = useMemo(\n    () => [...new Array(10).fill(0).map((_, i) => i.toString()), ...(onlyIntegers ? [] : ['.'])],\n    [onlyIntegers],\n  );\n\n  return (\n    <div className={clsx('number-editor', invalidInternalValue && 'invalid')}>\n      {!hideRawEditor && (\n        <RawEditor\n          numeric\n          value={rawValue}\n          onChange={parseRawValue}\n          onBlur={() => {\n            setRawValue(value.toString());\n            setInvalidInternalValue(false);\n          }}\n          exitEditModeOnBlur\n        />\n      )}\n      <div className=\"slider\">\n        <div style={{ display: 'flex', columnGap: 8 }}>\n          <IconButton\n            style={{ height: 24, width: 24 }}\n            iconUrl={ChevronDoubleLeftIcon}\n            onClick={() => onChange(clamp(value - largeStep))}\n          />\n          <IconButton\n            style={{ height: 24, width: 24 }}\n            iconUrl={ChevronLeftIcon}\n            onClick={() => onChange(clamp(value - smallStep))}\n          />\n        </div>\n        {typeof min === 'number' && typeof max === 'number' && (\n          <div className=\"slider-widget-container\">\n            <Slider\n              color=\"primary\"\n              value={value || 0}\n              onChange={(_, value) => onChange((Array.isArray(value) ? value[0] : value) || 0)}\n              valueLabelDisplay=\"auto\"\n              min={min}\n              max={max}\n              step={1}\n            />\n          </div>\n        )}\n        <div style={{ display: 'flex', columnGap: 8 }}>\n          <IconButton\n            style={{ height: 24, width: 24, transform: 'scaleX(-1)' }}\n            iconUrl={ChevronLeftIcon}\n            onClick={() => onChange(clamp(value + smallStep))}\n          />\n          <IconButton\n            style={{ height: 24, width: 24, transform: 'scaleX(-1)' }}\n            iconUrl={ChevronDoubleLeftIcon}\n            onClick={() => onChange(clamp(value + largeStep))}\n          />\n        </div>\n      </div>\n      <div className=\"keys\">\n        {(typeof min !== 'number' || min < 0) && (\n          <Button\n            variant=\"contained\"\n            disabled={\n              (typeof min === 'number' && parseFloat(toggleNegative(rawValue)) < min) ||\n              (typeof max === 'number' && parseFloat(toggleNegative(rawValue)) > max)\n            }\n            onClick={() => parseRawValue(toggleNegative(rawValue), true)}\n          >\n            -\n          </Button>\n        )}\n        {keys.map((key) => (\n          <Button\n            key={key}\n            variant=\"contained\"\n            disabled={\n              (key === '.' && rawValue.includes('.')) ||\n              (typeof max === 'number' &&\n                '1234567890'.includes(key) &&\n                parseFloat(rawValue + key) > max) ||\n              (typeof min === 'number' &&\n                '1234567890'.includes(key) &&\n                parseFloat(rawValue + key) < min)\n            }\n            onClick={() => {\n              if (key === '.' && rawValue.includes('.')) {\n                return;\n              }\n              parseRawValue(rawValue + key, true);\n            }}\n          >\n            {key}\n          </Button>\n        ))}\n        <Button\n          variant=\"contained\"\n          onClick={() =>\n            parseRawValue(rawValue.substring(0, Math.max(0, rawValue.length - 1)), true)\n          }\n        >\n          DEL\n        </Button>\n      </div>\n    </div>\n  );\n};\n","import { Key, useState } from 'react';\nimport { ToggleButtonGroup, ToggleButton } from '@material-ui/lab';\nimport './Tabs.scss';\n\ninterface TabsProps {\n  options: { value: Key; label: React.ReactNode; component: React.ReactNode }[];\n}\n\nexport const Tabs = ({ options }: TabsProps) => {\n  const [activeTab, setActiveTab] = useState(options[0]?.value);\n\n  return (\n    <div className=\"tabs\">\n      <nav>\n        <ToggleButtonGroup\n          color=\"primary\"\n          value={activeTab}\n          exclusive\n          onChange={(_, value) => value && setActiveTab(value)}\n        >\n          {options.map(({ value, label }) => (\n            <ToggleButton key={value} value={value} size=\"small\">\n              {label}\n            </ToggleButton>\n          ))}\n        </ToggleButtonGroup>\n      </nav>\n      <div>{options.find((option) => option.value === activeTab)?.component}</div>\n    </div>\n  );\n};\n","import { memo, useEffect, useMemo, useState } from 'react';\nimport { Button, CircularProgress } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport { ReactComponent as ArrowIcon } from '../../../assets/icons/back.svg';\nimport iconList from '../../../assets/icons/overlay-list.svg';\nimport ActionBar from '../../../components/ActionBar';\nimport { TreeNodeSchema } from '../../../components/ObjectSelector';\nimport Configuration from '../../../protobuf/Configuration';\nimport Product from '../../../protobuf/Product';\nimport Protobuf from '../../../protobuf/Protobuf';\nimport Proxy from '../../../protobuf/Proxy';\nimport { TOGGLE_BUTTON } from '../../../types/ActionBarType';\nimport { VARENUM } from '../../ToolsetView/common';\nimport { AngleEditor } from './AngleEditor';\nimport { BooleanEditor } from './BooleanEditor';\nimport { ColorEditor } from './ColorEditor';\nimport { NumberEditor } from './NumberEditor';\nimport { RawEditor } from './RawEditor';\nimport { Tabs } from './Tabs';\nimport { CommonEditorProps } from './common';\n\ninterface ValueEditorProps {\n  inspectionId: string;\n  data: TreeNodeSchema;\n  onExit?: () => void;\n}\n\nconst Editor = memo(({ type, value, onChange }: CommonEditorProps & { type: string }) => {\n  const intl = useIntl();\n\n  //BOOL ✓\n  //INTEGER32 ✓\n  //EXTENT WIDTH ✓\n  //EXTENT HEIGHT ✓\n  //EXTENT ANGLE ✓\n  //EXTENT X ✓\n  //EXTENT Y ✓\n  //DECIMAL ✓\n  //ENUMERATION\n  //VARIANT\n  //Integer32Hex\n  switch (type.toUpperCase()) {\n    default:\n      return <RawEditor value={value} onChange={onChange} />;\n    case 'EXTENT WIDTH':\n    case 'EXTENT HEIGHT':\n      return <NumberEditor value={parseFloat(value)} onChange={onChange} min={0} max={512} />; //TODO: consider removing max value\n    case 'EXTENT X':\n    case 'EXTENT Y':\n    case 'DECIMAL':\n      return <NumberEditor value={parseFloat(value)} onChange={onChange} />;\n    case 'EXTENT ANGLE':\n      return <AngleEditor value={parseFloat(value) || 0} onChange={onChange} />;\n    case 'INTEGER32':\n      return (\n        <Tabs\n          options={[\n            {\n              value: 'number',\n              label: intl.messages['inputToolView.numberEditor'],\n              component: <NumberEditor value={parseInt(value)} onChange={onChange} onlyIntegers />,\n            },\n            {\n              value: 'color',\n              label: intl.messages['inputToolView.colorEditor'],\n              component: <ColorEditor value={parseInt(value)} onChange={onChange} />,\n            },\n          ]}\n        />\n      );\n    case 'BOOL':\n      return (\n        <BooleanEditor\n          value={typeof value === 'string' ? value === 'true' : value}\n          onChange={onChange}\n        />\n      );\n  }\n});\n\nexport const ValueEditor = memo(({ inspectionId, data, onExit }: ValueEditorProps) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n  const configuration = useSelector<any>((state) => state?.app?.configuration) as Configuration;\n\n  const intl = useIntl();\n\n  const [product, setProduct] = useState<Product | null>(null);\n  const [internalValue, setInternalValue] = useState<any>(null);\n  const [errors, setErrors] = useState<string[]>([]);\n  const [showSuccessMessage, setShowSuccessMessage] = useState(false);\n  const [updateCount, setUpdateCount] = useState(0);\n  const [waitingForEditResult, setWaitingForEditResult] = useState(false);\n\n  const value = useMemo(\n    () =>\n      product?.getValuesAsString([data.id])?.find((entry: any) => entry.id === data.id)?.value ??\n      null,\n    [data.id, product],\n  );\n\n  const name = useMemo(\n    () => configuration.getValueNameForId(inspectionId, data.id),\n    [configuration, data.id, inspectionId],\n  );\n\n  useEffect(() => {\n    const onProduct = ({ product }: { product: Product }) => {\n      setProduct(product);\n      return Promise.resolve();\n    };\n\n    const startAtTriggerCount = -1;\n    const desc = {\n      inspectionId,\n      valueIds: [data.id],\n      startAtTriggerCount,\n    };\n    const productSub = proxy.subscribeToProductStream(desc, onProduct);\n\n    return () => {\n      if (productSub) {\n        proxy.unsubscribeFromProductStream(productSub);\n      }\n    };\n  }, [data.id, inspectionId, proxy, updateCount]);\n\n  const editValue = () => {\n    setWaitingForEditResult(true);\n    const request = Protobuf.SvPb.SetItemsRequest.create({\n      valueList: [\n        {\n          item: {\n            type: VARENUM.VT_BSTR,\n            strVal: String(internalValue),\n          },\n          name: name ?? data.name,\n        },\n      ],\n    });\n    proxy.protobuf\n      .request(request)\n      .then((res: any) => {\n        const errors = res.errorList.map((e: any) => e.$type?.comment);\n        setErrors(errors);\n\n        if (!errors.length) {\n          setShowSuccessMessage(true);\n          setInternalValue((value: typeof internalValue) => String(value));\n          setUpdateCount((count) => count + 1);\n        }\n      })\n      .finally(() => setWaitingForEditResult(false));\n  };\n\n  const handleValueChange = (value: any) => {\n    setErrors([]);\n    setShowSuccessMessage(false);\n    setInternalValue(value);\n  };\n\n  return (\n    <div>\n      <div className=\"value-editor\">\n        <header>\n          <span>\n            {intl.messages['inputToolView.type']}:&nbsp;{data.type}\n          </span>\n          <span>{name ?? data.name}</span>\n        </header>\n        {product ? (\n          <div className=\"editor-container\">\n            <Editor\n              type={data.type ?? 'unknown'}\n              value={internalValue ?? value}\n              onChange={handleValueChange}\n            />\n          </div>\n        ) : (\n          <div style={{ textAlign: 'center', padding: '24px 0' }}>\n            <CircularProgress />\n          </div>\n        )}\n        <div className=\"options\">\n          <Button variant=\"contained\" color=\"primary\" onClick={onExit}>\n            <ArrowIcon fill=\"#fff\" className=\"image-item\" />\n            {intl.messages['inputToolView.backToList']}\n          </Button>\n          <Button\n            disabled={!product || internalValue === null || value === internalValue}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={editValue}\n          >\n            {intl.messages['inputToolView.setValue']}\n          </Button>\n        </div>\n        {errors.length > 0 && (\n          <div className=\"errors\">\n            {errors.map((error, index) => (\n              <div key={index}>{error}</div>\n            ))}\n          </div>\n        )}\n        {waitingForEditResult && <CircularProgress />}\n        {showSuccessMessage && (\n          <div className=\"success\">\n            <div>{intl.messages['inputToolView.valueSetSuccess']}</div>\n          </div>\n        )}\n      </div>\n      <ActionBar\n        isViewAction\n        actions={[\n          {\n            id: 0,\n            intlId: 'inputToolView.showList',\n            onClickHandler: onExit ?? (() => void 0),\n            iconUrl: iconList,\n            type: TOGGLE_BUTTON,\n          },\n        ]}\n      />\n    </div>\n  );\n});\n","import { Key, memo, useState } from 'react';\nimport { TreeNodeSchema } from '../../components/ObjectSelector';\nimport { ToolListSelector } from './components/ToolListSelector';\nimport { ValueEditor } from './components/ValueEditor';\n\nimport './style.scss';\n\ninterface InputToolViewProps {\n  inspectionId: string;\n}\n\nconst InputToolView = memo(({ inspectionId }: InputToolViewProps) => {\n  const [selectedNode, setSelectedNode] = useState<TreeNodeSchema | null>(null);\n  const [expandedKeys, setExpandedKeys] = useState<Key[]>(['Tool Set']);\n\n  return (\n    <div className=\"input-tool\">\n      {selectedNode ? (\n        <ValueEditor\n          inspectionId={inspectionId}\n          data={selectedNode}\n          onExit={() => setSelectedNode(null)}\n        />\n      ) : (\n        <ToolListSelector\n          {...{ expandedKeys, setExpandedKeys, inspectionId }}\n          onSelect={setSelectedNode}\n        />\n      )}\n    </div>\n  );\n});\n\nexport default InputToolView;\n","export default __webpack_public_path__ + \"static/media/show-off.8787321d.svg\";","export default __webpack_public_path__ + \"static/media/drag.a4b2fa8c.svg\";","import React from 'react';\nimport Table, { callOrReturn } from 'react-base-table';\nimport { sortableContainer, sortableElement, sortableHandle } from 'react-sortable-hoc';\n\nimport DragIcon from '../../assets/icons/drag.svg';\n\nimport './style.css';\n\nconst DraggableContainer = sortableContainer(({ children }) => children);\nconst DraggableElement = sortableElement(({ children }) => children);\nconst DraggableHandle = sortableHandle(({ children }) => children);\n\nconst Row = ({ key, index, children, draggable, ...rest }) => {\n  if (!draggable) {\n    return <div {...rest}>{children}</div>;\n  }\n\n  return (\n    <DraggableElement key={key} index={index}>\n      <div {...rest}>\n        <DraggableHandle>\n          <div className=\"draggable-table-handle\">\n            <img src={DragIcon} alt=\"Drag\" />\n          </div>\n        </DraggableHandle>\n        {children}\n      </div>\n    </DraggableElement>\n  );\n};\n\nclass DraggableTable extends React.PureComponent {\n  state = {\n    data: this.props.data,\n  };\n\n  table = React.createRef();\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.data !== this.props.data) {\n      const data = [...this.props.data];\n      this.setState({ data });\n    }\n  }\n\n  getContainer = () => {\n    return this.table.current.getDOMNode().querySelector('.BaseTable__body');\n  };\n\n  getHelperContainer = () => {\n    return this.table.current.getDOMNode().querySelector('.BaseTable__table');\n  };\n\n  rowProps = (args) => {\n    const extraProps = callOrReturn(this.props.rowProps);\n    return {\n      ...extraProps,\n      draggable: this.props.draggable,\n      tagName: Row,\n      index: args.rowIndex,\n    };\n  };\n\n  handleSortEnd = ({ oldIndex, newIndex }) => {\n    this.props.onSequenceChange(oldIndex, newIndex);\n    const data = [...this.state.data];\n    const [removed] = data.splice(oldIndex, 1);\n    data.splice(newIndex, 0, removed);\n    this.setState({ data });\n  };\n\n  render() {\n    if (!this.props.draggable) {\n      return (\n        <Table {...this.props} ref={this.table} data={this.state.data} rowProps={this.rowProps} />\n      );\n    }\n\n    return (\n      <DraggableContainer\n        useDragHandle\n        getContainer={this.getContainer}\n        helperContainer={this.getHelperContainer}\n        onSortEnd={this.handleSortEnd}\n      >\n        <Table\n          {...this.props}\n          ref={this.table}\n          data={this.state.data}\n          rowProps={this.rowProps}\n          className=\"draggable\"\n        />\n      </DraggableContainer>\n    );\n  }\n}\n\nDraggableTable.defaultProps = {\n  draggable: true,\n};\n\nexport default DraggableTable;\n","import React, { useState, useRef } from 'react';\nimport { TextField, Button } from '@material-ui/core';\nimport { injectIntl, FormattedMessage } from 'react-intl';\n\nimport Dialog from '../../../../components/Dialog';\nimport { languages } from '../../../../translations';\nimport './styles.scss';\n\nconst AliasEditor = ({ open, onClose, selectedAlias, intl }) => {\n  if (!selectedAlias.alias) {\n    selectedAlias.alias = {};\n  }\n\n  const oldState = useRef({ ...selectedAlias.alias });\n  const [alias, setAlias] = useState(selectedAlias || {});\n\n  if (alias.id !== selectedAlias.id) {\n    setAlias(selectedAlias);\n  }\n\n  const renderLanguageAliases = () => {\n    const result = [];\n    (languages || []).forEach((language) => {\n      result.push(\n        <div className=\"row\" key={`rowDiv${language.locale}${selectedAlias.id}`}>\n          <div className=\"label\">Alias {language.name}:</div>\n          <div className=\"textfield\">\n            <TextField\n              id={`aliasLabel${language.locale}`}\n              fullWidth\n              defaultValue={selectedAlias.alias && selectedAlias.alias[language.locale]}\n              onChange={(e) => {\n                alias.alias[language.locale] = e.target.value;\n              }}\n            />\n          </div>\n        </div>,\n      );\n    });\n    return result;\n  };\n\n  return (\n    <Dialog\n      isInView\n      isPopup\n      title={intl.messages['listView.AliasEditor.title']}\n      onClose={() => {\n        alias.alias = oldState.current;\n        onClose(alias);\n      }}\n      open={open}\n    >\n      <div className=\"alias-editor-wrapper\">\n        <div className=\"row\">\n          <div className=\"label\">\n            <FormattedMessage id=\"listView.AliasEditor.dottedName\" />:\n          </div>\n          <div className=\"textfield\">\n            <TextField id=\"dottedNameLabel\" fullWidth value={selectedAlias.name} disabled />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"label\">\n            <FormattedMessage id=\"listView.AliasEditor.value\" />:\n          </div>\n          <div className=\"textfield\">\n            <TextField id=\"valueLabel\" fullWidth disabled value={selectedAlias.value} />\n          </div>\n        </div>\n        {renderLanguageAliases()}\n        <div className=\"buttons\">\n          <Button variant=\"contained\" color=\"primary\" onClick={() => onClose(alias, true)}>\n            <FormattedMessage id=\"listView.AliasEditor.button\" />\n          </Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default injectIntl(AliasEditor);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { AutoResizer } from 'react-base-table';\nimport { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport 'react-base-table/styles.css';\n\nimport EditIcon from '../../assets/icons/edit.svg';\nimport iconList from '../../assets/icons/overlay-list.svg';\nimport iconShowOff from '../../assets/icons/show-off.svg';\nimport iconShow from '../../assets/icons/show.svg';\nimport ActionBar from '../../components/ActionBar';\nimport DraggableTable from '../../components/DraggableTable';\nimport ObjectSelector from '../../components/ObjectSelector';\nimport ProxyType from '../../components/Protobuf/ProxyType';\nimport IconButton from '../../components/buttons/IconButton';\nimport {\n  initViewState,\n  setViewData,\n  setSharedStateData,\n  setSaveFlag,\n  updateListViewShowAliases,\n} from '../../redux/actions/index';\nimport ActionBarType, { TOGGLE_BUTTON } from '../../types/ActionBarType';\nimport logger from '../../utils/logger';\nimport { canReadListView, canEditListView } from '../../utils/permissions';\n\nimport AliasEditor from './components/List/AliasEditor';\n\nimport './style.scss';\n\nclass ListView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listValues: [],\n      expandedKeys: [],\n      isAliasEditorOpen: false,\n      selectedAlias: {},\n      showAliases: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.unsubscribeFromProductStream();\n    if (!this.props.isSelectionMode && this.props.selection.length > 0) {\n      this.subscribeToProductStream();\n    }\n\n    if (this.props.showAliasesInList) {\n      this.setState({ showAliases: true });\n    }\n\n    const { configuration, proxy } = this.props;\n    if (configuration?.objectSelectorItems?.size === 0) {\n      await configuration.setObjectSelectorItems(proxy.protobuf);\n    }\n    if (configuration?.idNameMappings?.size === 0) {\n      await configuration.setIdNameMappings(proxy.protobuf);\n    }\n    proxy.dispatchCurrentConfiguration(configuration);\n  }\n\n  componentDidUpdate(nextProps) {\n    this.unsubscribeFromProductStream();\n    if (!nextProps.isSelectionMode && nextProps.selection.length > 0) {\n      this.subscribeToProductStream();\n    }\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromProductStream();\n  }\n\n  subscribeToProductStream() {\n    if (!this.productSub) {\n      const { inspectionId, selection } = this.props;\n      const startAtTriggerCount = -1; // list view can only show one item at a time\n      const desc = { inspectionId, valueIds: selection, startAtTriggerCount };\n      this.productSub = this.props.proxy.subscribeToProductStream(desc, this.onProduct.bind(this));\n    }\n  }\n\n  unsubscribeFromProductStream() {\n    if (this.productSub) {\n      this.props.proxy.unsubscribeFromProductStream(this.productSub);\n      this.productSub = null;\n    }\n  }\n\n  onProduct({ product }) {\n    const listValues = this.createListValues(product);\n    this.setState({ listValues });\n    return Promise.resolve();\n  }\n\n  createListValues(product) {\n    const { configuration, inspectionId, selection } = this.props;\n    const values = product.getValuesAsString(selection);\n    return values.map((entry) => ({\n      ...entry,\n      name: configuration.getValueNameForId(inspectionId, entry.id) || '',\n    }));\n  }\n\n  setAliasColumnVisibility = (visibility) => {\n    this.props.updateListViewShowAliases(visibility);\n    this.props.setSaveFlag(true);\n    this.setState({ showAliases: visibility });\n  };\n\n  saveNewOrder = (before, after) => {\n    const { selection } = this.props;\n    const [removed] = selection.splice(before, 1);\n    selection.splice(after, 0, removed);\n    this.props.setViewData('selection', selection);\n    this.props.setSaveFlag(true);\n  };\n\n  renderValueSelector = () => {\n    const { configuration, inspectionId, selection } = this.props;\n\n    if (!configuration || !inspectionId) {\n      return;\n    }\n\n    const items = configuration.getObjectSelectorItemsForInspection(inspectionId);\n    if (!items) {\n      return <div style={{ width: '100%', overflow: 'auto', height: '100%' }}></div>;\n    }\n\n    let tree = items.tree;\n    tree = configuration.filterArrayValuesFromTree(tree);\n\n    const filterIgnore = [];\n    const name = configuration.getInspectionName(inspectionId);\n\n    filterIgnore.push(`Inspections.${name}`);\n    filterIgnore.push(`Inspections${name}`);\n    filterIgnore.push(name);\n\n    return (\n      <div style={{ width: '100%', overflow: 'auto', height: '100%' }}>\n        <ObjectSelector\n          data={tree}\n          onChange={(selectedIds) => {\n            this.props.setViewData('selection', selectedIds);\n            this.props.setSaveFlag(true);\n          }}\n          onExpand={(expandedKeys) => this.setState({ expandedKeys })}\n          selection={selection}\n          expandedKeys={this.state.expandedKeys}\n          filterIgnore={filterIgnore}\n        />\n      </div>\n    );\n  };\n\n  renderList = () => {\n    const { intl, locale, myPermissions } = this.props;\n    const { showAliases } = this.state;\n    const data = this.getListData();\n    const columns = [\n      {\n        key: showAliases ? 'Alias/Name' : 'Name',\n        dataKey: 'name',\n        title: showAliases ? 'Alias/Name' : 'Name',\n        width: 0,\n        flexGrow: 2,\n      },\n      {\n        key: 'Values',\n        dataKey: 'value',\n        title: 'Values',\n        width: 0,\n        flexGrow: 1,\n      },\n    ];\n\n    if (canEditListView(myPermissions)) {\n      columns.push({\n        key: '',\n        dataKey: 'editAlias',\n        title: '',\n        width: 50,\n      });\n    }\n\n    const tableData = data.map((row) => {\n      row.name = showAliases ? (row.alias && row.alias[locale]) || row.name : row.name;\n      return {\n        ...row,\n        editAlias: (\n          <IconButton\n            tooltip={intl.messages['listView.AliasEditor.title']}\n            onClick={() => this.setState({ selectedAlias: row, isAliasEditorOpen: true })}\n            iconUrl={EditIcon}\n            key=\"editAlias\"\n          />\n        ),\n      };\n    });\n\n    return (\n      <div style={{ height: '100%' }}>\n        <AutoResizer>\n          {({ width, height }) => (\n            <DraggableTable\n              columns={columns}\n              data={tableData}\n              width={width}\n              height={height}\n              headerHeight={30}\n              rowHeight={30}\n              onSequenceChange={(before, after) => this.saveNewOrder(before, after)}\n            />\n          )}\n        </AutoResizer>\n        {this.renderAliasEditor()}\n      </div>\n    );\n  };\n\n  renderAliasEditor = () => {\n    const { selectedAlias, listValues, isAliasEditorOpen } = this.state;\n    const currentValueObject = (listValues || []).find((value) => value.id === selectedAlias.id);\n\n    if (!currentValueObject || !isAliasEditorOpen) {\n      return;\n    }\n\n    return (\n      <AliasEditor\n        onClose={(alias, isSaved = false) => this.closeAliasEditor(alias, isSaved)}\n        open={this.state.isAliasEditorOpen}\n        selectedAlias={currentValueObject}\n      />\n    );\n  };\n\n  getListData = () => {\n    const { aliases } = this.props;\n    const data = this.state.listValues;\n\n    if (aliases) {\n      (data || []).map((entry) => {\n        if (aliases.has(entry.id)) {\n          const alias = aliases.get(entry.id);\n          if (!alias) {\n            logger.error(`Could not load alias for objectId ${entry.id}`);\n            return entry;\n          }\n\n          if (!alias.alias) {\n            logger.info(`There is no alias value stored for ${alias.dottedName}.`);\n            return entry;\n          }\n\n          entry.alias = alias.alias;\n        }\n        return entry;\n      });\n    }\n    return data;\n  };\n\n  closeAliasEditor = (alias, isSaved) => {\n    if (alias) {\n      const { aliases } = this.props;\n\n      Object.keys(alias.alias).forEach((language) => {\n        if (alias.alias[language] === '') {\n          delete alias.alias[language];\n        }\n      });\n\n      const isEmpty = Object.keys(alias.alias).length === 0;\n      if (aliases.has(alias.id)) {\n        const newAlias = aliases.get(alias.id);\n        newAlias.alias = alias.alias;\n\n        if (isEmpty) {\n          aliases.delete(alias.id);\n        } else {\n          aliases.set(alias.id, newAlias);\n        }\n      } else {\n        if (!isEmpty) {\n          aliases.set(alias.id, { objectId: alias.id, dottedName: alias.name, alias: alias.alias });\n        }\n      }\n    }\n\n    this.setState({ isAliasEditorOpen: false });\n    if (isSaved) {\n      this.props.setSaveFlag(true);\n    }\n  };\n\n  render() {\n    const { viewActions, isSelectionMode, myPermissions } = this.props;\n    const canEdit = canEditListView(myPermissions);\n\n    if (canReadListView(myPermissions) || canEdit) {\n      return (\n        <div className=\"list-view-wrapper\">\n          {isSelectionMode && canEdit ? this.renderValueSelector() : this.renderList()}\n          <ActionBar isViewAction actions={viewActions(this)} />\n        </div>\n      );\n    }\n\n    return <div></div>;\n  }\n}\n\nListView.defaultProps = {\n  viewActions: (listView) => {\n    const actions = [\n      {\n        intlId: 'listView.save',\n        iconUrl: iconList,\n        onClickHandler: () => {\n          listView.props.setViewData('isSelectionMode', !listView.props.isSelectionMode);\n          listView.props.setSaveFlag(true);\n        },\n        enabled: canEditListView(listView.props.myPermissions),\n      },\n      {\n        type: TOGGLE_BUTTON,\n        id: listView.props.inspectionId,\n        intlId: 'listView.Actionbar.showAliases',\n        iconUrl: iconShow,\n        onClickHandler: () => {\n          listView.setAliasColumnVisibility(true);\n        },\n        intlIdAlternative: 'listView.Actionbar.hideAliases',\n        iconUrlAlternative: iconShowOff,\n        onClickHandlerAlternative: () => {\n          listView.setAliasColumnVisibility(false);\n        },\n        showAlternative: listView.props.showAliasesInList,\n      },\n    ];\n\n    return actions;\n  },\n  currentMode: undefined,\n  proxy: undefined,\n  isSelectionMode: true,\n  inspections: {},\n  selection: [],\n};\n\nListView.propTypes = {\n  viewActions: ActionBarType.isRequired,\n  currentMode: PropTypes.string,\n  proxy: ProxyType,\n  inspections: PropTypes.object,\n  selection: PropTypes.array,\n  isSelectionMode: PropTypes.bool,\n};\n\nconst initState = {\n  selection: [],\n  isSelectionMode: true,\n};\n\nconst initSharedState = {};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  dispatch(initViewState(inspectionId, viewId, initState, initSharedState));\n  return {\n    setViewData: (key, data) => dispatch(setViewData(inspectionId, viewId, key, data)),\n    setSharedStateData: (key, data) => dispatch(setSharedStateData(inspectionId, key, data)),\n    updateListViewShowAliases: (show) => dispatch(updateListViewShowAliases(inspectionId, show)),\n    setSaveFlag: (hasChanges) => dispatch(setSaveFlag(hasChanges)),\n  };\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  try {\n    return {\n      proxy: state.app.proxy,\n      configuration: state.app.configuration,\n      currentMode: state.app.currentMode,\n      selection: state.inspections[inspectionId].views[viewId].selection,\n      isSelectionMode: state.inspections[inspectionId].views[viewId].isSelectionMode,\n      aliases: state.inspections[inspectionId].sharedState?.listViewAliases,\n      showAliasesInList: state.inspections[inspectionId].sharedState?.showAliasesInList,\n      locale: state.app.locale,\n      myPermissions: state.app.myPermissions,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(ListView));\n","export default __webpack_public_path__ + \"static/media/delete-dustbin.8c1d9e0c.svg\";","import { useEffect } from 'react';\nimport { TextField, InputAdornment, IconButton } from '@material-ui/core';\nimport { MuiThemeProvider, createTheme, makeStyles } from '@material-ui/core/styles';\nimport { useDispatch, useSelector } from 'react-redux';\nimport ClearIcon from '../../../../assets/icons/clear.svg';\nimport { OutlinedSelection } from '../../../../components/OutlinedSelection';\nimport Configuration from '../../../../protobuf/Configuration';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport { setSaveFlag } from '../../../../redux/actions';\nimport { canEditParameterView } from '../../../../utils/permissions';\nimport { OverlaySchema } from '../../../../utils/reduxHelper';\n\nconst useStyles = makeStyles(() => ({\n  header: {\n    fontSize: '1.8rem',\n    fontWeight: 'bold',\n    marginBottom: 30,\n  },\n  input: {\n    height: 37,\n    fontSize: '1.4rem',\n  },\n  label: {\n    fontSize: '1.4rem',\n    transform: 'translate(14px, 11px) scale(1)',\n  },\n}));\n\nconst theme = createTheme({\n  typography: {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    //@ts-ignore\n    useNextVariants: true,\n    htmlFontSize: 10,\n  },\n});\n\ninterface OverlayPropertyListProps {\n  inspectionId: string;\n  viewId: string;\n  currentOverlay: OverlaySchema;\n  imageDimensions?: { width: number; height: number };\n  onChange: (changedValue: Partial<OverlaySchema>) => void;\n  openSelection: (variableName: string, variableId: keyof OverlaySchema) => void;\n}\n\nexport const OverlayPropertyList = ({\n  inspectionId,\n  currentOverlay,\n  imageDimensions,\n  onChange,\n  openSelection,\n}: OverlayPropertyListProps) => {\n  const proxy = useSelector<any>((state) => state.app?.proxy) as Proxy;\n  const configuration = useSelector<any>((state) => state.app?.configuration) as Configuration;\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const dispatch = useDispatch();\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (configuration.idNameMappings.size === 0) {\n      configuration.setIdNameMappings(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n  }, [configuration, proxy]);\n\n  const imageWidth = imageDimensions?.width ?? 0;\n  const imageHeight = imageDimensions?.height ?? 0;\n\n  const minWidth = Number(-imageWidth * 2);\n  const maxWidth = Number(imageWidth * 2);\n\n  const minHeight = Number(-imageHeight * 2);\n  const maxHeight = Number(imageHeight * 2);\n\n  const canEdit = canEditParameterView(myPermissions);\n\n  const handleChange = (changedValue: Partial<OverlaySchema>) => {\n    dispatch(setSaveFlag(true));\n    onChange(changedValue);\n  };\n\n  type CommonFieldProps = {\n    name: string;\n    id: keyof OverlaySchema;\n    disabled: boolean;\n  };\n\n  const renderTextField = ({ name, id, disabled }: CommonFieldProps) => {\n    return (\n      <TextField\n        label={name}\n        style={{ width: '100%' }}\n        id={id}\n        type=\"text\"\n        variant=\"outlined\"\n        disabled={disabled || !currentOverlay}\n        InputProps={{ classes: { input: classes.input } }}\n        InputLabelProps={{ classes: { root: classes.label } }}\n        value={(currentOverlay && currentOverlay[id]) || ''}\n        onChange={(e) => handleChange({ [id]: e.target.value })}\n      />\n    );\n  };\n\n  const renderNumberField = ({\n    name,\n    id,\n    min,\n    max,\n    disabled,\n  }: CommonFieldProps & { min: number; max: number }) => {\n    const value = (currentOverlay && currentOverlay[id]) || '';\n    const trimToMinMax = (min: number, max: number, value: string) => {\n      let valueNumber = Number(value);\n      if (valueNumber > max) {\n        valueNumber = max;\n      }\n      if (valueNumber < min) {\n        valueNumber = min;\n      }\n\n      return valueNumber;\n    };\n    return (\n      <TextField\n        label={name}\n        style={{ width: '100%' }}\n        id={id}\n        type=\"number\"\n        variant=\"outlined\"\n        disabled={disabled || !currentOverlay}\n        InputProps={{\n          classes: { input: classes.input },\n          inputProps: { min, max },\n        }}\n        InputLabelProps={{ classes: { root: classes.label } }}\n        value={value}\n        onChange={(e) => handleChange({ [id]: trimToMinMax(min, max, e.target.value) })}\n      />\n    );\n  };\n\n  const renderSelection = ({\n    name,\n    id,\n    options,\n    disabled,\n  }: CommonFieldProps & { options: string[] }) => {\n    return (\n      <OutlinedSelection\n        selectedValue={currentOverlay && currentOverlay[id]}\n        values={options}\n        onSelectionChanged={handleChange}\n        name={name}\n        id={id}\n        disabled={disabled || !currentOverlay}\n      />\n    );\n  };\n\n  const renderObjectSelector = ({ name, id, disabled }: CommonFieldProps) => {\n    const value =\n      (currentOverlay &&\n        currentOverlay[id] &&\n        configuration.getValueNameForId(inspectionId, currentOverlay[id])) ||\n      '';\n\n    return (\n      <TextField\n        label={name}\n        style={{ width: '100%' }}\n        id={id}\n        type=\"text\"\n        variant=\"outlined\"\n        disabled={disabled || !currentOverlay}\n        InputProps={{\n          classes: { input: classes.input },\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <IconButton\n                edge=\"end\"\n                aria-label=\"clear\"\n                onClick={() => handleChange({ [id]: '' })}\n                title={id}\n              >\n                <img src={ClearIcon} alt=\"x\" />\n              </IconButton>\n            </InputAdornment>\n          ),\n        }}\n        InputLabelProps={{ classes: { root: classes.label } }}\n        value={value}\n        onFocus={() => openSelection(name, id)}\n      />\n    );\n  };\n\n  return (\n    <div className=\"parameter-view-overlay-overlaypropertylist\">\n      <MuiThemeProvider theme={theme}>\n        <label className={classes.header}>Overlay parameters</label>\n        {renderTextField({ name: 'Label', id: 'label', disabled: !canEdit })}\n\n        {renderNumberField({\n          name: 'X',\n          id: 'x',\n          min: minWidth,\n          max: maxWidth,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({ name: 'X Variable', id: 'xVariable', disabled: !canEdit })}\n\n        {renderNumberField({\n          name: 'Offset Left',\n          id: 'offsetLeft',\n          min: minWidth,\n          max: maxWidth,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({\n          name: 'Offset Left Variable',\n          id: 'offsetLeftVariable',\n          disabled: !canEdit,\n        })}\n\n        {renderNumberField({\n          name: 'Y',\n          id: 'y',\n          min: minHeight,\n          max: maxHeight,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({ name: 'Y Variable', id: 'yVariable', disabled: !canEdit })}\n\n        {renderNumberField({\n          name: 'Offset Top',\n          id: 'offsetTop',\n          min: minHeight,\n          max: maxHeight,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({\n          name: 'Offset Top Variable',\n          id: 'offsetTopVariable',\n          disabled: !canEdit,\n        })}\n\n        {renderNumberField({\n          name: 'Width',\n          id: 'width',\n          min: minWidth,\n          max: maxWidth,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({\n          name: 'Width Variable',\n          id: 'widthVariable',\n          disabled: !canEdit,\n        })}\n\n        {renderNumberField({\n          name: 'Height',\n          id: 'height',\n          min: minHeight,\n          max: maxHeight,\n          disabled: !canEdit,\n        })}\n        {renderObjectSelector({\n          name: 'Height Variable',\n          id: 'heightVariable',\n          disabled: !canEdit,\n        })}\n        {renderTextField({ name: 'Color', id: 'color', disabled: !canEdit })}\n        {renderObjectSelector({\n          name: 'Color Variable',\n          id: 'colorVariable',\n          disabled: !canEdit,\n        })}\n\n        {renderSelection({\n          name: 'Line Style',\n          id: 'lineStyle',\n          options: ['solid', 'dotted', 'dashed'],\n          disabled: !canEdit,\n        })}\n      </MuiThemeProvider>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Dialog from '../../../../components/Dialog';\nimport ObjectSelector, { TreeNodeSchema } from '../../../../components/ObjectSelector';\nimport Configuration from '../../../../protobuf/Configuration';\nimport type Proxy from '../../../../protobuf/Proxy';\n\ninterface VariableSelectionProps {\n  inspectionId: string;\n  open: boolean;\n  onClose?: (selectedId?: React.Key | React.Key[]) => void;\n  title?: string;\n}\n\nexport const VariableSelection = ({\n  inspectionId,\n  open,\n  onClose,\n  title = '',\n}: VariableSelectionProps) => {\n  const proxy = useSelector<any>((state) => state.app?.proxy) as Proxy;\n  const configuration = useSelector<any>((state) => state.app?.configuration) as Configuration;\n\n  const [tree, setTree] = useState<TreeNodeSchema | null>(null);\n  const [filterIgnore, setFilterIgnore] = useState<string[]>([]);\n\n  useEffect(() => {\n    if (configuration.objectSelectorItems?.size === 0) {\n      configuration.setObjectSelectorItems(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n  }, [configuration, proxy]);\n\n  useEffect(() => {\n    const items = configuration.getObjectSelectorItemsForInspection(inspectionId);\n    if (!items) {\n      return;\n    }\n\n    let tree: TreeNodeSchema = items.tree;\n    tree = configuration.filterArrayValuesFromTree(tree);\n\n    setTree(tree);\n\n    setFilterIgnore(() => {\n      const filterIgnore: string[] = [];\n      const name = configuration.getInspectionName(inspectionId);\n\n      filterIgnore.push(`Inspections.${name}`);\n      filterIgnore.push(`Inspections${name}`);\n      filterIgnore.push(name);\n\n      return filterIgnore;\n    });\n  }, [configuration, inspectionId]);\n\n  if (!configuration || !inspectionId || !tree) {\n    return null;\n  }\n\n  return (\n    <Dialog isInView isPopup title={title} onClose={onClose} open={open}>\n      <div className=\"objectselector-in-dialog-wrapper\">\n        <ObjectSelector\n          singleSelect\n          data={tree}\n          onChange={(selectedId) => onClose?.(selectedId)}\n          filterIgnore={filterIgnore}\n        />\n      </div>\n    </Dialog>\n  );\n};\n","import { useCallback, useEffect, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport iconDeleteDustbin from '../../../../assets/icons/delete-dustbin.svg';\nimport iconPlus from '../../../../assets/icons/plus.svg';\nimport ActionBar, { ActionBarType } from '../../../../components/ActionBar/index';\nimport { OverlayList } from '../../../../components/OverlayList';\nimport { initViewState, setSharedStateData, setSaveFlag } from '../../../../redux/actions';\n\nimport logger from '../../../../utils/logger';\nimport { canEditParameterView } from '../../../../utils/permissions';\nimport { OverlaySchema, updateOverlayList } from '../../../../utils/reduxHelper';\nimport { OverlayPropertyList } from './OverlayPropertyList';\nimport { VariableSelection } from './VariableSelection';\n\nimport './style.scss';\n\ninterface OverlayProps {\n  id: string;\n  inspectionId: string;\n}\n\nexport const Overlay = ({ id: viewId, inspectionId }: OverlayProps) => {\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const inspections = useSelector<any>((state) => state.inspections) as any;\n  const dispatch = useDispatch();\n\n  const [currentOverlay, setCurrentOverlay] = useState<OverlaySchema | undefined>(undefined);\n  const [isObjectSelectorOpen, setIsObjectSelectorOpen] = useState(false);\n  const [variableName, setVariableName] = useState('Variables');\n  const [variableId, setVariableId] = useState<keyof OverlaySchema | ''>('');\n  const [selectedVariables, setSelectedVariables] = useState<(React.Key | React.Key[])[]>([]);\n\n  useEffect(() => {\n    dispatch(initViewState(inspectionId, viewId, {}, {}));\n  }, [dispatch, inspectionId, viewId]);\n\n  const [editingViewId, overlays, imageDimensions] = useMemo(() => {\n    const editingViewId = inspections[inspectionId]?.sharedState?.editingViewId;\n    const overlays: OverlaySchema[] =\n      inspections[inspectionId]?.sharedState?.views[editingViewId]?.overlays;\n    const imageDimensions: { width: number; height: number } =\n      inspections[inspectionId]?.views[editingViewId]?.imageDimensions;\n\n    return [editingViewId, overlays, imageDimensions];\n  }, [inspectionId, inspections]);\n\n  useEffect(() => {\n    if (overlays && currentOverlay) {\n      const overlay = overlays.find((item) => item.id === currentOverlay.id);\n      if (overlay && overlay !== currentOverlay) {\n        setCurrentOverlay(overlay);\n      }\n    }\n\n    if (!currentOverlay && overlays?.length > 0) {\n      setCurrentOverlay(overlays[0]);\n    }\n  }, [currentOverlay, overlays, editingViewId]);\n\n  useEffect(() => {\n    setCurrentOverlay(overlays?.[0]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editingViewId]);\n\n  const overlayActions = useMemo(() => {\n    const addNewOverlay = () => {\n      const newOverlay: OverlaySchema = {\n        color: '#ebfc02',\n        height: 100,\n        id: Math.floor(Math.random() * 10000),\n        isActive: true,\n        label: 'Overlay',\n        lineStyle: 'solid',\n        width: 100,\n        x: 10,\n        y: 20,\n        offsetLeft: null,\n        offsetTop: null,\n      };\n      try {\n        dispatch(setSharedStateData(inspectionId, 'overlays', [...overlays, newOverlay]));\n        setCurrentOverlay(newOverlay);\n      } catch (e) {\n        logger.error(e instanceof Error ? e.message : String(e));\n      }\n    };\n\n    const getNeighborOverlayId = (id: number, overlays: OverlaySchema[]) => {\n      for (let i = 0; i < overlays.length; i++) {\n        if (overlays[i]['id'] === id) {\n          if (overlays[i - 1]) {\n            return overlays[i - 1]['id'];\n          } else if (overlays[i + 1]) {\n            return overlays[i + 1]['id'];\n          }\n        }\n      }\n      return -1;\n    };\n\n    const deleteCurrentOverlay = () => {\n      if (!currentOverlay) {\n        return;\n      }\n\n      try {\n        const updatedOverlays = overlays.filter((overlay) => overlay.id !== currentOverlay.id);\n        dispatch(setSharedStateData(inspectionId, 'overlays', updatedOverlays));\n\n        const newCurrentOverlay = getNeighborOverlayId(currentOverlay.id, overlays);\n        setCurrentOverlay(overlays.filter((item) => item.id === newCurrentOverlay)[0]);\n      } catch (e) {\n        logger.error(e instanceof Error ? e.message : String(e));\n      }\n    };\n\n    const canEdit = canEditParameterView(myPermissions);\n    const actions: ActionBarType[] = [\n      {\n        intlId: 'parameterview.overlay.add',\n        iconUrl: iconPlus,\n        onClickHandler: () => {\n          dispatch(setSaveFlag(true));\n          addNewOverlay();\n        },\n        enabled: canEdit,\n      },\n      {\n        intlId: 'parameterview.overlay.delete',\n        iconUrl: iconDeleteDustbin,\n        onClickHandler: () => {\n          dispatch(setSaveFlag(true));\n          deleteCurrentOverlay();\n        },\n        enabled: canEdit,\n      },\n    ];\n\n    return actions;\n  }, [currentOverlay, dispatch, inspectionId, myPermissions, overlays]);\n\n  const handleUpdateOverlayList = (updatedOverlayList: OverlaySchema[]) => {\n    dispatch(setSharedStateData(inspectionId, 'overlays', updatedOverlayList));\n    dispatch(setSaveFlag(true));\n  };\n\n  const setVariableSelection = useCallback(\n    (selectedVariable?: React.Key | React.Key[]) => {\n      if (!selectedVariable || variableId === '' || !currentOverlay) {\n        setIsObjectSelectorOpen(false);\n        return;\n      }\n\n      if (selectedVariable && !selectedVariables.includes(selectedVariable)) {\n        setSelectedVariables([...selectedVariables, selectedVariable]);\n      }\n\n      const updatedOverlay: OverlaySchema = {\n        ...currentOverlay,\n        [variableId]: selectedVariable,\n      };\n\n      const updatedOverlayList = updateOverlayList(updatedOverlay, overlays);\n      dispatch(setSharedStateData(inspectionId, 'overlays', updatedOverlayList));\n      setIsObjectSelectorOpen(false);\n      dispatch(setSaveFlag(true));\n    },\n    [currentOverlay, dispatch, inspectionId, overlays, selectedVariables, variableId],\n  );\n\n  if (!overlays) {\n    return (\n      <div className=\"parameter-view-overlay-placeholder\">\n        Please select a source for this parameter view.\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"parameter-view-overlay-wrapper\">\n      <div className=\"parameter-view-overlay-table-wrapper\">\n        <OverlayList\n          overlays={overlays}\n          updateCurrentOverlay={setCurrentOverlay}\n          updateOverlayList={handleUpdateOverlayList}\n          canSelectRow={true}\n          onSelectAll={(isActive) => {\n            try {\n              const updatedOverlays = overlays.map((overlay) => ({\n                ...overlay,\n                isActive,\n              }));\n              dispatch(setSharedStateData(inspectionId, 'overlays', updatedOverlays));\n              dispatch(setSaveFlag(true));\n            } catch (e) {\n              logger.error(e instanceof Error ? e.message : String(e));\n            }\n          }}\n        />\n        <ActionBar actions={overlayActions} />\n      </div>\n      {currentOverlay && (\n        <OverlayPropertyList\n          inspectionId={inspectionId}\n          viewId={viewId}\n          currentOverlay={currentOverlay}\n          imageDimensions={imageDimensions}\n          onChange={(changedValue) => {\n            const updatedOverlay = { ...currentOverlay, ...changedValue };\n            const updatedOverlayList = updateOverlayList(updatedOverlay, overlays);\n            dispatch(setSharedStateData(inspectionId, 'overlays', updatedOverlayList));\n            setCurrentOverlay(updatedOverlay);\n          }}\n          openSelection={(variableName, variableId) => {\n            setIsObjectSelectorOpen(true);\n            setVariableName(variableName);\n            setVariableId(variableId);\n          }}\n        />\n      )}\n      <VariableSelection\n        title={variableName}\n        onClose={setVariableSelection}\n        open={isObjectSelectorOpen}\n        inspectionId={inspectionId}\n      />\n    </div>\n  );\n};\n","import { useSelector } from 'react-redux';\n\nimport ActionBar, { ActionBarType } from '../../components/ActionBar';\nimport Container from '../../components/layout/Container';\n\nimport { canReadParameterView, canEditParameterView } from '../../utils/permissions';\nimport { Overlay } from './components/Overlay';\n\nimport './style.scss';\n\ninterface ParameterViewProps {\n  viewActions?: ActionBarType[];\n\n  id: string;\n  inspectionId: string;\n}\n\nconst ParameterView = ({ id, inspectionId, viewActions = [] }: ParameterViewProps) => {\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const parameter = useSelector<any>((state) => state.toolSet?.parameter) as\n    | { component: React.ReactNode }\n    | undefined;\n\n  if (canReadParameterView(myPermissions) || canEditParameterView(myPermissions)) {\n    return (\n      <div className=\"parameter-view-wrapper\">\n        <Container style={!viewActions?.length ? { marginBottom: 0 } : {}}>\n          {parameter?.component || <Overlay inspectionId={inspectionId} id={id} />}\n        </Container>\n        {!!viewActions?.length && <ActionBar isViewAction actions={viewActions} />}\n      </div>\n    );\n  }\n  return <div></div>;\n};\n\nexport default ParameterView;\n","export default __webpack_public_path__ + \"static/media/before.53297893.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ScrollContainer = ({ children }) => (\n  <div className=\"overflow-scroll absolute w-100 h-100 pa2 top-0 left-0\">{children}</div>\n);\n\nScrollContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ScrollContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport shortId from 'shortid';\n\nimport iconBack from '../../assets/icons/back.svg';\nimport iconBefore from '../../assets/icons/before.svg';\nimport iconClose from '../../assets/icons/close.svg';\nimport iconSave from '../../assets/icons/save.svg';\nimport ActionBar from '../../components/ActionBar';\nimport ScrollContainer from '../../components/layout/ScrollContainer';\nimport Heading from '../../components/typo/Heading';\n\nclass RecipeView extends Component {\n  renderConfiguration = (configuration) => (\n    <div className=\"flex\">\n      <span className=\"sans-serif mr2 basis-100\">\n        <FormattedMessage id={configuration.intlId} />:\n      </span>\n      <span className=\"basis-100\">\n        <select className=\"bn w-100 tc\">\n          {configuration.options.map((option) => (\n            <option key={option.title} value={option.value}>\n              {option.title}\n            </option>\n          ))}\n        </select>\n      </span>\n    </div>\n  );\n\n  render() {\n    const { configurations, viewActions } = this.props;\n    return (\n      <div>\n        <ScrollContainer>\n          <div className=\"pa3 flex items-center\">\n            <div className=\"basis-100\">\n              <div>\n                <Heading type=\"h3\" intlId=\"name\" />\n                <input\n                  type=\"text\"\n                  className=\"w-100 bg-near-white mb3 ba b--near-white outline-0 pa1\"\n                />\n              </div>\n              <div>\n                <Heading type=\"h3\" intlId=\"comment\" />\n                <textarea className=\"w-100 h4 bg-near-white ba b--near-white outline-0 pa1\" />\n              </div>\n            </div>\n            <div className=\"basis-100 pa4 pt0 self-baseline\">\n              <Heading type=\"h3\" intlId=\"configuration\" />\n              {configurations.map((configuration) => (\n                <div className=\"bb b--near-white pa1 mb1\" key={shortId.generate()}>\n                  {this.renderConfiguration(configuration)}\n                </div>\n              ))}\n            </div>\n          </div>\n        </ScrollContainer>\n        <ActionBar isViewAction actions={viewActions} />\n      </div>\n    );\n  }\n}\n\nRecipeView.propTypes = {\n  configurations: PropTypes.arrayOf(\n    PropTypes.shape({\n      intlId: PropTypes.string,\n      options: PropTypes.arrayOf(\n        PropTypes.shape({\n          title: PropTypes.string,\n          value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        }),\n      ),\n    }),\n  ).isRequired,\n  viewActions: PropTypes.arrayOf(\n    PropTypes.shape({\n      intlId: PropTypes.string,\n    }),\n  ),\n};\n\nRecipeView.defaultProps = {\n  viewActions: [\n    { intlId: 'back', iconUrl: iconBack },\n    { intlId: 'before', iconUrl: iconBefore },\n    { intlId: 'save', iconUrl: iconSave },\n    { intlId: 'cancel', iconUrl: iconClose },\n  ],\n};\n\nexport default injectIntl(RecipeView);\n","export default __webpack_public_path__ + \"static/media/archive.b8680473.svg\";","export default __webpack_public_path__ + \"static/media/arrow-top-right.4113715e.svg\";","export default __webpack_public_path__ + \"static/media/collapse-all.5ae8f8d4.svg\";","export default __webpack_public_path__ + \"static/media/copy.1e95e110.svg\";","export default __webpack_public_path__ + \"static/media/cut.bf9e7e56.svg\";","export default __webpack_public_path__ + \"static/media/cylindrical-wrap.b75ac8f0.svg\";","export default __webpack_public_path__ + \"static/media/expand-all.9aefbbb5.svg\";","export default __webpack_public_path__ + \"static/media/external.36cd89bf.svg\";","export default __webpack_public_path__ + \"static/media/function-variant.c7f405a8.svg\";","export default __webpack_public_path__ + \"static/media/group.00737002.svg\";","export default __webpack_public_path__ + \"static/media/load-image.c627eeb8.svg\";","export default __webpack_public_path__ + \"static/media/loop.d385a57c.svg\";","export default __webpack_public_path__ + \"static/media/palette.ebdcc61c.svg\";","export default __webpack_public_path__ + \"static/media/paste.767ba7ae.svg\";","export default __webpack_public_path__ + \"static/media/perspective.b5973ac2.svg\";","export default __webpack_public_path__ + \"static/media/polar-transformation.bca0f07a.svg\";","export default __webpack_public_path__ + \"static/media/resize.34a01621.svg\";","export default __webpack_public_path__ + \"static/media/shift.788a6731.svg\";","export default __webpack_public_path__ + \"static/media/statistics.4012e027.svg\";","export default __webpack_public_path__ + \"static/media/table-analyzer.edbb56e2.svg\";","export default __webpack_public_path__ + \"static/media/table.8752185b.svg\";","export default __webpack_public_path__ + \"static/media/transformation.6c296033.svg\";","export default __webpack_public_path__ + \"static/media/window.4e0082b0.svg\";","import { CircularProgress, TextField } from '@material-ui/core';\nimport { CommonMathToolProps } from '../common';\n\nexport const CommentTab = ({ value, onChange, loading }: CommonMathToolProps<string>) => {\n  const handleChange: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement> = (\n    event,\n  ) => {\n    onChange(event.target.value);\n  };\n\n  return (\n    <div className=\"tab-body\">\n      {loading ? (\n        <CircularProgress />\n      ) : (\n        <TextField\n          autoFocus\n          multiline\n          minRows={4}\n          value={value}\n          onChange={handleChange}\n          variant=\"outlined\"\n          fullWidth\n        />\n      )}\n    </div>\n  );\n};\n","import { forwardRef, useEffect, useImperativeHandle, useRef } from 'react';\nimport clsx from 'clsx';\nimport Prism from 'prismjs';\nimport { useIntl } from 'react-intl';\nimport Editor from 'react-simple-code-editor';\nimport 'prismjs/components/prism-sql';\nimport 'prismjs/plugins/match-braces/prism-match-braces.js';\n\nimport 'prismjs/themes/prism-solarizedlight.css';\nimport 'prismjs/plugins/match-braces/prism-match-braces.css';\nimport './FormulaEditor.scss';\n\nconst language = 'sql';\n\nexport interface FormulaEditorRef {\n  getSelectionPosition: () => { start: number; end: number };\n  focus: (selectionStart?: number, selectionEnd?: number) => void;\n  moveLeft: () => void;\n  moveRight: () => void;\n  moveCursorTo: (position: number) => void;\n}\n\ninterface FormulaEditorProps {\n  value: string;\n  onChange: (value: string) => void;\n  onSelectionChange?: (selection: { start: number; end: number }) => void;\n  error?: boolean;\n}\n\nconst Code = ({ children }: { children: string }) => {\n  const ref = useRef<HTMLElement>(null);\n\n  useEffect(() => {\n    const pre = ref.current?.parentElement;\n    if (pre) {\n      Prism.highlightAllUnder(pre, false);\n    }\n  }, [children]);\n\n  return <code ref={ref}>{children}</code>;\n};\n\nexport const FormulaEditor = forwardRef<FormulaEditorRef, FormulaEditorProps>(\n  ({ value, onChange, onSelectionChange, error }, forwardedRef) => {\n    const intl = useIntl();\n    const ref = useRef<any>(null);\n\n    const moveCursorTo = (position: number) => {\n      const textarea: HTMLTextAreaElement = ref.current?._input;\n      if (!textarea) {\n        return;\n      }\n      textarea.focus();\n      const pos = Math.min(value.length, Math.max(0, position));\n      setTimeout(() => textarea.setSelectionRange(pos, pos), 0);\n    };\n\n    useEffect(() => {\n      if (!onSelectionChange) {\n        return;\n      }\n      const handleSelection = () => {\n        if (!ref.current?._input || ref.current._input !== document.activeElement) {\n          return;\n        }\n        const textarea: HTMLTextAreaElement = ref.current._input;\n        onSelectionChange({\n          start: textarea.selectionStart,\n          end: textarea.selectionEnd,\n        });\n      };\n\n      document.addEventListener('selectionchange', handleSelection);\n\n      return () => {\n        document.removeEventListener('selectionchange', handleSelection);\n      };\n    }, [onSelectionChange]);\n\n    useImperativeHandle(forwardedRef, () => ({\n      getSelectionPosition: () => {\n        return {\n          start: ref.current?._input?.selectionStart ?? 0,\n          end: ref.current?._input?.selectionEnd ?? 0,\n        };\n      },\n      focus: (selectionStart, selectionEnd) => {\n        const textarea: HTMLTextAreaElement = ref.current?._input;\n        if (!textarea) {\n          return;\n        }\n        textarea.focus();\n        if (typeof selectionStart === 'number') {\n          setTimeout(\n            () => textarea.setSelectionRange(selectionStart, selectionEnd ?? selectionStart),\n            0,\n          );\n        }\n      },\n      moveCursorTo,\n      moveLeft: () => moveCursorTo((ref.current?._input?.selectionStart ?? 0) - 1),\n      moveRight: () => moveCursorTo((ref.current?._input?.selectionStart ?? 0) + 1),\n    }));\n\n    return (\n      <Editor\n        className={clsx(\n          'formula-editor-field',\n          error && 'markError',\n          `language-${language}`,\n          'match-braces',\n          'rainbow-braces',\n        )}\n        ref={ref}\n        value={value ?? ''}\n        placeholder={intl.messages['toolsetView.formula']}\n        onValueChange={onChange}\n        highlight={(code) => <Code>{code || ''}</Code>}\n        padding={8}\n        style={{\n          fontSize: 14,\n        }}\n        autoFocus\n      />\n    );\n  },\n);\n","import { TreeTheme } from 'react-treebeard-ts';\n\nconst TreebeardStyle: TreeTheme = {\n  tree: {\n    base: {\n      whiteSpace: 'nowrap',\n      listStyle: 'none',\n      backgroundColor: 'transparent',\n      margin: 0,\n      padding: 0,\n      color: 'black',\n      fontFamily: 'lucida grande ,tahoma,verdana,arial,sans-serif',\n      fontSize: '14px',\n    },\n    node: {\n      base: {\n        position: 'relative',\n      },\n      link: {\n        cursor: 'pointer',\n        position: 'relative',\n        padding: '0px 5px',\n        display: 'block',\n      },\n      activeLink: {\n        background: 'rgb(135, 135, 135)',\n      },\n      toggle: {\n        base: {\n          position: 'relative',\n          display: 'inline-block',\n          verticalAlign: 'top',\n          marginLeft: '-5px',\n          height: '24px',\n          width: '24px',\n        },\n        wrapper: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          margin: '-7px 0 0 -7px',\n          height: '10px',\n        },\n        height: 10,\n        width: 10,\n        arrow: {\n          fill: '#9DA5AB',\n          strokeWidth: 0,\n        },\n      },\n      header: {\n        base: {\n          display: 'inline-block',\n          verticalAlign: 'top',\n          color: 'black',\n        },\n        connector: {\n          width: '2px',\n          height: '12px',\n          borderLeft: 'solid 2px black',\n          borderBottom: 'solid 2px black',\n          position: 'absolute',\n          top: '0px',\n          left: '-21px',\n        },\n        title: {\n          lineHeight: '24px',\n          verticalAlign: 'middle',\n        },\n      },\n      subtree: {\n        listStyle: 'none',\n        paddingLeft: '10px',\n      },\n      loading: {\n        color: '#E2C089',\n      },\n    },\n  },\n};\n\nexport default TreebeardStyle;\n","import { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Protobuf from '../../../../protobuf/Protobuf';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport { bytesToString } from '../../common';\n\nexport const useIndirectValueObjectName = (inspectionID: number, objectId?: number) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n\n  const [name, setName] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (!objectId) {\n      return;\n    }\n    setLoading(true);\n    proxy.protobuf\n      .request(\n        Protobuf.SvPb.InspectionCmdRequest.create({\n          inspectionID,\n          getObjectNameRequest: {\n            BeforeType: 4354, //SVObjectTypeEnum.BlobDrawObjectType\n            objectId,\n          },\n        }),\n      )\n      .then((res: any) => {\n        setName(bytesToString(res?.getObjectNameResponse?.name));\n      })\n      .finally(() => setLoading(false));\n  }, [inspectionID, objectId, proxy.protobuf]);\n\n  return { name, loading };\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport clsx from 'clsx';\nimport { useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport { Treebeard, TreeNode } from 'react-treebeard-ts';\nimport Dialog from '../../../components/Dialog';\nimport Configuration from '../../../protobuf/Configuration';\nimport TreebeardStyle from '../components/TreebeardStyle';\nimport { useIndirectValueObjectName } from './hooks/useIndirectValueObjectName';\n\nimport './LinkedValueSelectDialog.scss';\n\ninterface LinkedValueTreeNode extends TreeNode {\n  values: (TreeNode & Pick<Required<TreeNode>, 'id'>)[];\n  children?: LinkedValueTreeNode[];\n  link?: string;\n}\n\ninterface LinkedValueSelectDialogProps {\n  inspectionID: number;\n  value?: number;\n  onClose: () => void;\n  onSelect: (indirectObjectId: number) => void;\n}\n\nexport const LinkedValueSelectDialog = ({\n  inspectionID,\n  value,\n  onClose,\n  onSelect,\n}: LinkedValueSelectDialogProps) => {\n  const configuration = useSelector<any>((state) => state?.app?.configuration) as Configuration;\n  const intl = useIntl();\n\n  const { name: linkName, loading } = useIndirectValueObjectName(inspectionID, value);\n\n  const [treeNodes, setTreeNodes] = useState<LinkedValueTreeNode[]>([]);\n  const [selectedNode, setSelectedNode] = useState<LinkedValueTreeNode | null>(null);\n\n  useEffect(() => {\n    const items = configuration.getObjectSelectorItemsForInspection(inspectionID);\n\n    const parseNodes = (\n      nodes: TreeNode[] | undefined,\n      link = '',\n    ): LinkedValueTreeNode[] | undefined => {\n      if (!nodes?.length) {\n        return undefined;\n      }\n\n      return nodes?.map((node) => {\n        const leafLink = [link, node.name].filter(Boolean).join('.');\n        return {\n          ...node,\n          toggled: node.name === 'Tool Set' ? true : node.active,\n          link: leafLink,\n          children: parseNodes(\n            node.children?.reduce((acc, child) => {\n              if (child.children?.length) {\n                acc.push(child);\n              }\n              return acc;\n            }, [] as TreeNode[]),\n            leafLink,\n          ),\n          values: (node.children?.filter((child) => child.id && !child.children?.length) ??\n            []) as LinkedValueTreeNode['values'],\n        };\n      });\n    };\n\n    if (items?.tree?.children) {\n      setTreeNodes(parseNodes(items.tree.children) ?? []);\n    }\n  }, [configuration, inspectionID]);\n\n  useEffect(() => {\n    if (!loading) {\n      const path = linkName.split('.');\n      path.shift(); //removes inspection name\n      path.pop(); //removes value name\n\n      const traverse = (\n        nodes: LinkedValueTreeNode[] | undefined,\n        path: string[],\n      ): LinkedValueTreeNode[] | undefined => {\n        if (!path.length) {\n          return nodes;\n        }\n        return nodes?.map((node) => {\n          const itemName = path[0];\n          const found = node.name === itemName;\n\n          if (found && path.length === 1) {\n            setSelectedNode(node);\n          }\n\n          return {\n            ...node,\n            children: found ? traverse(node.children, path.slice(1)) : node.children,\n            toggled: found ? true : node.toggled,\n            active: found && path.length === 1,\n            name: (found ? (\n              <span className=\"selected-path-node\">{node.name}</span>\n            ) : (\n              node.name\n            )) as never,\n          };\n        });\n      };\n\n      setTreeNodes((nodes) => traverse(nodes, path) ?? []);\n    }\n  }, [linkName, loading]);\n\n  const updateTreeModel = useCallback(\n    (\n      targetNode: LinkedValueTreeNode | ((node: LinkedValueTreeNode) => boolean),\n      updateTargetData: (node: LinkedValueTreeNode) => Partial<LinkedValueTreeNode>,\n      updateOtherData?: (node: LinkedValueTreeNode) => Partial<LinkedValueTreeNode>,\n    ) => {\n      const mapToolsetTree = (tree: LinkedValueTreeNode[]): LinkedValueTreeNode[] => {\n        return tree.map((node) => {\n          const children = node.children?.length ? mapToolsetTree(node.children) : node.children;\n          if (typeof targetNode === 'function' ? targetNode(node) : node === targetNode) {\n            return { ...node, children, ...updateTargetData(node) };\n          } else {\n            return updateOtherData ? { ...node, children, ...updateOtherData(node) } : node;\n          }\n        });\n      };\n      setTreeNodes(mapToolsetTree);\n    },\n    [],\n  );\n\n  const onNodeClicked = useCallback(\n    (node: LinkedValueTreeNode, toggled: boolean) => {\n      updateTreeModel(\n        node,\n        (node) => ({ active: true, toggled: node.children?.length ? toggled : node.toggled }),\n        () => ({ active: false }),\n      );\n      setSelectedNode(node);\n    },\n    [updateTreeModel],\n  );\n\n  return (\n    <Dialog\n      title={<span>{intl.messages['toolsetView.selectLinkedValue']}</span>}\n      onClose={onClose}\n      open\n      isPositionAbsolute\n    >\n      <div className=\"linked-value-select-dialog-main\">\n        <div className=\"highlighted-node-info\">\n          <span>{intl.messages['toolsetView.highlightedNode']}:</span>&ensp;\n          <span>{selectedNode?.link ?? '-'}</span>\n        </div>\n        <div className=\"linked-value-select-dialog-body\">\n          <div>\n            <Treebeard\n              data={treeNodes}\n              onToggle={(node, toggled) => onNodeClicked(node as never, toggled)}\n              style={TreebeardStyle}\n            />\n          </div>\n          <div className=\"values-list\">\n            {selectedNode?.values?.map((node) => (\n              <div\n                key={node.id}\n                className={clsx(parseInt(node.id) === value && 'selected')}\n                onClick={() => onSelect(parseInt(node.id))}\n              >\n                {node.name}\n              </div>\n            ))}\n          </div>\n        </div>\n        <div>\n          <Button variant=\"outlined\" color=\"primary\" onClick={onClose}>\n            {intl.messages['cancel']}\n          </Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n","import { CSSProperties, useEffect, useRef } from 'react';\nimport Prism from 'prismjs';\nimport 'prismjs/components/prism-sql';\nimport 'prismjs/plugins/match-braces/prism-match-braces.js';\n\nimport 'prismjs/themes/prism-solarizedlight.css';\nimport 'prismjs/plugins/match-braces/prism-match-braces.css';\nimport './ReadonlyFormula.scss';\n\nconst language = 'sql';\n\nexport const ReadonlyFormula = ({\n  children,\n  style = {},\n}: {\n  children?: string;\n  style?: CSSProperties;\n  errorPosition?: number;\n}) => {\n  const codeRef = useRef<HTMLPreElement>(null);\n\n  useEffect(() => {\n    if (codeRef.current && children) {\n      Prism.highlightAllUnder(codeRef.current, false);\n    }\n  }, [children]);\n\n  return (\n    <pre\n      ref={codeRef}\n      style={{\n        display: 'inline',\n        whiteSpace: 'break-spaces',\n        margin: 0,\n        position: 'relative',\n        background: 'none',\n        padding: 0,\n        ...style,\n      }}\n      className={`language-${language} match-braces rainbow-braces`}\n    >\n      <code style={{ fontFamily: 'inherit', overflow: 'hidden', textOverflow: 'ellipsis' }}>\n        {children}\n      </code>\n      {/* {typeof errorPosition === 'number' && (\n        <span className=\"error-marker\" style={{ left: `${7.8 * errorPosition}px` }}>\n          _\n        </span>\n      )} */}\n    </pre>\n  );\n};\n","import { useState, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport Protobuf from '../../../../protobuf/Protobuf';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport logger from '../../../../utils/logger';\n\nexport const useFormulaValidate = (inspectionID: number, equationId: number) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n\n  const [validating, setValidating] = useState(false);\n  const [validatedFormula, setValidatedFormula] = useState('');\n  const [validationSuccessResult, setValidationSuccessResult] = useState<number | null>(null);\n  const [validationErrorMessages, setValidationErrorMessages] = useState<string[]>([]);\n  const [errorPosition, setErrorPosition] = useState<number | null>(null);\n\n  const reset = useCallback(() => {\n    setValidatedFormula('');\n    setValidationSuccessResult(null);\n    setValidationErrorMessages([]);\n    setErrorPosition(null);\n  }, []);\n\n  const sendValidateAndSetEquationRequest = useCallback(\n    (equationText: string) =>\n      proxy.protobuf.request(\n        Protobuf.SvPb.InspectionCmdRequest.create({\n          inspectionID,\n          validateAndSetEquationRequest: {\n            objectId: equationId,\n            equationText: equationText.replace(/([^\\r])\\n/g, '$1\\r\\n'),\n            bSetValue: false,\n          },\n        }),\n      ),\n    [equationId, inspectionID, proxy.protobuf],\n  );\n\n  const validate = useCallback(\n    async (equationText: string) => {\n      try {\n        setValidating(true);\n        const res = await sendValidateAndSetEquationRequest(equationText);\n        setValidating(false);\n\n        setValidatedFormula(equationText);\n\n        const status = res?.validateAndSetEquationResponse?.validateStatus; //it is also position of the error\n\n        if (status === -1) {\n          setValidationSuccessResult(res?.validateAndSetEquationResponse?.result ?? null);\n          setValidationErrorMessages([]);\n          return {\n            success: true,\n            resultValue: res?.validateAndSetEquationResponse?.result ?? null,\n          };\n        } else {\n          const errors = (res?.validateAndSetEquationResponse?.Messages?.messages ?? []).map(\n            (m: any) => m.messageText,\n          );\n          if (!errors.length) {\n            errors.push('Incorrect formula');\n          }\n          setValidationErrorMessages(errors);\n          setValidationSuccessResult(null);\n          setErrorPosition(status);\n          return { success: false, errorPosition: status };\n        }\n      } catch (e) {\n        logger.error(e instanceof Error ? e.message : String(e));\n        setValidationErrorMessages([]);\n      }\n      setValidationSuccessResult(null);\n      return { success: false };\n    },\n    [sendValidateAndSetEquationRequest],\n  );\n\n  return {\n    validate,\n    validating,\n    validatedFormula,\n    reset,\n    validationSuccessResult,\n    validationErrorMessages,\n    errorPosition,\n  };\n};\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Button, makeStyles } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport Dialog from '../../../components/Dialog';\nimport Protobuf from '../../../protobuf/Protobuf';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { bytesToString } from '../common';\nimport { FormulaEditor, FormulaEditorRef } from './FormulaEditor';\nimport { LinkedValueSelectDialog } from './LinkedValueSelectDialog';\nimport { ReadonlyFormula } from './ReadonlyFormula';\nimport { useFormulaValidate } from './hooks/useFormulaValidate';\n\nimport './FormulaEditPanel.scss';\n\nconst useStyles = makeStyles({\n  root: {\n    padding: '0 6px',\n    minWidth: 26,\n    minHeight: 'auto',\n  },\n});\n\ninterface FormulaEditPanelTitleProps extends ReturnType<typeof useFormulaValidate> {\n  conditional?: boolean;\n  short?: boolean;\n  internalEquationText: string;\n}\n\nconst FormulaEditPanelTitle = ({\n  conditional,\n  short,\n  internalEquationText,\n  validating,\n  validatedFormula,\n  validationSuccessResult,\n  validationErrorMessages,\n  errorPosition,\n}: FormulaEditPanelTitleProps) => {\n  const intl = useIntl();\n\n  const validatedFragment = validatedFormula !== internalEquationText;\n\n  const validatedFormulaCut = useMemo(() => {\n    if (validatedFormula.includes('\\n')) {\n      return validatedFormula.split('\\n')[0] + '...';\n    } else {\n      return validatedFormula;\n    }\n  }, [validatedFormula]);\n\n  return (\n    <div className=\"formula-edit-panel-title\">\n      {!short && <div>{intl.messages['toolsetView.formula']}</div>}\n      {validating && <div>{intl.messages['toolsetView.validating']}...</div>}\n      {validatedFormula && (\n        <div className=\"result\">\n          {validationSuccessResult !== null && (\n            <div>\n              <span className=\"validation-success-info\">\n                {intl.messages['toolsetView.validationSuccess']}.\n              </span>\n              &ensp;\n              <span>{intl.messages['toolsetView.result']}:</span>&ensp;\n              <strong>\n                {conditional && !validatedFragment\n                  ? validationSuccessResult\n                    ? 'TRUE'\n                    : 'FALSE'\n                  : validationSuccessResult}\n              </strong>\n            </div>\n          )}\n          {validationErrorMessages?.length > 0 && (\n            <div>\n              <span>{intl.messages['toolsetView.validationError']}.</span>&ensp;\n              <span className=\"validation-error-info\">{validationErrorMessages.join('. ')}</span>\n            </div>\n          )}\n          {validatedFragment && (\n            <div className=\"validated-formula-info\">\n              <span>{intl.messages['toolsetView.validatedFormula']}:</span>\n              <ReadonlyFormula\n                style={{\n                  whiteSpace: 'nowrap',\n                  display: 'inline-flex',\n                  overflow: 'hidden',\n                  textOverflow: 'ellipsis',\n                }}\n                errorPosition={errorPosition ?? undefined}\n              >\n                {validatedFormulaCut}\n              </ReadonlyFormula>\n            </div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\ninterface FormulaEditPanelBaseProps\n  extends ReturnType<typeof useFormulaValidate>,\n    Omit<FormulaEditPanelProps, 'showInDialog' | 'equationId'> {\n  internalEquationText: string;\n  setInternalEquationText: React.Dispatch<React.SetStateAction<string>>;\n  undoAll: () => void;\n}\n\nconst FormulaEditPanelBase = ({\n  inspectionID,\n  internalEquationText,\n  equationText,\n  setInternalEquationText,\n  onSave,\n  onClose,\n  undoAll,\n  validate,\n  validating,\n  reset: resetValidation,\n  validatedFormula,\n  validationErrorMessages,\n}: FormulaEditPanelBaseProps) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n  const intl = useIntl();\n  const panelButtonClasses = useStyles();\n\n  const formulaEditorRef = useRef<FormulaEditorRef>(null);\n\n  const [selection, setSelection] = useState<{ start: number; end: number }>({\n    start: internalEquationText.length,\n    end: internalEquationText.length,\n  });\n  const [openLinkedValueSelectDialog, setOpenLinkedValueSelectDialog] = useState(false);\n\n  const validateAndReturn = useCallback(async () => {\n    const result = await validate(internalEquationText);\n    if (result.success) {\n      onSave(internalEquationText.trim(), result.resultValue);\n    }\n    return result;\n  }, [validate, internalEquationText, onSave]);\n\n  const appendToInternalEquation = useCallback(\n    (value: string, options: { cursorOffset?: number } = {}) => {\n      const editorSelection = formulaEditorRef.current?.getSelectionPosition() ?? {\n        start: internalEquationText.length,\n        end: internalEquationText.length,\n      };\n\n      const shouldAppendSpace = () => {\n        if (['\\n'].includes(value)) {\n          return false;\n        }\n\n        const lines = internalEquationText.split('\\n');\n        let startLi = 0,\n          endLi = 0;\n        let startPivot = editorSelection.start;\n        let endPivot = editorSelection.end;\n        for (; startLi < lines.length; endLi++) {\n          startPivot -= lines[startLi].length + 1;\n          endPivot -= lines[startLi].length + 1;\n          if (startPivot >= 0) {\n            startLi++;\n          }\n          if (endPivot < 0) {\n            break;\n          }\n        }\n        const equationPart = lines.slice(startLi, Math.min(lines.length, endLi + 1)).join('\\n');\n\n        if (equationPart.length === 0) {\n          return false;\n        }\n        const lastChar = equationPart.charAt(equationPart.length - 1);\n        const digits = '1234567890'.split('');\n        const numeric = [...digits, ...['.', ',', '(', ')']];\n        if (\n          (numeric.includes(lastChar) && numeric.includes(value)) ||\n          (digits.includes(lastChar) && ['b', 'h'].includes(value))\n        ) {\n          return false;\n        }\n        return !equationPart.endsWith(' ');\n      };\n\n      if (editorSelection.start === editorSelection.end) {\n        setInternalEquationText(\n          internalEquationText.slice(0, editorSelection.start) +\n            (shouldAppendSpace() ? ' ' : '') +\n            value +\n            internalEquationText.slice(editorSelection.end),\n        );\n        formulaEditorRef.current?.focus(\n          editorSelection.start +\n            (options.cursorOffset ?? 0) +\n            (shouldAppendSpace() ? 1 : 0) +\n            value.length,\n        );\n      } else {\n        setInternalEquationText(\n          internalEquationText.slice(0, editorSelection.start) +\n            value +\n            internalEquationText.slice(editorSelection.end),\n        );\n        formulaEditorRef.current?.focus(\n          editorSelection.start +\n            (typeof options.cursorOffset === 'number' ? options.cursorOffset : value.length),\n        );\n      }\n    },\n    [internalEquationText, setInternalEquationText],\n  );\n\n  const deleteLeft = useCallback(() => {\n    const editorSelection = formulaEditorRef.current?.getSelectionPosition() ?? {\n      start: internalEquationText.length,\n      end: internalEquationText.length,\n    };\n    const start = Math.max(\n      0,\n      editorSelection.start - (editorSelection.start === editorSelection.end ? 1 : 0),\n    );\n\n    setInternalEquationText(\n      internalEquationText.slice(0, start) + internalEquationText.slice(editorSelection.end),\n    );\n    formulaEditorRef.current?.focus(start);\n  }, [internalEquationText, setInternalEquationText]);\n\n  const buttons = useMemo<{ label?: string; onClick?: () => void; separator?: boolean }[][]>(() => {\n    const createSimpleAppendButtons = <OptionsType extends Record<string, unknown>>(\n      labels: string[],\n      options?: OptionsType,\n    ) => {\n      return labels.map((symbol) => ({\n        label: symbol,\n        onClick: () => appendToInternalEquation(symbol),\n        ...(options ?? {}),\n      }));\n    };\n\n    return [\n      // External and numeric system letters\n      [\n        {\n          label: 'Add linked value',\n          onClick: () => setOpenLinkedValueSelectDialog(true),\n        },\n        {\n          separator: true,\n        },\n        {\n          label: '↞',\n          onClick: () => formulaEditorRef.current?.moveCursorTo(0),\n        },\n        {\n          label: '⇠',\n          onClick: () => formulaEditorRef.current?.moveLeft(),\n        },\n        {\n          label: '⇢',\n          onClick: () => formulaEditorRef.current?.moveRight(),\n        },\n        {\n          label: '↠',\n          onClick: () => formulaEditorRef.current?.moveCursorTo(Number.MAX_SAFE_INTEGER),\n        },\n        {\n          separator: true,\n        },\n        ...createSimpleAppendButtons(['b', 'h']),\n      ],\n\n      // Digits and dot\n      createSimpleAppendButtons('0123456789.'.split('')),\n\n      // Logical and basic math operators\n      [\n        ...createSimpleAppendButtons(['AND', 'OR', 'NOT', 'XOR']),\n        {\n          label: 'IF',\n          onClick: () => appendToInternalEquation('IF(  )\\nTHEN {}\\nELSE {}', { cursorOffset: 4 }),\n        },\n        ...createSimpleAppendButtons(['+', '-']),\n        {\n          label: '×',\n          onClick: () => appendToInternalEquation('*'),\n        },\n        {\n          label: '÷',\n          onClick: () => appendToInternalEquation('/'),\n        },\n      ],\n\n      // Comparators, parenthesis and coma\n      [\n        ...createSimpleAppendButtons(['<', '>']),\n        {\n          label: '≤',\n          onClick: () => appendToInternalEquation('<='),\n        },\n        {\n          label: '≥',\n          onClick: () => appendToInternalEquation('>='),\n        },\n        {\n          label: '=',\n          onClick: () => appendToInternalEquation('='),\n        },\n        {\n          label: '≠',\n          onClick: () => appendToInternalEquation('<>'),\n        },\n        ...createSimpleAppendButtons(['(', ')', '{', '}', ',']),\n      ],\n\n      // Advanced\n      [\n        {\n          label: 'Sin',\n          onClick: () => appendToInternalEquation('SIN('),\n        },\n        {\n          label: 'Cos',\n          onClick: () => appendToInternalEquation('COS('),\n        },\n        {\n          label: 'Tan',\n          onClick: () => appendToInternalEquation('TAN('),\n        },\n        {\n          label: 'Sin⁻¹',\n          onClick: () => appendToInternalEquation('ASIN('),\n        },\n        {\n          label: 'Cos⁻¹',\n          onClick: () => appendToInternalEquation('ACOS('),\n        },\n        {\n          label: 'Tan⁻¹',\n          onClick: () => appendToInternalEquation('ATAN('),\n        },\n        {\n          label: 'Min',\n          onClick: () => appendToInternalEquation('MIN(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Max',\n          onClick: () => appendToInternalEquation('MAX(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Avg',\n          onClick: () => appendToInternalEquation('AVG(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Med',\n          onClick: () => appendToInternalEquation('MED(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Sum',\n          onClick: () => appendToInternalEquation('SUM(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Std dev',\n          onClick: () => appendToInternalEquation('STDDEV(,', { cursorOffset: 7 }),\n        },\n        {\n          label: 'Mod',\n          onClick: () => appendToInternalEquation('MOD(,', { cursorOffset: 4 }),\n        },\n        {\n          label: 'Abs',\n          onClick: () => appendToInternalEquation('ABS('),\n        },\n        {\n          label: 'Sqr',\n          onClick: () => appendToInternalEquation('SQR('),\n        },\n        {\n          label: 'Sqrt',\n          onClick: () => appendToInternalEquation('SQRT('),\n        },\n        {\n          label: 'Trunc',\n          onClick: () => appendToInternalEquation('TRUNC('),\n        },\n        {\n          label: 'Pow',\n          onClick: () => appendToInternalEquation('POW(,', { cursorOffset: 4 }),\n        },\n      ],\n\n      // Overall options\n      [\n        {\n          label: 'Delete',\n          onClick: deleteLeft,\n        },\n        {\n          label: '⎵',\n          onClick: () => appendToInternalEquation(' '),\n        },\n        {\n          label: '↵',\n          onClick: () => appendToInternalEquation('\\n'),\n        },\n      ],\n    ];\n  }, [appendToInternalEquation, deleteLeft]);\n\n  return (\n    <>\n      <div className=\"formula-edit-panel\">\n        <div className=\"panel-container\">\n          <div className=\"panel\">\n            <div className=\"panel-buttons\">\n              {buttons.map((row, index1) => (\n                <div key={index1}>\n                  {row.map((btn, index2) =>\n                    btn.separator ? (\n                      <span\n                        key={index1.toString() + (btn.label ?? '_') + index2.toString()}\n                        style={{ flexGrow: 1 }}\n                      />\n                    ) : (\n                      <Button\n                        key={index1.toString() + (btn.label ?? '_') + index2.toString()}\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        onClick={btn.onClick}\n                        classes={panelButtonClasses}\n                        style={{\n                          textTransform: 'none',\n                        }}\n                      >\n                        {btn.label}\n                      </Button>\n                    ),\n                  )}\n                </div>\n              ))}\n            </div>\n            <div className=\"equation-textfield-container\">\n              <FormulaEditor\n                ref={formulaEditorRef}\n                value={internalEquationText}\n                error={validationErrorMessages?.length > 0}\n                onSelectionChange={setSelection}\n                onChange={(value) => {\n                  resetValidation();\n                  setInternalEquationText(value);\n                }}\n              />\n            </div>\n          </div>\n        </div>\n        <div className=\"options\">\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            style={{ minWidth: 96 }}\n            disabled={!internalEquationText || validating}\n            onClick={() => {\n              const validateFragment =\n                selection.start !== selection.end && selection.end - selection.start > 0;\n              const validateString = validateFragment\n                ? internalEquationText.substring(selection.start, selection.end)\n                : internalEquationText;\n              validate(validateString).then((result) => {\n                if (result.success) {\n                  formulaEditorRef.current?.focus(selection.start, selection.end);\n                } else if (result.errorPosition) {\n                  formulaEditorRef.current?.focus(\n                    result.errorPosition + (validateFragment ? selection.start : 0),\n                  );\n                }\n              });\n            }}\n          >\n            {selection.start !== selection.end && selection.end - selection.start > 0\n              ? intl.messages['toolsetView.validateSelection']\n              : intl.messages['toolsetView.validate']}\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            style={{ minWidth: 96 }}\n            onClick={() => {\n              resetValidation();\n              undoAll();\n            }}\n            disabled={internalEquationText === equationText || validating}\n          >\n            {intl.messages['toolsetView.undoAll']}\n          </Button>\n          <span style={{ marginLeft: 16 }} />\n          <Button variant=\"outlined\" color=\"primary\" style={{ minWidth: 96 }} onClick={onClose}>\n            {intl.messages['cancel']}\n          </Button>\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            style={{ minWidth: 96 }}\n            disabled={\n              !internalEquationText ||\n              validating ||\n              internalEquationText === equationText ||\n              (!!validatedFormula && validationErrorMessages?.length > 0)\n            }\n            onClick={() => {\n              validateAndReturn().then((result) => {\n                if (result.success) {\n                  formulaEditorRef.current?.focus(selection.start, selection.end);\n                } else if (result.errorPosition) {\n                  formulaEditorRef.current?.focus(result.errorPosition);\n                }\n              });\n            }}\n          >\n            {intl.messages['ok']}\n          </Button>\n        </div>\n      </div>\n      {openLinkedValueSelectDialog && (\n        <LinkedValueSelectDialog\n          inspectionID={inspectionID}\n          onClose={() => setOpenLinkedValueSelectDialog(false)}\n          onSelect={(indirectObjectId) => {\n            proxy.protobuf\n              .request(\n                Protobuf.SvPb.InspectionCmdRequest.create({\n                  inspectionID,\n                  getObjectNameRequest: {\n                    BeforeType: 4354, //SVObjectTypeEnum.BlobDrawObjectType\n                    objectId: indirectObjectId,\n                  },\n                }),\n              )\n              .then((res: any) => {\n                const name = bytesToString(res?.getObjectNameResponse?.name);\n\n                // Removes inspection name and surrounds with parenthesis\n                const parsedName = `\"${name.replace(/^[^.]+\\./, '')}\"`;\n                appendToInternalEquation(parsedName);\n              })\n              .finally(() => {\n                setOpenLinkedValueSelectDialog(false);\n              });\n          }}\n        />\n      )}\n    </>\n  );\n};\n\ninterface FormulaEditPanelProps {\n  showInDialog?: boolean;\n  inspectionID: number;\n  equationText: string | undefined;\n  equationId: number;\n  onClose: () => void;\n  onSave: (equationText: string, validationResultValue: number | null) => void;\n  conditional?: boolean;\n}\n\nexport const FormulaEditPanel = ({\n  showInDialog,\n  inspectionID,\n  equationText,\n  equationId,\n  onClose,\n  onSave,\n  conditional,\n}: FormulaEditPanelProps) => {\n  const [internalEquationText, setInternalEquationText] = useState('');\n\n  const formulaValidation = useFormulaValidate(inspectionID, equationId);\n\n  const equationTextUnix = (equationText ?? '').replace(/\\r\\n/g, '\\n');\n\n  useEffect(() => {\n    setInternalEquationText(equationTextUnix);\n  }, [equationTextUnix]);\n\n  const undoAll = useCallback(() => {\n    setInternalEquationText(equationTextUnix);\n  }, [equationTextUnix]);\n\n  const titleProps: FormulaEditPanelTitleProps = {\n    ...formulaValidation,\n    conditional,\n    short: !showInDialog,\n    internalEquationText,\n  };\n\n  const panelProps: FormulaEditPanelBaseProps = {\n    ...formulaValidation,\n    onSave,\n    onClose,\n    inspectionID,\n    equationText: equationTextUnix,\n    internalEquationText,\n    setInternalEquationText,\n    undoAll,\n  };\n\n  if (showInDialog) {\n    return (\n      <Dialog\n        title={<FormulaEditPanelTitle {...titleProps} />}\n        onClose={onClose}\n        open\n        isPositionAbsolute\n      >\n        <FormulaEditPanelBase {...panelProps} />\n      </Dialog>\n    );\n  } else {\n    return (\n      <div>\n        <FormulaEditPanelTitle {...titleProps} />\n        <FormulaEditPanelBase {...panelProps} />\n      </div>\n    );\n  }\n};\n","import { useEffect, useState } from 'react';\nimport { CircularProgress } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport EditIcon from '../../../assets/icons/edit.svg';\nimport IconButton from '../../../components/buttons/IconButton';\nimport { CommonMathToolProps } from '../common';\nimport { FormulaEditPanel } from './FormulaEditPanel';\nimport { ReadonlyFormula } from './ReadonlyFormula';\nimport { EquationValue } from './hooks/useFormula';\nimport { useFormulaValidate } from './hooks/useFormulaValidate';\n\nimport './FormulaTab.scss';\n\nexport const FormulaTab = ({\n  inspectionID,\n  value,\n  onChange,\n  toggleOptions,\n  loading,\n  conditional,\n}: CommonMathToolProps<EquationValue | null> & { conditional?: boolean }) => {\n  const intl = useIntl();\n\n  const [openFormulaEditPanel, setOpenFormulaEditPanel] = useState(false);\n\n  useEffect(() => {\n    toggleOptions(!openFormulaEditPanel);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [openFormulaEditPanel]);\n\n  const {\n    validate,\n    validating,\n    validatedFormula,\n    validationErrorMessages,\n    validationSuccessResult,\n  } = useFormulaValidate(inspectionID, value?.equationObjectID ?? 0);\n\n  useEffect(() => {\n    if (value?.equationText) {\n      validate(value.equationText);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [value?.equationText]);\n\n  return (\n    <div className=\"tab-body\">\n      {loading || !value ? (\n        <CircularProgress />\n      ) : openFormulaEditPanel ? (\n        <FormulaEditPanel\n          conditional={conditional}\n          inspectionID={inspectionID}\n          equationId={value.equationObjectID}\n          equationText={value.equationText}\n          onClose={() => setOpenFormulaEditPanel(false)}\n          onSave={(equationText) => {\n            onChange({\n              ...value,\n              equationText,\n            });\n            setOpenFormulaEditPanel(false);\n          }}\n        />\n      ) : (\n        <div className=\"formula-tab\">\n          <label>{intl.messages['toolsetView.value']}:</label>\n          <span>\n            {validating\n              ? intl.messages['toolsetView.validating']\n              : validatedFormula && (\n                  <>\n                    {validationSuccessResult !== null &&\n                      (conditional\n                        ? validationSuccessResult\n                          ? 'TRUE'\n                          : 'FALSE'\n                        : validationSuccessResult)}\n                    {validationErrorMessages?.length > 0 && (\n                      <span>\n                        <span>{intl.messages['toolsetView.validationError']}.</span>&ensp;\n                        <span className=\"validation-error-info\">\n                          {validationErrorMessages.join('. ')}\n                        </span>\n                      </span>\n                    )}\n                  </>\n                )}\n          </span>\n          <label>{intl.messages['toolsetView.formula']}:</label>\n          <span\n            style={{\n              display: 'flex',\n              alignItems: 'flex-start',\n              flexWrap: 'wrap',\n              overflow: 'hidden',\n            }}\n          >\n            <ReadonlyFormula style={{ overflow: 'hidden', textOverflow: 'ellipsis' }}>\n              {value.equationText}\n            </ReadonlyFormula>\n            <IconButton\n              onClick={() => setOpenFormulaEditPanel(true)}\n              style={{\n                height: 20,\n                width: 20,\n                marginLeft: 8,\n              }}\n              iconUrl={EditIcon}\n              tooltip={intl.messages['inputToolView.edit']}\n            />\n          </span>\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useState, useEffect, useCallback } from 'react';\nimport { useSelector } from 'react-redux';\nimport Protobuf from '../../../../protobuf/Protobuf';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport logger from '../../../../utils/logger';\nimport {\n  bytesToString,\n  CommonHookProps,\n  EmbeddedIdEnum,\n  EmbeddedValue,\n  LinkedSelectedType,\n  stringToBytes,\n  VARENUM,\n} from '../../common';\n\ninterface RangeValueBase {\n  rangeClass:\n    | EmbeddedIdEnum.RangeClassFailHighEId\n    | EmbeddedIdEnum.RangeClassFailLowEId\n    | EmbeddedIdEnum.RangeClassWarnHighEId\n    | EmbeddedIdEnum.RangeClassWarnLowEId;\n  inspectionID: number;\n  value: number;\n  equationId: number;\n  embeddedValueObjectID?: number;\n}\n\ninterface DirectRangeValue extends RangeValueBase {\n  type: LinkedSelectedType.DirectValue;\n}\n\ninterface IndirectRangeValue extends RangeValueBase {\n  type: LinkedSelectedType.IndirectValue;\n  indirectObjectId?: number;\n}\n\ninterface FormulaRangeValue extends RangeValueBase {\n  type: LinkedSelectedType.Formula;\n  formula?: string;\n}\n\nexport type RangeValue = DirectRangeValue | IndirectRangeValue | FormulaRangeValue;\n\nexport interface Range {\n  failHigh?: RangeValue;\n  failLow?: RangeValue;\n  warnHigh?: RangeValue;\n  warnLow?: RangeValue;\n}\n\nexport const MIN_RANGE_VALUE = -1700000;\nexport const MAX_RANGE_VALUE = 1700000;\n\nexport function clampRangeValue(val: number) {\n  return Math.max(MIN_RANGE_VALUE, Math.min(MAX_RANGE_VALUE, val));\n}\n\nexport function compareRangeValues(a: RangeValue | undefined, b: RangeValue | undefined) {\n  if (a === b) {\n    return true;\n  }\n  if (!a || !b) {\n    return false;\n  }\n  if (a.type !== b.type || a.value !== b.value) {\n    return false;\n  }\n  switch (a.type) {\n    case LinkedSelectedType.IndirectValue:\n      if (a.indirectObjectId !== (b as typeof a).indirectObjectId) {\n        return false;\n      }\n      break;\n    case LinkedSelectedType.Formula:\n      if (a.formula !== (b as typeof a).formula) {\n        return false;\n      }\n      break;\n  }\n\n  return true;\n}\n\nfunction getDefaultValue(rangeClass: RangeValueBase['rangeClass']) {\n  if (\n    [EmbeddedIdEnum.RangeClassFailHighEId, EmbeddedIdEnum.RangeClassWarnHighEId].includes(\n      rangeClass,\n    )\n  ) {\n    return 99999;\n  }\n  return 0;\n}\n\nexport const useRange = ({ inspectionID, data }: CommonHookProps) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n\n  const [loading, setLoading] = useState(false);\n  const [initialValue, setInitialValue] = useState<Range>({});\n  const [value, setValue] = useState<Range>({});\n\n  const modified =\n    value &&\n    initialValue &&\n    (!compareRangeValues(value.failHigh, initialValue.failHigh) ||\n      !compareRangeValues(value.failLow, initialValue.failLow) ||\n      !compareRangeValues(value.warnHigh, initialValue.warnHigh) ||\n      !compareRangeValues(value.warnLow, initialValue.warnLow));\n\n  useEffect(() => {\n    const getRange = (objectId: number) => {\n      return proxy.protobuf.request(\n        Protobuf.SvPb.InspectionCmdRequest.create({\n          inspectionID,\n          getEmbeddedValuesRequest: {\n            objectId,\n          },\n        }),\n      );\n    };\n\n    const request = Protobuf.SvPb.InspectionCmdRequest.create({\n      inspectionID,\n      getObjectIdRequest: {\n        info: {\n          ownerId: parseInt(data.objectID ?? ''),\n          infoStruct: {\n            objectType: 0x00200000, //SVObjectTypeEnum.SVRangeObjectType\n            subType: 0, //SVObjectSubTypeEnum.SVNotSetSubObjectType\n            embeddedID: EmbeddedIdEnum.NoEmbeddedId,\n          },\n        },\n      },\n    });\n    setLoading(true);\n    proxy.protobuf\n      .request(request)\n      .then((res: any) => {\n        const rangeObjectID = res?.getObjectIdResponse?.objectId;\n\n        getRange(rangeObjectID).then(async (res: any) => {\n          const embeddedValues: EmbeddedValue[] = res?.getEmbeddedValuesResponse?.list ?? [];\n\n          const getRangeValue = async (\n            embeddedIdRangeClass: RangeValueBase['rangeClass'],\n          ): Promise<RangeValue | undefined> => {\n            const embeddedValue = embeddedValues.find(\n              (entry) => entry.embeddedId === embeddedIdRangeClass,\n            );\n\n            const embeddedValueObjectID = embeddedValue?.objectId;\n\n            const linkedValue = embeddedValue?.linkedValue;\n            if (!linkedValue) {\n              return undefined;\n            }\n\n            const common = {\n              inspectionID,\n              rangeClass: embeddedIdRangeClass,\n              type: linkedValue.type,\n              embeddedValueObjectID,\n              equationId: linkedValue.equationId,\n            };\n\n            switch (linkedValue.type) {\n              case LinkedSelectedType.DirectValue:\n                return {\n                  ...common,\n                  value:\n                    linkedValue.directValue?.dblVal ??\n                    linkedValue.value.dblVal ??\n                    linkedValue.defaultValue.dblVal ??\n                    0,\n                };\n              case LinkedSelectedType.IndirectValue: {\n                return {\n                  ...common,\n                  value: linkedValue.value.dblVal ?? linkedValue.defaultValue.dblVal ?? 0,\n                  indirectObjectId: (() => {\n                    try {\n                      return parseInt(\n                        bytesToString(linkedValue.indirectIDString ?? new Uint8Array()).replace(\n                          /[^\\d]/g,\n                          '',\n                        ),\n                      );\n                    } catch (e) {\n                      logger.error(e instanceof Error ? e.message : String(e));\n                    }\n                  })(),\n                };\n              }\n              case LinkedSelectedType.Formula:\n                return {\n                  ...common,\n                  value: linkedValue.value.dblVal ?? linkedValue.defaultValue.dblVal ?? 0,\n                  formula: bytesToString(linkedValue.formula),\n                };\n            }\n          };\n          const range = {\n            failHigh: await getRangeValue(EmbeddedIdEnum.RangeClassFailHighEId),\n            failLow: await getRangeValue(EmbeddedIdEnum.RangeClassFailLowEId),\n            warnHigh: await getRangeValue(EmbeddedIdEnum.RangeClassWarnHighEId),\n            warnLow: await getRangeValue(EmbeddedIdEnum.RangeClassWarnLowEId),\n          };\n\n          setInitialValue(range);\n          setValue(range);\n        });\n      })\n      .catch(logger.error)\n      .finally(() => setLoading(false));\n  }, [data.objectID, inspectionID, proxy.protobuf]);\n\n  const saveChanges = useCallback(async () => {\n    if (!modified) {\n      return [];\n    }\n\n    if (\n      value.failHigh?.type === LinkedSelectedType.DirectValue &&\n      value.failLow?.type === LinkedSelectedType.DirectValue &&\n      value.failHigh?.value < value.failLow?.value\n    ) {\n      return ['Fail low value is bigger than fail high value'];\n    }\n\n    if (\n      value.warnHigh?.type === LinkedSelectedType.DirectValue &&\n      value.warnLow?.type === LinkedSelectedType.DirectValue &&\n      value.warnHigh?.value < value.warnLow?.value\n    ) {\n      return ['Warn low value is bigger than warn high value'];\n    }\n\n    const res = await proxy.protobuf.request(\n      Protobuf.SvPb.InspectionCmdRequest.create({\n        inspectionID,\n        setEmbeddedValuesRequest: {\n          objectId: parseInt(data.objectID ?? ''),\n          list: Object.values(value).reduce(\n            (\n              acc: { values: EmbeddedValue; isModified: boolean }[],\n              rangeValue: RangeValue | undefined,\n            ) => {\n              if (!rangeValue) {\n                return acc;\n              }\n              acc.push({\n                values: {\n                  objectId: rangeValue.embeddedValueObjectID ?? 0,\n                  embeddedId: rangeValue.rangeClass ?? EmbeddedIdEnum.NoEmbeddedId,\n                  linkedValue: {\n                    type: rangeValue.type,\n                    defaultValue: {\n                      type: VARENUM.VT_R8,\n                      dblVal: getDefaultValue(rangeValue.rangeClass),\n                    },\n                    value: { type: VARENUM.VT_R8, dblVal: clampRangeValue(rangeValue.value ?? 0) },\n                    directValue:\n                      rangeValue.type === LinkedSelectedType.DirectValue\n                        ? { type: VARENUM.VT_R8, dblVal: clampRangeValue(rangeValue.value ?? 0) }\n                        : undefined,\n                    indirectIDString:\n                      rangeValue.type === LinkedSelectedType.IndirectValue\n                        ? stringToBytes(`{#${rangeValue.indirectObjectId}}`)\n                        : undefined,\n                    equationId: rangeValue.equationId,\n                    formula:\n                      rangeValue.type === LinkedSelectedType.Formula\n                        ? stringToBytes(rangeValue.formula?.replace(/\\n/g, ''))\n                        : undefined,\n                  },\n                },\n                isModified: true,\n              });\n              return acc;\n            },\n            [],\n          ),\n        },\n      }),\n    );\n    const errors: string[] = res?.standardResponse?.errorMessages?.messages?.map(\n      (msg: any) => msg.messageText,\n    );\n    if (!errors?.length) {\n      setInitialValue(value);\n    }\n    return errors ?? [];\n  }, [data.objectID, inspectionID, modified, proxy.protobuf, value]);\n\n  return { value, setValue, modified, loading, saveChanges };\n};\n","import { useEffect, useState } from 'react';\nimport { Button, CircularProgress, MenuItem, Select, TextField } from '@material-ui/core';\nimport clsx from 'clsx';\nimport { useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport EditIcon from '../../../assets/icons/edit.svg';\nimport IconButton, { IconButtonProps } from '../../../components/buttons/IconButton';\nimport Product from '../../../protobuf/Product';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { NumberEditor } from '../../InputToolView/components/NumberEditor';\nimport { CommonMathToolProps, EmbeddedIdEnum, LinkedSelectedType } from '../common';\nimport { FormulaEditPanel } from './FormulaEditPanel';\nimport { LinkedValueSelectDialog } from './LinkedValueSelectDialog';\nimport { ReadonlyFormula } from './ReadonlyFormula';\nimport { useIndirectValueObjectName } from './hooks/useIndirectValueObjectName';\nimport {\n  clampRangeValue,\n  compareRangeValues,\n  MAX_RANGE_VALUE,\n  MIN_RANGE_VALUE,\n  Range,\n  RangeValue,\n} from './hooks/useRange';\n\nimport './RangeTab.scss';\n\nfunction getRangeClassName(classEnum: RangeValue['rangeClass']) {\n  switch (classEnum) {\n    case EmbeddedIdEnum.RangeClassFailHighEId:\n      return 'Fail high';\n    case EmbeddedIdEnum.RangeClassFailLowEId:\n      return 'Fail low';\n    case EmbeddedIdEnum.RangeClassWarnHighEId:\n      return 'Warn high';\n    case EmbeddedIdEnum.RangeClassWarnLowEId:\n      return 'Warn low';\n  }\n}\n\nconst RangeValuePreview = ({\n  inspectionID,\n  rangeValue,\n  onOpenEditView,\n}: {\n  inspectionID: number;\n  rangeValue?: RangeValue;\n  onOpenEditView: (value: RangeValue) => void;\n}) => {\n  const intl = useIntl();\n\n  if (!rangeValue) {\n    return <span>-</span>;\n  }\n\n  const editButtonProps: IconButtonProps = {\n    onClick: () => onOpenEditView(rangeValue),\n    style: { height: 20, width: 20 },\n    iconUrl: EditIcon,\n    tooltip: intl.messages['inputToolView.edit'],\n  };\n\n  switch (rangeValue.type) {\n    case LinkedSelectedType.DirectValue:\n      return (\n        <div className=\"range-value-preview\">\n          <span>{rangeValue.value}</span>\n          <IconButton {...editButtonProps} />\n        </div>\n      );\n    case LinkedSelectedType.IndirectValue:\n      return (\n        <div className=\"range-value-preview\">\n          <IndirectValue\n            inspectionId={inspectionID}\n            objectId={rangeValue.indirectObjectId}\n            defaultValue={rangeValue.value}\n          />\n          <IconButton {...editButtonProps} />\n          <span className=\"info\">\n            ({intl.messages['toolsetView.link']}:&ensp;\n            <i>\n              <IndirectValueObjectName\n                inspectionID={inspectionID}\n                value={rangeValue.indirectObjectId}\n              />\n            </i>\n            )\n          </span>\n        </div>\n      );\n    case LinkedSelectedType.Formula:\n      return (\n        <div className=\"range-value-preview\">\n          <span>{rangeValue.value}</span>\n          <IconButton {...editButtonProps} />\n          <span className=\"info\">\n            (Formula:&ensp;\n            <i>\n              <ReadonlyFormula style={{ whiteSpace: 'nowrap' }}>\n                {rangeValue.formula}\n              </ReadonlyFormula>\n            </i>\n            )\n          </span>\n        </div>\n      );\n  }\n};\n\nconst IndirectValueObjectName = ({\n  inspectionID,\n  value,\n}: {\n  inspectionID: number;\n  value?: number;\n}) => {\n  const { name } = useIndirectValueObjectName(inspectionID, value);\n\n  return <span>{name}</span>;\n};\n\nconst IndirectValue = ({\n  inspectionId,\n  objectId,\n  defaultValue,\n}: {\n  inspectionId: number;\n  objectId?: number;\n  defaultValue: number;\n}) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n\n  const [value, setValue] = useState(defaultValue);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    const onProduct = ({ product }: { product: Product }) => {\n      const productValue = product\n        ?.getValuesAsString([objectId], '')\n        ?.find((entry: any) => parseInt(entry.id) === objectId)?.value;\n\n      setError(productValue === '');\n      setValue(productValue || defaultValue);\n      return Promise.resolve();\n    };\n\n    const startAtTriggerCount = -1;\n    const desc = {\n      inspectionId,\n      valueIds: [objectId],\n      startAtTriggerCount,\n    };\n    const productSub = proxy.subscribeToProductStream(desc, onProduct);\n\n    return () => {\n      if (productSub) {\n        proxy.unsubscribeFromProductStream(productSub);\n      }\n    };\n  }, [defaultValue, inspectionId, objectId, proxy]);\n\n  return <span className={clsx(error && 'indirect-value-error')}>{value ?? '-'}</span>;\n};\n\nconst RangeValueEditor = ({\n  inspectionID,\n  value,\n  onExit,\n  onChange,\n}: Omit<CommonMathToolProps<RangeValue>, 'loading' | 'toggleOptions'> & { onExit: () => void }) => {\n  const intl = useIntl();\n\n  const [internalValue, setInternalValue] = useState(value);\n  const [openLinkedValueSelectDialog, setOpenLinkedValueSelectDialog] = useState(false);\n  const [openFormulaEditDialog, setOpenFormulaEditDialog] = useState(false);\n\n  useEffect(() => {\n    setInternalValue(value);\n  }, [value]);\n\n  const applyChanges = () => {\n    onChange(internalValue);\n    onExit();\n  };\n\n  const modified = !compareRangeValues(value, internalValue);\n  const invalid =\n    (internalValue.type === LinkedSelectedType.IndirectValue && !internalValue.indirectObjectId) ||\n    (internalValue.type === LinkedSelectedType.Formula && !internalValue.formula);\n\n  return (\n    <div className=\"range-value-editor\">\n      <header>{getRangeClassName(internalValue.rangeClass)}</header>\n      <div className=\"type-options\">\n        <label>{intl.messages['inputToolView.type']}:</label>\n        <Select\n          defaultValue={internalValue.type}\n          value={internalValue.type}\n          onChange={(event) =>\n            setInternalValue({ ...internalValue, type: event.target.value as LinkedSelectedType })\n          }\n          style={{ minWidth: 128, width: 'auto' }}\n        >\n          <MenuItem value={LinkedSelectedType.DirectValue}>\n            {intl.messages['toolsetView.value']}\n          </MenuItem>\n          <MenuItem value={LinkedSelectedType.IndirectValue}>\n            {intl.messages['toolsetView.link']}\n          </MenuItem>\n          <MenuItem value={LinkedSelectedType.Formula}>\n            {intl.messages['toolsetView.formula']}\n          </MenuItem>\n        </Select>\n      </div>\n      {internalValue.type === LinkedSelectedType.DirectValue && (\n        <div className=\"direct-editor-container\">\n          <div className=\"direct-editor\">\n            <label>{intl.messages['toolsetView.value']}:</label>\n            <TextField\n              fullWidth\n              type=\"number\"\n              value={internalValue.value}\n              onChange={(event) =>\n                setInternalValue({\n                  ...internalValue,\n                  value: clampRangeValue(parseFloat(event.target.value ?? 0)),\n                })\n              }\n              autoFocus\n            />\n          </div>\n          <NumberEditor\n            value={internalValue.value}\n            onChange={(value) =>\n              setInternalValue({\n                ...internalValue,\n                value: clampRangeValue(value),\n              })\n            }\n            min={MIN_RANGE_VALUE}\n            max={MAX_RANGE_VALUE}\n            hideRawEditor\n          />\n        </div>\n      )}\n      {internalValue.type === LinkedSelectedType.IndirectValue && (\n        <div className=\"indirect-editor\">\n          <label>{intl.messages['toolsetView.value']}:</label>\n          <IndirectValue\n            inspectionId={inspectionID}\n            objectId={internalValue.indirectObjectId}\n            defaultValue={internalValue.value}\n          />\n          <label>{intl.messages['toolsetView.link']}:</label>\n          <span style={{ display: 'flex', alignItems: 'center' }}>\n            <IndirectValueObjectName\n              inspectionID={inspectionID}\n              value={internalValue.indirectObjectId}\n            />\n            <IconButton\n              onClick={() => setOpenLinkedValueSelectDialog(true)}\n              style={{ height: 20, width: 20, marginLeft: 8 }}\n              iconUrl={EditIcon}\n              tooltip={intl.messages['inputToolView.edit']}\n            />\n          </span>\n          {openLinkedValueSelectDialog && (\n            <LinkedValueSelectDialog\n              inspectionID={internalValue.inspectionID}\n              value={internalValue.indirectObjectId}\n              onClose={() => setOpenLinkedValueSelectDialog(false)}\n              onSelect={(objectId) => {\n                setInternalValue({\n                  ...internalValue,\n                  indirectObjectId: objectId,\n                });\n                setOpenLinkedValueSelectDialog(false);\n              }}\n            />\n          )}\n        </div>\n      )}\n      {internalValue.type === LinkedSelectedType.Formula && (\n        <div className=\"formula-editor\">\n          <label>{intl.messages['toolsetView.value']}:</label>\n          <span>{internalValue.value}</span>\n          <label>{intl.messages['toolsetView.formula']}:</label>\n          <span style={{ display: 'flex', alignItems: 'center' }}>\n            <ReadonlyFormula>{internalValue.formula}</ReadonlyFormula>\n            <IconButton\n              onClick={() => setOpenFormulaEditDialog(true)}\n              style={{ height: 20, width: 20, marginLeft: 8 }}\n              iconUrl={EditIcon}\n              tooltip={intl.messages['inputToolView.edit']}\n            />\n          </span>\n          {openFormulaEditDialog && (\n            <FormulaEditPanel\n              showInDialog\n              inspectionID={internalValue.inspectionID}\n              equationId={internalValue.equationId}\n              equationText={internalValue.formula}\n              onClose={() => setOpenFormulaEditDialog(false)}\n              onSave={(equationText, validationResultValue) => {\n                setInternalValue({\n                  ...internalValue,\n                  formula: equationText,\n                  value: validationResultValue ?? internalValue.value,\n                });\n                setOpenFormulaEditDialog(false);\n              }}\n            />\n          )}\n        </div>\n      )}\n      <div className=\"options\">\n        <Button variant=\"outlined\" color=\"primary\" onClick={onExit} style={{ minWidth: 128 }}>\n          {intl.messages['cancel']}\n        </Button>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={applyChanges}\n          style={{ minWidth: 128 }}\n          disabled={!modified || invalid}\n        >\n          {intl.messages['ok']}\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport const RangeTab = ({\n  inspectionID,\n  value,\n  onChange,\n  toggleOptions,\n  loading,\n}: CommonMathToolProps<Range>) => {\n  const [editingValue, setEditingValue] = useState<RangeValue | null>(null);\n\n  useEffect(() => {\n    toggleOptions(!editingValue);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [!!editingValue]);\n\n  const handleChange = (rangeValue: RangeValue) => {\n    setEditingValue(rangeValue);\n\n    switch (rangeValue.rangeClass) {\n      case EmbeddedIdEnum.RangeClassFailHighEId:\n        onChange({ ...value, failHigh: rangeValue });\n        break;\n      case EmbeddedIdEnum.RangeClassFailLowEId:\n        onChange({ ...value, failLow: rangeValue });\n        break;\n      case EmbeddedIdEnum.RangeClassWarnHighEId:\n        onChange({ ...value, warnHigh: rangeValue });\n        break;\n      case EmbeddedIdEnum.RangeClassWarnLowEId:\n        onChange({ ...value, warnLow: rangeValue });\n        break;\n    }\n  };\n\n  return (\n    <div className=\"tab-body range-tab\">\n      {loading ? (\n        <CircularProgress />\n      ) : editingValue ? (\n        <RangeValueEditor\n          inspectionID={inspectionID}\n          value={editingValue}\n          onExit={() => setEditingValue(null)}\n          onChange={handleChange}\n        />\n      ) : (\n        <div className=\"values-list\">\n          <label>{getRangeClassName(EmbeddedIdEnum.RangeClassFailHighEId)}:</label>\n          <RangeValuePreview\n            inspectionID={inspectionID}\n            rangeValue={value.failHigh}\n            onOpenEditView={setEditingValue}\n          />\n          <label>{getRangeClassName(EmbeddedIdEnum.RangeClassWarnHighEId)}:</label>\n          <RangeValuePreview\n            inspectionID={inspectionID}\n            rangeValue={value.warnHigh}\n            onOpenEditView={setEditingValue}\n          />\n          <label>{getRangeClassName(EmbeddedIdEnum.RangeClassWarnLowEId)}:</label>\n          <RangeValuePreview\n            inspectionID={inspectionID}\n            rangeValue={value.warnLow}\n            onOpenEditView={setEditingValue}\n          />\n          <label>{getRangeClassName(EmbeddedIdEnum.RangeClassFailLowEId)}:</label>\n          <RangeValuePreview\n            inspectionID={inspectionID}\n            rangeValue={value.failLow}\n            onOpenEditView={setEditingValue}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Protobuf from '../../../../protobuf/Protobuf';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport logger from '../../../../utils/logger';\nimport { CommonHookProps, EmbeddedIdEnum } from '../../common';\n\nexport interface EquationValue {\n  equationText: string;\n  equationObjectID: number;\n}\n\nexport const useFormula = ({\n  inspectionID,\n  data,\n  conditional,\n}: CommonHookProps & { conditional?: boolean }) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n\n  const [loading, setLoading] = useState(false);\n  const [initialValue, setInitialValue] = useState<EquationValue | null>(null);\n  const [value, setValue] = useState<EquationValue | null>(null);\n\n  const modified = value !== initialValue;\n\n  useEffect(() => {\n    const getEquation = (objectId: number) => {\n      return proxy.protobuf.request(\n        Protobuf.SvPb.InspectionCmdRequest.create({\n          inspectionID,\n          getEquationRequest: {\n            objectId,\n          },\n        }),\n      );\n    };\n\n    const request = Protobuf.SvPb.InspectionCmdRequest.create({\n      inspectionID,\n      getObjectIdRequest: {\n        info: {\n          ownerId: parseInt(data.objectID ?? ''),\n          infoStruct: {\n            objectType: 8, //SVObjectTypeEnum.SVEquationObjectType\n            subType: conditional ? 1024 : 1025, //conditional ? SVObjectSubTypeEnum.SVConditionalObjectType : SVObjectSubTypeEnum.SVMathEquationObjectType\n            embeddedID: EmbeddedIdEnum.NoEmbeddedId,\n          },\n        },\n      },\n    });\n    setLoading(true);\n    proxy.protobuf\n      .request(request)\n      .then((res: any) => {\n        const equationObjectID: number = res?.getObjectIdResponse?.objectId;\n        getEquation(equationObjectID).then((res: any) => {\n          const equationValue: EquationValue = {\n            equationText: res?.getEquationResponse?.equationText ?? '',\n            equationObjectID,\n          };\n          setValue(equationValue);\n          setInitialValue(equationValue);\n        });\n      })\n      .catch(logger.error)\n      .finally(() => setLoading(false));\n  }, [conditional, data.objectID, inspectionID, proxy.protobuf]);\n\n  const saveChanges = useCallback(async () => {\n    if (!modified || !value) {\n      return [];\n    }\n\n    const res = await proxy.protobuf.request(\n      Protobuf.SvPb.InspectionCmdRequest.create({\n        inspectionID,\n        validateAndSetEquationRequest: {\n          objectId: value.equationObjectID,\n          equationText: value.equationText.replace(/([^\\r])\\n/g, '$1\\r\\n'),\n          bSetValue: true,\n        },\n      }),\n    );\n\n    const errors: string[] = res?.standardResponse?.errorMessages?.messages?.map(\n      (msg: any) => msg.messageText,\n    );\n    if (!errors?.length) {\n      setInitialValue(value);\n    }\n    return errors ?? [];\n  }, [inspectionID, modified, proxy.protobuf, value]);\n\n  return { value, setValue, modified, loading, saveChanges };\n};\n","import { useEffect, useMemo, useState } from 'react';\nimport { Button, CircularProgress } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport { ToolsetTreeNode } from '..';\nimport logger from '../../../utils/logger';\nimport { CommonHookProps, CommonMathToolProps } from '../common';\nimport { CommentTab } from './CommentTab';\nimport { FormulaTab } from './FormulaTab';\nimport { RangeTab } from './RangeTab';\nimport { useComment } from './hooks/useComment';\nimport { useFormula } from './hooks/useFormula';\nimport { useRange } from './hooks/useRange';\n\nimport './style.scss';\n\nexport function isMathTool(node?: ToolsetTreeNode) {\n  if (!node) {\n    return false;\n  }\n  return (\n    (node.objectType === 'SVToolObjectType' && node.objectSubType === 'SVMathToolObjectType') ||\n    (node.objectType === 0x7 && //SVObjectTypeEnum.SVToolObjectType\n      node.objectSubType === 0x12) //SVObjectSubTypeEnum.SVMathToolObjectType\n  );\n}\n\ninterface MathToolProps extends CommonHookProps {\n  view: string;\n}\n\nconst noDisplayStyle: React.CSSProperties = { display: 'none' };\n\nexport const MathTool = ({ inspectionID, data, view }: MathToolProps) => {\n  const intl = useIntl();\n\n  const [saving, setSaving] = useState(false);\n  const [errors, setErrors] = useState<string[]>([]);\n  const [success, setSuccess] = useState(false);\n  const [showOptions, setShowOptions] = useState(true);\n\n  const commonProps = { inspectionID, data };\n  const formula = useFormula(commonProps);\n  const conditional = useFormula({ ...commonProps, conditional: true });\n  const range = useRange(commonProps);\n  const comment = useComment(commonProps);\n\n  useEffect(() => {\n    if (comment.modified || range.modified || formula.modified || conditional.modified) {\n      setSuccess(false);\n    }\n  }, [comment.modified, conditional.modified, formula.modified, range.modified]);\n\n  useEffect(() => {\n    setSuccess(false);\n    setErrors([]);\n  }, [view]);\n\n  const toggleOptions = (showOptions: boolean) => {\n    setShowOptions(showOptions);\n    if (!showOptions) {\n      setSuccess(false);\n      setErrors([]);\n    }\n  };\n\n  const views = useMemo<\n    {\n      name: string;\n      component: ({ value, onChange, loading }: CommonMathToolProps<any>) => JSX.Element;\n      props: CommonMathToolProps<any>;\n    }[]\n  >(\n    () => [\n      {\n        name: 'Formula',\n        component: FormulaTab,\n        props: {\n          inspectionID,\n          value: formula.value,\n          onChange: formula.setValue,\n          toggleOptions,\n          loading: formula.loading,\n        },\n      },\n      {\n        name: 'Range',\n        component: RangeTab,\n        props: {\n          inspectionID,\n          value: range.value,\n          onChange: range.setValue,\n          toggleOptions,\n          loading: range.loading,\n        },\n      },\n      {\n        name: 'Conditional',\n        component: FormulaTab,\n        props: {\n          inspectionID,\n          value: conditional.value,\n          onChange: conditional.setValue,\n          toggleOptions,\n          loading: conditional.loading,\n          conditional: true,\n        },\n      },\n      {\n        name: 'Comment',\n        component: CommentTab,\n        props: {\n          inspectionID,\n          value: comment.value,\n          onChange: comment.setValue,\n          toggleOptions,\n          loading: comment.loading,\n        },\n      },\n    ],\n    [\n      inspectionID,\n      formula.value,\n      formula.setValue,\n      formula.loading,\n      range.value,\n      range.setValue,\n      range.loading,\n      conditional.value,\n      conditional.setValue,\n      conditional.loading,\n      comment.value,\n      comment.setValue,\n      comment.loading,\n    ],\n  );\n\n  const modified = useMemo(() => {\n    switch (view) {\n      case 'Comment':\n        return comment.modified;\n      case 'Range':\n        return range.modified;\n      case 'Formula':\n        return formula.modified;\n      case 'Conditional':\n        return conditional.modified;\n    }\n    return false;\n  }, [comment.modified, conditional.modified, formula.modified, range.modified, view]);\n\n  const saveChanges = async () => {\n    setSaving(true);\n    setSuccess(false);\n    try {\n      const commentErrors = await comment.saveChanges();\n      const rangeErrors = await range.saveChanges();\n      const formulaErrors = await formula.saveChanges();\n      const conditionalErrors = await conditional.saveChanges();\n\n      const totalErrors = [\n        ...commentErrors,\n        ...rangeErrors,\n        ...formulaErrors,\n        ...conditionalErrors,\n      ];\n      setErrors(totalErrors);\n      setSuccess(!totalErrors?.length);\n    } catch (e) {\n      logger.error(e instanceof Error ? e.message : String(e));\n      setErrors([e instanceof Error ? e.message : String(e)]);\n    }\n    setSaving(false);\n  };\n\n  return (\n    <div className=\"math-tool\">\n      <header>\n        {data.name}&nbsp;|&nbsp;{view}\n        {modified ? '*' : ''}\n      </header>\n      <div className=\"math-tool-body\">\n        <div className=\"content\">\n          {views.map((t) => (\n            <div key={t.name} style={view === t.name ? {} : noDisplayStyle}>\n              <t.component {...t.props} />\n            </div>\n          ))}\n        </div>\n      </div>\n      {showOptions && (\n        <div className=\"options\">\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={saveChanges}\n            disabled={saving || !modified}\n            style={{ minWidth: 128 }}\n          >\n            {saving ? <CircularProgress size={24} /> : intl.messages['save']}\n          </Button>\n          {!saving && errors?.length > 0 && (\n            <div className=\"errors\">\n              {errors.map((err, index) => (\n                <span key={index}>{err}</span>\n              ))}\n            </div>\n          )}\n          {!saving && success && (\n            <div className=\"success\">{intl.messages['toolsetView.savingSuccess']}</div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useCallback, useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport Protobuf from '../../../../protobuf/Protobuf';\nimport type Proxy from '../../../../protobuf/Proxy';\nimport logger from '../../../../utils/logger';\nimport { CommonHookProps, EmbeddedIdEnum, EmbeddedValue, VARENUM } from '../../common';\n\nexport const useComment = ({ inspectionID, data }: CommonHookProps) => {\n  const proxy = useSelector<any>((state) => state?.app?.proxy) as Proxy;\n\n  const [loading, setLoading] = useState(false);\n  const [initialValue, setInitialValue] = useState('');\n  const [value, setValue] = useState('');\n  const [embeddedValueObjectID, setEmbeddedValueObjectID] = useState<number | undefined>(undefined);\n\n  const modified = value !== initialValue;\n\n  useEffect(() => {\n    const request = Protobuf.SvPb.InspectionCmdRequest.create({\n      inspectionID,\n      getEmbeddedValuesRequest: {\n        objectId: parseInt(data.objectID ?? ''),\n      },\n    });\n    setLoading(true);\n    proxy.protobuf\n      .request(request)\n      .then((res: any) => {\n        const embeddedValues: EmbeddedValue[] = res?.getEmbeddedValuesResponse?.list ?? [];\n        const value = embeddedValues.find(\n          (entry) => entry.embeddedId === EmbeddedIdEnum.ToolCommentTypeEId,\n        );\n        setEmbeddedValueObjectID(value?.objectId);\n        const commentValue =\n          value?.value?.value?.strVal ?? value?.value?.defaultValue?.strVal ?? '';\n        setInitialValue(commentValue);\n        setValue(commentValue);\n      })\n      .catch(logger.error)\n      .finally(() => setLoading(false));\n  }, [data.objectID, inspectionID, proxy.protobuf]);\n\n  const saveChanges = useCallback(async () => {\n    if (!modified) {\n      return [];\n    }\n    const res = await proxy.protobuf.request(\n      Protobuf.SvPb.InspectionCmdRequest.create({\n        inspectionID,\n        setEmbeddedValuesRequest: {\n          objectId: parseInt(data.objectID ?? ''),\n          list: [\n            {\n              values: {\n                objectId: embeddedValueObjectID,\n                embeddedId: EmbeddedIdEnum.ToolCommentTypeEId,\n                value: {\n                  defaultValue: { type: VARENUM.VT_BSTR, strVal: '' },\n                  value: { type: VARENUM.VT_BSTR, strVal: value.trim() },\n                },\n              } as EmbeddedValue,\n              isModified: true,\n            },\n          ],\n        },\n      }),\n    );\n    const errors: string[] = res?.standardResponse?.errorMessages?.messages?.map(\n      (msg: any) => msg.messageText,\n    );\n    if (!errors?.length) {\n      setInitialValue(value);\n    }\n    return errors ?? [];\n  }, [data.objectID, embeddedValueObjectID, inspectionID, modified, proxy.protobuf, value]);\n\n  return { value, setValue, modified, loading, saveChanges };\n};\n","import { Key } from 'react';\nimport { useIntl } from 'react-intl';\nimport shortId from 'shortid';\n\nimport './style.scss';\nimport IconButton from '../../../../components/buttons/IconButton';\nimport { ToggleButton } from '../../../../components/buttons/ToggleButton';\nimport { TOGGLE_BUTTON, SEPARATOR } from '../../../../types/ActionBarType';\n\nexport interface ToolSetBarProps {\n  tools: {\n    id?: Key;\n    intlId: string;\n    onClickHandler: () => void;\n    iconUrl: string;\n    enabled: boolean;\n    type?: typeof TOGGLE_BUTTON | typeof SEPARATOR;\n    intlIdAlternative?: string;\n    iconUrlAlternative?: string;\n    onClickHandlerAlternative?: () => void;\n    showAlternative?: boolean;\n  }[];\n}\n\nconst ToolSetBar = ({ tools }: ToolSetBarProps) => {\n  const intl = useIntl();\n\n  return (\n    <div className=\"toolset-bar-wrapper\">\n      {tools &&\n        tools.map((tool) => {\n          if (tool && tool.type === SEPARATOR) {\n            return (\n              <div className=\"toolset-bar-separator\" key={`separator_${shortId.generate()}`}>\n                <div className=\"separator\"></div>\n              </div>\n            );\n          }\n          if (tool && tool.type === TOGGLE_BUTTON) {\n            return (\n              <ToggleButton\n                key={tool.id}\n                id={tool.id}\n                intlId={tool.intlId}\n                iconUrl={tool.iconUrl}\n                enabled={tool.enabled}\n                onClickHandler={tool.onClickHandler}\n                intlIdAlternative={tool.intlIdAlternative}\n                iconUrlAlternative={tool.iconUrlAlternative}\n                onClickHandlerAlternative={tool.onClickHandlerAlternative}\n                showAlternative={tool.showAlternative}\n              />\n            );\n          }\n\n          return (\n            <IconButton\n              key={tool.intlId}\n              tooltip={intl.messages[tool.intlId as keyof typeof intl.messages]}\n              onClick={() => tool.onClickHandler()}\n              iconUrl={tool.iconUrl}\n              enabled={tool.enabled}\n            />\n          );\n        })}\n    </div>\n  );\n};\n\nexport default ToolSetBar;\n","export default __webpack_public_path__ + \"static/media/down.17f143ff.svg\";","export default __webpack_public_path__ + \"static/media/take-over.e8760b3a.svg\";","export default __webpack_public_path__ + \"static/media/up.32f62e1a.svg\";","import { Key, useState } from 'react';\nimport { SortableContainer, SortableElement, arrayMove, SortEndHandler } from 'react-sortable-hoc';\n\nimport './style.scss';\nimport iconDeleteDustbin from '../../../../assets/icons/delete-dustbin.svg';\nimport iconDown from '../../../../assets/icons/down.svg';\nimport iconTakeOver from '../../../../assets/icons/take-over.svg';\nimport iconUp from '../../../../assets/icons/up.svg';\n\nimport ActionBar, { ActionBarType } from '../../../../components/ActionBar';\n\nconst SortableItem = SortableElement(({ value }: { value: Key }) => (\n  <li className=\"filter-list-row\" key={value}>\n    <span className=\"filter-list-row-item\">{value}</span>\n  </li>\n));\n\nconst SortableList = SortableContainer(({ items }: { items: { value: Key }[] }) => (\n  <ul>\n    {items.map((item, index) => (\n      <SortableItem key={item.value} index={index} value={item.value} />\n    ))}\n  </ul>\n));\n\ntype AvailableFilterListItemsType = {\n  id: string;\n  value: string;\n  onClick: () => void;\n}[];\n\ninterface FilterProps {\n  AvailableFilterListItems: AvailableFilterListItemsType;\n  AvailableFilterListActions: ActionBarType[];\n  CurrentFilterListItems: AvailableFilterListItemsType;\n  CurrentFilterListActions: ActionBarType[];\n}\n\nconst Filter = ({\n  AvailableFilterListItems = [\n    { id: '', value: 'Closing Filter', onClick: () => void 0 },\n    { id: '', value: 'Custom Filter', onClick: () => void 0 },\n    { id: '', value: 'Custom2 Filter', onClick: () => void 0 },\n    { id: '', value: 'Dilation Filter', onClick: () => void 0 },\n    { id: '', value: 'EdgeDetect Filter', onClick: () => void 0 },\n    { id: '', value: 'EdgeDetect2 Filter', onClick: () => void 0 },\n    { id: '', value: 'Erosion Filter', onClick: () => void 0 },\n    { id: '', value: 'HorizonEdge Filter', onClick: () => void 0 },\n    { id: '', value: 'LaplacianEdge Filter', onClick: () => void 0 },\n    { id: '', value: 'LaplacianEdge2 Filter', onClick: () => void 0 },\n    { id: '', value: 'MAX MIN Filter', onClick: () => void 0 },\n    { id: '', value: 'Opening Filter', onClick: () => void 0 },\n    { id: '', value: 'Ranking Filter', onClick: () => void 0 },\n    { id: '', value: 'Sharpen Filter', onClick: () => void 0 },\n    { id: '', value: 'Sharpen2 Filter', onClick: () => void 0 },\n    { id: '', value: 'Skeleton Filter', onClick: () => void 0 },\n    { id: '', value: 'Smooth Filter', onClick: () => void 0 },\n    { id: '', value: 'Thickening Filter', onClick: () => void 0 },\n    { id: '', value: 'Thinning Filter', onClick: () => void 0 },\n    { id: '', value: 'VertEdge Filter', onClick: () => void 0 },\n    { id: '', value: 'Watershed Filter', onClick: () => void 0 },\n  ],\n  AvailableFilterListActions = [\n    { intlId: 'before', iconUrl: iconTakeOver, onClickHandler: () => void 0 },\n  ],\n  CurrentFilterListItems = [\n    { id: '', value: 'Custom Filter', onClick: () => void 0 },\n    { id: '', value: 'Dilation Filter', onClick: () => void 0 },\n    { id: '', value: 'Closing Filter', onClick: () => void 0 },\n  ],\n  CurrentFilterListActions = [\n    { intlId: 'down', iconUrl: iconDown, onClickHandler: () => void 0 },\n    { intlId: 'up', iconUrl: iconUp, onClickHandler: () => void 0 },\n    { intlId: 'delete', iconUrl: iconDeleteDustbin, onClickHandler: () => void 0 },\n  ],\n}: FilterProps) => {\n  const [localCurrentFilterListItems, setLocalCurrentFilterListItems] =\n    useState(CurrentFilterListItems);\n\n  const onSortEnd: SortEndHandler = ({ oldIndex, newIndex }) => {\n    setLocalCurrentFilterListItems(arrayMove(localCurrentFilterListItems, oldIndex, newIndex));\n  };\n\n  return (\n    <div className=\"parameter-view-filter-wrapper\">\n      <div className=\"available-filters filter-list\">\n        <div className=\"filter-header\">Available Filters</div>\n        <ul className=\"filter-content\">\n          {AvailableFilterListItems.map((item) => (\n            <li className=\"filter-list-row\" key={item.value}>\n              <span className=\"filter-list-row-item\">{item.value}</span>\n            </li>\n          ))}\n        </ul>\n        <div className=\"filter-list-actions\">\n          <ActionBar actions={AvailableFilterListActions} />\n        </div>\n      </div>\n\n      <div className=\"current-filters filter-list\">\n        <div className=\"filter-header\">Available Filters</div>\n        <ul className=\"filter-content\">\n          <SortableList\n            helperClass=\"filter-list-row-item-on-drag\"\n            items={localCurrentFilterListItems}\n            onSortEnd={onSortEnd}\n          />\n        </ul>\n        <div className=\"filter-list-actions\">\n          <ActionBar actions={CurrentFilterListActions} />\n        </div>\n      </div>\n\n      <div className=\"property-container\">\n        <div className=\"filter-header\">Properties</div>\n      </div>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { setParameter, setViewSet } from '../../../redux/actions';\nimport Filter from '../../ParameterView/components/Filter';\nimport ViewSetFactory from '../../ViewSetFactory';\n\nclass ToolSetup extends Component {\n  componentDidUpdate(prevProps) {\n    if (prevProps.node !== this.props.node) {\n      this.setup(this.props.node);\n    }\n  }\n\n  setup = (node) => {\n    switch (node.name) {\n      case 'Equation':\n        this.props.setupParameterView({\n          component: <Filter />,\n        });\n\n        break;\n      default:\n        break;\n    }\n  };\n\n  viewSetFactory = new ViewSetFactory();\n\n  render() {\n    return null;\n  }\n}\n\nToolSetup.defaultProps = {\n  node: undefined,\n};\n\nToolSetup.propTypes = {\n  currentViewSet: PropTypes.shape({\n    id: PropTypes.string,\n    viewSet: PropTypes.shape({ id: PropTypes.string }),\n  }).isRequired,\n  setupParameterView: PropTypes.func.isRequired,\n  setViewSet: PropTypes.func.isRequired,\n  node: PropTypes.shape({\n    uniqueReferenceID: PropTypes.string,\n  }),\n};\n\nconst mapStateToProps = (state) => ({\n  currentViewSet: state.viewSet.currentViewSet,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setupParameterView: (parameter) => {\n    dispatch(setParameter(parameter));\n  },\n  setViewSet: (viewSet) => {\n    dispatch(setViewSet(viewSet));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolSetup);\n","import React, { ReactElement, useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport ReactDOMServer from 'react-dom/server';\nimport { FormattedMessage } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Treebeard, TreeNode } from 'react-treebeard-ts';\nimport iconArchive from '../../assets/icons/archive.svg';\nimport iconLinear from '../../assets/icons/arrow-top-right.svg';\nimport iconCollapse from '../../assets/icons/collapse-all.svg';\nimport iconCopy from '../../assets/icons/copy.svg';\nimport iconCut from '../../assets/icons/cut.svg';\nimport iconCylindricalWrap from '../../assets/icons/cylindrical-wrap.svg';\nimport iconDelete from '../../assets/icons/delete.svg';\nimport iconExpand from '../../assets/icons/expand-all.svg';\nimport iconExternal from '../../assets/icons/external.svg';\nimport iconFunction from '../../assets/icons/function-variant.svg';\nimport iconGroup from '../../assets/icons/group.svg';\nimport iconImage from '../../assets/icons/image.svg';\nimport iconLoadImage from '../../assets/icons/load-image.svg';\nimport iconLoop from '../../assets/icons/loop.svg';\nimport iconColor from '../../assets/icons/palette.svg';\nimport iconPaste from '../../assets/icons/paste.svg';\nimport iconPerspective from '../../assets/icons/perspective.svg';\nimport iconPolarTransformation from '../../assets/icons/polar-transformation.svg';\nimport iconResize from '../../assets/icons/resize.svg';\nimport iconShift from '../../assets/icons/shift.svg';\nimport iconStatistics from '../../assets/icons/statistics.svg';\nimport iconTableAnalyzer from '../../assets/icons/table-analyzer.svg';\nimport iconTable from '../../assets/icons/table.svg';\nimport iconTransformation from '../../assets/icons/transformation.svg';\n// import iconUndoDisabled from '../../assets/icons/undo-disabled.svg';\n// import iconUndo from '../../assets/icons/undo.svg';\nimport iconWindow from '../../assets/icons/window.svg';\nimport ActionBar from '../../components/ActionBar';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport type Configuration from '../../protobuf/Configuration';\nimport Protobuf from '../../protobuf/Protobuf';\nimport type Proxy from '../../protobuf/Proxy';\nimport { setEditingFocus, setParameter } from '../../redux/actions';\nimport logger from '../../utils/logger';\nimport {\n  canReadToolSetView,\n  canEditToolSetView,\n  canAddTool,\n  canEditTool,\n  canDeleteTool,\n} from '../../utils/permissions';\nimport { isMathTool, MathTool } from './MathTool';\nimport ToolSetBar, { ToolSetBarProps } from './components/ToolSetBar';\nimport ToolSetup from './components/ToolSetup';\nimport TreebeardStyle from './components/TreebeardStyle';\n\nimport './style.scss';\n\nenum ActionType {\n  SELECT,\n  DELETE,\n  ADD,\n  COPY,\n  CUT,\n  PASTE,\n}\n\nexport interface ToolsetTreeNode extends TreeNode {\n  children?: ToolsetTreeNode[];\n  parentNode?: ToolsetTreeNode;\n  position: number;\n  isValid?: boolean;\n  toggled?: boolean;\n  objectID?: string;\n  objectType?: string | number;\n  objectSubType?: string | number;\n}\n\nconst sortToolSet = (a: ToolsetTreeNode, b: ToolsetTreeNode) => {\n  return a.position > b.position ? 1 : -1;\n};\n\nconst useStyles = makeStyles(() => ({\n  label: {\n    fontSize: '1.4rem',\n    transform: 'translate(10px, 12px) scale(1)',\n  },\n}));\n\ninterface ToolsetViewProps {\n  id: string;\n  inspectionId: string;\n}\n\nconst ToolsetView = ({ id: viewId, inspectionId }: ToolsetViewProps) => {\n  const proxy = useSelector<any>((state) => state.app?.proxy) as Proxy;\n  const inspections = useSelector<any>((state) => state.inspections) as any;\n  const dispatch = useDispatch();\n  const configuration = useSelector<any>((state) => state.app?.configuration) as Configuration;\n  const inspectionToolsetMappings = useSelector<any>(\n    (state) => state.app?.inspectionToolsetMappings,\n  ) as Map<any, any>;\n  const myPermissions = useSelector<any>((state) => state.app?.myPermissions) as Set<string>;\n  const classes = useStyles();\n\n  const [treeModel, setTreeModel] = useState<ToolsetTreeNode[]>([]);\n  const [filteredTreeModel, setFilteredTreeModel] = useState<ToolsetTreeNode[] | undefined>(\n    undefined,\n  );\n  const [cursor, setCursor] = useState<ToolsetTreeNode | null>(null);\n  const lastActionsStack = useRef<\n    {\n      type: ActionType;\n      from?: number;\n      to?: number;\n      position?: number;\n      tool?: ToolsetTreeNode;\n      toolId?: string;\n    }[]\n  >([]);\n  const [toolSetId, setToolSetId] = useState(0);\n  const [openConfirmDelete, setOpenConfirmDelete] = useState(false);\n  const [filterText, setFilterText] = useState('');\n\n  const sharedState = inspections?.[inspectionId]?.sharedState;\n\n  useEffect(() => {\n    if (configuration.inspectionToolsetMappings.size === 0) {\n      configuration\n        .setInspectionIdToToolsetMappings(proxy.protobuf)\n        .then(() => proxy.dispatchCurrentConfiguration(configuration));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const getToolsetTreeByInspectionId = (id: string) => {\n      if (!id) {\n        logger.warn('getToolsetTreeByInspectionId did not receive inspection id');\n        return;\n      } else if (inspectionToolsetMappings.size === 0) {\n        logger.warn('inspectionToolsetMappings is empty');\n        return;\n      }\n      return inspectionToolsetMappings.get(id);\n    };\n\n    const treeDataRaw = getToolsetTreeByInspectionId(inspectionId);\n    console.log(inspectionId, treeDataRaw); //!\n    setToolSetId(treeDataRaw?.toolSetId);\n\n    const createTreeNodes = (\n      node: ToolsetTreeNode | undefined | null,\n      parentNode?: ToolsetTreeNode,\n    ) => {\n      if (!node) {\n        return null;\n      }\n\n      const { name, isValid, position, objectID, objectType, objectSubType } = node;\n\n      const isLeaf = (child: ToolsetTreeNode) =>\n        !child.children?.length && child.position === -1 && !child.objectType;\n\n      const isMathToolNodeOrLeaf = isMathTool(node) || (isMathTool(parentNode) && isLeaf(node));\n\n      const toolsetTreeNode: ToolsetTreeNode = {\n        parentNode,\n        name: isMathToolNodeOrLeaf\n          ? name\n          : ((<span style={{ color: '#546E7A' }}>{name}</span>) as never),\n        isValid,\n        position,\n        objectID,\n        toggled: false,\n        objectType,\n        objectSubType,\n      };\n\n      const children = node.children?.reduce((acc, node) => {\n        const treeNode = createTreeNodes(node, toolsetTreeNode);\n        if (treeNode) {\n          acc.push(treeNode);\n        }\n        return acc;\n      }, [] as ToolsetTreeNode[]);\n\n      toolsetTreeNode.children = children?.length ? children : undefined;\n\n      return toolsetTreeNode;\n    };\n\n    const tree = createTreeNodes(treeDataRaw);\n\n    if (!tree?.children?.length) {\n      return;\n    }\n\n    const treeModel = tree.children.sort(sortToolSet);\n    setTreeModel(treeModel);\n  }, [inspectionToolsetMappings, inspectionId]);\n\n  useEffect(() => {\n    if (sharedState?.editingViewId !== viewId) {\n      updateTreeModel(\n        () => true,\n        () => ({\n          active: false,\n        }),\n      );\n      setCursor(null);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [sharedState?.editingViewId]);\n\n  const openMathToolTab = useCallback(\n    (tabNode: ToolsetTreeNode) => {\n      if (!sharedState || !tabNode.parentNode) {\n        return;\n      }\n      if (sharedState?.editingViewId !== viewId) {\n        dispatch(setEditingFocus(inspectionId, viewId));\n      }\n\n      dispatch(\n        setParameter({\n          component: (\n            <div className=\"math-tool-parameter-view\">\n              <MathTool\n                inspectionID={parseInt(inspectionId)}\n                data={tabNode.parentNode}\n                view={tabNode.name}\n              />\n            </div>\n          ),\n        }),\n      );\n    },\n    [dispatch, inspectionId, sharedState, viewId],\n  );\n\n  const updateTreeModel = useCallback(\n    (\n      targetNode: ToolsetTreeNode | ((node: ToolsetTreeNode) => boolean),\n      updateTargetData: (node: ToolsetTreeNode) => Partial<ToolsetTreeNode>,\n      updateOtherData?: (node: ToolsetTreeNode) => Partial<ToolsetTreeNode>,\n    ) => {\n      const mapToolsetTree = (tree: ToolsetTreeNode[]): ToolsetTreeNode[] => {\n        return tree.map((node) => {\n          const children = node.children?.length ? mapToolsetTree(node.children) : node.children;\n          if (typeof targetNode === 'function' ? targetNode(node) : node === targetNode) {\n            return { ...node, children, ...updateTargetData(node) };\n          } else {\n            return updateOtherData ? { ...node, children, ...updateOtherData(node) } : node;\n          }\n        });\n      };\n      setTreeModel(mapToolsetTree);\n    },\n    [],\n  );\n\n  const onNodeClicked = useCallback(\n    (node: ToolsetTreeNode, toggled: boolean) => {\n      const isLeaf = !node.children?.length && node.position === -1 && !node.objectType;\n\n      updateTreeModel(\n        node,\n        (node) => ({\n          active: true,\n          toggled: node.children?.length ? toggled || !node.active : node.toggled,\n        }),\n        () => ({ active: false }),\n      );\n\n      lastActionsStack.current.push({\n        type: ActionType.SELECT,\n        from: cursor?.position,\n        to: node.position,\n      });\n\n      setCursor(node);\n\n      if (isLeaf && isMathTool(node.parentNode)) {\n        openMathToolTab(node);\n      }\n    },\n    [cursor?.position, openMathToolTab, updateTreeModel],\n  );\n\n  const getCursorPositionAndObjectID = useCallback(() => {\n    if (!cursor) {\n      return { position: 0, objectID: null };\n    }\n    let node = cursor;\n    while (!node.position || node.position === -1) {\n      if (!node.parentNode) {\n        return { position: 0, objectID: null };\n      }\n      node = node.parentNode;\n    }\n\n    const index = treeModel.findIndex((treeNode) => treeNode.objectID === node.objectID);\n    const position = index !== -1 ? index + 1 : node.position ? node.position : 0;\n    return { position, objectID: node.objectID };\n  }, [cursor, treeModel]);\n\n  const setNext = useCallback(() => {\n    setCursor(null);\n  }, []);\n\n  const deleteTool = useCallback(\n    (objectId: string) => {\n      if (!cursor) {\n        return;\n      }\n      const { position } = cursor;\n      lastActionsStack.current.push({\n        type: ActionType.DELETE,\n        tool: { ...cursor, active: false },\n      });\n\n      proxy.deleteTool(inspectionId, objectId);\n      setTreeModel(treeModel.filter((treeNode) => treeNode.position !== position));\n      setNext();\n    },\n    [cursor, inspectionId, proxy, setNext, treeModel],\n  );\n\n  const handleConfirmDeleteClose = (confirmed: boolean) => {\n    if (confirmed && cursor?.objectID) {\n      deleteTool(cursor.objectID);\n    }\n    setOpenConfirmDelete(false);\n  };\n\n  const viewActions = useMemo(() => {\n    const expandTools = () => {\n      updateTreeModel(\n        () => true,\n        (node) => ({ toggled: !!node.children?.length }),\n      );\n    };\n\n    const collapseTools = () => {\n      updateTreeModel(\n        () => true,\n        () => ({ toggled: false }),\n      );\n    };\n\n    const copyTool = async () => {\n      if (!cursor) {\n        return;\n      }\n      const { objectID } = getCursorPositionAndObjectID();\n      lastActionsStack.current.push({\n        type: ActionType.COPY,\n        tool: { ...cursor, active: false },\n      });\n\n      await proxy.copyTool(inspectionId, objectID);\n    };\n\n    const cutTool = async () => {\n      if (!cursor) {\n        return;\n      }\n      const { position, objectID } = getCursorPositionAndObjectID();\n      lastActionsStack.current.push({\n        type: ActionType.CUT,\n        tool: { ...cursor, active: false },\n      });\n\n      await proxy.cutTool(inspectionId, objectID);\n      setNext();\n      setTreeModel(treeModel.filter((treeNode) => treeNode.position !== position));\n    };\n\n    const pasteTool = async () => {\n      if (!cursor) {\n        return;\n      }\n      const { objectID } = getCursorPositionAndObjectID();\n      lastActionsStack.current.push({\n        type: ActionType.PASTE,\n        tool: { ...cursor, active: false },\n      });\n\n      await proxy.pasteTool(inspectionId, objectID);\n    };\n\n    const canEdit = canEditTool(myPermissions);\n    const canDelete = canDeleteTool(myPermissions);\n    const actions = [\n      { intlId: 'copy', iconUrl: iconCopy, onClickHandler: copyTool, enabled: canEdit },\n      { intlId: 'cut', iconUrl: iconCut, onClickHandler: cutTool, enabled: canEdit },\n      { intlId: 'paste', iconUrl: iconPaste, onClickHandler: pasteTool, enabled: canEdit },\n      { intlId: 'expandAll', iconUrl: iconExpand, onClickHandler: expandTools, enabled: canEdit },\n      {\n        intlId: 'collapseAll',\n        iconUrl: iconCollapse,\n        onClickHandler: collapseTools,\n        enabled: canEdit,\n      },\n      {\n        intlId: 'delete',\n        iconUrl: iconDelete,\n        onClickHandler: () => setOpenConfirmDelete(true),\n        enabled: canDelete,\n      },\n    ];\n\n    return actions;\n  }, [\n    cursor,\n    getCursorPositionAndObjectID,\n    inspectionId,\n    myPermissions,\n    proxy,\n    setNext,\n    treeModel,\n    updateTreeModel,\n  ]);\n\n  const toolActions = useMemo<ToolSetBarProps['tools']>(() => {\n    const addTool = async (type: ActionType) => {\n      const { position } = getCursorPositionAndObjectID();\n      const newToolId = await proxy.addTool(inspectionId, toolSetId, type, position);\n      lastActionsStack.current.push({\n        type: ActionType.ADD,\n        position,\n        toolId: newToolId,\n      });\n    };\n    const canAdd = canAddTool(myPermissions);\n    return [\n      {\n        intlId: 'toolsetView.windowTool',\n        iconUrl: iconWindow,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.WindowToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.mathTool',\n        iconUrl: iconFunction,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.MathToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.statisticsTool',\n        iconUrl: iconStatistics,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.StatisticsToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.ringBufferTool',\n        iconUrl: iconLinear,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.RingBufferToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.archiveTool',\n        iconUrl: iconArchive,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ArchiveToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.acquisitionTool',\n        iconUrl: iconLinear,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.AcquisitionToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.transformationTool',\n        iconUrl: iconTransformation,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.TransformationToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.shiftTool',\n        iconUrl: iconShift,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ShiftToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.cylindricalWarpTool',\n        iconUrl: iconCylindricalWrap,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.CylindricalWarpToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.perspectiveTool',\n        iconUrl: iconPerspective,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.PerspectiveToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.imageTool',\n        iconUrl: iconImage,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ImageToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.linearTool',\n        iconUrl: iconLinear,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.LinearToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.colorTool',\n        iconUrl: iconColor,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ColorToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.resizeTool',\n        iconUrl: iconResize,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ResizeToolId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.loadImageTool',\n        iconUrl: iconLoadImage,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.LoadImageToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.tableTool',\n        iconUrl: iconTable,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.TableToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.tableAnalyzerTool',\n        iconUrl: iconTableAnalyzer,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.TableAnalyzerToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.polarTransformationTool',\n        iconUrl: iconPolarTransformation,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.PolarTransformationToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.loopTool',\n        iconUrl: iconLoop,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.LoopToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.externalTool',\n        iconUrl: iconExternal,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ExternalToolClassId),\n        enabled: canAdd,\n      },\n      {\n        intlId: 'toolsetView.groupTool',\n        iconUrl: iconGroup,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.GroupToolClassId),\n        enabled: canAdd,\n      },\n    ];\n  }, [getCursorPositionAndObjectID, inspectionId, proxy, toolSetId, myPermissions]);\n\n  const onChangeFilter: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement> = (\n    event,\n  ) => {\n    const text = event.target.value;\n    setFilterText(text);\n\n    const includesTextInReactElement = (element: ReactElement) => {\n      try {\n        return (\n          ReactDOMServer.renderToString(element).toLowerCase().indexOf(text.toLowerCase()) > -1\n        );\n      } catch (e) {\n        return false;\n      }\n    };\n    setFilteredTreeModel(\n      text\n        ? treeModel.filter((item) =>\n            typeof item.name === 'string'\n              ? item.name.toLowerCase().indexOf(text.toLowerCase()) > -1\n              : includesTextInReactElement(item.name),\n          )\n        : undefined,\n    );\n  };\n\n  if (canReadToolSetView(myPermissions) || canEditToolSetView(myPermissions)) {\n    return (\n      <div className=\"toolset-wrapper\">\n        <ConfirmDialog\n          open={openConfirmDelete}\n          onClose={(confirmed: boolean) => handleConfirmDeleteClose(confirmed)}\n          message={\n            <FormattedMessage id=\"toolsetView.confirmDelete\" values={{ toolName: cursor?.name }} />\n          }\n        />\n        <ToolSetBar tools={toolActions} />\n        <div className=\"toolset\">\n          <div className=\"overflow-auto h-100 w-100\" style={{ paddingBottom: 24 }}>\n            <div>\n              {cursor && <ToolSetup node={cursor} />}\n              <div className=\"w100\">\n                <TextField\n                  label=\"Filter\"\n                  type=\"text\"\n                  variant=\"outlined\"\n                  style={{ width: '100%' }}\n                  onChange={onChangeFilter}\n                  value={filterText}\n                  InputLabelProps={{ classes: { root: classes.label } }}\n                />\n              </div>\n              <Treebeard\n                data={filteredTreeModel ?? treeModel}\n                onToggle={(node, toggled) => onNodeClicked(node as never, toggled)}\n                style={TreebeardStyle}\n              />\n            </div>\n          </div>\n        </div>\n        <ActionBar isViewAction actions={viewActions} />\n      </div>\n    );\n  }\n  return <div></div>;\n};\n\nexport default ToolsetView;\n","import React from 'react';\nimport shortId from 'shortid';\n\nimport ImageStripView from './ImageStripView';\nimport ImageView from './ImageView';\nimport InputToolView from './InputToolView';\nimport ListView from './ListView';\nimport ParameterView from './ParameterView';\nimport RecipeView from './RecipeView';\nimport ToolsetView from './ToolsetView';\n\nconst mapViewSetArray = (views) => {\n  return views.reduce((viewSet, view) => ({ ...viewSet, [view.id]: view }), {});\n};\n\nconst configurations = [\n  {\n    title: 'No. of Cameras',\n    intlId: 'noOfCameras',\n    options: [\n      { title: '1', value: 1 },\n      { title: '2', value: 2 },\n      { title: '3', value: 3 },\n      { title: '4', value: 4 },\n    ],\n  },\n  {\n    title: 'No. of Triggers',\n    intlId: 'noOfTriggers',\n    options: [\n      { title: '1', value: 1 },\n      { title: '2', value: 2 },\n      { title: '3', value: 3 },\n      { title: '4', value: 4 },\n    ],\n  },\n  {\n    title: 'No. of MonitorLists',\n    intlId: 'noOfMonitors',\n    options: [\n      { title: '1', value: 1 },\n      { title: '2', value: 2 },\n      { title: '3', value: 3 },\n      { title: '4', value: 4 },\n    ],\n  },\n];\n\nexport const CONFIG_VIEW = 'CONFIG_VIEW';\nexport const TOOLSET_VIEW = 'TOOLSET_VIEW';\nexport const IMAGE_VIEW = 'IMAGE_VIEW';\nexport const PARAMETER_VIEW = 'PARAMETER_VIEW';\nexport const LIST_VIEW = 'LIST_VIEW';\nexport const IMAGE_STRIP_VIEW = 'IMAGE_STRIP_VIEW';\nexport const INPUT_TOOL_VIEW = 'INPUT_TOOL_VIEW';\n\nexport const DEFAULT_RECIPE_VIEWSET = 'DEFAULT_RECIPE_VIEWSET';\nexport const DEFAULT_EDIT_VIEWSET = 'DEFAULT_EDIT_VIEWSET';\nexport const DEFAULT_VIEWSET = 'DEFAULT_VIEWSET';\n\nexport const DEFAULT_VIEWSET_NAME = 'Initial';\n\nexport default class ViewSetFactory {\n  getViewSet = (id) => {\n    switch (id) {\n      case DEFAULT_VIEWSET:\n        return this.buildEmptyViewSet();\n      case DEFAULT_EDIT_VIEWSET:\n      case DEFAULT_RECIPE_VIEWSET:\n      default:\n        return null;\n    }\n  };\n\n  createViewInstance = (viewDesc, props) => {\n    const meta = this.getViewById(viewDesc.viewComponentClassId);\n    if (!meta) {\n      return false;\n    }\n\n    const key = `${viewDesc.viewComponentClassId}_${viewDesc.id}_${viewDesc.inspectionId}`;\n\n    const passedProps = {\n      ...meta.passedProps,\n      ...props,\n      key,\n    };\n\n    switch (meta.viewComponentClassId) {\n      case CONFIG_VIEW:\n        return <RecipeView {...passedProps} />;\n      case TOOLSET_VIEW:\n        return <ToolsetView {...passedProps} />;\n      case IMAGE_VIEW:\n        return <ImageView {...passedProps} />;\n      case PARAMETER_VIEW:\n        return <ParameterView {...passedProps} />;\n      case IMAGE_STRIP_VIEW:\n        return <ImageStripView {...passedProps} />;\n      case INPUT_TOOL_VIEW:\n        return <InputToolView {...passedProps} />;\n      case LIST_VIEW:\n        return <ListView {...passedProps} />;\n      default:\n        return <div>Unknown Component {meta.viewComponentClassId}</div>;\n    }\n  };\n\n  getViewById = (id) => {\n    switch (id) {\n      case CONFIG_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'recipeViewInspectionTemplate',\n          viewComponentClassId: CONFIG_VIEW,\n          passedProps: { configurations },\n        };\n      case TOOLSET_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'toolsetView.inspectionTemplate',\n          viewComponentClassId: TOOLSET_VIEW,\n        };\n      case IMAGE_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'imageView.inspectionTemplate',\n          viewComponentClassId: IMAGE_VIEW,\n        };\n      case PARAMETER_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'parameterView.inspectionTemplate',\n          viewComponentClassId: PARAMETER_VIEW,\n        };\n      case IMAGE_STRIP_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'imageStripView.inspectionTemplate',\n          viewComponentClassId: IMAGE_STRIP_VIEW,\n        };\n      case INPUT_TOOL_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'inputToolView.inspectionTemplate',\n          viewComponentClassId: INPUT_TOOL_VIEW,\n        };\n      case LIST_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'listView.inspectionTemplate',\n          viewComponentClassId: LIST_VIEW,\n        };\n      default:\n        return null;\n    }\n  };\n\n  buildRecipeViewSet = () => {\n    const views = [\n      this.getViewById(IMAGE_VIEW),\n      this.getViewById(LIST_VIEW),\n      this.getViewById(IMAGE_STRIP_VIEW),\n    ];\n    return {\n      id: DEFAULT_RECIPE_VIEWSET,\n      viewSet: mapViewSetArray(views),\n      initialValue: {\n        first: {\n          direction: 'row',\n          splitPercentage: 60,\n          first: views[0].id,\n          second: views[1].id,\n        },\n        direction: 'column',\n        splitPercentage: 75,\n        second: views[2].id,\n      },\n    };\n  };\n\n  buildEmptyViewSet = (name = DEFAULT_VIEWSET_NAME) => {\n    const emptyViewId = shortId.generate();\n    return {\n      id: name,\n      name,\n      viewSet: {\n        [emptyViewId]: {},\n      },\n      initialValue: emptyViewId,\n    };\n  };\n\n  buildEditViewSet = () => {\n    const views = [\n      this.getViewById(TOOLSET_VIEW),\n      this.getViewById(IMAGE_VIEW),\n      this.getViewById(PARAMETER_VIEW),\n    ];\n    return {\n      id: DEFAULT_VIEWSET,\n      viewSet: mapViewSetArray(views),\n      initialValue: {\n        direction: 'row',\n        first: views[0].id,\n        splitPercentage: 30,\n        second: {\n          direction: 'column',\n          splitPercentage: 45,\n          first: views[1].id,\n          second: views[2].id,\n        },\n      },\n    };\n  };\n\n  createNewViewSet = () => {\n    const views = [\n      {\n        id: shortId.generate(),\n        viewComponentClassId: TOOLSET_VIEW,\n        titleId: 'toolsetViewInspectionTemplate',\n      },\n    ];\n    return {\n      id: 'NEW_VIEWSET',\n      viewSet: mapViewSetArray(views),\n      initialValue: views[0].id,\n    };\n  };\n}\n","export default __webpack_public_path__ + \"static/media/regression.f027695f.svg\";","export default __webpack_public_path__ + \"static/media/run.eb40f6de.svg\";","export default __webpack_public_path__ + \"static/media/stop.44c5645f.svg\";","export default __webpack_public_path__ + \"static/media/test.47d9c7ad.svg\";","import editIcon from '../assets/icons/edit.svg';\nimport unknownIcon from '../assets/icons/help.svg';\nimport regressionIcon from '../assets/icons/regression.svg';\nimport runIcon from '../assets/icons/run.svg';\nimport stopIcon from '../assets/icons/stop.svg';\nimport testIcon from '../assets/icons/test.svg';\n\nconst modes = {\n  unknownMode: {\n    id: 'UNKNOWN_MODE',\n    iconSrc: unknownIcon,\n    text: '',\n  },\n  runMode: {\n    id: 'RUN_MODE',\n    iconSrc: runIcon,\n    text: '',\n  },\n  stopMode: {\n    id: 'STOP_MODE',\n    iconSrc: stopIcon,\n    text: '',\n  },\n  regressionMode: {\n    id: 'REGRESSION_MODE',\n    iconSrc: regressionIcon,\n    text: '',\n  },\n  testMode: {\n    id: 'TEST_MODE',\n    iconSrc: testIcon,\n    text: '',\n  },\n  editMode: {\n    id: 'EDIT_MODE',\n    iconSrc: editIcon,\n    text: '',\n  },\n};\n\nexport default modes;\n","import { useRef, useState } from 'react';\nimport { Portal } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport downloadIcon from '../../../assets/icons/download.svg';\nimport helpIcon from '../../../assets/icons/help.svg';\nimport aboutIcon from '../../../assets/icons/info.svg';\nimport logoutIcon from '../../../assets/icons/logout.svg';\nimport permissionsIcon from '../../../assets/icons/permissions.svg';\nimport saveIcon from '../../../assets/icons/save.svg';\nimport shortcutHelpIcon from '../../../assets/icons/shortcut-help.svg';\nimport uploadIcon from '../../../assets/icons/upload.svg';\nimport userIcon from '../../../assets/icons/user.svg';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { saveClientChunk } from '../../../redux/actions';\nimport { forceDownload } from '../../../utils/downloader';\nimport {\n  canEditUserManagement,\n  canReadSVOConfiguration,\n  canReadUserManagement,\n  canSaveConfig,\n  canWriteSVOConfiguration,\n} from '../../../utils/permissions';\nimport AboutView from '../../AboutView';\nimport HelpView from '../../HelpView';\nimport ShortcutView from '../../ShortcutView';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useUserInfoNavigation = (): NavigationItemType => {\n  const dispatch = useDispatch();\n  const currentState = useSelector((state) => state);\n  const { user, protobuf, myPermissions, proxy } = useSelector<any>((state) => state.app) as {\n    myPermissions: Set<string>;\n    proxy: Proxy;\n    [key: string]: any;\n  };\n  const unsavedChanges = useSelector<any>((state) => state.viewSet.unsavedChanges);\n  const intl = useIntl();\n  const history = useHistory();\n  const inputFile = useRef<HTMLInputElement>(null);\n\n  const [shortcutViewOpen, setShortcutViewOpen] = useState(false);\n  const [isHelpViewOpen, setIsHelpViewOpen] = useState(false);\n  const [isAboutViewOpen, setIsAboutViewOpen] = useState(false);\n\n  const downloadConfig = async () => {\n    const fileData = await proxy.downloadSVOConfig();\n    const blob = new Blob([fileData], { type: 'application/octet-stream' });\n    const url = URL.createObjectURL(blob);\n    forceDownload(url, `SVOConfig_${new Date().toISOString()}.svz`);\n  };\n\n  const onFileAdded: React.ChangeEventHandler<HTMLInputElement> = (event) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      const fileReader = new FileReader();\n      fileReader.readAsArrayBuffer(file);\n\n      fileReader.onload = (event) => {\n        const arrayBuffer = event.target?.result;\n        const array =\n          arrayBuffer instanceof ArrayBuffer ? new Uint8Array(arrayBuffer) : new Uint8Array();\n        proxy.uploadSVOConfig(file.name, array);\n      };\n    }\n  };\n\n  const children: NavigationItemType[] = [\n    {\n      id: 'saveConfig',\n      content: intl.messages['topNavigation.saveConfig'],\n      icon: saveIcon,\n      onClick: () => dispatch(saveClientChunk(protobuf, currentState)),\n      enabled: unsavedChanges ? canSaveConfig(myPermissions) : false,\n    },\n    {\n      id: 'permissions',\n      content: intl.messages['topNavigation.permissions'],\n      icon: permissionsIcon,\n      onClick: () => history.push('/permissions'),\n      enabled: canReadUserManagement(myPermissions) || canEditUserManagement(myPermissions),\n    },\n    {\n      id: 'download',\n      content: intl.messages['topNavigation.download'],\n      icon: downloadIcon,\n      onClick: downloadConfig,\n      enabled: canReadSVOConfiguration(myPermissions),\n    },\n    {\n      id: 'upload',\n      content: (\n        <>\n          {intl.messages['topNavigation.upload']}\n          <input\n            type=\"file\"\n            id=\"file\"\n            ref={inputFile}\n            style={{ display: 'none' }}\n            onChange={onFileAdded}\n          />\n        </>\n      ),\n      icon: uploadIcon,\n      onClick: async () => inputFile.current?.click?.(),\n      enabled: canWriteSVOConfiguration(myPermissions),\n    },\n    {\n      id: 'help',\n      icon: helpIcon,\n      content: (\n        <>\n          <span>{intl.messages['topNavigation.help']}</span>\n          <Portal container={document.body}>\n            <HelpView open={isHelpViewOpen} onClose={() => setIsHelpViewOpen(false)} />\n          </Portal>\n        </>\n      ),\n      onClick: () => !isHelpViewOpen && setIsHelpViewOpen(true),\n      enabled: true,\n    },\n    {\n      id: 'shortcutHelp',\n      icon: shortcutHelpIcon,\n      content: (\n        <>\n          <span>{intl.messages['topNavigation.shortcut']}</span>\n          <Portal container={document.body}>\n            <ShortcutView open={shortcutViewOpen} onClose={() => setShortcutViewOpen(false)} />\n          </Portal>\n        </>\n      ),\n      onClick: () => !shortcutViewOpen && setShortcutViewOpen(true),\n      enabled: true,\n    },\n    {\n      id: 'about',\n      icon: aboutIcon,\n      content: (\n        <>\n          <span>{intl.messages['topNavigation.about']}</span>\n          <Portal container={document.body}>\n            <AboutView open={isAboutViewOpen} onClose={() => setIsAboutViewOpen(false)} />\n          </Portal>\n        </>\n      ),\n      onClick: () => !isAboutViewOpen && setIsAboutViewOpen(true),\n      enabled: true,\n    },\n    {\n      id: 'logout',\n      icon: logoutIcon,\n      content: intl.messages['topNavigation.logout'],\n      onClick: async () => {\n        proxy.unsubscribeFromLockAcquisitionStream();\n        setImmediate(() => (window.location.href = `${window.location.origin}/logout`));\n      },\n      enabled: true,\n    },\n  ];\n\n  return {\n    id: 'user-info',\n    icon: userIcon,\n    content: user.fullname,\n    enabled: true,\n    children,\n  };\n};\n","export default __webpack_public_path__ + \"static/media/logout.34533d8e.svg\";","export default __webpack_public_path__ + \"static/media/permissions.ce764429.svg\";","export default __webpack_public_path__ + \"static/media/shortcut-help.d16d3001.svg\";","export default __webpack_public_path__ + \"static/media/upload.6f61d1e9.svg\";","export default __webpack_public_path__ + \"static/media/user.71fbff7c.svg\";","import { Component } from 'react';\nimport { Skeleton } from '@material-ui/lab';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport KoerberLogo from '../../assets/logo/logo.svg';\nimport Dialog from '../../components/Dialog';\nimport Logo from '../../components/layout/Logo';\n\nimport './style.scss';\n\nclass AboutView extends Component {\n  render() {\n    const { onClose, open, intl, configuration } = this.props;\n\n    if (!configuration) {\n      return <div />;\n    }\n\n    return (\n      <Dialog title={<FormattedMessage id=\"aboutView\" />} onClose={onClose} open={open}>\n        <div className=\"appname\">{process.env.REACT_APP_NAME}</div>\n        <div className=\"table\">\n          <div className=\"row\">\n            <div className=\"cell\">{intl.messages['aboutView.applicationVersion']}</div>\n            <div className=\"cell\">\n              {configuration.getWebAppVersion() || <Skeleton width=\"155px\" />}\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"cell\">{intl.messages['aboutView.svoVersion']}</div>\n            <div className=\"cell\">\n              {configuration.getSvObserverVersion() || <Skeleton width=\"155px\" />}\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"cell\">{intl.messages['aboutView.gatewayVersion']}</div>\n            <div className=\"cell\">\n              {configuration.getGatewayVersion() || <Skeleton width=\"155px\" />}\n            </div>\n          </div>\n        </div>\n        <div className=\"logo\">\n          <Logo src={KoerberLogo} title=\"logo\" />\n        </div>\n      </Dialog>\n    );\n  }\n}\n\nAboutView.defaultProps = {\n  open: false,\n};\n\nAboutView.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => {\n  try {\n    const { configuration } = state.app;\n    return { configuration };\n  } catch (error) {\n    return {};\n  }\n};\n\nexport default connect(mapStateToProps)(injectIntl(AboutView));\n","import { setProtobuf } from '../redux/actions';\nimport logger from '../utils/logger';\nimport Protobuf from './Protobuf';\nimport WebsocketConnector from './WebsocketConnector';\n\nexport default class ProtobufConnector {\n  constructor(url, dispatch, authToken) {\n    this.url = url;\n    this.dispatch = dispatch;\n    this.protobuf = new Protobuf();\n    this.websocketConnector = null;\n    this.connectionLost = false;\n    this.authToken = authToken;\n    this.connect();\n  }\n\n  connect = () => {\n    this.disconnect();\n\n    if (!this.authToken) {\n      logger.info('[ProtobufConnector] cannot connect yet. no auth token available');\n      return;\n    }\n\n    this.websocketConnector = new WebsocketConnector(\n      this.onConnect,\n      this.onMessage,\n      this.onClose,\n      this.onError,\n      this.url,\n      this.authToken,\n    );\n  };\n\n  connectWithToken = (token) => {\n    this.authToken = token;\n    this.connect();\n  };\n\n  disconnect = () => {\n    if (this.websocketConnector) {\n      this.websocketConnector.closeSocket();\n      this.websocketConnector = null;\n    }\n  };\n\n  onMessage = (data) => {\n    this.protobuf.readMessage(data);\n  };\n\n  onConnect = async (socket) => {\n    // Force a hard reload on re-conncet to make sure we start fresh\n    if (this.connectionLost) {\n      this.connectionLost = false;\n      setImmediate(() => {\n        window.location.href = `${window.location.origin}/`;\n      });\n      return;\n    }\n\n    // once we have a websocket connection established we publish the protobuf connector via store\n    this.dispatch(setProtobuf(this.protobuf, socket));\n  };\n\n  onClose = () => {\n    this.connectionLost = true;\n    // unsetting the socket will set proxy into disconnected\n    // state and will show the \"Connecting\" screen.\n    this.dispatch(setProtobuf(this.protobuf, /*socket=*/ null));\n  };\n\n  onError = (event) => {\n    console.error('Websocket error: ', event);\n  };\n}\n","import { Key } from 'react';\nimport { useIntl } from 'react-intl';\nimport shortId from 'shortid';\n\nimport './style.scss';\nimport { TOGGLE_BUTTON, SEPARATOR } from '../../types/ActionBarType';\nimport IconButton from '../buttons/IconButton';\nimport { ToggleButton } from '../buttons/ToggleButton';\n\nexport interface ActionBarType {\n  id?: Key;\n  intlId: string;\n  onClickHandler: () => void;\n  iconUrl: string;\n  enabled?: boolean;\n  type?: typeof TOGGLE_BUTTON | typeof SEPARATOR;\n  showAlternative?: boolean;\n  intlIdAlternative?: string;\n  iconUrlAlternative?: string;\n  onClickHandlerAlternative?: () => void;\n}\n\ninterface ActionBarProps {\n  actions: ActionBarType[];\n  isViewAction?: boolean;\n}\n\nconst ActionBar = ({ actions, isViewAction = false }: ActionBarProps) => {\n  const intl = useIntl();\n\n  return (\n    <div\n      className=\"action-bar-wrapper\"\n      style={{ position: isViewAction ? 'absolute' : 'relative' }}\n    >\n      {actions &&\n        actions.map((action) => {\n          if (action && action.type === SEPARATOR) {\n            return (\n              <div className=\"action-bar-separator\" key={`separator_${shortId.generate()}`}>\n                <div className=\"separator\"></div>\n              </div>\n            );\n          }\n          if (action && action.type === TOGGLE_BUTTON) {\n            return (\n              <ToggleButton\n                key={action.id}\n                id={action.id}\n                intlId={action.intlId}\n                iconUrl={action.iconUrl}\n                enabled={action.enabled}\n                onClickHandler={action.onClickHandler}\n                intlIdAlternative={action.intlIdAlternative}\n                iconUrlAlternative={action.iconUrlAlternative}\n                onClickHandlerAlternative={action.onClickHandlerAlternative}\n                showAlternative={action.showAlternative}\n              />\n            );\n          }\n\n          return (\n            <IconButton\n              key={action.intlId}\n              tooltip={intl.messages[`${action.intlId}` as never]}\n              onClick={() => {\n                action.onClickHandler();\n              }}\n              iconUrl={action.iconUrl}\n              enabled={action.enabled}\n            />\n          );\n        })}\n    </div>\n  );\n};\n\nexport default ActionBar;\n","import ReconnectingWebSocket from 'reconnecting-websocket';\n\nexport default class WebsocketConnector {\n  constructor(onConnect, onMessage, onClose, onError, url, token) {\n    this.onClose = onClose;\n    const protocol = token ? ['access_token', token] : undefined;\n    const options = { debug: false };\n    this.socket = new ReconnectingWebSocket(url, protocol, options);\n    this.socket.binaryType = 'arraybuffer';\n    this.socket.onopen = () => {\n      onConnect && onConnect(this.socket);\n    };\n    this.socket.onmessage = (e) => onMessage && onMessage(e.data, this.socket);\n    this.socket.onerror = (e) => onError && onError(e);\n    this.socket.onclose = () => onClose && onClose(this.socket);\n    this.socket.onconnecting = (e) => console.log('CONNECTING!', e);\n  }\n\n  closeSocket() {\n    if (this.socket) {\n      this.socket.close();\n    }\n  }\n}\n","import { FormattedMessage } from 'react-intl';\nimport {\n  addModeSwitchNotification,\n  addProjectLoadedNotification,\n  addProjectUnloadedNotification,\n  addProjectModifiedNotification,\n  addServerMessageNotification,\n  addRejectStreamPausedNotification,\n  addConfigAlreadyLockedBySameUser,\n  addTakeoverCandidateNotFoundNotification,\n  addLockAcquisitionErrorNotification,\n  addLockTakeoverErrorNotification,\n  loadClientChunk,\n  resetClientChunk,\n  loadDatabaseGatewayConfiguration,\n  setCurrentModeDone,\n  setCurrentConfiguration,\n  setConfigurationLock,\n  setPausedInspections,\n  showGlobalMessageOverlay,\n  hideGlobalMessageOverlay,\n  setSVOConfigLoaded,\n  setGroupPermissions,\n  setMyPermissions,\n  clearCurrentView,\n  setInpectionToolsetMappings,\n} from '../redux/actions';\nimport { defaultPermissions } from '../utils/defaultPermissions';\nimport { CONFIG_INFO, INSPECTION_TOOLSET_MAPPINGS } from '../utils/localStorage';\nimport logger from '../utils/logger';\nimport modes from '../utils/modes';\nimport {\n  flattenPermissionsRec,\n  canReadUserManagement,\n  canEditUserManagement,\n} from '../utils/permissions';\nimport { LOCK_ACQUISITION_REQUEST } from '../utils/sessionStorage';\nimport Configuration from './Configuration';\nimport ConfigurationLock from './ConfigurationLock';\nimport {\n  mapLogLevelNameToProtobufLogSeverity,\n  mapProtobufDeviceModeToWebAppMode,\n  mapWebAppModeToProtobufDeviceMode,\n} from './Mapper';\nimport ProductHistoryManager from './ProductHistoryManager';\nimport Protobuf from './Protobuf';\nimport SubscriptionManager from './SubscriptionManager';\n\nexport default class Proxy {\n  constructor(dispatch) {\n    this.dispatch = dispatch;\n    this.configInfo = null;\n    this.configLoadedFromCache = false;\n    this.currentConfiguration = null;\n    this.lock = null;\n    this.loading = false;\n    this.mode = null;\n    this.protobuf = null;\n    this.protobufInitialized = false;\n    this.observerNotificationSubscription = null;\n    this.observerMessageSubscription = null;\n    this.lockAcquisitionSubscription = null;\n    this.gatewayNotificationSubscription = null;\n    this.gatewayMessageSubscription = null;\n    this.nextSubId = 0;\n    this.productHistoryManager = new ProductHistoryManager();\n    this.subscriptionManager = new SubscriptionManager({\n      productHistoryManager: this.productHistoryManager,\n    });\n    this.showConnectingSplashScreen();\n  }\n\n  setMode(mode) {\n    this.onCurrentModeChanged(mode);\n  }\n\n  setProtobufStaticInitialized() {\n    this.protobufInitialized = true;\n    this.onProtobufChangedImpl();\n  }\n\n  setProtobuf(protobuf) {\n    this.protobuf = protobuf;\n    this.subscriptionManager.setProtobuf(protobuf);\n    this.onProtobufChangedImpl();\n  }\n\n  onProtobufChangedImpl() {\n    if (this.protobuf && this.protobuf.isConnected() && this.protobufInitialized) {\n      this.hideConnectingSplashScreen();\n      setImmediate(() => this.loadProject());\n    } else {\n      this.showConnectingSplashScreen();\n    }\n  }\n\n  sendLogsToServer = async (entries) => {\n    const logs = entries.map((e) => this.mapLogEntry(e));\n    const req = Protobuf.SvPb.StoreClientLogsRequest.create({\n      client: 'WebApp',\n      logs,\n    });\n    try {\n      if (this.protobuf) {\n        await this.protobuf.request(req);\n      }\n    } catch (e) {\n      console.error('Error while sending logs to server:', e);\n    }\n  };\n\n  mapLogEntry(entry) {\n    return {\n      severity: mapLogLevelNameToProtobufLogSeverity(entry.levelName),\n      message: JSON.stringify(entry),\n    };\n  }\n\n  async updateConfigLockStatus(status) {\n    if (!this.lock) {\n      this.lock = new ConfigurationLock({});\n    }\n    this.lock.owner = status.owner;\n    this.lock.lockDescription = status.description;\n    this.lock.host = status.host;\n    this.lock.status = status.status;\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  async dispatchCurrentConfiguration(configuration) {\n    this.dispatch(setCurrentConfiguration(new Configuration(configuration)));\n    Configuration.saveToCache(this.currentConfiguration, this.configInfo);\n    this.dispatchInspectionToolsetMappings(configuration.inspectionToolsetMappings);\n  }\n\n  dispatchInspectionToolsetMappings(mappings) {\n    this.dispatch(setInpectionToolsetMappings(new Map(mappings)));\n    localStorage.setItem(INSPECTION_TOOLSET_MAPPINGS, JSON.stringify(Array.from(mappings)));\n  }\n\n  async dispatchConfigurationLock(lock) {\n    this.dispatch(setConfigurationLock(new ConfigurationLock(lock)));\n  }\n\n  loadProject = async () => {\n    if (this.loading) {\n      this.loadProjectRequested = true;\n      return;\n    }\n\n    this.loading = true;\n    this.showLoadingSplashScreen();\n    try {\n      await this.getMyPermissions();\n      await this.getDatabaseGatewayConfig();\n      await this.discoverConfiguration();\n      await this.discoverDeviceMode();\n      this.subscribeToNotificationAndMessageStreams();\n      // only load the client chunk when we have a valid configuration\n      if (this.currentConfiguration) {\n        this.dispatch(setSVOConfigLoaded(true));\n        await this.currentConfiguration.discoverInspectionsWithConfigName(this.protobuf);\n        await this.loadClientChunk();\n      } else {\n        await this.resetClientChunk();\n        this.dispatch(setSVOConfigLoaded(false));\n      }\n\n      const request = sessionStorage.getItem(LOCK_ACQUISITION_REQUEST);\n      if (request) {\n        const reqInfo = JSON.parse(request);\n        if (reqInfo.user != this.lock.owner) {\n          reqInfo.requestTakeover = false;\n          this.sendLockAcquisitionStreamRequest(reqInfo);\n        }\n      }\n      // TODO: re-subscribe all current subscriptions?\n      // this.scheduleRebuildSubscriptions();\n      this.hideLoadingSplashScreen();\n    } catch (err) {\n      this.showLoadingErrorOverlay(err);\n    }\n    this.loading = false;\n\n    if (!this.configLoadedFromCache && this.currentConfiguration) {\n      try {\n        this.dispatchCurrentConfiguration(this.currentConfiguration);\n        this.setUpProductHistories(this.currentConfiguration);\n\n        this.currentConfiguration.discoverPartsInBackground(this.protobuf).then(() => {\n          this.dispatchCurrentConfiguration(this.currentConfiguration);\n        });\n      } catch (err) {\n        logger.error({ err }, 'Error loading configuration');\n        return;\n      }\n    }\n\n    if (this.loadProjectRequested) {\n      this.loadProjectRequested = false;\n      this.loadProject();\n    }\n  };\n\n  showConnectingSplashScreen() {\n    // can not call dispatch right away, because we reach this point\n    // while the store itself is still in initialization phase.\n    setImmediate(() => {\n      this.dispatch(\n        showGlobalMessageOverlay({\n          message: <p>Connecting</p>,\n        }),\n      );\n    });\n  }\n\n  hideConnectingSplashScreen() {\n    // This function might be triggered by a redux event itself.\n    // Use setImmediate to not trigger a redux event inside a\n    // redux event (which is forbidden).\n    setImmediate(() => {\n      this.dispatch(hideGlobalMessageOverlay());\n    });\n  }\n\n  showLoadingSplashScreen() {\n    this.dispatch(\n      showGlobalMessageOverlay({\n        message: <p>Loading Configuration</p>,\n      }),\n    );\n  }\n\n  showLoadingErrorOverlay(err) {\n    this.dispatch(\n      showGlobalMessageOverlay({\n        message: <p>Error while loading Configuration: {`${err}`}</p>,\n      }),\n    );\n  }\n\n  hideLoadingSplashScreen() {\n    this.dispatch(hideGlobalMessageOverlay());\n  }\n\n  async getConfigurationInfo() {\n    try {\n      let res = await this.protobuf.request(Protobuf.SvPb.GetConfigurationInfoRequest.create());\n\n      if (Object.keys(res).length === 0) {\n        logger.warn(\n          'Empty response for GetConfigurationInfoRequest, configuration in SVO not loaded',\n        );\n        return null;\n      }\n\n      if (!res.lastModified) {\n        res = {\n          ...res,\n          lastModified: res.loadedSince,\n        };\n      }\n\n      return res;\n    } catch (err) {\n      logger.error('GetConfigurationInfoRequest ERROR', err);\n    }\n\n    return null;\n  }\n\n  async discoverConfiguration() {\n    let cachedConfigInfo = null;\n    this.configInfo = await this.getConfigurationInfo();\n\n    if (!this.configInfo || !this.configInfo.loadedSince) {\n      this.currentConfiguration = null;\n      return;\n    }\n\n    try {\n      cachedConfigInfo = await JSON.parse(localStorage.getItem(CONFIG_INFO));\n    } catch (err) {\n      logger.error({ err }, 'Timestamp request failed');\n    }\n\n    let config = null;\n    // Timestamps should be equal but not null\n    if (\n      this.configInfo &&\n      cachedConfigInfo &&\n      cachedConfigInfo.hash === this.configInfo.hash &&\n      Number(cachedConfigInfo.lastModified) === this.configInfo.lastModified\n    ) {\n      config = await Configuration.loadFromCache();\n      const cachedMappings = localStorage.getItem(INSPECTION_TOOLSET_MAPPINGS);\n      if (cachedMappings) {\n        config.inspectionToolsetMappings = new Map(JSON.parse(cachedMappings));\n      }\n      this.dispatch(setCurrentConfiguration(config));\n      this.setUpProductHistories(config);\n      this.configLoadedFromCache = true;\n    } else {\n      config = new Configuration({});\n      this.dispatch(setCurrentConfiguration(config));\n      this.dispatch(clearCurrentView());\n      this.configLoadedFromCache = false;\n    }\n\n    this.dispatch(setInpectionToolsetMappings(new Map(config.inspectionToolsetMappings)));\n    this.currentConfiguration = config;\n  }\n\n  async onCurrentModeChanged(currentMode) {\n    // set internal mode to unknown while switching the mode to\n    // lower the possibility of running into errors in the\n    // subscription code, e.g. e.g. fetching images which are not\n    // accessible in certain modes\n    this.mode = modes.unknownMode.id;\n\n    const mode = mapWebAppModeToProtobufDeviceMode(currentMode);\n    const req = Protobuf.SvPb.SetDeviceModeRequest.create({ mode });\n    let res = null;\n    try {\n      res = await this.protobuf.request(req);\n    } catch (err) {\n      logger.error({ err }, 'Error while changing the mode');\n      return;\n    }\n\n    if (res.hResult) {\n      logger.error({ hResult: res.hResult }, 'Error while changing the mode');\n      return;\n    }\n\n    // Leaving this here as a safety net in case SVObserver is not\n    // informing us about the new mode via a notification. As we\n    // do nothing when the discovered mode is the one we already,\n    // have in this.mode, it is cheap to do it multiple times.\n    setTimeout(this.discoverDeviceMode, 500);\n  }\n\n  discoverDeviceMode = async () => {\n    let mode = null;\n    let modeName = null;\n    try {\n      const req = Protobuf.SvPb.GetDeviceModeRequest.create({});\n      const res = await this.protobuf.request(req);\n      modeName = res.mode;\n      mode = mapProtobufDeviceModeToWebAppMode(modeName);\n    } catch (err) {\n      logger.error({ err }, 'Error while fetching mode');\n    }\n\n    if (mode === null || this.mode === mode) {\n      return;\n    }\n\n    // Initially we get mode from SVObserver and no change happens\n    if (this.mode === null) {\n      this.mode = mode;\n      return;\n    }\n\n    logger.info(\n      { oldMode: this.mode, newMode: mode, newModeName: modeName },\n      'Discovered new mode',\n    );\n    this.mode = mode;\n\n    this.dispatch(addModeSwitchNotification(mode));\n    return this.dispatch(setCurrentModeDone(mode));\n  };\n\n  loadClientChunk() {\n    return this.dispatch(loadClientChunk(this));\n  }\n\n  resetClientChunk() {\n    return this.dispatch(resetClientChunk(this.protobuf));\n  }\n\n  getDatabaseGatewayConfig() {\n    return this.dispatch(loadDatabaseGatewayConfiguration(this.protobuf));\n  }\n\n  subscribeToNotificationAndMessageStreams() {\n    this.subscribeToObserverNotificationStream();\n    this.subscribeToObserverMessageStream();\n    this.subscribeToGatewayNotificationStream();\n    this.subscribeToGatewayMessageStream();\n  }\n\n  subscribeToObserverNotificationStream() {\n    this.unsubscribeFromObserverNotificationStream();\n    const req = Protobuf.SvPb.GetNotificationStreamRequest.create({});\n    this.observerNotificationSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onObserverNotification(evt),\n      error: (err) => this.onObserverNotificationError(err),\n      complete: () => logger.debug('Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromObserverNotificationStream() {\n    if (this.observerNotificationSubscription) {\n      this.observerNotificationSubscription.unsubscribe();\n    }\n  }\n\n  onObserverNotification({ type, parameter }) {\n    let fileName, configName;\n    switch (type) {\n      case Protobuf.SvPb.NotifyType.currentMode:\n        {\n          const mode = this.getVariantValue(parameter);\n          logger.debug({ mode }, 'Notification currentMode');\n          // the notification contains the new mode already, but it might be \"modeChanging\"\n          // so lets just fetch it from the SVObserver so we always have the actual mode.\n          this.discoverDeviceMode();\n        }\n        break;\n      case Protobuf.SvPb.NotifyType.lastModified:\n        {\n          const timestamp = this.getVariantValue(parameter) * 1000;\n          logger.debug({ timestamp: new Date(timestamp) }, 'Notification lastModified');\n          this.dispatch(addProjectModifiedNotification());\n          // TODO: mateusz@main.dev: modify updateProject when notification will contain inspectionId. ID should be passed as arg to updateProject\n          this.updateProject();\n        }\n        break;\n      case Protobuf.SvPb.NotifyType.configLoaded:\n        fileName = this.getVariantValue(parameter);\n        configName = Configuration.extractConfigNameFromFileName(fileName);\n        logger.debug({ fileName, configName }, 'Notification configLoaded');\n        this.dispatch(addProjectLoadedNotification(fileName));\n        this.loadProject();\n        break;\n      case Protobuf.SvPb.NotifyType.configUnloaded:\n        fileName = this.getVariantValue(parameter);\n        configName = Configuration.extractConfigNameFromFileName(fileName);\n        logger.debug({ fileName, configName }, 'Notification configUnloaded');\n        this.dispatch(addProjectUnloadedNotification(fileName));\n        this.loadProject();\n        break;\n      default:\n        logger.warn({ type, parameter }, 'Unknown notification type');\n        break;\n    }\n  }\n\n  async updateProject() {\n    if (!this.currentConfiguration) {\n      await this.discoverConfiguration();\n    }\n    await this.currentConfiguration.resetInspectionIdToToolsetMappings(this.protobuf);\n    this.dispatchInspectionToolsetMappings(this.currentConfiguration.inspectionToolsetMappings);\n  }\n\n  getVariantValue(variant) {\n    return variant && variant[variant.data];\n  }\n\n  formatMessageNotification(messageText, errorNumber) {\n    return (\n      <div>\n        <FormattedMessage id=\"notifications.checkSvimOutput\" />\n        {messageText && (\n          <div>\n            {errorNumber ? `(${errorNumber})` : ' '} {messageText}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  onObserverNotificationError(err) {\n    logger.error({ err }, 'Notification error');\n    this.unsubscribeFromObserverNotificationStream();\n  }\n\n  subscribeToObserverMessageStream() {\n    this.unsubscribeFromObserverMessageStream();\n    const req = Protobuf.SvPb.GetMessageStreamRequest.create({});\n    this.observerMessageSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onObserverMessage(evt),\n      error: (err) => this.onObserverMessageError(err),\n      complete: () => logger.debug('Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromObserverMessageStream() {\n    if (this.observerMessageSubscription) {\n      this.observerMessageSubscription.unsubscribe();\n    }\n  }\n\n  onObserverMessage(evt) {\n    const { type, messageList } = evt;\n    const { messages } = messageList;\n    logger.debug({ ...evt }, 'SVObserver message stream event');\n\n    switch (type) {\n      case Protobuf.SvPb.MessageType.startMsgBox:\n        {\n          if (!messages || messages.length !== 1) {\n            logger.warn({ type, messages }, 'Expected exactly one message in the message event');\n            return;\n          }\n          const firstMessage = messages[0];\n          const message = this.formatMessageNotification(\n            firstMessage.messageText,\n            firstMessage.messageCode,\n          );\n          this.dispatch(showGlobalMessageOverlay({ message }));\n        }\n        break;\n\n      case Protobuf.SvPb.MessageType.endMsgBox:\n        this.dispatch(hideGlobalMessageOverlay());\n        break;\n\n      case Protobuf.SvPb.MessageType.msgLog:\n        // TODO also handle severity\n        (messages || []).forEach(({ messageCode, messageText }) => {\n          this.dispatch(addServerMessageNotification(messageText, messageCode));\n        });\n        break;\n\n      default:\n        logger.warn({ type }, 'Unknown message event type');\n        break;\n    }\n  }\n\n  onObserverMessageError(err) {\n    logger.error({ err }, 'SVObserver message stream error');\n    this.unsubscribeFromObserverMessageStream();\n  }\n\n  subscribeToLockAcquisitionStream(reqInfo) {\n    if (reqInfo.requestTakeover) {\n      this.lock.waitForTakeoverResponse();\n      this.dispatchConfigurationLock(this.lock);\n    }\n    this.sendLockAcquisitionStreamRequest(reqInfo);\n  }\n\n  sendLockAcquisitionStreamRequest(reqInfo) {\n    const req = Protobuf.SvPb.LockAcquisitionStreamRequest.create(reqInfo);\n    this.lockAcquisitionSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onLockAcquisition(evt, reqInfo),\n      error: (err) => this.onLockAcquisitionError(err),\n      complete: () => logger.debug('Lock acquisition observable completed'),\n    });\n  }\n\n  async unsubscribeFromLockAcquisitionStream() {\n    sessionStorage.removeItem(LOCK_ACQUISITION_REQUEST);\n    if (this.lockAcquisitionSubscription) {\n      this.lockAcquisitionSubscription.unsubscribe();\n      this.lock = new ConfigurationLock({});\n      this.dispatchConfigurationLock(this.lock);\n      await this.getMyPermissions();\n    }\n  }\n\n  onLockAcquisition(evt, req) {\n    const notification = evt[evt.message];\n    logger.debug('message type: ' + JSON.stringify(evt, undefined, 2));\n    switch (evt.message) {\n      case 'lockAcquiredNotification': {\n        this.onLockAcquiredNotification(notification, req);\n        break;\n      }\n      case 'lockTakeoverNotification': {\n        this.onLockTakeoverNotification(notification);\n        break;\n      }\n      case 'lockReleasedNotification': {\n        this.onLockReleasedNotification();\n        break;\n      }\n      case 'lockAlreadyLockedNotification': {\n        this.onLockAlreadyLockedNotification(notification);\n        break;\n      }\n      case 'lockTakeoverRejectedNotification': {\n        this.onLockTakeoverRejectedNotification();\n        break;\n      }\n      default:\n        logger.warn({ type: evt.message }, 'Unknown lock acquisition notification type');\n        break;\n    }\n  }\n\n  onLockAcquisitionError(err) {\n    logger.error({ err }, 'Lock acquisition error: ' + JSON.stringify(err, undefined, 2));\n    if (err.code === 403) {\n      this.dispatch(addConfigAlreadyLockedBySameUser());\n    } else if (err.code === 404) {\n      this.dispatch(addTakeoverCandidateNotFoundNotification());\n    } else {\n      this.dispatch(addLockAcquisitionErrorNotification(err.code));\n    }\n  }\n\n  async onLockAcquiredNotification(notification, request) {\n    request['user'] = notification.user;\n    sessionStorage.setItem(LOCK_ACQUISITION_REQUEST, JSON.stringify(request));\n    this.lock.handleLockAcquiredNotification(notification);\n    this.dispatchConfigurationLock(this.lock);\n    await this.getMyPermissions();\n  }\n\n  onLockTakeoverNotification(notification) {\n    this.lock.handleLockTakeoverNotification(notification);\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  onLockReleasedNotification() {\n    this.lock.handleLockReleasedNotification();\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  onLockAlreadyLockedNotification(notification) {\n    this.lock.handleLockAlreadyLockedNotification(notification);\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  onLockTakeoverRejectedNotification() {\n    this.lock.handleLockTakeoverRejectedNotification();\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  closeAlertDialogs() {\n    this.lock.resetAlertDialogFlags();\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  async passConfigLock(reqInfo) {\n    const req = Protobuf.SvPb.LockTakeoverRequest.create(reqInfo);\n    try {\n      this.protobuf.request(req);\n      this.lock.resetTakeoverAttempt();\n      this.lock.lockedInSameAppInstance = false;\n      sessionStorage.removeItem(LOCK_ACQUISITION_REQUEST);\n    } catch (err) {\n      this.dispatch(addLockTakeoverErrorNotification(err.code));\n      logger.error({ err }, 'Error while perfroming config lock takeover');\n    }\n  }\n\n  async retainConfigLock(reqInfo) {\n    const req = Protobuf.SvPb.LockTakeoverRejectedRequest.create(reqInfo);\n    try {\n      await this.protobuf.request(req);\n      this.lock.resetTakeoverAttempt();\n      this.dispatchConfigurationLock(this.lock);\n    } catch (err) {\n      this.dispatch(addLockTakeoverErrorNotification(err.code));\n      logger.error({ err }, 'Error while perfroming config lock takeover');\n    }\n  }\n\n  subscribeToGatewayNotificationStream() {\n    this.unsubscribeFromGatewayNotificationStream();\n    const req = Protobuf.SvPb.GetGatewayNotificationStreamRequest.create({});\n    this.gatewayNotificationSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onGatewayNotification(evt),\n      error: (err) => this.onGatewayNotificationError(err),\n      complete: () => logger.debug('Gateway Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromGatewayNotificationStream() {\n    if (this.gatewayNotificationSubscription) {\n      this.gatewayNotificationSubscription.unsubscribe();\n    }\n  }\n\n  onGatewayNotification(evt) {\n    const value = evt[evt.message];\n    switch (evt.message) {\n      case 'rejectStreamPaused':\n        {\n          const { pausedInspectionIds } = value;\n          logger.debug({ pausedInspectionIds }, 'Notification rejectStreamPaused');\n          this.onPauseNotification(pausedInspectionIds);\n        }\n        break;\n      case 'configurationLockStatus':\n        {\n          logger.debug({ value }, 'Notification configurationLockStatus');\n          this.updateConfigLockStatus(value);\n          this.getMyPermissions();\n        }\n        break;\n      default:\n        logger.warn({ type: evt.message }, 'Unknown gateway notification type');\n        break;\n    }\n  }\n\n  onGatewayNotificationError(err) {\n    logger.error({ err }, 'Gateway Notification error');\n    this.unsubscribeFromGatewayNotificationStream();\n  }\n\n  subscribeToGatewayMessageStream() {\n    this.unsubscribeFromGatewayMessageStream();\n    const req = Protobuf.SvPb.GetGatewayMessageStreamRequest.create({});\n    this.gatewayMessageSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onGatewayMessage(evt),\n      error: (err) => this.onGatewayMessageError(err),\n      complete: () => logger.debug('Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromGatewayMessageStream() {\n    if (this.gatewayMessageSubscription) {\n      this.gatewayMessageSubscription.unsubscribe();\n    }\n  }\n\n  onGatewayMessage(evt) {\n    const {\n      type,\n      messageList: { messages = [] },\n    } = evt;\n    logger.debug({ ...evt }, 'Gateway message stream event');\n\n    switch (type) {\n      case Protobuf.SvPb.MessageType.startMsgBox:\n        {\n          if (messages.length !== 1) {\n            logger.warn({ type, messages }, 'Expected exactly one message in the message event');\n            return;\n          }\n          const firstMessage = messages[0];\n          const message = this.formatMessageNotification(\n            firstMessage.messageText,\n            firstMessage.messageCode,\n          );\n          this.dispatch(showGlobalMessageOverlay({ message }));\n        }\n        break;\n\n      case Protobuf.SvPb.MessageType.endMsgBox:\n        this.dispatch(hideGlobalMessageOverlay());\n        break;\n\n      case Protobuf.SvPb.MessageType.msgLog:\n        // TODO also handle severity\n        messages.forEach(({ messageCode, messageText }) => {\n          this.dispatch(addServerMessageNotification(messageText, messageCode));\n        });\n        break;\n\n      default:\n        logger.warn({ type }, 'Unknown message event type');\n        break;\n    }\n  }\n\n  onGatewayMessageError(err) {\n    logger.error({ err }, 'Gateway message stream error');\n    this.unsubscribeFromGatewayMessageStream();\n  }\n\n  subscribeToProductStream(desc, cb) {\n    const id = this._getNextSubId();\n    this.subscriptionManager.addSubscription(id, desc, cb);\n    return id;\n  }\n\n  unsubscribeFromProductStream(id) {\n    this.subscriptionManager.removeSubscription(id);\n  }\n\n  _getNextSubId() {\n    return `${++this.nextSubId}`;\n  }\n\n  setUpProductHistories(config) {\n    const inspections = config.getInspections();\n    this.productHistoryManager.init(inspections);\n  }\n\n  async replayProduct(inspectionId, product) {\n    await this.fetchMissingProductData(inspectionId, product);\n    this.subscriptionManager.replayProduct(inspectionId, product);\n  }\n\n  async fetchMissingProductData(inspectionId, product) {\n    const missingImageIds = this.getMissingProductImages(inspectionId, product);\n    const missingValueIds = this.getMissingProductValues(inspectionId, product);\n    if (missingImageIds.length === 0 && missingValueIds.length === 0) {\n      return;\n    }\n\n    const req = Protobuf.SvPb.GetProductDataRequest.create({\n      inspectionId,\n      trigger: product.trigger,\n      imageIds: missingImageIds,\n      valueIds: missingValueIds,\n      includeOverlays: true,\n    });\n    try {\n      const res = await this.protobuf.request(req);\n      await product.addData({\n        trigger: res.trigger,\n        imageIds: missingImageIds,\n        images: res.images,\n        overlays: res.overlays,\n        valueIds: missingValueIds,\n        values: res.values,\n      });\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  getMissingProductImages(inspectionId, product) {\n    const imageIds = this.subscriptionManager.getSubscribedImages(inspectionId);\n    return imageIds.filter((imageId) => product.getImage(imageId) === undefined);\n  }\n\n  getMissingProductValues(inspectionId, product) {\n    const valueIds = this.subscriptionManager.getSubscribedValues(inspectionId);\n    return valueIds.filter((valueId) => product.getValue(valueId) === undefined);\n  }\n\n  onPauseNotification(pausedInspectionIds) {\n    this.dispatch(addRejectStreamPausedNotification(pausedInspectionIds));\n    this.subscriptionManager.updatePausedInspections(pausedInspectionIds);\n    this.dispatch(setPausedInspections(pausedInspectionIds));\n  }\n\n  pauseRejectStream(inspectionId) {\n    this.pauseRejectStreamImpl(true, inspectionId);\n  }\n\n  resumeRejectStream(inspectionId) {\n    this.pauseRejectStreamImpl(false, inspectionId);\n  }\n\n  async pauseRejectStreamImpl(pause, inspectionId) {\n    const request = Protobuf.SvPb.SetRejectStreamPauseStateRequest.create({\n      inspectionId: inspectionId || undefined,\n      pause,\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async getMyPermissions() {\n    let response = {};\n    try {\n      const request = Protobuf.SvPb.GetMyPermissionsRequest.create();\n      response = await this.protobuf.request(request);\n    } catch (err) {\n      logger.error('Cannot get my permissions, fall back to default permissions');\n      response = defaultPermissions;\n    }\n\n    if (!response || !response.permissions) {\n      logger.error('Cannot get my permissions');\n      return false;\n    }\n\n    const myPermissions = new Set();\n    flattenPermissionsRec(response.permissions, myPermissions, '');\n    this.disablePermissionsWhenConfigLocked(myPermissions);\n    this.dispatch(setMyPermissions(myPermissions));\n\n    if (canReadUserManagement(myPermissions) || canEditUserManagement(myPermissions)) {\n      await this.getGroupPermissions();\n    }\n  }\n\n  disablePermissionsWhenConfigLocked(permissions) {\n    if (this.lock?.isUnlocked() || this.lock?.isLockedInDifferentAppInstance()) {\n      permissions.forEach((permission) => {\n        if (\n          permission.endsWith('.save') ||\n          permission.endsWith('.edit') ||\n          permission.endsWith('.write') ||\n          permission.endsWith('.remove') ||\n          permission.endsWith('.add')\n        ) {\n          permissions.delete(permission);\n        }\n      });\n    }\n  }\n\n  async getGroupPermissions() {\n    const request = Protobuf.SvPb.GetGroupDetailsRequest.create();\n    const response = await this.protobuf.request(request);\n\n    if (!response || !response.groupDetails) {\n      logger.error('Cannot get group permissions');\n      return false;\n    }\n\n    const flattenedPermissions = this.flattenPermissions(response.groupDetails);\n    this.dispatch(setGroupPermissions(flattenedPermissions));\n  }\n\n  flattenPermissions(groupDetails) {\n    const permissions = new Map();\n    (groupDetails || []).forEach((groupDetail) => {\n      const groupPermissions = new Set();\n      flattenPermissionsRec(groupDetail.permissions, groupPermissions, '');\n      permissions.set(groupDetail.name, {\n        groupPermissions,\n        users: groupDetail.users,\n      });\n    });\n    return permissions;\n  }\n\n  async setUserPermissions(groupPermissions) {\n    const request = Protobuf.SvPb.UpdateGroupPermissionsRequest.create({\n      groupPermissions,\n    });\n    try {\n      if (this.protobuf) {\n        await this.protobuf.request(request);\n        await this.getGroupPermissions();\n      }\n    } catch (e) {\n      logger.error({ e }, 'Error while setting user permissions');\n    }\n\n    logger.info('Successfully saved user permissions');\n  }\n\n  async updateToolsetData(inspectionId) {\n    await this.currentConfiguration.updateInspectionIdToToolsetMapping(this.protobuf, inspectionId);\n    this.dispatchInspectionToolsetMappings(this.currentConfiguration.inspectionToolsetMappings);\n  }\n\n  async addTool(inspectionID, ownerId, classId, taskObjectPos) {\n    const request = Protobuf.SvPb.InspectionCmdRequest.create({\n      inspectionID,\n      createObjectRequest: {\n        ownerId,\n        classId,\n        taskObjectPos,\n      },\n    });\n\n    try {\n      const response = await this.protobuf.request(request);\n      this.updateToolsetData(inspectionID);\n      return response?.createObjectResponse?.objectId;\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async deleteTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.InspectionCmdRequest.create({\n      inspectionID,\n      deleteObjectRequest: {\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n      this.updateToolsetData(inspectionID);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async downloadSVOConfig() {\n    const request = Protobuf.SvPb.GetConfigRequest.create({});\n\n    try {\n      const response = await this.protobuf.request(request);\n      return response?.fileData;\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async uploadSVOConfig(fileName, fileData) {\n    const request = Protobuf.SvPb.PutConfigRequest.create({\n      fileName,\n      fileData,\n    });\n\n    try {\n      const res = await this.protobuf.request(request);\n      if (res.hResult) {\n        logger.error({ hResult: res.hResult }, 'Could not load SVO configuration file');\n        return;\n      }\n      this.updateProject();\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async copyTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.ConfigCommandRequest.create({\n      inspectionID,\n      clipboardRequest: {\n        action: Protobuf.SvPb.ClipboardActionEnum.Copy,\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async cutTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.ConfigCommandRequest.create({\n      inspectionID,\n      clipboardRequest: {\n        action: Protobuf.SvPb.ClipboardActionEnum.Cut,\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async pasteTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.ConfigCommandRequest.create({\n      inspectionID,\n      clipboardRequest: {\n        action: Protobuf.SvPb.ClipboardActionEnum.Paste,\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n}\n","export const defaultPermissions = {\n  permissions: {\n    webapp: {\n      configuration: {\n        save: true,\n      },\n      logs: {\n        read: true,\n      },\n      viewset: {\n        add: true,\n        read: true,\n        edit: true,\n        remove: true,\n      },\n      view: [\n        {\n          type: 0,\n          add: true,\n          read: true,\n          edit: true,\n          remove: true,\n        },\n      ],\n    },\n    svobserver: {\n      mode: {\n        read: true,\n        edit: true,\n      },\n      inspectionstate: {\n        read: true,\n        edit: true,\n      },\n      value: {\n        read: true,\n        edit: true,\n      },\n      tool: {\n        read: true,\n        edit: true,\n        add: true,\n        remove: true,\n      },\n      configuration: {\n        read: true,\n        write: true,\n      },\n      notifications: {\n        subscribe: true,\n      },\n      clientlogs: {\n        store: true,\n      },\n      file: {\n        read: true,\n        write: true,\n      },\n      machinestate: {\n        set: true,\n      },\n      command: {\n        execute: true,\n      },\n    },\n    usermanagement: {\n      userpermissions: {\n        // currently set to false because default permissions are used as fallback if svobserver has not yet implemented permissions\n        read: false,\n        edit: false,\n      },\n    },\n  },\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\nimport Heading from '../../../../components/typo/Heading';\n\nconst ShortcutListItem = ({ title, description }) => (\n  <li className=\"shortcut-list-item\">\n    <Heading type=\"h3\" intlId={title} />\n    <FormattedMessage id={description} />\n  </li>\n);\n\nexport const propTypes = {\n  title: PropTypes.node.isRequired,\n  description: PropTypes.node.isRequired,\n};\nShortcutListItem.propTypes = propTypes;\n\nexport default ShortcutListItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport shortId from 'shortid';\n\nimport './style.scss';\nimport ShortcutListItem, { propTypes as shortcutListItemPropTypes } from '../ShortcutListItem';\n\nconst ShortcutList = ({ shortcuts }) => (\n  <ul className=\"shortcut-list\">\n    {shortcuts.map((shortcut) => (\n      <ShortcutListItem\n        key={shortId.generate()}\n        title={shortcut.title}\n        description={shortcut.description}\n      />\n    ))}\n  </ul>\n);\n\nShortcutList.propTypes = {\n  shortcuts: PropTypes.arrayOf(PropTypes.shape(shortcutListItemPropTypes)).isRequired,\n};\n\nexport default ShortcutList;\n","const shortcuts = [\n  {\n    title: 'shortcutView.fullscreenTitle',\n    description: 'shortcutView.fullscreenDescription',\n  },\n  {\n    title: 'shortcutView.helpTitle',\n    description: 'shortcutView.helpDescription',\n  },\n];\n\nexport default shortcuts;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport Dialog from '../../components/Dialog';\nimport ShortcutList from './components/ShortcutList';\nimport shortcuts from './shortcuts';\n\nconst ShortcutView = ({ open, onClose }) => (\n  <Dialog title={<FormattedMessage id=\"shortcutView.title\" />} onClose={onClose} open={open}>\n    <ShortcutList shortcuts={shortcuts} />\n  </Dialog>\n);\n\nShortcutView.defaultProps = {\n  open: false,\n};\n\nShortcutView.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default ShortcutView;\n","import Product from './Product';\n\nexport default class ProductHistory {\n  constructor(inspectionId) {\n    this.inspectionId = inspectionId;\n    this.history = [];\n  }\n\n  async addProductData(productData) {\n    const { trigger, isReject } = productData;\n    const entry = this.history.find((e) => e.trigger === trigger);\n    let product = null;\n    if (entry) {\n      product = entry.product;\n    } else {\n      product = new Product({ trigger, isReject, history: this });\n      this.history.push({\n        trigger,\n        product,\n      });\n    }\n\n    await product.addData(productData);\n\n    return product;\n  }\n\n  releaseProduct(trigger) {\n    const entry = this.history.find((entry) => entry.trigger === trigger);\n    if (!entry) {\n      return;\n    }\n\n    const wasReleased = entry.product.releaseImpl();\n    if (wasReleased) {\n      this.history = this.history.filter((e) => e !== entry);\n    }\n  }\n}\n","import ProductHistory from './ProductHistory';\n\nexport default class ProductHistoryManager {\n  constructor() {\n    this.productHistories = new Map();\n  }\n\n  init(inspections) {\n    this.productHistories.clear();\n\n    (inspections || []).forEach((inspection) => {\n      const inspectionId = inspection.id;\n      const history = new ProductHistory(inspectionId);\n      this.productHistories.set(inspectionId, history);\n    });\n  }\n\n  async addProductData(inspectionId, productData) {\n    const productHistory = this.productHistories.get(inspectionId);\n    if (!productHistory) {\n      return undefined;\n    }\n    return await productHistory.addProductData(productData);\n  }\n}\n","import each from 'lodash/each';\nimport logger from '../utils/logger';\nimport Protobuf from './Protobuf';\n\nexport default class InspectionSubscription {\n  constructor({ inspectionId, productHistoryManager, protobuf, paused }) {\n    this.inspectionId = inspectionId;\n    this.productHistoryManager = productHistoryManager;\n    this.protobuf = protobuf;\n    this.lastTrigger = -1;\n    this.subsById = new Map();\n    this.paused = paused;\n    this.selectedTrigger = null;\n    this.baseSub = null;\n  }\n\n  pause() {\n    this.paused = true;\n  }\n\n  resume() {\n    this.paused = false;\n    this.selectedTrigger = null;\n  }\n\n  replayProduct(product) {\n    this.selectedTrigger = product.trigger;\n    this.emitProductToAllSubscriptions(product);\n  }\n\n  addSubscription(id, desc, cb) {\n    const subscription = { id, desc, cb };\n    this.subsById.set(id, subscription);\n\n    const { inspectionId } = desc;\n    if (this.inspectionId !== inspectionId) {\n      throw new Error('Insection id does not match');\n    }\n\n    this.resubscribeToStream();\n  }\n\n  removeSubscription(id) {\n    const subscription = this.subsById.get(id);\n    if (!subscription) {\n      logger.warn({ id }, 'Unable to unsubscribe listener: unknown id');\n      return;\n    }\n\n    this.swapLastProduct(subscription, null);\n\n    this.subsById.delete(id);\n\n    this.resubscribeToStream();\n  }\n\n  isEmpty() {\n    return this.subsById.size === 0;\n  }\n\n  getSubscribedImages() {\n    return this.uniqueIds('imageIds');\n  }\n\n  getSubscribedValues() {\n    return this.uniqueIds('valueIds');\n  }\n\n  setProtobuf(protobuf) {\n    this.protobuf = protobuf;\n    // TODO re-subscribe!\n  }\n\n  resubscribeToStream() {\n    this.unsubscribeFromStream();\n    if (!this.isEmpty()) {\n      this.subscribeToStream();\n    }\n  }\n\n  subscribeToStream() {\n    // TODO generate nonce per subscription so we know whether we get an event for an old sub\n    const params = this.buildReqParams();\n    const req = Protobuf.SvPb.GetProductStreamRequest.create(params);\n    this.baseSub = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onStreamEvent(req, evt),\n      error: (err) => this.onStreamError(err),\n      // TODO: how do we want to report complete event to the client?\n      //       we could return an event emitter...\n      complete: () => logger.debug('Product observable completed'),\n    });\n  }\n\n  buildReqParams() {\n    return {\n      inspectionId: this.inspectionId,\n      startAtTriggerCount: this.getStartAtTriggerCount(),\n      includeFailStatusValues: true,\n      valueIds: this.uniqueIds('valueIds'),\n      imageIds: this.uniqueIds('imageIds'),\n      rejectValueIds: this.uniqueIds('rejectValueIds'),\n      rejectImageIds: this.uniqueIds('rejectImageIds'),\n      rejectsOnly: this.isRejectsOnly(),\n      imageFormat: Protobuf.SvPb.ImageFormatEnum.bmp,\n      includeOverlays: true,\n    };\n  }\n\n  getStartAtTriggerCount() {\n    let startAtTriggerCount = 0;\n    this.subsById.forEach((sub) => {\n      if (\n        !isNaN(sub.desc.startAtTriggerCount) &&\n        sub.desc.startAtTriggerCount < startAtTriggerCount\n      ) {\n        startAtTriggerCount = sub.desc.startAtTriggerCount;\n      }\n    });\n    if (startAtTriggerCount === -1 && this.trigger > 0) {\n      return this.trigger;\n    }\n    return startAtTriggerCount;\n  }\n\n  isRejectsOnly() {\n    let rejectsOnly = true;\n    this.subsById.forEach((sub) => {\n      if (!sub.desc.rejectsOnly) {\n        rejectsOnly = false;\n      }\n    });\n    return rejectsOnly;\n  }\n\n  uniqueIds(key) {\n    const ids = new Set();\n    this.subsById.forEach((sub) => {\n      each(sub.desc[key], (id) => ids.add(id));\n    });\n    return Array.from(ids);\n  }\n\n  unsubscribeFromStream() {\n    if (this.baseSub && this.baseSub.unsubscribe) {\n      this.baseSub.unsubscribe();\n    }\n    this.baseSub = null;\n  }\n\n  async onStreamEvent(req, rawEvent) {\n    const { trigger, isReject } = rawEvent;\n    const images = this.gatherImages(req, rawEvent);\n    const values = this.gatherValues(req, rawEvent);\n\n    const productData = {\n      trigger,\n      isReject,\n      images,\n      values,\n    };\n\n    const product = await this.productHistoryManager.addProductData(this.inspectionId, productData);\n    this.lastTrigger = trigger;\n    this.emitProductToAllSubscriptions(product);\n  }\n\n  gatherImages(req, rawEvent) {\n    const { imageIds, rejectImageIds } = req;\n    const { isReject, images, rejectImages, overlays: overlaysList, rejectOverlays } = rawEvent;\n\n    const result = new Map();\n\n    imageIds.forEach((id, idx) => {\n      const image = (images || [])[idx];\n      const overlays = (overlaysList || [])[idx];\n      if (image) {\n        result.set(id, {\n          id,\n          image,\n          overlays,\n        });\n      }\n    });\n\n    if (isReject) {\n      rejectImageIds.forEach((id, idx) => {\n        const image = (rejectImages || [])[idx];\n        const overlays = (rejectOverlays || [])[idx];\n        if (image) {\n          result.set(id, {\n            id,\n            image,\n            overlays,\n          });\n        }\n      });\n    }\n\n    return result;\n  }\n\n  gatherValues(req, rawEvent) {\n    const { valueIds, rejectValueIds } = req;\n    const { isReject, values, rejectValues } = rawEvent;\n\n    const result = new Map();\n\n    valueIds.forEach((id, idx) => {\n      const value = (values || [])[idx];\n      if (value) {\n        result.set(id, {\n          id,\n          value,\n        });\n      }\n    });\n\n    if (isReject) {\n      rejectValueIds.forEach((id, idx) => {\n        const value = (rejectValues || [])[idx];\n        if (value) {\n          result.set(id, {\n            id,\n            value,\n          });\n        }\n      });\n    }\n\n    return result;\n  }\n\n  emitProductToAllSubscriptions(product) {\n    this.subsById.forEach((subscription) => {\n      this.emitProductToSubscription(subscription, product);\n    });\n  }\n\n  emitProductToSubscription(subscription, product) {\n    const hasRequestedData = this.hasAllRequestedDataForSubscription(product, subscription);\n    const isInterestedIn = this.isInterestedInNewPorduct(product, subscription);\n    if (hasRequestedData && isInterestedIn) {\n      product.lock();\n      subscription.cb({ product });\n      this.swapLastProduct(subscription, product);\n    }\n  }\n\n  hasAllRequestedDataForSubscription(product, subscription) {\n    // if only reject values requested and product is not a reject\n    if (!subscription.desc.imageIds && !subscription.desc.valueIds && !product.isReject) {\n      return false;\n    }\n    return (\n      this.hasDataForSubscriptionInList(subscription.desc.valueIds, product.values) ||\n      this.hasDataForSubscriptionInList(subscription.desc.rejectValueIds, product.values) ||\n      this.hasDataForSubscriptionInList(subscription.desc.imageIds, product.images) ||\n      this.hasDataForSubscriptionInList(subscription.desc.rejectImageIds, product.images)\n    );\n  }\n\n  isInterestedInNewPorduct(product, subscription) {\n    if (this.selectedTrigger) {\n      return this.selectedTrigger === product.trigger;\n    }\n    if (subscription.lastProduct) {\n      return (\n        subscription.desc.allowOldTrigger || subscription.lastProduct.trigger < product.trigger\n      );\n    }\n    return true;\n  }\n\n  hasDataForSubscriptionInList(requestedIds, map) {\n    const arr = requestedIds || [];\n    for (let i = 0; i < arr.length; ++i) {\n      if (!map.has(arr[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  swapLastProduct(subscription, product) {\n    if (subscription.lastProduct && !subscription.desc.manualRelease) {\n      subscription.lastProduct.release();\n    }\n    subscription.lastProduct = product;\n  }\n\n  onStreamError(err) {\n    // TODO: forward err to callback\n    logger.error({ err }, 'Stream error');\n    // TODO: unsubscribe all in case of error!\n  }\n}\n","import logger from '../utils/logger';\nimport InspectionSubscription from './InspectionSubscription';\n\nexport default class SubscriptionManager {\n  constructor({ productHistoryManager }) {\n    this.productHistoryManager = productHistoryManager;\n    this.inspectionIdBySubId = new Map();\n    this.subsByInspectionId = new Map();\n    this.pausedInspectionIds = [];\n    this.protobuf = null;\n  }\n\n  updatePausedInspections(pausedInspectionIds) {\n    this.pausedInspectionIds = pausedInspectionIds;\n    for (let [key, value] of this.subsByInspectionId.entries()) {\n      if (pausedInspectionIds.includes(key)) {\n        value.pause();\n      } else {\n        value.resume();\n      }\n    }\n  }\n\n  replayProduct(inspectionId, product) {\n    const inspection = this.subsByInspectionId.get(inspectionId);\n    if (inspection) {\n      inspection.replayProduct(product);\n    }\n  }\n\n  addSubscription(id, desc, cb) {\n    const { inspectionId, startAtTriggerCount } = desc;\n    this.inspectionIdBySubId.set(id, inspectionId);\n    const isPaused = this.pausedInspectionIds.includes(inspectionId);\n    let subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      subscription = new InspectionSubscription({\n        inspectionId,\n        startAtTriggerCount,\n        productHistoryManager: this.productHistoryManager,\n        paused: isPaused,\n        protobuf: this.protobuf,\n      });\n      this.subsByInspectionId.set(inspectionId, subscription);\n    }\n    subscription.addSubscription(id, desc, cb);\n  }\n\n  removeSubscription(id) {\n    const inspectionId = this.inspectionIdBySubId.get(id);\n    if (!inspectionId) {\n      logger.warn({ id }, 'Unable to unsubscribe listener: unknown id');\n      return;\n    }\n\n    const subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      logger.warn({ id }, 'Unable to unsubscribe listener: unknown inspection id');\n      return;\n    }\n\n    subscription.removeSubscription(id);\n\n    if (subscription.isEmpty()) {\n      this.subsByInspectionId.delete(inspectionId);\n    }\n  }\n\n  getSubscribedImages(inspectionId) {\n    const subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      return [];\n    }\n    return subscription.getSubscribedImages();\n  }\n\n  getSubscribedValues(inspectionId) {\n    const subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      return [];\n    }\n    return subscription.getSubscribedValues();\n  }\n\n  setProtobuf(protobuf) {\n    this.protobuf = protobuf;\n    this.subsByInspectionId.forEach((subscription) => subscription.setProtobuf(protobuf));\n  }\n}\n","import React from 'react';\nimport classNames from 'classnames';\n\nimport { useIntl } from 'react-intl';\n\nimport closeIcon from '../../assets/icons/close.svg';\n\nimport ActionBar, { ActionBarType } from '../ActionBar';\nimport IconButton from '../buttons/IconButton';\n\nimport './style.scss';\n\ninterface DialogProps {\n  open?: boolean;\n  isInView?: boolean;\n  dialogActions?: ActionBarType[];\n  title?: React.ReactNode;\n  onClose?: () => void;\n  isFullscreen?: boolean;\n  isPositionAbsolute?: boolean;\n  isPopup?: boolean;\n}\n\nconst Dialog: React.FC<React.PropsWithChildren<DialogProps>> = ({\n  children,\n  open = false,\n  isInView = false,\n  isFullscreen = false,\n  isPopup = false,\n  isPositionAbsolute,\n  title,\n  dialogActions,\n  onClose,\n}) => {\n  const intl = useIntl();\n\n  const dialogClass = classNames({\n    dialog: true,\n    'dialog--open': open,\n    'is-in-view': isInView,\n    'is-position-absolute': isPositionAbsolute,\n  });\n  const dialogWrapperClass = classNames({\n    'dialog-wrapper': true,\n    'is-height-100': isInView || isFullscreen,\n    'is-width-100': isFullscreen,\n    isPopup: isPopup,\n  });\n\n  const dialogContentWrapperClass = classNames({\n    'dialog-content-wrapper': true,\n    'is-padding-0': isInView,\n    isPopup: isPopup,\n  });\n\n  if (!open) {\n    return null;\n  }\n  return (\n    <div className={dialogClass}>\n      <div className={dialogWrapperClass}>\n        <div className=\"dialog-toolbar\">\n          <div className=\"dialog-title\">{title}</div>\n          <div className=\"dialog-controll-wrapper\">\n            <IconButton\n              tooltip={intl.messages['viewSetManager.close']}\n              iconUrl={closeIcon}\n              onClick={onClose}\n            />\n          </div>\n        </div>\n        <div className={dialogContentWrapperClass}>{children}</div>\n        <div className=\"dialog-action-wrapper\">\n          {dialogActions && <ActionBar isViewAction actions={dialogActions} />}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dialog;\n","export default __webpack_public_path__ + \"static/media/edit.962e7af9.svg\";","const AUTH_TOKEN_KEY = 'svAuthToken';\nconst USER_KEY = 'svObserverUser';\nexport const CONFIG_INFO = 'configInfo';\nexport const CONFIGURATION_CHUNK_TEMPLATE = 'configChunk_';\nexport const CONFIGURATION_CHUNK_LIST = 'configChunkList';\nexport const INSPECTION_TOOLSET_MAPPINGS = 'inspectionToolsetMappings';\n\nexport const loadUserInfoFromStorage = () => {\n  const authToken = localStorage.getItem(AUTH_TOKEN_KEY);\n  if (!authToken) {\n    return {};\n  }\n\n  const userStr = localStorage.getItem(USER_KEY);\n  let user;\n  try {\n    user = JSON.parse(userStr);\n  } catch (e) {\n    return {};\n  }\n\n  if (!user) {\n    return {};\n  }\n\n  return { authToken, user };\n};\n\nexport const removeAllUserInfoFromStorage = () => {\n  localStorage.removeItem(AUTH_TOKEN_KEY);\n  localStorage.removeItem(USER_KEY);\n  localStorage.removeItem(CONFIG_INFO);\n  localStorage.removeItem(CONFIGURATION_CHUNK_LIST);\n};\n\nexport const saveUserInfoToStorage = (authToken, user) => {\n  localStorage.setItem(AUTH_TOKEN_KEY, authToken);\n  localStorage.setItem(USER_KEY, JSON.stringify(user));\n};\n","import PropTypes from 'prop-types';\n\nconst actionList = PropTypes.arrayOf(\n  PropTypes.shape({ intlId: PropTypes.string, iconUrl: PropTypes.string }),\n);\nconst ActionBarType = PropTypes.oneOfType([actionList, PropTypes.func]);\n\nexport const TOGGLE_BUTTON = 'TOGGLE_BUTTON' as const;\nexport const SEPARATOR = 'SEPARATOR' as const;\n\nexport default ActionBarType;\n","import React, { Key } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles } from '@material-ui/core/styles';\nimport { ClassNameMap } from '@material-ui/styles';\nimport union from 'lodash/union';\nimport Tree, { TreeNode } from 'rc-tree';\nimport { TreeProps } from 'rc-tree/lib/Tree';\nimport { TreeNodeProps } from 'rc-tree/lib/TreeNode';\nimport shortId from 'shortid';\n\nimport { isObjectValid } from '../../utils/objectValidator';\n\nimport './styles.scss';\n\nconst styles = () => ({\n  label: {\n    fontSize: '1.4rem',\n    transform: 'translate(10px, 12px) scale(1)',\n  },\n});\n\nconst NUMBER_FILTER_RESULTS = 100;\nconst NUMBER_OF_SELECTABLE_VALUES = 100;\n\nexport interface TreeNodeSchema {\n  id?: Key;\n  name?: string;\n  styledText?: JSX.Element;\n  children: TreeNodeSchema[];\n  location?: string;\n  title?: string;\n  halfChecked?: boolean[];\n  type?: string;\n}\n\ntype CheckInfo = { title?: string; node: TreeNodeSchema };\n\ninterface TreeContextSchema {\n  abortRecursion: boolean;\n  expandedFilteredKeys: Key[];\n  filteredLocations: string[];\n  filteredKeys: Key[];\n  countSelection: number;\n}\n\ninterface ObjectSelectorProps {\n  data: TreeNodeSchema;\n  selection?: Key[];\n  singleSelect?: boolean;\n  checkable?: boolean;\n  expandedKeys?: Key[];\n  onChange?: (ids: Key | Key[], checkedLocation?: string) => void;\n  onExpand?: (keys: Key[]) => void;\n  classes: Partial<ClassNameMap>;\n  filterIgnore?: string[];\n}\n\nclass ObjectSelector extends React.Component<ObjectSelectorProps> {\n  state = {\n    expandedKeys: [isObjectValid(() => this.props.data.children?.[0].location)].filter(\n      Boolean,\n    ) as Key[],\n    expandedFilteredKeys: [] as Key[],\n    checkedKeys: [] as Key[],\n    filteredCheckedKeys: [] as Key[],\n    inputValue: '',\n    filteredLocations: [] as string[],\n    filteredTree: undefined as TreeNodeSchema | undefined,\n    countedVisibleValues: 0,\n    countedPossibleValues: 0,\n    selectionLimitReached: false,\n    halfChecked: [] as string[],\n  };\n\n  componentDidMount() {\n    this.setSelection();\n    this.setExpandedKeys();\n  }\n\n  componentDidUpdate(prevProps: ObjectSelectorProps) {\n    const { selection, expandedKeys } = this.props;\n\n    if (selection && prevProps.selection !== selection && selection.length > 0) {\n      this.setSelection();\n    }\n\n    if (expandedKeys && prevProps.expandedKeys !== expandedKeys && expandedKeys.length > 0) {\n      this.setExpandedKeys();\n    }\n  }\n\n  setSelection = () => {\n    const { selection } = this.props;\n\n    this.setState({\n      checkedKeys: selection,\n    });\n  };\n\n  setExpandedKeys = () => {\n    const { expandedKeys } = this.props;\n    if (expandedKeys) {\n      this.setState({\n        expandedKeys: expandedKeys,\n      });\n    }\n  };\n\n  onExpand = (expandedKeys: Key[]) => {\n    if (this.state.inputValue) {\n      this.setState({\n        expandedFilteredKeys: expandedKeys,\n      });\n    } else {\n      this.props.onExpand?.(expandedKeys);\n      this.setState({\n        expandedKeys,\n      });\n    }\n  };\n\n  onCheck: TreeProps['onCheck'] = (checkedKeys, checkProps) => {\n    let limitedCheckedKeys = this.limitCheckedKeys(\n      checkedKeys as Key[],\n      NUMBER_OF_SELECTABLE_VALUES,\n    );\n    limitedCheckedKeys = this.checkUnselectingAll(limitedCheckedKeys, checkProps.node as never);\n\n    const filteredCheckedKeys = limitedCheckedKeys.slice();\n    if (this.state.inputValue) {\n      limitedCheckedKeys = this.updateCheckedKeys(limitedCheckedKeys);\n    }\n\n    limitedCheckedKeys = this.ensureSingleSelection(limitedCheckedKeys);\n\n    this.setChangedIds(limitedCheckedKeys, checkProps as never);\n    this.setState({\n      checkedKeys: limitedCheckedKeys,\n      filteredCheckedKeys,\n      selectionLimitReached: limitedCheckedKeys.length === NUMBER_OF_SELECTABLE_VALUES,\n    });\n  };\n\n  limitCheckedKeys = (keys: Key[], limit: number) => {\n    const halfChecked = [];\n    if (!limit || limit > keys.length) {\n      limit = keys.length;\n    }\n    const result = [];\n    let condition = Math.abs(limit);\n    let i = 0;\n    while (condition !== 0 && i < keys.length) {\n      if (parseInt(keys[i] as string, 10)) {\n        result.push(keys[i]);\n        condition--;\n      } else {\n        halfChecked.push(keys[i]);\n      }\n\n      i++;\n    }\n\n    this.setState({ halfChecked });\n\n    return result;\n  };\n\n  checkUnselectingAll = (keys: Key[], checkedNode: TreeNodeSchema) => {\n    const halfChecked = this.state.halfChecked.slice();\n    if (checkedNode.halfChecked) {\n      if (halfChecked.includes(checkedNode.title as string)) {\n        this.setState({ halfChecked: [] });\n        keys = [];\n      } else {\n        halfChecked.push(checkedNode.title as string);\n        this.setState({ halfChecked });\n      }\n    }\n    return keys;\n  };\n\n  updateCheckedKeys = (checkedKeys: Key[]) => {\n    const newSelectedKeys = checkedKeys.filter(\n      (key) => !this.state.filteredCheckedKeys.includes(key),\n    );\n    const newDeselectedKeys = this.state.filteredCheckedKeys.filter(\n      (key) => !checkedKeys.includes(key),\n    );\n    checkedKeys = union(newSelectedKeys, this.state.checkedKeys);\n    checkedKeys = checkedKeys.filter((key) => !newDeselectedKeys.includes(key));\n\n    return checkedKeys;\n  };\n\n  ensureSingleSelection = (checkedKeys: Key[]) => {\n    if (this.props.singleSelect) {\n      return [checkedKeys[checkedKeys.length - 1]] || [];\n    } else {\n      return checkedKeys;\n    }\n  };\n\n  setChangedIds = (ids: Key[], checkProps: CheckInfo) => {\n    const filteredIds = (ids || []).filter((id) => parseInt(id as string, 10) > 0);\n    if (this.props.singleSelect) {\n      const checkedLocation = this.getSelectedLocation(checkProps);\n      this.props.onChange?.(filteredIds[filteredIds.length - 1] || 0, checkedLocation);\n    } else {\n      this.props.onChange?.(filteredIds);\n    }\n  };\n\n  onChangeFilter: React.ChangeEventHandler<HTMLTextAreaElement | HTMLInputElement> = (event) => {\n    const { data } = this.props;\n    let filteredTree: TreeNodeSchema | undefined = undefined;\n\n    const inputValue = event.target.value || '';\n    const filteredInputValue = this.cutFilterIgnoreWords(inputValue.toLowerCase()) || '';\n    const initialChars = filteredInputValue.split('');\n    const ctx: TreeContextSchema = {\n      abortRecursion: false,\n      expandedFilteredKeys: [] as Key[],\n      filteredLocations: [] as string[],\n      filteredKeys: [] as Key[],\n      countSelection: 0,\n    };\n    const countCtx = {\n      countMatches: 0,\n    };\n\n    if (initialChars.length) {\n      const copy = initialChars.slice();\n      const children = [] as ReturnType<this['createFilteredShadowNode']>[];\n      this.filterNodesRecursively(data, initialChars, children, ctx);\n      this.countMatchingNodesRecursively(data, copy, countCtx);\n      filteredTree = children.length > 0 ? children[0] : { children: [] as TreeNodeSchema[] };\n    }\n\n    const filteredCheckedKeys = (this.state.checkedKeys ?? []).filter((key) =>\n      ctx.filteredKeys.includes(key),\n    );\n\n    this.setState({\n      filteredLocations: ctx.filteredLocations,\n      filteredTree,\n      filteredCheckedKeys,\n      expandedFilteredKeys: ctx.expandedFilteredKeys,\n      inputValue,\n      countedVisibleValues: ctx.countSelection,\n      countedPossibleValues: countCtx.countMatches,\n    });\n  };\n\n  cutFilterIgnoreWords = (filteredInput: string) => {\n    const { filterIgnore } = this.props;\n\n    if (filterIgnore) {\n      filterIgnore.forEach((filter) => {\n        filter = filter.toLowerCase();\n        if (filteredInput.startsWith(filter)) {\n          filteredInput = filteredInput.replace(filter, '');\n\n          if (filteredInput.startsWith('.')) {\n            filteredInput = filteredInput.slice(1);\n          }\n        }\n      });\n    }\n\n    return filteredInput;\n  };\n\n  filterNodesRecursively = (\n    node: TreeNodeSchema,\n    chars: string[],\n    shadowChildren: TreeNodeSchema[],\n    ctx: TreeContextSchema,\n  ) => {\n    if (!node) {\n      return false;\n    }\n    const positions: number[] = [];\n    let remainingChars: string[] = [];\n    if (chars.length > 0) {\n      remainingChars = this.consumeChars(node.name as string, chars, positions);\n    }\n\n    if (remainingChars.length === 0) {\n      ctx.filteredLocations.push(node.location as string);\n      if (node.id && node.children.length === 0) {\n        ctx.filteredKeys.push(node.id);\n      }\n    }\n\n    if (ctx.filteredKeys.length >= NUMBER_FILTER_RESULTS) {\n      ctx.abortRecursion = true;\n    }\n\n    const children: ReturnType<this['createFilteredShadowNode']>[] = [];\n    let childMatches = false;\n    if (node.children && !ctx.abortRecursion) {\n      node.children.forEach((child) => {\n        if (\n          !ctx.abortRecursion &&\n          this.filterNodesRecursively(child, remainingChars, children, ctx)\n        ) {\n          childMatches = true;\n        }\n      });\n    }\n\n    if (childMatches) {\n      ctx.expandedFilteredKeys.push(node.location as string);\n    }\n\n    const isMatchingSubtree = remainingChars.length === 0 || childMatches;\n    if (isMatchingSubtree) {\n      if (node.children.length === 0) {\n        ctx.countSelection++;\n      }\n      const shadowNode = this.createFilteredShadowNode(node, positions, children);\n      shadowChildren.push(shadowNode);\n    }\n    return isMatchingSubtree;\n  };\n\n  countMatchingNodesRecursively = (\n    node: TreeNodeSchema,\n    chars: string[],\n    countCtx: { countMatches: number },\n  ) => {\n    if (!node) {\n      return false;\n    }\n    const positions: number[] = [];\n    let remainingChars: string[] = [];\n    if (chars.length > 0) {\n      remainingChars = this.consumeChars(node.name as string, chars, positions);\n    }\n\n    let childMatches = false;\n    if (node.children) {\n      node.children.forEach((child) => {\n        if (this.countMatchingNodesRecursively(child, remainingChars, countCtx)) {\n          childMatches = true;\n        }\n      });\n    }\n\n    const isMatchingSubtree = remainingChars.length === 0 || childMatches;\n    if (isMatchingSubtree && node.children.length === 0) {\n      countCtx.countMatches++;\n    }\n\n    return isMatchingSubtree;\n  };\n\n  consumeChars = (str: string, chars: string[], positions: number[]) => {\n    str = str?.toLowerCase() ?? '';\n    let prevIdx = 0;\n    while (chars.length) {\n      if (chars[0] === '.') {\n        chars = chars.slice(1);\n        break;\n      }\n\n      const idx = str.indexOf(chars[0], prevIdx);\n      if (idx === -1) {\n        break;\n      }\n      positions.push(idx);\n      chars = chars.slice(1);\n      prevIdx = idx + 1;\n    }\n    return chars;\n  };\n\n  createFilteredShadowNode = (\n    node: TreeNodeSchema,\n    positions: number[],\n    children: TreeNodeSchema[],\n  ) => {\n    const styledText = this.highlightAtPositions(node.name as string, positions);\n    const shadowNode: TreeNodeSchema = {\n      ...node,\n      children,\n      styledText,\n    };\n    return shadowNode;\n  };\n\n  highlightAtPositions = (word: string, positions: number[]) => {\n    const result = [];\n    for (let i = 0; i < word.length; i++) {\n      if (positions.includes(i)) {\n        result.push([\n          <span className=\"filteredText\" key={`strong${shortId.generate()}`}>\n            {word.charAt(i)}\n          </span>,\n        ]);\n      } else {\n        result.push([word.charAt(i)]);\n      }\n    }\n    return <div key={`div${shortId.generate()}`}>{result}</div>;\n  };\n\n  createTreeNodes = (node: TreeNodeSchema, loop: (nodeSchema: TreeNodeSchema) => JSX.Element[]) => {\n    const defaultProps: TreeNodeProps = {\n      style: {},\n      onSelect: () => void 0,\n      icon: undefined,\n      switcherIcon: undefined,\n    };\n    if (node.children?.length > 0) {\n      return (\n        <TreeNode\n          // since nodes don't contain a value to subscribe and also don't have a id, we use the location as key\n          // we'll need to filter invalid ids from checkedKeys\n          {...defaultProps}\n          key={node.location}\n          title={node.styledText || node.name}\n          disableCheckbox={this.props.singleSelect}\n        >\n          {node.children.map(loop)}\n        </TreeNode>\n      );\n    }\n    //TODO: insect this missing location property\n    return (\n      <TreeNode\n        {...defaultProps}\n        key={node.id}\n        title={node.styledText || node.name} /*location={node.location}*/\n      />\n    );\n  };\n\n  getSelectedLocation = (childProps: CheckInfo) => {\n    if (isObjectValid(() => childProps.node.location)) {\n      return childProps.node.location as string;\n    }\n    return '';\n  };\n\n  render() {\n    const {\n      checkedKeys,\n      expandedKeys,\n      expandedFilteredKeys,\n      filteredTree,\n      filteredCheckedKeys,\n      inputValue,\n      countedVisibleValues,\n      countedPossibleValues,\n      selectionLimitReached,\n    } = this.state;\n    const loop = (node: TreeNodeSchema) => {\n      if (!node) {\n        return null;\n      }\n      return this.createTreeNodes(node, loop);\n    };\n\n    const className = inputValue ? 'unfilteredText' : '';\n    const expanded = inputValue ? expandedFilteredKeys : expandedKeys;\n    const rootNode = inputValue ? filteredTree : this.props.data;\n    const visibleCheckedKeys = inputValue ? filteredCheckedKeys : checkedKeys;\n    const treeNodes = rootNode?.name\n      ? (loop(rootNode) as unknown as JSX.Element[])\n      : (rootNode?.children ?? []).map(loop);\n\n    return (\n      <div className=\"object-selector\">\n        <div className=\"topmenu-wrapper\">\n          <div className=\"w100 text\">\n            <div className=\"infotext\">\n              <div className=\"pr2\">Select objects:</div>\n              {selectionLimitReached ? (\n                <div className=\"warning pr2\">\n                  {`(Selection limit of ${NUMBER_OF_SELECTABLE_VALUES} items reached)`}\n                </div>\n              ) : undefined}\n              {inputValue && treeNodes.length > 0 ? (\n                <div className=\"warning\">\n                  {`(${countedVisibleValues} of ${countedPossibleValues} matches are shown)`}\n                </div>\n              ) : undefined}\n            </div>\n          </div>\n          <div className=\"w100\">\n            <TextField\n              label=\"Filter\"\n              type=\"text\"\n              variant=\"outlined\"\n              style={{ width: '100%' }}\n              onChange={this.onChangeFilter}\n              value={this.state.inputValue}\n              InputLabelProps={{ classes: { root: this.props.classes.label } }}\n            />\n          </div>\n        </div>\n        <div>\n          {treeNodes.length > 0 ? (\n            //@ts-expect-error many missing properties are required and need to be set\n            <Tree\n              checkable={this.props.checkable ?? true}\n              showLine\n              autoExpandParent={true}\n              defaultExpandParent={true}\n              showIcon={false}\n              selectable={false}\n              onExpand={this.onExpand}\n              expandedKeys={expanded}\n              checkedKeys={visibleCheckedKeys}\n              onCheck={this.onCheck}\n              className={className}\n            >\n              {treeNodes}\n            </Tree>\n          ) : (\n            <div className=\"text\">No filter results</div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default withStyles(styles)(ObjectSelector);\n","import { useEffect, useRef, useState } from 'react';\nimport { Select, OutlinedInput, InputLabel, FormControl, makeStyles } from '@material-ui/core';\n\nconst useStyles = makeStyles(() => ({\n  input: {\n    height: 37,\n    fontSize: '1.4rem',\n  },\n  select: {\n    paddingTop: 0,\n    paddingBottom: 0,\n    fontSize: '1.4rem',\n  },\n  label: {\n    transform: 'translate(14px, 11px) scale(1)',\n    fontSize: '1.4rem',\n  },\n}));\n\ninterface OutlinedSelectionProps {\n  id?: string;\n  name?: string;\n  labels?: string[];\n  values: string[];\n  selectedValue: any;\n  onSelectionChanged?: (selection: Record<string, unknown>) => void;\n  disabled?: boolean;\n}\n\nexport const OutlinedSelection = ({\n  values,\n  labels,\n  selectedValue,\n  name = '',\n  id = '',\n  onSelectionChanged,\n  disabled,\n}: OutlinedSelectionProps) => {\n  const classes = useStyles();\n  const inputLabelRef = useRef<HTMLLabelElement>(null);\n\n  const [labelWidth, setLabelWidth] = useState(0);\n\n  useEffect(() => {\n    if (inputLabelRef.current) {\n      setLabelWidth(inputLabelRef.current.offsetWidth);\n    }\n  }, []);\n\n  return (\n    <FormControl variant=\"outlined\" style={{ width: '100%' }} disabled={disabled}>\n      <InputLabel htmlFor={id} ref={inputLabelRef} classes={{ outlined: classes.label }}>\n        {name}\n      </InputLabel>\n      <Select\n        native\n        value={selectedValue || ''}\n        onChange={(e) => onSelectionChanged?.({ [id]: e.target.value })}\n        classes={{ root: classes.input }}\n        input={\n          <OutlinedInput\n            name={name}\n            labelWidth={labelWidth}\n            id={id}\n            classes={{ input: classes.select }}\n          />\n        }\n      >\n        {!disabled &&\n          values.map((name, counter) => {\n            return (\n              <option value={name} key={id + counter}>\n                {(labels || values)[counter]}\n              </option>\n            );\n          })}\n      </Select>\n    </FormControl>\n  );\n};\n","export const isObjectValid = <FunctionType extends () => unknown>(prop: FunctionType) => {\n  try {\n    return prop() as ReturnType<FunctionType>;\n  } catch (error) {\n    return undefined;\n  }\n};\n","/* eslint-disable @typescript-eslint/ban-ts-comment */\nimport { createLogger } from 'browser-bunyan';\nimport browserStdout from 'browser-stdout';\nimport bunyanFormat from 'bunyan-format';\n\ninterface ProxyStreamOptions {\n  throttleInterval?: number;\n}\n\ninterface Message {\n  msg: string;\n  level: string | number;\n  sameMessageCount: number;\n}\n\nclass ProxyStream {\n  private proxy: typeof Proxy | null = null;\n  private pendingMessages: Message[] = [];\n  private readonly opts: ProxyStreamOptions;\n  private currentThrottleTimeout: NodeJS.Timeout | null = null;\n\n  constructor(opts: ProxyStreamOptions = {}) {\n    this.opts = opts;\n    this.start();\n  }\n\n  start() {\n    const { throttleInterval } = this.opts;\n\n    const throttleRequests = () => {\n      this.currentThrottleTimeout = setTimeout(() => {\n        const recs = this.pendingMessages;\n        this.pendingMessages = [];\n\n        if (recs.length > 0) {\n          if (!this.proxy) {\n            this.pendingMessages = recs;\n          } else {\n            //@ts-expect-error waiting for Proxy class to be written in typescript\n            this.proxy.sendLogsToServer(recs);\n          }\n        }\n        throttleRequests();\n      }, throttleInterval);\n    };\n\n    throttleRequests();\n  }\n\n  setProxy(proxy: typeof Proxy) {\n    this.proxy = proxy;\n\n    if (this.proxy && this.pendingMessages.length > 0) {\n      //@ts-expect-error waiting for Proxy class to be written in typescript\n      this.proxy.sendLogsToServer(this.pendingMessages);\n      this.pendingMessages = [];\n    }\n  }\n\n  removeProxy() {\n    this.proxy = null;\n    this.pendingMessages = [];\n  }\n\n  write(rec: Message) {\n    if (this.currentThrottleTimeout) {\n      const idx = this.pendingMessages.findIndex(\n        (message) => message.level === rec.level && message.msg === rec.msg,\n      );\n\n      if (idx >= 0) {\n        if (!this.pendingMessages[idx].sameMessageCount) {\n          this.pendingMessages[idx] = { ...this.pendingMessages[idx], sameMessageCount: 1 };\n        }\n        this.pendingMessages[idx].sameMessageCount++;\n      } else {\n        this.pendingMessages.push(rec);\n      }\n    }\n  }\n}\n\nclass FormatStream {\n  private readonly impl: ReturnType<typeof bunyanFormat>;\n\n  constructor() {\n    const out = browserStdout({\n      label: false,\n    });\n    this.impl = bunyanFormat(\n      {\n        outputMode: 'short',\n        color: false,\n      },\n      out,\n    );\n  }\n\n  write(rec: Message) {\n    this.impl.write(JSON.stringify(rec));\n  }\n}\n\nconst proxyStream = new ProxyStream({\n  throttleInterval: 3000,\n});\nconst formatStream = new FormatStream();\nconst logger = createLogger({\n  name: 'SvWebApp',\n  streams: [\n    {\n      level: 'warn',\n      stream: proxyStream,\n      //@ts-ignore\n      type: 'raw',\n    },\n    {\n      level: 'debug',\n      stream: formatStream,\n      //@ts-ignore\n      type: 'stream',\n    },\n  ],\n});\n\n//@ts-ignore\nlogger.setProxy = (proxy: typeof Proxy) => proxyStream.setProxy(proxy);\n//@ts-ignore\nlogger.removeProxy = () => proxyStream.removeProxy();\n\nexport default logger;\n","const de = {\n  // TopNavigation\n  \"topNavigation.language.german\": \"Deutsch\",\n  \"topNavigation.language.english\": \"Englisch\",\n  \"topNavigation.language.spanish\": \"Spanisch\",\n  \"topNavigation.lock\": \"Sperre\",\n  \"topNavigation.takeover\": \"Übernahme\",\n  \"topNavigation.release\": \"Freigabe\",\n  \"topNavigation.logout\": \"Abmelden\",\n  \"topNavigation.help\": \"Hilfe\",\n  \"topNavigation.about\": \"Info\",\n  \"topNavigation.shortcut\": \"Shortcut\",\n  \"topNavigation.download\": \"SVO-Konfiguration herunterladen\",\n  \"topNavigation.upload\": \"SVO-Konfiguration hochladen\",\n  \"topNavigation.inspectionState\": \"Inspektionsstatus ({runningInspections} von {numberOfInspections} aktiv)\",\n  \"topNavigation.permissions\": \"Rechte\",\n  \"topNavigation.saveConfig\": \"Konfiguration speichern\",\n\n  // there is a auto mapping in utils/modes.js\n  \"editMode\": \"Bearbeitungsmodus\",\n  \"unknownMode\": \"Unbekannter Modus\",\n  \"runMode\": \"Run-Modus\",\n  \"stopMode\": \"Stopp-Modus\",\n  \"regressionMode\": \"Regressionsmodus\",\n  \"testMode\": \"Testmodus\",\n\n  // LockStateHandler\n  \"lockStateHandler.alertDialog.lockAlreadyLocked\": \"Konfigurationssperre bereits gehalten von: {user}\",\n  \"lockStateHandler.alertDialog.lockDescription\": \"Beschreibung für Sperre: {description}\",\n  \"lockStateHandler.alertDialog.waitingForTakeoverResponse\": \"Warte auf Antwort von: {user}\",\n  \"lockStateHandler.alertDialog.waitingForResponseInfo\": \"Der aktuelle Halter der Konfigurationssperre wurde über Ihre Anfrage informiert und hat nun 30 Sekunden, um zu antworten. Wenn bis dahin keine Antwort eingeht, übernehmen Sie automatisch die Sperre.\",\n  \"lockStateHandler.alertDialog.ownerRejectedTakeover\": \"{user} hat die Übernahme der Konfigurationssperre abgelehnt.\",\n  \"lockStateHandler.alertDialog.takeoverAttempt\": \"{user} möchte die Konfigurationssperre übernehmen.\",\n  \"lockStateHandler.alertDialog.takeoverMessage\": \"Übernahmenachricht: {message}\",\n  \"lockStateHandler.formDialog.lockConfigRequestTitle\": \"Anforderung zur Konfigurationssperre\",\n  \"lockStateHandler.formDialog.takeoverConfigRequestTitle\": \"Anforderung zur Konfigurationsübernahme\",\n  \"lockStateHandler.formDialog.lockConfigRequestContent\": \"Um die Konfiguration zu sperren oder zu übernehmen, geben Sie alle Details ein. SVOGateway sendet gelegentlich Updates.\",\n  \"lockStateHandler.formDialog.lockScope\": \"Umfang der Sperre\",\n  \"lockStateHandler.formDialog.lockTimeout\": \"Time-out für Sperre\",\n  \"lockStateHandler.formDialog.lockDescription\": \"Beschreibung für Sperre\",\n  \"lockStateHandler.formDialog.takeoverRequest\": \"Anfrage zur Übernahme\",\n  \"lockStateHandler.formDialog.takeoverMessage\": \"Übernahmenachricht\",\n\n  // ImageStrip\n  \"imageStripView.inspectionTemplate\": \"{inspectionName} Filmstreifen\",\n  \"imageStripView.play\": \"Play\",\n  \"imageStripView.pause\": \"Pause\",\n\n  // InputTool\n  \"inputToolView.inspectionTemplate\": \"{inspectionName} Eingabe-Tool\",\n  \"inputToolView.edit\": \"Bearbeitungsansicht öffnen\",\n  \"inputToolView.showList\": \"Liste anzeigen\",\n  \"inputToolView.backToList\": \"Zurück zur Liste\",\n  \"inputToolView.type\": \"Typ\",\n  \"inputToolView.numberEditor\": \"Zahleneditor\",\n  \"inputToolView.colorEditor\": \"Farbeneditor\",\n  \"inputToolView.setValue\": \"Wert setzen\",\n  \"inputToolView.valueSetSuccess\": \"Wert wurde gesetzt\",\n\n  // ListView\n  \"listView\": \"Liste\",\n  \"listView.inspectionTemplate\": \"{inspectionName} Liste\",\n  \"listView.AliasEditor.title\": \"Alias für Pfadnamen setzen\",\n  \"listView.Actionbar.hideAliases\": \"Alias ausblenden\",\n  \"listView.Actionbar.showAliases\": \"Alias anzeigen\",\n  \"listView.AliasEditor.dottedName\": \"Pfadname\",\n  \"listView.AliasEditor.value\": \"Wert\",\n  \"listView.AliasEditor.button\": \"Speichern\",\n\n  // HelpView\n  \"helpView\": \"Hilfe\",\n\n  // AboutView\n  \"aboutView\": \"Über\",\n  \"aboutView.applicationName\": \"Name der Applikation:\",\n  \"aboutView.applicationVersion\": \"Version der Applikation:\",\n  \"aboutView.svoVersion\": \"SVObserver-Version:\",\n  \"aboutView.gatewayVersion\": \"Gateway-Version:\",\n\n  // ViewTypeSelection\n  \"viewTypeSelection.imageStripView\": \"Filmstreifen\",\n  \"viewTypeSelection.imageView\": \"Bild\",\n  \"viewTypeSelection.parameterView\": \"Parameter\",\n  \"viewTypeSelection.ListView\": \"Liste\",\n  \"viewTypeSelection.toolset\": \"Toolset\",\n  \"viewTypeSelection.inputTool\": \"Input tool\",\n  \"viewTypeSelection.back\": \"Zurück\",\n  \"viewTypeSelection.cancel\": \"Abbrechen\",\n  \"viewTypeSelection.chooseViewTooltip\": \"View-Typ wählen\",\n  \"viewTypeSelection.selectViewType\": \"Wählen Sie einen Typ für diese View:\",\n\n  // InspectionSelection\n  \"inspectionSelection.selectInspection\": \"Wählen Sie eine Inspektion für diese View:\",\n\n  // ParameterView / Overlay\n  \"parameterview.overlay.delete\": \"Löschen\",\n  \"parameterview.overlay.add\": \"Hinzufügen\",\n  \"parameterview.overlay.showAll\": \"Alle anzeigen\",\n  \"parameterview.overlay.hideAll\": \"Alle ausblenden\",\n\n  // ImageView\n  \"imageView.inspectionTemplate\": \"{inspectionName} Bild\",\n  \"imageView.zoomIn\": \"Hineinzommen\",\n  \"imageView.zoomOut\": \"Herauszommen\",\n  \"imageView.fitToWidth\": \"An Breite anpassen\",\n  \"imageView.fitToHeight\": \"An Höhe anpassen\",\n  \"imageView.saveWithOverlays\": \"Bild mit Overlays herunterladen\",\n  \"imageView.overlayListToggle\": \"Overlay-Liste\",\n  \"imageView.imageInfoToggle\": \"Bildinfo\",\n  \"imageView.save\": \"Bild herunterladen\",\n  \"imageView.showOverlays\": \"Overlays einblenden\",\n  \"imageView.hideOverlays\": \"Overlays ausblenden\",\n  \"imageView.info\": \"Info\",\n  \"imageView.width\": \"Breite:\",\n  \"imageView.height\": \"Höhe:\",\n  \"imageView.x\": \"X:\",\n  \"imageView.y\": \"Y:\",\n\n  // ParameterView\n  \"parameterView\": \"Parameter\",\n  \"parameterView.inspectionTemplate\": \"{inspectionName} Parameter\",\n\n  // ToolsetView\n  \"toolsetView.inspectionTemplate\": \"{inspectionName} Tool–Set\",\n  \"toolsetView.confirmDelete\": \"Möchten Sie {toolName} wirklich löschen? Dieser Vorgang kann nicht rückgängig gemacht werden.\",\n  \"toolsetView.validate\": \"Bestätigen\",\n  \"toolsetView.validateSelection\": \"Auswahl bestätigen\",\n  \"toolsetView.validatedFormula\": \"Validierte Formel\",\n  \"toolsetView.savingSuccess\": \"Die Änderungen wurden gespeichert\",\n  \"toolsetView.value\": \"Wert\",\n  \"toolsetView.link\": \"Link\",\n  \"toolsetView.formula\": \"Formel\",\n  \"toolsetView.selectLinkedValue\": \"Verknüpften Wert wählen\",\n  \"toolsetView.highlightedNode\": \"Hervorgehobener Knoten\",\n  \"toolsetView.undoAll\": \"Alles rückgängig machen\",\n  \"toolsetView.validating\": \"Validierung\",\n  \"toolsetView.validationSuccess\": \"Validierungserfolg\",\n  \"toolsetView.validationError\": \"Validierungsfehler\",\n  \"toolsetView.result\": \"Ergebnis\",\n\n  // AboutView\n  \"aboutView.title\": \"Über \",\n\n  // ViewSet Manager\n  \"viewSetManager\": \"View-Set-Manager\",\n  \"viewSetManager.title\": \"View-Set-Manager\",\n  \"viewSetManager.viewSetName\": \"Name\",\n  \"viewSetManager.remove\": \"Entfernen\",\n  \"viewSetManager.save\": \"Alle View-Sets speichern\",\n  \"viewSetManager.close\": \"Schließen\",\n  \"viewSetManager.editViewSetHeadline\": \"View-Sets bearbeiten:\",\n  \"viewSetManager.newViewSet\": \"Neues View-Set erstellen\",\n  \"viewSetManager.editViewSetName\": \"View-Set-Namen bearbeiten\",\n  \"viewSetManager.changeViewSetName\": \"View-Set-Namen ändern\",\n  \"viewSetManager.apply\": \"Änderungen übernehmen\",\n  \"viewSetManager.export\": \"Aktuelles View-Layout exportieren\",\n  \"viewSetManager.import\": \"View-Layout aus Datei importieren\",\n  \"viewSetManager.importConfirm.title\": \"View-Set überschreiben\",\n  \"viewSetManager.importConfirm.message\": \"Durch Importieren eines View-Sets aus einer Datei wird Ihr bestehendes View-Set überschrieben. Möchten Sie fortfahren?\",\n  \"viewSetManager.deleteConfirm.message\": \"Möchten Sie das View-Set {viewsetName} wirklich löschen?\",\n  \"viewSetManager.deleteIconTooltip\": \"View-Set löschen\",\n\n  // ShortcutView\n  \"shortcutView.title\": \"Shortcuts\",\n  \"shortcutView.fullscreenTitle\": \"Vollbild\",\n  \"shortcutView.fullscreenDescription\": \"Fokussieren Sie eine View und drücken Sie STRG-F\",\n  \"shortcutView.helpTitle\": \"Hilfe\",\n  \"shortcutView.helpDescription\": \"Fokussieren Sie eine View und drücken Sie F1\",\n\n  // Notifications\n  \"notifications.modeSwitch.userSwitchedModeTo\": \"Der Benutzer hat den Modus geändert zu:\",\n  \"notifications.websocket.connectionEstablished\": \"Websocket-Verbindung hergestellt auf Port:\",\n  \"notifications.websocket.connectionLost\": \"Websocket-Verbindung verloren\",\n  \"notifications.userSwitchedLanguage\": \"Der Benutzer hat die Sprache geändert zu: \",\n  \"notifications.rejectStreamPaused\": \"Reject-Stream wurde angehalten\",\n  \"notifications.rejectStreamResumed\": \"Reject-Stream wurde wieder aufgenommen\",\n  \"notifications.checkSvimOutput\": \"Bitte Ausgabe am SVIM prüfen\",\n  \"notifications.incompatibilityWarning\": \"Die ausgewählte Konfiguration ist möglicherweise nicht mit der aktuellen WebApp kompatibel\",\n  \"notifications.errorOccurred\": \"Ein Fehler ist aufgetreten\",\n  \"notifications.error.loadingFile\": \"Daten aus der Datei konnten nicht geladen werden.\",\n  \"notifications.successfulAction\": \"Erfolgreiche Aktion\",\n  \"notifications.successfullyLoadedFile\": \"View-Set wurde erfolgreich aus der Datei geladen.\",\n  \"notifications.viewsetVersionIncompatibleTitle\": \"Dateiversion inkompatibel\",\n  \"notifications.viewsetVersionIncompatibleMessage\": \"Die Dateiversion ist inkompatibel. Das View-Set kann nicht geladen werden.\",\n  \"notifications.minorVersionDiffTitle\": \"Unterschied in Minor-Version\",\n  \"notifications.minorVersionDiffMessage\": \"Minor-Version in Anwendung und Datei unterschiedlich. Das View-Set wird unter Umständen falsch dargestellt werden.\",\n  \"notifications.variableValueShouldBeInTheRange\": \"Der Wert der Variable {variableName} sollte im Bereich {range} liegen.\",\n  \"notifications.configAlreadyLockedBySameUser\": \"Sie haben die Konfiguration bereits gesperrt!\",\n  \"notifications.takeoverCandidateNotFound\": \"Übernahmekandidat konnte nicht gefunden werden! Sie besitzen weiterhin die Konfigurationssperre.\",\n  \"notifications.lockTakeoverError\": \"Fehler bei Übernahme der Konfigurationssperre! Fehler-Code: {code}\",\n  \"notifications.lockAcquisitionError\": \"Fehler bei Anforderung der Konfigurationssperre! Fehler-Code: {code}\",\n\n  // ListView\n  \"listView.save\": \"Speichern\",\n\n  // SVOView\n  \"svoView.emptyViewInspectionTemplate\": \"{inspectionName}\",\n  \"svoView.closeView\": \"View schließen\",\n  \"svoView.closeViewConfirmation\": \"Möchten Sie diese View wirklich schließen?\",\n\n  \"ok\": \"OK\",\n  \"cancel\": \"Abbrechen\",\n  \"submit\": \"Senden\",\n  \"close\": \"Schließen\",\n  \"accept\": \"Annehmen\",\n  \"reject\": \"Ablehnen\",\n  \"milliseconds\": \"Millisekunden\",\n  \"noConfigName\": \"[Keine Konfiguration]\",\n  \"unknownConfigName\": \"[Unbekannte Konfiguration]\",\n  \"noConfigLoaded\": \"Keine Konfiguration im SVObserver geladen\",\n  \"up\": \"Zurück\",\n  \"down\": \"Vor\",\n  \"save\": \"Speichern\",\n  \"copy\": \"Kopieren\",\n  \"cut\": \"Ausschneiden\",\n  \"paste\": \"Einfügen\",\n  \"delete\": \"Löschen\",\n  \"undo\": \"Rückgängig\",\n  \"expandAll\": \"Alles aufklappen\",\n  \"collapseAll\": \"Alles einklappen\",\n\n  // Permissions\n  \"permissions.backToWebApp\": \"Zurück zur WebApp\",\n  \"permissions.helpText\": \"Sie können die aufgelisteten Rechte für die jeweilige Gruppe (Spalte) anpassen. Rechte der Gruppe Common werden allen anderen Gruppen zugeordnet. Die Rechte haben möglicherweise Auswirkungen auf die WebApp und/oder den SVObserver.\",\n  \"permissions.permissions\": \"Rechte\",\n  \"permissions.permissionManagement\": \"Rechte-Verwaltung\",\n  \"permissions.description\": \"Beschreibung\",\n\n  // Permission descriptions\n  \"permissionDescription.webapp.configuration.save\": \"Der Nutzer kann die aktuelle Konfiguration mit allen View-Sets speichern\",\n  \"permissionDescription.webapp.logs.read\": \"Der Nutzer kann Logs in der oberen Navigationsleiste sehen\",\n  \"permissionDescription.webapp.viewset.add\": \"Der Nutzer kann neue View-Sets hinzufügen\",\n  \"permissionDescription.webapp.viewset.read\": \"Der Nutzer kann View-Sets sehen (zwischen View-Sets wechseln, View-Set-Manager öffnen)\",\n  \"permissionDescription.webapp.viewset.edit\": \"Der Nutzer kann View-Sets sehen und bearbeiten (Größe der Views ändern, neue Views zu View-Sets hinzufügen, zwischen View-Sets wechseln, View-Set-Manager öffnen, View-Sets umbenennen)\",\n  \"permissionDescription.webapp.viewset.remove\": \"Der Nutzer kann ein View-Set entfernen\",\n  \"permissionDescription.webapp.view[type=AnyView].add\": \"Der Nutzer kann Views aller Typen hinzufügen\",\n  \"permissionDescription.webapp.view[type=AnyView].read\": \"Der Nutzer kann Views aller Typen anzeigen\",\n  \"permissionDescription.webapp.view[type=AnyView].edit\": \"Der Nutzer kann Views aller Typen anzeigen und bearbeiten\",\n  \"permissionDescription.webapp.view[type=AnyView].remove\": \"Der Nutzer kann Views aller Typen entfernen\",\n  \"permissionDescription.webapp.view[type=ImageView].add\": \"Der Nutzer kann Views des Typs Bild hinzufügen\",\n  \"permissionDescription.webapp.view[type=ImageView].read\": \"Der Nutzer kann Views des Typs Bilds anzeigen (auch Bilder herunterladen, Liste eigener Overlays anzeigen, Bildinfo anzeigen)\",\n  \"permissionDescription.webapp.view[type=ImageView].edit\": \"Der Nutzer kann Views des Typs Bilds anzeigen und bearbeiten (Inspektion und Tool auswählen, Größe des Bildes ändern, Bilder herunterladen, Liste eigener Overlays anzeigen, Bildinfo anzeigen)\",\n  \"permissionDescription.webapp.view[type=ImageView].remove\": \"Der Nutzer kann Views des Typs Bild entfernen\",\n  \"permissionDescription.webapp.view[type=ListView].add\": \"Der Nutzer kann Views des Typs Liste hinzufügen\",\n  \"permissionDescription.webapp.view[type=ListView].read\": \"Der Nutzer kann Views des Typs Liste anzeigen\",\n  \"permissionDescription.webapp.view[type=ListView].edit\": \"Der Nutzer kann Views des Typs Liste anzeigen und bearbeiten (Inspektion und Tool wählen, Alias bearbeiten)\",\n  \"permissionDescription.webapp.view[type=ListView].remove\": \"Der Nutzer kann Views des Typs Liste entfernen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].add\": \"Der Nutzer kann Views des Typs Filmstreifen hinzufügen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].read\": \"Der Nutzer kann Views des Typs Filmstreifen anzeigen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].edit\": \"Der Nutzer kann Views des Typs Filmstreifen anzeigen und bearbeiten (Inspektion und Tool wählen)\",\n  \"permissionDescription.webapp.view[type=ImageStripView].remove\": \"Der Nutzer kann Views des Typs Filmstreifen entfernen\",\n  \"permissionDescription.webapp.view[type=ParameterView].add\": \"Der Nutzer kann Views des Typs Parameter hinzufügen\",\n  \"permissionDescription.webapp.view[type=ParameterView].read\": \"Der Nutzer kann Views des Typs Parameter anzeigen\",\n  \"permissionDescription.webapp.view[type=ParameterView].edit\": \"Der Nutzer kann Views des Typs Parameter anzeigen und bearbeiten (eigene Overlays hinzufügen, bearbeiten, löschen)\",\n  \"permissionDescription.webapp.view[type=ParameterView].remove\": \"Der Nutzer kann Views des Typs Parameter entfernen\",\n  \"permissionDescription.webapp.view[type=ToolSetView].add\": \"Der Nutzer kann Views des Typs Tool-Set hinzufügen\",\n  \"permissionDescription.webapp.view[type=ToolSetView].read\": \"Der Nutzer kann Views des Typs Tool-Set anzeigen\",\n  \"permissionDescription.webapp.view[type=ToolSetView].edit\": \"Der Nutzer kann Views des Typs Tool-Set anzeigen und bearbeiten\",\n  \"permissionDescription.webapp.view[type=ToolSetView].remove\": \"Der Nutzer kann Views des Typs Tool-Set entfernen\",\n  \"permissionDescription.svobserver.mode.read\": \"Der Nutzer kann den aktuellen Modus des SVObserver in der oberen Navigationsleiste sehen\",\n  \"permissionDescription.svobserver.mode.edit\": \"Der Nutzer kann den aktuellen Modus des SVObserver in der oberen Navigationsleiste sehen und ändern\",\n  \"permissionDescription.svobserver.inspectionstate.read\": \"Der Nutzer kann den Inspektionsstatus aller Inspektionen in der oberen Navigationsleiste sehen\",\n  \"permissionDescription.svobserver.inspectionstate.edit\": \"Der Nutzer kann den Inspektionsstatus aller Inspektionen in der oberen Navigationsleiste sehen und ändern sowie den Status in der Filmstreifen-View wechseln\",\n  \"permissionDescription.svobserver.value.read\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Werte zu sehen\",\n  \"permissionDescription.svobserver.value.edit\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Werte zu bearbeiten\",\n  \"permissionDescription.svobserver.tool.add\": \"SVObserver prüft, ob der Nutzer berechtigt ist, neue Tools hinzuzufügen\",\n  \"permissionDescription.svobserver.tool.read\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Tools zu lesen\",\n  \"permissionDescription.svobserver.tool.edit\": \"SVObserver prüft, ob der Nutzer berechtigt ist, bestehende Tools zu bearbeiten\",\n  \"permissionDescription.svobserver.tool.remove\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Tools zu entfernen\",\n  \"permissionDescription.svobserver.configuration.read\": \"SVObserver prüft, ob der Nutzer berechtigt ist, die SVObserver-Konfiguration zu lesen\",\n  \"permissionDescription.svobserver.configuration.write\": \"SVObserver prüft, ob der Nutzer berechtigt ist, die SVObserver-Konfiguration zu speichern\",\n  \"permissionDescription.svobserver.notifications.subscribe\": \"SVObserver prüft, ob der Nutzer berechtigt ist, SVObserver-Benachrichtigungen zu abonnieren\",\n  \"permissionDescription.svobserver.clientlogs.store\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Client-Logs an SVObserver zu senden\",\n  \"permissionDescription.svobserver.file.read\": \"SVObserver prüft, ob der Nutzer berechtigt ist, beliebige Dateien im Ordner SVIM RUN zu lesen\",\n  \"permissionDescription.svobserver.file.write\": \"SVObserver prüft, ob der Nutzer berechtigt ist, beliebige Dateien im Ordner SVIM RUN zu schreiben\",\n  \"permissionDescription.svobserver.machinestate.set\": \"SVObserver prüft, ob der Nutzer berechtigt ist, den Maschinenstatus zu setzen (Herunterfahren oder Neustart des SVIM)\",\n  \"permissionDescription.svobserver.command.execute\": \"SVObserver prüft, ob der Nutzer berechtigt ist, Befehle auszuführen\",\n  \"permissionDescription.usermanagement.userpermissions.read\": \"Der Nutzer kann Gruppenrechte aus dem Backend laden/das Menü für die Rechteverwaltung sehen/alle Rechte in Rechteverwaltung sehen\",\n  \"permissionDescription.usermanagement.userpermissions.edit\": \"Der Nutzer kann Gruppenrechte aus dem Backend laden/das Menü für die Rechteverwaltung sehen/alle Rechte in Rechteverwaltung sehen/Rechte ändern\",\n\n  // Debugger\n  \"debugger.title\": \"Debugger\",\n  \"debugger.backToWebApp\": \"Zurück zur WebApp\",\n  \"debugger.requestsListHeader\": \"Anforderungsliste\",\n  \"debugger.noParametersMessage\": \"Diese Anforderung hat keine Parameter\",\n  \"debugger.noItemsMessage\": \"(keine Items)\",\n  \"debugger.nothingToConfigureMessage\": \"(nichts zu konfigurieren)\",\n  \"debugger.addItemButtonText\": \"Hinzufügen\",\n  \"debugger.sendRequest\": \"Anfrage senden\",\n  \"debugger.noFilteredResultsMessage\": \"Keine gefilterten Ergebnisse\",\n  \"debugger.copyToClipboard\": \"In die Zwischenablage kopieren\",\n\n  // Toolset\n  \"toolsetView.windowTool\": \"Fenster-Tool\",\n  \"toolsetView.mathTool\": \"Mathe-Tool\",\n  \"toolsetView.statisticsTool\": \"Statistik-Tool\",\n  \"toolsetView.ringBufferTool\": \"Ringspeicher-Tool\",\n  \"toolsetView.archiveTool\": \"Archiv-Tool\",\n  \"toolsetView.acquisitionTool\": \"Aufnahme-Tool\",\n  \"toolsetView.transformationTool\": \"Transformations-Tool\",\n  \"toolsetView.shiftTool\": \"Verschiebe-Tool\",\n  \"toolsetView.cylindricalWarpTool\": \"Tool für zylindrisches Warping\",\n  \"toolsetView.perspectiveTool\": \"Perspektive-Tool\",\n  \"toolsetView.imageTool\": \"Bild-Tool\",\n  \"toolsetView.linearTool\": \"Linear-Tool\",\n  \"toolsetView.colorTool\": \"Farben-Tool\",\n  \"toolsetView.resizeTool\": \"Tool zur Größenänderung\",\n  \"toolsetView.loadImageTool\": \"Tool zum Laden von Bildern\",\n  \"toolsetView.tableTool\": \"Tabellen-Tool\",\n  \"toolsetView.tableAnalyzerTool\": \"Tabellenanalyse-Tool\",\n  \"toolsetView.polarTransformationTool\": \"Polar-Transformations-Tool\",\n  \"toolsetView.loopTool\": \"Loop-Tool\",\n  \"toolsetView.externalTool\": \"Externes Tool\",\n  \"toolsetView.groupTool\": \"Gruppen-Tool\",\n};\n\nexport default de;\n","const en = {\n  // TopNavigation\n  \"topNavigation.language.german\": \"German\",\n  \"topNavigation.language.english\": \"English\",\n  \"topNavigation.language.spanish\": \"Spanish\",\n  \"topNavigation.lock\": \"Lock\",\n  \"topNavigation.takeover\": \"Takeover\",\n  \"topNavigation.release\": \"Release\",\n  \"topNavigation.logout\": \"Logout\",\n  \"topNavigation.help\": \"Help\",\n  \"topNavigation.about\": \"Info\",\n  \"topNavigation.shortcut\": \"Shortcut\",\n  \"topNavigation.download\": \"Download SVO configuration\",\n  \"topNavigation.upload\": \"Upload SVO configuration\",\n  \"topNavigation.inspectionState\": \"Inspection state ({runningInspections} of {numberOfInspections} running)\",\n  \"topNavigation.permissions\": \"Permissions\",\n  \"topNavigation.saveConfig\": \"Save config\",\n\n  // there is a auto mapping in utils/modes.js\n  \"editMode\": \"Edit Mode\",\n  \"unknownMode\": \"Unknown mode\",\n  \"runMode\": \"Run Mode\",\n  \"stopMode\": \"Stop Mode\",\n  \"regressionMode\": \"Regression Mode\",\n  \"testMode\": \"Test Mode\",\n\n  // LockStateHandler\n  \"lockStateHandler.alertDialog.lockAlreadyLocked\": \"Configuration lock is already owned by: {user}\",\n  \"lockStateHandler.alertDialog.lockDescription\": \"Lock description: {description}\",\n  \"lockStateHandler.alertDialog.waitingForTakeoverResponse\": \"Waiting for response from: {user}\",\n  \"lockStateHandler.alertDialog.waitingForResponseInfo\": \"Current configuration lock owner has been notified of your request and has 30 seconds to respond from now on. If there is no response until then, you will automatically takeover the lock.\",\n  \"lockStateHandler.alertDialog.ownerRejectedTakeover\": \"{user} rejected the configuration lock takeover\",\n  \"lockStateHandler.alertDialog.takeoverAttempt\": \"{user} wants like to take over configuration lock\",\n  \"lockStateHandler.alertDialog.takeoverMessage\": \"Takeover message: {message}\",\n  \"lockStateHandler.formDialog.lockConfigRequestTitle\": \"Lock configuration request\",\n  \"lockStateHandler.formDialog.takeoverConfigRequestTitle\": \"Takeover configuration request\",\n  \"lockStateHandler.formDialog.lockConfigRequestContent\": \"To lock or takeover the configuration, please enter all details here. SVOGateway will send updates occasionally.\",\n  \"lockStateHandler.formDialog.lockScope\": \"Lock scope\",\n  \"lockStateHandler.formDialog.lockTimeout\": \"Lock timeout\",\n  \"lockStateHandler.formDialog.lockDescription\": \"Lock description\",\n  \"lockStateHandler.formDialog.takeoverRequest\": \"Takeover request\",\n  \"lockStateHandler.formDialog.takeoverMessage\": \"Takeover message\",\n\n  // ImageStrip\n  \"imageStripView.inspectionTemplate\": \"{inspectionName} Image Strip\",\n  \"imageStripView.play\": \"Play\",\n  \"imageStripView.pause\": \"Pause\",\n\n  // InputTool\n  \"inputToolView.inspectionTemplate\": \"{inspectionName} Input Tool\",\n  \"inputToolView.edit\": \"Open edit view\",\n  \"inputToolView.showList\": \"Show list\",\n  \"inputToolView.backToList\": \"Back to list\",\n  \"inputToolView.type\": \"Type\",\n  \"inputToolView.numberEditor\": \"Number editor\",\n  \"inputToolView.colorEditor\": \"Color editor\",\n  \"inputToolView.setValue\": \"Set value\",\n  \"inputToolView.valueSetSuccess\": \"Value has been set\",\n\n  // ListView\n  \"listView\": \"List\",\n  \"listView.inspectionTemplate\": \"{inspectionName} List\",\n  \"listView.AliasEditor.title\": \"Set alias for dotted name\",\n  \"listView.Actionbar.hideAliases\": \"Hide aliases\",\n  \"listView.Actionbar.showAliases\": \"Show aliases\",\n  \"listView.AliasEditor.dottedName\": \"Dotted name\",\n  \"listView.AliasEditor.value\": \"Value\",\n  \"listView.AliasEditor.button\": \"Save\",\n\n  // HelpView\n  \"helpView\": \"Help\",\n\n  // AboutView\n  \"aboutView\": \"About\",\n  \"aboutView.applicationName\": \"Application name:\",\n  \"aboutView.applicationVersion\": \"Application version:\",\n  \"aboutView.svoVersion\": \"SVObserver version:\",\n  \"aboutView.gatewayVersion\": \"Gateway version:\",\n\n  // ViewTypeSelection\n  \"viewTypeSelection.imageStripView\": \"Image Strip\",\n  \"viewTypeSelection.imageView\": \"Image\",\n  \"viewTypeSelection.parameterView\": \"Parameter\",\n  \"viewTypeSelection.ListView\": \"List\",\n  \"viewTypeSelection.toolset\": \"Tool Set\",\n  \"viewTypeSelection.inputTool\": \"Input tool\",\n  \"viewTypeSelection.back\": \"Back\",\n  \"viewTypeSelection.cancel\": \"Cancel\",\n  \"viewTypeSelection.chooseViewTooltip\": \"Choose view type\",\n  \"viewTypeSelection.selectViewType\": \"Select a type for this view:\",\n\n  // InspectionSelection\n  \"inspectionSelection.selectInspection\": \"Select an inspection for this view:\",\n\n  // ParameterView / Overlay\n  \"parameterview.overlay.delete\": \"Delete\",\n  \"parameterview.overlay.add\": \"Add\",\n  \"parameterview.overlay.showAll\": \"Show all\",\n  \"parameterview.overlay.hideAll\": \"Hide all\",\n\n  // ImageView\n  \"imageView.inspectionTemplate\": \"{inspectionName} Image\",\n  \"imageView.zoomIn\": \"Zoom in\",\n  \"imageView.zoomOut\": \"Zoom out\",\n  \"imageView.fitToWidth\": \"Fit to width\",\n  \"imageView.fitToHeight\": \"Fit to height\",\n  \"imageView.saveWithOverlays\": \"Download image with overlays\",\n  \"imageView.overlayListToggle\": \"Overlay list\",\n  \"imageView.imageInfoToggle\": \"Image info\",\n  \"imageView.save\": \"Download image\",\n  \"imageView.showOverlays\": \"Show overlays\",\n  \"imageView.hideOverlays\": \"Hide overlays\",\n  \"imageView.info\": \"Info\",\n  \"imageView.width\": \"Width:\",\n  \"imageView.height\": \"Height:\",\n  \"imageView.x\": \"X:\",\n  \"imageView.y\": \"Y:\",\n\n  // ParameterView\n  \"parameterView\": \"Parameter\",\n  \"parameterView.inspectionTemplate\": \"{inspectionName} Parameter\",\n\n  // ToolsetView\n  \"toolsetView.inspectionTemplate\": \"{inspectionName} Tool Set\",\n  \"toolsetView.confirmDelete\": \"Do you really want to delete {toolName}? This cannot be undone.\",\n  \"toolsetView.validate\": \"Validate\",\n  \"toolsetView.validateSelection\": \"Validate selection\",\n  \"toolsetView.validatedFormula\": \"Validated formula\",\n  \"toolsetView.savingSuccess\": \"Changes have been saved\",\n  \"toolsetView.value\": \"Value\",\n  \"toolsetView.link\": \"Link\",\n  \"toolsetView.formula\": \"Formula\",\n  \"toolsetView.selectLinkedValue\": \"Select linked value\",\n  \"toolsetView.highlightedNode\": \"Highlighted node\",\n  \"toolsetView.undoAll\": \"Undo all\",\n  \"toolsetView.validating\": \"Validating\",\n  \"toolsetView.validationSuccess\": \"Validation success\",\n  \"toolsetView.validationError\": \"Validation error\",\n  \"toolsetView.result\": \"Result\",\n\n  // AboutView\n  \"aboutView.title\": \"About \",\n\n  // ViewSet Manager\n  \"viewSetManager\": \"View Set Manager\",\n  \"viewSetManager.title\": \"View Set Manager\",\n  \"viewSetManager.viewSetName\": \"Name\",\n  \"viewSetManager.remove\": \"Remove\",\n  \"viewSetManager.save\": \"Save all view sets\",\n  \"viewSetManager.close\": \"Close\",\n  \"viewSetManager.editViewSetHeadline\": \"Edit view sets:\",\n  \"viewSetManager.newViewSet\": \"Create new view set\",\n  \"viewSetManager.editViewSetName\": \"Edit view set name\",\n  \"viewSetManager.changeViewSetName\": \"Change view set name\",\n  \"viewSetManager.apply\": \"Apply changes\",\n  \"viewSetManager.export\": \"Export current view layout\",\n  \"viewSetManager.import\": \"Import a view layout from file\",\n  \"viewSetManager.importConfirm.title\": \"Overwriting view set\",\n  \"viewSetManager.importConfirm.message\": \"Importing a view set from file will overwrite your existing viewset. Do you want to continue?\",\n  \"viewSetManager.deleteConfirm.message\": \"Do you really want to delete view set {viewsetName}?\",\n  \"viewSetManager.deleteIconTooltip\": \"Delete view set\",\n\n  // ShortcutView\n  \"shortcutView.title\": \"Shortcuts\",\n  \"shortcutView.fullscreenTitle\": \"Full screen\",\n  \"shortcutView.fullscreenDescription\": \"Focus a view and press CTRL-F\",\n  \"shortcutView.helpTitle\": \"Help\",\n  \"shortcutView.helpDescription\": \"Focus a view and press F1\",\n\n  // Notifications\n  \"notifications.modeSwitch.userSwitchedModeTo\": \"User switched mode to:\",\n  \"notifications.websocket.connectionEstablished\": \"Websocket connection established on port:\",\n  \"notifications.websocket.connectionLost\": \"Websocket connection lost\",\n  \"notifications.userSwitchedLanguage\": \"User switched language to: \",\n  \"notifications.rejectStreamPaused\": \"Reject stream was paused\",\n  \"notifications.rejectStreamResumed\": \"Reject stream was resumed\",\n  \"notifications.checkSvimOutput\": \"Please check output on SVIM\",\n  \"notifications.incompatibilityWarning\": \"Selected config might not be compatible with the current WebApp\",\n  \"notifications.errorOccurred\": \"An error occurred\",\n  \"notifications.error.loadingFile\": \"Could not load data from file.\",\n  \"notifications.successfulAction\": \"Successful action\",\n  \"notifications.successfullyLoadedFile\": \"Successfully loaded viewset from file.\",\n  \"notifications.viewsetVersionIncompatibleTitle\": \"File version incompatible\",\n  \"notifications.viewsetVersionIncompatibleMessage\": \"The file version is incompatible. Can not load viewset.\",\n  \"notifications.minorVersionDiffTitle\": \"Minor version differs\",\n  \"notifications.minorVersionDiffMessage\": \"Minor version differs between application and file. The presentation of the viewset might be incorrect.\",\n  \"notifications.variableValueShouldBeInTheRange\": \"Value of the variable {variableName} should be in the range of {range}.\",\n  \"notifications.configAlreadyLockedBySameUser\": \"You have already locked the configuration!\",\n  \"notifications.takeoverCandidateNotFound\": \"Could not find takeover candidate! You still own the config lock.\",\n  \"notifications.lockTakeoverError\": \"Error while perfroming config lock takeover! Error code: {code}\",\n  \"notifications.lockAcquisitionError\": \"Error while requesting config lock! Error code : {code}\",\n\n  // ListView\n  \"listView.save\": \"Save\",\n\n  // SVOView\n  \"svoView.emptyViewInspectionTemplate\": \"{inspectionName}\",\n  \"svoView.closeView\": \"Close view\",\n  \"svoView.closeViewConfirmation\": \"Do you really want to close this view?\",\n\n  \"ok\": \"OK\",\n  \"cancel\": \"Cancel\",\n  \"submit\": \"Submit\",\n  \"close\": \"Close\",\n  \"accept\": \"Accept\",\n  \"reject\": \"Reject\",\n  \"milliseconds\": \"milliseconds\",\n  \"noConfigName\": \"[No configuration]\",\n  \"unknownConfigName\": \"[Unknown configuration]\",\n  \"noConfigLoaded\": \"No configuration loaded in SVObserver\",\n  \"up\": \"Up\",\n  \"down\": \"Down\",\n  \"save\": \"Save\",\n  \"copy\": \"Copy\",\n  \"cut\": \"Cut\",\n  \"paste\": \"Paste\",\n  \"delete\": \"Delete\",\n  \"undo\": \"Undo\",\n  \"expandAll\": \"Expand all\",\n  \"collapseAll\": \"Collapse all\",\n\n  // Permissions\n  \"permissions.backToWebApp\": \"Back to WebApp\",\n  \"permissions.helpText\": \"You can change the listed permissions for each group (column). Common permissions are applied to all other groups. Permissions may have effect on the WebApp and/or the SVObserver.\",\n  \"permissions.permissions\": \"Permissions\",\n  \"permissions.permissionManagement\": \"Permission Management\",\n  \"permissions.description\": \"Description\",\n\n  // Permission descriptions\n  \"permissionDescription.webapp.configuration.save\": \"User can save the current configuration with all view sets\",\n  \"permissionDescription.webapp.logs.read\": \"User can see logs in top navigation bar\",\n  \"permissionDescription.webapp.viewset.add\": \"User can add new view sets\",\n  \"permissionDescription.webapp.viewset.read\": \"User can see view sets (switch between view sets, open View Set Manager)\",\n  \"permissionDescription.webapp.viewset.edit\": \"User can see and edit view sets (change size of views, add new views to view set, switch between view sets, open View Set Manager, rename view sets)\",\n  \"permissionDescription.webapp.viewset.remove\": \"User can remove a view set\",\n  \"permissionDescription.webapp.view[type=AnyView].add\": \"User can add views of any type\",\n  \"permissionDescription.webapp.view[type=AnyView].read\": \"User can see views of any type\",\n  \"permissionDescription.webapp.view[type=AnyView].edit\": \"User can see and edit views of any type\",\n  \"permissionDescription.webapp.view[type=AnyView].remove\": \"User can remove views of any type\",\n  \"permissionDescription.webapp.view[type=ImageView].add\": \"User can add views of type Image\",\n  \"permissionDescription.webapp.view[type=ImageView].read\": \"User can see views of type Image (also download image, see custom overlay list, see image info)\",\n  \"permissionDescription.webapp.view[type=ImageView].edit\": \"User can see and edit views of type Image (choose inspection and tool, change size of image, download image, see custom overlay list, see image info)\",\n  \"permissionDescription.webapp.view[type=ImageView].remove\": \"User can remove views of type Image\",\n  \"permissionDescription.webapp.view[type=ListView].add\": \"User can add views of type List\",\n  \"permissionDescription.webapp.view[type=ListView].read\": \"User can see views of type List\",\n  \"permissionDescription.webapp.view[type=ListView].edit\": \"User can see and edit views of type List (choose inspection and tool, edit aliases)\",\n  \"permissionDescription.webapp.view[type=ListView].remove\": \"User can remove views of type List\",\n  \"permissionDescription.webapp.view[type=ImageStripView].add\": \"User can add views of type Image Strip\",\n  \"permissionDescription.webapp.view[type=ImageStripView].read\": \"User can see views of type Image Strip\",\n  \"permissionDescription.webapp.view[type=ImageStripView].edit\": \"User can see and edit views of type Image Strip (choose inspection and tool)\",\n  \"permissionDescription.webapp.view[type=ImageStripView].remove\": \"User can remove views of type Image Strip\",\n  \"permissionDescription.webapp.view[type=ParameterView].add\": \"User can add views of type Parameter\",\n  \"permissionDescription.webapp.view[type=ParameterView].read\": \"User can see views of type Parameter\",\n  \"permissionDescription.webapp.view[type=ParameterView].edit\": \"User can see and edit views of type Parameter (add/edit/delete custom overlays)\",\n  \"permissionDescription.webapp.view[type=ParameterView].remove\": \"User can remove views of type Parameter\",\n  \"permissionDescription.webapp.view[type=ToolSetView].add\": \"User can add views of type Tool Set\",\n  \"permissionDescription.webapp.view[type=ToolSetView].read\": \"User can see views of type Tool Set\",\n  \"permissionDescription.webapp.view[type=ToolSetView].edit\": \"User can see and edit views of type Tool Set\",\n  \"permissionDescription.webapp.view[type=ToolSetView].remove\": \"User can remove views of type Tool Set\",\n  \"permissionDescription.svobserver.mode.read\": \"User can see the current mode of SVObserver in top navigation bar\",\n  \"permissionDescription.svobserver.mode.edit\": \"User can see and change the current mode of SVObserver in top navigation bar\",\n  \"permissionDescription.svobserver.inspectionstate.read\": \"User can see the inspection state of all inspections in the top navigation bar\",\n  \"permissionDescription.svobserver.inspectionstate.edit\": \"User can see and change the inspection state of all inspections in the top navigation bar and toggle the state in Image Strip View\",\n  \"permissionDescription.svobserver.value.read\": \"SVObserver checks if user is allowed to see values\",\n  \"permissionDescription.svobserver.value.edit\": \"SVObserver checks if user is allowed to edit values\",\n  \"permissionDescription.svobserver.tool.add\": \"SVObserver checks if user is allowed to add new tools\",\n  \"permissionDescription.svobserver.tool.read\": \"SVObserver checks if user is allowed to read tools\",\n  \"permissionDescription.svobserver.tool.edit\": \"SVObserver checks if user is allowed to edit existing tools\",\n  \"permissionDescription.svobserver.tool.remove\": \"SVObserver checks if user is allowed to remove tools\",\n  \"permissionDescription.svobserver.configuration.read\": \"SVObserver checks if user is allowed to read the SVObserver configuration\",\n  \"permissionDescription.svobserver.configuration.write\": \"SVObserver checks if user is allowed to save the SVObserver configuration\",\n  \"permissionDescription.svobserver.notifications.subscribe\": \"SVObserver checks if user is allowed to subscribe to SVObserver notifications\",\n  \"permissionDescription.svobserver.clientlogs.store\": \"SVObserver checks if user is allowed to send client logs to the SVObserver\",\n  \"permissionDescription.svobserver.file.read\": \"SVObserver checks if user is allowed to read arbitrary files in SVIM RUN folder\",\n  \"permissionDescription.svobserver.file.write\": \"SVObserver checks if user is allowed to write arbitrary files in SVIM RUN folder\",\n  \"permissionDescription.svobserver.machinestate.set\": \"SVObserver checks if user is allowed to set the machine state (shutdown or restart of SVIM)\",\n  \"permissionDescription.svobserver.command.execute\": \"SVObserver checks if user is allowed to execute commands\",\n  \"permissionDescription.usermanagement.userpermissions.read\": \"User can load group permissions from backend/can see menu entry to switch to permission management page/can see all permissions in permission management\",\n  \"permissionDescription.usermanagement.userpermissions.edit\": \"User can load group permissions from backend/can see menu entry to switch to permission management page/can see all permissions in permission management/can edit permissions\",\n\n  // Debugger\n  \"debugger.title\": \"Debugger\",\n  \"debugger.backToWebApp\": \"Back to WebApp\",\n  \"debugger.requestsListHeader\": \"Request list\",\n  \"debugger.noParametersMessage\": \"This request has no parameters\",\n  \"debugger.noItemsMessage\": \"(no items)\",\n  \"debugger.nothingToConfigureMessage\": \"(nothing to configure)\",\n  \"debugger.addItemButtonText\": \"Add\",\n  \"debugger.sendRequest\": \"Send request\",\n  \"debugger.noFilteredResultsMessage\": \"No filtered results\",\n  \"debugger.copyToClipboard\": \"Copy to clipboard\",\n\n  // Toolset\n  \"toolsetView.windowTool\": \"Window Tool\",\n  \"toolsetView.mathTool\": \"Math Tool\",\n  \"toolsetView.statisticsTool\": \"Statistics Tool\",\n  \"toolsetView.ringBufferTool\": \"Ring Buffer Tool\",\n  \"toolsetView.archiveTool\": \"Archive Tool\",\n  \"toolsetView.acquisitionTool\": \"Acquisition Tool\",\n  \"toolsetView.transformationTool\": \"Transformation Tool\",\n  \"toolsetView.shiftTool\": \"Shift Tool\",\n  \"toolsetView.cylindricalWarpTool\": \"Cylindrical Warp Tool\",\n  \"toolsetView.perspectiveTool\": \"Perspective Tool\",\n  \"toolsetView.imageTool\": \"Image Tool\",\n  \"toolsetView.linearTool\": \"Linear Tool\",\n  \"toolsetView.colorTool\": \"Color Tool\",\n  \"toolsetView.resizeTool\": \"Resize Tool\",\n  \"toolsetView.loadImageTool\": \"Load Image Tool\",\n  \"toolsetView.tableTool\": \"Table Tool\",\n  \"toolsetView.tableAnalyzerTool\": \"Table Analyzer Tool\",\n  \"toolsetView.polarTransformationTool\": \"Polar Transformation Tool\",\n  \"toolsetView.loopTool\": \"Loop Tool\",\n  \"toolsetView.externalTool\": \"External Tool\",\n  \"toolsetView.groupTool\": \"Group Tool\",\n};\n\nexport default en;\n\n","const es = {\n  // TopNavigation\n  \"topNavigation.language.german\": \"Alemán\",\n  \"topNavigation.language.english\": \"Inglés\",\n  \"topNavigation.language.spanish\": \"Español\",\n  \"topNavigation.lock\": \"Bloquear configuración\",\n  \"topNavigation.release\": \"Liberar configuración\",\n  \"topNavigation.logout\": \"Cerrar sesión\",\n  \"topNavigation.help\": \"Ayuda\",\n  \"topNavigation.about\": \"Información\",\n  \"topNavigation.shortcut\": \"Atajo de teclado\",\n  \"topNavigation.download\": \"Descargar configuración SVO\",\n  \"topNavigation.upload\": \"Cargar configuración SVO\",\n  \"topNavigation.inspectionState\": \"Estado de inspección ({runningInspections} de {numberOfInspections} en curso)\",\n  \"topNavigation.permissions\": \"Permisos\",\n\n  // there is a auto mapping in utils/modes.js\n  \"editMode\": \"Modo de edición\",\n  \"unknownMode\": \"Modo desconocido\",\n  \"runMode\": \"Modo de ejecución\",\n  \"stopMode\": \"Modo de parada\",\n  \"regressionMode\": \"Modo de regresión\",\n  \"testMode\": \"Modo de prueba\",\n\n  // LockStateHandler\n  \"lockStateHandler.alertDialog.lockAlreadyLocked\": \"El bloqueo de la configuración ya está a cargo de: {user}\",\n  \"lockStateHandler.alertDialog.lockDescription\": \"Descripción de bloqueo: {description}\",\n  \"lockStateHandler.alertDialog.takeoverAttempt\": \"{user} quiere tomar el control del bloqueo de configuración\",\n  \"lockStateHandler.alertDialog.takeoverMessage\": \"Mensaje de toma de control: {message}\",\n  \"lockStateHandler.formDialog.lockConfigRequestTitle\": \"Solicitud de bloqueo de configuración\",\n  \"lockStateHandler.formDialog.lockConfigRequestContent\": \"Para bloquear la configuración, introduzca aquí todos los detalles. SVOGateway enviará actualizaciones de forma ocasional.\",\n  \"lockStateHandler.formDialog.lockName\": \"Bloquear nombre\",\n  \"lockStateHandler.formDialog.lockTimeout\": \"Bloquear tiempo excedido\",\n  \"lockStateHandler.formDialog.lockDescription\": \"Bloquear descripción\",\n  \"lockStateHandler.formDialog.takeoverRequest\": \"Consulta de toma de control\",\n  \"lockStateHandler.formDialog.takeoverTimeout\": \"Tiempo excedido de toma de control\",\n  \"lockStateHandler.formDialog.takeoverMessage\": \"Mensaje de toma de control\",\n\n  // ImageStrip\n  \"imageStripView.inspectionTemplate\": \"Franja de imagen {inspectionName}\",\n  \"imageStripView.play\": \"Reproducir\",\n  \"imageStripView.pause\": \"Pausar\",\n\n  // ListView\n  \"listView\": \"Lista\",\n  \"listView.inspectionTemplate\": \"Lista {inspectionName}\",\n  \"listView.AliasEditor.title\": \"Configurar alias para el nombre con puntos\",\n  \"listView.Actionbar.hideAliases\": \"Ocultar los alias\",\n  \"listView.Actionbar.showAliases\": \"Mostrar los alias\",\n  \"listView.AliasEditor.dottedName\": \"Nombre con puntos\",\n  \"listView.AliasEditor.value\": \"Valor\",\n  \"listView.AliasEditor.button\": \"Guardar\",\n\n  // HelpView\n  \"helpView\": \"Ayuda\",\n\n  // AboutView\n  \"aboutView\": \"Información relacionada\",\n  \"aboutView.applicationName\": \"Nombre de la aplicación:\",\n  \"aboutView.applicationVersion\": \"Versión de la aplicación:\",\n  \"aboutView.svoVersion\": \"Versión de SVObserver:\",\n  \"aboutView.gatewayVersion\": \"Versión del Gateway:\",\n\n  // ViewTypeSelection\n  \"viewTypeSelection.imageStripView\": \"Franja de la imagen\",\n  \"viewTypeSelection.imageView\": \"Imagen\",\n  \"viewTypeSelection.parameterView\": \"Parámetro\",\n  \"viewTypeSelection.ListView\": \"Lista\",\n  \"viewTypeSelection.toolset\": \"Conjunto de herramientas\",\n  \"viewTypeSelection.inputTool\": \"Input tool\",\n  \"viewTypeSelection.back\": \"Atrás\",\n  \"viewTypeSelection.cancel\": \"Cancelar\",\n  \"viewTypeSelection.chooseViewTooltip\": \"Seleccionar tipo de visualización\",\n  \"viewTypeSelection.selectViewType\": \"Seleccionar un tipo para esta visualización:\",\n\n  // InspectionSelection\n  \"inspectionSelection.selectInspection\": \"Seleccionar una inspección para esta visualización:\",\n\n  // ParameterView / Overlay\n  \"parameterview.overlay.delete\": \"Borrar\",\n  \"parameterview.overlay.add\": \"Añadir\",\n  \"parameterview.overlay.showAll\": \"Mostrar todo\",\n  \"parameterview.overlay.hideAll\": \"Ocultar todo\",\n\n  // ImageView\n  \"imageView.inspectionTemplate\": \"Imagen {inspectionName}\",\n  \"imageView.zoomIn\": \"Acercar\",\n  \"imageView.zoomOut\": \"Alejar\",\n  \"imageView.fitToWidth\": \"Ajustar a la anchura\",\n  \"imageView.fitToHeight\": \"Ajustar a la altura\",\n  \"imageView.saveWithOverlays\": \"Descargar imagen con superposiciones\",\n  \"imageView.overlayListToggle\": \"Lista de superposiciones\",\n  \"imageView.imageInfoToggle\": \"Información de imágenes\",\n  \"imageView.save\": \"Descargar imagen\",\n  \"imageView.showOverlays\": \"Mostrar superposiciones\",\n  \"imageView.hideOverlays\": \"Ocultar superposiciones\",\n  \"imageView.info\": \"Información\",\n  \"imageView.width\": \"Anchura:\",\n  \"imageView.height\": \"Altura:\",\n  \"imageView.x\": \"X:\",\n  \"imageView.y\": \"Y:\",\n\n  // ParameterView\n  \"parameterView\": \"Parámetro\",\n  \"parameterView.inspectionTemplate\": \"Parámetro {inspectionName}\",\n\n  // ToolsetView\n  \"toolsetView.inspectionTemplate\": \"Conjunto de herramientas {inspectionName}\",\n  \"toolsetView.confirmDelete\": \"¿Realmente desea eliminar {toolName}? Esta acción es irreversible.\",\n\n  // AboutView\n  \"aboutView.title\": \"Información relacionada \",\n\n  // ViewSet Manager\n  \"viewSetManager\": \"Gestor de conjuntos de visualización\",\n  \"viewSetManager.title\": \"Gestor de conjuntos de visualización\",\n  \"viewSetManager.viewSetName\": \"Nombre\",\n  \"viewSetManager.remove\": \"Eliminar\",\n  \"viewSetManager.save\": \"Guardar todos los conjuntos de visualización\",\n  \"viewSetManager.close\": \"Cerrar\",\n  \"viewSetManager.editViewSetHeadline\": \"Editar los conjuntos de visualización:\",\n  \"viewSetManager.newViewSet\": \"Crear nuevo conjunto de visualización\",\n  \"viewSetManager.editViewSetName\": \"Editar el nombre del conjunto de visualización\",\n  \"viewSetManager.changeViewSetName\": \"Cambiar el nombre del conjunto de visualización\",\n  \"viewSetManager.apply\": \"Aplicar cambios\",\n  \"viewSetManager.export\": \"Exportación del diseño actual de visualización\",\n  \"viewSetManager.import\": \"Importar un diseño de visualización del archivo\",\n  \"viewSetManager.importConfirm.title\": \"Sobrescribir un conjunto de visualización\",\n  \"viewSetManager.importConfirm.message\": \"Al importar un conjunto de visualización del archivo se sobrescribirá su conjunto de visualización existente. ¿Desea continuar?\",\n  \"viewSetManager.deleteConfirm.message\": \"¿Realmente desea eliminar el conjunto de visualización {viewsetName}?\",\n  \"viewSetManager.deleteIconTooltip\": \"Borrar el conjunto de visualización\",\n\n  // ShortcutView\n  \"shortcutView.title\": \"Atajos de teclado\",\n  \"shortcutView.fullscreenTitle\": \"Pantalla completa\",\n  \"shortcutView.fullscreenDescription\": \"Centrar una visualización y pulsar CTRL-F\",\n  \"shortcutView.helpTitle\": \"Ayuda\",\n  \"shortcutView.helpDescription\": \"Centrar una visualización y pulsar F1\",\n\n  // Notifications\n  \"notifications.modeSwitch.userSwitchedModeTo\": \"El usuario cambió el modo a:\",\n  \"notifications.websocket.connectionEstablished\": \"Conexión WebSocket establecida en el puerto:\",\n  \"notifications.websocket.connectionLost\": \"Conexión WebSocket perdida\",\n  \"notifications.userSwitchedLanguage\": \"El usuario cambió el idioma a: \",\n  \"notifications.rejectStreamPaused\": \"Se ha pausado la corriente de desecho\",\n  \"notifications.rejectStreamResumed\": \"Se ha reiniciado la corriente de desecho\",\n  \"notifications.checkSvimOutput\": \"Compruebe la salida en SVIM\",\n  \"notifications.incompatibilityWarning\": \"La configuración seleccionada puede que no sea compatible con la WebApp actual\",\n  \"notifications.errorOccurred\": \"Se ha producido un error\",\n  \"notifications.error.loadingFile\": \"No se han podido cargar los datos del archivo.\",\n  \"notifications.successfulAction\": \"Acción realizada correctamente\",\n  \"notifications.successfullyLoadedFile\": \"El conjunto de visualización se ha cargado correctamente desde el archivo.\",\n  \"notifications.viewsetVersionIncompatibleTitle\": \"Versión del archivo incompatible\",\n  \"notifications.viewsetVersionIncompatibleMessage\": \"La versión del archivo es incompatible. No se puede cargar el conjunto de visualización.\",\n  \"notifications.minorVersionDiffTitle\": \"Diferencias en la versión secundaria\",\n  \"notifications.minorVersionDiffMessage\": \"La versión secundaria difiere entre la aplicación y el archivo. La presentación del conjunto de visualización puede ser incorrecta.\",\n  \"notifications.variableValueShouldBeInTheRange\": \"El valor de la variable {variableName} debería estar en el rango de {range}.\",\n  \"notifications.configAlreadyLockedByYou\": \"Ya ha bloqueado la configuración!\",\n  \"notifications.takeoverCandidateNotFound\": \"No se ha podido encontrar el candidato para la toma de control! Aún está a cargo del bloqueo de la configuración.\",\n  \"notifications.takeoverRequestExpired\": \"Consulta de toma de control ya caducada! Aún está a cargo del bloqueo de la configuración.\",\n  \"notifications.lockTakeoverError\": \"Error al ejecutar la toma de control del bloqueo de la configuración!\",\n\n  // ListView\n  \"listView.save\": \"Guardar\",\n\n  // SVOView\n  \"svoView.emptyViewInspectionTemplate\": \"{inspectionName}\",\n  \"svoView.closeView\": \"Cerrar visualización\",\n  \"svoView.closeViewConfirmation\": \"¿Seguro que desea cerrar esta visualización?\",\n\n  \"cancel\": \"Cancelar\",\n  \"submit\": \"Enviar\",\n  \"close\": \"Cerrar\",\n  \"agree\": \"Aceptar\",\n  \"disagree\": \"No aceptar\",\n  \"milliseconds\": \"milisegundos\",\n  \"noConfigName\": \"[Sin configuración]\",\n  \"unknownConfigName\": \"[Configuración desconocida]\",\n  \"noConfigLoaded\": \"No se ha cargado ninguna configuración en SVObserver\",\n  \"up\": \"Hacia arriba\",\n  \"down\": \"Hacia abajo\",\n  \"save\": \"Guardar\",\n  \"copy\": \"Copiar\",\n  \"cut\": \"Cortar\",\n  \"paste\": \"Pegar\",\n  \"delete\": \"Borrar\",\n  \"undo\": \"Deshacer\",\n  \"expandAll\": \"Expandir todo\",\n  \"collapseAll\": \"Ocultar todo\",\n\n  // Permissions\n  \"permissions.backToWebApp\": \"Volver a WebApp\",\n  \"permissions.helpText\": \"Puede cambiar los permisos enumerados para cada grupo (columna). Los permisos comunes se aplican a todos los demás grupos. Los permisos pueden afectar a la WebApp y/o al SVObserver.\",\n  \"permissions.permissions\": \"Permisos\",\n  \"permissions.permissionManagement\": \"Administración de permisos\",\n  \"permissions.description\": \"Descripción\",\n\n  // Permission descriptions\n  \"permissionDescription.webapp.configuration.save\": \"El usuario puede guardar la configuración actual con todos los conjuntos de visualización\",\n  \"permissionDescription.webapp.logs.read\": \"El usuario puede ver los registros en la barra de navegación superior\",\n  \"permissionDescription.webapp.viewset.add\": \"El usuario puede añadir nuevos conjuntos de visualización\",\n  \"permissionDescription.webapp.viewset.read\": \"El usuario puede ver conjuntos de visualización (cambiar entre los conjuntos de visualización, abrir el gestor de conjuntos de visualización)\",\n  \"permissionDescription.webapp.viewset.edit\": \"El usuario puede ver y editar conjuntos de visualización (cambiar el tamaño de las visualizaciones, abrir el gestor de conjuntos de visualización, cambiar el nombre a los conjuntos de visualización)\",\n  \"permissionDescription.webapp.viewset.remove\": \"El usuario puede eliminar un conjunto de visualización\",\n  \"permissionDescription.webapp.view[type=AnyView].add\": \"El usuario puede añadir visualizaciones de cualquier tipo\",\n  \"permissionDescription.webapp.view[type=AnyView].read\": \"El usuario puede ver visualizaciones de cualquier tipo\",\n  \"permissionDescription.webapp.view[type=AnyView].edit\": \"El usuario puede ver y editar visualizaciones de cualquier tipo\",\n  \"permissionDescription.webapp.view[type=AnyView].remove\": \"El usuario puede eliminar visualizaciones de cualquier tipo\",\n  \"permissionDescription.webapp.view[type=ImageView].add\": \"El usuario puede añadir visualizaciones del tipo Imagen\",\n  \"permissionDescription.webapp.view[type=ImageView].read\": \"El usuario puede ver visualizaciones del tipo Imagen (también descargar imágenes, ver la lista de superposiciones personalizadas, ver información sobre la imagen)\",\n  \"permissionDescription.webapp.view[type=ImageView].edit\": \"El usuario puede ver y editar visualizaciones del tipo Imagen (elegir inspección y herramienta, cambiar el tamaño de la imagen, descargar la imagen, ver una lista de superposiciones personalizadas, ver información sobre la imagen)\",\n  \"permissionDescription.webapp.view[type=ImageView].remove\": \"El usuario puede eliminar visualizaciones del tipo Imagen\",\n  \"permissionDescription.webapp.view[type=ListView].add\": \"El usuario puede añadir visualizaciones del tipo Lista\",\n  \"permissionDescription.webapp.view[type=ListView].read\": \"El usuario puede ver visualizaciones del tipo Lista\",\n  \"permissionDescription.webapp.view[type=ListView].edit\": \"El usuario puede ver y editar visualizaciones del tipo Lista (seleccionar inspección y herramienta, editar alias)\",\n  \"permissionDescription.webapp.view[type=ListView].remove\": \"El usuario puede eliminar visualizaciones del tipo Lista\",\n  \"permissionDescription.webapp.view[type=ImageStripView].add\": \"El usuario puede añadir visualizaciones del tipo Franja de imagen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].read\": \"El usuario puede ver visualizaciones del tipo Franja de imagen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].edit\": \"El usuario puede ver y editar visualizaciones del tipo Franja de imagen (seleccionar inspección y herramienta)\",\n  \"permissionDescription.webapp.view[type=ImageStripView].remove\": \"El usuario puede eliminar visualizaciones del tipo Franja de imagen\",\n  \"permissionDescription.webapp.view[type=ParameterView].add\": \"El usuario puede añadir visualizaciones del tipo Parámetro\",\n  \"permissionDescription.webapp.view[type=ParameterView].read\": \"El usuario puede ver visualizaciones del tipo Parámetro\",\n  \"permissionDescription.webapp.view[type=ParameterView].edit\": \"El usuario puede ver y editar visualizaciones del tipo Parámetro (añadir/editar/borrar superposiciones personalizadas)\",\n  \"permissionDescription.webapp.view[type=ParameterView].remove\": \"El usuario puede eliminar visualizaciones del tipo Parámetro\",\n  \"permissionDescription.webapp.view[type=ToolSetView].add\": \"El usuario puede añadir visualizaciones del tipo Conjunto de herramientas\",\n  \"permissionDescription.webapp.view[type=ToolSetView].read\": \"El usuario puede ver visualizaciones del tipo Conjunto de herramientas\",\n  \"permissionDescription.webapp.view[type=ToolSetView].edit\": \"El usuario puede ver y editar visualizaciones del tipo Conjunto de herramientas\",\n  \"permissionDescription.webapp.view[type=ToolSetView].remove\": \"El usuario puede eliminar visualizaciones del tipo Conjunto de herramientas\",\n  \"permissionDescription.svobserver.mode.read\": \"El usuario puede ver el modo actual de SVObserver en la barra de navegación superior\",\n  \"permissionDescription.svobserver.mode.edit\": \"El usuario puede ver y cambiar el modo actual de SVObserver en la barra de navegación superior\",\n  \"permissionDescription.svobserver.inspectionstate.read\": \"El usuario puede ver el estado de inspección de todas las inspecciones de la barra de navegación superior\",\n  \"permissionDescription.svobserver.inspectionstate.edit\": \"El usuario puede ver y cambiar el estado de inspección de todas las inspecciones de la barra de navegación superior y cambiar el estado en la visualización de franjas de imagen\",\n  \"permissionDescription.svobserver.value.read\": \"SVObserver comprueba si el usuario tiene permiso para ver los valores\",\n  \"permissionDescription.svobserver.value.edit\": \"SVObserver comprueba si el usuario tiene permiso para editar los valores\",\n  \"permissionDescription.svobserver.tool.add\": \"SVObserver comprueba si el usuario tiene permiso para añadir nuevas herramientas\",\n  \"permissionDescription.svobserver.tool.read\": \"SVObserver comprueba si el usuario tiene permiso para leer herramientas\",\n  \"permissionDescription.svobserver.tool.edit\": \"SVObserver comprueba si el usuario tiene permiso para editar herramientas existentes\",\n  \"permissionDescription.svobserver.tool.remove\": \"SVObserver comprueba si el usuario tiene permiso para eliminar herramientas\",\n  \"permissionDescription.svobserver.configuration.read\": \"SVObserver comprueba si el usuario tiene permiso para leer la configuración de SVObserver\",\n  \"permissionDescription.svobserver.configuration.write\": \"SVObserver comprueba si el usuario tiene permiso para guardar la configuración de SVObserver\",\n  \"permissionDescription.svobserver.notifications.subscribe\": \"SVObserver comprueba si el usuario tiene permiso para suscribirse a las notificaciones SVObserver\",\n  \"permissionDescription.svobserver.clientlogs.store\": \"SVObserver comprueba si el usuario tiene permiso para enviar registros de cliente a SVObserver\",\n  \"permissionDescription.svobserver.file.read\": \"SVObserver comprueba si el usuario tiene permiso para leer los archivos arbitrarios en la carpeta SVIM RUN\",\n  \"permissionDescription.svobserver.file.write\": \"SVObserver comprueba si el usuario tiene permiso para escribir archivos arbitrarios en la carpeta SVIM RUN\",\n  \"permissionDescription.svobserver.machinestate.set\": \"SVObserver comprueba si el usuario tiene permiso para configurar el estado de la máquina (apagar o reiniciar SVIM)\",\n  \"permissionDescription.svobserver.command.execute\": \"SVObserver comprueba si el usuario tiene permiso para ejecutar comandos\",\n  \"permissionDescription.usermanagement.userpermissions.read\": \"El usuario puede cargar permisos de grupo desde el backend/puede ver la entrada del menú para cambiar a la página de gestión de permisos/puede ver todos los permisos en la gestión de permisos\",\n  \"permissionDescription.usermanagement.userpermissions.edit\": \"El usuario puede cargar permisos de grupo desde el backend/puede ver la entrada del menú para cambiar a la página de gestión de permisos/puede ver todos los permisos en la gestión de permisos/puede editar permisos\",\n\n  // Debugger\n  \"debugger.title\": \"Depurador\",\n  \"debugger.backToWebApp\": \"Volver a WebApp\",\n  \"debugger.requestsListHeader\": \"Lista de solicitudes\",\n  \"debugger.noParametersMessage\": \"Esta solicitud no tiene parámetros\",\n  \"debugger.noItemsMessage\": \"(sin artículos)\",\n  \"debugger.nothingToConfigureMessage\": \"(no hay nada que configurar)\",\n  \"debugger.addItemButtonText\": \"Añadir\",\n  \"debugger.sendRequest\": \"Enviar consulta\",\n  \"debugger.noFilteredResultsMessage\": \"Sin resultados filtrados\",\n  \"debugger.copyToClipboard\": \"Copiar en el portapapeles\",\n\n  // Toolset\n  \"toolsetView.windowTool\": \"Herramienta de ventana\",\n  \"toolsetView.mathTool\": \"Herramienta matemática\",\n  \"toolsetView.statisticsTool\": \"Herramienta estadística\",\n  \"toolsetView.ringBufferTool\": \"Herramienta de memoria cíclica\",\n  \"toolsetView.archiveTool\": \"Herramienta de archivo\",\n  \"toolsetView.acquisitionTool\": \"Herramienta de adquisición\",\n  \"toolsetView.transformationTool\": \"Herramienta de transformación\",\n  \"toolsetView.shiftTool\": \"Herramienta de cambio\",\n  \"toolsetView.cylindricalWarpTool\": \"Herramienta de deformación cilíndrica\",\n  \"toolsetView.perspectiveTool\": \"Herramienta de perspectiva\",\n  \"toolsetView.imageTool\": \"Herramienta de imagen\",\n  \"toolsetView.linearTool\": \"Herramienta lineal\",\n  \"toolsetView.colorTool\": \"Herramienta de color\",\n  \"toolsetView.resizeTool\": \"Herramienta de cambio de tamaño\",\n  \"toolsetView.loadImageTool\": \"Herramienta de carga de imagen\",\n  \"toolsetView.tableTool\": \"Herramienta de tabla\",\n  \"toolsetView.tableAnalyzerTool\": \"Herramienta analizadora de tablas\",\n  \"toolsetView.polarTransformationTool\": \"Herramienta de transformación polar\",\n  \"toolsetView.loopTool\": \"Herramienta de bucle\",\n  \"toolsetView.externalTool\": \"Herramienta externa\",\n  \"toolsetView.groupTool\": \"Herramienta de grupo\",\n};\n\nexport default es;","import { FormattedMessage, IntlShape } from 'react-intl';\n\nimport de from './de';\nimport en from './en';\nimport es from './es';\n\nconst translations = {\n  de: {\n    ...de,\n  },\n  en: {\n    ...en,\n  },\n  es: {\n    ...es,\n  },\n};\n\ndeclare module 'react-intl' {\n  interface TypedIntlShape extends IntlShape {\n    messages: Record<keyof typeof en, string>;\n  }\n\n  export function useIntl(): TypedIntlShape;\n}\n\nexport const languages = [\n  {\n    locale: 'de',\n    name: <FormattedMessage id=\"topNavigation.language.german\" />,\n  },\n  {\n    locale: 'en',\n    name: <FormattedMessage id=\"topNavigation.language.english\" />,\n  },\n  {\n    locale: 'es',\n    name: <FormattedMessage id=\"topNavigation.language.spanish\" />,\n  },\n];\n\nexport default translations;\n","class Observer {\n  constructor(observable) {\n    this.closed = false;\n    this.observable = observable;\n  }\n\n  next(v) {\n    return this.observable.onNext(v);\n  }\n\n  error(err) {\n    return this.observable.onError(err);\n  }\n\n  complete() {\n    return this.observable.onComplete();\n  }\n}\n\nexport class Observable {\n  static create(onSubscribe) {\n    return new Observable(onSubscribe);\n  }\n\n  constructor(onSubscribe) {\n    this._onSubscribe = onSubscribe;\n    this._next = () => void 0;\n    this._error = () => void 0;\n    this._complete = () => void 0;\n  }\n\n  subscribe(desc) {\n    if (typeof desc.next === 'function') {\n      this._next = desc.next;\n    }\n    if (typeof desc.error === 'function') {\n      this._error = desc.error;\n    }\n    if (typeof desc.complete === 'function') {\n      this._complete = desc.complete;\n    }\n    const observer = new Observer(this);\n    // TODO use of tearDownCb\n    const tearDownCb = this._onSubscribe(observer);\n    return {\n      unsubscribe: () => {\n        if (typeof tearDownCb === 'function') {\n          tearDownCb();\n        }\n        // TODO support multiple subscriber?\n        this._next = () => void 0;\n        this._error = () => void 0;\n        this._complete = () => void 0;\n      },\n    };\n  }\n\n  onNext(v) {\n    return this._next(v);\n  }\n\n  onError(err) {\n    return this._error(err);\n  }\n\n  onComplete() {\n    return this._complete();\n  }\n}\n","import ProtoJs from 'protobufjs';\nimport logger from '../utils/logger';\nimport { Observable } from './Observable';\n\nexport default class Protobuf {\n  // will be initialized with Protobuf.init()\n  static SvPenv = {};\n  /** @type {lookup: Function} */\n  static SvPb = {};\n  static nextTxId = 0;\n  static nextStreamId = 0;\n  static initialized = false;\n\n  static async init() {\n    Protobuf.SvPenv = await Protobuf.loadProto('/res/proto/Envelope.proto', 'SvPenv');\n    Protobuf.SvPb = await Protobuf.loadProto('/res/proto/SVRC.proto', 'SvPb');\n    Protobuf.SvAuth = await Protobuf.loadProto('/res/proto/SVRC.proto', 'SvAuth');\n    Protobuf.initialized = true;\n  }\n\n  static async loadProto(path, namespace) {\n    const root = await ProtoJs.load(path);\n    return root.lookup(namespace);\n  }\n\n  constructor() {\n    this.pendingRequests = new Map();\n    this.openStreams = new Map();\n    this.socket = null;\n  }\n\n  isConnected() {\n    return !!this.socket;\n  }\n\n  onConnect(socket) {\n    const prevSocket = this.socket;\n    this.socket = socket;\n    if (prevSocket !== socket) {\n      this.cancelAllPendingRequests(new Error('Connection changed'));\n    }\n  }\n\n  async readMessage(data) {\n    const env = await Protobuf.SvPenv.Envelope.decode(new Uint8Array(data));\n\n    switch (env.type) {\n      case Protobuf.SvPenv.MessageType.response:\n        this.onResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.errorResponse:\n        this.onErrorResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamResponse:\n        this.onStreamResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamErrorResponse:\n        this.onStreamErrorResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamFinish:\n        this.onStreamFinish(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamCancel:\n        this.onStreamCancel(env);\n        break;\n      default:\n        logger.error({ type: env.type }, 'Received message with unexpected type');\n    }\n  }\n\n  onResponse(env) {\n    const txId = env.transactionId;\n    const hdl = this.pendingRequests.get(txId);\n    if (!hdl) {\n      logger.error({ txId }, 'Received response for unknown transaction id');\n      return;\n    }\n    const res = this.unwrapResponse(env);\n    this.pendingRequests.delete(txId);\n    if (hdl.handled) {\n      return;\n    }\n\n    clearTimeout(hdl.timeout);\n    hdl.resolve(res);\n  }\n\n  onErrorResponse(env) {\n    const txId = env.transactionId;\n    const err = this.unwrapErrorResponse(env);\n    return this.onErrorResponseImpl(txId, err);\n  }\n\n  onErrorResponseImpl(txId, err) {\n    const hdl = this.pendingRequests.get(txId);\n    if (!hdl) {\n      logger.error({ txId }, 'Received response for unknown transaction id');\n      return;\n    }\n\n    this.pendingRequests.delete(txId);\n    if (hdl.handled) {\n      return;\n    }\n\n    clearTimeout(hdl.timeout);\n    hdl.reject(err);\n  }\n\n  cancelAllPendingRequests(err) {\n    for (let txId of this.pendingRequests.keys()) {\n      this.onErrorResponseImpl(txId, err);\n    }\n  }\n\n  onRequestTimeout(txId) {\n    const hdl = this.pendingRequests.get(txId);\n    if (!hdl) {\n      logger.error({ txId }, 'Received response for unknown transaction id');\n      return;\n    }\n\n    hdl.handled = true;\n    hdl.reject(new Error('Request timed out'));\n  }\n\n  async onStreamResponse(env) {\n    const streamId = env.transactionId;\n    const hdl = this.openStreams.get(streamId);\n    if (!hdl) {\n      logger.info({ streamId }, 'Received update for unknown stream id');\n      return;\n    }\n    const res = this.unwrapResponse(env);\n    await hdl.observer.next(res);\n    this.ackStreamResponse(env);\n  }\n\n  onStreamErrorResponse(env) {\n    const streamId = env.transactionId;\n    const hdl = this.openStreams.get(streamId);\n    if (!hdl) {\n      logger.error({ streamId }, 'Received error for unknown stream id');\n      return;\n    }\n    const err = this.unwrapErrorResponse(env);\n    this.openStreams.delete(streamId);\n    hdl.observer.error(err);\n  }\n\n  onStreamFinish(env) {\n    const streamId = env.transactionId;\n    const hdl = this.openStreams.get(streamId);\n    if (!hdl) {\n      logger.error({ streamId }, 'Received finish for unknown stream id');\n      return;\n    }\n\n    this.openStreams.delete(streamId);\n    hdl.observer.complete();\n  }\n\n  onStreamCancel() {\n    // ignore cancel envelopes. they should\n    // be sent from client to server only.\n  }\n\n  request(req) {\n    return new Promise((resolve, reject) => {\n      if (!this.socket) {\n        return reject(new Error('No socket available'));\n      }\n      Protobuf.nextTxId += 1;\n      const txId = Protobuf.nextTxId;\n      const env = this.wrapMessage(req, txId, Protobuf.SvPenv.MessageType.request);\n      const buf = this.serializeEnvelope(env);\n      const timeout = setTimeout(this.onRequestTimeout.bind(this, txId), 60 * 1000);\n      this.pendingRequests.set(txId, { resolve, reject, timeout });\n      this.socket.send(buf);\n    });\n  }\n\n  stream(req) {\n    return Observable.create((observer) => {\n      if (!this.socket) {\n        return observer.error(new Error('No socket available'));\n      }\n      Protobuf.nextStreamId += 1;\n      const streamId = Protobuf.nextStreamId;\n      const env = this.wrapMessage(req, streamId, Protobuf.SvPenv.MessageType.streamRequest);\n      const buf = this.serializeEnvelope(env);\n      this.openStreams.set(streamId, { observer });\n      this.socket.send(buf);\n\n      return () => {\n        this.openStreams.delete(streamId);\n        this.cancelStream(streamId);\n      };\n    });\n  }\n\n  cancelStream(transactionId) {\n    if (!this.socket) {\n      return;\n    }\n    const type = Protobuf.SvPenv.MessageType.streamCancel;\n    const params = { transactionId, type };\n    const env = Protobuf.SvPenv.Envelope.fromObject(params);\n    const buf = this.serializeEnvelope(env);\n    this.socket.send(buf);\n  }\n\n  ackStreamResponse(env) {\n    const ackEnv = Protobuf.SvPenv.Envelope.fromObject({\n      transactionId: env.transactionId,\n      sequenceNumber: env.sequenceNumber,\n      type: Protobuf.SvPenv.MessageType.streamAck,\n    });\n    const buf = this.serializeEnvelope(ackEnv);\n    this.socket.send(buf);\n  }\n\n  wrapMessage(req, transactionId, type = Protobuf.SvPenv.MessageType.request) {\n    const message = this.wrapOneOf(req);\n    const envelope = Protobuf.SvPenv.Envelope.fromObject({\n      payloadType: this.getPayloadTypeForOneOfMessage(message),\n      payload: this.packToAny(message),\n      transactionId,\n      type,\n    });\n    return envelope;\n  }\n\n  // NOTE: ignoring payload_type as we want to unpack anyways\n  //       so no need to dispatch the message before unpacking\n  unwrapResponse(env) {\n    const message = this.unpackFromAny(env.payload);\n    const res = this.unwrapOneOf(message);\n    return res;\n  }\n\n  unwrapErrorResponse(env) {\n    const error = new Error(env.error.message);\n    error.code = env.error.errorCode;\n\n    if (env.error.payload) {\n      const payload = this.unpackFromAny(env.error.payload);\n      error.payload = payload;\n    }\n    return error;\n  }\n\n  wrapOneOf(req) {\n    const fieldName = this.getFieldNameForSVRCMessage(req);\n    return Protobuf.SvPb.SVRCMessages.create({ [fieldName]: req });\n  }\n\n  unwrapOneOf(message) {\n    return message[message.message];\n  }\n\n  // by convention, the field name of the SVRCMessages oneof is\n  // equal to the type name, except that first letter is lower-case.\n  getFieldNameForSVRCMessage(message) {\n    const name = message.$type.name;\n    return name.substr(0, 1).toLowerCase() + name.substr(1);\n  }\n\n  getPayloadTypeForOneOfMessage(message) {\n    const fieldName = message.message;\n    const type = message.$type.fields[fieldName];\n    return type.id;\n  }\n\n  packToAny(message) {\n    const type = message.$type;\n    const typeName = type.fullName.slice(1); // remove leading dot\n    // the c++ protobuf library uses this as the default prefix\n    const typeUrlPrefix = 'type.googleapis.com';\n    const encoded = type.encode(message).finish();\n    return {\n      type_url: `${typeUrlPrefix}/${typeName}`,\n      value: encoded,\n    };\n  }\n\n  unpackFromAny(any) {\n    let typeName = any.type_url;\n    const slashIdx = typeName.indexOf('/');\n    if (slashIdx !== -1) {\n      typeName = typeName.slice(slashIdx + 1);\n    }\n    const type = Protobuf.SvPb.lookup(typeName);\n    if (!type) {\n      logger.error({ type: any.type_url }, 'Received message with unknown payload type');\n      return;\n    }\n    return type.decode(any.value);\n  }\n\n  serializeEnvelope(envelope) {\n    const buf = Protobuf.SvPenv.Envelope.encode(envelope).finish();\n    const raw = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n    return raw;\n  }\n}\n","export default __webpack_public_path__ + \"static/media/delete.85c719f0.svg\";","export default __webpack_public_path__ + \"static/media/back.c6197e51.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nclass ModalNotification extends Component {\n  render() {\n    const { visible, message } = this.props;\n    if (!visible) {\n      return false;\n    }\n\n    return (\n      <div className=\"modal-fullscreen-style\">\n        <div className=\"modal-fullscreen-inner\">{message}</div>\n      </div>\n    );\n  }\n}\n\nModalNotification.defaultProps = {\n  visible: false,\n  message: undefined,\n};\n\nModalNotification.propTypes = {\n  visible: PropTypes.bool,\n  message: PropTypes.object,\n};\n\nexport default ModalNotification;\n","import React, { useRef, useEffect } from 'react';\nimport { Paper } from '@material-ui/core';\n\nimport './style.scss';\n\nconst usePrevious = (value) => {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n};\n\nlet selectedItem = 0;\n\nconst SuggestionList = ({ items, onSelect, show, currentKey, filter, onCancel }) => {\n  const prevFilter = usePrevious(filter);\n\n  if (!show) {\n    return <div></div>;\n  }\n\n  if (filter !== prevFilter) {\n    selectedItem = 0;\n  }\n\n  const consumeChars = (str, chars, positions) => {\n    str = str.toLowerCase();\n    let prevIdx = 0;\n    while (chars.length) {\n      const idx = str.indexOf(chars[0], prevIdx);\n      if (idx === -1) {\n        break;\n      }\n      positions.push(idx);\n      chars = chars.slice(1);\n      prevIdx = idx + 1;\n    }\n    return chars;\n  };\n\n  const highlightAtPositions = (word, positions) => {\n    let result = [];\n    for (let i = 0; i < word.length; i++) {\n      if (positions.includes(i)) {\n        result.push([\n          <span className=\"filteredText\" key={`suggestionlist_highlight_span_${word}_${i}`}>\n            {word.charAt(i)}\n          </span>,\n        ]);\n      } else {\n        result.push([word.charAt(i)]);\n      }\n    }\n    return <div key={`suggestionlist_highlight_div_${word}`}>{result}</div>;\n  };\n\n  const filteredItems = [];\n  (items || []).forEach((item) => {\n    const pos = [];\n    const remainingChars = consumeChars(item, filter.toLowerCase().split(''), pos);\n\n    if (remainingChars.length === 0) {\n      filteredItems.push({\n        text: item,\n        textWithHighlight: highlightAtPositions(item, pos),\n      });\n    }\n  });\n\n  if (filteredItems.length === 0) {\n    return <div></div>;\n  }\n\n  if (currentKey.currentKey === 'ArrowUp' && selectedItem > 0) {\n    selectedItem--;\n  }\n\n  if (currentKey.currentKey === 'ArrowDown' && selectedItem < filteredItems.length - 1) {\n    selectedItem++;\n  }\n\n  const menuitems = [];\n  let currentText = '';\n  (filteredItems || []).forEach((item, idx) => {\n    const isSelected = selectedItem === idx;\n    if (isSelected) {\n      currentText = item.text;\n    }\n\n    menuitems.push(\n      <li\n        key={`suggestionlist_li_${item.text}`}\n        onClick={() => onSelect(item.text)}\n        className={isSelected ? 'suggestionlist-selected' : ''}\n      >\n        {item.textWithHighlight}\n      </li>,\n    );\n  });\n\n  if (currentKey.currentKey === 'Enter') {\n    onSelect(currentText);\n  }\n\n  if (currentKey.currentKey === 'Escape') {\n    onCancel();\n  }\n\n  return (\n    <Paper\n      className=\"suggestionlist-wrapper\"\n      style={show ? { display: 'block' } : { display: 'none' }}\n    >\n      <ul className=\"suggestionlist-list\">{menuitems}</ul>\n    </Paper>\n  );\n};\n\nexport default SuggestionList;\n","import React, { useState, useRef } from 'react';\nimport { TextField } from '@material-ui/core';\n\nimport SuggestionList from '../SuggestionList';\n\nconst Autocomplete = ({ label, fullWidth, value, onChange, variant, size, suggestionList }) => {\n  const inputRef = useRef();\n  const [show, setShow] = useState(false);\n  const [filter, setFilter] = useState('');\n  const [currentKey, setCurrentKey] = useState();\n\n  const getFilterText = (value, position) => {\n    let filterText = '';\n    let currentPosition = position - 1;\n\n    while (currentPosition >= 0 && !filterText.startsWith('$')) {\n      if (value.charAt(currentPosition) === ' ') {\n        return '';\n      }\n\n      filterText = value.charAt(currentPosition) + filterText;\n      currentPosition--;\n    }\n\n    if (!filterText.startsWith('$')) {\n      filterText = '';\n    }\n\n    return filterText;\n  };\n\n  const onChangeAutocompleteText = (event) => {\n    const filterText = getFilterText(event.target.value, inputRef.current.selectionEnd);\n    setFilter(filterText);\n    setShow(filterText.length > 0);\n    onChange(event.target.value);\n  };\n\n  const cancelSuggestionList = () => {\n    setShow(false);\n  };\n\n  const onSelectSuggestion = (name) => {\n    setShow(false);\n    onChange(\n      `${value.slice(0, inputRef.current.selectionEnd - filter.length)}${name}${value.slice(\n        inputRef.current.selectionEnd,\n        value.length,\n      )}`,\n    );\n  };\n\n  const onKeyDown = (event) => {\n    if (event.key === 'ArrowDown' || event.key === 'ArrowUp') {\n      event.preventDefault();\n    }\n    setCurrentKey({ currentKey: event.key });\n  };\n\n  return (\n    <div className=\"autocomplete-wrapper\">\n      <TextField\n        inputRef={inputRef}\n        label={label}\n        fullWidth={fullWidth}\n        value={value}\n        onChange={(e) => onChangeAutocompleteText(e)}\n        onKeyDown={(e) => onKeyDown(e)}\n        variant={variant}\n        size={size}\n        inputProps={{\n          style: {\n            height: 37,\n          },\n        }}\n      />\n      <SuggestionList\n        show={show}\n        currentKey={currentKey}\n        filter={filter}\n        items={suggestionList}\n        onSelect={(name) => onSelectSuggestion(name)}\n        onCancel={() => cancelSuggestionList()}\n      />\n    </div>\n  );\n};\n\nexport default Autocomplete;\n","import Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\ninterface AlertDialogProps {\n  open: boolean;\n  title: React.ReactNode;\n  contentText: React.ReactNode;\n}\n\nexport const AlertDialog: React.FC<React.PropsWithChildren<AlertDialogProps>> = ({\n  open,\n  title,\n  contentText,\n  children,\n}) => {\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n      disableEscapeKeyDown={true}\n    >\n      <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">{contentText}</DialogContentText>\n      </DialogContent>\n      <DialogActions>{children}</DialogActions>\n    </Dialog>\n  );\n};\n","import React, { ReactNode, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { FormattedMessage } from 'react-intl';\nimport infoIcon from '../../../../assets/icons/info.svg';\nimport { AlertDialog } from '../../../../views/TopNavigation/navigation/AlertDialog';\nimport IconButton from '../../../buttons/IconButton';\n\nexport interface InformationBoxProps {\n  onClose?: () => void;\n  open?: boolean;\n  informationText: string | ReactNode;\n  title?: string;\n}\n\nconst InformationBox: React.FC<InformationBoxProps> = ({\n  onClose,\n  informationText,\n  open,\n  title,\n}) => {\n  const [showingInfo, setShowingInfo] = useState(open || false);\n  return (\n    <>\n      <div>\n        <IconButton\n          tooltip=\"Show information\"\n          onClick={() => {\n            setShowingInfo(true);\n          }}\n          iconUrl={infoIcon}\n        />\n      </div>\n      <AlertDialog open={showingInfo} contentText={informationText} title={title}>\n        <Button\n          onClick={() => {\n            setShowingInfo(false);\n            onClose && onClose();\n          }}\n          color=\"primary\"\n        >\n          <FormattedMessage id=\"close\" />\n        </Button>\n      </AlertDialog>\n    </>\n  );\n};\n\nexport default InformationBox;\n","import React, { useState } from 'react';\nimport { Box } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport deleteIcon from '../../../../assets/icons/delete.svg';\nimport AutoComplete from '../../../AutoComplete';\nimport ObjectSelector from '../../../ObjectSelector';\nimport { OutlinedSelection } from '../../../OutlinedSelection';\nimport IconButton from '../../../buttons/IconButton';\nimport InformationBox from '../InformationBox';\n\nconst DEFAULT_SAMPLING_RATE = 0.1;\nconst MAX_SAMPLING_RATE = 1.0;\nexport const treeEntityNameGenerator = (searchedNodeId, tree, inspectionName) => {\n  const queue = (tree && tree.children && tree.children.slice(0)) || [];\n  while (queue.length > 0) {\n    const head = queue.shift();\n    const { id, location, children } = head;\n    if (id && searchedNodeId === id.toString()) {\n      return 'Inspections.' + inspectionName + '.' + location;\n    }\n    if (children && children.length) {\n      for (let i = 0; i < children.length; ++i) {\n        queue.push(children[i]);\n      }\n    }\n  }\n};\n\nconst ImageForm = ({\n  id,\n  object,\n  propertyName,\n  allowedImageVariables,\n  allowedPathVariables,\n  onDelete,\n  inspection,\n  informationText = <></>,\n  treeStyle = {},\n}) => {\n  const [treeNodeId, setTreeNodeId] = useState(object[propertyName].treeNodeId || 0);\n  const [path, setPath] = useState(object[propertyName].path || '');\n  const [samplingRate, setSamplingRate] = useState(\n    object[propertyName].samplingRate || DEFAULT_SAMPLING_RATE,\n  );\n  const [enabled, setEnabled] = useState(\n    (typeof object[propertyName] === 'object' && object[propertyName].enabled) || true,\n  );\n\n  return (\n    <div className=\"field-name-type\">\n      <div className=\"item\">\n        <div className=\"property-id\">{id}</div>\n      </div>\n      <div className=\"inputs\">\n        <div className=\"field-name-type\">\n          <Box sx={{ mr: 1 }}>\n            {allowedImageVariables && (\n              <ObjectSelector\n                singleSelect\n                selection={[treeNodeId]}\n                expandedKeys={[treeNodeId]}\n                data={allowedImageVariables}\n                onChange={(selectedId) => {\n                  // keep id of this node in JSON to find it easily when we load this JSON back\n                  object[propertyName].treeNodeId = selectedId;\n                  const fullLocation = treeEntityNameGenerator(\n                    selectedId,\n                    allowedImageVariables,\n                    inspection,\n                  );\n                  object[propertyName].image = '${IMAGE:' + fullLocation + '}';\n                  setTreeNodeId(selectedId);\n                }}\n                treeStyle={treeStyle}\n              />\n            )}\n          </Box>\n          <Box sx={{ mr: 1 }}>\n            <AutoComplete\n              label=\"Path\"\n              fullWidth\n              value={path}\n              onChange={(value) => {\n                setPath(value);\n                object[propertyName].value = value;\n              }}\n              variant=\"outlined\"\n              size=\"small\"\n              suggestionList={allowedPathVariables}\n            />\n          </Box>\n          <Box sx={{ mr: 1 }}>\n            <OutlinedSelection\n              selectedValue={enabled.toString()}\n              values={['true', 'false']}\n              onSelectionChanged={(e) => setEnabled(e.enabled === 'true')}\n              id=\"enabled\"\n              name=\"Enabled\"\n            />\n          </Box>\n          <Box>\n            <TextField\n              fullWidth\n              variant=\"outlined\"\n              label=\"Sampling rate\"\n              InputProps={{\n                inputProps: {\n                  type: 'number',\n                  min: 0.1,\n                  max: MAX_SAMPLING_RATE,\n                  step: 0.1,\n                },\n                style: {\n                  height: 29,\n                },\n              }}\n              className=\"item\"\n              type=\"number\"\n              required={true}\n              value={samplingRate || DEFAULT_SAMPLING_RATE}\n              onChange={(e) => setSamplingRate(e.target.value)}\n              onBlur={(e) => (object[propertyName].value = e.target.value)}\n            />\n          </Box>\n          <div>\n            <IconButton tooltip=\"Add property\" onClick={() => onDelete()} iconUrl={deleteIcon} />\n          </div>\n          {informationText && <InformationBox informationText={informationText} />}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ImageForm;\n","import React, { useState } from 'react';\nimport { Typography } from '@material-ui/core';\nimport addIcon from '../../../../assets/icons/plus.svg';\nimport { OutlinedSelection } from '../../../OutlinedSelection';\nimport IconButton from '../../../buttons/IconButton';\nimport ImageForm from '../ImageForm';\nimport PropertyForm from '../PropertyForm';\n\nexport const COMPONENT_TYPE_TREE = 'tree';\nexport const COMPONENT_TYPE_AUTOCOMPLETE = 'autocomplete';\n\nconst fieldsForTreeForValueSelection = [\n  'data1',\n  'data2',\n  'data3',\n  'data4',\n  'data5',\n  'data6',\n  'data7',\n  'data8',\n  'data9',\n  'data10',\n  'data11',\n  'data12',\n  'data13',\n  'data14',\n  'data15',\n  'data16',\n  'data17',\n  'data18',\n  'data19',\n];\nconst triggerPropertiesRequiresName = [\n  ...fieldsForTreeForValueSelection,\n  ...['image1', 'image2', 'image3', 'image4'],\n];\nconst triggerProperties = [\n  ...['', 'storeCondition', 'revolution'],\n  ...triggerPropertiesRequiresName,\n];\n\nconst informationToFieldsMap = {};\n\ntriggerProperties.forEach((key) => {\n  informationToFieldsMap[key] = (\n    <>\n      <Typography gutterBottom>\n        Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in,\n        egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n      </Typography>\n      <Typography gutterBottom>\n        Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus\n        vel augue laoreet rutrum faucibus dolor auctor.\n      </Typography>\n      <Typography gutterBottom>\n        Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel\n        scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus\n        auctor fringilla.\n      </Typography>\n    </>\n  );\n});\n\nconst TriggerSettings = ({\n  subscription,\n  allowedVariables,\n  allowedAutoCompleteVariables,\n  allowedImageVariables,\n  allowedImagePathVariables,\n}) => {\n  const [newTriggerProperty, setNewTriggerProperty] = useState('');\n  const [update, setUpdate] = useState(false);\n\n  const addNewTriggerProperty = (subscription) => {\n    if (!subscription.trigger || newTriggerProperty === '') {\n      subscription.trigger = {};\n    }\n\n    subscription.trigger[newTriggerProperty] = { name: '', value: '', enabled: true };\n    setNewTriggerProperty('');\n  };\n\n  const { trigger, inspection } = subscription;\n  const triggerResult = [];\n\n  const deleteProperty = (key) => {\n    delete trigger[key];\n    setUpdate(!update);\n  };\n\n  const remainingTriggerProperties = triggerProperties.filter(\n    (x) => !Object.keys(trigger).includes(x),\n  );\n\n  Object.keys(trigger).forEach((key) => {\n    if (key.startsWith('image')) {\n      triggerResult.push(\n        <ImageForm\n          key={`trigger_${inspection}_${key}`}\n          inspection={inspection}\n          id={key}\n          object={trigger}\n          propertyName={key}\n          allowedImageVariables={allowedImageVariables}\n          allowedVariables={allowedImagePathVariables}\n          onDelete={() => deleteProperty(key)}\n          informationText={informationToFieldsMap[key]}\n          treeStyle={{ overflow: 'scroll', height: '250px' }}\n        />,\n      );\n    } else {\n      triggerResult.push(\n        <PropertyForm\n          inspection={inspection}\n          key={`trigger_${inspection}_${key}`}\n          informationText={informationToFieldsMap[key]}\n          id={key}\n          object={trigger}\n          propertyName={key}\n          allowedVariables={\n            fieldsForTreeForValueSelection.includes(key)\n              ? allowedVariables\n              : allowedAutoCompleteVariables\n          }\n          onDelete={() => deleteProperty(key)}\n          excludedFields={!triggerPropertiesRequiresName.includes(key) ? ['name'] : []}\n          valueFieldType={\n            fieldsForTreeForValueSelection.includes(key)\n              ? COMPONENT_TYPE_TREE\n              : COMPONENT_TYPE_AUTOCOMPLETE\n          }\n        />,\n      );\n    }\n  });\n\n  return (\n    <div className=\"properties content\">\n      {triggerResult}\n      <div className=\"field-name-type\">\n        <div className=\"item\">Add new property:</div>\n        <div className=\"inputs\">\n          <div className=\"field-name-type\">\n            <div style={{ width: '200px', padding: '5px 0' }}>\n              <OutlinedSelection\n                selectedValue={newTriggerProperty}\n                values={remainingTriggerProperties}\n                onSelectionChanged={(e) => setNewTriggerProperty(e.addtriggerProp)}\n                name=\"Property\"\n                id=\"addtriggerProp\"\n              />\n            </div>\n            <div className=\"item\" style={{ margin: 'auto' }}>\n              <IconButton\n                tooltip=\"Add property\"\n                onClick={() => addNewTriggerProperty(subscription)}\n                iconUrl={addIcon}\n                style={{ margin: '0' }}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TriggerSettings;\n","import React, { useState } from 'react';\nimport { Box } from '@material-ui/core';\nimport deleteIcon from '../../../../assets/icons/delete.svg';\nimport AutoComplete from '../../../AutoComplete';\nimport ObjectSelector from '../../../ObjectSelector';\nimport { OutlinedSelection } from '../../../OutlinedSelection';\nimport IconButton from '../../../buttons/IconButton';\nimport { treeEntityNameGenerator } from '../ImageForm';\nimport InformationBox from '../InformationBox';\nimport { COMPONENT_TYPE_AUTOCOMPLETE } from '../TriggerSettings';\n\nconst PropertyForm = ({\n  id,\n  object,\n  propertyName,\n  allowedVariables,\n  onDelete,\n  inspection,\n  excludedFields = [],\n  valueFieldType = COMPONENT_TYPE_AUTOCOMPLETE,\n  informationText = <></>,\n}) => {\n  const [treeNodeId, setTreeNodeId] = useState(object[propertyName].treeNodeId || 0);\n\n  const [name, setName] = useState(\n    typeof object[propertyName] === 'object' ? object[propertyName].name : '',\n  );\n  const [value, setValue] = useState(\n    typeof object[propertyName] === 'object' ? object[propertyName].value : object[propertyName],\n  );\n  const [enabled, setEnabled] = useState(\n    (typeof object[propertyName] === 'object' && object[propertyName].enabled) || true,\n  );\n\n  const getPropertyInputs = () => {\n    return (\n      <div className=\"field-name-type\">\n        <Box sx={{ mr: 1 }}>\n          {!excludedFields.includes('name') && (\n            <AutoComplete\n              label=\"Name\"\n              fullWidth\n              value={name}\n              onChange={(value) => {\n                setName(value);\n                object[propertyName].name = value;\n              }}\n              variant=\"outlined\"\n              size=\"small\"\n              className=\"item\"\n              suggestionList={allowedVariables}\n            />\n          )}\n        </Box>\n        <Box sx={{ mr: 1 }}>\n          {!excludedFields.includes('value') &&\n            allowedVariables &&\n            (valueFieldType === COMPONENT_TYPE_AUTOCOMPLETE ? (\n              <AutoComplete\n                label=\"Value\"\n                fullWidth\n                value={value}\n                onChange={(value) => {\n                  setValue(value);\n                  object[propertyName].value = value;\n                }}\n                variant=\"outlined\"\n                size=\"small\"\n                className=\"item\"\n                suggestionList={allowedVariables}\n              />\n            ) : (\n              ('node' in allowedVariables || 'children' in allowedVariables) && (\n                <ObjectSelector\n                  singleSelect\n                  selection={[treeNodeId]}\n                  expandedKeys={[treeNodeId]}\n                  data={allowedVariables}\n                  onChange={(selectedId) => {\n                    object[propertyName].treeNodeId = selectedId;\n                    const fullLocation = treeEntityNameGenerator(\n                      selectedId,\n                      allowedVariables,\n                      inspection,\n                    );\n                    object[propertyName].value = '${VALUE:' + fullLocation + '}';\n                    setTreeNodeId(selectedId);\n                  }}\n                  treeStyle={{ overflow: 'scroll', height: '250px' }}\n                />\n              )\n            ))}\n        </Box>\n        {!excludedFields.includes('enabled') && (\n          <div>\n            <OutlinedSelection\n              name=\"Enabled\"\n              selectedValue={enabled.toString()}\n              values={['true', 'false']}\n              onSelectionChanged={(e) => {\n                setEnabled(e.enabled === 'true');\n                object[propertyName].enabled = e.enabled === 'true';\n              }}\n              id=\"enabled\"\n            />\n          </div>\n        )}\n        <div>\n          <IconButton tooltip=\"Add property\" onClick={() => onDelete()} iconUrl={deleteIcon} />\n        </div>\n        {informationText && <InformationBox informationText={informationText} />}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"field-name-type\">\n      <div className=\"item\">\n        <div className=\"property-id\">{id}</div>\n      </div>\n      <div className=\"inputs\">{getPropertyInputs(object[propertyName])}</div>\n    </div>\n  );\n};\n\nexport default PropertyForm;\n","import React, { useState } from 'react';\nimport { Typography } from '@material-ui/core';\nimport addIcon from '../../../../assets/icons/plus.svg';\nimport { OutlinedSelection } from '../../../OutlinedSelection';\nimport IconButton from '../../../buttons/IconButton';\nimport PropertyForm from '../PropertyForm';\n\nconst batchPropertiesRequiresName = [\n  'data1',\n  'data2',\n  'data3',\n  'data4',\n  'vdata1',\n  'vdata2',\n  'vdata3',\n  'vdata4',\n  'vdata5',\n  'vdata6',\n  'vdata7',\n  'vdata8',\n  'vdata9',\n  'vdata10',\n];\n\nconst batchProperties = [\n  ...[\n    '',\n    'batch_inspectionid',\n    'timestamp',\n    'svimname',\n    'inspectionname',\n    'batchid',\n    'batchname',\n    'batchstart',\n    'comment',\n    'username',\n    'machinenum',\n    'machinetype',\n    'sectionid',\n    'sectionname',\n    'sectioncomment',\n    'productionspeed',\n    'headerid',\n  ],\n  ...batchPropertiesRequiresName,\n];\n\nconst informationToFieldsMap = {};\n\nbatchProperties.forEach((key) => {\n  informationToFieldsMap[key] = (\n    <>\n      <Typography gutterBottom>\n        Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in,\n        egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros.\n      </Typography>\n      <Typography gutterBottom>\n        Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus\n        vel augue laoreet rutrum faucibus dolor auctor.\n      </Typography>\n      <Typography gutterBottom>\n        Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel\n        scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus\n        auctor fringilla.\n      </Typography>\n    </>\n  );\n});\nconst BatchSettings = ({ subscription, allowedVariables }) => {\n  const [newBatchProperty, setNewBatchProperty] = useState('');\n  const [update, setUpdate] = useState(false);\n\n  const addNewBatchProperty = (subscription) => {\n    if (!subscription.batch || newBatchProperty === '') {\n      subscription.batch = {};\n    }\n\n    subscription.batch[newBatchProperty] = { name: '', value: '', enabled: true };\n    setNewBatchProperty('');\n  };\n\n  const { batch, inspection } = subscription;\n  const batchResult = [];\n\n  Object.keys(batch).map((key) => {\n    if (typeof batch[key] === 'string') {\n      batch[key] = {\n        name: '',\n        value: batch[key],\n        enabled: true,\n      };\n    }\n    return batch[key];\n  });\n\n  const remainingBatchProperties = batchProperties.filter((x) => !Object.keys(batch).includes(x));\n\n  Object.keys(batch).forEach((key) => {\n    batchResult.push(\n      <PropertyForm\n        key={`batch_${inspection}_${key}`}\n        id={key}\n        object={batch}\n        propertyName={key}\n        allowedVariables={allowedVariables}\n        excludedFields={!batchPropertiesRequiresName.includes(key) ? ['name'] : []}\n        onDelete={() => {\n          delete batch[key];\n          setUpdate(!update);\n        }}\n        informationText={informationToFieldsMap[key]}\n      />,\n    );\n  });\n\n  return (\n    <div className=\"properties content\">\n      {batchResult}\n      <div className=\"field-name-type\">\n        <div className=\"item\">Add new property:</div>\n        <div className=\"inputs\">\n          <div className=\"field-name-type\">\n            <div style={{ width: '200px', padding: '5px 0' }}>\n              <OutlinedSelection\n                selectedValue={newBatchProperty}\n                values={remainingBatchProperties}\n                onSelectionChanged={(e) => setNewBatchProperty(e.addbatchProp)}\n                name=\"Property\"\n                id=\"addbatchProp\"\n              />\n            </div>\n            <div style={{ margin: 'auto 0' }}>\n              <IconButton\n                tooltip=\"Add property\"\n                onClick={() => addNewBatchProperty(subscription)}\n                iconUrl={addIcon}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default BatchSettings;\n","import React, { ReactNode, useState } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { useSelector, useDispatch } from 'react-redux';\nimport deleteIcon from '../../assets/icons/delete.svg';\nimport { saveDatabaseGatewayConfiguration } from '../../redux/actions';\nimport { SvPb } from '../../types/protobuf';\nimport ModalNotification from '../ModalNotification.js';\nimport { OutlinedSelection } from '../OutlinedSelection';\nimport IconButton from '../buttons/IconButton';\nimport BatchSettings from './components/BatchSettings';\nimport TriggerSettings from './components/TriggerSettings';\n\nimport './style.scss';\n\nexport interface AppConfiguration {\n  globalConstants: Record<string, any>;\n  inspectionSubscriptions: Array<InspectionSubscriptionConfig>;\n  inspections: Array<Inspection>;\n  objectSelectorItems: Map<Inspection['id'], SvPb.GetObjectSelectorItemsResponse>;\n  idNameMappings: Map<Inspection['id'], { fullLocation: string }>;\n  filterArrayValuesFromTree: <T>(val: T) => T;\n  getObjectSelectorImagesForInspection: <T>(inspectionId: Inspection['id']) => T;\n}\n\nexport interface Inspection {\n  name: string;\n  id: number;\n}\n\nexport interface RootState {\n  app: {\n    databaseGatewayConfig: DatabaseGatewayConfig;\n    configuration: AppConfiguration;\n    protobuf: Record<string, unknown>;\n  };\n}\n\nexport interface DatabaseGatewayConfig {\n  inspectionSubscriptions: Array<InspectionSubscriptionConfig>;\n}\n\nexport interface InspectionSubscriptionConfig {\n  url?: string;\n  inspection: string;\n  batch: Partial<BatchConfig>;\n  trigger: Partial<TriggerConfig>;\n}\n\nexport interface BatchConfig extends DataTriggerConfig {\n  comment: string;\n  batchname: string;\n  inspectionname: string;\n  sectionid: string;\n  productionspeed: string;\n  timestamp: string;\n  headerid: number;\n}\n\ninterface DataAttributes {\n  enabled: boolean;\n  name: string;\n  value: string;\n}\n\ntype ResultNames = 'result1' | 'result2' | 'result3';\ntype ImageNames = 'image1' | 'image2' | 'image3' | 'image4';\ntype DataNames =\n  | 'data1'\n  | 'data2'\n  | 'data3'\n  | 'data4'\n  | 'data5'\n  | 'data6'\n  | 'data7'\n  | 'data8'\n  | 'data9'\n  | 'data10'\n  | 'data11'\n  | 'data12'\n  | 'data13'\n  | 'data14'\n  | 'data15'\n  | 'data16'\n  | 'data17'\n  | 'data18'\n  | 'data19';\n\ntype DataTriggerConfig = Partial<Record<DataNames, DataAttributes>>;\ntype ImageTriggerConfig = Partial<Record<ImageNames, TriggerImageConfig>>;\ntype ResultTriggerConfig = Partial<Record<ResultNames, DataAttributes>>;\ntype DataImageTriggerConfig = DataTriggerConfig & ImageTriggerConfig & ResultTriggerConfig;\n\nexport interface TriggerConfig extends DataImageTriggerConfig {\n  storeCondition: string;\n  revolution: string;\n}\n\nexport interface TriggerImageConfig {\n  enabled: boolean;\n  samplingRate: number; //  0.10\n  image: string; // \"${IMAGE:Inspections.C11 Fingergrip.Tool Set.Image}\"\n  path: string; // \"${CONSTANT:Global.Product Name}/${DATE:YYYY-MM-DD}/${CONSTANT:Global.Batch Name}/Reject-${VALUE:Inspections.C11 Fingergrip.Tool Set.1010 M reject condition.Passed}/${trigger}-${name}.bmp\"\n}\n\nconst generateDefaultInspectionSubscription = (inspectionName = '') => ({\n  inspection: inspectionName,\n  batch: {},\n  trigger: {},\n});\n\nexport type TriggerVariablesType = SvPb.GetObjectSelectorItemsResponse['tree'] | string[] | null;\n\nconst DatabaseGatewayEditor = () => {\n  const dispatch = useDispatch();\n  const configuration = useSelector<RootState, DatabaseGatewayConfig>(\n    (state) => state.app.databaseGatewayConfig || { inspectionSubscriptions: [] },\n  );\n\n  const webAppConfiguration = useSelector<RootState, AppConfiguration>(\n    (state) => state.app.configuration,\n  );\n  const protobuf = useSelector<RootState>((state) => state.app.protobuf);\n  const [update, setUpdate] = useState<boolean>(false);\n\n  const batchVariables: string[] = [];\n  if (webAppConfiguration && webAppConfiguration.globalConstants) {\n    (webAppConfiguration.globalConstants || []).forEach((constant: string) => {\n      batchVariables.push('${CONSTANT:' + constant + '}');\n    });\n  }\n\n  const allowedImagePathVariables = [...batchVariables];\n  allowedImagePathVariables.push('${trigger}');\n  allowedImagePathVariables.push('${name}');\n  allowedImagePathVariables.push('${DATE:YYYY-MM-DD}');\n\n  const saveConfiguration = () => {\n    simplifyConfiguration();\n    dispatch(saveDatabaseGatewayConfiguration(protobuf, configuration));\n  };\n\n  const simplifyConfiguration = () => {\n    configuration.inspectionSubscriptions.forEach((subscription) => {\n      if (subscription?.batch) {\n        const batch = subscription.batch;\n        for (const [key, value] of Object.entries(batch)) {\n          if (typeof value === 'object' && value.name === '' && value.enabled !== false) {\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            batch[key] = value.value;\n          }\n        }\n      }\n    });\n  };\n\n  const getInspectionNames = () => {\n    const names: string[] = [];\n    (webAppConfiguration?.inspections || []).forEach((inspection) => {\n      names.push(inspection.name);\n    });\n    return names;\n  };\n\n  const getInspectionId = (inspectionName: string) => {\n    const filteredInspections = webAppConfiguration.inspections.filter(\n      (inspection) => inspection.name === inspectionName,\n    );\n    if (filteredInspections.length > 0) {\n      return filteredInspections[0].id;\n    }\n\n    return -1;\n  };\n\n  const getTriggerVariablesAsTree = (inspectionId: Inspection['id']) => {\n    const items = webAppConfiguration?.objectSelectorItems.get(inspectionId) || [];\n    let tree: SvPb.GetObjectSelectorItemsResponse['tree'] = 'tree' in items ? items.tree : null;\n    tree = webAppConfiguration.filterArrayValuesFromTree<typeof tree>(tree);\n\n    return tree;\n  };\n\n  const getTriggerVariables = (inspectionId: Inspection['id']) => {\n    const variables: string[] = [];\n    const mapping = webAppConfiguration?.idNameMappings.get(inspectionId);\n\n    if (mapping) {\n      // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n      // @ts-ignore\n      mapping.forEach((value) => {\n        variables.push('${VALUE:' + value.fullLocation + '}');\n      });\n    }\n    return variables;\n  };\n\n  const getImageVariables = (inspectionId: Inspection['id']) => {\n    const { tree } =\n      webAppConfiguration?.getObjectSelectorImagesForInspection<SvPb.GetObjectSelectorItemsResponse>(\n        inspectionId,\n      ) || {\n        tree: {},\n      };\n    return tree;\n  };\n\n  const deleteSubscription = (idx: number) => {\n    configuration.inspectionSubscriptions.splice(idx, 1);\n    setUpdate(!update);\n  };\n\n  const inspectionNames = getInspectionNames();\n\n  const renderConfig = () => {\n    const subscriptions: ReactNode[] = [];\n    configuration.inspectionSubscriptions.forEach((subscription, idx) => {\n      let triggerVariablesAsTree: ReturnType<typeof getTriggerVariablesAsTree & string[]> = null;\n      let triggerVariables: string[] = [];\n      let allowedImageVariables = null;\n      if (webAppConfiguration && webAppConfiguration.inspections) {\n        const inspectionId = getInspectionId(subscription.inspection);\n        triggerVariablesAsTree = getTriggerVariablesAsTree(inspectionId);\n        triggerVariables = getTriggerVariables(inspectionId);\n        allowedImageVariables = getImageVariables(inspectionId);\n      }\n\n      subscriptions.push(\n        <div\n          key={`subscription_${subscription.inspection}_${idx}`}\n          className=\"database-gateway-fields-container\"\n        >\n          <div>\n            <IconButton\n              tooltip=\"Add property\"\n              onClick={() => deleteSubscription(idx)}\n              iconUrl={deleteIcon}\n            />\n          </div>\n          <div className=\"field-container\">\n            <div key={`inspection_name_wrapper`} className=\"header\">\n              Inspection:\n            </div>\n            <div className=\"field-settings\">\n              <OutlinedSelection\n                selectedValue={subscription.inspection}\n                values={inspectionNames}\n                onSelectionChanged={(e) => {\n                  subscription.inspection = e.inspectionSelection as string;\n                  setUpdate(!update);\n                }}\n                id=\"inspectionSelection\"\n              />\n            </div>\n          </div>\n          <div className=\"field-container\">\n            <div className=\"header\">Batch:</div>\n            <BatchSettings subscription={subscription} allowedVariables={batchVariables} />\n          </div>\n          <div className=\"field-container\">\n            <div className=\"header\">Trigger:</div>\n            <TriggerSettings\n              subscription={subscription}\n              allowedVariables={triggerVariablesAsTree}\n              allowedAutoCompleteVariables={triggerVariables}\n              allowedImageVariables={allowedImageVariables}\n              allowedImagePathVariables={allowedImagePathVariables}\n            />\n          </div>\n        </div>,\n      );\n    });\n\n    return subscriptions;\n  };\n\n  const addNewSubscription = () => {\n    if (configuration.inspectionSubscriptions) {\n      configuration.inspectionSubscriptions.push(\n        generateDefaultInspectionSubscription(inspectionNames[0]),\n      );\n      saveConfiguration();\n    }\n    setUpdate(!update);\n  };\n\n  return (\n    <div className=\"database-gateway-editor-wrapper\">\n      <ModalNotification visible={!webAppConfiguration} message={<p>Loading...</p>} />\n      <Button variant=\"contained\" color=\"primary\" onClick={() => saveConfiguration()}>\n        Save\n      </Button>\n      {renderConfig()}\n      <Button variant=\"contained\" color=\"primary\" onClick={() => addNewSubscription()}>\n        Add subscription\n      </Button>\n    </div>\n  );\n};\n\nexport default DatabaseGatewayEditor;\n","import React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useSelector } from 'react-redux';\n\nimport DatabaseGatewayEditor from '../components/DatabaseGatewayEditor';\nimport translations from '../translations';\n\nconst DatabaseGatewayPage = () => {\n  const { locale } = useSelector((state) => state.app);\n\n  return (\n    <IntlProvider locale={locale} messages={translations[locale]}>\n      <DatabaseGatewayEditor />\n    </IntlProvider>\n  );\n};\n\nexport default DatabaseGatewayPage;\n","import { useEffect } from 'react';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport ClearIcon from '../../../../assets/icons/clear.svg';\nimport { OutlinedSelection } from '../../../../components/OutlinedSelection';\n\nconst SelectParameter = ({ value, options, labels, changeCallback, removeCallback }) => {\n  useEffect(() => {\n    if (typeof value === 'undefined') {\n      changeCallback && changeCallback(options[0]);\n    }\n  });\n\n  let valuesWithLabels = [];\n\n  // if we have a labels array, options and labels need to be sorted together\n  // if we don't have label array, the values will be used as id and value in select\n  if (labels) {\n    options.forEach((option, idx) => valuesWithLabels.push({ option, label: labels[idx] }));\n\n    valuesWithLabels = valuesWithLabels.sort(function (a, b) {\n      return a.label.localeCompare(b.label);\n    });\n\n    options = valuesWithLabels.map((value) => value.option);\n    labels = valuesWithLabels.map((value) => value.label);\n  } else {\n    options = options.sort();\n  }\n\n  return (\n    <OutlinedSelection\n      selectedValue={value}\n      values={options}\n      labels={labels}\n      onSelectionChanged={(e) => {\n        changeCallback && changeCallback(e['param']);\n      }}\n      id=\"param\"\n      InputProps={\n        removeCallback\n          ? {\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    edge=\"end\"\n                    aria-label=\"remove\"\n                    onClick={() => removeCallback()}\n                    title=\"Remove\"\n                  >\n                    <img src={ClearIcon} alt=\"x\" />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }\n          : null\n      }\n    />\n  );\n};\n\nexport default SelectParameter;\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\n\nconst ArrayParameter = ({\n  value,\n  changeCallback,\n  typeName,\n  defaultValue,\n  options,\n  labels,\n  SingleParameterComponent,\n}) => {\n  const numberOfEntries = (value && value.length) || 0;\n  const fields = [];\n\n  const addArrayEntry = () => {\n    changeCallback([...(value || []), defaultValue]);\n  };\n  const removeArrayEntry = (idx) => {\n    const copy = [...value];\n    copy.splice(idx, 1);\n    changeCallback(copy);\n  };\n\n  for (let i = 0; i < numberOfEntries; i++) {\n    fields.push(\n      <div className=\"field-container\" key={`${typeName}_array_${i}`}>\n        <div className=\"field-name-type\">\n          {i}\n          <small>{typeName}</small>\n        </div>\n        <div className=\"field-settings\">\n          <SingleParameterComponent\n            value={value[i]}\n            changeCallback={(newValue) => {\n              const copy = [...(value || [])];\n              copy[i] = newValue;\n              changeCallback(copy);\n            }}\n            options={options}\n            labels={labels}\n            removeCallback={() => removeArrayEntry(i)}\n          />\n        </div>\n      </div>,\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"field-container is-array\">\n        {fields.length ? (\n          fields\n        ) : (\n          <div className=\"field-container\">\n            <div className=\"field-name-type\">\n              <em>\n                <FormattedMessage id=\"debugger.noItemsMessage\" />\n              </em>\n            </div>\n            <div className=\"field-settings\"></div>\n          </div>\n        )}\n      </div>\n      <Button variant=\"contained\" color=\"primary\" onClick={() => addArrayEntry()}>\n        <FormattedMessage id=\"debugger.addItemButtonText\" />\n      </Button>\n    </div>\n  );\n};\n\nexport default ArrayParameter;\n","import React from 'react';\nimport SelectParameter from '../../generic/SelectParameter';\n\nconst BoolParameter = ({ value, changeCallback }) => {\n  return (\n    <SelectParameter\n      value={value && value !== 'false' ? 'true' : 'false'}\n      options={['true', 'false']}\n      changeCallback={(value) => changeCallback(value === 'true')}\n    />\n  );\n};\n\nexport default BoolParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport BoolParameter from '../BoolParameter';\n\nconst BoolArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={false}\n      SingleParameterComponent={BoolParameter}\n    />\n  );\n};\n\nexport default BoolArrayParameter;\n","import React from 'react';\nimport { TextField } from '@material-ui/core';\n\nconst BytesParameter = ({ value, changeCallback }) => {\n  return (\n    <TextField\n      fullWidth\n      type=\"file\"\n      variant=\"outlined\"\n      value={value || ''}\n      onChange={(e) => changeCallback && changeCallback(e.target.value)}\n    />\n  );\n};\n\nexport default BytesParameter;\n","import React from 'react';\nimport { TextField, InputAdornment, IconButton } from '@material-ui/core';\nimport ClearIcon from '../../../../assets/icons/clear.svg';\n\nconst SingleParameter = ({ value, changeCallback, removeCallback, fieldType, defaultValue }) => {\n  return (\n    <TextField\n      fullWidth\n      type={fieldType}\n      variant=\"outlined\"\n      value={value || defaultValue}\n      onChange={(e) => changeCallback && changeCallback(e.target.value)}\n      InputProps={\n        removeCallback\n          ? {\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    edge=\"end\"\n                    aria-label=\"remove\"\n                    onClick={() => removeCallback()}\n                    title=\"Remove\"\n                  >\n                    <img src={ClearIcon} alt=\"x\" />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }\n          : null\n      }\n    />\n  );\n};\n\nexport default SingleParameter;\n","import React from 'react';\nimport SingleParameter from '../../generic/SingleParameter';\n\nconst DecimalParameter = ({ value, changeCallback, removeCallback }) => {\n  return (\n    <SingleParameter\n      value={value}\n      changeCallback={changeCallback}\n      removeCallback={removeCallback}\n      fieldType=\"number\"\n      defaultValue={0}\n    />\n  );\n};\n\nexport default DecimalParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport DecimalParameter from '../DecimalParameter';\n\nconst DecimalArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={0}\n      SingleParameterComponent={DecimalParameter}\n    />\n  );\n};\n\nexport default DecimalArrayParameter;\n","import React from 'react';\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport SelectParameter from '../../generic/SelectParameter';\n\nconst EnumArrayParameter = ({ value, options, changeCallback }) => {\n  return (\n    <ArrayParameter\n      value={(value || []).map((i) => String(i))}\n      changeCallback={changeCallback}\n      options={Object.values(options)}\n      labels={Object.keys(options)}\n      SingleParameterComponent={SelectParameter}\n    />\n  );\n};\n\nexport default EnumArrayParameter;\n","import React from 'react';\nimport SelectParameter from '../../generic/SelectParameter';\n\nconst EnumParameter = ({ value, options, changeCallback }) => {\n  return (\n    <SelectParameter\n      value={String(value)}\n      options={Object.values(options)}\n      labels={Object.keys(options)}\n      changeCallback={(value) => changeCallback(value)}\n    />\n  );\n};\n\nexport default EnumParameter;\n","import React from 'react';\nimport SingleParameter from '../../generic/SingleParameter';\n\nconst IntegerParameter = ({ value, changeCallback, removeCallback }) => {\n  return (\n    <SingleParameter\n      value={value}\n      changeCallback={changeCallback}\n      removeCallback={removeCallback}\n      fieldType=\"number\"\n      defaultValue={0}\n    />\n  );\n};\n\nexport default IntegerParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport IntegerParameter from '../IntegerParameter';\n\nconst IntegerArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={0}\n      SingleParameterComponent={IntegerParameter}\n    />\n  );\n};\n\nexport default IntegerArrayParameter;\n","import React from 'react';\n\nimport SingleParameter from '../../generic/SingleParameter';\n\nconst TextParameter = ({ value, changeCallback, removeCallback, typeName }) => {\n  return (\n    <SingleParameter\n      value={value}\n      typeName={typeName}\n      changeCallback={changeCallback}\n      removeCallback={removeCallback}\n      fieldType=\"text\"\n      defaultValue={''}\n    />\n  );\n};\n\nexport default TextParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport TextParameter from '../TextParameter';\n\nconst TextArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={''}\n      SingleParameterComponent={TextParameter}\n    />\n  );\n};\n\nexport default TextArrayParameter;\n","import React, { useEffect, useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { cloneDeep, get, set } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\nimport { useSelector } from 'react-redux';\n\nimport Protobuf from '../../protobuf/Protobuf';\n\nimport './style.scss';\nimport SelectParameter from './generic/SelectParameter';\nimport BoolArrayParameter from './specialized/BoolArrayParameter';\nimport BoolParameter from './specialized/BoolParameter';\nimport BytesParameter from './specialized/BytesParameter';\nimport DecimalArrayParameter from './specialized/DecimalArrayParameter';\nimport DecimalParameter from './specialized/DecimalParameter';\nimport EnumArrayParameter from './specialized/EnumArrayParameter';\nimport EnumParameter from './specialized/EnumParameter';\nimport IntegerArrayParameter from './specialized/IntegerArrayParameter';\nimport IntegerParameter from './specialized/IntegerParameter';\nimport TextArrayParameter from './specialized/TextArrayParameter';\nimport TextParameter from './specialized/TextParameter';\n\nconst RequestParameter = ({ name, onResponse }) => {\n  const protobuf = useSelector((state) => state.app.protobuf);\n  const [parameters, setParameters] = useState({});\n  const [nestedParamsMap, setNestedParamsMap] = useState({});\n  const [currentRequestName, setCurrentRequestName] = useState('');\n\n  useEffect(() => {\n    if (currentRequestName === name) return;\n\n    setParameters({});\n    setNestedParamsMap({});\n    setCurrentRequestName(name);\n  }, [name, currentRequestName]);\n\n  if (!Protobuf.SvPb[name]) {\n    return <div></div>;\n  }\n\n  const sendRequest = async () => {\n    onResponse('');\n    if (name === 'MyDummyRequest') {\n      onResponse(parameters);\n      return;\n    }\n    const request = Protobuf.SvPb[name].create(parameters);\n    console.dir(parameters);\n    try {\n      const response = await protobuf.request(request);\n      onResponse(response);\n    } catch (e) {\n      onResponse(`An error occured: ${e.message}`);\n    }\n  };\n\n  const deepValue = (obj, path) => {\n    if (!path) return obj;\n    return get(obj, path);\n  };\n\n  const getStringControl = (field, currentPath, currentValue) => {\n    return (\n      <TextParameter\n        key={`txt_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getStringArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <TextArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getBoolControl = (field, currentPath, currentValue) => {\n    return (\n      <BoolParameter\n        key={`bool_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getBoolArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <BoolArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getIntegerControl = (field, currentPath, currentValue) => {\n    return (\n      <IntegerParameter\n        key={`integer_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getIntegerArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <IntegerArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getDecimalControl = (field, currentPath, currentValue) => {\n    return (\n      <DecimalParameter\n        key={`decimal_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getDecimalArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <DecimalArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getBytesControl = (field, currentPath, currentValue) => {\n    return (\n      <BytesParameter\n        key={`bytes_${field.name}`}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getEnumControl = (type, field, currentPath, currentValue) => {\n    return (\n      <EnumParameter\n        value={currentValue}\n        options={type.values}\n        changeCallback={(value) => {\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, value);\n        }}\n      ></EnumParameter>\n    );\n  };\n\n  const getArrayEnumControl = (type, field, currentPath, currentValue) => {\n    return (\n      <EnumArrayParameter\n        value={currentValue}\n        options={type.values}\n        changeCallback={(value) => {\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, value);\n        }}\n      ></EnumArrayParameter>\n    );\n  };\n\n  const addArrayEntryForType = (currentPath, currentValue) => {\n    const newValue = currentValue ? [...currentValue] : [];\n    newValue.push({});\n    changeValue(currentPath, newValue);\n  };\n\n  const getControlForField = (field, isArray, currentPath) => {\n    const currentValue = deepValue(\n      parameters,\n      currentPath ? `${currentPath}.${field.name}` : field.name,\n    );\n\n    switch (field.type) {\n      case 'string':\n        if (isArray) {\n          return getStringArrayControl(field, currentPath, currentValue);\n        }\n\n        return getStringControl(field, currentPath, currentValue);\n      case 'bool':\n        if (isArray) {\n          return getBoolArrayControl(field, currentPath, currentValue);\n        }\n\n        return getBoolControl(field, currentPath, currentValue);\n      case 'int32':\n      case 'int64':\n      case 'uint32':\n      case 'uint64':\n      case 'sint32':\n      case 'sint64':\n      case 'fixed32':\n      case 'fixed64':\n      case 'sfixed32':\n      case 'sfixed64':\n        if (isArray) {\n          return getIntegerArrayControl(field, currentPath, currentValue);\n        }\n\n        return getIntegerControl(field, currentPath, currentValue);\n      case 'double':\n      case 'float':\n        if (isArray) {\n          return getDecimalArrayControl(field, currentPath, currentValue);\n        }\n\n        return getDecimalControl(field, currentPath, currentValue);\n      case 'bytes':\n        return getBytesControl(field, currentPath, currentValue);\n      default: {\n        const type = Protobuf.SvPb.lookup(field.type);\n        if (type && type.constructor.name === 'Enum') {\n          if (isArray) {\n            return getArrayEnumControl(type, field, currentPath, currentValue);\n          }\n\n          return getEnumControl(type, field, currentPath, currentValue);\n        }\n\n        const newPath = currentPath ? `${currentPath}.${field.name}` : field.name;\n\n        if (isArray) {\n          return getArrayControlsForType(type, newPath, currentValue);\n        }\n\n        return getControlsForType(type, newPath, currentValue);\n      }\n    }\n  };\n\n  const changeValue = (path, value) => {\n    const newParams = cloneDeep(parameters);\n    set(newParams, path, value);\n    setParameters(newParams);\n  };\n\n  const getControlsForType = (type, path) => {\n    const controls = [];\n    const fieldKeys = type?.fields ? Object.keys(type.fields) : [];\n\n    if (type.oneofs) {\n      Object.keys(type.oneofs).forEach((oneOfKey) => {\n        controls.push(\n          <div className=\"field-container\" key={`div_${oneOfKey}`}>\n            <div className=\"field-name-type\">\n              {oneOfKey}\n              <small>oneof type</small>\n            </div>\n            <div className=\"field-settings\">\n              <SelectParameter\n                value={nestedParamsMap[`${path}.${oneOfKey}`]}\n                options={type.oneofs[oneOfKey].oneof}\n                changeCallback={(value) => {\n                  setNestedParamsMap({\n                    ...nestedParamsMap,\n                    [`${path}.${oneOfKey}`]: value,\n                  });\n                }}\n              ></SelectParameter>\n            </div>\n          </div>,\n        );\n      });\n    }\n\n    fieldKeys.forEach((fieldkey) => {\n      const field = type.fields[fieldkey];\n      if (!field) return;\n\n      if (field.partOf && field.name !== nestedParamsMap[`${path}.${field.partOf.name}`]) {\n        return;\n      }\n\n      controls.push(\n        <div className=\"field-container\" key={`div_${field.name}`}>\n          <div className=\"field-name-type\">\n            {field.name}\n            <small>\n              {field.rule} {field.type}\n              {field.required ? '*' : ''}\n            </small>\n          </div>\n          <div className=\"field-settings\">\n            {getControlForField(field, field.rule === 'repeated', path)}\n          </div>\n        </div>,\n      );\n    });\n\n    if (!fieldKeys.length && path.length)\n      controls.push(\n        <div className=\"field-container\" key={`div_type.name`}>\n          <div className=\"field-name-type\">\n            <em>\n              <FormattedMessage id=\"debugger.nothingToConfigureMessage\"></FormattedMessage>\n            </em>\n          </div>\n          <div className=\"field-settings\"></div>\n        </div>,\n      );\n\n    return controls;\n  };\n\n  const getArrayControlsForType = (type, path, value) => {\n    const controls = [];\n    (value || []).forEach((_, idx) => {\n      controls.push(\n        <div className=\"field-container\" key={`${type.name}_array_${idx}`}>\n          <div className=\"field-name-type\">\n            {idx}\n            <small>{type.name}</small>\n          </div>\n          <div className=\"field-settings\">\n            {getControlsForType(type, path ? `${path}.${idx}` : idx, value[idx])}\n          </div>\n        </div>,\n      );\n    });\n\n    return (\n      <div>\n        <div className=\"field-container is-array\">\n          {controls.length ? (\n            controls\n          ) : (\n            <div className=\"field-container\">\n              <div className=\"field-name-type\">\n                <em>\n                  <FormattedMessage id=\"debugger.noItemsMessage\" />\n                </em>\n              </div>\n              <div className=\"field-settings\"></div>\n            </div>\n          )}\n        </div>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => addArrayEntryForType(path, value)}\n        >\n          Add\n        </Button>\n      </div>\n    );\n  };\n\n  const fields = getControlsForType(Protobuf.SvPb[name], '');\n  return (\n    <div className=\"request-parameters-container\">\n      <div className=\"request-name-type\">\n        {name}\n        <small>Request</small>\n      </div>\n      <div className=\"request-parameters-fields-container\">\n        {fields && fields.length ? fields : <FormattedMessage id=\"debugger.noParametersMessage\" />}\n      </div>\n\n      <Button\n        className=\"send-button\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => sendRequest()}\n      >\n        <FormattedMessage id=\"debugger.sendRequest\" />\n      </Button>\n    </div>\n  );\n};\n\nexport default RequestParameter;\n","import React, { useEffect, useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport Product from '../../protobuf/Product';\n\nimport './style.scss';\n\nconst RequestedResponseVisualizer = ({ response }) => {\n  const [imageUrl, setImageUrl] = useState('');\n  const [fileData, setFileData] = useState('');\n\n  useEffect(() => {\n    if (response && response.imageData) {\n      const product = new Product({\n        history: null,\n        trigger: null,\n        isReject: false,\n      });\n      setImageUrl(product.buildUrl(response.imageData));\n    } else {\n      setImageUrl('');\n    }\n  }, [response]);\n\n  useEffect(() => {\n    if (response && response.fileData) {\n      const blob = new Blob(response.fileData, { type: 'octet/stream' });\n      setFileData(window.URL.createObjectURL(blob));\n    } else {\n      setFileData('');\n    }\n  }, [response]);\n\n  const copyResponseToClipboard = async () => {\n    if (!navigator.clipboard) {\n      // fallback code possible, but I think not needed as we use the debugger only\n      return;\n    }\n    await navigator.clipboard.writeText(result);\n  };\n\n  const result = response ? JSON.stringify(response, null, 2) : '';\n\n  return (\n    <div className=\"response-body-container\">\n      <div className=\"response-body-header\">\n        <div className=\"response-name-type\">\n          {response ? response.constructor.name : 'Response'}\n          <small>Response</small>\n        </div>\n        <div>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={copyResponseToClipboard}\n            disabled={!result}\n          >\n            <FormattedMessage id=\"debugger.copyToClipboard\" />\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"response-content\">\n        {imageUrl ? <img src={imageUrl} alt=\"\" /> : undefined}\n        {fileData ? <a href={fileData}>Download</a> : undefined}\n        <pre className=\"response-formatter\">{result}</pre>\n      </div>\n    </div>\n  );\n};\n\nexport default RequestedResponseVisualizer;\n","import React, { useEffect, useState } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\n\nconst RequestsList = ({ proto, chooseCallback }) => {\n  const [filter, setFilter] = useState('');\n  const [active, setActive] = useState(null);\n\n  const requests = Object.keys(proto)\n    .sort()\n    .reduce((requests, key) => {\n      if (!key.toLowerCase().includes(filter)) return requests;\n\n      return [\n        ...requests,\n        <li\n          key={`li_${key}`}\n          requestname={key}\n          className={active === key ? 'active' : ''}\n          onClick={() => {\n            chooseCallback(key);\n            setActive(key);\n          }}\n        >\n          {key}\n        </li>,\n      ];\n    }, []);\n\n  useEffect(() => {\n    if (!active) {\n      chooseCallback(requests[0].props.requestname);\n      setActive(requests[0].props.requestname);\n    }\n  }, [active, chooseCallback, requests]);\n\n  return (\n    <div className=\"requests-list\">\n      <div className=\"request-list-header\">\n        <FormattedMessage id=\"debugger.requestsListHeader\" />\n        <small>Choose one from the list below</small>\n      </div>\n      <div className=\"requests-filter\">\n        <TextField\n          fullWidth\n          type=\"text\"\n          variant=\"outlined\"\n          value={filter}\n          onChange={(e) => setFilter(e.target.value.toLowerCase())}\n          placeholder=\"Search...\"\n        />\n      </div>\n      <div className=\"requests\">\n        <ul>{requests}</ul>\n      </div>\n    </div>\n  );\n};\n\nexport default RequestsList;\n","import React, { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router-dom';\nimport ArrowIcon from '../../assets/icons/back.svg';\nimport Protobuf from '../../protobuf/Protobuf';\nimport RequestParameter from '../RequestParameter';\nimport RequestedResponseVisualizer from '../RequestedResponseVisualizer';\nimport RequestsList from '../RequestsList';\n\nimport './style.scss';\n\nconst Debugger = () => {\n  const [currentRequest, setCurrentRequest] = useState('');\n  const [response, setResponse] = useState(null);\n\n  const filteredProto = Object.keys(Protobuf.SvPb)\n    .sort()\n    .reduce((requests, key) => {\n      if (!key.endsWith('Request')) return requests;\n      if (key.endsWith('StreamRequest')) return requests;\n      if (\n        Protobuf.SvPb[key].filename.includes('InspectionCommands') &&\n        key !== 'InspectionCmdRequest'\n      )\n        return requests;\n      if (Protobuf.SvPb[key].filename.includes('ConfigCommands') && key !== 'ConfigCommandRequest')\n        return requests;\n\n      return { ...requests, [key]: Protobuf.SvPb[key] };\n    }, {});\n\n  return (\n    <div className=\"debugger-wrapper\">\n      <div className=\"debugger-header\">\n        <Button component={Link} variant=\"contained\" color=\"primary\" to=\"/app\">\n          <img src={ArrowIcon} alt=\"back\" className=\"image-item\" />\n          <FormattedMessage id=\"debugger.backToWebApp\" />\n        </Button>\n      </div>\n      <div className=\"request-list-container\">\n        <RequestsList\n          proto={filteredProto}\n          chooseCallback={(key) => {\n            setCurrentRequest(key);\n            setResponse(null);\n          }}\n        />\n      </div>\n      <div className=\"request-container\">\n        <RequestParameter name={currentRequest} onResponse={(response) => setResponse(response)} />\n      </div>\n      <div className=\"response-container\">\n        <RequestedResponseVisualizer response={response} />\n      </div>\n    </div>\n  );\n};\n\nexport default Debugger;\n","import React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport Debugger from '../components/Debugger';\nimport translations from '../translations';\n\nconst DebuggerPage = () => {\n  const { locale } = useSelector((state) => state.app);\n  return (\n    <IntlProvider locale={locale} messages={translations[locale]}>\n      <Debugger />\n    </IntlProvider>\n  );\n};\n\nexport default DebuggerPage;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router';\n\nimport {\n  setLocale,\n  authenticate,\n  setTopNavHidden,\n  setBottomNavHidden,\n  setDefaultViewSetName,\n} from '../redux/actions';\nimport logger from '../utils/logger';\n\nconst parseQueryParams = (search) => {\n  const queryParams = {};\n  try {\n    search\n      .substr(1)\n      .split('&')\n      .forEach((item) => {\n        const part = item.split('=');\n        const key = part[0];\n        const value = part[1] && decodeURIComponent(part[1]);\n        queryParams[key] = value;\n      });\n  } catch (error) {\n    logger.error(error);\n  }\n  return queryParams;\n};\n\nclass HmiLoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authenticated: false,\n      queryParams: parseQueryParams(this.props.location.search),\n    };\n  }\n\n  componentDidMount() {\n    this.props.setTopNavHidden(this.state.queryParams.hideTopNavigation === 'true');\n    this.props.setBottomNavHidden(this.state.queryParams.hideBottomNavigation === 'true');\n\n    this.props.setLocale(this.state.queryParams.locale || 'en');\n\n    this.props.setDefaultViewSetName(this.state.queryParams.viewSet || null);\n\n    if (this.state.queryParams.token) {\n      this.props\n        .authenticate(this.state.queryParams.token)\n        .then(() => this.setState({ authenticated: true }))\n        .catch((authError) => this.setState({ authError }));\n    }\n  }\n\n  render() {\n    if (!this.state.queryParams.token) {\n      return <div>Malformed query params</div>;\n    }\n    if (this.state.authError) {\n      return (\n        <div>\n          Invalid token provided. Error: {this.state.authError.response?.status} Status:{' '}\n          {this.state.authError.response?.statusText}\n        </div>\n      );\n    }\n    if (!this.state.authenticated) {\n      return <div>Fetching auth token for provided access token</div>;\n    }\n\n    return (\n      <Redirect\n        to={{\n          pathname: '/app',\n          state: { viewSetTemplate: this.state.queryParams.viewSet },\n        }}\n      />\n    );\n  }\n}\n\nHmiLoginPage.propTypes = {\n  location: PropTypes.shape({\n    search: PropTypes.string,\n  }).isRequired,\n  setLocale: PropTypes.func.isRequired,\n  authenticate: PropTypes.func.isRequired,\n  setTopNavHidden: PropTypes.func.isRequired,\n  setBottomNavHidden: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  setLocale: (locale) => dispatch(setLocale(locale)),\n  authenticate: (accessToken) => dispatch(authenticate(accessToken)),\n  setTopNavHidden: (hidden) => dispatch(setTopNavHidden(hidden)),\n  setBottomNavHidden: (hidden) => dispatch(setBottomNavHidden(hidden)),\n  setDefaultViewSetName: (name) => dispatch(setDefaultViewSetName(name)),\n});\n\nexport default connect(null, mapDispatchToProps)(HmiLoginPage);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport { logOut } from '../redux/actions';\nimport { removeAllUserInfoFromStorage } from '../utils/localStorage';\n\nclass LogoutPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedOut: false,\n    };\n  }\n\n  render() {\n    this.props.onLogOut().then(() => {\n      this.setState({ loggedOut: true });\n    });\n\n    if (this.state.loggedOut) {\n      removeAllUserInfoFromStorage();\n      this.props.onLoggedOut();\n      return (\n        <Redirect\n          to={{\n            pathname: '/',\n            state: { loggedOut: true },\n          }}\n        />\n      );\n    }\n    return null;\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  onLogOut: () => dispatch(logOut()),\n});\n\nexport default connect(null, mapDispatchToProps)(LogoutPage);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  toggleFullscreenMode,\n  setEditingFocus,\n  setFocusedViewType,\n  setSaveFlag,\n  openHelpView,\n  setParameter,\n} from '../redux/actions/index';\nimport logger from '../utils/logger';\nimport { IMAGE_VIEW } from '../views/ViewSetFactory';\n\nexport default class KeyHandler extends Component {\n  componentDidMount() {\n    this.node.addEventListener('keydown', this.handleKeyEvent);\n    this.node.addEventListener('click', this.handleClick);\n  }\n\n  componentWillUnmount() {\n    this.node.removeEventListener('keydown', this.handleKeyEvent);\n    this.node.removeEventListener('click', this.handleClick);\n  }\n\n  handleKeyEvent = (event) => {\n    const keyString = `${event.ctrlKey ? 'ctrl+' : ''}${event.key}`;\n    switch (keyString) {\n      case 'ctrl+f':\n        event.preventDefault();\n        this.props.dispatch(toggleFullscreenMode(this.props.view));\n        break;\n      case 'F1':\n        event.preventDefault();\n        this.props.dispatch(openHelpView());\n        break;\n      default:\n        return;\n    }\n    event.stopPropagation();\n  };\n\n  handleClick = () => {\n    const { view, editingViewIds, dispatch, helpSection } = this.props;\n\n    if (view) {\n      try {\n        const viewId = view.props.id;\n        const viewSet = view.props.views.viewSet[viewId];\n        if (viewSet) {\n          const inspectionId = viewSet.inspectionId;\n          const viewType = viewSet.viewComponentClassId;\n          if (viewType === IMAGE_VIEW) {\n            dispatch(setEditingFocus(inspectionId, viewId));\n            dispatch(setParameter(null));\n\n            if (!editingViewIds.includes(viewId)) {\n              dispatch(setSaveFlag(true));\n            }\n          }\n          dispatch(setFocusedViewType(viewType));\n        }\n      } catch (e) {\n        logger.error(e instanceof Error ? e.message : String(e));\n      }\n    } else if (helpSection) {\n      dispatch(setFocusedViewType(helpSection));\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <div\n        tabIndex={0}\n        style={{ width: '100%', height: '100%' }}\n        ref={(node) => {\n          this.node = node;\n        }}\n      >\n        {children && children}\n      </div>\n    );\n  }\n}\n\nKeyHandler.defaultProps = {\n  children: undefined,\n};\n\nKeyHandler.propTypes = {\n  children: PropTypes.node,\n  dispatch: PropTypes.func.isRequired,\n  view: PropTypes.object, // eslint-disable-line\n};\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport ArrowIcon from '../../assets/icons/back.svg';\nimport Protobuf from '../../protobuf/Protobuf';\nimport {\n  flattenProtobuf,\n  canReadUserManagement,\n  canEditUserManagement,\n  getGroupPermissionsFromFlattenedPermissions,\n} from '../../utils/permissions';\n\nimport './style.scss';\n\nclass PermissionManagement extends Component {\n  constructor(props) {\n    super(props);\n    this.allAvailablePermissions = new Set();\n    this.state = {\n      redirect: false,\n      initiallySelectedPermissions: new Map(),\n      currentSelectedPermissions: new Map(),\n    };\n  }\n\n  componentDidMount() {\n    if (Protobuf.SvPb.Permissions) {\n      this.allAvailablePermissions = flattenProtobuf(Protobuf.SvPb.Permissions);\n      this.loadCurrentPermissions(this.props.groupPermissions);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      (prevProps.groupPermissions === undefined && this.props.groupPermissions) ||\n      prevProps.groupPermissions !== this.props.groupPermissions\n    ) {\n      this.loadCurrentPermissions(this.props.groupPermissions);\n    }\n  }\n\n  loadCurrentPermissions = (permissions) => {\n    if (permissions) {\n      const initiallySelectedPermissions = permissions;\n      const currentSelectedPermissions = cloneDeep(initiallySelectedPermissions);\n      this.setState({ initiallySelectedPermissions, currentSelectedPermissions });\n    }\n  };\n\n  onCheck(groupName, key, checked) {\n    const newPermissions = cloneDeep(this.state.currentSelectedPermissions);\n    if (!newPermissions.has(groupName)) {\n      newPermissions.set(groupName, { groupPermissions: new Set(), users: [] });\n    }\n    if (checked) {\n      newPermissions.get(groupName).groupPermissions.add(key);\n    } else {\n      newPermissions.get(groupName).groupPermissions.delete(key);\n    }\n    this.setState({ currentSelectedPermissions: newPermissions });\n  }\n\n  savePermissions = (flattenedPermissions) => {\n    const result = getGroupPermissionsFromFlattenedPermissions(flattenedPermissions);\n    this.props.proxy.setUserPermissions(result);\n  };\n\n  onSaveClicked = () => {\n    this.savePermissions(this.state.currentSelectedPermissions);\n  };\n\n  onResetClicked = () => {\n    this.setState({\n      currentSelectedPermissions: cloneDeep(this.state.initiallySelectedPermissions),\n    });\n  };\n\n  mapsAreEqual(am, bm) {\n    if (am.size !== bm.size) {\n      return false;\n    }\n    for (var a of am) {\n      if (!bm.has(a[0])) {\n        return false;\n      }\n\n      const bs = bm.get(a[0]).groupPermissions;\n      if (a[1].groupPermissions.size !== bs.size) {\n        return false;\n      }\n\n      for (var as of a[1].groupPermissions) {\n        if (!bs.has(as)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  getColGroup() {\n    const { currentSelectedPermissions } = this.state;\n    const colGroup = [];\n\n    colGroup.push(<col style={{ width: '200px' }} key={`col_permissions`}></col>);\n    currentSelectedPermissions.forEach((permissionsPerGroup, groupName) => {\n      colGroup.push(<col style={{ width: '80px' }} key={`col_${groupName}`}></col>);\n    });\n    colGroup.push(<col style={{ width: '*' }} key={`col_descriptions`}></col>);\n\n    return colGroup;\n  }\n\n  getTableHead() {\n    const { currentSelectedPermissions } = this.state;\n    const tableheader = [];\n\n    tableheader.push(\n      <td key={`header_td_permissions`}>\n        <div className=\"permission-management-permissions-header-left\">\n          <FormattedMessage id=\"permissions.permissions\" />\n        </div>\n      </td>,\n    );\n    currentSelectedPermissions.forEach((permissionsPerGroup, groupName) => {\n      tableheader.push(\n        <td key={`header_td_${groupName}`}>\n          <div className=\"permission-management-permissions-header\">{groupName}</div>\n          <div className=\"permission-management-permissions-subheader\">\n            {Array.isArray(permissionsPerGroup.users) && permissionsPerGroup.users.length > 0\n              ? `(${permissionsPerGroup.users.join(', ')})`\n              : undefined}\n          </div>\n        </td>,\n      );\n    });\n    tableheader.push(\n      <td key={`header_td_description`}>\n        <div className=\"permission-management-permissions-header\">\n          <FormattedMessage id=\"permissions.description\" />\n        </div>\n      </td>,\n    );\n\n    return <tr>{tableheader}</tr>;\n  }\n\n  getData(canEdit) {\n    const { currentSelectedPermissions } = this.state;\n    const data = [];\n    this.allAvailablePermissions.forEach((permission) => {\n      const dataRow = [];\n      dataRow.push(\n        <td key={`body_td_permission_${permission}`}>\n          <div className=\"permission-management-label\">{permission}</div>\n        </td>,\n      );\n      currentSelectedPermissions.forEach((permissionsPerGroup, groupName) => {\n        const selected = permissionsPerGroup.groupPermissions.has(permission);\n        dataRow.push(\n          <td key={`body_td_${groupName}_${permission}`}>\n            <Checkbox\n              type=\"checkbox\"\n              checked={selected}\n              name={`checkbox_${groupName}_${permission}`}\n              color=\"primary\"\n              className=\"permission-management-checkbox\"\n              onClick={(e) =>\n                canEdit && groupName !== 'sdm'\n                  ? this.onCheck(groupName, permission, e.target.checked)\n                  : undefined\n              }\n              disabled={!canEdit || groupName === 'sdm'}\n            />\n          </td>,\n        );\n      });\n      dataRow.push(\n        <td key={`body_td_description_${permission}`}>\n          <div className=\"permission-management-label\">\n            <FormattedMessage id={`permissionDescription.${permission}`} />\n          </div>\n        </td>,\n      );\n      data.push(<tr key={`body_tr_${permission}`}>{dataRow}</tr>);\n    });\n    return data;\n  }\n\n  render() {\n    const { redirect, initiallySelectedPermissions, currentSelectedPermissions } = this.state;\n    const { myPermissions } = this.props;\n\n    const canRead = canReadUserManagement(myPermissions);\n    const canEdit = canEditUserManagement(myPermissions);\n\n    if (redirect) {\n      return <Redirect to=\"/app\" />;\n    }\n\n    const hasChanges = !this.mapsAreEqual(initiallySelectedPermissions, currentSelectedPermissions);\n    const colGroup = this.getColGroup();\n    const tablehead = this.getTableHead();\n    const data = this.getData(canEdit);\n\n    return (\n      <div className=\"permission-management-wrapper\">\n        <div className=\"permission-management-fixed-header\">\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => this.setState({ redirect: true })}\n          >\n            <img src={ArrowIcon} alt=\"back\" className=\"image-item\" />\n            <FormattedMessage id=\"permissions.backToWebApp\" />\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!hasChanges}\n            onClick={this.onSaveClicked}\n          >\n            Save\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!hasChanges}\n            onClick={this.onResetClicked}\n          >\n            Reset\n          </Button>\n        </div>\n        <h1>\n          <FormattedMessage id=\"permissions.permissionManagement\" />\n        </h1>\n        <h3>\n          <FormattedMessage id=\"permissions.helpText\" />\n        </h3>\n        {canRead || canEdit ? (\n          <table className=\"permission-management-table-wrapper\">\n            <colgroup>{colGroup}</colgroup>\n            <thead>{tablehead}</thead>\n            <tbody>{data}</tbody>\n          </table>\n        ) : undefined}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  groupPermissions: state.app.groupPermissions,\n  proxy: state.app.proxy,\n  user: state.app.user,\n  myPermissions: state.app.myPermissions,\n});\n\nexport default connect(mapStateToProps, null)(PermissionManagement);\n","import React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport KeyHandler from '../components/KeyHandler';\nimport PermissionManagement from '../components/PermissionManagement';\nimport { closeHelpView } from '../redux/actions';\nimport translations from '../translations';\nimport HelpView from '../views/HelpView';\nimport viewMappings from '../views/HelpView/viewMappings';\n\nconst PermissionPage = () => {\n  const dispatch = useDispatch();\n  const { isHelpViewOpen, locale } = useSelector((state) => state.app);\n\n  return (\n    <IntlProvider locale={locale} messages={translations[locale]}>\n      <KeyHandler dispatch={dispatch} helpSection={viewMappings.PERMISSIONS}>\n        <PermissionManagement />\n        <HelpView open={isHelpViewOpen} onClose={() => dispatch(closeHelpView())}></HelpView>\n      </KeyHandler>\n    </IntlProvider>\n  );\n};\n\nexport default PermissionPage;\n","import PropTypes from 'prop-types';\n\nconst ProtobufType = PropTypes.shape({\n  request: PropTypes.func.isRequired,\n});\n\nexport default ProtobufType;\n","export default __webpack_public_path__ + \"static/media/view-manager.8d715a8f.svg\";","export default __webpack_public_path__ + \"static/media/check.069f9f99.svg\";","export default __webpack_public_path__ + \"static/media/export.6f1edad0.svg\";","export default __webpack_public_path__ + \"static/media/import.2817cb78.svg\";","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport Dialog from '../Dialog';\nimport './style.scss';\n\nclass InformationDialog extends Component {\n  render() {\n    const { onClose, open, title, message } = this.props;\n\n    return (\n      <div>\n        <Dialog title={title} onClose={onClose} open={open}>\n          <div className=\"message-wrapper\">{message}</div>\n          <div className=\"button-wrapper\">\n            <Button color=\"primary\" onClick={onClose}>\n              Okay\n            </Button>\n          </div>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default InformationDialog;\n","import React, { useState, useRef } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\nimport Table, { AutoResizer } from 'react-base-table';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { useSelector, useDispatch } from 'react-redux';\nimport semver from 'semver';\n\nimport iconCheck from '../../assets/icons/check.svg';\nimport removeIcon from '../../assets/icons/delete.svg';\nimport EditIcon from '../../assets/icons/edit.svg';\nimport exportIcon from '../../assets/icons/export.svg';\nimport importIcon from '../../assets/icons/import.svg';\nimport addIcon from '../../assets/icons/plus.svg';\nimport iconSave from '../../assets/icons/save.svg';\n\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport Dialog from '../../components/Dialog';\nimport InformationDialog from '../../components/InformationDialog';\nimport IconButton from '../../components/buttons/IconButton';\nimport {\n  removeViewSet,\n  renameViewSet,\n  newViewSet,\n  setViewSet,\n  setEditingFocus,\n  purgeViewState,\n} from '../../redux/actions';\nimport { forceDownload } from '../../utils/downloader';\nimport logger from '../../utils/logger';\nimport {\n  canAddViewSet,\n  canReadViewSet,\n  canEditViewSet,\n  canDeleteViewSet,\n  canSaveConfig,\n} from '../../utils/permissions';\n\nimport './style.scss';\n\nconst ViewSetManager = ({ onClose, onSave, intl }) => {\n  const fileChooser = useRef(null);\n  const dispatch = useDispatch();\n  const createdViewSets = useSelector((state) => state.viewSet.createdViewSets);\n  const currentViewSet = useSelector((state) => state.viewSet.currentViewSet);\n  const inspections = useSelector((state) => state.inspections);\n  const configuration = useSelector((state) => state.app.configuration);\n  const myPermissions = useSelector((state) => state.app.myPermissions);\n  const canAdd = canAddViewSet(myPermissions);\n  const canEdit = canEditViewSet(myPermissions);\n  const canDelete = canDeleteViewSet(myPermissions);\n\n  const [name, setName] = useState(currentViewSet.name);\n  const [isImportConfirmOpen, setIsImportConfirmOpen] = useState(false);\n  const [viewsetToDelete, setViewsetToDelete] = useState('');\n  const [currentImportedViewSet, setCurrentImportedViewSet] = useState(null);\n  const [isInformationDialogOpen, setIsInformationDialogOpen] = useState(false);\n  const [informationDialogTitle, setInformationDialogTitle] = useState('');\n  const [informationDialogMessage, setInformationDialogMessage] = useState('');\n  const [shouldCloseViewSetManager, setShouldCloseViewSetManager] = useState(false);\n  const [viewSetToEdit, setViewSetToEdit] = useState('');\n\n  const fileLoaderVersion = '1.0.0';\n\n  const getNextFreeName = (nameToTry) => {\n    let name = nameToTry;\n    let counter = 1;\n    while (existsName(name)) {\n      name = `${nameToTry}${counter}`;\n      counter++;\n    }\n\n    return name;\n  };\n\n  const existsName = (name) => {\n    return Object.keys(createdViewSets).filter((key) => key === name).length > 0;\n  };\n\n  const addViewSet = () => {\n    const newViewSetName = getNextFreeName('Initial');\n    dispatch(newViewSet(newViewSetName));\n  };\n\n  const removeSelectedViewSet = () => {\n    dispatch(removeViewSet(viewsetToDelete));\n  };\n\n  const saveViewSets = () => {\n    onSave();\n    closeViewSetManager();\n  };\n\n  const exportViewSets = async () => {\n    const webAppVersion = configuration.getWebAppVersion();\n    const dataToSave = {\n      currentViewSet,\n      editingViewIds: getEditingViewIdsPerInspection(),\n      timestamp: new Date(),\n      version: '1.0.0',\n      webAppVersion,\n    };\n\n    await createJsonFileFromObject(dataToSave);\n\n    closeViewSetManager();\n  };\n\n  const getEditingViewIdsPerInspection = () => {\n    const editingViewIds = [];\n\n    Object.keys(inspections).forEach((inspectionIdStr) => {\n      const inspectionId = parseInt(inspectionIdStr, 10);\n      if (\n        inspections[inspectionIdStr] &&\n        inspections[inspectionIdStr].sharedState &&\n        inspections[inspectionIdStr].sharedState.editingViewId\n      ) {\n        editingViewIds.push({\n          inspectionId,\n          editingViewId: inspections[inspectionIdStr].sharedState.editingViewId,\n        });\n      }\n    });\n\n    return editingViewIds;\n  };\n\n  const createJsonFileFromObject = async (object) => {\n    const json = JSON.stringify(object);\n    const blob = new Blob([json], { type: 'application/json' });\n    const data = await URL.createObjectURL(blob);\n\n    forceDownload(data, 'viewset.json');\n  };\n\n  const importViewSets = () => {\n    fileChooser.current.click();\n  };\n\n  const onFileAdded = (evt) => {\n    const file = evt.target.files[0];\n\n    if (file) {\n      const fileReader = new FileReader();\n      fileReader.readAsText(file);\n\n      fileReader.onload = (event) => {\n        handleFileData(event.target.result);\n      };\n    }\n  };\n\n  const handleFileData = (fileText) => {\n    try {\n      const data = JSON.parse(fileText);\n      if (equalsViewSetName(data.currentViewSet.id)) {\n        setIsImportConfirmOpen(true);\n        setCurrentImportedViewSet(data);\n        return;\n      }\n\n      setViewSetConfigurationFromFileData(data);\n    } catch (error) {\n      showErrorWhileLoadingFileDialog();\n      logger.error(error);\n    }\n  };\n\n  const handleImportConfirmDialogClose = (confirmed) => {\n    setIsImportConfirmOpen(false);\n    if (confirmed) {\n      loadViewSetFromFile();\n    } else {\n      fileChooser.current.value = '';\n    }\n  };\n\n  const handleDeleteConfirmDialogClose = (confirmed) => {\n    setViewsetToDelete('');\n    if (confirmed) {\n      removeSelectedViewSet();\n    }\n  };\n\n  const loadViewSetFromFile = () => {\n    setViewSetConfigurationFromFileData(currentImportedViewSet);\n  };\n\n  const equalsViewSetName = (name) => {\n    if (currentViewSet.id === name) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const setViewSetConfigurationFromFileData = (data) => {\n    loadSuccessfulInformationDialogText();\n\n    if (!isMajorVersionCompatible(data.version)) {\n      showIncompatibleVersionErrorDialog();\n      logger.error('Version of file is not valid.');\n      return;\n    }\n\n    if (isMinorVersionNewer(data.version)) {\n      loadVersionChangeInformationDialogText();\n    }\n\n    if (!data.currentViewSet.id) {\n      showErrorWhileLoadingFileDialog();\n      logger.error('Could not load viewset id.');\n      return;\n    }\n    dispatch(setViewSet(data.currentViewSet, data.currentViewSet.id));\n\n    if (data.editingViewIds) {\n      data.editingViewIds.forEach((entry) => {\n        dispatch(setEditingFocus(entry.inspectionId, entry.editingViewId));\n      });\n    }\n\n    dispatch(purgeViewState());\n    showInformationDialog();\n  };\n\n  const isMajorVersionCompatible = (version) => {\n    if (fileLoaderVersion === version) {\n      return true;\n    }\n\n    if (!semver.valid(version) || semver.diff(fileLoaderVersion, version) === 'major') {\n      return false;\n    }\n\n    return true;\n  };\n\n  const isMinorVersionNewer = (version) => {\n    return (\n      semver.diff(fileLoaderVersion, version) === 'minor' && semver.gt(version, fileLoaderVersion)\n    );\n  };\n\n  const closeViewSetManager = () => {\n    onClose();\n  };\n\n  const loadSuccessfulInformationDialogText = () => {\n    setInformationDialogTitle(<FormattedMessage id=\"notifications.successfulAction\" />);\n    setInformationDialogMessage(<FormattedMessage id=\"notifications.successfullyLoadedFile\" />);\n    setShouldCloseViewSetManager(true);\n  };\n\n  const showErrorWhileLoadingFileDialog = () => {\n    setInformationDialogTitle(<FormattedMessage id=\"notifications.errorOccurred\" />);\n    setInformationDialogMessage(<FormattedMessage id=\"notifications.error.loadingFile\" />);\n    setIsInformationDialogOpen(true);\n  };\n\n  const showIncompatibleVersionErrorDialog = () => {\n    setInformationDialogTitle(\n      <FormattedMessage id=\"notifications.viewsetVersionIncompatibleTitle\" />,\n    );\n    setInformationDialogMessage(\n      <FormattedMessage id=\"notifications.viewsetVersionIncompatibleMessage\" />,\n    );\n    setIsInformationDialogOpen(true);\n  };\n\n  const loadVersionChangeInformationDialogText = () => {\n    setInformationDialogTitle(<FormattedMessage id=\"notifications.minorVersionDiffTitle\" />);\n    setInformationDialogMessage(<FormattedMessage id=\"notifications.minorVersionDiffMessage\" />);\n    setShouldCloseViewSetManager(true);\n  };\n\n  const showInformationDialog = () => {\n    setIsInformationDialogOpen(true);\n  };\n\n  const getActions = () => {\n    const actions = [\n      {\n        intlId: 'viewSetManager.save',\n        iconUrl: iconSave,\n        onClickHandler: () => {\n          saveViewSets();\n        },\n        enabled: canSaveConfig(myPermissions),\n      },\n      {\n        intlId: 'viewSetManager.export',\n        iconUrl: exportIcon,\n        onClickHandler: () => {\n          exportViewSets();\n        },\n        enabled: canReadViewSet(myPermissions),\n      },\n      {\n        intlId: 'viewSetManager.import',\n        iconUrl: importIcon,\n        onClickHandler: () => {\n          importViewSets();\n        },\n        enabled: canEdit,\n      },\n    ];\n\n    return actions;\n  };\n\n  const getColumns = () => {\n    return [\n      {\n        key: 'name',\n        dataKey: 'name',\n        title: 'Name',\n        width: 0,\n        flexGrow: 1,\n      },\n      {\n        key: 'edit',\n        dataKey: 'edit',\n        title: '',\n        width: 40,\n      },\n      {\n        key: 'delete',\n        dataKey: 'delete',\n        title: '',\n        width: 40,\n      },\n    ];\n  };\n\n  const changeViewSetName = () => {\n    if (viewSetToEdit !== name && Object.keys(createdViewSets).includes(name)) {\n      alert('Viewset with this name already exists.');\n      return;\n    }\n\n    dispatch(renameViewSet(viewSetToEdit, name));\n\n    setViewSetToEdit('');\n    setName('');\n  };\n\n  const getViewSetEditName = () => {\n    return (\n      <div className=\"viewsetmanager-edit-viewset-name-wrapper\">\n        <TextField\n          fullWidth\n          type=\"text\"\n          inputProps={{\n            style: {\n              height: 29,\n            },\n          }}\n          value={name}\n          onChange={(e) => setName(e.target.value.substring(0, 20))}\n        />\n      </div>\n    );\n  };\n\n  const getViewSetEditingIcon = (viewsetName) => {\n    if (!canEdit) {\n      return undefined;\n    }\n\n    if (viewSetToEdit !== viewsetName) {\n      return (\n        <IconButton\n          onClick={() => {\n            setViewSetToEdit(viewsetName);\n            setName(viewsetName);\n          }}\n          tooltip={intl.messages['viewSetManager.editViewSetName']}\n          iconUrl={EditIcon}\n        />\n      );\n    } else {\n      return (\n        <IconButton\n          onClick={() => changeViewSetName()}\n          tooltip={intl.messages['viewSetManager.changeViewSetName']}\n          iconUrl={iconCheck}\n        />\n      );\n    }\n  };\n\n  const getViewSets = () => {\n    const data =\n      createdViewSets &&\n      Object.keys(createdViewSets).map((viewsetName) => {\n        return {\n          edit: getViewSetEditingIcon(viewsetName),\n          delete: canDelete ? (\n            <IconButton\n              onClick={() => setViewsetToDelete(viewsetName)}\n              tooltip={intl.messages['viewSetManager.deleteIconTooltip']}\n              iconUrl={removeIcon}\n            />\n          ) : undefined,\n          name: viewSetToEdit === viewsetName ? getViewSetEditName() : viewsetName,\n          id: viewsetName,\n        };\n      });\n    return data;\n  };\n\n  const headerRenderer = ({ columns }) => {\n    const columnHeaders = [];\n    columns.forEach((column, columnIndex) => {\n      if (column.key === 'delete') {\n        columnHeaders.push(\n          <div\n            style={{ width: columns[columnIndex].width, paddingRight: 3 }}\n            key={`header_${columnIndex}`}\n          >\n            <IconButton\n              tooltip={intl.messages['viewSetManager.newViewSet']}\n              iconUrl={addIcon}\n              onClick={() => addViewSet()}\n              enabled={canAdd}\n            />\n          </div>,\n        );\n      } else {\n        columnHeaders.push(\n          <div key={`header_${columnIndex}`} className=\"viewsetmanager-header-wrapper\">\n            {columns[columnIndex].title}\n          </div>,\n        );\n      }\n    });\n\n    return columnHeaders;\n  };\n\n  const actions = getActions();\n  const data = getViewSets();\n  const columns = getColumns();\n\n  return (\n    <div>\n      <Dialog\n        title={<FormattedMessage id=\"viewSetManager.title\" />}\n        dialogActions={actions}\n        onClose={() => {\n          closeViewSetManager();\n        }}\n        open\n      >\n        <div className=\"viewsetmanager-headline-wrapper\">\n          <FormattedMessage id=\"viewSetManager.editViewSetHeadline\" />\n        </div>\n        <div className=\"viewsetmanager-table-wrapper\">\n          <AutoResizer key={`autoresizer`}>\n            {({ width, height }) => (\n              <Table\n                headerRenderer={headerRenderer}\n                columns={columns}\n                data={data}\n                width={width}\n                height={height - 20}\n                headerHeight={30}\n                rowHeight={30}\n                key=\"viewset-table\"\n              />\n            )}\n          </AutoResizer>\n        </div>\n      </Dialog>\n      <ConfirmDialog\n        open={isImportConfirmOpen}\n        onClose={(confirmed) => handleImportConfirmDialogClose(confirmed)}\n        title={<FormattedMessage id=\"viewSetManager.importConfirm.title\" />}\n        message={<FormattedMessage id=\"viewSetManager.importConfirm.message\" />}\n      />\n      <ConfirmDialog\n        open={viewsetToDelete !== ''}\n        onClose={(confirmed) => handleDeleteConfirmDialogClose(confirmed)}\n        message={\n          <FormattedMessage\n            id=\"viewSetManager.deleteConfirm.message\"\n            values={{ viewsetName: viewsetToDelete }}\n          />\n        }\n      />\n      <InformationDialog\n        onClose={() => {\n          setIsInformationDialogOpen(false);\n          if (shouldCloseViewSetManager) {\n            closeViewSetManager();\n          }\n        }}\n        open={isInformationDialogOpen}\n        title={informationDialogTitle}\n        message={informationDialogMessage}\n      />\n      <input ref={fileChooser} style={{ display: 'none' }} type=\"file\" onChange={onFileAdded} />\n    </div>\n  );\n};\n\nViewSetManager.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n};\n\nexport default injectIntl(ViewSetManager);\n","import PropTypes from 'prop-types';\n\nexport const viewSetType = PropTypes.shape({\n  id: PropTypes.string,\n});\n\nexport const mosaicViewType = PropTypes.oneOfType([viewSetType, PropTypes.string]);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nconst TopNavigationItem = ({ children }) => <div className=\"box-wrapper\">{children}</div>;\n\nTopNavigationItem.defaultProps = {\n  children: undefined,\n};\n\nTopNavigationItem.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default TopNavigationItem;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\nimport NavigationItem from '../../../../../../components/NavigationItem';\n\nconst PresetButton = ({ id, title, onClick, active }) => {\n  const presetButtonClass = classNames({\n    'preset-button': true,\n    'preset-button-active': active,\n  });\n  return (\n    <NavigationItem>\n      <button id={id} onClick={onClick} className={presetButtonClass}>\n        <span>{title}</span>\n      </button>\n    </NavigationItem>\n  );\n};\n\nPresetButton.defaultProps = {\n  id: undefined,\n  onClick: () => void 0,\n  active: false,\n};\n\nPresetButton.propTypes = {\n  id: PropTypes.string,\n  title: PropTypes.node.isRequired,\n  onClick: PropTypes.func,\n  active: PropTypes.bool,\n};\n\nexport default PresetButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport { switchViewSet } from '../../../../redux/actions';\nimport { canReadViewSet, canEditViewSet } from '../../../../utils/permissions';\nimport { viewSetType, mosaicViewType } from '../../../ViewSet/types';\nimport PresetButton from './components/PresetButton';\n\nconst PresetSlider = ({ currentViewSet, createdViewSets, switchViewSet, myPermissions }) =>\n  canReadViewSet(myPermissions) || canEditViewSet(myPermissions) ? (\n    <div className=\"preset-slider-wrapper\">\n      {createdViewSets &&\n        createdViewSets.map((viewSet) => (\n          <PresetButton\n            title={viewSet.name || viewSet.id}\n            key={viewSet.id}\n            onClick={() => switchViewSet(viewSet)}\n            active={currentViewSet && currentViewSet.id === viewSet.id}\n          />\n        ))}\n    </div>\n  ) : (\n    <div></div>\n  );\n\nPresetSlider.defaultProps = {\n  currentViewSet: undefined,\n  createdViewSets: [],\n};\n\nPresetSlider.propTypes = {\n  currentViewSet: mosaicViewType,\n  createdViewSets: PropTypes.arrayOf(viewSetType),\n  switchViewSet: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  createdViewSets: Object.keys(state.viewSet.createdViewSets).map(\n    (key) => state.viewSet.createdViewSets[key],\n  ),\n  currentViewSet: state.viewSet.currentViewSet,\n  myPermissions: state.app.myPermissions,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  switchViewSet: (viewSet) => dispatch(switchViewSet(viewSet)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PresetSlider);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport ViewSetManagerIcon from '../../assets/icons/view-manager.svg';\nimport { setBottomNavHidden } from '../../redux/actions';\nimport { canReadViewSet, canEditViewSet } from '../../utils/permissions';\nimport ViewSetManager from '../ViewSetManager';\nimport PresetSlider from './components/PresetSlider';\n\nclass BottomNav extends Component {\n  state = {\n    selectedIndex: 0,\n    viewSetManagerOpen: false,\n  };\n  select = (index) => this.setState({ selectedIndex: index });\n\n  render() {\n    const { onSave, bottomNavHidden, isSVOConfigLoaded, myPermissions } = this.props;\n    return (\n      <div className={`bottom-nav-wrapper ${bottomNavHidden ? 'bottom-nav-hidden' : ''}`}>\n        <div className=\"bottom-nav\">\n          {isSVOConfigLoaded && <PresetSlider />}\n          {isSVOConfigLoaded && (canReadViewSet(myPermissions) || canEditViewSet(myPermissions)) ? (\n            <div\n              className=\"view-manager\"\n              onClick={() => {\n                this.setState({\n                  viewSetManagerOpen: !this.state.viewSetManagerOpen,\n                });\n              }}\n            >\n              <img src={ViewSetManagerIcon} alt=\"\" />\n              <FormattedMessage id=\"viewSetManager\" />\n            </div>\n          ) : undefined}\n        </div>\n        <button\n          className=\"bottom-hider\"\n          onClick={() => {\n            this.props.setBottomNavHidden(!bottomNavHidden);\n          }}\n        >\n          {bottomNavHidden ? 'show' : 'hide'}\n        </button>\n        {isSVOConfigLoaded && (\n          <div>\n            {this.state.viewSetManagerOpen && (\n              <ViewSetManager\n                onClose={() => this.setState({ viewSetManagerOpen: false })}\n                onSave={onSave}\n              />\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nBottomNav.propTypes = {\n  setBottomNavHidden: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  bottomNavHidden: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  fullscreenMode: state.viewSet.fullscreenMode,\n  bottomNavHidden: state.viewSet.bottomNavHidden,\n  isSVOConfigLoaded: state.viewSet.isSVOConfigLoaded,\n  myPermissions: state.app.myPermissions,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setBottomNavHidden: (hidden) => dispatch(setBottomNavHidden(hidden)),\n});\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(BottomNav));\n","import { ReactNode, useRef, useState } from 'react';\nimport { ClickAwayListener, Paper, Popper } from '@material-ui/core';\nimport clsx from 'clsx';\n\nimport './NavigationItem.scss';\n\nexport interface NavigationItemType {\n  id: string;\n  icon?: string;\n  className?: string;\n  content: ReactNode;\n  onClick?: () => void;\n  enabled: boolean;\n  children?: (NavigationItemType | null)[];\n}\n\ninterface NavigationItemProps {\n  item: NavigationItemType;\n  nested?: boolean;\n}\n\nexport const NavigationItem = ({ item, nested }: NavigationItemProps) => {\n  const itemRef = useRef<HTMLDivElement>(null);\n\n  const [openMenu, setOpenMenu] = useState(false);\n\n  const hasChildren = !!item.children?.length;\n\n  return (\n    <>\n      <div\n        className={clsx('navigation-item', item.className)}\n        ref={itemRef}\n        style={{\n          pointerEvents: item.enabled ? 'auto' : 'none',\n          opacity: item.enabled ? '1.0' : '0.3',\n        }}\n      >\n        <button\n          className={clsx(\n            hasChildren && 'show-arrow',\n            nested && 'nested arrow-right',\n            openMenu && 'active',\n            (hasChildren || item.onClick) && 'clickable',\n          )}\n          onClick={() => {\n            if (item.onClick) {\n              item.onClick();\n            } else if (hasChildren) {\n              setOpenMenu(true);\n            }\n          }}\n        >\n          {item.icon && <img src={item.icon} />}\n          <span>{item.content}</span>\n        </button>\n      </div>\n      <Popper\n        open={openMenu}\n        anchorEl={itemRef.current}\n        placement={nested ? 'right-start' : 'bottom'}\n        style={{ zIndex: 9 }}\n      >\n        <ClickAwayListener onClickAway={() => setOpenMenu(false)}>\n          <Paper\n            elevation={4}\n            className=\"navigation-item-children-list\"\n            style={{ minWidth: itemRef.current?.getBoundingClientRect().width ?? 0 }}\n          >\n            {(item.children ?? []).map(\n              (child) => child && <NavigationItem key={child.id} item={child} nested />,\n            )}\n          </Paper>\n        </ClickAwayListener>\n      </Popper>\n    </>\n  );\n};\n","import Clock from 'react-live-clock';\nimport NavigationItem from '../../../../components/NavigationItem';\n\nimport './style.scss';\n\nconst DateTime = () => (\n  <NavigationItem>\n    <div className=\"date-time-wrapper\">\n      <Clock className=\"date\" format={'DD.MM.YYYY'} ticking />\n      <Clock className=\"time\" format={'HH:mm:ss'} ticking />\n    </div>\n  </NavigationItem>\n);\n\nexport default DateTime;\n","import { useSelector } from 'react-redux';\r\nimport NavigationItem from '../../../../components/NavigationItem';\r\nimport ConfigurationLock from '../../../../protobuf/ConfigurationLock';\r\n\r\nimport './style.scss';\r\n\r\nconst LockState = () => {\r\n  const configLock = useSelector<any>((state) => state.app.configurationLock) as ConfigurationLock;\r\n\r\n  return (\r\n    <NavigationItem>\r\n      <div className=\"lock-status\">\r\n        <p>Status: {configLock.isLocked() ? 'Locked' : 'Unlocked'}</p>\r\n        <p>\r\n          Owner: {configLock.isLocked() ? configLock.owner : 'None'}{' '}\r\n          {configLock.isLocked() ? configLock.host : '0.0.0.0'}\r\n        </p>\r\n        {/* <p>Host: {configLock.isLocked() ? configLock.host : '0.0.0.0'}</p> */}\r\n      </div>\r\n    </NavigationItem>\r\n  );\r\n};\r\nexport default LockState;\r\n","export default __webpack_public_path__ + \"static/media/play-multiple.92160d4a.svg\";","export default __webpack_public_path__ + \"static/media/language.0be28bcb.svg\";","export default __webpack_public_path__ + \"static/media/icons8-lock.b22b5188.svg\";","export default __webpack_public_path__ + \"static/media/icons8-padlock.048e7769.svg\";","import { ReactNode, useEffect, useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nimport './style.scss';\r\n\r\ninterface TakeoverDialogProps {\r\n  open: boolean;\r\n  onAccept: () => void;\r\n  onReject: () => void;\r\n  title: ReactNode;\r\n  contentText: ReactNode;\r\n}\r\n\r\nexport const TakeoverDialog = (props: TakeoverDialogProps) => {\r\n  const timeoutInSeconds = 30;\r\n  const isActive = props.open;\r\n  const onAccept = props.onAccept;\r\n  const [timeLeft, setTimeLeft] = useState(timeoutInSeconds);\r\n\r\n  useEffect(() => {\r\n    let interval: ReturnType<typeof setInterval> | null = null;\r\n\r\n    if (isActive) {\r\n      interval = setInterval(() => {\r\n        setTimeLeft((timeLeft) => timeLeft - 1);\r\n      }, 1000);\r\n\r\n      if (timeLeft <= 0) {\r\n        onAccept();\r\n        clearInterval(interval);\r\n        setTimeLeft(timeoutInSeconds);\r\n      }\r\n    } else {\r\n      if (interval !== null) {\r\n        clearInterval(interval);\r\n      }\r\n      setTimeLeft(timeoutInSeconds);\r\n    }\r\n    return () => {\r\n      if (interval !== null) {\r\n        clearInterval(interval);\r\n      }\r\n    };\r\n  }, [isActive, onAccept, timeLeft]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={props.open}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{props.title}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">{props.contentText}</DialogContentText>\r\n      </DialogContent>\r\n      <Button onClick={props.onAccept} color=\"primary\">\r\n        <FormattedMessage id=\"accept\" />\r\n      </Button>\r\n      <Button onClick={props.onReject} color=\"primary\">\r\n        <FormattedMessage id=\"reject\" />\r\n      </Button>\r\n      <div className=\"auto-accept-container\">\r\n        <p>(auto accept in {timeLeft} seconds)</p>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\n","import { ChangeEventHandler, useCallback, useReducer, useState } from 'react';\nimport { TextField, Button } from '@material-ui/core';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport lockIcon from '../../../assets/icons/icons8-lock.svg';\nimport padlockIcon from '../../../assets/icons/icons8-padlock.svg';\nimport ConfigurationLock from '../../../protobuf/ConfigurationLock';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { NavigationItemType } from '../NavigationItem';\nimport { AlertDialog } from './AlertDialog';\nimport { TakeoverDialog } from './TakeoverDialog';\n\nconst formReducer = (state: any, event: any) => {\n  return {\n    ...state,\n    [event.name]: event.value,\n  };\n};\n\nexport const useLockStateHandlerNavigation = (): NavigationItemType => {\n  const intl = useIntl();\n  const proxy = useSelector<any>((state) => state.app.proxy) as Proxy;\n  const configLock = useSelector<any>((state) => state.app.configurationLock) as ConfigurationLock;\n  const loggedUser = useSelector<any>((state) => state.app.user);\n  const [formData, setFormData] = useReducer(formReducer, { scope: 1 });\n\n  const [openFormDialog, setOpenFormDialog] = useState(false);\n\n  const getLabel = useCallback(() => {\n    if (configLock.isLockedBySameUser(loggedUser)) {\n      return intl.messages['topNavigation.release'];\n    } else if (configLock.isLockedByOtherUser(loggedUser)) {\n      return intl.messages['topNavigation.takeover'];\n    } else {\n      return intl.messages['topNavigation.lock'];\n    }\n  }, [configLock, intl.messages, loggedUser]);\n\n  const handleChange: ChangeEventHandler<HTMLInputElement | HTMLTextAreaElement> = (event) => {\n    setFormData({\n      name: event.target.name,\n      value: event.target.value,\n    });\n  };\n\n  const handleClose: React.MouseEventHandler<HTMLButtonElement> = (event) => {\n    event.stopPropagation();\n    setOpenFormDialog(false);\n  };\n\n  const handleSubmit: React.MouseEventHandler<HTMLButtonElement> = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setOpenFormDialog(false);\n    formData.requestTakeover = configLock.isLockedByOtherUser(loggedUser);\n    proxy.subscribeToLockAcquisitionStream(formData);\n  };\n\n  return {\n    id: 'lock-state-handler',\n    icon: configLock.isLockedBySameUser(loggedUser) ? padlockIcon : lockIcon,\n    enabled: true,\n    content: (\n      <>\n        <div className=\"lock-state-handler\">\n          <p>{getLabel()}</p>\n        </div>\n        <Dialog open={openFormDialog} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">\n            {configLock.isLockedByOtherUser(loggedUser) ? (\n              <FormattedMessage id=\"lockStateHandler.formDialog.takeoverConfigRequestTitle\" />\n            ) : (\n              <FormattedMessage id=\"lockStateHandler.formDialog.lockConfigRequestTitle\" />\n            )}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              <FormattedMessage id=\"lockStateHandler.formDialog.lockConfigRequestContent\" />\n            </DialogContentText>\n            <TextField\n              InputLabelProps={{ shrink: true }}\n              autoFocus\n              margin=\"dense\"\n              id=\"lock-scope-id\"\n              name=\"scope\"\n              label={<FormattedMessage id=\"lockStateHandler.formDialog.lockScope\" />}\n              type=\"number\"\n              defaultValue=\"1\"\n              disabled={true}\n              onChange={handleChange}\n              fullWidth\n            />\n            <TextField\n              InputLabelProps={{ shrink: true }}\n              margin=\"dense\"\n              id=\"lock-description-id\"\n              name=\"description\"\n              label={<FormattedMessage id=\"lockStateHandler.formDialog.lockDescription\" />}\n              type=\"text\"\n              onChange={handleChange}\n              fullWidth\n            />\n            {configLock.isLockedByOtherUser(loggedUser) && (\n              <>\n                <TextField\n                  InputLabelProps={{ shrink: true }}\n                  margin=\"dense\"\n                  id=\"takeover-message-id\"\n                  name=\"takeoverMessage\"\n                  label={<FormattedMessage id=\"lockStateHandler.formDialog.takeoverMessage\" />}\n                  type=\"text\"\n                  onChange={handleChange}\n                  fullWidth\n                />\n              </>\n            )}\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n              <FormattedMessage id=\"cancel\" />\n            </Button>\n            <Button onClick={handleSubmit} color=\"primary\">\n              <FormattedMessage id=\"submit\" />\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <AlertDialog\n          open={configLock.isConfigAlreadyLocked()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.lockAlreadyLocked\"\n              values={{ user: configLock.owner }}\n            />\n          }\n          contentText={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.lockDescription\"\n              values={{ description: configLock.lockDescription }}\n            />\n          }\n        >\n          <Button\n            onClick={() => {\n              proxy.closeAlertDialogs();\n            }}\n            color=\"primary\"\n          >\n            <FormattedMessage id=\"close\" />\n          </Button>\n        </AlertDialog>\n        <AlertDialog\n          open={configLock.isOwnerRejectedTakeover()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.ownerRejectedTakeover\"\n              values={{ user: configLock.owner }}\n            />\n          }\n          contentText={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.lockDescription\"\n              values={{ description: configLock.lockDescription }}\n            />\n          }\n        >\n          <Button\n            onClick={() => {\n              proxy.closeAlertDialogs();\n            }}\n            color=\"primary\"\n          >\n            <FormattedMessage id=\"close\" />\n          </Button>\n        </AlertDialog>\n        <AlertDialog\n          open={configLock.isWaitingForTakeoverResponse()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.waitingForTakeoverResponse\"\n              values={{ user: configLock.owner }}\n            />\n          }\n          contentText={\n            <FormattedMessage id=\"lockStateHandler.alertDialog.waitingForResponseInfo\" />\n          }\n        />\n        <TakeoverDialog\n          open={configLock.isTakeoverAttemptFromOtherUser()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.takeoverAttempt\"\n              values={{ user: configLock.takeoverUser }}\n            />\n          }\n          contentText={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.takeoverMessage\"\n              values={{ message: configLock.takeoverMessage }}\n            />\n          }\n          onAccept={() => {\n            proxy.passConfigLock({\n              lockId: configLock.lockId,\n              takeoverId: configLock.takeoverId,\n            });\n          }}\n          onReject={() => {\n            proxy.retainConfigLock({ takeoverId: configLock.takeoverId });\n          }}\n        />\n      </>\n    ),\n    onClick: () => {\n      if (\n        !openFormDialog &&\n        !configLock.isConfigAlreadyLocked() &&\n        !configLock.isOwnerRejectedTakeover() &&\n        !configLock.isWaitingForTakeoverResponse() &&\n        !configLock.isTakeoverAttemptFromOtherUser()\n      ) {\n        if (configLock.isLockedBySameUser(loggedUser)) {\n          proxy.unsubscribeFromLockAcquisitionStream();\n        } else {\n          setOpenFormDialog(true);\n        }\n      }\n    },\n  };\n};\n","import { useMemo } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { setCurrentMode } from '../../../redux/actions';\nimport modes from '../../../utils/modes';\nimport { canEditSVOMode, canReadSVOMode } from '../../../utils/permissions';\nimport { NavigationItemType } from '../NavigationItem';\n\nconst selectableModes = Object.keys(modes).filter(\n  (m) => m !== 'unknownMode',\n) as (keyof typeof modes)[];\n\nexport const useModeSwitchNavigation = (): NavigationItemType | undefined => {\n  const dispatch = useDispatch();\n\n  const isSVOConfigLoaded = useSelector<any>((state) => state.viewSet.isSVOConfigLoaded);\n  const { myPermissions, currentMode, proxy } = useSelector<any>((state) => state.app) as {\n    myPermissions: Set<string>;\n    currentMode: string;\n    proxy: Proxy;\n  };\n\n  const canRead = canReadSVOMode(myPermissions);\n  const canEdit = canEditSVOMode(myPermissions);\n\n  const currentModeKey = useMemo(() => {\n    const modeId = currentMode ?? proxy.mode ?? modes.unknownMode.id;\n    return Object.keys(modes).find(\n      (modeKey) => modes[modeKey as typeof selectableModes[number]].id === modeId,\n    ) as keyof typeof modes;\n  }, [currentMode, proxy.mode]);\n\n  const children = useMemo(() => {\n    const changeMode = (_modeKey: string, modeId: string) => {\n      dispatch(setCurrentMode(modeId));\n    };\n\n    return selectableModes.map<NavigationItemType>((key) => ({\n      id: key,\n      onClick: () => {\n        changeMode(key, modes[key].id);\n      },\n      content: <FormattedMessage id={key} />,\n      icon: modes[key].iconSrc,\n      enabled: true,\n    }));\n  }, [dispatch]);\n\n  if (!isSVOConfigLoaded || (!canRead && !canEdit)) {\n    return undefined;\n  }\n\n  return {\n    id: 'mode-switch',\n    icon: modes[currentModeKey]?.iconSrc,\n    content: <FormattedMessage id={currentModeKey} />,\n    enabled: canEdit,\n    children,\n  };\n};\n","export default __webpack_public_path__ + \"static/media/description.7b05d18e.svg\";","import { NavigationItemType } from '../NavigationItem';\nimport { useInspectionStateNavigation } from './useInspectionStateNavigation';\nimport { useLanguageChooserNavigation } from './useLanguageChooserNavigation';\nimport { useLockStateHandlerNavigation } from './useLockStateHandlerNavigation';\nimport { useModeSwitchNavigation } from './useModeSwitchNavigation';\nimport { useStatusReportNavigation } from './useStatusReportNavigation';\nimport { useUserInfoNavigation } from './useUserInfoNavigation';\n\nimport './style.scss';\n\nexport const useNavigation = () => {\n  const userInfoNavigation = useUserInfoNavigation();\n  const languageChooserNavigation = useLanguageChooserNavigation();\n  const lockStateHandlerNavigation = useLockStateHandlerNavigation();\n  const inspectionStateNavigation = useInspectionStateNavigation();\n  const statusReportNavigation = useStatusReportNavigation();\n  const modeSwitchNavigation = useModeSwitchNavigation();\n\n  const navigation: (NavigationItemType | null)[] = [\n    modeSwitchNavigation ?? (undefined as never),\n    statusReportNavigation ?? (undefined as never),\n    inspectionStateNavigation ?? (undefined as never),\n    null,\n    lockStateHandlerNavigation,\n    userInfoNavigation,\n    languageChooserNavigation,\n  ].filter((item) => item !== undefined);\n\n  return { navigation };\n};\n","import { useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport languageIcon from '../../../assets/icons/language.svg';\nimport { addUserSwitchedLanguageNotification, setLocale } from '../../../redux/actions';\nimport { languages } from '../../../translations';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useLanguageChooserNavigation = (): NavigationItemType => {\n  const dispatch = useDispatch();\n  const locale = useSelector<any>((state) => state.app.locale) as string;\n\n  const children = useMemo<NavigationItemType[]>(\n    () =>\n      languages.map((language) => ({\n        id: language.locale,\n        content: language.name,\n        onClick: () => {\n          dispatch(setLocale(language.locale));\n          dispatch(addUserSwitchedLanguageNotification(language.locale));\n        },\n        enabled: true,\n      })),\n    [dispatch],\n  );\n\n  return {\n    id: 'language-chooser',\n    icon: languageIcon,\n    content: locale ?? '',\n    enabled: true,\n    children,\n  };\n};\n","import { useMemo } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport iconPause from '../../../assets/icons/pause.svg';\nimport iconPlayMultiple from '../../../assets/icons/play-multiple.svg';\nimport iconPlay from '../../../assets/icons/play.svg';\nimport Configuration from '../../../protobuf/Configuration';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { canEditInspectionState, canReadInspectionState } from '../../../utils/permissions';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useInspectionStateNavigation = (): NavigationItemType | undefined => {\n  const isSVOConfigLoaded = useSelector<any>((state) => state.viewSet.isSVOConfigLoaded);\n  const { proxy, configuration, pausedInspections, myPermissions } = useSelector<any>(\n    (state) => state.app,\n  ) as {\n    proxy: Proxy;\n    configuration: Configuration;\n    pausedInspections: string[];\n    myPermissions: Set<string>;\n  };\n  const inspections = useMemo(\n    () => (configuration && configuration.getInspections()) || [],\n    [configuration],\n  );\n  const allRunning = pausedInspections.length === 0;\n  const canRead = canReadInspectionState(myPermissions);\n  const canEdit = canEditInspectionState(myPermissions);\n\n  const children = useMemo(() => {\n    const items = inspections.map<NavigationItemType>((inspection: any) => {\n      const isPaused = (pausedInspections || []).includes(inspection.id);\n\n      return {\n        id: inspection.id,\n        onClick: () => {\n          isPaused\n            ? proxy.resumeRejectStream(inspection.id)\n            : proxy.pauseRejectStream(inspection.id);\n        },\n        content: inspection.name,\n        icon: isPaused ? iconPlay : iconPause,\n        className: isPaused ? 'paused-inspection' : undefined,\n        enabled: true,\n      };\n    });\n\n    items.unshift({\n      id: 'globalResumePause',\n      onClick: () => {\n        allRunning ? proxy.pauseRejectStream() : proxy.resumeRejectStream();\n      },\n      content: allRunning ? 'Pause all inspections' : 'Resume all inspections',\n      icon: allRunning ? iconPause : iconPlay,\n      className: 'all-inspections',\n      enabled: true,\n    });\n\n    return items;\n  }, [allRunning, inspections, pausedInspections, proxy]);\n\n  if (!isSVOConfigLoaded || (!canRead && !canEdit)) {\n    return undefined;\n  }\n\n  return {\n    id: 'inspection-state-navigation',\n    icon: iconPlayMultiple,\n    content: (\n      <FormattedMessage\n        id=\"topNavigation.inspectionState\"\n        values={{\n          runningInspections: inspections.length - pausedInspections.length,\n          numberOfInspections: inspections.length,\n        }}\n      />\n    ),\n    enabled: true,\n    children: canEdit ? children : undefined,\n  };\n};\n","import { useSelector } from 'react-redux';\nimport shortId from 'shortid';\nimport logIcon from '../../../assets/icons/description.svg';\nimport { canReadLogs } from '../../../utils/permissions';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useStatusReportNavigation = (): NavigationItemType | undefined => {\n  const { notifications, myPermissions } = useSelector<any>((state) => state.app) as {\n    notifications: any[];\n    myPermissions: Set<string>;\n  };\n\n  if (!canReadLogs(myPermissions)) {\n    return undefined;\n  }\n\n  return {\n    id: 'status-report',\n    icon: logIcon,\n    enabled: true,\n    content: notifications[0]?.message,\n    children: notifications.map<NavigationItemType>((notification: any) => ({\n      id: notification.id ?? notification.timestamp ?? shortId.generate(),\n      content: (\n        <p key={shortId.generate()} className={`${notification.type} status`}>\n          {notification.timestamp}: <b>{notification.message}</b>{' '}\n          {notification.count > 1 ? `(${notification.count})` : ''}\n        </p>\n      ),\n      enabled: true,\n    })),\n  };\n};\n","import { useMemo } from 'react';\nimport classNames from 'classnames';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport iconOverlayList from '../../assets/icons/overlay-list.svg';\nimport KoerberLogo from '../../assets/logo/logo.svg';\nimport Logo from '../../components/layout/Logo';\nimport Configuration from '../../protobuf/Configuration';\nimport { setTopNavHidden } from '../../redux/actions';\nimport { NavigationItem } from './NavigationItem';\nimport DateTime from './components/DateTime';\nimport LockState from './components/LockState';\nimport { useNavigation } from './navigation/useNavigation';\n\nimport './style.scss';\n\nexport const TopNavigation = () => {\n  const { topNavHidden, isSVOConfigLoaded, unsavedChanges } = useSelector(\n    (state: any) => state.viewSet,\n  );\n  const configuration = useSelector((state: any) => state.app.configuration) as Configuration;\n  const dispatch = useDispatch();\n\n  const { navigation } = useNavigation();\n\n  const intl = useIntl();\n\n  const navClass = classNames({\n    nav: true,\n    'nav-hidden': topNavHidden,\n  });\n\n  const configName = useMemo(() => {\n    if (!isSVOConfigLoaded) {\n      return intl.messages['noConfigName'];\n    }\n    if (!configuration || !configuration.name) {\n      return intl.messages['unknownConfigName'];\n    }\n    return <span>{configuration.name}</span>;\n  }, [configuration, intl.messages, isSVOConfigLoaded]);\n\n  return (\n    <>\n      <div className={navClass}>\n        <button className=\"hider\" onClick={() => dispatch(setTopNavHidden(!topNavHidden))}>\n          {topNavHidden ? 'show' : 'hide'}\n        </button>\n        <div className=\"config-wrapper\">\n          <Logo src={KoerberLogo} title=\"logo\" />\n          {unsavedChanges ? <div style={{ fontStyle: 'italic' }}>{configName}*</div> : configName}\n        </div>\n        <div className=\"flex-container\">\n          {navigation.map((item, index) =>\n            item ? (\n              <NavigationItem key={item.id} item={item} />\n            ) : (\n              <span key={index} className=\"spacer\" />\n            ),\n          )}\n        </div>\n        <div className=\"responsive-menu\">\n          <NavigationItem\n            key=\"menu\"\n            item={{\n              id: 'responsive-menu',\n              content: 'Menu',\n              icon: iconOverlayList,\n              enabled: true,\n              children: navigation,\n            }}\n          />\n        </div>\n        <div className=\"separator\">\n          <DateTime />\n          <LockState />\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { Component } from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\n\nclass NoSVOConfigurationLoadedView extends Component {\n  render() {\n    return (\n      <div className=\"no-config-loaded-wrapper\">\n        <FormattedMessage id=\"noConfigLoaded\" />\n      </div>\n    );\n  }\n}\n\nexport default NoSVOConfigurationLoadedView;\n","import React from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport './style.scss';\n\ninterface ListSelectionProps {\n  headline?: React.ReactNode;\n  selectionItems?: {\n    id: number | string;\n    text: React.ReactNode;\n    icon: string;\n    enabled: boolean;\n  }[];\n  showCancel?: boolean;\n  onSelection: (itemId: string | number) => void;\n  cancelButtonProps?: {\n    text?: React.ReactNode;\n    icon?: string;\n    goBack?: () => void;\n  };\n}\n\nconst ListSelection = ({\n  headline = '',\n  selectionItems = [],\n  onSelection,\n  cancelButtonProps = {},\n  showCancel = false,\n}: ListSelectionProps) => (\n  <div>\n    <h3>{headline}</h3>\n    <ul className=\"list-wrapper\">\n      {selectionItems.map((item) => (\n        <li\n          className=\"selection-item\"\n          key={`li${item.id}`}\n          style={{\n            pointerEvents: item.enabled ? 'auto' : 'none',\n            opacity: item.enabled ? '1.0' : '0.3',\n          }}\n        >\n          <Button variant=\"outlined\" key={`button${item.id}`} onClick={() => onSelection(item.id)}>\n            {item.icon && <img src={item.icon} alt=\"inspection.name\" className=\"image-item\" />}\n            {item.text}\n          </Button>\n        </li>\n      ))}\n      {showCancel ? (\n        <li className=\"selection-item\" key=\"liCancel\">\n          <Button variant=\"contained\" color=\"primary\" onClick={cancelButtonProps.goBack}>\n            {cancelButtonProps.icon && (\n              <img src={cancelButtonProps.icon} alt=\"type.id\" className=\"image-item\" />\n            )}\n            {cancelButtonProps.text}\n          </Button>\n        </li>\n      ) : null}\n    </ul>\n  </div>\n);\n\nexport default ListSelection;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport BackIcon from '../../../../assets/icons/back.svg';\nimport InspectionIcon from '../../../../assets/icons/show.svg';\nimport ListSelection from '../../../../components/ListSelection';\n\nclass InspectionSelection extends Component {\n  getSelectionItems = () => {\n    const { configuration } = this.props;\n    const inspections = (configuration && configuration.getInspections()) || [];\n    const items = inspections.map((inspection) => {\n      return {\n        id: inspection.id,\n        text: inspection.name,\n        icon: InspectionIcon,\n        enabled: true,\n      };\n    });\n\n    return items;\n  };\n\n  render() {\n    const { onSelection, goBack, showCancel } = this.props;\n    const cancelButtonProps = {\n      text: <FormattedMessage id=\"viewTypeSelection.back\" />,\n      icon: BackIcon,\n      goBack,\n    };\n\n    const selectionItems = this.getSelectionItems();\n\n    return (\n      <div>\n        <ListSelection\n          headline={<FormattedMessage id=\"inspectionSelection.selectInspection\" />}\n          onSelection={onSelection}\n          cancelButtonProps={cancelButtonProps}\n          showCancel={showCancel}\n          selectionItems={selectionItems}\n        />\n      </div>\n    );\n  }\n}\n\nInspectionSelection.defaultProps = {};\n\nInspectionSelection.propTypes = {\n  onSelection: PropTypes.func.isRequired,\n  configuration: PropTypes.object,\n  goBack: PropTypes.func,\n  showCancel: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  configuration: state.app.configuration,\n});\n\nexport default connect(mapStateToProps)(InspectionSelection);\n","export default __webpack_public_path__ + \"static/media/filmstrip.c43ef800.svg\";","export default __webpack_public_path__ + \"static/media/list.7380903e.svg\";","export default __webpack_public_path__ + \"static/media/parameter.417d04e6.svg\";","export default __webpack_public_path__ + \"static/media/toolset.f1f1d3b2.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport BackIcon from '../../../../assets/icons/back.svg';\nimport editIcon from '../../../../assets/icons/edit.svg';\nimport ImageStripViewIcon from '../../../../assets/icons/filmstrip.svg';\nimport ImageViewIcon from '../../../../assets/icons/image.svg';\nimport ListViewIcon from '../../../../assets/icons/list.svg';\nimport ParameterViewIcon from '../../../../assets/icons/parameter.svg';\nimport toolsetIcon from '../../../../assets/icons/toolset.svg';\nimport ListSelection from '../../../../components/ListSelection';\nimport {\n  canAddImageView,\n  canAddListView,\n  canAddImageStripView,\n  canAddParameterView,\n  canAddToolSetView,\n  canAddInputToolView,\n} from '../../../../utils/permissions';\nimport {\n  PARAMETER_VIEW,\n  IMAGE_VIEW,\n  IMAGE_STRIP_VIEW,\n  LIST_VIEW,\n  TOOLSET_VIEW,\n  INPUT_TOOL_VIEW,\n} from '../../../ViewSetFactory';\n\nclass ViewTypeSelection extends Component {\n  render() {\n    const { onSelection, goBack, myPermissions, showCancel } = this.props;\n    const inspectionTypes = [\n      {\n        id: IMAGE_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.imageView\" />,\n        icon: ImageViewIcon,\n        enabled: canAddImageView(myPermissions),\n      },\n      {\n        id: PARAMETER_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.parameterView\" />,\n        icon: ParameterViewIcon,\n        enabled: canAddParameterView(myPermissions),\n      },\n      {\n        id: IMAGE_STRIP_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.imageStripView\" />,\n        icon: ImageStripViewIcon,\n        enabled: canAddImageStripView(myPermissions),\n      },\n      {\n        id: LIST_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.ListView\" />,\n        icon: ListViewIcon,\n        enabled: canAddListView(myPermissions),\n      },\n      {\n        id: TOOLSET_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.toolset\" />,\n        icon: toolsetIcon,\n        enabled: canAddToolSetView(myPermissions),\n      },\n      {\n        id: INPUT_TOOL_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.inputTool\" />,\n        icon: editIcon,\n        enabled: canAddInputToolView(myPermissions),\n      },\n    ];\n    const cancelButtonProps = {\n      text: <FormattedMessage id=\"viewTypeSelection.back\" />,\n      icon: BackIcon,\n      goBack,\n    };\n\n    return (\n      <div>\n        <ListSelection\n          headline={<FormattedMessage id=\"viewTypeSelection.selectViewType\" />}\n          onSelection={onSelection}\n          cancelButtonProps={cancelButtonProps}\n          showCancel={showCancel}\n          selectionItems={inspectionTypes}\n        />\n      </div>\n    );\n  }\n}\n\nViewTypeSelection.defaultProps = {};\n\nViewTypeSelection.propTypes = {\n  onSelection: PropTypes.func.isRequired,\n  goBack: PropTypes.func,\n  showCancel: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  myPermissions: state.app.myPermissions,\n});\n\nexport default connect(mapStateToProps)(ViewTypeSelection);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { replaceViewInCurrentViewSet, purgeViewState } from '../../redux/actions';\nimport InspectionSelection from './components/InspectionSelection';\nimport ViewTypeSelection from './components/ViewTypeSelection';\nimport './style.scss';\n\nclass ViewSelection extends Component {\n  state = {\n    visibleComponent: 'ViewTypeSelection',\n    selectedInspectionId: 0,\n    selectedViewType: '',\n  };\n\n  componentDidMount() {\n    const { viewToShowWithoutInspection } = this.props;\n\n    if (viewToShowWithoutInspection) {\n      this.setState({\n        visibleComponent: 'InspectionSelection',\n        selectedViewType: viewToShowWithoutInspection,\n      });\n    }\n  }\n\n  setSelectedInspectionId = (inspectionId) => {\n    this.setState({\n      visibleComponent: '',\n      selectedInspectionId: inspectionId,\n    });\n\n    this.props.changeTitle(inspectionId);\n    this.updateView(inspectionId);\n  };\n\n  setSelectedViewType = (viewType) => {\n    this.setState({\n      visibleComponent: 'InspectionSelection',\n      selectedViewType: viewType,\n    });\n  };\n\n  goBackToViewTypeSelection = () => {\n    this.setState({\n      visibleComponent: 'ViewTypeSelection',\n      selectedInspectionId: 0,\n    });\n  };\n\n  cancelViewSelection = () => {\n    const { changeContent } = this.props;\n    changeContent();\n  };\n\n  updateView = (inspectionId) => {\n    const { replaceViewInCurrentViewSet, viewId, changeContent } = this.props;\n    const { selectedViewType } = this.state;\n\n    replaceViewInCurrentViewSet(viewId, selectedViewType, inspectionId);\n\n    changeContent();\n  };\n\n  render() {\n    const { showCancel } = this.props;\n    const { visibleComponent } = this.state;\n\n    return (\n      <div className=\"view-selection-wrapper\">\n        {(() => {\n          switch (visibleComponent) {\n            case 'InspectionSelection':\n              return (\n                <InspectionSelection\n                  onSelection={this.setSelectedInspectionId}\n                  goBack={this.goBackToViewTypeSelection}\n                  showCancel\n                />\n              );\n            case 'ViewTypeSelection':\n              return (\n                <ViewTypeSelection\n                  onSelection={this.setSelectedViewType}\n                  goBack={this.cancelViewSelection}\n                  showCancel={showCancel}\n                />\n              );\n            default:\n              return <div></div>;\n          }\n        })()}\n      </div>\n    );\n  }\n}\n\nViewSelection.propTypes = {\n  replaceViewInCurrentViewSet: PropTypes.func.isRequired,\n  viewId: PropTypes.string.isRequired,\n  changeContent: PropTypes.func,\n  changeTitle: PropTypes.func,\n  showCancel: PropTypes.bool,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  replaceViewInCurrentViewSet: (viewId, replacementComponentId, inspectionId) => {\n    dispatch(purgeViewState(undefined, viewId));\n    dispatch(replaceViewInCurrentViewSet(viewId, replacementComponentId, inspectionId));\n  },\n});\n\nexport default connect(null, mapDispatchToProps)(ViewSelection);\n","import { Component } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\nimport { MosaicWindow, SplitButton } from 'react-mosaic-component';\nimport { connect } from 'react-redux';\nimport shortId from 'shortid';\n\nimport CloseIcon from '../../assets/icons/close.svg';\nimport EditIcon from '../../assets/icons/edit.svg';\nimport KeyHandler from '../../components/KeyHandler';\nimport IconButton from '../../components/buttons/IconButton';\nimport { isObjectValid } from '../../utils/objectValidator';\nimport {\n  canEditViewSet,\n  canEditImageView,\n  canEditListView,\n  canEditImageStripView,\n  canEditParameterView,\n  canEditToolSetView,\n  canDeleteImageView,\n  canDeleteListView,\n  canDeleteImageStripView,\n  canDeleteParameterView,\n  canDeleteToolSetView,\n  canDeleteInputToolView,\n  canEditInputToolView,\n} from '../../utils/permissions';\nimport ViewSetFactory, {\n  IMAGE_VIEW,\n  LIST_VIEW,\n  PARAMETER_VIEW,\n  IMAGE_STRIP_VIEW,\n  TOOLSET_VIEW,\n  INPUT_TOOL_VIEW,\n} from '../../views/ViewSetFactory';\nimport NoSVOConfigurationLoadedView from '../NoSVOConfigurationLoadedView';\nimport ViewSelection from '../ViewSelection';\nimport { mosaicViewType } from './types';\n\nconst viewSetFactory = new ViewSetFactory();\n\nclass SVOView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFullscreen: false,\n      resetView: false,\n      selectedInspectionId: 0,\n      isConfirmOpen: false,\n    };\n  }\n\n  setFullscreen = (isFullscreen) =>\n    // this function can be triggered from reducer\n    // where state modifications are not allowed\n    setTimeout(() => this.setState({ isFullscreen }), 0);\n\n  resetView = () => {\n    this.setState({\n      resetView: true,\n    });\n  };\n\n  removeIdsForUnknownInspectionIds = (currentViewSet, inspectionIds) => {\n    const viewSet = currentViewSet.viewSet;\n\n    Object.keys(viewSet).forEach((viewId) => {\n      const inspectionId = viewSet[viewId].inspectionId;\n      if (!inspectionIds.includes(inspectionId)) {\n        delete viewSet[viewId].id;\n        delete viewSet[viewId].inspectionId;\n      }\n    });\n  };\n\n  canEditCurrentView = () => {\n    const { id, views, myPermissions } = this.props;\n    if (views && views.viewSet && views.viewSet[id]) {\n      switch (views.viewSet[id].viewComponentClassId) {\n        case IMAGE_VIEW:\n          return canEditImageView(myPermissions);\n        case LIST_VIEW:\n          return canEditListView(myPermissions);\n        case IMAGE_STRIP_VIEW:\n          return canEditImageStripView(myPermissions);\n        case PARAMETER_VIEW:\n          return canEditParameterView(myPermissions);\n        case TOOLSET_VIEW:\n          return canEditToolSetView(myPermissions);\n        case INPUT_TOOL_VIEW:\n          return canEditInputToolView(myPermissions);\n        default:\n          return false;\n      }\n    }\n\n    return false;\n  };\n\n  canDeleteCurrentView = () => {\n    const { id, views, myPermissions } = this.props;\n    if (views && views.viewSet && views.viewSet[id]) {\n      switch (views.viewSet[id].viewComponentClassId) {\n        case IMAGE_VIEW:\n          return canDeleteImageView(myPermissions);\n        case LIST_VIEW:\n          return canDeleteListView(myPermissions);\n        case IMAGE_STRIP_VIEW:\n          return canDeleteImageStripView(myPermissions);\n        case PARAMETER_VIEW:\n          return canDeleteParameterView(myPermissions);\n        case TOOLSET_VIEW:\n          return canDeleteToolSetView(myPermissions);\n        case INPUT_TOOL_VIEW:\n          return canDeleteInputToolView(myPermissions);\n        default:\n          return false;\n      }\n    }\n\n    return false;\n  };\n\n  getInspectionId = () => {\n    const { id, views } = this.props;\n    const { selectedInspectionId } = this.state;\n\n    return selectedInspectionId || (views.viewSet[id] && views.viewSet[id].inspectionId);\n  };\n\n  render() {\n    const {\n      configuration,\n      id,\n      path,\n      views,\n      dispatch,\n      editingViewIds,\n      intl,\n      windowName,\n      isSVOConfigLoaded,\n      myPermissions,\n    } = this.props;\n    const { isFullscreen, resetView, selectedInspectionId } = this.state;\n    const viewClass = classNames({\n      fullscreen: isFullscreen,\n      'editing-focus': editingViewIds.includes(id),\n    });\n\n    const inspectionId = this.getInspectionId();\n    let inspectionName = '<UNKNOWN INSPECTION>';\n    if (configuration) {\n      const name = configuration.getInspectionName(inspectionId);\n      if (name && name.length > 0) {\n        inspectionName = `[${name}]`;\n      }\n      if (windowName && !resetView) {\n        inspectionName = `${inspectionName} ${windowName}`;\n      }\n\n      const currentInspections =\n        configuration &&\n        configuration.inspections &&\n        configuration.inspections.map((inspection) => inspection.id);\n      if (currentInspections) {\n        this.removeIdsForUnknownInspectionIds(views, currentInspections);\n      }\n    }\n\n    const hasInspectionId = views.viewSet && views.viewSet[id] && views.viewSet[id].inspectionId;\n    const viewToShowWithoutInspection =\n      !hasInspectionId &&\n      views.viewSet &&\n      views.viewSet[id] &&\n      views.viewSet[id].viewComponentClassId;\n\n    const toolbarControls = [];\n\n    if (canEditViewSet(myPermissions)) {\n      toolbarControls.push(<SplitButton key=\"splitButton\" />);\n    }\n\n    toolbarControls.push(\n      <IconButton\n        tooltip={intl.messages['viewTypeSelection.chooseViewTooltip']}\n        onClick={() => this.resetView(id)}\n        iconUrl={EditIcon}\n        key=\"swapButton\"\n        enabled={this.canEditCurrentView()}\n      />,\n    );\n    toolbarControls.push(\n      <IconButton\n        tooltip={intl.messages['svoView.closeView']}\n        onClick={() => this.props.onCloseView()}\n        iconUrl={CloseIcon}\n        key=\"customRemoveButton\"\n        style={{ width: '18px', height: '18px' }}\n        enabled={resetView || !hasInspectionId || this.canDeleteCurrentView()}\n      />,\n    );\n\n    return (\n      <MosaicWindow\n        className={viewClass}\n        createNode={() => shortId.generate()}\n        title={\n          (selectedInspectionId ||\n            (views.viewSet && views.viewSet[id] && views.viewSet[id].titleId)) &&\n          this.props.intl.formatMessage(\n            {\n              id:\n                selectedInspectionId || windowName\n                  ? 'svoView.emptyViewInspectionTemplate'\n                  : views.viewSet[id].titleId,\n            },\n            {\n              inspectionName,\n            },\n          )\n        }\n        toolbarControls={isSVOConfigLoaded ? toolbarControls : []}\n        path={path}\n        draggable={canEditViewSet(myPermissions)}\n      >\n        <KeyHandler view={this} dispatch={dispatch} editingViewIds={editingViewIds}>\n          {!resetView && hasInspectionId ? (\n            viewSetFactory.createViewInstance(views.viewSet[id], {\n              ...views.viewSet[id].passedProps,\n              id,\n              inspectionId: views.viewSet[id].inspectionId,\n            })\n          ) : isSVOConfigLoaded ? (\n            <ViewSelection\n              viewId={id}\n              changeContent={() => this.setState({ resetView: false, selectedInspectionId: 0 })}\n              changeTitle={(selectedInspectionId) => this.setState({ selectedInspectionId })}\n              showCancel={resetView}\n              viewToShowWithoutInspection={viewToShowWithoutInspection}\n            />\n          ) : (\n            <NoSVOConfigurationLoadedView />\n          )}\n        </KeyHandler>\n      </MosaicWindow>\n    );\n  }\n}\n\nSVOView.defaultProps = {\n  editingViewIds: [],\n};\n\nSVOView.propTypes = {\n  id: PropTypes.string.isRequired,\n  path: PropTypes.arrayOf(PropTypes.string).isRequired,\n  views: mosaicViewType.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  editingViewIds: PropTypes.arrayOf(PropTypes.string),\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { views, id } = ownProps;\n  const inspectionId = isObjectValid(() => views.viewSet[id].inspectionId);\n  const configuration = state.app.configuration;\n  const isSVOConfigLoaded = state.viewSet.isSVOConfigLoaded;\n  const myPermissions = state.app.myPermissions;\n\n  let windowName = isObjectValid(() => state.inspections[inspectionId].views[id].windowName);\n  if (windowName) {\n    const inspectionName = configuration.getInspectionName(inspectionId);\n    windowName = windowName.replace(`Inspections.${inspectionName}.`, '');\n    return {\n      configuration,\n      windowName,\n      isSVOConfigLoaded,\n      myPermissions,\n    };\n  }\n  return {\n    configuration,\n    isSVOConfigLoaded,\n    myPermissions,\n  };\n};\n\nconst mapDispatchToProps = () => {\n  return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(injectIntl(SVOView));\n","import React, { useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { Mosaic, MosaicContext } from 'react-mosaic-component';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport {\n  increaseViewSizeChangeCounter,\n  purgeViewState,\n  clearCurrentView,\n} from '../../redux/actions/index';\nimport { canEditViewSet } from '../../utils/permissions';\nimport SVOView from './SVOView';\nimport { mosaicViewType } from './types';\n\nconst ViewSet = ({\n  views,\n  onChange,\n  topNavHidden,\n  bottomNavHidden,\n  increaseChangeCounter,\n  dispatch,\n  inspections,\n  myPermissions,\n}) => {\n  const mosaic = useRef(null);\n  const [viewToClose, setViewToClose] = useState(undefined);\n  const viewSetClass = classNames({\n    'view-set-wrapper': true,\n    'bottom-nav-offset': !bottomNavHidden,\n    'top-nav-hidden': !topNavHidden,\n  });\n\n  if (!views) {\n    return false;\n  }\n  const editingViewIds = Object.keys(inspections).map(\n    (inspection) =>\n      inspections[inspection].sharedState && inspections[inspection].sharedState.editingViewId,\n  );\n\n  const handleConfirmDialogClose = (confirmed) => {\n    if (confirmed) {\n      closeView();\n    }\n    setViewToClose(undefined);\n  };\n\n  const oneViewInViewset = () => {\n    return typeof views.initialValue === 'string';\n  };\n\n  const closeView = () => {\n    const { viewId, path, remove } = viewToClose;\n    const inspectionId = views.viewSet[viewId] && views.viewSet[viewId].inspectionId;\n    if (oneViewInViewset()) {\n      dispatch(clearCurrentView());\n    }\n    dispatch(purgeViewState(inspectionId, viewId));\n\n    remove(path);\n  };\n\n  return (\n    <div className={viewSetClass}>\n      <ConfirmDialog\n        open={viewToClose !== undefined}\n        onClose={(confirmed) => handleConfirmDialogClose(confirmed)}\n        message={<FormattedMessage id=\"svoView.closeViewConfirmation\" />}\n      />\n      <Mosaic\n        onChange={(layout) => {\n          onChange(layout);\n          increaseChangeCounter();\n        }}\n        ref={mosaic}\n        renderTile={(id, path) => (\n          <MosaicContext.Consumer>\n            {({ mosaicActions }) => {\n              const { remove } = mosaicActions;\n              return (\n                <SVOView\n                  id={id}\n                  path={path}\n                  views={views}\n                  dispatch={dispatch}\n                  editingViewIds={editingViewIds}\n                  onCloseView={() => {\n                    setViewToClose({ viewId: id, path, remove });\n                  }}\n                />\n              );\n            }}\n          </MosaicContext.Consumer>\n        )}\n        initialValue={views.initialValue}\n        resize={canEditViewSet(myPermissions) ? '' : 'DISABLED'}\n      />\n    </div>\n  );\n};\n\nViewSet.defaultProps = {\n  topNavHidden: false,\n  bottomNavHidden: false,\n  views: undefined,\n};\n\nViewSet.propTypes = {\n  views: mosaicViewType,\n  onChange: PropTypes.func.isRequired,\n  topNavHidden: PropTypes.bool,\n  bottomNavHidden: PropTypes.bool,\n  increaseChangeCounter: PropTypes.func.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  inspections: state.inspections,\n  myPermissions: state.app.myPermissions,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  increaseChangeCounter: () => dispatch(increaseViewSizeChangeCounter()),\n  dispatch: (action) => dispatch(action),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewSet);\n","import React, { Component } from 'react';\nimport throttle from 'lodash/throttle';\nimport PropTypes from 'prop-types';\nimport { IntlProvider } from 'react-intl';\nimport { connect, ReactReduxContext } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport ModalNotification from '../components/ModalNotification.js';\nimport ProtobufType from '../components/Protobuf/ProtobufType';\nimport {\n  setViewSet,\n  setCurrentLayout,\n  addConnectionEstablishedNotification,\n  addConnectionLostNotification,\n  saveClientChunk,\n  closeHelpView,\n  increaseViewSizeChangeCounter,\n  changeViewSetAfterLoading,\n} from '../redux/actions';\nimport translations from '../translations';\nimport BottomNavigation from '../views/BottomNavigation';\nimport HelpView from '../views/HelpView';\nimport { TopNavigation } from '../views/TopNavigation';\nimport ViewSet from '../views/ViewSet';\nimport ViewSetFactory, { DEFAULT_VIEWSET } from '../views/ViewSetFactory';\n\nclass SVObserver extends Component {\n  static contextType = ReactReduxContext;\n  state = {\n    viewSetFactory: new ViewSetFactory(),\n    throttledWindwResizeHandler: throttle(() => this.props.increaseChangeCounter(), 500),\n  };\n\n  handleBeforeUnload(event) {\n    event.preventDefault();\n    event.returnValue = '';\n  }\n\n  componentDidMount() {\n    if (!this.props.currentViewSet) {\n      const viewSetId = DEFAULT_VIEWSET;\n      const viewSet = this.state.viewSetFactory.getViewSet(viewSetId);\n      this.props.setViewSet(viewSet, viewSet.id);\n    }\n\n    if (this.props.defaultViewSetName) {\n      this.props.changeViewSetAfterLoading(this.props.defaultViewSetName);\n    }\n\n    if (this.props.protobuf && this.props.socket) {\n      this.onWebsocketConnect(this.props.protobuf);\n    }\n\n    window.addEventListener('resize', this.state.throttledWindwResizeHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.state.throttledWindwResizeHandler);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.socket !== this.props.socket && nextProps.protobuf && nextProps.socket) {\n      this.onWebsocketConnect(nextProps.protobuf);\n    }\n    if (nextProps.socket !== this.props.socket && !nextProps.socket) {\n      this.onWebsocketDisconnect();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { unsavedChanges } = this.props;\n    if (unsavedChanges && prevProps.currentViewSet) {\n      window.addEventListener('beforeunload', this.handleBeforeUnload);\n    } else {\n      window.removeEventListener('beforeunload', this.handleBeforeUnload);\n    }\n  }\n\n  onWebsocketConnect = async () => {\n    this.props.addConnectionEstablishedNotification();\n  };\n\n  onWebsocketDisconnect = () => {\n    this.props.addConnectionLostNotification();\n  };\n\n  saveConfiguration() {\n    const currentState = this.context.store.getState();\n    this.props.saveClientChunk(this.props.protobuf, currentState);\n  }\n\n  render() {\n    const {\n      locale,\n      currentViewSet,\n      bottomNavHidden,\n      topNavHidden,\n      modalNotificationData,\n      isHelpViewOpen,\n      closeHelpView,\n    } = this.props;\n\n    if (!this.props.user || !this.props.authToken) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <IntlProvider locale={locale} messages={translations[locale]}>\n        <div className=\"vh-100 center\">\n          <ModalNotification\n            visible={!!modalNotificationData}\n            message={modalNotificationData && modalNotificationData.message}\n          />\n          <TopNavigation onLoggedOut={this.props.onLoggedOut} />\n          <ViewSet\n            views={currentViewSet}\n            onChange={(layout) => {\n              this.props.setLayout(layout);\n            }}\n            bottomNavHidden={bottomNavHidden}\n            topNavHidden={topNavHidden}\n          />\n          <BottomNavigation onSave={() => this.saveConfiguration()} />\n          <HelpView open={isHelpViewOpen} onClose={() => closeHelpView()}></HelpView>\n        </div>\n      </IntlProvider>\n    );\n  }\n}\n\nSVObserver.defaultProps = {\n  bottomNavHidden: false,\n  topNavHidden: false,\n  protobuf: undefined,\n  viewSetTemplate: undefined,\n  user: undefined,\n  authToken: undefined,\n  location: { state: {} },\n  currentViewSet: undefined,\n};\n\nSVObserver.propTypes = {\n  locale: PropTypes.string.isRequired,\n  user: PropTypes.shape({ name: PropTypes.string }),\n  authToken: PropTypes.string,\n  currentViewSet: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({ id: PropTypes.string }),\n  ]),\n  bottomNavHidden: PropTypes.bool,\n  topNavHidden: PropTypes.bool,\n  setLayout: PropTypes.func.isRequired,\n  setViewSet: PropTypes.func.isRequired,\n  viewSetTemplate: PropTypes.string,\n  addConnectionEstablishedNotification: PropTypes.func.isRequired,\n  addConnectionLostNotification: PropTypes.func.isRequired,\n  protobuf: ProtobufType,\n  location: PropTypes.shape({ state: PropTypes.any }),\n};\n\nconst mapStateToProps = (state) => ({\n  isHelpViewOpen: state.app.isHelpViewOpen,\n  locale: state.app.locale,\n  protobuf: state.app.protobuf,\n  socket: state.app.socket,\n  user: state.app.user,\n  authToken: state.app.authToken,\n  currentViewSet: state.viewSet.currentViewSet,\n  bottomNavHidden: state.viewSet.bottomNavHidden,\n  topNavHidden: state.viewSet.topNavHidden,\n  defaultViewSetName: state.viewSet.defaultViewSetName,\n  createdViewSets: state.app.createdViewSets,\n  modalNotificationData: state.app.modalNotificationData,\n  increaseChangeCounter: PropTypes.func.isRequired,\n  unsavedChanges: state.viewSet.unsavedChanges,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  closeHelpView: () => {\n    dispatch(closeHelpView());\n  },\n  setViewSet: (viewSet, viewSetId) => {\n    dispatch(setViewSet(viewSet, viewSetId));\n  },\n  setLayout: (layout) => {\n    dispatch(setCurrentLayout(layout));\n  },\n  addConnectionEstablishedNotification: () => {\n    dispatch(addConnectionEstablishedNotification());\n  },\n  addConnectionLostNotification: () => {\n    dispatch(addConnectionLostNotification());\n  },\n  saveClientChunk: (protobuf, chunk) => {\n    dispatch(saveClientChunk(protobuf, chunk));\n  },\n  increaseChangeCounter: () => {\n    dispatch(increaseViewSizeChangeCounter());\n  },\n  changeViewSetAfterLoading: (name) => {\n    dispatch(changeViewSetAfterLoading(name));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SVObserver);\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\n\nimport DatabaseGatewayPage from './pages/DatabaseGatewayPage';\nimport DebuggerPage from './pages/DebuggerPage';\nimport HmiLoginPage from './pages/HmiLoginPage';\nimport LogoutPage from './pages/LogoutPage';\nimport PermissionPage from './pages/PermissionPage';\nimport SVObserver from './pages/SVObserver';\n\nconst App = ({ user, authToken, onLoggedOut }) => {\n  const dispatch = useDispatch();\n  dispatch({\n    type: 'LOG_IN',\n    authToken,\n    user,\n  });\n\n  return (\n    <Router>\n      <div>\n        <Route exact path={'/'} render={() => <Redirect to=\"/app\" />} />\n        <Route\n          path={'/app'}\n          render={(props) => <SVObserver {...props} onLoggedOut={onLoggedOut} />}\n        />\n        <Route path={'/hmi-v1'} component={HmiLoginPage} />\n        <Route path={'/permissions'} component={PermissionPage} />\n        <Route\n          path={'/logout'}\n          render={(props) => <LogoutPage {...props} onLoggedOut={onLoggedOut} />}\n        />\n        <Route path={'/databasegateway'} component={DatabaseGatewayPage} />\n        <Route path={'/debugger'} component={DebuggerPage} />\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\n\nimport { logIn } from '../utils/authentication';\n\nconst paperStyle = {\n  width: 400,\n  margin: 20,\n  padding: 25,\n  display: 'inline-block',\n};\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: null,\n      password: null,\n    };\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    logIn(this.state.username, this.state.password)\n      .then((data) => this.props.onLogin(data))\n      .catch(() => this.setState({ loginFailed: true }));\n  };\n\n  render() {\n    return (\n      <div className=\"flex items-center justify-center\" id=\"login-page\">\n        <Paper elevation={5} style={paperStyle}>\n          {this.state.loginFailed ? <p className=\"red\">Log In failed</p> : null}\n          <form onSubmit={this.onSubmit}>\n            <TextField\n              label=\"Username\"\n              style={{ width: '100%' }}\n              margin=\"dense\"\n              type=\"username\"\n              onChange={(e) => {\n                this.setState({\n                  username: e.target.value,\n                });\n              }}\n            />\n            <br />\n            <TextField\n              label=\"Password\"\n              style={{ width: '100%' }}\n              autoComplete=\"current-password\"\n              margin=\"dense\"\n              type=\"password\"\n              onChange={(e) => {\n                this.setState({\n                  password: e.target.value,\n                });\n              }}\n            />\n            <br />\n            <br />\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n              LogIn\n            </Button>\n          </form>\n        </Paper>\n      </div>\n    );\n  }\n}\n\nLoginPage.propTypes = {\n  onLogin: PropTypes.func.isRequired,\n};\n\nexport default LoginPage;\n","import isEqual from 'lodash/isEqual';\n\nimport ConfigurationLock from '../../protobuf/ConfigurationLock';\nimport ProtobufConnector from '../../protobuf/ProtobufConnector';\nimport Proxy from '../../protobuf/Proxy';\nimport { removeAllUserInfoFromStorage, saveUserInfoToStorage } from '../../utils/localStorage';\nimport logger from '../../utils/logger';\n\nconst NUMBER_OF_NOTIFICATIONS_SHOWN = 50;\n\nfunction createInitialAppState({ websocketUrl, dispatch, user, authToken }) {\n  const connector = new ProtobufConnector(websocketUrl, dispatch, authToken);\n  const proxy = new Proxy(dispatch);\n  const configurationLock = new ConfigurationLock({});\n  const inspectionToolsetMappings = new Map();\n  const locale = localStorage.getItem('CURRENT_LOCALE');\n  logger.setProxy(proxy);\n  return {\n    connection: null,\n    notifications: [],\n    mode: 0,\n    navigationHidden: false,\n    locale: locale || 'en',\n    authToken,\n    user,\n    currentMode: null,\n    pausedInspections: [],\n    connector,\n    protobuf: undefined,\n    socket: undefined,\n    proxy,\n    saveOperationInProcess: false,\n    currentClientChunkRevision: 0,\n    modalNotificationData: null,\n    focusedViewType: null,\n    isHelpViewOpen: false,\n    configuration: null,\n    configurationLock,\n    inspectionToolsetMappings,\n    isBrowserWindowVisible: true,\n  };\n}\n\nconst appReducer = (params) => {\n  const initalAppState = createInitialAppState(params);\n  return (state = initalAppState, action) => {\n    switch (action.type) {\n      case 'SET_PROTOBUF_STATIC_INITIALIZED':\n        state.proxy.setProtobufStaticInitialized();\n        return state;\n      case 'SET_PROTOBUF': {\n        const { protobuf, socket } = action;\n        protobuf.onConnect(socket);\n        state.proxy.setProtobuf(protobuf);\n        return Object.assign({}, state, { protobuf, socket });\n      }\n      case 'ADD_NOTIFICATION': {\n        const newNotifications = getNewNotifications(action.notification, state);\n\n        return Object.assign({}, state, {\n          notifications: newNotifications,\n        });\n      }\n      case 'LOG_IN':\n        saveUserInfoToStorage(action.authToken, action.user);\n        state.connector.connectWithToken(action.authToken);\n        return { ...state, authToken: action.authToken, user: action.user };\n      case 'LOG_OUT':\n        removeAllUserInfoFromStorage();\n        setTimeout(() => state.connector.disconnect());\n        return state;\n      case 'AUTH_TOKEN_EXPIRED':\n        removeAllUserInfoFromStorage();\n        return { ...state, authToken: undefined, user: undefined };\n      case 'SET_LOCALE':\n        localStorage.setItem('CURRENT_LOCALE', action.locale);\n        return { ...state, locale: action.locale };\n      case 'ON_NAVIGATION_HIDDEN': {\n        return Object.assign({}, state, {\n          navigationHidden: !state.navigationHidden,\n        });\n      }\n      case 'SHOW_GLOBAL_MESSAGE_OVERLAY': {\n        const { message } = action;\n        logger.info({ message }, 'Showing global message overlay');\n        return {\n          ...state,\n          modalNotificationData: {\n            message,\n          },\n        };\n      }\n      case 'HIDE_GLOBAL_MESSAGE_OVERLAY':\n        logger.info('Hiding global message overlay');\n        return {\n          ...state,\n          modalNotificationData: null,\n        };\n      case 'SET_CURRENT_MODE':\n        state.proxy.setMode(action.mode);\n        return state;\n      case 'SET_CURRENT_MODE_DONE':\n        return {\n          ...state,\n          currentMode: action.mode,\n        };\n      case 'SET_PAUSED_INSPECTIONS':\n        return {\n          ...state,\n          pausedInspections: action.pausedInspections,\n        };\n      case 'UPDATE_CLIENT_CHUNK_REVISION':\n        return {\n          ...state,\n          currentClientChunkRevision: action.revision,\n        };\n\n      case 'UPDATE_SAVE_OPERATION_IN_PROCESS':\n        return {\n          ...state,\n          saveOperationInProcess: action.inProcess,\n        };\n      case 'SET_CONFIGURATION':\n        return {\n          ...state,\n          configuration: action.configuration,\n        };\n      case 'SET_CONFIGURATION_LOCK':\n        return {\n          ...state,\n          configurationLock: action.configurationLock,\n        };\n      case 'SET_INSPECTION_TOOLSET_MAPPINGS':\n        return {\n          ...state,\n          inspectionToolsetMappings: action.mappings,\n        };\n      case 'SET_FOCUSED_VIEW_TYPE':\n        return {\n          ...state,\n          focusedViewType: action.viewType,\n        };\n\n      case 'OPEN_HELP_VIEW':\n        return {\n          ...state,\n          isHelpViewOpen: action.isHelpViewOpen,\n        };\n\n      case 'CLOSE_HELP_VIEW':\n        return {\n          ...state,\n          isHelpViewOpen: action.isHelpViewOpen,\n        };\n\n      case 'SET_GROUP_PERMISSIONS':\n        return {\n          ...state,\n          groupPermissions: action.groupPermissions,\n        };\n\n      case 'SET_MY_PERMISSIONS':\n        return {\n          ...state,\n          myPermissions: action.myPermissions,\n        };\n\n      case 'SET_BROWSER_WINDOW_VISIBILITY':\n        return {\n          ...state,\n          isBrowserWindowVisible: action.visible,\n        };\n\n      case 'SET_DATABASE_GATEWAY_CHUNK':\n        return {\n          ...state,\n          databaseGatewayConfig: action.chunk,\n        };\n\n      default:\n        return state;\n    }\n  };\n};\n\nfunction getNewNotifications(notification2Add, state) {\n  let newNotifications = [...state.notifications];\n  let notification = addTimestampToNotification(notification2Add, state.locale);\n\n  const equalsLastNotification = equalsLastNotificationCurrentNotification(\n    notification,\n    newNotifications,\n  );\n\n  if (!equalsLastNotification) {\n    notification = setCountForNotification(notification);\n    newNotifications.unshift(notification);\n  } else {\n    newNotifications[0] = setCountForNotification(newNotifications[0]);\n  }\n\n  if (newNotifications && newNotifications.length > NUMBER_OF_NOTIFICATIONS_SHOWN) {\n    newNotifications.splice(-1, 1);\n  }\n\n  return newNotifications;\n}\n\nfunction addTimestampToNotification(notification, locale) {\n  const date = new Date();\n  const dateOptions = { day: '2-digit', month: '2-digit', year: 'numeric' };\n  const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit' };\n  const timestamp = `${date.toLocaleString(locale, dateOptions)} ${date.toLocaleString(\n    locale,\n    timeOptions,\n  )}`;\n\n  notification = {\n    ...notification,\n    timestamp: timestamp,\n  };\n\n  return notification;\n}\n\nfunction equalsLastNotificationCurrentNotification(currentNotification, notifications) {\n  if (notifications && notifications.length > 0) {\n    return isEqual(currentNotification.message, notifications[0].message);\n  }\n\n  return false;\n}\n\nfunction setCountForNotification(notification) {\n  let count = notification.count;\n  if (count === undefined) {\n    count = 1;\n  } else {\n    count++;\n  }\n\n  notification = {\n    ...notification,\n    count,\n  };\n\n  return notification;\n}\n\nexport default appReducer;\n","const initialState = {\n  parameter: null,\n};\n\nconst toolsetReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_PARAMETER':\n      return {\n        ...state,\n        parameter: action.parameter,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default toolsetReducer;\n","import omit from 'lodash/omit';\nimport { isObjectValid } from '../../utils/objectValidator';\n\nconst findInspectionForView = (viewId, state) =>\n  Object.keys(state).find(\n    (inspectionId) =>\n      state[inspectionId] && state[inspectionId].views && !!state[inspectionId].views[viewId],\n  );\n\nconst viewDataReducer = (state = {}, action) => {\n  const { inspectionId, viewId, key } = action;\n  switch (action.type) {\n    case 'PURGE_VIEW_STATE': {\n      const inspectionId = action.inspectionId || findInspectionForView(action.viewId, state);\n      if (!inspectionId) {\n        return state;\n      }\n\n      if (!state[inspectionId]) {\n        return state;\n      }\n\n      return omit(state, [\n        `${inspectionId}.sharedState.views.${action.viewId}`,\n        `${inspectionId}.views.${action.viewId}`,\n        state[inspectionId].sharedState.editingViewId === action.viewId &&\n          `${inspectionId}.sharedState.editingViewId`,\n      ]);\n    }\n    case 'SET_EDITING_FOCUS': {\n      if (!state[inspectionId]) {\n        return state;\n      }\n\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...state[inspectionId].sharedState,\n            editingViewId: viewId,\n          },\n        },\n      };\n    }\n\n    case 'SET_LIST_VIEW_ALIASES': {\n      if (!state[inspectionId]) {\n        return state;\n      }\n\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...state[inspectionId].sharedState,\n            listViewAliases: action.aliases,\n            showAliasesInList: action.showInList,\n          },\n        },\n      };\n    }\n\n    case 'UPDATE_LIST_VIEW_SHOW_ALIASES': {\n      if (!state[inspectionId]) {\n        return state;\n      }\n\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...state[inspectionId].sharedState,\n            showAliasesInList: action.showInList,\n          },\n        },\n      };\n    }\n\n    case 'SET_VIEW_DATA':\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          views: {\n            ...(state[inspectionId] ? state[inspectionId].views : {}),\n            [viewId]: {\n              ...(state[inspectionId] && state[inspectionId].views\n                ? state[inspectionId].views[viewId]\n                : {}),\n              [key]: action.data,\n            },\n          },\n        },\n      };\n\n    case 'SAVE_IMAGE_SETTINGS':\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          views: {\n            ...(state[inspectionId] ? state[inspectionId].views : {}),\n            [viewId]: {\n              ...(state[inspectionId] && state[inspectionId].views\n                ? state[inspectionId].views[viewId]\n                : {}),\n              zoomFactor: action.zoomFactor,\n              imagePosition: action.imagePosition,\n            },\n          },\n        },\n      };\n\n    case 'SET_SHARED_STATE_DATA': {\n      const editingViewId = action.viewId || state[inspectionId].sharedState.editingViewId;\n      const newState = {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...(state[inspectionId] ? state[inspectionId].sharedState : {}),\n            views: {\n              ...(state[inspectionId] ? state[inspectionId].sharedState.views : {}),\n              [editingViewId]: {\n                ...(state[inspectionId]\n                  ? state[inspectionId].sharedState.views[editingViewId]\n                  : {}),\n                [key]: action.data,\n              },\n            },\n          },\n        },\n      };\n      return newState;\n    }\n\n    case 'INIT_VIEW_STATE': {\n      const { initState, initSharedState } = action;\n\n      const newState = {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...(state[inspectionId] ? state[inspectionId].sharedState : {}),\n            views: {\n              ...(state[inspectionId] ? state[inspectionId].sharedState.views : {}),\n              [viewId]: isObjectValid(() => state[inspectionId].sharedState.views[viewId])\n                ? {\n                    ...initSharedState,\n                    ...state[inspectionId].sharedState.views[viewId],\n                  }\n                : initSharedState,\n            },\n          },\n          views: {\n            ...(state[inspectionId] ? state[inspectionId].views : {}),\n            [viewId]: isObjectValid(() => state[inspectionId].views[viewId])\n              ? { ...initState, ...state[inspectionId].views[viewId] }\n              : initState,\n          },\n        },\n      };\n\n      const listViewAliases =\n        newState[inspectionId] &&\n        newState[inspectionId].sharedState &&\n        (newState[inspectionId].sharedState.listViewAliases || new Map());\n      newState[inspectionId].sharedState.listViewAliases = listViewAliases;\n\n      return newState;\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default viewDataReducer;\n","import ViewSetFactory, { DEFAULT_VIEWSET_NAME } from '../../views/ViewSetFactory';\n\nconst viewSetFactory = new ViewSetFactory();\n\nconst initialState = () => {\n  const hideBottomNavigation = localStorage.getItem('BOTTOM_NAVIGATION_HIDDEN') === 'true';\n  const hideTopNavigation = localStorage.getItem('TOP_NAVIGATION_HIDDEN') === 'true';\n  const defaultViewSetName = localStorage.getItem('DEFAULT_VIEWSET_NAME');\n\n  return {\n    currentViewSet: undefined,\n    createdViewSets: {},\n    fullscreenMode: false,\n    fullscreenComponentDescriptor: undefined,\n    viewSizeChangeCounter: 0,\n    bottomNavHidden: hideBottomNavigation || false,\n    topNavHidden: hideTopNavigation || false,\n    defaultViewSetName: defaultViewSetName || null,\n    isSVOConfigLoaded: false,\n    unsavedChanges: false,\n  };\n};\n\nconst enterFullScreenMode = (componentDescriptor, state) => {\n  componentDescriptor.setFullscreen(true);\n  return {\n    ...state,\n    fullscreenMode: true,\n    fullscreenComponentDescriptor: componentDescriptor,\n  };\n};\n\nconst leaveFullScreenMode = (componentDescriptor, state) => {\n  componentDescriptor.setFullscreen(false);\n  return {\n    ...state,\n    fullscreenMode: false,\n    fullscreenComponentDescriptor: undefined,\n  };\n};\n\nconst findCreatedViewSetWithName = (name, createdViewSets) => {\n  const viewSetId = Object.keys(createdViewSets).find(\n    (viewSetId) => createdViewSets[viewSetId] && createdViewSets[viewSetId].name === name,\n  );\n  return viewSetId && createdViewSets[viewSetId];\n};\n\nconst switchViewSet = (viewSet, state) => {\n  const viewSetId = viewSet.id;\n  const cached = state.createdViewSets[viewSetId];\n  const targetViewSet = cached || viewSetFactory.getViewSet(viewSetId);\n  const createdViewSet = !cached ? { [viewSetId]: targetViewSet } : {};\n\n  const newState = {\n    ...state,\n    currentViewSet: targetViewSet,\n    createdViewSets: Object.assign({}, state.createdViewSets, createdViewSet),\n  };\n  return newState;\n};\n\nconst updateCurrentViewSet = (state, viewSet, viewSetId) => {\n  return {\n    ...state,\n    currentViewSet: viewSet,\n    createdViewSets: {\n      ...state.createdViewSets,\n      [viewSetId]: viewSet,\n    },\n    unsavedChanges: true,\n  };\n};\n\nconst removeViewSet = (state, name) => {\n  const { createdViewSets } = state;\n\n  let newCreatedViewSets = Object.keys(createdViewSets)\n    .filter((id) => id !== name)\n    .reduce((p, c) => ({ ...p, [c]: createdViewSets[c] }), {});\n\n  if (Object.keys(newCreatedViewSets).length === 0) {\n    const name = DEFAULT_VIEWSET_NAME;\n    newCreatedViewSets = {\n      [name]: viewSetFactory.buildEmptyViewSet(name),\n    };\n  }\n\n  return {\n    createdViewSets: newCreatedViewSets,\n    currentViewSet: newCreatedViewSets[Object.keys(newCreatedViewSets)[0]],\n    unsavedChanges: true,\n  };\n};\n\nconst viewSetReducer = (state = initialState(), action) => {\n  switch (action.type) {\n    case 'LOG_OUT':\n      return initialState();\n    case 'SET_VIEWSET':\n      return updateCurrentViewSet(state, action.viewSet, action.viewSetId);\n    case 'REPLACE_VIEW_IN_CURRENT_VIEWSET': {\n      const { viewId, inspectionId, replacementComponentId } = action;\n      const createdView = viewSetFactory.getViewById(replacementComponentId);\n      createdView.inspectionId = inspectionId;\n      const currentViewSetId = state.currentViewSet.id;\n      const updatedViewSet = {\n        ...state.currentViewSet,\n        viewSet: {\n          ...state.currentViewSet.viewSet,\n          [viewId]: createdView,\n        },\n      };\n      return updateCurrentViewSet(state, updatedViewSet, currentViewSetId);\n    }\n    case 'SWITCH_VIEWSET':\n      return switchViewSet(action.viewSet, state);\n    case 'ENTER_FULLSCREEN_MODE': {\n      if (\n        state.fullscreenComponentDescriptor &&\n        state.fullscreenComponentDescriptor.id !== action.componentDescriptor.id\n      ) {\n        leaveFullScreenMode(state.fullscreenComponentDescriptor, state);\n      }\n      return enterFullScreenMode(action.componentDescriptor, state);\n    }\n    case 'LEAVE_FULLSCREEN_MODE': {\n      return leaveFullScreenMode(action.componentDescriptor, state);\n    }\n    case 'TOGGLE_FULLSCREEN_MODE': {\n      if (!state.fullscreenComponentDescriptor) {\n        return enterFullScreenMode(action.componentDescriptor, state);\n      }\n      if (state.fullscreenComponentDescriptor.id === action.componentDescriptor.id) {\n        if (state.fullscreenMode) {\n          return leaveFullScreenMode(action.componentDescriptor, state);\n        }\n        return enterFullScreenMode(action.componentDescriptor, state);\n      }\n      return state;\n    }\n    case 'INCREASE_VIEW_SIZE_CHANGE_COUNTER':\n      return {\n        ...state,\n        viewSizeChangeCounter: state.viewSizeChangeCounter + 1,\n      };\n    case 'SET_BOTTOM_NAV_HIDDEN':\n      localStorage.setItem('BOTTOM_NAVIGATION_HIDDEN', action.hidden);\n      return {\n        ...state,\n        bottomNavHidden: action.hidden,\n      };\n    case 'CHANGE_VIEWSET_AFTER_LOADING':\n      return {\n        ...state,\n        changeViewSetToName: action.name,\n      };\n    case 'SET_TOP_NAV_HIDDEN':\n      localStorage.setItem('TOP_NAVIGATION_HIDDEN', action.hidden);\n      return {\n        ...state,\n        topNavHidden: action.hidden,\n      };\n    case 'SET_DEFAULT_VIEWSET_NAME':\n      localStorage.setItem('DEFAULT_VIEWSET_NAME', action.name);\n      return {\n        ...state,\n        defaultViewSetName: action.name,\n      };\n    case 'NEW_VIEW_SET': {\n      const newViewSet = {\n        [action.name]: viewSetFactory.buildEmptyViewSet(action.name),\n      };\n\n      return {\n        ...state,\n        createdViewSets: {\n          ...state.createdViewSets,\n          ...newViewSet,\n        },\n        unsavedChanges: true,\n      };\n    }\n    case 'REMOVE_VIEWSET': {\n      const { createdViewSets, currentViewSet } = removeViewSet(state, action.name);\n      return {\n        ...state,\n        currentViewSet,\n        createdViewSets,\n        unsavedChanges: true,\n      };\n    }\n    case 'CLEAR_CURRENT_VIEW': {\n      if (!state?.currentViewSet?.name) {\n        return state;\n      }\n\n      const emptyViewSet = viewSetFactory.buildEmptyViewSet(state.currentViewSet.name);\n      state.createdViewSets[state.currentViewSet.name] = emptyViewSet;\n\n      return {\n        ...state,\n        currentViewSet: emptyViewSet,\n        unsavedChanges: true,\n      };\n    }\n    case 'RENAME_VIEWSET': {\n      const viewsetToEdit = state.createdViewSets[action.oldName];\n      const renamedViewSet = {\n        ...viewsetToEdit,\n        id: action.newName,\n        name: action.newName,\n      };\n      const createdViewSets = Object.keys(state.createdViewSets).reduce(\n        (all, id) =>\n          id === action.oldName\n            ? { ...all, [action.newName]: renamedViewSet }\n            : { ...all, [id]: state.createdViewSets[id] },\n        {},\n      );\n\n      if (action.oldName === state.currentViewSet.name) {\n        return {\n          ...state,\n          createdViewSets,\n          currentViewSet: renamedViewSet,\n          unsavedChanges: true,\n        };\n      }\n\n      return {\n        ...state,\n        createdViewSets,\n        unsavedChanges: true,\n      };\n    }\n    case 'SET_CURRENT_LAYOUT':\n      if (!action.layout) {\n        return state;\n      }\n      return {\n        ...state,\n        createdViewSets: Object.assign({}, state.createdViewSets, {\n          [state.currentViewSet.id]: {\n            ...state.currentViewSet,\n            initialValue: action.layout,\n          },\n        }),\n        currentViewSet: {\n          ...state.currentViewSet,\n          initialValue: action.layout,\n        },\n        currentLayout: action.layout,\n        unsavedChanges: true,\n      };\n    case 'LOAD_CLIENT_CHUNK': {\n      if (state.changeViewSetToName) {\n        let loadedViewSet = findCreatedViewSetWithName(\n          state.changeViewSetToName,\n          action.chunk.createdViewSets,\n        );\n\n        if (loadedViewSet) {\n          const newState = {\n            ...state,\n            currentViewSet: loadedViewSet,\n            createdViewSets: action.chunk.createdViewSets,\n            changeViewSetToName: undefined,\n          };\n          return switchViewSet(loadedViewSet, newState);\n        }\n      }\n\n      const config = {\n        createdViewSets: action.chunk.createdViewSets,\n        currentViewSet: action.chunk.currentViewSet,\n      };\n      return {\n        ...state,\n        ...config,\n      };\n    }\n    case 'SET_SVO_CONFIG_LOADED':\n      return {\n        ...state,\n        isSVOConfigLoaded: action.isLoaded,\n        unsavedChanges: false,\n      };\n    case 'SET_SAVE_FLAG':\n      return {\n        ...state,\n        unsavedChanges: action.hasChanges,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default viewSetReducer;\n","import { routerReducer as routing } from 'react-router-redux';\nimport { combineReducers } from 'redux';\n\nimport appReducer from './appReducer';\nimport toolsetReducer from './toolsetReducer';\nimport viewDataReducer from './viewDataReducer';\nimport viewSetReducer from './viewSetReducer';\n\nfunction createReducers(params) {\n  return combineReducers({\n    app: appReducer(params),\n    viewSet: viewSetReducer,\n    toolSet: toolsetReducer,\n    inspections: viewDataReducer,\n    routing,\n  });\n}\n\nexport default createReducers;\n","/* eslint-disable import/order */\nimport React, { useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport 'react-tippy/dist/tippy.css';\nimport { createStore, applyMiddleware, compose } from 'redux';\n\nimport App from './App';\nimport LoginPage from './pages/LoginPage';\nimport Protobuf from './protobuf/Protobuf';\nimport {\n  saveClientChunk,\n  setProtobufStaticInitialized,\n  setBrowserWindowVisibility,\n} from './redux/actions';\nimport createReducers from './redux/reducers';\nimport env from './utils/env';\nimport { loadUserInfoFromStorage } from './utils/localStorage';\n\nimport './App.scss';\nimport './css/utils.css';\nimport './css/reset.scss';\n\nconst PreLogin = () => {\n  const [user, setUser] = useState(null);\n  const [authToken, setAuthToken] = useState('');\n  const [store, setStore] = useState(null);\n\n  const onLoggedIn = (data) => {\n    if (data && data.user && data.authToken) {\n      setUser(data.user);\n      setAuthToken(data.authToken);\n    }\n  };\n\n  const onLoggedOut = () => {\n    setUser(null);\n    setAuthToken('');\n  };\n\n  const create = async () => {\n    const autoSave = (store) => (next) => (action) => {\n      if (env.enableAutoSave) {\n        // TODO: for now trigger an auto-save whenever dispatching a \"SET_*\" action\n        const state = store.getState();\n        if (\n          action.type.substr(0, 4) === 'SET_' &&\n          !state.app.saveOperationInProcess &&\n          state.app.protobuf\n        ) {\n          // only store if we have a valid protobuf connection\n          const { currentClientChunkRevision, protobuf, user } = state.app;\n          store.dispatch(saveClientChunk(protobuf, user, state, currentClientChunkRevision));\n        }\n      }\n      return next(action);\n    };\n\n    const store = createStore(\n      createReducers({\n        websocketUrl: env.websocketServerUrl,\n        dispatch: (action) => store.dispatch(action),\n      }),\n      compose(\n        applyMiddleware(thunk, autoSave),\n        window.devToolsExtension ? window.devToolsExtension() : (f) => f,\n      ),\n    );\n\n    await Protobuf.init();\n    store.dispatch(setProtobufStaticInitialized());\n\n    setStore(store);\n  };\n\n  useEffect(() => {\n    if ((user && authToken) || window.location.pathname === '/hmi-v1') {\n      create();\n    }\n  }, [user, authToken]);\n\n  const fromLocalStorage = loadUserInfoFromStorage();\n  if (fromLocalStorage) {\n    if (fromLocalStorage.user && !user) {\n      setUser(fromLocalStorage.user);\n    }\n\n    if (fromLocalStorage.authToken && !authToken) {\n      setAuthToken(fromLocalStorage.authToken);\n    }\n  }\n\n  if (!(user && authToken) && window.location.pathname !== '/hmi-v1') {\n    return <LoginPage onLogin={(data) => onLoggedIn(data)} />;\n  } else {\n    if (!store) {\n      return <div></div>;\n    }\n\n    document.addEventListener('visibilitychange', function () {\n      if (document.visibilityState === 'visible') {\n        store.dispatch(setBrowserWindowVisibility(true));\n        clearTimeout(this.hibernateTimer);\n      } else {\n        this.hibernateTimer = setTimeout(() => {\n          store.dispatch(setBrowserWindowVisibility(false));\n        }, 10000);\n      }\n    });\n\n    return (\n      <Provider store={store}>\n        <App user={user} authToken={authToken} onLoggedOut={() => onLoggedOut()} />\n      </Provider>\n    );\n  }\n};\n\nexport default PreLogin;\n","import { createTheme } from '@material-ui/core/styles';\n\n// MUI Seidenader Default Colors\nconst GREY135 = 'rgb(135, 135, 135)';\nconst muiTheme = createTheme({\n  palette: {\n    primary: { main: GREY135 },\n  },\n  typography: {\n    useNextVariants: true,\n    htmlFontSize: 10,\n  },\n});\n\nexport default muiTheme;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport ReactDOM from 'react-dom';\nimport 'react-tippy/dist/tippy.css';\nimport PreLogin from './PreLogin';\nimport muiTheme from './theme';\n\nimport './css/app.scss';\n// eslint-disable-next-line import/order\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MuiThemeProvider theme={muiTheme}>\n      <PreLogin />\n    </MuiThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import protobufjs from 'protobufjs';\n\nexport const utf8StringToBuffer = (str) => {\n  const len = protobufjs.util.utf8.length(str);\n  const buf = new Uint8Array(len);\n  protobufjs.util.utf8.write(str, buf, 0);\n  return buf;\n};\n\nexport const bufferToUtf8String = (buffer) => {\n  return protobufjs.util.utf8.read(buffer, 0, buffer.length);\n};\n","import semver from 'semver';\n\nimport Protobuf from '../protobuf/Protobuf';\nimport { bufferToUtf8String, utf8StringToBuffer } from '../protobuf/Utils';\nimport logger from '../utils/logger';\n\nimport ViewSetFactory, {\n  DEFAULT_VIEWSET_NAME,\n  TOOLSET_VIEW,\n  IMAGE_VIEW,\n  LIST_VIEW,\n  IMAGE_STRIP_VIEW,\n} from '../views/ViewSetFactory';\n\nconst viewSetFactory = new ViewSetFactory();\n\n/*\n * Version Changelog:\n * 1:   createdViewSets and currentViewSet property as initial state\n * 2:   added inspectionOverlays property\n * 3:   added inspectionListSelection property\n * 3.1: added inspectionEditingViewIds property\n * 4.0.0: breaking change bw 8.10-8.20. Uses GUIDs instead dotted names\n * 5.0.0: breaking change between 8.20 and 10.00. Uses int ids instead of GUIDs\n */\n\nconst DATABASEGATEWAY_CHUNK_FILENAME = 'DatabaseGateway.json';\nconst WEBAPP_CHUNK_FILENAME = 'WebApp.json';\nconst WEBAPP_IDMAPPING_FILENAME = 'WebAppIds.json';\nconst WEBAPP_CHUNK_VERSION = '5.0.0';\nconst WEBAPP_CHUNK_PARAMETERS = {\n  VERSION: 'version',\n  SV_OBSERVER_VERSION: 'svObserverVersion',\n  GATEWAY_VERSION: 'gatewayVersion',\n  WEBAPP_VERSION: 'webAppVersion',\n  CREATED_VIEW_SETS: 'createdViewSets',\n  CURRENT_VIEW_SETS: 'currentViewSet',\n  INSPECTION_OVERLAYS: 'inspectionOverlays',\n  INSPECTION_LIST_SELECTION: 'inspectionListSelection',\n  INSPECTION_EDITING_VIEW_IDS: 'inspectionEditingViewIds',\n  INSPECTION_LIST_ALIASES: 'inspectionListAliases',\n  INSPECTION_IMAGE_VIEW_SETTINGS: 'inspectionImageViewSettings',\n};\n\nexport const saveChunk = (protobuf, currentState, actions) => async (dispatch) => {\n  const { setSaveOperationInProcess, setSaveFlag } = actions;\n  // extract the saveable information from store\n  const inspectionOverlays = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    const overlays = Object.keys(inspection.sharedState.views).map((viewId) => ({\n      viewId,\n      overlays:\n        inspection.sharedState.views[viewId] && inspection.sharedState.views[viewId].overlays,\n      sourceImage:\n        inspection.sharedState.views[viewId] && inspection.sharedState.views[viewId].sourceImage,\n    }));\n    return { inspectionId, overlays };\n  });\n\n  const inspectionListSelection = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    const listSelection = Object.keys(inspection.views).map((viewId) => ({\n      viewId,\n      selection: inspection.views[viewId] && inspection.views[viewId].selection,\n      isSelectionMode: inspection.views[viewId] && inspection.views[viewId].isSelectionMode,\n      selectAll: inspection.views[viewId] && inspection.views[viewId].selectAll,\n    }));\n    return { inspectionId, listSelection };\n  });\n\n  const inspectionEditingViewIds = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    const editingViewId = inspection.sharedState.editingViewId;\n    return { inspectionId, editingViewId };\n  });\n\n  const inspectionListAliases = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    if (inspection.sharedState.listViewAliases) {\n      const aliases = convertAliasesToJson(inspection.sharedState.listViewAliases);\n      return { inspectionId, aliases, showInList: inspection.sharedState.showAliasesInList };\n    }\n\n    return {};\n  });\n\n  const inspectionImageViewSettings = Object.keys(currentState.inspections).map(\n    (inspectionIdStr) => {\n      const inspectionId = parseInt(inspectionIdStr, 10);\n      const inspection = currentState.inspections[inspectionIdStr];\n      const imageViewSettings = Object.keys(inspection.views).map((viewId) => ({\n        viewId,\n        zoomFactor: inspection.views[viewId] && inspection.views[viewId].zoomFactor,\n        imagePosition: inspection.views[viewId] && inspection.views[viewId].imagePosition,\n      }));\n\n      return { inspectionId, imageViewSettings };\n    },\n  );\n\n  const chunk = {\n    [WEBAPP_CHUNK_PARAMETERS.VERSION]: WEBAPP_CHUNK_VERSION,\n    [WEBAPP_CHUNK_PARAMETERS.SV_OBSERVER_VERSION]:\n      currentState.app.configuration.getSvObserverVersion(),\n    [WEBAPP_CHUNK_PARAMETERS.GATEWAY_VERSION]: currentState.app.configuration.getGatewayVersion(),\n    [WEBAPP_CHUNK_PARAMETERS.WEBAPP_VERSION]: currentState.app.configuration.getWebAppVersion(),\n    [WEBAPP_CHUNK_PARAMETERS.CREATED_VIEW_SETS]: currentState.viewSet.createdViewSets,\n    [WEBAPP_CHUNK_PARAMETERS.CURRENT_VIEW_SETS]: currentState.viewSet.currentViewSet,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_OVERLAYS]: inspectionOverlays,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_SELECTION]: inspectionListSelection,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_EDITING_VIEW_IDS]: inspectionEditingViewIds,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_ALIASES]: inspectionListAliases,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_IMAGE_VIEW_SETTINGS]: inspectionImageViewSettings,\n  };\n  const json = JSON.stringify(chunk);\n\n  await dispatch(setSaveOperationInProcess(true));\n  try {\n    const req = Protobuf.SvPb.PutFileRequest.create({\n      destinationPath: WEBAPP_CHUNK_FILENAME,\n      fileData: utf8StringToBuffer(json),\n      saveInConfig: true,\n    });\n    await protobuf.request(req);\n  } catch (err) {\n    // TODO: report save error to user\n    logger.error({ err }, 'Error while saving client chunk');\n    return;\n  }\n  await dispatch(setSaveOperationInProcess(false));\n  dispatch(setSaveFlag(false));\n};\n\nconst convertAliasesToJson = (map) => {\n  const result = [];\n  map.forEach((entry) => {\n    result.push(entry);\n  });\n  return result;\n};\n\nexport const loadChunk = (proxy, actions) => async (dispatch) => {\n  const {\n    setSharedStateData,\n    setClientChunk,\n    setViewData,\n    setEditingFocus,\n    addIncompatibilityDetectedNotification,\n    setListViewAliases,\n    saveImageSettings,\n  } = actions;\n\n  const req = Protobuf.SvPb.GetFileRequest.create({\n    sourcePath: WEBAPP_CHUNK_FILENAME,\n  });\n  let response = null;\n  try {\n    response = await proxy.protobuf.request(req);\n  } catch (err) {\n    logger.error({ err }, 'Error while loading client chunk');\n  }\n\n  if (response.hResult) {\n    logger.info('There is no web app configuration to restore');\n    return;\n  }\n\n  const chunk = bufferToUtf8String(response.fileData);\n  let config = JSON.parse(chunk.toString());\n\n  // will check whether config contains deprecated string GUIDs and try to convert them if required\n  config = await updateConfigWithGuidToIntMapping(proxy.protobuf, config);\n  await loadDataForCurrentViewSet(proxy, config);\n\n  const { version: configVersion } = semver.coerce(config.version);\n  if (semver.satisfies(configVersion, '<5.0.0')) {\n    throw new Error('Unable to load deprecated config file');\n  }\n\n  const receivedConfigParameters = Object.keys(config);\n  const expectedConfigParameters = Object.keys(WEBAPP_CHUNK_PARAMETERS).map(\n    (key) => WEBAPP_CHUNK_PARAMETERS[key],\n  );\n\n  for (let i = 0; i < expectedConfigParameters.length; i++) {\n    const currentParameterName = expectedConfigParameters[i];\n    if (!receivedConfigParameters.includes(currentParameterName)) {\n      logger.warn(`\"${currentParameterName}\" can not be found in loaded config`);\n    }\n  }\n\n  if (!semver.valid(configVersion)) {\n    logger.error('Config version is invalid!');\n    throw new Error('Selected config version is invalid');\n  }\n\n  if (semver.diff(WEBAPP_CHUNK_VERSION, configVersion) === 'major') {\n    logger.error('Selected config is not compatible with the current Web App version');\n    throw new Error('Selected config is not compatible with the current Web App version');\n  }\n\n  // Notify user when a minor change detected and a newer config is loaded on an older webapp\n  if (\n    semver.diff(WEBAPP_CHUNK_VERSION, configVersion) === 'minor' &&\n    semver.gt(configVersion, WEBAPP_CHUNK_VERSION)\n  ) {\n    dispatch(addIncompatibilityDetectedNotification());\n  }\n\n  if (semver.satisfies(configVersion, '>=3.0.0')) {\n    // restore custom overlays\n    config.inspectionOverlays.forEach((inspection) =>\n      inspection.overlays.forEach((view) => {\n        dispatch(\n          setSharedStateData(inspection.inspectionId, 'overlays', view.overlays, view.viewId),\n        );\n        dispatch(\n          setSharedStateData(inspection.inspectionId, 'sourceImage', view.sourceImage, view.viewId),\n        );\n      }),\n    );\n\n    // restore list view data\n    config.inspectionListSelection.forEach((inspection) =>\n      inspection.listSelection.forEach((view) => {\n        dispatch(setViewData(inspection.inspectionId, view.viewId, 'selection', view.selection));\n        dispatch(\n          setViewData(\n            inspection.inspectionId,\n            view.viewId,\n            'isSelectionMode',\n            view.isSelectionMode,\n          ),\n        );\n        dispatch(setViewData(inspection.inspectionId, view.viewId, 'selectAll', view.selectAll));\n      }),\n    );\n  }\n\n  if (semver.satisfies(configVersion, '>=3.1.0')) {\n    // restore editing focus\n    config.inspectionEditingViewIds.forEach((inspection) => {\n      if (inspection.inspectionId && inspection.editingViewId) {\n        dispatch(setEditingFocus(inspection.inspectionId, inspection.editingViewId));\n      }\n    });\n  }\n\n  if (semver.satisfies(configVersion, '>=5.0.0')) {\n    (config.inspectionListAliases || []).forEach((inspection) => {\n      if (inspection.inspectionId && Array.isArray(inspection.aliases)) {\n        const aliases = new Map();\n        inspection.aliases.forEach((alias) => aliases.set(alias.objectId, alias));\n        dispatch(setListViewAliases(inspection.inspectionId, aliases, inspection.showInList));\n      }\n    });\n    (config.inspectionImageViewSettings || []).forEach((inspection) => {\n      (inspection.imageViewSettings || []).forEach((setting) => {\n        dispatch(\n          saveImageSettings(\n            inspection.inspectionId,\n            setting.viewId,\n            setting.zoomFactor,\n            setting.imagePosition,\n          ),\n        );\n      });\n    });\n  }\n\n  //now the views are created with all configurations set before\n  dispatch(setClientChunk(config));\n};\n\nexport const resetChunk = (protobuf, actions) => async (dispatch) => {\n  const { setClientChunk } = actions;\n  const name = DEFAULT_VIEWSET_NAME;\n  const emptyViewset = viewSetFactory.buildEmptyViewSet(name);\n  const emptyViewSets = {\n    [name]: emptyViewset,\n  };\n\n  const emptyChunk = {\n    [WEBAPP_CHUNK_PARAMETERS.VERSION]: WEBAPP_CHUNK_VERSION,\n    [WEBAPP_CHUNK_PARAMETERS.SV_OBSERVER_VERSION]: 'UNDEFINED',\n    [WEBAPP_CHUNK_PARAMETERS.GATEWAY_VERSION]: 'UNDEFINED',\n    [WEBAPP_CHUNK_PARAMETERS.WEBAPP_VERSION]: 'UNDEFINED',\n    [WEBAPP_CHUNK_PARAMETERS.CREATED_VIEW_SETS]: emptyViewSets,\n    [WEBAPP_CHUNK_PARAMETERS.CURRENT_VIEW_SETS]: emptyViewset,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_OVERLAYS]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_SELECTION]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_EDITING_VIEW_IDS]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_ALIASES]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_IMAGE_VIEW_SETTINGS]: [],\n  };\n\n  dispatch(setClientChunk(emptyChunk));\n};\n\nconst updateConfigWithGuidToIntMapping = async (protobuf, config) => {\n  const { version } = semver.coerce(config.version);\n\n  // config is not using GUIDs any more already\n  if (semver.satisfies(version, '>=5.0.0') || semver.satisfies(version, '<4.0.0')) {\n    return config;\n  }\n\n  const sourcePath = WEBAPP_IDMAPPING_FILENAME;\n  const req = Protobuf.SvPb.GetFileRequest.create({ sourcePath });\n\n  let res;\n  try {\n    res = await protobuf.request(req);\n  } catch (err) {\n    logger.error({ err }, 'Error while loading id mapping');\n    throw new Error('Unable to load id mapping file');\n  }\n\n  if (res.hResult) {\n    logger.info(`The file \"${WEBAPP_IDMAPPING_FILENAME}\" does not exist.`);\n    throw new Error('Unable to load id mapping file');\n  }\n\n  let idMapping;\n  try {\n    const idMappingChunk = bufferToUtf8String(res.fileData);\n    idMapping = JSON.parse(idMappingChunk.toString());\n  } catch (err) {\n    logger.error({ err }, `Error while parsing content of ${WEBAPP_IDMAPPING_FILENAME}`);\n    return config;\n  }\n\n  const mapping = parseGuidToObjectIdMapping(idMapping.guidToObjectIdMapping);\n  const error = { hasError: false };\n  recursivlyUpdateConfigWithGuidToIntMapping(config, mapping, error);\n\n  // this is the first version with int ids\n  config.version = '5.0.0';\n  config.patchedIds = true;\n  if (error.hasError) {\n    throw new Error(\n      'Selected config is not compatible with the current Web App version (could not migrate all string GUIDs to int ObjectIds)',\n    );\n  } else {\n    logger.debug('Successfully migrated string GUIDs to int ObjectIds');\n  }\n\n  return config;\n};\n\nconst parseGuidToObjectIdMapping = (mapping) => {\n  const result = new Map();\n  Object.entries(mapping || {}).forEach(([key, value]) => {\n    const guid = key.toLowerCase().replace('{', '').replace('}', '');\n    result.set(guid, value);\n  });\n  return result;\n};\n\nconst lookUpKeyInMapping = (key, mapping) => {\n  if (mapping.has(key)) {\n    return mapping.get(key);\n  }\n  const lowerCaseKey = key.toLowerCase();\n  if (mapping.has(lowerCaseKey)) {\n    return mapping.get(lowerCaseKey);\n  }\n  return undefined;\n};\n\nconst recursivlyUpdateConfigWithGuidToIntMapping = (obj, mapping, error) => {\n  for (const key in obj) {\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      if (key === 'selection') {\n        obj[key] = obj[key]\n          .map((entry) => {\n            const value = lookUpKeyInMapping(entry, mapping);\n            if (value) {\n              return value;\n            } else {\n              error.hasError = true;\n              logger.error(\n                `There is a guid in the config which is not included in the mapping: ${entry}`,\n              );\n              return undefined;\n            }\n          })\n          .filter((entry) => !!entry); // remove undefined entries from selection\n      }\n      recursivlyUpdateConfigWithGuidToIntMapping(obj[key], mapping, error);\n    } else {\n      if (\n        key === 'inspectionId' ||\n        key === 'sourceImage' ||\n        key === 'xVariable' ||\n        key === 'offsetLeftVariable' ||\n        key === 'yVariable' ||\n        key === 'offsetTopVariable' ||\n        key === 'widthVariable' ||\n        key === 'heightVariable' ||\n        key === 'colorVariable'\n      ) {\n        const value = lookUpKeyInMapping(obj[key], mapping);\n        if (value) {\n          obj[key] = value;\n        } else {\n          obj[key] = undefined;\n          error.hasError = true;\n          logger.error(\n            `There is a guid in the config which is not included in the mapping: ${obj[key]}`,\n          );\n        }\n      }\n    }\n  }\n};\n\nexport const loadDatabaseGatewayConfig = (protobuf, actions) => async (dispatch) => {\n  const { setDatabaseGatewayChunk } = actions;\n  const req = Protobuf.SvPb.GetFileRequest.create({\n    sourcePath: DATABASEGATEWAY_CHUNK_FILENAME,\n  });\n  let response = null;\n  try {\n    response = await protobuf.request(req);\n  } catch (err) {\n    logger.error({ err }, 'Error while loading client chunk');\n  }\n\n  if (response.hResult) {\n    logger.info('There is no database gateway configuration to restore');\n  }\n\n  const chunk = bufferToUtf8String(response.fileData);\n  let config = !response.hResult ? JSON.parse(chunk.toString()) : null;\n\n  dispatch(setDatabaseGatewayChunk(config));\n};\n\nexport const saveDatabaseGatewayConfig = (protobuf, chunk) => async () => {\n  const json = JSON.stringify(chunk, 0, 2);\n  try {\n    const req = Protobuf.SvPb.PutFileRequest.create({\n      destinationPath: DATABASEGATEWAY_CHUNK_FILENAME,\n      fileData: utf8StringToBuffer(json),\n      saveInConfig: true,\n    });\n    await protobuf.request(req);\n  } catch (err) {\n    logger.error({ err }, 'Error while saving client chunk');\n    return;\n  }\n};\n\nconst loadDataForCurrentViewSet = async (proxy, config) => {\n  let isToolsetViewSet = false;\n  let isImageViewSet = false;\n  let isListViewSet = false;\n  let isImageStripViewSet = false;\n\n  for (const view of Object.values(config.currentViewSet.viewSet)) {\n    switch (view.viewComponentClassId) {\n      case TOOLSET_VIEW:\n        if (!isToolsetViewSet && proxy.currentConfiguration.inspectionToolsetMappings.size === 0) {\n          await proxy.currentConfiguration.setInspectionIdToToolsetMappings(proxy.protobuf);\n          isToolsetViewSet = true;\n        }\n        break;\n      case IMAGE_VIEW:\n        if (!isImageViewSet) {\n          if (proxy.currentConfiguration.objectSelectorImages?.size === 0) {\n            await proxy.currentConfiguration.setObjectSelectorImages(proxy.protobuf);\n          }\n          if (proxy.currentConfiguration.idNameMappings.size === 0) {\n            await proxy.currentConfiguration.setIdNameMappings(proxy.protobuf);\n          }\n          isImageViewSet = true;\n        }\n        break;\n      case LIST_VIEW:\n        if (!isListViewSet) {\n          if (proxy.currentConfiguration.objectSelectorItems?.size === 0) {\n            await proxy.currentConfiguration.setObjectSelectorItems(proxy.protobuf);\n          }\n          if (proxy.currentConfiguration.idNameMappings.size === 0) {\n            await proxy.currentConfiguration.setIdNameMappings(proxy.protobuf);\n          }\n          isListViewSet = true;\n        }\n        break;\n      case IMAGE_STRIP_VIEW:\n        if (!isImageStripViewSet) {\n          if (proxy.currentConfiguration.objectSelectorImages?.size === 0) {\n            await proxy.currentConfiguration.setObjectSelectorImages(proxy.protobuf);\n          }\n          if (proxy.currentConfiguration.idNameMappings.size === 0) {\n            await proxy.currentConfiguration.setIdNameMappings(proxy.protobuf);\n          }\n          isImageStripViewSet = true;\n        }\n        break;\n      default:\n        break;\n    }\n  }\n  proxy.dispatchCurrentConfiguration(proxy.currentConfiguration);\n};\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport {\n  authenticate as authenticateHelper,\n  logOut as logOutHelper,\n} from '../../utils/authentication';\nimport {\n  saveChunk,\n  loadChunk,\n  resetChunk,\n  loadDatabaseGatewayConfig,\n  saveDatabaseGatewayConfig,\n} from '../../utils/clientChunkManager';\n\nexport const setLocale = (locale) => ({\n  type: 'SET_LOCALE',\n  locale,\n});\n\nexport const setProtobufStaticInitialized = () => ({\n  type: 'SET_PROTOBUF_STATIC_INITIALIZED',\n});\n\nexport const setProtobuf = (newProtobuf, socket) => ({\n  type: 'SET_PROTOBUF',\n  protobuf: newProtobuf,\n  socket,\n});\n\nexport const setCurrentConfiguration = (configuration) => ({\n  type: 'SET_CONFIGURATION',\n  configuration,\n});\n\nexport const setConfigurationLock = (configurationLock) => ({\n  type: 'SET_CONFIGURATION_LOCK',\n  configurationLock,\n});\n\nexport const setInpectionToolsetMappings = (mappings) => ({\n  type: 'SET_INSPECTION_TOOLSET_MAPPINGS',\n  mappings,\n});\n\nexport const addNotification = (type, message) => ({\n  type: 'ADD_NOTIFICATION',\n  notification: {\n    type,\n    message,\n  },\n});\n\nexport const addImageNotAvailableNotification = () => {\n  return addNotification('warning', <FormattedMessage id=\"imageNotAvailable\" />);\n};\n\nexport const addConnectionEstablishedNotification = () => {\n  return addNotification(\n    'info',\n    <FormattedMessage id=\"notifications.websocket.connectionEstablished\" />,\n  );\n};\n\nexport const addConnectionLostNotification = () => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.websocket.connectionLost\" />,\n  );\n};\n\nexport const addModeSwitchNotification = (mode) => {\n  return addNotification(\n    'info',\n    <span>\n      <FormattedMessage id=\"notifications.modeSwitch.userSwitchedModeTo\" /> {mode}\n    </span>,\n  );\n};\n\nexport const addUserSwitchedLanguageNotification = (locale) => {\n  return addNotification(\n    'info',\n    <span>\n      <FormattedMessage id=\"notifications.userSwitchedLanguage\" />\n      {locale}\n    </span>,\n  );\n};\n\nexport const addProjectLoadedNotification = (configFile) => {\n  return addNotification('info', `A new project was loaded: \"${configFile}\"`);\n};\n\nexport const addProjectUnloadedNotification = (configFile) => {\n  return addNotification('info', `The project was unloaded: \"${configFile}\"`);\n};\n\nexport const addProjectModifiedNotification = () => {\n  return addNotification('info', `Project was modified. Updating UI.`);\n};\n\nexport const addServerMessageNotification = (messageText, errorNumber) => {\n  return addNotification('info', `Server reported: ${messageText} ${errorNumber}`);\n};\n\nexport const addRejectStreamPausedNotification = (pausedInspectionIds) => {\n  return addNotification(\n    'info',\n    Array.isArray(pausedInspectionIds) && pausedInspectionIds.length > 0 ? (\n      <FormattedMessage id=\"notifications.rejectStreamPaused\" />\n    ) : (\n      <FormattedMessage id=\"notifications.rejectStreamResumed\" />\n    ),\n  );\n};\n\nexport const addRunModePauseNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"runViewSet.runModePaused\" />);\n};\n\nexport const addRunModeContinueNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"runViewSet.runModeContinue\" />);\n};\n\nexport const addStartInspectingNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"runViewSet.runModeStoppedInspecting\" />);\n};\n\nexport const addVariableValueShouldBeInTheRangeNotification = (variableName, range) => {\n  return addNotification(\n    'warning',\n    <FormattedMessage\n      id=\"notifications.variableValueShouldBeInTheRange\"\n      values={{ variableName, range }}\n    />,\n  );\n};\n\nexport const addConfigAlreadyLockedBySameUser = () => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.configAlreadyLockedBySameUser\" />,\n  );\n};\n\nexport const addTakeoverCandidateNotFoundNotification = () => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.takeoverCandidateNotFound\" />,\n  );\n};\n\nexport const addLockTakeoverErrorNotification = (code) => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.lockTakeoverError\" values={{ code }} />,\n  );\n};\n\nexport const addLockAcquisitionErrorNotification = (code) => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.lockAcquisitionError\" values={{ code }} />,\n  );\n};\n\nexport const tokenExpired = () => ({\n  type: 'AUTH_TOKEN_EXPIRED',\n});\n\nexport const authenticate = (accessToken) => async (dispatch) => {\n  const { authToken, user } = await authenticateHelper(accessToken);\n  return dispatch({\n    type: 'LOG_IN',\n    authToken,\n    user,\n  });\n};\n\nexport const logOut =\n  (notifyGateway = true) =>\n  async (dispatch) => {\n    await logOutHelper(notifyGateway);\n    return dispatch({\n      type: 'LOG_OUT',\n    });\n  };\n\nexport const onNavigationHidden = () => ({\n  type: 'ON_NAVIGATION_HIDDEN',\n});\n\nexport const showGlobalMessageOverlay = ({ message }) => ({\n  type: 'SHOW_GLOBAL_MESSAGE_OVERLAY',\n  message,\n});\n\nexport const hideGlobalMessageOverlay = () => ({\n  type: 'HIDE_GLOBAL_MESSAGE_OVERLAY',\n});\n\nexport const setViewSet = (viewSet, viewSetId) => ({\n  type: 'SET_VIEWSET',\n  viewSet,\n  viewSetId,\n});\n\nexport const replaceViewInCurrentViewSet = (viewId, replacementComponentId, inspectionId) => ({\n  type: 'REPLACE_VIEW_IN_CURRENT_VIEWSET',\n  viewId,\n  replacementComponentId,\n  inspectionId,\n});\n\nexport const switchViewSet = (viewSet) => ({\n  type: 'SWITCH_VIEWSET',\n  viewSet,\n});\n\nexport const setParameter = (parameter) => ({\n  type: 'SET_PARAMETER',\n  parameter,\n});\n\nexport const enterFullscreenMode = (component) => ({\n  type: 'ENTER_FULLSCREEN_MODE',\n  componentDescriptor: {\n    componentId: component.props.id,\n    setFullscreen: component.setFullscreen,\n  },\n});\n\nexport const leaveFullscreenMode = (component) => ({\n  type: 'LEAVE_FULLSCREEN_MODE',\n  componentDescriptor: {\n    componentId: component.props.id,\n    setFullscreen: component.setFullscreen,\n  },\n});\n\nexport const toggleFullscreenMode = (component) => ({\n  type: 'TOGGLE_FULLSCREEN_MODE',\n  componentDescriptor: {\n    id: component.props.id,\n    setFullscreen: component.setFullscreen,\n  },\n});\n\nexport const increaseViewSizeChangeCounter = () => ({\n  type: 'INCREASE_VIEW_SIZE_CHANGE_COUNTER',\n});\n\nexport const setBottomNavHidden = (hidden) => ({\n  type: 'SET_BOTTOM_NAV_HIDDEN',\n  hidden: !!hidden,\n});\n\nexport const setTopNavHidden = (hidden) => ({\n  type: 'SET_TOP_NAV_HIDDEN',\n  hidden: !!hidden,\n});\n\nexport const setDefaultViewSetName = (name) => ({\n  type: 'SET_DEFAULT_VIEWSET_NAME',\n  name,\n});\n\nexport const newViewSet = (name, mode) => ({\n  type: 'NEW_VIEW_SET',\n  name,\n  mode,\n});\n\nexport const setSaveOperationInProcess = (inProcess) => ({\n  type: 'UPDATE_SAVE_OPERATION_IN_PROCESS',\n  inProcess,\n});\n\nexport const setSaveFlag = (hasChanges) => ({\n  type: 'SET_SAVE_FLAG',\n  hasChanges,\n});\n\nexport const saveClientChunk = (protobuf, currentState) => async (dispatch) => {\n  const actions = {\n    setSaveOperationInProcess,\n    setSaveFlag,\n  };\n  await dispatch(saveChunk(protobuf, currentState, actions));\n};\n\nexport const loadClientChunk = (proxy) => async (dispatch) => {\n  const actions = {\n    setSharedStateData,\n    setClientChunk,\n    setViewData,\n    setEditingFocus,\n    addIncompatibilityDetectedNotification,\n    setListViewAliases,\n    saveImageSettings,\n    setSVOConfigLoaded,\n  };\n  await dispatch(loadChunk(proxy, actions));\n};\n\nexport const loadDatabaseGatewayConfiguration = (protobuf) => async (dispatch) => {\n  const actions = {\n    setDatabaseGatewayChunk,\n  };\n  await dispatch(loadDatabaseGatewayConfig(protobuf, actions));\n};\n\nexport const saveDatabaseGatewayConfiguration = (protobuf, chunk) => async (dispatch) => {\n  await dispatch(saveDatabaseGatewayConfig(protobuf, chunk));\n};\n\nexport const resetClientChunk = (protobuf) => async (dispatch) => {\n  const actions = {\n    setClientChunk,\n    setSVOConfigLoaded,\n  };\n  await dispatch(resetChunk(protobuf, actions));\n};\n\nexport const setClientChunk = (chunk) => ({\n  type: 'LOAD_CLIENT_CHUNK',\n  chunk,\n});\n\nexport const setDatabaseGatewayChunk = (chunk) => ({\n  type: 'SET_DATABASE_GATEWAY_CHUNK',\n  chunk,\n});\n\nexport const setSVOConfigLoaded = (isLoaded) => ({\n  type: 'SET_SVO_CONFIG_LOADED',\n  isLoaded,\n});\n\nexport const setViewSetForMode = (mode) => ({\n  type: 'SET_VIEWSET_FOR_MODE',\n  mode,\n});\n\nexport const removeViewSet = (name) => ({\n  type: 'REMOVE_VIEWSET',\n  name,\n});\n\nexport const clearCurrentView = () => ({\n  type: 'CLEAR_CURRENT_VIEW',\n});\n\nexport const renameViewSet = (oldName, newName) => ({\n  type: 'RENAME_VIEWSET',\n  oldName,\n  newName,\n});\n\nexport const changeViewSetAfterLoading = (name) => ({\n  type: 'CHANGE_VIEWSET_AFTER_LOADING',\n  name,\n});\n\nexport const setCurrentLayout = (layout) => ({\n  type: 'SET_CURRENT_LAYOUT',\n  layout,\n});\n\nexport const setCurrentMode = (mode) => ({\n  type: 'SET_CURRENT_MODE',\n  mode,\n});\n\nexport const setCurrentModeDone = (mode) => ({\n  type: 'SET_CURRENT_MODE_DONE',\n  mode,\n});\n\nexport const setPausedInspections = (pausedInspections) => ({\n  type: 'SET_PAUSED_INSPECTIONS',\n  pausedInspections,\n});\n\nexport const initViewState = (inspectionId, viewId, initState, initSharedState) => ({\n  type: 'INIT_VIEW_STATE',\n  inspectionId,\n  viewId,\n  initState,\n  initSharedState,\n});\n\nexport const setViewData = (inspectionId, viewId, key, data) => ({\n  type: 'SET_VIEW_DATA',\n  inspectionId,\n  viewId,\n  key,\n  data,\n});\n\nexport const saveImageSettings = (inspectionId, viewId, zoomFactor, imagePosition) => ({\n  type: 'SAVE_IMAGE_SETTINGS',\n  inspectionId,\n  viewId,\n  zoomFactor,\n  imagePosition,\n});\n\nexport const setSharedStateData = (inspectionId, key, data, viewId) => ({\n  type: 'SET_SHARED_STATE_DATA',\n  inspectionId,\n  key,\n  data,\n  viewId,\n});\n\nexport const setEditingFocus = (inspectionId, viewId) => ({\n  type: 'SET_EDITING_FOCUS',\n  inspectionId,\n  viewId,\n});\n\nexport const setListViewAliases = (inspectionId, aliases, showInList) => ({\n  type: 'SET_LIST_VIEW_ALIASES',\n  inspectionId,\n  aliases,\n  showInList,\n});\n\nexport const updateListViewShowAliases = (inspectionId, showInList) => ({\n  type: 'UPDATE_LIST_VIEW_SHOW_ALIASES',\n  inspectionId,\n  showInList,\n});\n\nexport const setFocusedViewType = (viewType) => ({\n  type: 'SET_FOCUSED_VIEW_TYPE',\n  viewType,\n});\n\nexport const purgeViewState = (inspectionId, viewId) => ({\n  type: 'PURGE_VIEW_STATE',\n  inspectionId,\n  viewId,\n});\n\nexport const openHelpView = () => ({\n  type: 'OPEN_HELP_VIEW',\n  isHelpViewOpen: true,\n});\n\nexport const closeHelpView = () => ({\n  type: 'CLOSE_HELP_VIEW',\n  isHelpViewOpen: false,\n});\n\nexport const addIncompatibilityDetectedNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"incompatibilityNotification\" />);\n};\n\nexport const setGroupPermissions = (groupPermissions) => ({\n  type: 'SET_GROUP_PERMISSIONS',\n  groupPermissions,\n});\n\nexport const setMyPermissions = (myPermissions) => ({\n  type: 'SET_MY_PERMISSIONS',\n  myPermissions,\n});\n\nexport const setBrowserWindowVisibility = (visible) => ({\n  type: 'SET_BROWSER_WINDOW_VISIBILITY',\n  visible,\n});\n"],"sourceRoot":""}