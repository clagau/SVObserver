{"version":3,"sources":["utils/downloader.js","components/ConfirmDialog/index.js","utils/env.js","utils/jsonMapper.js","utils/stringChunker.js","protobuf/Configuration.js","assets/icons/clear.svg","assets/icons/overlay-list.svg","assets/icons/close.svg","assets/icons/save.svg","views/HelpView/index.js","components/typo/Heading.js","views/HelpView/viewMappings.js","protobuf/ConfigurationLock.js","utils/permissions.js","utils/authentication.js","assets/icons/pause.svg","assets/icons/play.svg","components/OutlinedSelection/index.js","protobuf/Product.js","components/buttons/ToggleButton/index.js","assets/icons/help.svg","assets/icons/download.svg","assets/icons/info.svg","assets/icons/show.svg","assets/icons/plus.svg","assets/icons/delete.svg","assets/icons/image.svg","assets/logo/logo.svg","components/layout/Logo/index.js","protobuf/Mapper.js","components/ObjectSelector/index.js","components/layout/Container/index.tsx","components/Protobuf/ProxyType.js","utils/OverlayRenderer.js","views/ImageStripView/components/FilmStrip/index.js","views/ImageStripView/index.js","assets/icons/downloadWithOverlays.svg","assets/icons/fit-to-height.svg","assets/icons/fit-to-width.svg","assets/icons/one.svg","utils/reduxHelper.js","components/OverlayList/index.js","views/ImageView/components/ImageEditor.js","views/ImageView/components/ImageInfo.js","utils/propHelper.js","views/ImageView/index.js","assets/icons/show-off.svg","assets/icons/drag.svg","components/DraggableTable/index.js","views/ListView/components/List/AliasEditor.js","views/ListView/index.js","assets/icons/delete-dustbin.svg","views/ParameterView/components/Overlay/OverlayPropertyList.js","views/ParameterView/components/Overlay/VariableSelection.js","views/ParameterView/components/Overlay/index.js","views/ParameterView/index.js","assets/icons/before.svg","components/layout/ScrollContainer/index.js","views/RecipeView/index.js","assets/icons/archive.svg","assets/icons/arrow-top-right.svg","assets/icons/collapse-all.svg","assets/icons/copy.svg","assets/icons/cut.svg","assets/icons/cylindrical-wrap.svg","assets/icons/expand-all.svg","assets/icons/external.svg","assets/icons/group.svg","assets/icons/load-image.svg","assets/icons/loop.svg","assets/icons/palette.svg","assets/icons/paste.svg","assets/icons/perspective.svg","assets/icons/polar-transformation.svg","assets/icons/resize.svg","assets/icons/shift.svg","assets/icons/statistics.svg","assets/icons/table-analyzer.svg","assets/icons/table.svg","assets/icons/transformation.svg","assets/icons/window.svg","views/ToolsetView/components/ToolSetBar/index.js","assets/icons/down.svg","assets/icons/take-over.svg","assets/icons/up.svg","views/ParameterView/components/Filter/index.js","views/ParameterView/components/Filter/types/AvailableFilterListType.js","views/ToolsetView/components/ToolSetup.js","views/ToolsetView/components/TreebeardStyle.js","views/ToolsetView/index.js","views/ViewSetFactory.js","assets/icons/regression.svg","assets/icons/run.svg","assets/icons/stop.svg","assets/icons/test.svg","utils/modes.js","components/ActionBar/index.js","components/buttons/IconButton/index.js","views/TopNavigation/navigation/useUserInfoNavigation.tsx","assets/icons/logout.svg","assets/icons/permissions.svg","assets/icons/shortcut-help.svg","assets/icons/upload.svg","assets/icons/user.svg","views/AboutView/index.js","protobuf/ProtobufConnector.js","protobuf/WebsocketConnector.js","protobuf/Proxy.js","utils/defaultPermissions.js","types/ActionBarType.js","views/ShortcutView/components/ShortcutListItem/index.js","views/ShortcutView/components/ShortcutList/index.js","views/ShortcutView/shortcuts.js","views/ShortcutView/index.js","protobuf/ProductHistory.js","protobuf/ProductHistoryManager.js","protobuf/InspectionSubscription.js","protobuf/SubscriptionManager.js","components/Dialog/index.js","utils/localStorage.js","utils/logger.js","utils/objectValidator.js","protobuf/Observable.js","protobuf/Protobuf.js","assets/icons/back.svg","protobuf/Utils.js","utils/clientChunkManager.js","redux/actions/index.js","translations/de.js","translations/en.js","translations/index.js","components/RequestParameter/generic/SelectParameter/index.js","components/RequestParameter/generic/ArrayParameter/index.js","components/RequestParameter/specialized/BoolParameter/index.js","components/RequestParameter/specialized/BoolArrayParameter/index.js","components/RequestParameter/specialized/BytesParameter/index.js","components/RequestParameter/generic/SingleParameter/index.js","components/RequestParameter/specialized/DecimalParameter/index.js","components/RequestParameter/specialized/DecimalArrayParameter/index.js","components/RequestParameter/specialized/EnumArrayParameter/index.js","components/RequestParameter/specialized/EnumParameter/index.js","components/RequestParameter/specialized/IntegerParameter/index.js","components/RequestParameter/specialized/IntegerArrayParameter/index.js","components/RequestParameter/specialized/TextParameter/index.js","components/RequestParameter/specialized/TextArrayParameter/index.js","components/RequestParameter/index.js","components/RequestedResponseVisualizer/index.js","components/RequestsList/index.js","components/Debugger/index.js","pages/DebuggerPage.js","pages/HmiLoginPage.js","pages/LogoutPage.js","components/KeyHandler.js","components/PermissionManagement/index.js","pages/PermissionPage.js","components/ModalNotification.js/index.js","components/Protobuf/ProtobufType.js","assets/icons/view-manager.svg","assets/icons/check.svg","assets/icons/export.svg","assets/icons/import.svg","components/InformationDialog/index.js","views/ViewSetManager/index.js","views/ViewSet/types.js","components/NavigationItem/index.js","views/BottomNavigation/components/PresetSlider/components/PresetButton/index.js","views/BottomNavigation/components/PresetSlider/index.js","views/BottomNavigation/index.js","views/TopNavigation/NavigationItem.tsx","views/TopNavigation/components/DateTime/index.tsx","assets/icons/play-multiple.svg","assets/icons/language.svg","assets/icons/icons8-lock.svg","assets/icons/icons8-padlock.svg","views/TopNavigation/navigation/AlertDialog.tsx","views/TopNavigation/navigation/TakeoverDialog.tsx","views/TopNavigation/navigation/useLockStateHandlerNavigation.tsx","views/TopNavigation/navigation/useModeSwitchNavigation.tsx","assets/icons/description.svg","views/TopNavigation/navigation/useNavigation.tsx","views/TopNavigation/navigation/useLanguageChooserNavigation.tsx","views/TopNavigation/navigation/useInspectionStateNavigation.tsx","views/TopNavigation/navigation/useStatusReportNavigation.tsx","views/TopNavigation/index.tsx","views/NoSVOConfigurationLoadedView/index.js","components/ListSelection/index.js","views/ViewSelection/components/InspectionSelection/index.js","assets/icons/filmstrip.svg","assets/icons/list.svg","assets/icons/parameter.svg","assets/icons/toolset.svg","views/ViewSelection/components/ViewTypeSelection/index.js","views/ViewSelection/index.js","views/ViewSet/SVOView.js","views/ViewSet/index.js","pages/SVObserver.js","App.js","pages/LoginPage.js","redux/reducers/appReducer.js","redux/reducers/toolsetReducer.js","redux/reducers/viewDataReducer.js","redux/reducers/viewSetReducer.js","redux/reducers/index.js","PreLogin.js","theme.js","reportWebVitals.ts","index.tsx","assets/icons/edit.svg"],"names":["forceDownload","data","fileName","link","document","createElement","download","href","body","appendChild","click","removeChild","logger","info","ConfirmDialog","this","props","onClose","open","title","message","className","color","onClick","id","Component","env","authEndpoint","url","parsedUrl","parse","window","location","protocol","replace","host","getEndpoint","process","websocketServerUrl","enableAutoSave","replacerMapToJson","key","value","originalObject","Map","dataType","reviverJsonToMap","chunkSubstr","str","size","numChunks","Math","ceil","length","chunks","Array","i","o","substr","extractConfigName","filename","slashIdx","lastIndexOf","dotIdx","getConfigName","protobuf","a","request","Protobuf","SvPb","GetConfigurationInfoRequest","create","getInspections","inspectionsReq","GetInspectionsRequest","inspectionsRes","inspections","map","inspection","name","error","getInspectionIds","getInspectionNames","cleanObjectSelectorNodeRecursively","node","type","objectIDIndex","children","selected","cleanedChildren","startsWith","endIdx","indexOf","parseInt","parseObjectIdIndex","getIdNameMappingForInspection","inspectionId","inspectionName","req","GetObjectSelectorItemsRequest","areas","SearchArea","toolsetItems","inspectionID","instanceID","attribute","ObjectAttributes","viewable","wholeArray","ObjectSelectorType","allValueObjects","attributesAllowed","res","tree","entries","queue","slice","head","shift","set","fullLocation","push","getObjectSelectorItemsForInspection","getObjectSelectorImagesForInspection","allImageObjects","archivableImage","getVersion","requestClass","response","version","getPerInspection","inspectionIds","inspectionNames","fn","itemsByInspectionId","item","getConfigurationTree","GetConfigurationTreeRequest","mapInspectionIdtoToolset","inspectionToolsetMappings","configurationTree","isObjectValid","forEach","objectID","toolSetId","getToolSetId","InspectionCmdRequest","undefined","getObjectIdRequest","getObjectIdResponse","objectId","Configuration","config","filterArrayValuesFromTree","ii","stack","pop","firstChildId","idNameMappings","objectSelectorItems","objectSelectorImages","versions","Object","keys","assign","isConnected","Promise","all","promises","configName","err","GetSVObserverVersionRequest","GetGatewayVersionRequest","GetWebAppVersionRequest","svObserverVersion","gatewayVersion","webAppVersion","find","mappings","get","mapping","warn","chunksString","localStorage","getItem","CONFIGURATION_CHUNK_LIST","chunkList","split","configString","join","decompressedConfig","LZString","decompress","JSON","configuration","configInfo","stringifiedConfig","compress","stringify","configChunks","configChunkNames","chunk","chunkName","CONFIGURATION_CHUNK_TEMPLATE","setItem","CONFIG_INFO","HelpView","helpUrl","focusedViewType","locale","isFullscreen","style","width","height","src","defaultProps","connect","state","app","Heading","intlId","React","Views","PARAMETER_VIEW","LIST_VIEW","IMAGE_VIEW","PERMISSIONS","DEBUGGER","ConfigurationLock","lock","lockId","takeoverId","owner","takeoverUser","lockDescription","takeoverMessage","status","lockedInSameAppInstance","isTakeoverAttempt","configAlreadyLocked","isWaitingForResponse","ownerRejectedTakeover","user","username","isLocked","isSameUserAsOwner","notification","description","flattenProtobuf","oldObject","permissions","Set","flattenProtobufRec","currentObject","parentPath","nested","currKey","toLowerCase","currPath","fields","viewTypeProtobuf","lookup","values","viewPath","getViewName","addFieldValues","path","field","add","flattenPermissionsRec","isArray","entry","createObjectFromFlattenedPermissions","obj","v","k","getViewId","substring","view","index","findIndex","getGroupPermissionsFromFlattenedPermissions","flattenedPermissions","result","groupEntry","permissionForUser","groupPermissions","permission","viewType","canSaveConfig","myPermissions","has","canReadLogs","canReadViewSet","canEditViewSet","canDeleteViewSet","canAddImageView","canReadImageView","canEditImageView","canDeleteImageView","canAddListView","canReadListView","canEditListView","canDeleteListView","canAddImageStripView","canReadImageStripView","canEditImageStripView","canDeleteImageStripView","canAddParameterView","canReadParameterView","canEditParameterView","canDeleteParameterView","canAddToolSetView","canReadToolSetView","canEditToolSetView","canDeleteToolSetView","canReadSVOMode","canEditSVOMode","canReadInspectionState","canEditInspectionState","canReadUserManagement","canEditUserManagement","canReadSVOConfiguration","canWriteSVOConfiguration","logIn","password","axios","post","loginRes","accessToken","authenticate","authRes","authToken","claims","jwtDecode","pick","logOut","notifyGateway","removeProxy","OutlinedSelection","labelWidth","renderOptions","labels","counter","setState","InputLabelRef","offsetWidth","selectedValue","classes","disabled","variant","htmlFor","ref","outlined","label","native","onChange","e","onSelectionChanged","target","root","input","select","withStyles","fontSize","paddingTop","paddingBottom","transform","Product","history","trigger","isReject","useCount","images","imageId","checkNotReleasedYet","imageIds","valueId","valueIds","toString","b64Data","contentType","sliceSize","byteCharacters","atob","byteArrays","offset","byteNumbers","charCodeAt","byteArray","Uint8Array","blob","Blob","URL","createObjectURL","imagePromises","image","overlays","rgbData","initImage","valueStr","getValueFromVariant","buildImage","domImage","initOverlayImages","overlayImages","resolve","reject","arrayBufferView","domURL","self","webkitURL","Image","onload","onerror","revokeObjectURL","overlaysDesc","overlay","shapeGroups","shapeGroup","shapes","shape","then","releaseProduct","Error","releaseImages","clear","released","releaseImage","overlayImage","remove","ToggleButton","intl","iconUrl","onClickHandler","intlIdAlternative","iconUrlAlternative","onClickHandlerAlternative","showAlternative","tooltip","messages","Logo","alt","mapProtobufDeviceModeToWebAppMode","deviceMode","DeviceModeType","available","modes","unknownMode","runMode","stopMode","regressionMode","testMode","editMode","modeChanging","mapWebAppModeToProtobufDeviceMode","mode","mapLogLevelNameToProtobufLogSeverity","levelName","LogSeverity","trace","debug","warning","NUMBER_OF_SELECTABLE_VALUES","ObjectSelector","expandedKeys","expandedFilteredKeys","checkedKeys","filteredCheckedKeys","inputValue","filteredLocations","filteredTree","countedVisibleValues","countedPossibleValues","selectionLimitReached","halfChecked","setSelection","selection","setExpandedKeys","onExpand","onCheck","checkProps","limitedCheckedKeys","limitCheckedKeys","checkUnselectingAll","updateCheckedKeys","ensureSingleSelection","setChangedIds","limit","condition","abs","checkedNode","includes","newSelectedKeys","filter","newDeselectedKeys","union","singleSelect","ids","filteredIds","checkedLocation","getSelectedLocation","onChangeFilter","event","initialChars","cutFilterIgnoreWords","ctx","abortRecursion","filteredKeys","countSelection","countCtx","countMatches","copy","filterNodesRecursively","countMatchingNodesRecursively","filteredInput","filterIgnore","chars","shadowChildren","positions","remainingChars","consumeChars","childMatches","child","isMatchingSubtree","shadowNode","createFilteredShadowNode","prevIdx","idx","styledText","highlightAtPositions","word","charAt","shortId","generate","createTreeNodes","loop","disableCheckbox","childProps","prevProps","expanded","rootNode","visibleCheckedKeys","treeNodes","TextField","InputLabelProps","checkable","showLine","showIcon","selectable","Container","PropTypes","drawInspectionOverlays","drawTarget","zoomFactor","boundingCoordinates","currentMode","targetContext","getContext","setLineDash","colorInt","colorString","getRgbaString","fillStyle","lineWidth","font","strokeStyle","boundingShape","OverlayBoundingShape","rect","renderRectangleTool","renderSliceTool","perspective","renderPerspectiveTool","boundingBoxX","minX","x","boundingBoxY","minY","y","boundingBoxWidth","w","boundingBoxHeight","h","displayBounding","overlayTitle","angle","fillText","detailLevel","shapeColor","shapeColorString","shapeType","useRotation","OverlayShape","arrow","rotateContextByAngleAroundPoint","x1","y1","x2","y2","angleBetweenP1andP2","atan2","PI","calcAngleDegrees","beginPath","moveTo","lineTo","theta1","cos","sin","theta2","stroke","closePath","rectArray","rAngle","restore","graph","maxValueX","maxValueY","marker","orientationType","sizeType","strokeHeight","maxValue","strokeWidth","markers","blockMarker","colors","changePos","currentPos","drawImage","save","maxOverlayTextX","measureText","updateBoundingCoordinates","max","translate","rotate","centerX","centerY","innerRadius","outerRadius","startRadian","calculateRadiansFromAngle","endAngle","endRadian","startAngle","arc","textWidth","orientation","isNaN","green","blue","setBoundingCoordinatesForCustomOverlays","product","dispatch","coords","setCustomOverlayCoordinates","getTextWidth","setBoundingCoordinatesForInspectionOverlays","setInspectionOverlayCoordinates","text","coordinates","offsetLeft","Number","getValueById","offsetLeftVariable","xVariable","offsetTop","offsetTopVariable","yVariable","widthVariable","heightVariable","maxHeightFallback","maxWidthFallback","minHeightFallback","minWidthFallback","addVariableValueShouldBeInTheRangeNotification","correctCoordsWithBoundingCoordinates","actualCoordinates","maxX","maxY","valueObj","getValue","extractInspectionOverlays","getImage","FilmStrip","onImageClick","combinedSrc","ImageStripView","onProduct","release","updateImageDimensions","drawImageAndOverlaysToCanvas","canvas","sort","b","productsToRelease","imageStripLength","splice","releaseProducts","sourceImage","imageWidth","imageHeigt","setSourceImageIndex","setSharedStateData","drawTargetContext","clearRect","toDataURL","renderObjectSelector","overflow","selectedIid","setViewData","setSaveFlag","setTitleFromConfig","getValueNameForId","showPause","pausedInspections","renderFilmStrip","actions","TOGGLE_BUTTON","iconPlay","resumeStream","iconPause","pauseStream","display","selectProduct","ActionBar","isViewAction","productSub","unsubscribeFromProductStream","subscribeToProductStream","proxy","setObjectSelectorImages","dispatchCurrentConfiguration","setIdNameMappings","nextProps","isBrowserWindowVisible","products","desc","startAtTriggerCount","rejectImageIds","allowOldTrigger","manualRelease","replayProduct","resumeRejectStream","pauseRejectStream","canEdit","imageData","initState","initSharedState","mappedConnect","ownProps","viewId","sharedState","views","initViewState","hasChanges","updateOverlayList","updatedOverlay","overlayList","OverlayList","selectAll","selectedRowIndex","checkAndUpdateAllSelected","isActive","handleSelectAll","checked","onSelectAll","handleSingleSelect","updatedOverlayList","getTableDataFromOverlays","checkbox","getCheckboxDefinition4Cell","getColumnDefinition4OverlayTable","dataKey","flexGrow","currentId","Checkbox","padding","getSelectedRowClass","currentOverlay","headerRenderer","columns","columnHeaders","column","columnIndex","rowEventHandlers","rowIndex","updateCurrentOverlay","setRowClassName","canSelectRow","hasActionBar","headerHeight","rowHeight","rowClassName","ImageEditor","left","top","currentCursorPosition","canvasDimension","setBoundingCoordinates","getBoundingCoordinatesFromCustomOverlays","getBoundingCoordinatesFromInspectionOverlays","setCanvasDimensions","customOverlays","imageHeight","setImageInfo","isImageInfoOpen","setRgbValues","handleScroll","evt","delta","wheelDelta","detail","offsetX","offsetY","zoom","preventDefault","handleMouseDown","dragStart","pageX","pageY","dragStartPos","dragging","handleMouseUp","handleDrag","diffX","diffY","handleMouseMove","cursorPosition","getMouseCoordinatesOnElement","setCursorPosition","element","containerRef","parentNode","trunc","getImageData","red","R","G","B","cursorPositionOnImage","trimPositionsOnImageSize","loadViewSettings","bindEventListeners","prevState","productChanged","modeChanged","zoomFactorChanged","customOverlaysChanged","isEqual","imageMoved","saveImageSettings","viewSettings","imagePosition","onImageLoaded","initCanvas","draw","webkitImageSmoothingEnabled","msImageSmoothingEnabled","imageSmoothingEnabled","scale","drawOverlays","console","activeOverlays","colorVariable","lineStyle","drawCustomOverlays","addEventListener","removeEventListener","offX","offY","scaleFactor","pow","leftDiff","topDiff","min","getViewSize","getBoundingClientRect","toBlob","position","compose","forwardRef","ImageInfo","imageInfoClass","rgbValues","imageDimensions","backgroundColor","reduce","acc","getPropsFromInspection","ImageView","viewSizeChangeCounter","isOverlayInfoOpen","canvasInitResize","subscribedSource","updateViewSize","newViewSizeChangeCounter","resubscribeToProductStream","getUsedVariablesFromOverlay","variables","setAllOverlaysActive","updatedOverlays","createActiveOverlayList","createActiveOverlayIdList","toggleOverlayInfo","toggleImageInfo","setSourceImageId","selectedId","renderImageView","viewActions","renderImageViewImpl","oldVariables","newVariables","renderImageEditor","renderImageInfo","renderOverlayList","imageEditor","classNames","imageView","iconOne","resetZoom","iconFitToWidth","fitToWidth","iconFitToHeight","fitToHeight","SEPARATOR","iconDownload","downloadOriginalImage","iconDownloadWithOverlays","downloadOriginalImageWithOverlays","iconOverlayList","iconInfo","overlayActions","inRunMode","viewSet","addImageNotAvailableNotification","DraggableContainer","sortableContainer","DraggableElement","sortableElement","DraggableHandle","sortableHandle","Row","draggable","rest","DragIcon","DraggableTable","table","createRef","getContainer","current","getDOMNode","querySelector","getHelperContainer","rowProps","args","extraProps","callOrReturn","tagName","handleSortEnd","oldIndex","newIndex","onSequenceChange","removed","useDragHandle","helperContainer","onSortEnd","PureComponent","injectIntl","selectedAlias","alias","oldState","useRef","useState","setAlias","Dialog","isInView","isPopup","fullWidth","languages","language","defaultValue","renderLanguageAliases","Button","ListView","setAliasColumnVisibility","visibility","updateListViewShowAliases","showAliases","saveNewOrdner","before","after","renderValueSelector","items","getInspectionName","selectedIds","renderList","getListData","tableData","row","editAlias","IconButton","isAliasEditorOpen","EditIcon","renderAliasEditor","listValues","currentValueObject","isSaved","closeAliasEditor","aliases","dottedName","isEmpty","newAlias","delete","isSelectionMode","showAliasesInList","setObjectSelectorItems","bind","createListValues","getValuesAsString","listView","iconList","iconShow","iconShowOff","listViewAliases","show","theme","createMuiTheme","typography","useNextVariants","htmlFontSize","OverlayPropertyList","changedValue","renderTextField","InputProps","renderNumberField","inputProps","valueNumber","trimToMinMax","renderSelection","options","endAdornment","InputAdornment","edge","ClearIcon","onFocus","openSelection","minWidth","maxWidth","minHeight","maxHeight","header","fontWeight","marginBottom","VariableSelection","Overlay","isObjectSelectorOpen","variableName","variableId","selectedVariables","setInitialOverlay","addNewOverlay","newOverlay","floor","random","deleteCurrentOverlay","newCurrentOverlay","getNeighborOverlayId","renderPlaceholder","setVariableSelection","selectedVariable","saveChangeToOverlays","defaultPropTypes","iconPlus","iconDeleteDustbin","array","ActionBarType","object","editingViewId","ParameterView","doSomething","parameter","component","toolSet","ScrollContainer","RecipeView","renderConfiguration","option","configurations","iconBack","iconBefore","iconSave","iconClose","ToolSetBar","tools","tool","isToolAction","SortableItem","arrayOf","string","func","SortableElement","SortableList","SortableContainer","Filter","CurrentFilterListItems","arrayMove","AvailableFilterListItems","AvailableFilterListActions","CurrentFilterListActions","helperClass","iconTakeOver","iconDown","iconUp","ToolSetup","setup","setupParameterView","viewSetFactory","ViewSetFactory","currentViewSet","setParameter","setViewSet","TreebeardStyle","base","whiteSpace","listStyle","margin","fontFamily","cursor","activeLink","background","toggle","verticalAlign","marginLeft","wrapper","fill","connector","borderLeft","borderBottom","lineHeight","subtree","paddingLeft","loading","useStyles","makeStyles","ToolsetView","useSelector","treeModel","setTreeModel","filteredTreeModel","setFilteredTreeModel","setCursor","lastActionsStack","setToolSetId","update","setUpdate","openConfirmDelete","setOpenConfirmDelete","filterText","setFilterText","useEffect","setInspectionIdToToolsetMappings","treeDataRaw","getConfigTreeByInspectionId","isValid","toggled","active","sortToolSet","setNext","treeNode","deleteTool","copyTool","cutTool","pasteTool","addTool","newToolId","toolId","iconCopy","iconCut","iconPaste","iconDelete","iconExpand","iconCollapse","toolActions","iconWindow","ClassIdEnum","WindowToolClassId","MathToolClassId","iconStatistics","StatisticsToolClassId","iconLinear","RingBufferToolClassId","iconArchive","ArchiveToolClassId","AcquisitionToolClassId","iconTransformation","TransformationToolClassId","iconShift","ShiftToolClassId","iconCylindricalWrap","CylindricalWarpToolClassId","iconPerspective","PerspectiveToolClassId","iconImage","ImageToolClassId","LinearToolClassId","iconColor","ColorToolClassId","iconResize","ResizeToolId","iconLoadImage","LoadImageToolClassId","iconTable","TableToolClassId","iconTableAnalyzer","TableAnalyzerToolClassId","iconPolarTransformation","PolarTransformationToolClassId","iconLoop","LoopToolClassId","iconExternal","ExternalToolClassId","iconGroup","GroupToolClassId","confirmed","handleConfirmDeleteClose","toolName","onToggle","from","to","mapViewSetArray","CONFIG_VIEW","TOOLSET_VIEW","IMAGE_STRIP_VIEW","DEFAULT_RECIPE_VIEWSET","DEFAULT_VIEWSET","DEFAULT_VIEWSET_NAME","getViewSet","buildEmptyViewSet","createViewInstance","viewDesc","meta","getViewById","viewComponentClassId","passedProps","titleId","buildRecipeViewSet","initialValue","first","direction","splitPercentage","second","emptyViewId","buildEditViewSet","createNewViewSet","iconSrc","unknownIcon","runIcon","stopIcon","regressionIcon","testIcon","editIcon","action","duration","delay","backgroundImage","backgroundPosition","backgroundSize","useUserInfoNavigation","useDispatch","currentState","unsavedChanges","useIntl","useHistory","inputFile","shortcutViewOpen","setShortcutViewOpen","isHelpViewOpen","setIsHelpViewOpen","isAboutViewOpen","setIsAboutViewOpen","downloadConfig","downloadSVOConfig","fileData","Date","toISOString","icon","helpIcon","content","container","shortcutHelpIcon","aboutIcon","logoutIcon","setImmediate","origin","unshift","file","files","fileReader","FileReader","readAsArrayBuffer","arrayBuffer","ArrayBuffer","uploadSVOConfig","uploadIcon","downloadIcon","permissionsIcon","saveIcon","saveClientChunk","userIcon","fullname","AboutView","getWebAppVersion","getSvObserverVersion","getGatewayVersion","KoerberLogo","ProtobufConnector","disconnect","websocketConnector","WebsocketConnector","onConnect","onMessage","onError","connectWithToken","token","closeSocket","readMessage","socket","connectionLost","setProtobuf","ReconnectingWebSocket","binaryType","onopen","onmessage","onclose","onconnecting","log","close","Proxy","sendLogsToServer","logs","mapLogEntry","StoreClientLogsRequest","client","loadProject","loadProjectRequested","showLoadingSplashScreen","discoverConfiguration","discoverDeviceMode","subscribeToNotificationAndMessageStreams","currentConfiguration","setSVOConfigLoaded","discoverInspectionsWithConfigName","loadClientChunk","resetClientChunk","hideLoadingSplashScreen","showLoadingErrorOverlay","configLoadedFromCache","setUpProductHistories","discoverPartsInBackground","modeName","GetDeviceModeRequest","oldMode","newMode","newModeName","addModeSwitchNotification","setCurrentModeDone","protobufInitialized","observerNotificationSubscription","observerMessageSubscription","lockAcquisitionSubscription","gatewayNotificationSubscription","gatewayMessageSubscription","nextSubId","productHistoryManager","ProductHistoryManager","subscriptionManager","SubscriptionManager","showConnectingSplashScreen","onCurrentModeChanged","onProtobufChangedImpl","hideConnectingSplashScreen","severity","dispatchConfigurationLock","setCurrentConfiguration","saveToCache","setConfigurationLock","showGlobalMessageOverlay","hideGlobalMessageOverlay","lastModified","loadedSince","cachedConfigInfo","getConfigurationInfo","hash","loadFromCache","clearCurrentView","SetDeviceModeRequest","hResult","setTimeout","subscribeToObserverNotificationStream","subscribeToObserverMessageStream","subscribeToGatewayNotificationStream","subscribeToGatewayMessageStream","unsubscribeFromObserverNotificationStream","GetNotificationStreamRequest","stream","subscribe","next","onObserverNotification","onObserverNotificationError","complete","unsubscribe","NotifyType","getVariantValue","timestamp","addProjectModifiedNotification","configLoaded","extractConfigNameFromFileName","addProjectLoadedNotification","configUnloaded","addProjectUnloadedNotification","messageText","errorNumber","unsubscribeFromObserverMessageStream","GetMessageStreamRequest","onObserverMessage","onObserverMessageError","messageList","MessageType","startMsgBox","firstMessage","formatMessageNotification","messageCode","endMsgBox","msgLog","addServerMessageNotification","reqInfo","requestTakeover","waitForTakeoverResponse","LockAcquisitionStreamRequest","onLockAcquisition","onLockAcquisitionError","getMyPermissions","onLockAcquiredNotification","onLockTakeoverNotification","onLockReleasedNotification","onLockAlreadyLockedNotification","onLockTakeoverRejectedNotification","code","addConfigAlreadyLockedBySameUser","addTakeoverCandidateNotFoundNotification","addLockAcquisitionErrorNotification","handleLockAcquiredNotification","handleLockTakeoverNotification","handleLockReleasedNotification","handleLockAlreadyLockedNotification","handleLockTakeoverRejectedNotification","resetAlertDialogFlags","LockTakeoverRequest","resetTakeoverAttempt","addLockTakeoverErrorNotification","LockTakeoverRejectedRequest","unsubscribeFromGatewayNotificationStream","GetGatewayNotificationStreamRequest","onGatewayNotification","onGatewayNotificationError","pausedInspectionIds","onPauseNotification","updateConfigLockStatus","unsubscribeFromGatewayMessageStream","GetGatewayMessageStreamRequest","GatewayMessageSubscription","onGatewayMessage","onGatewayMessageError","cb","_getNextSubId","addSubscription","removeSubscription","init","fetchMissingProductData","missingImageIds","getMissingProductImages","missingValueIds","getMissingProductValues","GetProductDataRequest","includeOverlays","addData","getSubscribedImages","getSubscribedValues","addRejectStreamPausedNotification","updatePausedInspections","setPausedInspections","pauseRejectStreamImpl","pause","SetRejectStreamPauseStateRequest","GetMyPermissionsRequest","defaultPermissions","disablePermissionsWhenConfigLocked","setMyPermissions","getGroupPermissions","isUnlocked","isLockedInDifferentAppInstance","endsWith","GetGroupDetailsRequest","groupDetails","flattenPermissions","setGroupPermissions","groupDetail","users","UpdateGroupPermissionsRequest","ownerId","classId","taskObjectPos","createObjectRequest","createObjectResponse","deleteObjectRequest","GetConfigRequest","PutConfigRequest","ConfigCommandRequest","clipboardRequest","ClipboardActionEnum","Copy","Cut","Paste","webapp","read","viewset","edit","svobserver","inspectionstate","write","notifications","clientlogs","store","machinestate","command","execute","usermanagement","userpermissions","actionList","oneOfType","ShortcutListItem","isRequired","ShortcutList","shortcuts","shortcut","ShortcutView","ProductHistory","productData","releaseImpl","productHistories","productHistory","addProductData","InspectionSubscription","paused","lastTrigger","subsById","selectedTrigger","baseSub","emitProductToAllSubscriptions","subscription","resubscribeToStream","swapLastProduct","uniqueIds","unsubscribeFromStream","subscribeToStream","params","buildReqParams","GetProductStreamRequest","onStreamEvent","onStreamError","getStartAtTriggerCount","includeFailStatusValues","rejectValueIds","rejectsOnly","isRejectsOnly","imageFormat","ImageFormatEnum","bmp","sub","each","rawEvent","gatherImages","gatherValues","rejectImages","overlaysList","rejectOverlays","rejectValues","emitProductToSubscription","hasRequestedData","hasAllRequestedDataForSubscription","isInterestedIn","isInterestedInNewPorduct","hasDataForSubscriptionInList","lastProduct","requestedIds","arr","inspectionIdBySubId","subsByInspectionId","resume","isPaused","dialogActions","isHeight100","dialogClass","dialog","dialogWrapperClass","dialogContentWrapperClass","closeIcon","AUTH_TOKEN_KEY","USER_KEY","loadState","userStr","resetState","removeItem","saveState","ProxyStream","opts","pendingMessages","start","throttleInterval","throttleRequests","currentThrottleTimeout","recs","rec","level","msg","sameMessageCount","FormatStream","out","browserStdout","impl","bunyanFormat","outputMode","proxyStream","formatStream","createLogger","streams","setProxy","prop","Observer","observable","closed","onNext","onComplete","Observable","onSubscribe","_onSubscribe","_next","_error","_complete","observer","tearDownCb","pendingRequests","openStreams","prevSocket","cancelAllPendingRequests","SvPenv","Envelope","decode","errorResponse","streamResponse","streamErrorResponse","streamFinish","streamCancel","onResponse","onErrorResponse","onStreamResponse","onStreamErrorResponse","onStreamFinish","onStreamCancel","txId","transactionId","hdl","unwrapResponse","handled","clearTimeout","timeout","unwrapErrorResponse","onErrorResponseImpl","streamId","ackStreamResponse","nextTxId","wrapMessage","buf","serializeEnvelope","onRequestTimeout","send","nextStreamId","streamRequest","cancelStream","fromObject","ackEnv","sequenceNumber","streamAck","wrapOneOf","envelope","payloadType","getPayloadTypeForOneOfMessage","payload","packToAny","unpackFromAny","unwrapOneOf","errorCode","fieldName","getFieldNameForSVRCMessage","SVRCMessages","$type","typeName","fullName","encoded","encode","finish","type_url","any","buffer","byteOffset","loadProto","SvAuth","initialized","namespace","ProtoJs","load","utf8StringToBuffer","len","protobufjs","util","utf8","bufferToUtf8String","WEBAPP_CHUNK_FILENAME","WEBAPP_IDMAPPING_FILENAME","WEBAPP_CHUNK_VERSION","WEBAPP_CHUNK_PARAMETERS","VERSION","SV_OBSERVER_VERSION","GATEWAY_VERSION","WEBAPP_VERSION","CREATED_VIEW_SETS","CURRENT_VIEW_SETS","INSPECTION_OVERLAYS","INSPECTION_LIST_SELECTION","INSPECTION_EDITING_VIEW_IDS","INSPECTION_LIST_ALIASES","INSPECTION_IMAGE_VIEW_SETTINGS","saveChunk","setSaveOperationInProcess","inspectionOverlays","inspectionIdStr","inspectionListSelection","listSelection","inspectionEditingViewIds","inspectionListAliases","convertAliasesToJson","showInList","inspectionImageViewSettings","imageViewSettings","createdViewSets","json","PutFileRequest","destinationPath","saveInConfig","loadChunk","setClientChunk","setEditingFocus","addIncompatibilityDetectedNotification","setListViewAliases","GetFileRequest","sourcePath","updateConfigWithGuidToIntMapping","loadDataForCurrentViewSet","semver","coerce","configVersion","satisfies","receivedConfigParameters","expectedConfigParameters","currentParameterName","valid","diff","gt","setting","resetChunk","emptyViewset","emptyViewSets","idMappingChunk","idMapping","parseGuidToObjectIdMapping","guidToObjectIdMapping","recursivlyUpdateConfigWithGuidToIntMapping","hasError","patchedIds","guid","lookUpKeyInMapping","lowerCaseKey","isToolsetViewSet","isImageViewSet","isListViewSet","isImageStripViewSet","setLocale","setProtobufStaticInitialized","newProtobuf","configurationLock","addNotification","addConnectionEstablishedNotification","addConnectionLostNotification","addUserSwitchedLanguageNotification","configFile","range","authenticateHelper","logOutHelper","viewSetId","replaceViewInCurrentViewSet","replacementComponentId","switchViewSet","toggleFullscreenMode","componentDescriptor","setFullscreen","increaseViewSizeChangeCounter","setBottomNavHidden","hidden","setTopNavHidden","setDefaultViewSetName","newViewSet","inProcess","isLoaded","removeViewSet","renameViewSet","oldName","newName","changeViewSetAfterLoading","setCurrentLayout","layout","setCurrentMode","setFocusedViewType","purgeViewState","openHelpView","closeHelpView","setBrowserWindowVisibility","visible","de","en","translations","SelectParameter","changeCallback","removeCallback","valuesWithLabels","localeCompare","ArrayParameter","SingleParameterComponent","numberOfEntries","newValue","removeArrayEntry","BoolParameter","BoolArrayParameter","BytesParameter","SingleParameter","fieldType","DecimalParameter","DecimalArrayParameter","EnumArrayParameter","String","EnumParameter","IntegerParameter","IntegerArrayParameter","TextParameter","TextArrayParameter","RequestParameter","parameters","setParameters","nestedParamsMap","setNestedParamsMap","currentRequestName","setCurrentRequestName","sendRequest","dir","getControlForField","currentPath","currentValue","changeValue","getStringArrayControl","getStringControl","getBoolArrayControl","getBoolControl","getIntegerArrayControl","getIntegerControl","getDecimalArrayControl","getDecimalControl","getBytesControl","constructor","getArrayEnumControl","getEnumControl","newPath","getArrayControlsForType","getControlsForType","newParams","cloneDeep","controls","fieldKeys","oneofs","oneOfKey","oneof","fieldkey","partOf","rule","required","_","addArrayEntryForType","RequestedResponseVisualizer","imageUrl","setImageUrl","setFileData","buildUrl","copyResponseToClipboard","navigator","clipboard","writeText","RequestsList","proto","chooseCallback","setFilter","setActive","requests","requestname","placeholder","Debugger","currentRequest","setCurrentRequest","setResponse","filteredProto","Link","ArrowIcon","DebuggerPage","parseQueryParams","search","queryParams","part","decodeURIComponent","HmiLoginPage","authenticated","hideTopNavigation","hideBottomNavigation","catch","authError","statusText","pathname","viewSetTemplate","LogoutPage","loggedOut","onLogOut","onLoggedOut","KeyHandler","handleKeyEvent","ctrlKey","stopPropagation","handleClick","editingViewIds","helpSection","tabIndex","PermissionManagement","loadCurrentPermissions","initiallySelectedPermissions","currentSelectedPermissions","savePermissions","setUserPermissions","onSaveClicked","onResetClicked","allAvailablePermissions","redirect","Permissions","groupName","newPermissions","am","bm","bs","as","colGroup","permissionsPerGroup","tableheader","dataRow","canRead","mapsAreEqual","getColGroup","tablehead","getTableHead","getData","PermissionPage","viewMappings","ModalNotification","InformationDialog","onSave","fileChooser","canDelete","setName","isImportConfirmOpen","setIsImportConfirmOpen","viewsetToDelete","setViewsetToDelete","currentImportedViewSet","setCurrentImportedViewSet","isInformationDialogOpen","setIsInformationDialogOpen","informationDialogTitle","setInformationDialogTitle","informationDialogMessage","setInformationDialogMessage","shouldCloseViewSetManager","setShouldCloseViewSetManager","viewSetToEdit","setViewSetToEdit","fileLoaderVersion","existsName","addViewSet","newViewSetName","nameToTry","getNextFreeName","exportViewSets","dataToSave","getEditingViewIdsPerInspection","createJsonFileFromObject","closeViewSetManager","handleFileData","fileText","equalsViewSetName","setViewSetConfigurationFromFileData","showErrorWhileLoadingFileDialog","handleDeleteConfirmDialogClose","loadViewSetFromFile","loadSuccessfulInformationDialogText","isMajorVersionCompatible","isMinorVersionNewer","loadVersionChangeInformationDialogText","showInformationDialog","showIncompatibleVersionErrorDialog","getViewSetEditingIcon","viewsetName","alert","iconCheck","paddingRight","addIcon","exportIcon","importIcon","getActions","removeIcon","handleImportConfirmDialogClose","readAsText","viewSetType","TopNavigationItem","PresetButton","presetButtonClass","PresetSlider","BottomNav","selectedIndex","viewSetManagerOpen","bottomNavHidden","isSVOConfigLoaded","ViewSetManagerIcon","fullscreenMode","NavigationItem","itemRef","openMenu","setOpenMenu","hasChildren","clsx","Popper","anchorEl","placement","zIndex","ClickAwayListener","onClickAway","Paper","elevation","DateTime","format","ticking","AlertDialog","contentText","disableEscapeKeyDown","DialogTitle","DialogContent","DialogContentText","DialogActions","TakeoverDialog","onAccept","timeLeft","setTimeLeft","interval","setInterval","clearInterval","onReject","formReducer","selectableModes","m","useModeSwitchNavigation","currentModeKey","useMemo","modeId","modeKey","useNavigation","userInfoNavigation","languageChooserNavigation","languageIcon","useLanguageChooserNavigation","lockStateHandlerNavigation","configLock","loggedUser","useReducer","scope","formData","setFormData","openFormDialog","setOpenFormDialog","getLabel","useCallback","isLockedBySameUser","isLockedByOtherUser","handleChange","handleClose","padlockIcon","lockIcon","shrink","autoFocus","subscribeToLockAcquisitionStream","isConfigAlreadyLocked","closeAlertDialogs","isOwnerRejectedTakeover","isWaitingForTakeoverResponse","isTakeoverAttemptFromOtherUser","passConfigLock","retainConfigLock","unsubscribeFromLockAcquisitionStream","useLockStateHandlerNavigation","inspectionStateNavigation","allRunning","iconPlayMultiple","runningInspections","numberOfInspections","useInspectionStateNavigation","statusReportNavigation","logIcon","count","useStatusReportNavigation","modeSwitchNavigation","navigation","TopNavigation","topNavHidden","navClass","nav","fontStyle","NoSVOConfigurationLoadedView","ListSelection","headline","selectionItems","onSelection","cancelButtonProps","showCancel","goBack","InspectionSelection","getSelectionItems","InspectionIcon","BackIcon","ViewTypeSelection","inspectionTypes","ImageViewIcon","ParameterViewIcon","ImageStripViewIcon","ListViewIcon","toolsetIcon","ViewSelection","visibleComponent","selectedInspectionId","selectedViewType","setSelectedInspectionId","changeTitle","updateView","setSelectedViewType","goBackToViewTypeSelection","cancelViewSelection","changeContent","viewToShowWithoutInspection","SVOView","resetView","removeIdsForUnknownInspectionIds","canEditCurrentView","canDeleteCurrentView","getInspectionId","isConfirmOpen","windowName","viewClass","fullscreen","currentInspections","hasInspectionId","toolbarControls","onCloseView","CloseIcon","createNode","formatMessage","ViewSet","increaseChangeCounter","mosaic","viewToClose","setViewToClose","viewSetClass","closeView","handleConfirmDialogClose","renderTile","Consumer","mosaicActions","resize","SVObserver","throttledWindwResizeHandler","throttle","onWebsocketConnect","onWebsocketDisconnect","returnValue","defaultViewSetName","handleBeforeUnload","context","getState","modalNotificationData","setLayout","BottomNavigation","saveConfiguration","contextType","ReactReduxContext","App","exact","render","paperStyle","LoginPage","onSubmit","onLogin","loginFailed","autoComplete","getNewNotifications","notification2Add","newNotifications","date","dateOptions","day","month","year","timeOptions","hour","minute","toLocaleString","addTimestampToNotification","currentNotification","equalsLastNotificationCurrentNotification","setCountForNotification","appReducer","initalAppState","websocketUrl","connection","navigationHidden","saveOperationInProcess","currentClientChunkRevision","createInitialAppState","setMode","revision","initialState","toolsetReducer","findInspectionForView","viewDataReducer","omit","newState","fullscreenComponentDescriptor","enterFullScreenMode","leaveFullScreenMode","findCreatedViewSetWithName","cached","targetViewSet","createdViewSet","updateCurrentViewSet","newCreatedViewSets","p","c","viewSetReducer","createdView","currentViewSetId","updatedViewSet","changeViewSetToName","emptyViewSet","viewsetToEdit","renamedViewSet","currentLayout","loadedViewSet","createReducers","combineReducers","routing","PreLogin","setUser","setAuthToken","setStore","autoSave","createStore","applyMiddleware","thunk","devToolsExtension","f","fromLocalStorage","visibilityState","hibernateTimer","onLoggedIn","muiTheme","palette","primary","main","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5312dba2.chunk.js","sourcesContent":["import logger from './logger';\nexport const forceDownload = (data, fileName) => {\n  if (!data) {\n    logger.info('forceDownload expects data but did not receive');\n    return;\n  }\n  const link = document.createElement('a');\n  link.download = fileName;\n  link.href = data;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n};\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { FormattedMessage } from 'react-intl';\n\nimport Dialog from '../Dialog';\nimport './style.scss';\n\nclass ConfirmDialog extends Component {\n  render() {\n    const { onClose, open, title, message } = this.props;\n\n    return (\n      <div>\n        <Dialog title={title || ''} onClose={() => onClose(false)} open={open}>\n          <div className=\"message-wrapper\">{message}</div>\n          <div className=\"button-wrapper\">\n            <Button color=\"primary\" onClick={() => onClose(true)}>\n              Okay\n            </Button>\n            <Button color=\"primary\" onClick={() => onClose(false)}>\n              <FormattedMessage id=\"cancel\" />\n            </Button>\n          </div>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default ConfirmDialog;\n","import { parse } from 'url';\n\nfunction getDefaultWebsocketUrl() {\n  const { host, protocol } = window.location;\n  const wsProtocol = protocol === 'https:' ? 'wss:' : 'ws:';\n  return `${wsProtocol}//${host}`;\n}\n\nfunction getEndpoint(url) {\n  const parsedUrl = url ? parse(url) : window.location;\n  const protocol = parsedUrl.protocol.replace('ws', 'http');\n  return `${protocol}//${parsedUrl.host}`;\n}\n\nconst env = {\n  authEndpoint: getEndpoint(process.env.REACT_APP_WEBSOCKET_SERVER_URL),\n  websocketServerUrl: process.env.REACT_APP_WEBSOCKET_SERVER_URL || getDefaultWebsocketUrl(),\n  enableAutoSave: false,\n};\n\nexport default env;\n","export function replacerMapToJson(key, value) {\n  const originalObject = this[key];\n  if (originalObject instanceof Map) {\n    return {\n      dataType: 'Map',\n      value: [...originalObject],\n    };\n  } else {\n    return value;\n  }\n}\n\nexport function reviverJsonToMap(key, value) {\n  if (typeof value === 'object' && value !== null) {\n    if (value.dataType === 'Map') {\n      return new Map(value.value);\n    }\n  }\n  return value;\n}\n","export const chunkSubstr = (str, size) => {\n  const numChunks = Math.ceil(str.length / size);\n  const chunks = new Array(numChunks);\n\n  for (let i = 0, o = 0; i < numChunks; ++i, o += size) {\n    chunks[i] = str.substr(o, size);\n  }\n\n  return chunks;\n};\n","import LZString from 'lz-string';\nimport { reviverJsonToMap, replacerMapToJson } from '../utils/jsonMapper';\nimport {\n  CONFIG_INFO,\n  CONFIGURATION_CHUNK_TEMPLATE,\n  CONFIGURATION_CHUNK_LIST,\n} from '../utils/localStorage';\nimport logger from '../utils/logger';\nimport { isObjectValid } from '../utils/objectValidator';\nimport { chunkSubstr } from '../utils/stringChunker';\nimport Protobuf from './Protobuf';\n\nconst extractConfigName = (filename) => {\n  if (!filename) {\n    return '';\n  }\n  const slashIdx = filename.lastIndexOf('\\\\');\n  if (slashIdx !== -1) {\n    filename = filename.substr(slashIdx + 1);\n  }\n  const dotIdx = filename.lastIndexOf('.');\n  if (dotIdx !== -1) {\n    filename = filename.substr(0, dotIdx);\n  }\n  return filename;\n};\n\nconst getConfigName = async (protobuf) => {\n  const request = Protobuf.SvPb.GetConfigurationInfoRequest.create();\n  const { fileName } = await protobuf.request(request);\n  return extractConfigName(fileName);\n};\n\nconst getInspections = async (protobuf) => {\n  try {\n    const inspectionsReq = Protobuf.SvPb.GetInspectionsRequest.create({});\n    const inspectionsRes = await protobuf.request(inspectionsReq);\n    return (inspectionsRes.inspections || []).map((inspection) => ({\n      id: inspection.id,\n      name: inspection.name,\n    }));\n  } catch (e) {\n    // ignore error. will fall back to empty inspection name list.\n    logger.error('Error while fetching inspection name list:', e);\n    return [];\n  }\n};\n\nconst getInspectionIds = (inspections) => {\n  return (inspections || []).map((inspection) => inspection.id);\n};\n\nconst getInspectionNames = (inspections) => {\n  return (inspections || []).map((inspection) => inspection.name);\n};\n\n// objectIDIndex has the format:\n//   {#123}\n// and sometimes also an index at the end:\n//   {#123}[10]\n// or this for empty arrays\n//   {#123}[ ]\n// except of the index at the end, it is a normal id\nconst parseObjectIdIndex = (str) => {\n  if (!str.startsWith('{#')) {\n    return;\n  }\n  const endIdx = str.indexOf('}');\n  if (endIdx < 0) {\n    return;\n  }\n  // TODO parse array index\n  str = str.substr(2, endIdx);\n  return parseInt(str, 10);\n};\n\nconst cleanObjectSelectorNodeRecursively = (node) => {\n  const { name, type, location, objectIDIndex, children, selected } = node;\n  const cleanedChildren = (children || []).map(cleanObjectSelectorNodeRecursively);\n  const id = (objectIDIndex && parseObjectIdIndex(objectIDIndex)) || null;\n  return {\n    id,\n    name,\n    type,\n    location,\n    selected,\n    children: cleanedChildren,\n  };\n};\n\nconst getIdNameMappingForInspection = async (protobuf, inspectionId, inspectionName) => {\n  const req = Protobuf.SvPb.GetObjectSelectorItemsRequest.create({\n    areas: [Protobuf.SvPb.SearchArea.toolsetItems],\n    inspectionID: inspectionId,\n    instanceID: 0, // InvalidObjectId\n    attribute: Protobuf.SvPb.ObjectAttributes.viewable,\n    wholeArray: true,\n    type: Protobuf.SvPb.ObjectSelectorType.allValueObjects,\n    attributesAllowed: 1,\n  });\n  const res = await protobuf.request(req);\n  if (!res.tree) {\n    logger.error('GetObjectSelectorItemsRequest response does not contain a tree');\n    return null;\n  }\n\n  const tree = cleanObjectSelectorNodeRecursively(res.tree);\n\n  const entries = new Map();\n  const queue = (tree && tree.children && tree.children.slice(0)) || [];\n  while (queue.length > 0) {\n    const head = queue.shift();\n    const { id, name, type, location, children } = head;\n    if (id) {\n      entries.set(id, {\n        id,\n        name,\n        type,\n        location,\n        fullLocation: 'Inspections.' + inspectionName + '.' + location,\n      });\n    }\n    if (children && children.length) {\n      for (let i = 0; i < children.length; ++i) {\n        queue.push(children[i]);\n      }\n    }\n  }\n\n  return entries;\n};\n\nconst getObjectSelectorItemsForInspection = async (protobuf, inspectionId) => {\n  const req = Protobuf.SvPb.GetObjectSelectorItemsRequest.create({\n    areas: [Protobuf.SvPb.SearchArea.toolsetItems],\n    inspectionID: inspectionId,\n    instanceID: 0, // InvalidObjectId\n    attribute: Protobuf.SvPb.ObjectAttributes.viewable,\n    wholeArray: true,\n    type: Protobuf.SvPb.ObjectSelectorType.allValueObjects,\n    attributesAllowed: 1,\n  });\n  let res;\n  try {\n    res = await protobuf.request(req);\n  } catch (error) {\n    logger.error(error);\n    return null;\n  }\n\n  if (!res.tree) {\n    logger.error('GetObjectSelectorItemsRequest response does not contain a tree');\n    return null;\n  }\n\n  const tree = cleanObjectSelectorNodeRecursively(res.tree);\n  return { tree };\n};\n\nconst getObjectSelectorImagesForInspection = async (protobuf, inspectionId) => {\n  const req = Protobuf.SvPb.GetObjectSelectorItemsRequest.create({\n    areas: [Protobuf.SvPb.SearchArea.toolsetItems],\n    inspectionID: inspectionId,\n    type: Protobuf.SvPb.ObjectSelectorType.allImageObjects,\n    attribute: Protobuf.SvPb.ObjectAttributes.archivableImage,\n    attributesAllowed: 1,\n  });\n  let res;\n  try {\n    res = await protobuf.request(req);\n  } catch (error) {\n    logger.error(error);\n    return null;\n  }\n\n  if (!res.tree) {\n    logger.error('GetObjectSelectorItemsRequest response does not contain a tree');\n    return null;\n  }\n  const tree = cleanObjectSelectorNodeRecursively(res.tree);\n\n  return { tree };\n};\n\nconst getVersion = async (protobuf, requestClass) => {\n  const request = requestClass.create();\n  const response = await protobuf.request(request);\n  if (!response.version) {\n    logger.error(`Error while reading version via ${requestClass.name}`);\n    return 'Unknown Version';\n  }\n  return response.version;\n};\n\nconst getPerInspection = async (protobuf, inspectionIds, inspectionNames, fn) => {\n  const itemsByInspectionId = new Map();\n  for (let i = 0; i < inspectionIds.length; ++i) {\n    const inspectionId = inspectionIds[i];\n    const inspectionName = inspectionNames[i];\n    const item = await fn(protobuf, inspectionId, inspectionName);\n    if (item) {\n      itemsByInspectionId.set(inspectionId, item);\n    }\n  }\n  return itemsByInspectionId;\n};\n\nconst getConfigurationTree = async (protobuf) => {\n  const request = Protobuf.SvPb.GetConfigurationTreeRequest.create();\n  const response = await protobuf.request(request);\n  if (!response || !response.tree) {\n    logger.error('Cannot get config tree');\n    return false;\n  }\n  return response;\n};\n\nconst mapInspectionIdtoToolset = async (protobuf) => {\n  const inspectionToolsetMappings = new Map();\n\n  const configurationTree = await getConfigurationTree(protobuf);\n  if (!isObjectValid(() => configurationTree.tree.children)) {\n    logger.error('configTree is not valid');\n    return inspectionToolsetMappings;\n  }\n\n  configurationTree.tree.children.forEach(async (inspection) => {\n    const inspectionId = inspection.objectID;\n    if (!inspectionId) {\n      logger.error(`Inspection without valid id: ${inspectionId}`);\n      return;\n    }\n\n    let toolSetId = 0;\n    try {\n      toolSetId = await getToolSetId(protobuf, inspectionId, inspection.name);\n    } catch (e) {\n      logger.error(`Could not load tool set id for ${inspection.name} (${inspectionId})`);\n      return;\n    }\n\n    inspectionToolsetMappings.set(inspectionId, { ...inspection, toolSetId });\n  });\n\n  return inspectionToolsetMappings;\n};\n\nconst getToolSetId = async (protobuf, inspectionId, inspectionName) => {\n  const request = Protobuf.SvPb.InspectionCmdRequest.create({\n    inspectionID: inspectionId || undefined,\n    getObjectIdRequest: {\n      name: `${inspectionName}.Tool Set`,\n    },\n  });\n\n  try {\n    const response = await protobuf.request(request);\n    return response?.getObjectIdResponse?.objectId;\n  } catch (error) {\n    logger.error(error);\n  }\n};\n\nexport default class Configuration {\n  static async loadFromCache() {\n    try {\n      let configString = '';\n      const chunksString = localStorage.getItem(CONFIGURATION_CHUNK_LIST);\n      const chunkList = chunksString.split(',');\n\n      configString = chunkList.map((key) => localStorage.getItem(key)).join();\n      const decompressedConfig = LZString.decompress(configString);\n      const config = JSON.parse(decompressedConfig, reviverJsonToMap);\n\n      return new Configuration({\n        ...config,\n      });\n    } catch (err) {\n      logger.error({ err }, 'Error loading configuration');\n      return null;\n    }\n  }\n\n  static async saveToCache(configuration, configInfo) {\n    const stringifiedConfig = LZString.compress(JSON.stringify(configuration, replacerMapToJson));\n    const configChunks = chunkSubstr(stringifiedConfig, 1000000); // 1m chars = 1MB chunks\n    let configChunkNames = [];\n\n    for (let i = 0; i < configChunks.length; i++) {\n      const chunk = configChunks[i];\n      const chunkName = `${CONFIGURATION_CHUNK_TEMPLATE}${i}`;\n      localStorage.setItem(chunkName, chunk);\n      configChunkNames.push(chunkName);\n    }\n\n    localStorage.setItem(CONFIGURATION_CHUNK_LIST, configChunkNames.join(','));\n    localStorage.setItem(CONFIG_INFO, JSON.stringify(configInfo));\n  }\n\n  static extractConfigNameFromFileName(filename) {\n    return extractConfigName(filename);\n  }\n\n  async discoverInspectionsWithConfigName(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    try {\n      const promises = await Promise.all([getConfigName(protobuf), getInspections(protobuf)]);\n\n      const [configName, inspections] = promises;\n\n      this.name = configName;\n      this.inspections = inspections;\n      this.inspectionIds = getInspectionIds(inspections);\n      this.inspectionNames = getInspectionNames(inspections);\n    } catch (err) {\n      logger.error({ err }, 'Error while discovering configuration');\n      return;\n    }\n  }\n\n  async discoverPartsInBackground(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    try {\n      const promises = await Promise.all([\n        getVersion(protobuf, Protobuf.SvPb.GetSVObserverVersionRequest),\n        getVersion(protobuf, Protobuf.SvPb.GetGatewayVersionRequest),\n        getVersion(protobuf, Protobuf.SvPb.GetWebAppVersionRequest),\n        getPerInspection(\n          protobuf,\n          this.inspectionIds,\n          this.inspectionNames,\n          getIdNameMappingForInspection,\n        ),\n        getPerInspection(\n          protobuf,\n          this.inspectionIds,\n          this.inspectionNames,\n          getObjectSelectorItemsForInspection,\n        ),\n        getPerInspection(\n          protobuf,\n          this.inspectionIds,\n          this.inspectionNames,\n          getObjectSelectorImagesForInspection,\n        ),\n        mapInspectionIdtoToolset(protobuf),\n      ]);\n      const [\n        svObserverVersion,\n        gatewayVersion,\n        webAppVersion,\n        idNameMappings,\n        objectSelectorItems,\n        objectSelectorImages,\n        inspectionToolsetMappings,\n      ] = promises;\n\n      this.versions = { svObserverVersion, gatewayVersion, webAppVersion };\n      this.idNameMappings = idNameMappings;\n      this.objectSelectorItems = objectSelectorItems;\n      this.objectSelectorImages = objectSelectorImages;\n      this.inspectionToolsetMappings = inspectionToolsetMappings;\n    } catch (err) {\n      logger.error({ err }, 'Error while discovering configuration');\n      return;\n    }\n  }\n\n  constructor(config) {\n    this.name = '';\n    this.inspections = [];\n    this.inspectionIds = [];\n    this.inspectionNames = [];\n    this.idNameMappings = new Map();\n    this.objectSelectorItems = new Map();\n    this.objectSelectorImages = new Map();\n    this.versions = {};\n    this.inspectionToolsetMappings = new Map();\n\n    if (Object.keys(config).length !== 0) {\n      // copy all provided fields into this.\n      // this allows treating the configuration instance like a\n      // normal json object, but with additional helper functions.\n      Object.assign(this, config);\n    }\n  }\n\n  getSvObserverVersion() {\n    return this.versions && this.versions.svObserverVersion;\n  }\n\n  getGatewayVersion() {\n    return this.versions && this.versions.gatewayVersion;\n  }\n\n  getWebAppVersion() {\n    return this.versions && this.versions.webAppVersion;\n  }\n\n  getInspections() {\n    return this.inspections;\n  }\n\n  getInspectionName(inspectionId) {\n    const inspection = (this.inspections || []).find((i) => i.id === inspectionId);\n    return inspection && inspection.name;\n  }\n\n  getValueNameForId(inspectionId, id) {\n    if (typeof inspectionId === 'string') {\n      inspectionId = parseInt(inspectionId, 10);\n    }\n    const mappings = this.idNameMappings.get(inspectionId);\n    if (mappings) {\n      if (typeof id === 'string') {\n        id = parseInt(id, 10);\n      }\n      const mapping = mappings.get(id);\n      if (mapping) {\n        return mapping.fullLocation;\n      }\n    }\n    return null;\n  }\n\n  async setIdNameMappings(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    if (\n      this.idNameMappings.size === 0 &&\n      this.inspectionIds.length !== 0 &&\n      this.inspectionNames.length !== 0\n    ) {\n      const mappings = await getPerInspection(\n        protobuf,\n        this.inspectionIds,\n        this.inspectionNames,\n        getIdNameMappingForInspection,\n      );\n      this.idNameMappings = mappings;\n    } else {\n      logger.warn('setIdNameMappings: id name mappings already set');\n    }\n  }\n\n  getObjectSelectorItemsForInspection(inspectionId) {\n    return this.objectSelectorItems.get(inspectionId);\n  }\n\n  async setObjectSelectorItems(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    if (\n      this.objectSelectorItems.size === 0 &&\n      this.inspectionIds.length !== 0 &&\n      this.inspectionNames.length !== 0\n    ) {\n      const objectSelectorItems = await getPerInspection(\n        protobuf,\n        this.inspectionIds,\n        this.inspectionNames,\n        getObjectSelectorItemsForInspection,\n      );\n      this.objectSelectorItems = objectSelectorItems;\n    } else {\n      logger.warn('setObjectSelectorItems: object selector items already set');\n    }\n  }\n\n  getObjectSelectorImagesForInspection(inspectionId) {\n    return this.objectSelectorImages.get(inspectionId);\n  }\n\n  async setObjectSelectorImages(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    if (\n      this.objectSelectorImages.size === 0 &&\n      this.inspectionIds.length !== 0 &&\n      this.inspectionNames.length !== 0\n    ) {\n      const objectSelectorImages = await getPerInspection(\n        protobuf,\n        this.inspectionIds,\n        this.inspectionNames,\n        getObjectSelectorImagesForInspection,\n      );\n      this.objectSelectorImages = objectSelectorImages;\n    } else {\n      logger.warn('setObjectSelectorImages: object selector images already set');\n    }\n  }\n\n  async setInspectionIdToToolsetMappings(protobuf) {\n    if (!protobuf || !protobuf.isConnected()) {\n      logger.error('Protobuf is invalid!');\n      return;\n    }\n\n    if (this.inspectionToolsetMappings.size === 0) {\n      const mappings = await mapInspectionIdtoToolset(protobuf);\n      this.inspectionToolsetMappings = mappings;\n    } else {\n      logger.warn('setInspectionIdToToolsetMappings: mappings already done');\n    }\n  }\n\n  // Currently filters array data from values\n  // TODO: array data should be shown in tree, but id must be changed (all have same id atm)\n  filterArrayValuesFromTree = (tree) => {\n    var stack = [],\n      node,\n      ii;\n    stack.push(tree);\n    while (stack.length > 0) {\n      node = stack.pop();\n      if (!node.id && node.children && node.children.length) {\n        let firstChildId = '';\n        for (ii = 0; ii < node.children.length; ii += 1) {\n          if (firstChildId === node.children[ii].id) {\n            node.children = [];\n            node.id = firstChildId;\n            break;\n          }\n          if (node.children[ii].id) {\n            firstChildId = node.children[ii].id;\n          }\n        }\n        for (ii = 0; ii < node.children.length; ii += 1) {\n          stack.push(node.children[ii]);\n        }\n      }\n    }\n    return tree;\n  };\n\n  getConfigTreeByInspectionId(inspectionId) {\n    if (!inspectionId) {\n      logger.warn('getConfigTreeByInspection did not receive inspection id');\n      return;\n    } else if (this.inspectionToolsetMappings.size === 0) {\n      logger.warn('inspectionToolsetMappings is empty');\n      return;\n    }\n\n    return this.inspectionToolsetMappings.get(inspectionId);\n  }\n}\n","export default __webpack_public_path__ + \"static/media/clear.1114cb53.svg\";","export default __webpack_public_path__ + \"static/media/overlay-list.d218d7a4.svg\";","export default __webpack_public_path__ + \"static/media/close.f005b782.svg\";","export default __webpack_public_path__ + \"static/media/save.a6a0528c.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\n\nimport Dialog from '../../components/Dialog';\nimport map from './viewMappings';\n\nclass HelpView extends Component {\n  render() {\n    const { onClose, open, focusedViewType, locale } = this.props;\n    let helpUrl;\n    switch (locale) {\n      case 'en':\n        helpUrl = `/help/en/SVOWebApp_WebHelp.htm#cshid=${map[focusedViewType]}`;\n        break;\n\n      case 'de':\n        helpUrl = `/help/de/SVOWebApp_WebHelp.htm#cshid=${map[focusedViewType]}`;\n        break;\n\n      default:\n        helpUrl = `/help/en/SVOWebApp_WebHelp.htm#cshid=${map[focusedViewType]}`;\n        break;\n    }\n    return (\n      <Dialog isFullscreen title={<FormattedMessage id=\"helpView\" />} onClose={onClose} open={open}>\n        <iframe\n          className=\"help-frame\"\n          title=\"help\"\n          style={{ width: '100%', height: '97%' }}\n          src={helpUrl}\n        />\n      </Dialog>\n    );\n  }\n}\n\nHelpView.defaultProps = {\n  open: false,\n  locale: 'en',\n};\n\nHelpView.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n  locale: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => ({\n  focusedViewType: state.app.focusedViewType,\n  locale: state.app.locale,\n});\n\nexport default connect(mapStateToProps)(HelpView);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\n\nconst Heading = ({ type, intlId }) =>\n  React.createElement(\n    type,\n    {\n      className: 'heading',\n    },\n    <FormattedMessage id={`${intlId}` || 'none'} />,\n  );\n\nHeading.defaultProps = {\n  intlId: 'none',\n};\n\nHeading.propTypes = {\n  type: PropTypes.string.isRequired,\n  intlId: PropTypes.string,\n};\n\nexport default Heading;\n","import { IMAGE_VIEW, PARAMETER_VIEW, LIST_VIEW } from '../ViewSetFactory';\n\nexport const PERMISSIONS = 'PERMISSIONS';\nexport const DEBUGGER = 'DEBUGGER';\n\nconst Views = {\n  PARAMETER_VIEW,\n  LIST_VIEW,\n  IMAGE_VIEW,\n  PERMISSIONS,\n  DEBUGGER,\n};\n\nexport default Views;\n","export default class ConfigurationLock {\r\n  constructor(lock) {\r\n    this.lockId = undefined;\r\n    this.takeoverId = undefined;\r\n    this.owner = undefined;\r\n    this.takeoverUser = undefined;\r\n    this.host = '';\r\n    this.lockDescription = '';\r\n    this.takeoverMessage = '';\r\n    this.status = 0;\r\n\r\n    // Workaround for checking if config lock is already owned by the same logged user in Proxy.js.\r\n    // In this file (Proxy.js) we don't have an access to redux state.app.user,\r\n    // but we know that it is the same logged user only when LockAcquiredNotification comes\r\n    // from SVOGateway. In result this member is set only in this one place\r\n    // and reset while releasing or passing the lock to other user.\r\n    this.lockedInSameAppInstance = false;\r\n\r\n    // Flags to control alert dialogs\r\n    this.isTakeoverAttempt = false;\r\n    this.configAlreadyLocked = false;\r\n    this.isWaitingForResponse = false;\r\n    this.ownerRejectedTakeover = false;\r\n\r\n    if (Object.keys(lock).length !== 0) {\r\n      Object.assign(this, lock);\r\n    }\r\n  }\r\n\r\n  isLocked() {\r\n    return this.status === 1;\r\n  }\r\n\r\n  isUnlocked() {\r\n    return this.status === 0;\r\n  }\r\n\r\n  isSameUserAsOwner(user) {\r\n    return user.username === this.owner;\r\n  }\r\n\r\n  isLockedBySameUser(user) {\r\n    return this.isLocked() && this.isSameUserAsOwner(user);\r\n  }\r\n\r\n  isLockedByOtherUser(user) {\r\n    return this.isLocked() && !this.isSameUserAsOwner(user);\r\n  }\r\n\r\n  isLockedInDifferentAppInstance() {\r\n    return this.isLocked() && !this.lockedInSameAppInstance;\r\n  }\r\n\r\n  isTakeoverAttemptFromOtherUser() {\r\n    return this.isTakeoverAttempt;\r\n  }\r\n\r\n  isConfigAlreadyLocked() {\r\n    return this.configAlreadyLocked;\r\n  }\r\n\r\n  isWaitingForTakeoverResponse() {\r\n    return this.isWaitingForResponse;\r\n  }\r\n\r\n  isOwnerRejectedTakeover() {\r\n    return this.ownerRejectedTakeover;\r\n  }\r\n\r\n  resetTakeoverAttempt() {\r\n    this.isTakeoverAttempt = false;\r\n  }\r\n\r\n  resetAlertDialogFlags() {\r\n    this.configAlreadyLocked = false;\r\n    this.ownerRejectedTakeover = false;\r\n  }\r\n\r\n  handleLockAcquiredNotification(notification) {\r\n    this.lockId = notification.lockId;\r\n    this.owner = notification.user;\r\n    this.host = notification.host;\r\n    this.lockDescription = notification.description;\r\n    this.status = 1; // Locked\r\n    this.lockedInSameAppInstance = true;\r\n\r\n    this.isWaitingForResponse = false;\r\n  }\r\n\r\n  handleLockTakeoverNotification(notification) {\r\n    this.takeoverId = notification.takeoverId;\r\n    this.takeoverMessage = notification.message;\r\n    this.takeoverUser = notification.user;\r\n\r\n    this.isTakeoverAttempt = true;\r\n  }\r\n\r\n  handleLockReleasedNotification() {\r\n    this.lockId = undefined;\r\n    this.owner = undefined;\r\n    this.host = '0.0.0.0';\r\n    this.lockDescription = '';\r\n    this.status = 0; // Unlocked\r\n  }\r\n\r\n  handleLockAlreadyLockedNotification(notification) {\r\n    this.lockId = notification.lockId;\r\n    this.owner = notification.user;\r\n    this.host = notification.host;\r\n    this.lockDescription = notification.description;\r\n    this.status = 1; // Locked\r\n\r\n    this.configAlreadyLocked = true;\r\n  }\r\n\r\n  handleLockTakeoverRejectedNotification() {\r\n    this.isWaitingForResponse = false;\r\n    this.ownerRejectedTakeover = true;\r\n  }\r\n\r\n  waitForTakeoverResponse() {\r\n    this.isWaitingForResponse = true;\r\n  }\r\n}\r\n","import Protobuf from '../protobuf/Protobuf';\n\nexport const flattenProtobuf = (oldObject) => {\n  const permissions = new Set();\n  flattenProtobufRec(oldObject, permissions, '');\n  return permissions;\n};\n\nconst flattenProtobufRec = (currentObject, permissions, parentPath) => {\n  for (const key in currentObject.nested) {\n    const value = currentObject.nested[key];\n    const currKey = key.toLowerCase();\n    const currPath = parentPath ? `${parentPath}.${currKey}` : currKey;\n    if (!value.nested && value.fields) {\n      if (currPath === 'webapp.view') {\n        const viewTypeProtobuf = Protobuf.SvPb.lookup('ViewType');\n        for (let i = 0; i < Object.keys(viewTypeProtobuf.values).length; i++) {\n          const viewPath = `${currPath}[type=${getViewName(i)}]`;\n          addFieldValues(permissions, viewPath, value.fields);\n        }\n      } else {\n        addFieldValues(permissions, currPath, value.fields);\n      }\n    } else {\n      flattenProtobufRec(value, permissions, currPath);\n    }\n  }\n};\n\nconst addFieldValues = (permissions, path, fields) => {\n  Object.keys(fields).forEach((key) => {\n    const field = fields[key];\n    if (field.type === 'bool') {\n      const name = field.name.toLowerCase();\n      permissions.add(`${path}.${name}`);\n    }\n  });\n};\n\nexport const flattenPermissionsRec = (currentObject, permissions, parentPath) => {\n  for (const key in currentObject) {\n    const value = currentObject[key];\n    if (key.indexOf('$') !== -1) {\n      continue;\n    }\n    const currPath = parentPath ? `${parentPath}.${key}` : key;\n    if (Array.isArray(value)) {\n      if (currPath === 'webapp.view') {\n        for (let i = 0; i < value.length; ++i) {\n          const entry = value[i];\n          const viewPath = `${currPath}[type=${getViewName(entry.type)}]`;\n          flattenPermissionsRec(entry, permissions, viewPath);\n        }\n      }\n    } else if (typeof value === 'object') {\n      flattenPermissionsRec(value, permissions, currPath);\n    } else if (typeof value === 'boolean' && value) {\n      permissions.add(currPath);\n    } else {\n      //boolean = false\n      //another type, p.e. number\n    }\n  }\n};\n\nconst createObjectFromFlattenedPermissions = (a, obj, v) => {\n  var k = a.shift();\n\n  if (a.length > 0) {\n    if (k.startsWith('view[')) {\n      const type = getViewId(k.substring(k.indexOf('[type=') + 6, k.indexOf(']')));\n\n      if (!obj.view) {\n        obj.view = [];\n      }\n      const index = obj.view.findIndex((view) => view.type === type);\n      if (index !== -1) {\n        obj.view[index] = { ...obj.view[index], [a[0]]: true };\n      } else {\n        obj.view.push({ type, [a[0]]: true });\n      }\n    } else {\n      if (Object(obj[k]) !== obj[k]) {\n        obj[k] = {};\n      }\n\n      createObjectFromFlattenedPermissions(a, obj[k], v);\n    }\n  } else {\n    obj[k] = true;\n  }\n};\n\nexport const getGroupPermissionsFromFlattenedPermissions = (flattenedPermissions) => {\n  const result = [];\n  flattenedPermissions.forEach((groupEntry, name) => {\n    const permissionForUser = {};\n    groupEntry.groupPermissions.forEach((permission) => {\n      createObjectFromFlattenedPermissions(\n        permission.split('.'),\n        permissionForUser,\n        permissionForUser[permission],\n      );\n    });\n    result.push({\n      name,\n      permissions: permissionForUser,\n    });\n  });\n\n  return result;\n};\n\nexport const getViewName = (viewType) => {\n  switch (viewType) {\n    case 0:\n      return 'AnyView';\n    case 1:\n      return 'ImageView';\n    case 2:\n      return 'ListView';\n    case 3:\n      return 'ImageStripView';\n    case 4:\n      return 'ParameterView';\n    case 5:\n      return 'ToolSetView';\n    default:\n      return '';\n  }\n};\n\nexport const getViewId = (viewType) => {\n  switch (viewType) {\n    case 'AnyView':\n      return 0;\n    case 'ImageView':\n      return 1;\n    case 'ListView':\n      return 2;\n    case 'ImageStripView':\n      return 3;\n    case 'ParameterView':\n      return 4;\n    case 'ToolSetView':\n      return 5;\n    default:\n      return 0;\n  }\n};\n\nexport const canSaveConfig = (myPermissions) => {\n  return myPermissions ? myPermissions.has('webapp.configuration.save') : false;\n};\n\nexport const canReadLogs = (myPermissions) => {\n  return myPermissions ? myPermissions.has('webapp.logs.read') : false;\n};\n\nexport const canAddViewSet = (myPermissions) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.add') : false;\n};\n\nexport const canReadViewSet = (myPermissions) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.read') : false;\n};\n\nexport const canEditViewSet = (myPermissions) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.edit') : false;\n};\n\nexport const canDeleteViewSet = (myPermissions) => {\n  return myPermissions ? myPermissions.has('webapp.viewset.remove') : false;\n};\n\nexport const canAddImageView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadImageView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditImageView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteImageView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddListView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadListView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditListView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteListView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ListView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddImageStripView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadImageStripView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditImageStripView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteImageStripView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ImageStripView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddParameterView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadParameterView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditParameterView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteParameterView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ParameterView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canAddToolSetView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].add') ||\n        myPermissions.has('webapp.view[type=AnyView].add')\n    : false;\n};\n\nexport const canReadToolSetView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].read') ||\n        myPermissions.has('webapp.view[type=AnyView].read')\n    : false;\n};\n\nexport const canEditToolSetView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].edit') ||\n        myPermissions.has('webapp.view[type=AnyView].edit')\n    : false;\n};\n\nexport const canDeleteToolSetView = (myPermissions) => {\n  return myPermissions\n    ? myPermissions.has('webapp.view[type=ToolSetView].remove') ||\n        myPermissions.has('webapp.view[type=AnyView].remove')\n    : false;\n};\n\nexport const canReadSVOMode = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.mode.read') : false;\n};\n\nexport const canEditSVOMode = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.mode.edit') : false;\n};\n\nexport const canReadInspectionState = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.inspectionstate.read') : false;\n};\n\nexport const canEditInspectionState = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.inspectionstate.edit') : false;\n};\n\nexport const canReadValue = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.value.read') : false;\n};\n\nexport const canEditValue = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.value.edit') : false;\n};\n\nexport const canReadTool = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.read') : false;\n};\n\nexport const canEditTool = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.edit') : false;\n};\n\nexport const canAddTool = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.add') : false;\n};\n\nexport const canDeleteTool = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.tool.remove') : false;\n};\n\nexport const canReadUserManagement = (myPermissions) => {\n  return myPermissions ? myPermissions.has('usermanagement.userpermissions.read') : false;\n};\n\nexport const canEditUserManagement = (myPermissions) => {\n  return myPermissions ? myPermissions.has('usermanagement.userpermissions.edit') : false;\n};\n\nexport const canReadSVOConfiguration = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.configuration.read') : false;\n};\n\nexport const canWriteSVOConfiguration = (myPermissions) => {\n  return myPermissions ? myPermissions.has('svobserver.configuration.write') : false;\n};\n","import axios from 'axios';\nimport jwtDecode from 'jwt-decode';\nimport pick from 'lodash/pick';\nimport env from '../utils/env';\nimport logger from '../utils/logger';\n\nexport const logIn = async (username, password) => {\n  const url = `${env.authEndpoint}/login`;\n  const loginRes = await axios.post(url, { username, password });\n  const { accessToken } = loginRes.data;\n  return await authenticate(accessToken);\n};\n\nexport const authenticate = async (accessToken) => {\n  const url = `${env.authEndpoint}/auth`;\n  const authRes = await axios.post(url, { accessToken });\n  const { authToken } = authRes.data;\n  // TODO verify the token signature\n  const claims = jwtDecode(authToken);\n  const user = pick(claims, ['email', 'fullname', 'username']);\n  return { authToken, user };\n};\n\nexport const logOut =\n  (notifyGateway = true) =>\n  async () => {\n    logger.removeProxy();\n    if (notifyGateway) {\n      const url = `${env.authEndpoint}/logout`;\n      try {\n        await axios.post(url, {});\n      } catch (err) {\n        logger.warn({ err }, 'Error while calling /logout');\n      }\n    }\n  };\n","export default __webpack_public_path__ + \"static/media/pause.ea3fe966.svg\";","export default __webpack_public_path__ + \"static/media/play.f6ca6855.svg\";","import React, { Component } from 'react';\nimport { Select, OutlinedInput, InputLabel, FormControl } from '@material-ui/core';\nimport { withStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\n\nconst styles = () => ({\n  input: {\n    height: 37,\n    fontSize: '1.4rem',\n  },\n  select: {\n    paddingTop: 0,\n    paddingBottom: 0,\n    fontSize: '1.4rem',\n  },\n  label: {\n    transform: 'translate(14px, 11px) scale(1)',\n    fontSize: '1.4rem',\n  },\n});\n\nclass OutlinedSelection extends Component {\n  state = {\n    labelWidth: 0,\n  };\n\n  componentDidMount() {\n    this.setState({\n      labelWidth: this.InputLabelRef.offsetWidth,\n    });\n  }\n\n  renderOptions = (values, id, labels) => {\n    labels = labels || values;\n    return values.map((name, counter) => {\n      return (\n        <option value={name} key={id + counter}>\n          {labels[counter]}\n        </option>\n      );\n    });\n  };\n\n  render() {\n    const { values, labels, selectedValue, name, id, classes, disabled } = this.props;\n\n    return (\n      <FormControl variant=\"outlined\" style={{ width: '100%' }} disabled={disabled}>\n        <InputLabel\n          htmlFor={id}\n          ref={(ref) => {\n            this.InputLabelRef = ref;\n          }}\n          classes={{ outlined: classes.label }}\n        >\n          {name}\n        </InputLabel>\n        <Select\n          native\n          value={selectedValue || ''}\n          onChange={(e) => this.props.onSelectionChanged({ [id]: e.target.value })}\n          classes={{ root: classes.input }}\n          input={\n            <OutlinedInput\n              name={name}\n              labelWidth={this.state.labelWidth}\n              id={id}\n              classes={{ input: classes.select }}\n            />\n          }\n        >\n          {!disabled && this.renderOptions(values, id, labels)}\n        </Select>\n      </FormControl>\n    );\n  }\n}\n\nOutlinedSelection.defaultProps = {\n  values: [],\n  selectedValue: '',\n  name: '',\n  id: '',\n};\n\nOutlinedSelection.propTypes = {\n  values: PropTypes.array.isRequired,\n  selectedValue: PropTypes.string.isRequired,\n  onSelectionChanged: PropTypes.func,\n  name: PropTypes.string,\n  id: PropTypes.string,\n};\n\nexport default withStyles(styles)(OutlinedSelection);\n","export default class Product {\n  constructor({ history, trigger, isReject }) {\n    this.history = history;\n    this.trigger = trigger;\n    this.isReject = isReject;\n    this.useCount = 0;\n    this.images = new Map();\n    this.values = new Map();\n  }\n\n  getImage(imageId) {\n    this.checkNotReleasedYet();\n    return this.images.get(imageId);\n  }\n\n  getImages(imageIds) {\n    this.checkNotReleasedYet();\n    return (imageIds || []).map((imageId) => this.images.get(imageId));\n  }\n\n  getValue(valueId) {\n    this.checkNotReleasedYet();\n    return this.values.get(valueId);\n  }\n\n  getValuesAsString(valueIds) {\n    this.checkNotReleasedYet();\n    return (valueIds || []).map((valueId) => {\n      let value = this.values.has(valueId) && this.values.get(valueId).value;\n\n      if (value === undefined) {\n        value = '<UNAVAILABLE>';\n      }\n      return {\n        id: valueId,\n        value: value.toString(),\n      };\n    });\n  }\n\n  buildUrl(b64Data, contentType = '', sliceSize = 512) {\n    const byteCharacters = atob(b64Data);\n    const byteArrays = [];\n\n    for (let offset = 0; offset < byteCharacters.length; offset += sliceSize) {\n      const slice = byteCharacters.slice(offset, offset + sliceSize);\n\n      const byteNumbers = new Array(slice.length);\n      for (let i = 0; i < slice.length; i++) {\n        byteNumbers[i] = slice.charCodeAt(i);\n      }\n\n      const byteArray = new Uint8Array(byteNumbers);\n      byteArrays.push(byteArray);\n    }\n\n    const blob = new Blob(byteArrays, { type: contentType });\n    return URL.createObjectURL(blob);\n  }\n\n  async addData({ images, values }) {\n    this.checkNotReleasedYet();\n\n    const imagePromises = [];\n    images.forEach(({ id, image, overlays }) => {\n      if (!this.images.has(id) && image && image.rgbData) {\n        imagePromises.push(this.initImage(id, image, overlays));\n      }\n    });\n\n    values.forEach(({ id, value }) => {\n      if (!this.values.has(id) && value) {\n        const valueStr = this.getValueFromVariant(value);\n        this.values.set(id, {\n          id,\n          value: valueStr,\n        });\n      }\n    });\n\n    await Promise.all(imagePromises);\n  }\n\n  async initImage(id, image, overlays) {\n    const { domImage, url } = await this.buildImage(image);\n    const overlayImages = await this.initOverlayImages(overlays);\n    this.images.set(id, {\n      id,\n      image,\n      domImage,\n      overlays,\n      overlayImages,\n      url,\n    });\n  }\n\n  buildImage({ rgbData, type }) {\n    return new Promise((resolve, reject) => {\n      const arrayBufferView = new Uint8Array(rgbData);\n      const blob = new Blob([arrayBufferView], { type: type || 'image/bmp' });\n      const domURL = self.URL || self.webkitURL || self; // eslint-disable-line\n      const url = domURL.createObjectURL(blob);\n      const domImage = new Image();\n      domImage.onload = () => {\n        resolve({ domImage, url });\n      };\n      domImage.onerror = (e) => {\n        domURL.revokeObjectURL(url);\n        reject(e);\n      };\n      domImage.src = url;\n    });\n  }\n\n  initOverlayImages(overlaysDesc) {\n    const promises = [];\n    ((overlaysDesc && overlaysDesc.overlays) || []).forEach((overlay) => {\n      (overlay.shapeGroups || []).forEach((shapeGroup) => {\n        (shapeGroup.shapes || []).forEach((shape) => {\n          if (shape && shape.image && shape.image.image && shape.image.image.rgbData) {\n            promises.push(\n              this.buildImage(shape.image.image).then(({ domImage, url }) => {\n                shape.image.domImage = domImage;\n                shape.image.url = url;\n                return shape.image;\n              }),\n            );\n          }\n        });\n      });\n    });\n    return Promise.all(promises);\n  }\n\n  getValueFromVariant(v) {\n    if (!v) {\n      return undefined;\n    }\n    return v[v.data];\n  }\n\n  lock() {\n    this.useCount++;\n  }\n\n  release() {\n    this.history?.releaseProduct(this.trigger);\n  }\n\n  releaseImpl() {\n    if (this.useCount <= 0) {\n      throw new Error(`Invalid use count ${this.useCount} in Product::release()`);\n    }\n\n    this.useCount--;\n    if (this.useCount > 0) {\n      return false;\n    }\n\n    this.releaseImages();\n\n    this.images.clear();\n    this.values.clear();\n    this.history = null;\n    this.released = true;\n\n    return true;\n  }\n\n  releaseImages() {\n    this.images.forEach((image) => {\n      this.releaseImage(image);\n\n      image.overlayImages.forEach((overlayImage) => {\n        this.releaseImage(overlayImage);\n      });\n    });\n  }\n\n  releaseImage(image) {\n    if (image.domImage) {\n      image.domImage.onload = undefined;\n      image.domImage.onerror = undefined;\n      image.domImage.remove(); // explicitly remove the image from the DOM\n      image.domImage = null;\n    }\n\n    if (image.url) {\n      const domURL = self.URL || self.webkitURL || self; // eslint-disable-line\n      domURL.revokeObjectURL(image.url);\n    }\n  }\n\n  checkNotReleasedYet() {\n    if (this.released) {\n      throw new Error('Can not use Product after releasing it!');\n    }\n  }\n}\n","import React from 'react';\n\nimport logger from '../../../utils/logger';\nimport IconButton from '../IconButton';\n\nimport './style.scss';\n\nexport const ToggleButton = ({\n  id,\n  intl,\n  intlId,\n  iconUrl,\n  onClickHandler,\n  intlIdAlternative,\n  iconUrlAlternative,\n  onClickHandlerAlternative,\n  showAlternative,\n}) => {\n  if (\n    !intl ||\n    !intlId ||\n    !iconUrl ||\n    !onClickHandler ||\n    !intlIdAlternative ||\n    !iconUrlAlternative ||\n    !onClickHandlerAlternative\n  ) {\n    logger.error('ToggleButton component did not receive required parameters');\n  }\n\n  let button = {};\n  if (showAlternative) {\n    button = (\n      <IconButton\n        key={id}\n        tooltip={intl.messages[`${intlIdAlternative}`]}\n        onClick={() => {\n          onClickHandlerAlternative();\n        }}\n        iconUrl={iconUrlAlternative}\n      />\n    );\n  } else {\n    button = (\n      <IconButton\n        key={intlId}\n        tooltip={intl.messages[`${intlId}`]}\n        onClick={() => {\n          onClickHandler();\n        }}\n        iconUrl={iconUrl}\n      />\n    );\n  }\n\n  return button;\n};\n","export default __webpack_public_path__ + \"static/media/help.64b70362.svg\";","export default __webpack_public_path__ + \"static/media/download.c1bdaf13.svg\";","export default __webpack_public_path__ + \"static/media/info.6a606506.svg\";","export default __webpack_public_path__ + \"static/media/show.6ac709c0.svg\";","export default __webpack_public_path__ + \"static/media/plus.72585b6a.svg\";","export default __webpack_public_path__ + \"static/media/delete.85c719f0.svg\";","export default __webpack_public_path__ + \"static/media/image.ab9e385a.svg\";","export default __webpack_public_path__ + \"static/media/logo.a5b69c2a.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nconst Logo = ({ src, title }) => (\n  <div className=\"logo-wrapper\">\n    <img src={src} alt={title} />\n  </div>\n);\n\nLogo.propTypes = {\n  src: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n};\n\nexport default Logo;\n","import modes from '../utils/modes';\nimport Protobuf from './Protobuf';\n\nexport const mapProtobufDeviceModeToWebAppMode = (deviceMode) => {\n  switch (deviceMode) {\n    case Protobuf.SvPb.DeviceModeType.available:\n      return modes.unknownMode.id;\n    case Protobuf.SvPb.DeviceModeType.runMode:\n      return modes.runMode.id;\n    case Protobuf.SvPb.DeviceModeType.stopMode:\n      return modes.stopMode.id;\n    case Protobuf.SvPb.DeviceModeType.regressionMode:\n      return modes.regressionMode.id;\n    case Protobuf.SvPb.DeviceModeType.testMode:\n      return modes.testMode.id;\n    case Protobuf.SvPb.DeviceModeType.editMode:\n      return modes.editMode.id;\n    case Protobuf.SvPb.DeviceModeType.modeChanging:\n      return modes.unknownMode.id;\n    default:\n      throw new Error(`Unsupported device mode ${deviceMode}`);\n  }\n};\n\nexport const mapWebAppModeToProtobufDeviceMode = (mode) => {\n  switch (mode) {\n    case modes.unknownMode.id:\n      return Protobuf.SvPb.DeviceModeType.available;\n    case modes.runMode.id:\n      return Protobuf.SvPb.DeviceModeType.runMode;\n    case modes.stopMode.id:\n      return Protobuf.SvPb.DeviceModeType.stopMode;\n    case modes.regressionMode.id:\n      return Protobuf.SvPb.DeviceModeType.regressionMode;\n    case modes.testMode.id:\n      return Protobuf.SvPb.DeviceModeType.testMode;\n    case modes.editMode.id:\n      return Protobuf.SvPb.DeviceModeType.editMode;\n    default:\n      throw new Error(`Unsupported mode ${mode}`);\n  }\n};\n\nexport const mapLogLevelNameToProtobufLogSeverity = (levelName) => {\n  switch (levelName) {\n    case 'trace':\n      return Protobuf.SvPb.LogSeverity.trace;\n    case 'debug':\n      return Protobuf.SvPb.LogSeverity.debug;\n    case 'info':\n      return Protobuf.SvPb.LogSeverity.info;\n    case 'warn':\n      return Protobuf.SvPb.LogSeverity.warning;\n    case 'error':\n      return Protobuf.SvPb.LogSeverity.error;\n    default:\n      return Protobuf.SvPb.LogSeverity.error;\n  }\n};\n","import React from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport { withStyles } from '@material-ui/core/styles';\nimport union from 'lodash/union';\nimport PropTypes from 'prop-types';\nimport Tree, { TreeNode } from 'rc-tree';\nimport shortId from 'shortid';\n\nimport { isObjectValid } from '../../utils/objectValidator';\n\nimport './styles.scss';\n\nconst styles = () => ({\n  label: {\n    fontSize: '1.4rem',\n    transform: 'translate(10px, 12px) scale(1)',\n  },\n});\n\nconst NUMBER_FILTER_RESULTS = 100;\nconst NUMBER_OF_SELECTABLE_VALUES = 100;\n\nclass ObjectSelector extends React.Component {\n  state = {\n    expandedKeys: [isObjectValid(() => this.props.data.children[0].location)],\n    expandedFilteredKeys: [],\n    checkedKeys: [],\n    filteredCheckedKeys: [],\n    inputValue: '',\n    filteredLocations: [],\n    filteredTree: undefined,\n    countedVisibleValues: 0,\n    countedPossibleValues: 0,\n    selectionLimitReached: false,\n    halfChecked: [],\n  };\n\n  componentDidMount() {\n    this.setSelection();\n    this.setExpandedKeys();\n  }\n\n  componentDidUpdate(prevProps) {\n    const { selection, expandedKeys } = this.props;\n\n    if (selection && prevProps.selection !== selection && selection.length > 0) {\n      this.setSelection();\n    }\n\n    if (expandedKeys && prevProps.expandedKeys !== expandedKeys && expandedKeys.length > 0) {\n      this.setExpandedKeys();\n    }\n  }\n\n  setSelection = () => {\n    const { selection } = this.props;\n\n    this.setState({\n      checkedKeys: selection,\n    });\n  };\n\n  setExpandedKeys = () => {\n    const { expandedKeys } = this.props;\n    if (expandedKeys) {\n      this.setState({\n        expandedKeys: expandedKeys,\n      });\n    }\n  };\n\n  onExpand = (expandedKeys) => {\n    if (this.state.inputValue) {\n      this.setState({\n        expandedFilteredKeys: expandedKeys,\n      });\n    } else {\n      this.props.onExpand(expandedKeys);\n      this.setState({\n        expandedKeys,\n      });\n    }\n  };\n\n  onCheck = (checkedKeys, checkProps) => {\n    let limitedCheckedKeys = this.limitCheckedKeys(checkedKeys, NUMBER_OF_SELECTABLE_VALUES);\n    limitedCheckedKeys = this.checkUnselectingAll(limitedCheckedKeys, checkProps.node);\n\n    const filteredCheckedKeys = limitedCheckedKeys.slice();\n    if (this.state.inputValue) {\n      limitedCheckedKeys = this.updateCheckedKeys(limitedCheckedKeys);\n    }\n\n    limitedCheckedKeys = this.ensureSingleSelection(limitedCheckedKeys);\n\n    this.setChangedIds(limitedCheckedKeys, checkProps);\n    this.setState({\n      checkedKeys: limitedCheckedKeys,\n      filteredCheckedKeys,\n      selectionLimitReached: limitedCheckedKeys.length === NUMBER_OF_SELECTABLE_VALUES,\n    });\n  };\n\n  limitCheckedKeys = (keys, limit) => {\n    const halfChecked = [];\n    if (!limit || limit > keys.length) {\n      limit = keys.length;\n    }\n    const result = [];\n    let condition = Math.abs(limit);\n    let i = 0;\n    while (condition !== 0 && i < keys.length) {\n      if (parseInt(keys[i], 10)) {\n        result.push(keys[i]);\n        condition--;\n      } else {\n        halfChecked.push(keys[i]);\n      }\n\n      i++;\n    }\n\n    this.setState({ halfChecked });\n\n    return result;\n  };\n\n  checkUnselectingAll = (keys, checkedNode) => {\n    const halfChecked = this.state.halfChecked.slice();\n    if (checkedNode.halfChecked) {\n      if (halfChecked.includes(checkedNode.title)) {\n        this.setState({ halfChecked: [] });\n        keys = [];\n      } else {\n        halfChecked.push(checkedNode.title);\n        this.setState({ halfChecked });\n      }\n    }\n    return keys;\n  };\n\n  updateCheckedKeys = (checkedKeys) => {\n    const newSelectedKeys = checkedKeys.filter(\n      (key) => !this.state.filteredCheckedKeys.includes(key),\n    );\n    const newDeselectedKeys = this.state.filteredCheckedKeys.filter(\n      (key) => !checkedKeys.includes(key),\n    );\n    checkedKeys = union(newSelectedKeys, this.state.checkedKeys);\n    checkedKeys = checkedKeys.filter((key) => !newDeselectedKeys.includes(key));\n\n    return checkedKeys;\n  };\n\n  ensureSingleSelection = (checkedKeys) => {\n    if (this.props.singleSelect) {\n      return [checkedKeys[checkedKeys.length - 1]] || [];\n    } else {\n      return checkedKeys;\n    }\n  };\n\n  setChangedIds = (ids, checkProps) => {\n    const filteredIds = (ids || []).filter((id) => parseInt(id, 10) > 0);\n    if (this.props.singleSelect) {\n      const checkedLocation = this.getSelectedLocation(checkProps);\n      this.props.onChange(filteredIds[filteredIds.length - 1] || 0, checkedLocation);\n    } else {\n      this.props.onChange(filteredIds);\n    }\n  };\n\n  onChangeFilter = (event) => {\n    let { data } = this.props;\n    let filteredTree = undefined;\n\n    const inputValue = event.target.value || '';\n    const filteredInputValue = this.cutFilterIgnoreWords(inputValue.toLowerCase()) || '';\n    const initialChars = filteredInputValue.split('');\n    const ctx = {\n      abortRecursion: false,\n      expandedFilteredKeys: [],\n      filteredLocations: [],\n      filteredKeys: [],\n      countSelection: 0,\n    };\n    const countCtx = {\n      countMatches: 0,\n    };\n\n    if (initialChars.length) {\n      const copy = initialChars.slice();\n      const children = [];\n      this.filterNodesRecursively(data, initialChars, children, ctx);\n      this.countMatchingNodesRecursively(data, copy, countCtx);\n      filteredTree = children.length > 0 ? children[0] : { children: [] };\n    }\n\n    const filteredCheckedKeys = this.state.checkedKeys.filter((key) =>\n      ctx.filteredKeys.includes(key),\n    );\n\n    this.setState({\n      filteredLocations: ctx.filteredLocations,\n      filteredTree,\n      filteredCheckedKeys,\n      expandedFilteredKeys: ctx.expandedFilteredKeys,\n      inputValue,\n      countedVisibleValues: ctx.countSelection,\n      countedPossibleValues: countCtx.countMatches,\n    });\n  };\n\n  cutFilterIgnoreWords = (filteredInput) => {\n    const { filterIgnore } = this.props;\n\n    if (filterIgnore) {\n      filterIgnore.forEach((filter) => {\n        filter = filter.toLowerCase();\n        if (filteredInput.startsWith(filter)) {\n          filteredInput = filteredInput.replace(filter, '');\n\n          if (filteredInput.startsWith('.')) {\n            filteredInput = filteredInput.slice(1);\n          }\n        }\n      });\n    }\n\n    return filteredInput;\n  };\n\n  filterNodesRecursively = (node, chars, shadowChildren, ctx) => {\n    if (!node) {\n      return false;\n    }\n    let positions = [];\n    let remainingChars = [];\n    if (chars.length > 0) {\n      remainingChars = this.consumeChars(node.name, chars, positions);\n    }\n\n    if (remainingChars.length === 0) {\n      ctx.filteredLocations.push(node.location);\n      if (node.id && node.children.length === 0) {\n        ctx.filteredKeys.push(node.id);\n      }\n    }\n\n    if (ctx.filteredKeys.length >= NUMBER_FILTER_RESULTS) {\n      ctx.abortRecursion = true;\n    }\n\n    const children = [];\n    let childMatches = false;\n    if (node.children && !ctx.abortRecursion) {\n      node.children.forEach((child) => {\n        if (\n          !ctx.abortRecursion &&\n          this.filterNodesRecursively(child, remainingChars, children, ctx)\n        ) {\n          childMatches = true;\n        }\n      });\n    }\n\n    if (childMatches) {\n      ctx.expandedFilteredKeys.push(node.location);\n    }\n\n    const isMatchingSubtree = remainingChars.length === 0 || childMatches;\n    if (isMatchingSubtree) {\n      if (node.children.length === 0) {\n        ctx.countSelection++;\n      }\n      const shadowNode = this.createFilteredShadowNode(node, positions, children);\n      shadowChildren.push(shadowNode);\n    }\n    return isMatchingSubtree;\n  };\n\n  countMatchingNodesRecursively = (node, chars, countCtx) => {\n    if (!node) {\n      return false;\n    }\n    let positions = [];\n    let remainingChars = [];\n    if (chars.length > 0) {\n      remainingChars = this.consumeChars(node.name, chars, positions);\n    }\n\n    let childMatches = false;\n    if (node.children) {\n      node.children.forEach((child) => {\n        if (this.countMatchingNodesRecursively(child, remainingChars, countCtx)) {\n          childMatches = true;\n        }\n      });\n    }\n\n    const isMatchingSubtree = remainingChars.length === 0 || childMatches;\n    if (isMatchingSubtree && node.children.length === 0) {\n      countCtx.countMatches++;\n    }\n\n    return isMatchingSubtree;\n  };\n\n  consumeChars = (str, chars, positions) => {\n    str = str.toLowerCase();\n    let prevIdx = 0;\n    while (chars.length) {\n      if (chars[0] === '.') {\n        chars = chars.slice(1);\n        break;\n      }\n\n      const idx = str.indexOf(chars[0], prevIdx);\n      if (idx === -1) {\n        break;\n      }\n      positions.push(idx);\n      chars = chars.slice(1);\n      prevIdx = idx + 1;\n    }\n    return chars;\n  };\n\n  createFilteredShadowNode = (node, positions, children) => {\n    const styledText = this.highlightAtPositions(node.name, positions);\n    const shadowNode = {\n      ...node,\n      children,\n      styledText,\n    };\n    return shadowNode;\n  };\n\n  highlightAtPositions = (word, positions) => {\n    let result = [];\n    for (let i = 0; i < word.length; i++) {\n      if (positions.includes(i)) {\n        result.push([\n          <span className=\"filteredText\" key={`strong${shortId.generate()}`}>\n            {word.charAt(i)}\n          </span>,\n        ]);\n      } else {\n        result.push([word.charAt(i)]);\n      }\n    }\n    return [<div key={`div${shortId.generate()}`}>{result}</div>];\n  };\n\n  createTreeNodes = (node, loop) => {\n    if (node.children && node.children.length > 0) {\n      return (\n        <TreeNode\n          // since nodes don't contain a value to subscribe and also don't have a id, we use the location as key\n          // we'll need to filter invalid ids from checkedKeys\n          key={node.location}\n          title={node.styledText || node.name}\n          disableCheckbox={this.props.singleSelect}\n        >\n          {node.children.map(loop)}\n        </TreeNode>\n      );\n    }\n    return <TreeNode key={node.id} title={node.styledText || node.name} location={node.location} />;\n  };\n\n  getSelectedLocation = (childProps) => {\n    if (isObjectValid(() => childProps.node.location)) {\n      return childProps.node.location;\n    }\n    return '';\n  };\n\n  render() {\n    const {\n      checkedKeys,\n      expandedKeys,\n      expandedFilteredKeys,\n      filteredTree,\n      filteredCheckedKeys,\n      inputValue,\n      countedVisibleValues,\n      countedPossibleValues,\n      selectionLimitReached,\n    } = this.state;\n    const loop = (node) => {\n      if (!node) {\n        return;\n      }\n      return this.createTreeNodes(node, loop);\n    };\n\n    const className = inputValue ? 'unfilteredText' : '';\n    const expanded = inputValue ? expandedFilteredKeys : expandedKeys;\n    const rootNode = inputValue ? filteredTree : this.props.data;\n    const visibleCheckedKeys = inputValue ? filteredCheckedKeys : checkedKeys;\n    const treeNodes = rootNode.name ? loop(rootNode) : rootNode.children.map(loop);\n\n    return (\n      <div className=\"object-selector\">\n        <div className=\"topmenu-wrapper\">\n          <div className=\"w100 text\">\n            <div className=\"infotext\">\n              <div className=\"pr2\">Select objects:</div>\n              {selectionLimitReached ? (\n                <div className=\"warning pr2\">\n                  {`(Selection limit of ${NUMBER_OF_SELECTABLE_VALUES} items reached)`}\n                </div>\n              ) : undefined}\n              {inputValue && treeNodes.length > 0 ? (\n                <div className=\"warning\">\n                  {`(${countedVisibleValues} of ${countedPossibleValues} matches are shown)`}\n                </div>\n              ) : undefined}\n            </div>\n          </div>\n          <div className=\"w100\">\n            <TextField\n              label=\"Filter\"\n              type=\"text\"\n              variant=\"outlined\"\n              style={{ width: '100%' }}\n              onChange={this.onChangeFilter}\n              value={this.state.inputValue}\n              InputLabelProps={{ classes: { root: this.props.classes.label } }}\n            />\n          </div>\n        </div>\n        <div>\n          {treeNodes.length > 0 ? (\n            <Tree\n              checkable\n              showLine\n              showIcon={false}\n              selectable={false}\n              onExpand={this.onExpand}\n              expandedKeys={expanded}\n              checkedKeys={visibleCheckedKeys}\n              onCheck={this.onCheck}\n              className={className}\n            >\n              {treeNodes}\n            </Tree>\n          ) : (\n            <div className=\"text\">No filter results</div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nObjectSelector.defaultProps = {\n  singleSelect: false,\n  onChange: () => void 0,\n  onExpand: () => void 0,\n  selection: [],\n};\n\nObjectSelector.propTypes = {\n  singleSelect: PropTypes.bool,\n  onChange: PropTypes.func,\n  onExpand: PropTypes.func,\n  selection: PropTypes.array,\n};\n\nexport default withStyles(styles)(ObjectSelector);\n","import React from 'react';\nimport './style.scss';\n\nconst Container = ({ children }: { children: React.ReactNode }) => (\n  <div className=\"container\">{children}</div>\n);\n\nexport default Container;\n","import PropTypes from 'prop-types';\n\nconst ProxyType = PropTypes.shape({});\n\nexport default ProxyType;\n","import Protobuf from '../protobuf/Protobuf';\nimport { addVariableValueShouldBeInTheRangeNotification } from '../redux/actions/index';\nimport modes from '../utils/modes';\nimport logger from './logger';\n\nconst MID_SHORT_SIZE = 20;\n\nexport const drawInspectionOverlays = ({\n  drawTarget,\n  zoomFactor,\n  overlays,\n  boundingCoordinates,\n  width,\n  height,\n  currentMode,\n}) => {\n  if (!overlays || overlays.length === 0) {\n    logger.error('drawInspectionOverlays expects overlays but did not receive');\n    return;\n  }\n  const targetContext = drawTarget.getContext('2d');\n  zoomFactor = zoomFactor || 1;\n  if (overlays && overlays.length > 0) {\n    targetContext.setLineDash([]);\n    overlays.forEach((overlay) => {\n      const colorInt = (overlay.color && overlay.color.value) || 0;\n      const colorString = getRgbaString(colorInt);\n      targetContext.fillStyle = colorString;\n      const fontSize = 10 / zoomFactor;\n      targetContext.lineWidth = 1 / zoomFactor;\n      targetContext.font = fontSize + 'px Arial';\n      targetContext.strokeStyle = colorString;\n\n      const boundingShape = overlay.boundingShape.shape;\n\n      switch (boundingShape) {\n        case Protobuf.SvPb.OverlayBoundingShape.fields.rect.name:\n          renderRectangleTool(\n            targetContext,\n            zoomFactor,\n            fontSize,\n            colorString,\n            overlay,\n            boundingCoordinates,\n            currentMode,\n          );\n          break;\n        case Protobuf.SvPb.OverlayBoundingShape.fields.slice.name:\n          renderSliceTool(targetContext, overlay, boundingCoordinates);\n          break;\n        case Protobuf.SvPb.OverlayBoundingShape.fields.perspective.name:\n          renderPerspectiveTool(\n            targetContext,\n            zoomFactor,\n            overlay,\n            boundingCoordinates,\n            width,\n            height,\n          );\n          break;\n        default:\n          logger.error('Unknown boundingShape received');\n          return;\n      }\n    });\n  }\n};\n\nconst renderRectangleTool = (\n  targetContext,\n  zoomFactor,\n  fontSize,\n  colorString,\n  overlay,\n  boundingCoordinates,\n  currentMode,\n) => {\n  const boundingBoxX = Math.abs(boundingCoordinates.minX) + overlay.boundingShape.rect.x.value || 0;\n  const boundingBoxY = Math.abs(boundingCoordinates.minY) + overlay.boundingShape.rect.y.value || 0;\n  const boundingBoxWidth = overlay.boundingShape.rect.w.value || 0;\n  const boundingBoxHeight = overlay.boundingShape.rect.h.value || 0;\n  const { displayBounding, shapeGroups, name: overlayTitle } = overlay;\n\n  const angle = overlay.boundingShape.rect.angle && overlay.boundingShape.rect.angle.value;\n\n  targetContext.fillText(overlayTitle, boundingBoxX, boundingBoxY - 10 / zoomFactor);\n\n  shapeGroups &&\n    shapeGroups.forEach((shapeGroup) => {\n      // Do not show detailLevel 2 OverlayShapes in run mode\n      if (shapeGroup.detailLevel === 2 && currentMode === modes.runMode.id) {\n        return;\n      }\n\n      shapeGroup.shapes.forEach((shape) => {\n        const shapeColor = shape.color && shape.color.value;\n        const shapeColorString = getRgbaString(shapeColor);\n        const { shape: shapeType } = shape;\n\n        const useRotation =\n          angle && angle > 0 && shapeType !== Protobuf.SvPb.OverlayShape.fields.arrow.name;\n\n        if (useRotation) {\n          rotateContextByAngleAroundPoint(targetContext, angle, boundingBoxX, boundingBoxY);\n        }\n\n        switch (shapeType) {\n          case Protobuf.SvPb.OverlayShape.fields.arrow.name:\n            {\n              const x1 = Math.abs(boundingCoordinates.minX) + shape.arrow.x1.value || 0;\n              const y1 = Math.abs(boundingCoordinates.minY) + shape.arrow.y1.value || 0;\n              const x2 = Math.abs(boundingCoordinates.minX) + shape.arrow.x2.value || 0;\n              const y2 = Math.abs(boundingCoordinates.minY) + shape.arrow.y2.value || 0;\n\n              const calcAngleDegrees = (x, y) => (Math.atan2(y, x) * 180) / Math.PI;\n\n              const angleBetweenP1andP2 = calcAngleDegrees(x2 - x1, y2 - y1);\n\n              targetContext.beginPath();\n              targetContext.strokeStyle = shapeColorString || colorString;\n\n              // line\n              targetContext.moveTo(x1, y1);\n              targetContext.lineTo(x2, y2);\n\n              // arrow\n              targetContext.moveTo(x2, y2);\n              // arrow length\n              const r = 15;\n              // calculate one side of arrow and convert to deg\n              const theta1 = (Math.PI * (angleBetweenP1andP2 + 135)) / 180.0;\n              targetContext.lineTo(x2 + r * Math.cos(theta1), y2 + r * Math.sin(theta1));\n\n              targetContext.moveTo(x2, y2);\n              // calculate another side of arrow and convert to deg\n              const theta2 = (Math.PI * (angleBetweenP1andP2 - 135)) / 180.0;\n              targetContext.lineTo(x2 + r * Math.cos(theta2), y2 + r * Math.sin(theta2));\n\n              targetContext.stroke();\n              targetContext.closePath();\n            }\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.rectArray.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n            shape.rectArray.rectArray.forEach((rect) => {\n              const rAngle = -rect.angle;\n              if (rAngle && rAngle < 0) {\n                rotateContextByAngleAroundPoint(\n                  targetContext,\n                  rAngle,\n                  boundingBoxX + rect.x,\n                  boundingBoxY + rect.y,\n                );\n              }\n              targetContext.rect(\n                boundingBoxX + rect.x || 0,\n                boundingBoxY + rect.y || 0,\n                rect.w || 0,\n                rect.h || 0,\n              );\n              if (rAngle && rAngle < 0) {\n                targetContext.restore();\n              }\n            });\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.graph.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n\n            if (shape.graph.x.length === shape.graph.y.length && shape.graph.x.length > 0) {\n              targetContext.moveTo(\n                boundingBoxX + (shape.graph.x[0] * boundingBoxWidth) / shape.graph.maxValueX,\n                boundingBoxY + (shape.graph.y[0] * boundingBoxHeight) / shape.graph.maxValueY,\n              );\n              for (let i = 0; i < shape.graph.x.length; i++) {\n                targetContext.lineTo(\n                  boundingBoxX + (shape.graph.x[i] * boundingBoxWidth) / shape.graph.maxValueX,\n                  boundingBoxY +\n                    boundingBoxHeight -\n                    (shape.graph.y[i] * boundingBoxHeight) / shape.graph.maxValueY,\n                ); //x\n              }\n            }\n\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.marker.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n\n            if (shape.marker.orientationType === 1) {\n              if (shape.marker.sizeType === 1) {\n                const strokeHeight = MID_SHORT_SIZE;\n                targetContext.moveTo(\n                  boundingBoxX + shape.marker.value.value,\n                  boundingBoxY + boundingBoxHeight / 2 - strokeHeight / 2,\n                );\n                targetContext.lineTo(\n                  boundingBoxX + shape.marker.value.value,\n                  boundingBoxY + boundingBoxHeight / 2 + strokeHeight / 2,\n                );\n              } else {\n                targetContext.moveTo(\n                  boundingBoxX +\n                    (shape.marker.value.value * boundingBoxWidth) / shape.marker.maxValue +\n                    1,\n                  boundingBoxY,\n                );\n                targetContext.lineTo(\n                  boundingBoxX +\n                    (shape.marker.value.value * boundingBoxWidth) / shape.marker.maxValue +\n                    1,\n                  boundingBoxY + boundingBoxHeight,\n                );\n              }\n            } else {\n              if (shape.marker.sizeType === 1) {\n                const strokeWidth = MID_SHORT_SIZE;\n                targetContext.moveTo(\n                  boundingBoxX + boundingBoxWidth / 2 - strokeWidth / 2,\n                  boundingBoxY + shape.marker.value.value,\n                );\n                targetContext.lineTo(\n                  boundingBoxX + boundingBoxWidth / 2 + strokeWidth / 2,\n                  boundingBoxY + shape.marker.value.value,\n                );\n              } else {\n                targetContext.moveTo(\n                  boundingBoxX,\n                  boundingBoxY +\n                    boundingBoxHeight -\n                    (shape.marker.value.value * boundingBoxHeight) / shape.marker.maxValue +\n                    1,\n                );\n                targetContext.lineTo(\n                  boundingBoxX + boundingBoxWidth,\n                  boundingBoxY +\n                    boundingBoxHeight -\n                    (shape.marker.value.value * boundingBoxHeight) / shape.marker.maxValue +\n                    1,\n                );\n              }\n            }\n\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.markers.name:\n            targetContext.beginPath();\n            targetContext.strokeStyle = shapeColorString || colorString;\n\n            if (shape.markers.orientationType === 1) {\n              if (shape.markers.sizeType === 1) {\n                const strokeWidth = MID_SHORT_SIZE;\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(\n                    boundingBoxX + shape.markers.value[i],\n                    boundingBoxY + boundingBoxHeight / 2 - strokeWidth / 2,\n                  );\n                  targetContext.lineTo(\n                    boundingBoxX + shape.markers.value[i],\n                    boundingBoxY + boundingBoxHeight / 2 + strokeWidth / 2,\n                  );\n                }\n              } else {\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(boundingBoxX + shape.markers.value[i], boundingBoxY);\n                  targetContext.lineTo(\n                    boundingBoxX + shape.markers.value[i],\n                    boundingBoxY + boundingBoxHeight,\n                  );\n                }\n              }\n            } else {\n              if (shape.markers.sizeType === 1) {\n                const strokeHeight = MID_SHORT_SIZE;\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(\n                    boundingBoxX + boundingBoxWidth / 2 - strokeHeight / 2,\n                    boundingBoxY + shape.markers.value[i],\n                  );\n                  targetContext.lineTo(\n                    boundingBoxX + boundingBoxWidth / 2 + strokeHeight / 2,\n                    boundingBoxY + shape.markers.value[i],\n                  );\n                }\n              } else {\n                for (let i = 0; i < shape.markers.value.length; i++) {\n                  targetContext.moveTo(boundingBoxX, boundingBoxY + shape.markers.value[i]);\n                  targetContext.lineTo(\n                    boundingBoxX + boundingBoxWidth,\n                    boundingBoxY + shape.markers.value[i],\n                  );\n                }\n              }\n            }\n\n            targetContext.stroke();\n            targetContext.closePath();\n\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.blockMarker.name:\n            {\n              const colors = shape.blockMarker.colors;\n              const changePos = shape.blockMarker.changePos;\n              let currentPos = 0;\n\n              for (let i = 0; i <= changePos.length; i++) {\n                targetContext.beginPath();\n                targetContext.lineWidth = 10 / zoomFactor;\n                targetContext.strokeStyle = getRgbaString(colors[i % colors.length]);\n                targetContext.moveTo(\n                  boundingBoxX + currentPos,\n                  boundingBoxY + boundingBoxHeight / 2,\n                );\n\n                if (i < changePos.length) {\n                  targetContext.lineTo(\n                    boundingBoxX + changePos[i],\n                    boundingBoxY + boundingBoxHeight / 2,\n                  );\n                } else {\n                  targetContext.lineTo(\n                    boundingBoxX + boundingBoxWidth,\n                    boundingBoxY + boundingBoxHeight / 2,\n                  );\n                }\n\n                currentPos = changePos[i];\n                targetContext.stroke();\n                targetContext.closePath();\n                targetContext.lineWidth = 1 / zoomFactor;\n              }\n            }\n            break;\n\n          case Protobuf.SvPb.OverlayShape.fields.image.name:\n            {\n              const { domImage, x, y, w, h } = shape.image;\n              if (domImage) {\n                // TODO incorporate boundingBoxWidth and boundingBoxHeight\n                targetContext.drawImage(\n                  domImage,\n                  boundingBoxX + ((x && x.value) || 0),\n                  boundingBoxY + ((y && y.value) || 0),\n                  (w && w.value) || 100, // TODO better fallback than 100!\n                  (h && h.value) || 100, // TODO better fallback than 100!\n                );\n              }\n            }\n            break;\n\n          default:\n            logger.warn('Received unknown overlay shape', shapeType);\n            break;\n        }\n        if (useRotation) {\n          targetContext.restore();\n        }\n      });\n    });\n\n  if (displayBounding) {\n    if (angle && angle > 0) {\n      rotateContextByAngleAroundPoint(targetContext, angle, boundingBoxX, boundingBoxY);\n    }\n\n    targetContext.save();\n    targetContext.beginPath();\n    targetContext.strokeStyle = colorString;\n    targetContext.rect(boundingBoxX, boundingBoxY, boundingBoxWidth, boundingBoxHeight);\n    targetContext.stroke();\n    targetContext.closePath();\n\n    if (angle && angle > 0) {\n      targetContext.restore();\n    }\n  }\n\n  targetContext.restore();\n  const maxOverlayTextX = boundingBoxX + targetContext.measureText(overlayTitle).width;\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    boundingBoxX,\n    boundingBoxY - fontSize,\n    Math.max(boundingBoxX + boundingBoxWidth, maxOverlayTextX),\n    boundingBoxY + boundingBoxHeight,\n  );\n};\n\nconst rotateContextByAngleAroundPoint = (targetContext, angle, x, y) => {\n  targetContext.save();\n  targetContext.translate(x, y);\n  targetContext.rotate((angle * Math.PI) / 180);\n  targetContext.translate(-x, -y);\n};\n\nconst renderSliceTool = (targetContext, overlay, boundingCoordinates) => {\n  const { name: overlayTitle } = overlay;\n\n  const centerX = Math.abs(boundingCoordinates.minX) + overlay.boundingShape.slice.centerX.value;\n  const centerY = Math.abs(boundingCoordinates.minY) + overlay.boundingShape.slice.centerY.value;\n  const innerRadius = overlay.boundingShape.slice.innerRadius.value;\n  const outerRadius = overlay.boundingShape.slice.outerRadius.value;\n  const startRadian = calculateRadiansFromAngle(overlay.boundingShape.slice.endAngle.value);\n  const endRadian = calculateRadiansFromAngle(overlay.boundingShape.slice.startAngle.value);\n\n  targetContext.fillText(overlayTitle, centerX - 20, centerY + 20);\n\n  targetContext.beginPath();\n\n  // Maximum a full circle\n  if (endRadian - startRadian <= 2 * Math.PI) {\n    targetContext.arc(centerX, centerY, innerRadius, startRadian, endRadian);\n    targetContext.lineTo(centerX, centerY);\n    targetContext.arc(centerX, centerY, outerRadius, startRadian, endRadian);\n    targetContext.lineTo(centerX, centerY);\n  } else {\n    targetContext.arc(centerX, centerY, innerRadius, startRadian, startRadian + 1.99 * Math.PI);\n    targetContext.arc(\n      centerX,\n      centerY,\n      innerRadius + 1,\n      startRadian + 1.99 * Math.PI,\n      startRadian + 2 * Math.PI,\n    );\n    targetContext.arc(\n      centerX,\n      centerY,\n      innerRadius + 2,\n      startRadian + 2 * Math.PI,\n      startRadian + 2.01 * Math.PI,\n    );\n    targetContext.arc(centerX, centerY, innerRadius + 3, startRadian + 2.01 * Math.PI, endRadian);\n    targetContext.lineTo(centerX, centerY);\n    targetContext.arc(centerX, centerY, outerRadius, startRadian, startRadian + 1.99 * Math.PI);\n    targetContext.arc(\n      centerX,\n      centerY,\n      outerRadius + 1,\n      startRadian + 1.99 * Math.PI,\n      startRadian + 2 * Math.PI,\n    );\n    targetContext.arc(\n      centerX,\n      centerY,\n      outerRadius + 2,\n      startRadian + 2 * Math.PI,\n      startRadian + 2.01 * Math.PI,\n    );\n    targetContext.arc(centerX, centerY, outerRadius + 3, startRadian + 2.01 * Math.PI, endRadian);\n    targetContext.lineTo(centerX, centerY);\n  }\n\n  targetContext.stroke();\n  targetContext.closePath();\n\n  const maxOverlayTextX = centerX - 20 + targetContext.measureText(overlayTitle).width;\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    centerX - outerRadius,\n    centerY - outerRadius,\n    Math.max(centerX + outerRadius, maxOverlayTextX),\n    centerY + outerRadius,\n  );\n};\n\nconst calculateRadiansFromAngle = (angle) => {\n  return ((360 - angle) * Math.PI) / 180;\n};\n\nconst renderPerspectiveTool = (\n  targetContext,\n  zoomFactor,\n  overlay,\n  boundingCoordinates,\n  width,\n  height,\n) => {\n  const { name: overlayTitle } = overlay;\n\n  const textWidth = targetContext.measureText(overlayTitle).width;\n\n  targetContext.fillText(overlayTitle, width / 2 - textWidth / 2, 50);\n\n  const boundingBoxX = Math.abs(boundingCoordinates.minX) || 0;\n  const boundingBoxY = Math.abs(boundingCoordinates.minY) || 0;\n  const boundingBoxWidth = width || 0;\n  const boundingBoxHeight = height || 0;\n  const offset =\n    overlay.boundingShape.perspective.offset && overlay.boundingShape.perspective.offset.value;\n  const orientation = overlay.boundingShape.perspective.orientation;\n\n  // Orientation x\n  if (orientation === 0) {\n    targetContext.moveTo(boundingBoxX, boundingBoxY + boundingBoxHeight / 2);\n    targetContext.lineTo(boundingBoxX + offset, boundingBoxY + 1 / zoomFactor);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth - offset, boundingBoxY + 1 / zoomFactor);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth, boundingBoxY + boundingBoxHeight / 2);\n    targetContext.lineTo(\n      boundingBoxX + boundingBoxWidth - offset,\n      boundingBoxY + boundingBoxHeight - 1 / zoomFactor,\n    );\n    targetContext.lineTo(boundingBoxX + offset, boundingBoxY + boundingBoxHeight - 1 / zoomFactor);\n    targetContext.lineTo(boundingBoxX, boundingBoxY + boundingBoxHeight / 2);\n  }\n\n  // Orientation y\n  if (orientation === 1) {\n    targetContext.moveTo(boundingBoxX + 1 / zoomFactor, boundingBoxY + offset);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth / 2, boundingBoxY);\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth - 1 / zoomFactor, boundingBoxY + offset);\n    targetContext.lineTo(\n      boundingBoxX + boundingBoxWidth - 1 / zoomFactor,\n      boundingBoxY + boundingBoxHeight - offset,\n    );\n    targetContext.lineTo(boundingBoxX + boundingBoxWidth / 2, boundingBoxY + boundingBoxHeight);\n    targetContext.lineTo(boundingBoxX + 1 / zoomFactor, boundingBoxY + boundingBoxHeight - offset);\n    targetContext.lineTo(boundingBoxX + 1 / zoomFactor, boundingBoxY + offset);\n  }\n\n  targetContext.stroke();\n  targetContext.closePath();\n};\n\nconst getRgbaString = (colorInt) => {\n  if (typeof colorInt !== 'number' || isNaN(colorInt)) {\n    logger.debug('Could not parse value into color.');\n    // fall back to pink when no valid rgba color value provided\n    return 'pink';\n  }\n  const red = colorInt & 0xff;\n  const green = (colorInt >> 8) & 0xff;\n  const blue = (colorInt >> 16) & 0xff;\n  const alpha = 1;\n  return `rgba(${red}, ${green}, ${blue}, ${alpha})`;\n};\n\nexport const setBoundingCoordinatesForCustomOverlays = ({\n  overlay,\n  product,\n  fontSize,\n  boundingCoordinates,\n  dispatch,\n}) => {\n  const coords = { x: 0, y: 0, width: 0, height: 0 };\n  setCustomOverlayCoordinates(product, overlay, coords, dispatch);\n  const textWidth = getTextWidth(overlay.label, fontSize);\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    coords.x,\n    coords.y - fontSize * 2,\n    Math.max(coords.x + coords.width, coords.x + textWidth),\n    coords.y + coords.height,\n  );\n};\n\nexport const setBoundingCoordinatesForInspectionOverlays = ({\n  overlay,\n  fontSize,\n  boundingCoordinates,\n}) => {\n  const coords = { x: 0, y: 0, width: 0, height: 0 };\n  setInspectionOverlayCoordinates(overlay, coords);\n  const textWidth = getTextWidth(overlay.name, fontSize);\n  updateBoundingCoordinates(\n    boundingCoordinates,\n    coords.x,\n    coords.y - fontSize * 2,\n    Math.max(coords.x + coords.width, coords.x + textWidth),\n    coords.y + coords.height,\n  );\n};\n\nconst getTextWidth = (text, fontSize) => {\n  const canvas = document.createElement('canvas');\n  const ctx = canvas.getContext('2d');\n  ctx.font = fontSize + 'px Arial';\n  return ctx.measureText(text).width;\n};\n\nconst setCustomOverlayCoordinates = (product, overlay, coordinates, dispatch = () => void 0) => {\n  const offsetLeft =\n    Number(getValueById(product, overlay.offsetLeftVariable)) || overlay.offsetLeft;\n  const x = Number(getValueById(product, overlay.xVariable)) || overlay.x;\n  coordinates.x = x + offsetLeft;\n\n  const offsetTop = Number(getValueById(product, overlay.offsetTopVariable)) || overlay.offsetTop;\n  const y = Number(getValueById(product, overlay.yVariable)) || overlay.y;\n  coordinates.y = y + offsetTop;\n\n  coordinates.width = Number(getValueById(product, overlay.widthVariable)) || overlay.width;\n  coordinates.height = Number(getValueById(product, overlay.heightVariable)) || overlay.height;\n\n  // we need to wait here for the fallback values to initialize\n  if (\n    overlay.maxHeightFallback !== 0 &&\n    overlay.maxWidthFallback !== 0 &&\n    overlay.minHeightFallback !== 0 &&\n    overlay.minWidthFallback !== 0\n  ) {\n    if (coordinates.x < overlay.minWidthFallback) {\n      coordinates.x = overlay.minWidthFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'X',\n          `${overlay.minWidthFallback}  -   ${overlay.maxWidthFallback}`,\n        ),\n      );\n    }\n\n    if (coordinates.x > overlay.maxWidthFallback) {\n      coordinates.x = overlay.maxWidthFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'X',\n          `${overlay.minWidthFallback}  -   ${overlay.maxWidthFallback}`,\n        ),\n      );\n    }\n\n    if (coordinates.y < overlay.minHeightFallback) {\n      coordinates.y = overlay.minHeightFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'Y',\n          `${overlay.minHeightFallback}  -   ${overlay.maxHeightFallback}`,\n        ),\n      );\n    }\n\n    if (coordinates.y > overlay.maxHeightFallback) {\n      coordinates.y = overlay.maxHeightFallback;\n      dispatch(\n        addVariableValueShouldBeInTheRangeNotification(\n          'Y',\n          `${overlay.minHeightFallback}  -   ${overlay.maxHeightFallback}`,\n        ),\n      );\n    }\n  }\n};\n\nconst setInspectionOverlayCoordinates = (overlay, coordinates) => {\n  if (overlay.boundingShape.rect) {\n    coordinates.x = overlay.boundingShape.rect.x.value || 0;\n    coordinates.y = overlay.boundingShape.rect.y.value || 0;\n    coordinates.width = overlay.boundingShape.rect.w.value || 0;\n    coordinates.height = overlay.boundingShape.rect.h.value || 0;\n  }\n};\n\nexport const drawCustomOverlays = ({\n  drawTarget,\n  customOverlays,\n  product,\n  zoomFactor,\n  boundingCoordinates,\n}) => {\n  if (!customOverlays || customOverlays.length === 0) {\n    return;\n  }\n\n  const targetContext = drawTarget.getContext('2d');\n  const activeOverlays = customOverlays.filter((overlay) => overlay.isActive);\n  zoomFactor = zoomFactor || 1;\n  activeOverlays.forEach((overlay) => {\n    targetContext.beginPath();\n\n    const coords = { x: 0, y: 0, width: 0, height: 0 };\n    setCustomOverlayCoordinates(product, overlay, coords);\n    correctCoordsWithBoundingCoordinates(coords, boundingCoordinates);\n\n    const colorVariable = getValueById(product, overlay.colorVariable);\n    let color;\n    if (!colorVariable) {\n      color = overlay.color;\n    } else {\n      color = getRgbaString(colorVariable);\n    }\n\n    targetContext.rect(coords.x, coords.y, coords.width, coords.height);\n\n    targetContext.fillStyle = color;\n    targetContext.lineWidth = 1 / zoomFactor;\n    const fontSize = 10 / zoomFactor;\n    targetContext.font = fontSize + 'px Arial';\n    targetContext.fillText(overlay.label, coords.x, coords.y - fontSize);\n\n    switch (overlay.lineStyle) {\n      case 'dashed':\n        targetContext.setLineDash([5]);\n        break;\n\n      case 'dotted':\n        targetContext.setLineDash([2, 5]);\n        break;\n\n      default:\n        targetContext.setLineDash([]);\n    }\n    targetContext.strokeStyle = color;\n    targetContext.stroke();\n\n    targetContext.closePath();\n  });\n};\n\nconst correctCoordsWithBoundingCoordinates = (actualCoordinates, boundingCoordinates) => {\n  actualCoordinates.x += Math.abs(boundingCoordinates.minX);\n  actualCoordinates.y += Math.abs(boundingCoordinates.minY);\n};\n\nconst updateBoundingCoordinates = (boundingCoordinates, minX, minY, maxX, maxY) => {\n  if (minX < boundingCoordinates.minX) {\n    boundingCoordinates.minX = minX;\n  }\n\n  if (minY < boundingCoordinates.minY) {\n    boundingCoordinates.minY = minY;\n  }\n\n  if (maxX > boundingCoordinates.maxX) {\n    boundingCoordinates.maxX = maxX;\n  }\n\n  if (maxY > boundingCoordinates.maxY) {\n    boundingCoordinates.maxY = maxY;\n  }\n};\n\nconst getValueById = (product, id) => {\n  if (!product || !id) {\n    return;\n  }\n  const valueObj = product.getValue(id);\n  return valueObj && valueObj.value;\n};\n\nexport const extractInspectionOverlays = (product, imageId) => {\n  if (!product || product.released) {\n    return undefined;\n  }\n\n  const image = product.getImage(imageId);\n\n  if (!image) {\n    return undefined;\n  }\n\n  return (\n    (image &&\n      image.overlays &&\n      image.overlays.overlays &&\n      image.overlays.overlays.length > 0 &&\n      image.overlays.overlays) ||\n    []\n  );\n};\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './styles.scss';\n\n// eslint-disable-next-line\nclass FilmStrip extends Component {\n  render() {\n    const { images, onImageClick } = this.props;\n    return (\n      <div className=\"film-strip-container\">\n        {images.map((image) => (\n          <button\n            key={image.product.trigger}\n            className=\"reject-image\"\n            onClick={() => {\n              onImageClick(image.product);\n            }}\n          >\n            <img src={image.combinedSrc} alt=\"\" />\n          </button>\n        ))}\n      </div>\n    );\n  }\n}\n\nFilmStrip.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      image: PropTypes.string,\n    }),\n  ).isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default FilmStrip;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport './styles.scss';\nimport iconPause from '../../assets/icons/pause.svg';\nimport iconPlay from '../../assets/icons/play.svg';\n\nimport ActionBar from '../../components/ActionBar';\nimport ObjectSelector from '../../components/ObjectSelector';\nimport ProxyType from '../../components/Protobuf/ProxyType';\nimport Container from '../../components/layout/Container';\nimport { initViewState, setViewData, setSharedStateData, setSaveFlag } from '../../redux/actions';\nimport { TOGGLE_BUTTON } from '../../types/ActionBarType';\nimport { drawInspectionOverlays, extractInspectionOverlays } from '../../utils/OverlayRenderer';\nimport logger from '../../utils/logger';\nimport {\n  canReadImageStripView,\n  canEditImageStripView,\n  canEditInspectionState,\n} from '../../utils/permissions';\nimport FilmStrip from './components/FilmStrip';\n\nclass ImageStripView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      images: [],\n      data: null,\n    };\n    this.productSub = null;\n    this.imageStripLength = 10;\n  }\n\n  async componentDidMount() {\n    if (this.props.sourceImage) {\n      this.unsubscribeFromProductStream();\n      this.subscribeToProductStream(this.props.sourceImage);\n    }\n\n    const { configuration, proxy } = this.props;\n    if (configuration.objectSelectorImages.size === 0) {\n      configuration.setObjectSelectorImages(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n    if (configuration.idNameMappings.size === 0) {\n      configuration.setIdNameMappings(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.sourceImage && nextProps.sourceImage !== this.props.sourceImage) {\n      this.unsubscribeFromProductStream();\n      this.subscribeToProductStream(nextProps.sourceImage);\n    }\n\n    if (\n      this.props.isBrowserWindowVisible !== undefined &&\n      this.props.isBrowserWindowVisible !== nextProps.isBrowserWindowVisible\n    ) {\n      if (nextProps.isBrowserWindowVisible) {\n        this.subscribeToProductStream(nextProps.sourceImage);\n      } else {\n        this.unsubscribeFromProductStream();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    const { images } = this.state;\n    const products = (images || []).map((e) => e.product);\n    this.releaseProducts(products);\n    // TODO resume stream when paused?\n    this.unsubscribeFromProductStream();\n  }\n\n  subscribeToProductStream(sourceImage) {\n    if (!this.productSub) {\n      const { inspectionId } = this.props;\n      const desc = {\n        inspectionId,\n        startAtTriggerCount: -1 * this.imageStripLength,\n        rejectImageIds: [sourceImage],\n        allowOldTrigger: true,\n        manualRelease: true,\n      };\n      this.productSub = this.props.proxy.subscribeToProductStream(desc, this.onProduct);\n    }\n  }\n\n  unsubscribeFromProductStream() {\n    if (this.productSub) {\n      this.props.proxy.unsubscribeFromProductStream(this.productSub);\n      this.productSub = null;\n    }\n\n    (this.state.images || []).forEach((image) => {\n      image.product?.release();\n    });\n    this.setState({ images: [] });\n  }\n\n  onProduct = ({ product }) => {\n    const entry = this.state.images.find((e) => e.product === product);\n    if (entry) {\n      // we can free this reference. the second reference to the\n      // same product will be released in this.releaseProducts().\n      product.release();\n      return;\n    }\n\n    // TODO: Image dimensions won't change for a subscription\n    // better to update `onSubscribed`\n    this.updateImageDimensions(product);\n\n    const combinedSrc = this.drawImageAndOverlaysToCanvas({\n      drawTarget: this.canvas,\n      product,\n    });\n    const images = [{ combinedSrc, product }, ...this.state.images];\n\n    // sort descending by trigger count. can happen at beginning of stream.\n    images.sort((a, b) => b.product.trigger - a.product.trigger);\n\n    let productsToRelease = [];\n    if (images.length > this.imageStripLength) {\n      productsToRelease = images.splice(this.imageStripLength).map((e) => e.product);\n    }\n\n    this.setState({ images });\n\n    this.releaseProducts(productsToRelease);\n  };\n\n  releaseProducts(products) {\n    (products || []).forEach((product) => product.release());\n  }\n\n  updateImageDimensions = (product) => {\n    if (!product) {\n      logger.error(`updateImageDimensions requires product but did not receive.`);\n      return;\n    }\n\n    if (!product.isReject) {\n      logger.error(`updateImageDimensions requires product that is a reject.`);\n      return;\n    }\n\n    const { sourceImage } = this.props;\n    const { image } = product.getImage(sourceImage);\n\n    if (!image) {\n      logger.error(`Product does not contain an Image.`);\n      return;\n    }\n\n    const { height, width } = image;\n\n    if (\n      !this.state.imageWidth ||\n      !this.state.imageHeigt ||\n      this.state.imageWidth !== width ||\n      this.state.imageHeigt !== height\n    ) {\n      this.setState({ imageHeigt: height, imageWidth: width });\n    }\n  };\n\n  setSourceImageIndex = (id) => {\n    if (!id) {\n      logger.error(`OjectSelector did not return a valid id.`);\n      return;\n    }\n    this.props.setSharedStateData('sourceImage', id);\n  };\n\n  drawImageAndOverlaysToCanvas = ({ drawTarget, product }) => {\n    if (!drawTarget || !product) {\n      logger.error(\n        'drawImageAndOverlaysToCanvas expects drawTarget and product but did not receive.',\n      );\n      return;\n    }\n\n    const imageId = this.props.sourceImage;\n    const image = product.getImage(imageId);\n    if (!image || !image.domImage) {\n      logger.warn(`ImageStrip expected an image onReject but didn't receive`);\n      return;\n    }\n\n    const drawTargetContext = drawTarget.getContext('2d');\n    drawTargetContext.clearRect(0, 0, drawTarget.width, drawTarget.height);\n    drawTargetContext.drawImage(image.domImage, 0, 0);\n\n    const overlays = extractInspectionOverlays(product, imageId);\n    const boundingCoordinates = {\n      minX: 0,\n      minY: 0,\n      maxX: image.width || 0,\n      maxY: image.height || 0,\n    };\n\n    drawInspectionOverlays({\n      drawTarget,\n      overlays,\n      zoomFactor: 1,\n      boundingCoordinates,\n      width: image.width,\n      height: image.height,\n    });\n    return this.canvas.toDataURL('image/bmp');\n  };\n\n  renderObjectSelector = () => {\n    const { configuration, inspectionId } = this.props;\n    if (!configuration || !inspectionId) {\n      return;\n    }\n\n    const images = configuration.getObjectSelectorImagesForInspection(inspectionId);\n\n    return (\n      <div style={{ width: '100%', overflow: 'auto' }}>\n        {images && (\n          <ObjectSelector\n            singleSelect\n            data={images.tree}\n            onChange={(selectedIid, checkedLocation) => {\n              this.setSourceImageIndex(selectedIid);\n              this.props.setViewData('windowName', checkedLocation);\n              this.props.setSaveFlag(true);\n            }}\n          />\n        )}\n      </div>\n    );\n  };\n\n  selectProduct(product) {\n    this.pauseStream();\n    this.props.proxy.replayProduct(this.props.inspectionId, product);\n    // TODO some highlights?\n  }\n\n  resumeStream() {\n    this.props.proxy.resumeRejectStream(this.props.inspectionId);\n    this.props.setSaveFlag(true);\n  }\n\n  pauseStream() {\n    this.props.proxy.pauseRejectStream(this.props.inspectionId);\n    this.props.setSaveFlag(true);\n  }\n\n  setTitleFromConfig = () => {\n    const { sourceImage, inspectionId, configuration } = this.props;\n    if (configuration) {\n      const path = configuration.getValueNameForId(inspectionId, sourceImage);\n      if (path) {\n        this.props.setViewData('windowName', path);\n      }\n    }\n  };\n\n  showPause = () => {\n    const { pausedInspections, inspectionId } = this.props;\n    let showPause = false;\n    if (inspectionId) {\n      if (!pausedInspections.includes(inspectionId)) {\n        showPause = true;\n      }\n    }\n    return showPause;\n  };\n\n  renderFilmStrip = () => {\n    const { inspectionId, myPermissions } = this.props;\n    const { imageWidth, imageHeigt } = this.state;\n    const actions = [];\n\n    if (canEditInspectionState(myPermissions)) {\n      actions.push({\n        type: TOGGLE_BUTTON,\n        id: inspectionId,\n        intlId: 'imageStripView.play',\n        iconUrl: iconPlay,\n        onClickHandler: () => {\n          this.resumeStream();\n        },\n        intlIdAlternative: 'imageStripView.pause',\n        iconUrlAlternative: iconPause,\n        onClickHandlerAlternative: () => {\n          this.pauseStream();\n        },\n        showAlternative: this.showPause(),\n      });\n    }\n    return (\n      <div className=\"reject-view-container\">\n        <Container>\n          <canvas\n            style={{ display: 'none' }}\n            width={imageWidth}\n            height={imageHeigt}\n            className=\"imageCanvas\"\n            ref={(canvas) => {\n              this.canvas = canvas;\n            }}\n          />\n          {this.state.images && this.state.images.length > 0 && (\n            <FilmStrip\n              onImageClick={(product) => this.selectProduct(product)}\n              images={this.state.images}\n            />\n          )}\n          <ActionBar isViewAction actions={actions} />\n        </Container>\n      </div>\n    );\n  };\n\n  render() {\n    const { sourceImage, myPermissions } = this.props;\n\n    this.setTitleFromConfig();\n    const canEdit = canEditImageStripView(myPermissions);\n\n    if (canReadImageStripView(myPermissions) || canEdit) {\n      return (\n        <div className=\"reject-view-container\">\n          {!sourceImage && canEdit ? this.renderObjectSelector() : this.renderFilmStrip()}\n        </div>\n      );\n    }\n\n    return <div></div>;\n  }\n}\n\nImageStripView.defaultProps = {\n  imageData: [],\n  proxy: undefined,\n  configuration: null,\n};\n\nImageStripView.propTypes = {\n  proxy: ProxyType,\n  configuration: PropTypes.object,\n  sourceImage: PropTypes.number,\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id: viewId } = ownProps;\n  try {\n    return {\n      proxy: state.app.proxy,\n      configuration: state.app.configuration,\n      sourceImage: Number(state.inspections[inspectionId].sharedState.views[viewId].sourceImage),\n      pausedInspections: state.app.pausedInspections,\n      myPermissions: state.app.myPermissions,\n      isBrowserWindowVisible: state.app.isBrowserWindowVisible,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nconst initState = {};\n\nconst initSharedState = {\n  sourceImage: 0,\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { inspectionId, id: viewId } = ownProps;\n  dispatch(initViewState(inspectionId, viewId, initState, initSharedState));\n  return {\n    setViewData: (key, data) => dispatch(setViewData(inspectionId, viewId, key, data)),\n    setSharedStateData: (key, data) =>\n      dispatch(setSharedStateData(inspectionId, key, data, viewId)),\n    setSaveFlag: (hasChanges) => dispatch(setSaveFlag(hasChanges)),\n  };\n};\n\nconst mappedConnect = connect(mapStateToProps, mapDispatchToProps);\n\nexport default mappedConnect(ImageStripView);\n","export default __webpack_public_path__ + \"static/media/downloadWithOverlays.0ec8c060.svg\";","export default __webpack_public_path__ + \"static/media/fit-to-height.be413aab.svg\";","export default __webpack_public_path__ + \"static/media/fit-to-width.ea508053.svg\";","export default __webpack_public_path__ + \"static/media/one.0123db23.svg\";","export const updateOverlayList = (updatedOverlay, overlayList) =>\n  overlayList.map((overlay) => (overlay.id === updatedOverlay.id ? updatedOverlay : overlay));\n","import React, { Component } from 'react';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport PropTypes from 'prop-types';\nimport Table, { AutoResizer } from 'react-base-table';\n\nimport { updateOverlayList } from '../../utils/reduxHelper';\n\nimport 'react-base-table/styles.css';\nimport './style.scss';\n\nclass OverlayList extends Component {\n  state = {\n    selectAll: false,\n    selectedRowIndex: -1,\n  };\n\n  componentDidMount() {\n    this.checkAndUpdateAllSelected(this.props.overlays);\n\n    if (this.props.canSelectRow) {\n      this.setState({ selectedRowIndex: 0 });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps !== this.props) {\n      this.checkAndUpdateAllSelected(this.props.overlays);\n    }\n  }\n\n  shouldComponentUpdate() {\n    return true;\n  }\n\n  checkAndUpdateAllSelected = () => {\n    const { overlays } = this.props;\n    let selectAll = true;\n    (overlays || []).forEach((overlay) => {\n      if (!overlay.isActive) {\n        selectAll = false;\n      }\n    });\n\n    this.setState({ selectAll });\n  };\n\n  handleSelectAll = (checked) => {\n    this.setState({ selectAll: checked });\n    this.props.onSelectAll(checked);\n  };\n\n  handleSingleSelect = (checked, overlay) => {\n    const { overlays } = this.props;\n    const updatedOverlay = { ...overlay, isActive: checked };\n    const updatedOverlayList = updateOverlayList(updatedOverlay, overlays);\n\n    this.checkAndUpdateAllSelected(updatedOverlayList);\n    this.props.updateOverlayList(updatedOverlayList);\n  };\n\n  getTableDataFromOverlays = () => {\n    const { overlays } = this.props;\n    const data =\n      overlays &&\n      overlays.map((overlay) => {\n        return {\n          checkbox: this.getCheckboxDefinition4Cell(overlay.id),\n          name: overlay.label,\n          id: overlay.id,\n        };\n      });\n    return data;\n  };\n\n  getColumnDefinition4OverlayTable = () => {\n    return [\n      {\n        key: 'checkbox',\n        dataKey: 'checkbox',\n        title: '',\n        width: 40,\n      },\n      {\n        key: 'name',\n        dataKey: 'name',\n        title: 'Overlays',\n        width: 0,\n        flexGrow: 1,\n      },\n    ];\n  };\n\n  getCheckboxDefinition4Cell = (currentId) => {\n    const { overlays } = this.props;\n    const overlay = overlays.filter((item) => item.id === currentId)[0];\n    const isActive = overlay ? overlay.isActive : false;\n    return (\n      <Checkbox\n        checked={isActive}\n        onChange={(e) => this.handleSingleSelect(e.target.checked, overlay)}\n        style={{\n          padding: 0,\n        }}\n        color=\"primary\"\n        key={`checkbox_${currentId}`}\n      />\n    );\n  };\n\n  getSelectedRowClass = (currentId) => {\n    if (this.props.currentOverlay && this.props.currentOverlay.id === currentId) {\n      return 'overlay-table-selected-row';\n    }\n\n    return '';\n  };\n\n  headerRenderer = ({ columns }) => {\n    const columnHeaders = [];\n    columns.forEach((column, columnIndex) => {\n      if (columnIndex === 0) {\n        columnHeaders.push(\n          <div\n            className=\"base-table-header-column\"\n            style={{ width: columns[columnIndex].width }}\n            key={`header_${columnIndex}`}\n          >\n            <Checkbox\n              checked={this.state.selectAll}\n              onChange={(e) => this.handleSelectAll(e.target.checked)}\n              style={{\n                padding: 0,\n              }}\n              color=\"primary\"\n              key=\"select-all-checkbox\"\n            />\n          </div>,\n        );\n      } else {\n        columnHeaders.push(\n          <div\n            className=\"base-table-header-column\"\n            key={`header_${columnIndex}`}\n            style={{ padding: ' 0 7.5px' }}\n          >\n            {columns[columnIndex].title}\n          </div>,\n        );\n      }\n    });\n\n    return columnHeaders;\n  };\n\n  rowEventHandlers = {\n    onClick: ({ rowIndex }) => {\n      const { overlays, updateCurrentOverlay } = this.props;\n      this.setState({ selectedRowIndex: rowIndex });\n      updateCurrentOverlay(overlays.filter((item) => item.id === overlays[rowIndex].id)[0]);\n    },\n  };\n\n  setRowClassName = ({ rowIndex }) => {\n    return this.state.selectedRowIndex === rowIndex ? 'overlay-table-selected-row' : '';\n  };\n\n  render() {\n    const { overlays, canSelectRow, hasActionBar } = this.props;\n\n    if (!overlays) return null;\n    const data = this.getTableDataFromOverlays();\n    const columns = this.getColumnDefinition4OverlayTable();\n\n    return (\n      <AutoResizer key={`autoresizer`}>\n        {({ width, height }) => (\n          <Table\n            headerRenderer={this.headerRenderer}\n            columns={columns}\n            data={data}\n            width={width}\n            height={hasActionBar ? height - 30 : height}\n            headerHeight={30}\n            rowHeight={30}\n            key=\"overlay-table\"\n            rowEventHandlers={canSelectRow ? this.rowEventHandlers : {}}\n            rowClassName={this.setRowClassName}\n          />\n        )}\n      </AutoResizer>\n    );\n  }\n}\n\nOverlayList.defaultProps = {\n  overlays: [],\n  hasActionBar: true,\n};\n\nOverlayList.propTypes = {\n  overlays: PropTypes.array,\n  onSelectAll: PropTypes.func.isRequired,\n  hasActionBar: PropTypes.bool,\n};\n\nexport default OverlayList;\n","import React, { Component } from 'react';\nimport isEqual from 'lodash/isEqual';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\n\nimport { setViewData, saveImageSettings } from '../../../redux/actions';\nimport {\n  drawCustomOverlays,\n  drawInspectionOverlays,\n  setBoundingCoordinatesForCustomOverlays,\n  setBoundingCoordinatesForInspectionOverlays,\n  extractInspectionOverlays,\n} from '../../../utils/OverlayRenderer';\nimport { forceDownload } from '../../../utils/downloader';\nimport logger from '../../../utils/logger';\nimport { isObjectValid } from '../../../utils/objectValidator';\nimport { canEditImageView } from '../../../utils/permissions';\n\nclass ImageEditor extends Component {\n  state = {\n    image: new Image(),\n    left: 0,\n    top: 0,\n    zoomFactor: 1,\n    currentCursorPosition: { x: 0, y: 0 },\n    canvasDimension: { width: 0, height: 0 },\n  };\n\n  componentDidMount() {\n    this.loadViewSettings();\n    this.props.product.lock();\n    this.initImage(this.props);\n    this.bindEventListeners();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { zoomFactor, left, top } = this.state;\n\n    this.bindEventListeners();\n\n    const productChanged = prevProps.product !== this.props.product;\n    const modeChanged = prevProps.currentMode !== this.props.currentMode;\n    const zoomFactorChanged = prevState.zoomFactor !== zoomFactor;\n    const customOverlaysChanged = !isEqual(this.props.customOverlays, prevProps.customOverlays);\n    const imageMoved = prevState.left !== left || prevState.top !== top;\n\n    if (productChanged) {\n      prevProps.product.release();\n      this.props.product.lock();\n    }\n\n    if (productChanged || modeChanged || zoomFactorChanged || customOverlaysChanged) {\n      this.initImage(this.props);\n    }\n\n    if (zoomFactorChanged || imageMoved) {\n      this.props.saveImageSettings(zoomFactor, { left, top });\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.product.release();\n  }\n\n  loadViewSettings() {\n    const { zoomFactor, imagePosition } = this.props.viewSettings;\n    if (zoomFactor) {\n      this.setState({ zoomFactor });\n    }\n\n    if (imagePosition && imagePosition.left) {\n      this.setState({ left: imagePosition.left });\n    }\n\n    if (imagePosition && imagePosition.top) {\n      this.setState({ top: imagePosition.top });\n    }\n  }\n\n  initImage(props) {\n    if (props && props.product && props.imageId) {\n      const image = props.product.getImage(props.imageId);\n      if (image && image.domImage) {\n        this.onImageLoaded(image.domImage);\n      }\n    }\n  }\n\n  onImageLoaded(image) {\n    const { zoomFactor, canvasDimension } = this.state;\n    const { height, width } = canvasDimension;\n    this.setState({ image });\n    this.initCanvas({ canvas: this.canvas, height, width, zoomFactor });\n    this.props.setViewData('imageDimensions', { width: image.width, height: image.height });\n    this.draw(this.canvas, image, zoomFactor);\n    this.setImageInfo();\n  }\n\n  initCanvas({ canvas, height, width, zoomFactor }) {\n    canvas.width = Math.ceil(width * zoomFactor);\n    canvas.height = Math.ceil(height * zoomFactor);\n\n    this.props.setViewData('imageDimensions', { width, height });\n  }\n\n  draw(canvas, image, zoomFactor) {\n    if (!canvas || !image) {\n      console.error('Can not draw because we do not have a canvas');\n      return;\n    }\n\n    const boundingCoordinates = this.setBoundingCoordinates(image, zoomFactor);\n\n    this.setCanvasDimensions(canvas, boundingCoordinates, zoomFactor);\n\n    const ctx = canvas.getContext('2d');\n    ctx.webkitImageSmoothingEnabled = false;\n    ctx.msImageSmoothingEnabled = false;\n    ctx.imageSmoothingEnabled = false;\n    ctx.save();\n    ctx.clearRect(\n      0,\n      0,\n      Math.abs(boundingCoordinates.minX) + boundingCoordinates.maxX,\n      Math.abs(boundingCoordinates.minY) + boundingCoordinates.maxY,\n    );\n    ctx.scale(zoomFactor, zoomFactor);\n    ctx.drawImage(image, Math.abs(boundingCoordinates.minX), Math.abs(boundingCoordinates.minY));\n    this.drawOverlays(canvas, zoomFactor, boundingCoordinates, image.width, image.height);\n    ctx.restore();\n  }\n\n  setBoundingCoordinates = (image, zoomFactor) => {\n    const boundingCoordinates = {\n      minX: 0,\n      minY: 0,\n      maxX: image.width || 0,\n      maxY: image.height || 0,\n    };\n    const fontSize = 10 / zoomFactor;\n    this.getBoundingCoordinatesFromCustomOverlays(boundingCoordinates, fontSize);\n    this.getBoundingCoordinatesFromInspectionOverlays(boundingCoordinates, fontSize);\n\n    return boundingCoordinates;\n  };\n\n  setCanvasDimensions = (canvas, boundingCoordinates, zoomFactor) => {\n    const width = Math.abs(boundingCoordinates.minX) + boundingCoordinates.maxX;\n    const height = Math.abs(boundingCoordinates.minY) + boundingCoordinates.maxY;\n\n    canvas.width = Math.ceil(width * zoomFactor);\n    canvas.height = Math.ceil(height * zoomFactor);\n\n    this.setState({ canvasDimension: { width, height }, boundingCoordinates });\n  };\n\n  drawOverlays(drawTarget, zoomFactor, boundingCoordinates, width, height) {\n    const { product, customOverlays, imageId, currentMode } = this.props;\n    const overlays = extractInspectionOverlays(product, imageId);\n\n    drawCustomOverlays({\n      drawTarget,\n      customOverlays,\n      product,\n      zoomFactor,\n      boundingCoordinates,\n    });\n    drawInspectionOverlays({\n      drawTarget,\n      overlays,\n      zoomFactor,\n      boundingCoordinates,\n      width,\n      height,\n      currentMode,\n    });\n  }\n\n  getBoundingCoordinatesFromCustomOverlays = (boundingCoordinates, fontSize) => {\n    const { product, customOverlays } = this.props;\n    const { image } = this.state;\n\n    const imageWidth = image?.width;\n    const imageHeight = image?.height;\n\n    const minWidthFallback = Number(-imageWidth * 2);\n    const maxWidthFallback = Number(imageWidth * 2);\n\n    const minHeightFallback = Number(-imageHeight * 2);\n    const maxHeightFallback = Number(imageHeight * 2);\n\n    let overlays;\n    overlays = customOverlays.filter((overlay) => overlay.isActive);\n    overlays.map((overlay) =>\n      Object.assign(overlay, {\n        minWidthFallback,\n        maxWidthFallback,\n        minHeightFallback,\n        maxHeightFallback,\n      }),\n    );\n\n    overlays.forEach((overlay) => {\n      setBoundingCoordinatesForCustomOverlays({\n        overlay,\n        product,\n        fontSize,\n        boundingCoordinates,\n        dispatch: this.props.dispatch,\n      });\n    });\n  };\n\n  getBoundingCoordinatesFromInspectionOverlays = (boundingCoordinates, fontSize) => {\n    const { product, imageId } = this.props;\n    const overlays = extractInspectionOverlays(product, imageId);\n\n    overlays &&\n      overlays.forEach((overlay) => {\n        setBoundingCoordinatesForInspectionOverlays({ overlay, fontSize, boundingCoordinates });\n      });\n  };\n\n  setImageInfo = () => {\n    const { isImageInfoOpen } = this.props;\n    const { currentCursorPosition } = this.state;\n\n    if (currentCursorPosition && isImageInfoOpen) {\n      const { x, y } = currentCursorPosition;\n      this.setRgbValues(x, y);\n    }\n  };\n\n  bindEventListeners() {\n    if (canEditImageView(this.props.myPermissions)) {\n      this.containerRef.addEventListener('mousewheel', this.handleScroll);\n      this.containerRef.addEventListener('DOMMouseScroll', this.handleScroll);\n      this.containerRef.addEventListener('mousedown', this.handleMouseDown);\n      this.containerRef.addEventListener('mouseup', this.handleMouseUp);\n      this.containerRef.addEventListener('mouseleave', this.handleMouseUp);\n      this.containerRef.addEventListener('mousemove', this.handleDrag);\n    } else {\n      this.containerRef.removeEventListener('mousewheel', this.handleScroll);\n      this.containerRef.removeEventListener('DOMMouseScroll', this.handleScroll);\n      this.containerRef.removeEventListener('mousedown', this.handleMouseDown);\n      this.containerRef.removeEventListener('mouseup', this.handleMouseUp);\n      this.containerRef.removeEventListener('mouseleave', this.handleMouseUp);\n      this.containerRef.removeEventListener('mousemove', this.handleDrag);\n    }\n\n    this.containerRef.addEventListener('mousemove', this.handleMouseMove);\n  }\n\n  handleScroll = (evt) => {\n    const delta = evt.wheelDelta ? evt.wheelDelta / 40 : evt.detail ? -evt.detail : 0;\n    if (delta) {\n      const { offsetX, offsetY } = evt;\n      this.zoom(delta, offsetX, offsetY);\n    }\n    evt.preventDefault();\n    return false;\n  };\n\n  handleMouseDown = (event) => {\n    const dragStart = { x: event.pageX, y: event.pageY };\n    const { left, top } = this.state;\n    const dragStartPos = { left, top };\n    this.setState({ dragging: true, dragStart, dragStartPos });\n  };\n\n  handleMouseUp = () => {\n    this.setState({ dragging: false, dragStart: null });\n  };\n\n  handleDrag = (event) => {\n    const { dragging, dragStart, dragStartPos } = this.state;\n    if (!dragging) {\n      return;\n    }\n\n    const diffX = event.pageX - dragStart.x;\n    const diffY = event.pageY - dragStart.y;\n    this.setState({\n      left: dragStartPos.left + diffX,\n      top: dragStartPos.top + diffY,\n    });\n  };\n\n  handleMouseMove = (event) => {\n    const { isImageInfoOpen } = this.props;\n\n    if (isImageInfoOpen) {\n      const cursorPosition = this.getMouseCoordinatesOnElement(event, this.canvas);\n\n      this.setCursorPosition(cursorPosition);\n      this.setRgbValues(cursorPosition.x, cursorPosition.y);\n    }\n  };\n\n  getMouseCoordinatesOnElement = (event) => {\n    const { zoomFactor, boundingCoordinates } = this.state;\n    let offsetX = event.offsetX;\n    let offsetY = event.offsetY;\n    let element = event.target;\n\n    while (element !== this.containerRef) {\n      offsetX += element.offsetLeft;\n      offsetY += element.offsetTop;\n      element = element.parentNode;\n    }\n\n    let x = (offsetX - this.canvas.offsetLeft) / zoomFactor;\n    let y = (offsetY - this.canvas.offsetTop) / zoomFactor;\n\n    if (boundingCoordinates) {\n      x += boundingCoordinates.minX;\n      y += boundingCoordinates.minY;\n    }\n\n    return {\n      x: Math.trunc(x),\n      y: Math.trunc(y),\n    };\n  };\n\n  setRgbValues = (x, y) => {\n    const { image } = this.state;\n    const canvas = document.createElement('canvas');\n    canvas.width = image.width;\n    canvas.height = image.height;\n\n    const ctx = canvas.getContext('2d');\n    ctx.drawImage(image, 0, 0);\n\n    const colors = ctx.getImageData(x, y, 1, 1).data;\n    const red = colors[0];\n    const green = colors[1];\n    const blue = colors[2];\n    this.props.setViewData('rgbValues', { R: red, G: green, B: blue });\n  };\n\n  setCursorPosition = (cursorPosition) => {\n    const { currentCursorPosition } = this.state;\n    const cursorPositionOnImage = this.trimPositionsOnImageSize(cursorPosition);\n    this.props.setViewData('cursorPosition', cursorPositionOnImage);\n\n    if (\n      currentCursorPosition.x !== cursorPositionOnImage.x ||\n      currentCursorPosition.y !== cursorPositionOnImage.y\n    ) {\n      this.setState({ currentCursorPosition: cursorPosition });\n    }\n  };\n\n  trimPositionsOnImageSize = (cursorPosition) => {\n    const { image } = this.state;\n    if (\n      cursorPosition.x < 0 ||\n      cursorPosition.y < 0 ||\n      cursorPosition.x > image.width ||\n      cursorPosition.y > image.height\n    ) {\n      return { x: 0, y: 0 };\n    }\n\n    return cursorPosition;\n  };\n\n  zoom(delta, offX, offY) {\n    const SCALE_BASE = 1.1;\n    const MIN_ZOOM_FACTOR = 0.05;\n    const MAX_ZOOM_FACTOR = 20;\n    const MAX_CANVAS_SIZE = 4096;\n\n    const scaleFactor = Math.pow(SCALE_BASE, delta);\n    const zoomFactor = this.state.zoomFactor * scaleFactor;\n    if (zoomFactor < MIN_ZOOM_FACTOR || zoomFactor > MAX_ZOOM_FACTOR) {\n      return;\n    }\n\n    const { canvasDimension } = this.state;\n    const longestSide = Math.max(\n      canvasDimension.width * zoomFactor,\n      canvasDimension.height * zoomFactor,\n    );\n    if (longestSide > MAX_CANVAS_SIZE) {\n      return;\n    }\n\n    const { left, top } = this.state;\n    const leftDiff = offX * (1 - scaleFactor);\n    const topDiff = offY * (1 - scaleFactor);\n    this.setState({\n      left: left + leftDiff,\n      top: top + topDiff,\n      zoomFactor,\n    });\n  }\n\n  clamp(v, min, max) {\n    return Math.max(Math.min(v, max), min);\n  }\n\n  resetZoom() {\n    const { boundingCoordinates, zoomFactor } = this.state;\n    this.setState({\n      zoomFactor: 1,\n      left: boundingCoordinates.minX * zoomFactor,\n      top: boundingCoordinates.minY * zoomFactor,\n    });\n  }\n\n  fitToHeight() {\n    const { height } = this.getViewSize();\n    const { image, boundingCoordinates, zoomFactor } = this.state;\n    this.setState({\n      zoomFactor: height / image.height,\n      left: boundingCoordinates.minX * zoomFactor,\n      top: boundingCoordinates.minY * zoomFactor,\n    });\n  }\n\n  fitToWidth() {\n    const { width } = this.getViewSize();\n    const { image, boundingCoordinates, zoomFactor } = this.state;\n    this.setState({\n      zoomFactor: width / image.width,\n      left: boundingCoordinates.minX * zoomFactor,\n      top: boundingCoordinates.minY * zoomFactor,\n    });\n  }\n\n  getViewSize() {\n    return {\n      width: (this.containerRef && this.containerRef.getBoundingClientRect().width) || 200,\n      height: (this.containerRef && this.containerRef.getBoundingClientRect().height) || 200,\n    };\n  }\n\n  downloadOriginalImage() {\n    if (!isObjectValid(() => this.state.image.src)) {\n      logger.info('downloadOriginalImage can not find image source');\n      return;\n    }\n    forceDownload(this.state.image.src, 'image.bmp');\n  }\n\n  downloadOriginalImageWithOverlays() {\n    const { canvasDimension, image } = this.state;\n    const canvas = document.createElement('canvas');\n    canvas.width = canvasDimension.width;\n    canvas.height = canvasDimension.height;\n    this.draw(canvas, image, 1);\n\n    canvas.toBlob((blob) => {\n      const domURL = self.URL || self.webkitURL || self; // eslint-disable-line\n      const url = domURL.createObjectURL(blob);\n      forceDownload(url);\n      domURL.revokeObjectURL(url);\n    });\n  }\n\n  render() {\n    const { zoomFactor, canvasDimension, left, top } = this.state;\n    const height = canvasDimension.height * zoomFactor;\n    const width = canvasDimension.width * zoomFactor;\n\n    return (\n      <div\n        style={{ height: '100%', width: '100%' }}\n        ref={(ref) => {\n          this.containerRef = ref;\n        }}\n      >\n        <canvas\n          className=\"imageCanvas\"\n          style={{\n            position: 'absolute',\n            left,\n            top,\n            width,\n            height,\n          }}\n          ref={(canvas) => {\n            this.canvas = canvas;\n          }}\n        />\n      </div>\n    );\n  }\n}\n\nconst propTypes = {\n  imageSrc: PropTypes.string,\n};\n\nImageEditor.propTypes = propTypes;\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  try {\n    return {\n      customOverlays: state.inspections[inspectionId].sharedState.views[viewId].overlays,\n      currentMode: state.app.currentMode,\n      viewSettings: state.inspections[inspectionId].views[viewId],\n      myPermissions: state.app.myPermissions,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  return {\n    setViewData: (key, data) => dispatch(setViewData(inspectionId, viewId, key, data)),\n    saveImageSettings: (zoomFactor, imagePosition) =>\n      dispatch(saveImageSettings(inspectionId, viewId, zoomFactor, imagePosition)),\n    dispatch: (...args) => dispatch(...args),\n  };\n};\n\nexport default compose(\n  connect(mapStateToProps, mapDispatchToProps, null, { forwardRef: true })(ImageEditor),\n);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport { getPropsFromInspection } from '../../../utils/propHelper';\n\nclass ImageInfo extends Component {\n  render() {\n    const { imageInfoClass, cursorPosition, rgbValues, imageDimensions } = this.props;\n    return (\n      <div className={imageInfoClass}>\n        <div className=\"info-table\">\n          <div className=\"th\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.info\" />\n            </div>\n          </div>\n\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.width\" />\n            </div>\n            <div className=\"td\">{imageDimensions.width}</div>\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.height\" />\n            </div>\n            <div className=\"td\">{imageDimensions.height}</div>\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">{`${rgbValues.R}, ${rgbValues.G}, ${rgbValues.B}`}</div>\n            <div\n              className=\"td\"\n              style={{\n                backgroundColor: `rgb(${rgbValues.R},${rgbValues.G},${rgbValues.B})`,\n              }}\n            />\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.x\" />\n            </div>\n            <div className=\"td\">{cursorPosition.x}</div>\n          </div>\n          <div className=\"tr\">\n            <div className=\"td\">\n              <FormattedMessage id=\"imageView.y\" />\n            </div>\n            <div className=\"td\">{cursorPosition.y}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nImageInfo.defaultProps = {\n  imageInfoClass: '',\n  rgbValues: { R: 0, G: 0, B: 0 },\n  cursorPosition: { width: 0, height: 0 },\n  imageDimensions: { width: 0, height: 0 },\n};\n\nImageInfo.propTypes = {\n  imageInfoClass: PropTypes.string,\n  rgbValues: PropTypes.shape({\n    R: PropTypes.number,\n    G: PropTypes.number,\n    B: PropTypes.number,\n  }),\n  imageDimensions: PropTypes.shape({\n    width: PropTypes.number,\n    height: PropTypes.number,\n  }),\n  cursorPosition: PropTypes.shape({\n    x: PropTypes.number,\n    y: PropTypes.number,\n  }),\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  return getPropsFromInspection(state, inspectionId, viewId, {\n    imageDimensions: 'imageDimensions',\n    cursorPosition: 'cursorPosition',\n    rgbValues: 'rgbValues',\n  });\n};\n\nexport default connect(mapStateToProps)(ImageInfo);\n","export const getPropsFromInspection = (state, inspectionId, viewId, props) => {\n  return Object.keys(props).reduce(\n    (acc, key) => ({\n      ...acc,\n      [key]: state.inspections[inspectionId].views[viewId][key],\n    }),\n    {},\n  );\n};\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport isEqual from 'lodash/isEqual';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport iconDownload from '../../assets/icons/download.svg';\nimport iconDownloadWithOverlays from '../../assets/icons/downloadWithOverlays.svg';\nimport iconFitToHeight from '../../assets/icons/fit-to-height.svg';\nimport iconFitToWidth from '../../assets/icons/fit-to-width.svg';\nimport iconInfo from '../../assets/icons/info.svg';\nimport iconOne from '../../assets/icons/one.svg';\nimport iconOverlayList from '../../assets/icons/overlay-list.svg';\n\nimport ActionBar from '../../components/ActionBar';\nimport ObjectSelector from '../../components/ObjectSelector';\nimport OverlayList from '../../components/OverlayList';\nimport ProxyType from '../../components/Protobuf/ProxyType';\nimport {\n  initViewState,\n  setViewData,\n  setSharedStateData,\n  addImageNotAvailableNotification,\n  setSaveFlag,\n} from '../../redux/actions/index';\nimport ActionBarType, { SEPARATOR } from '../../types/ActionBarType';\nimport logger from '../../utils/logger';\nimport { canReadImageView, canEditImageView } from '../../utils/permissions';\nimport ImageEditor from './components/ImageEditor';\nimport ImageInfo from './components/ImageInfo';\n\nclass ImageView extends Component {\n  state = {\n    viewSizeChangeCounter: this.props.viewSizeChangeCounter,\n    isOverlayInfoOpen: false,\n    isImageInfoOpen: false,\n    canvasInitResize: false,\n    subscribedSource: undefined,\n  };\n\n  async componentDidMount() {\n    if (this.props.sourceImage) {\n      this.unsubscribeFromProductStream();\n      this.resubscribeToProductStream(this.props.sourceImage, this.props.overlays);\n    }\n\n    const { configuration, proxy } = this.props;\n    if (configuration.objectSelectorImages.size === 0) {\n      configuration.setObjectSelectorImages(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n    if (configuration.idNameMappings.size === 0) {\n      configuration.setIdNameMappings(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.updateViewSize(nextProps.viewSizeChangeCounter);\n\n    const oldVariables = this.getUsedVariablesFromOverlay(this.props.overlays);\n    const newVariables = this.getUsedVariablesFromOverlay(nextProps.overlays);\n    if (\n      !isEqual(oldVariables, newVariables) ||\n      (this.state.subscribedSource !== nextProps.sourceImage && nextProps.sourceImage)\n    ) {\n      this.resubscribeToProductStream(nextProps.sourceImage, nextProps.overlays);\n    }\n\n    if (this.props.isBrowserWindowVisible !== nextProps.isBrowserWindowVisible) {\n      if (nextProps.isBrowserWindowVisible) {\n        this.resubscribeToProductStream(this.props.sourceImage, this.props.overlays);\n      } else {\n        this.unsubscribeFromProductStream();\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromProductStream();\n  }\n\n  updateViewSize = (newViewSizeChangeCounter) => {\n    if (\n      newViewSizeChangeCounter > this.state.viewSizeChangeCounter ||\n      this.state.viewSizeChangeCounter === undefined\n    ) {\n      this.setState({ viewSizeChangeCounter: newViewSizeChangeCounter });\n    }\n  };\n\n  resubscribeToProductStream = (imageId, overlays) => {\n    if (imageId) {\n      this.unsubscribeFromProductStream();\n      this.subscribeToProductStream(imageId, overlays);\n      this.setState({ subscribedSource: imageId });\n    }\n  };\n\n  subscribeToProductStream = (imageId, overlays) => {\n    if (!this.productSub) {\n      const { inspectionId } = this.props;\n      const startAtTriggerCount = -1; // image view can only show one item at a time\n      const imageIds = [imageId];\n      const valueIds = this.getUsedVariablesFromOverlay(overlays);\n      const desc = { inspectionId, imageIds, valueIds, startAtTriggerCount };\n      this.productSub = this.props.proxy.subscribeToProductStream(desc, this.onProduct);\n    }\n  };\n\n  unsubscribeFromProductStream = () => {\n    if (this.productSub) {\n      this.props.proxy.unsubscribeFromProductStream(this.productSub);\n      this.productSub = null;\n    }\n  };\n\n  getUsedVariablesFromOverlay = (overlays) => {\n    const variables = [];\n    overlays &&\n      overlays.forEach((overlay) => {\n        Object.keys(overlay).forEach((key) => {\n          if (key.indexOf('Variable') > -1 && overlay[key] && !variables.includes(overlay[key])) {\n            variables.push(overlay[key]);\n          }\n        });\n      });\n    return variables;\n  };\n\n  setAllOverlaysActive = (isActive) => {\n    const updatedOverlays = this.props.overlays.map((overlay) => ({\n      ...overlay,\n      isActive,\n    }));\n    this.props.setSharedStateData('overlays', updatedOverlays);\n    this.props.setSaveFlag(true);\n  };\n\n  createActiveOverlayList = (overlays) => overlays.filter((overlay) => overlay.isActive);\n\n  createActiveOverlayIdList = (overlays) => {\n    const activeOverlays = overlays.filter((overlay) => overlay.isActive);\n    return activeOverlays.map((overlay) => overlay.id);\n  };\n\n  onProduct = ({ product }) => {\n    const imageId = this.props.sourceImage;\n\n    this.setState({ imageId, product });\n    if (!this.state.canvasInitResize) {\n      this.setState({ canvasInitResize: true });\n    }\n  };\n\n  toggleOverlayInfo = () => {\n    this.setState({\n      isOverlayInfoOpen: !this.state.isOverlayInfoOpen,\n      isImageInfoOpen: false,\n    });\n  };\n\n  toggleImageInfo = () => {\n    this.setState({\n      isImageInfoOpen: !this.state.isImageInfoOpen,\n      isOverlayInfoOpen: false,\n    });\n  };\n\n  setSourceImageId = (id) => {\n    if (!id) {\n      logger.error(`OjectSelector did not return a valid id ${id}.`);\n      return;\n    }\n    this.props.setSharedStateData('sourceImage', id);\n  };\n\n  updateOverlayList = (updatedOverlayList) => {\n    this.props.setSharedStateData('overlays', updatedOverlayList);\n    this.props.setSaveFlag(true);\n  };\n\n  setTitleFromConfig = () => {\n    const { sourceImage, inspectionId, configuration } = this.props;\n    if (configuration) {\n      const path = configuration.getValueNameForId(inspectionId, sourceImage);\n      if (path) {\n        this.props.setViewData('windowName', path);\n      }\n    }\n  };\n\n  renderObjectSelector = () => {\n    const { configuration, inspectionId } = this.props;\n    if (!configuration || !inspectionId) {\n      return;\n    }\n\n    const images = configuration.getObjectSelectorImagesForInspection(inspectionId);\n\n    return (\n      <div style={{ width: '100%', overflow: 'auto' }}>\n        {images && (\n          <ObjectSelector\n            singleSelect\n            data={images.tree}\n            onChange={(selectedId, checkedLocation) => {\n              this.setSourceImageId(selectedId);\n              this.props.setViewData('windowName', checkedLocation);\n              this.props.setSaveFlag(true);\n            }}\n          />\n        )}\n      </div>\n    );\n  };\n\n  renderImageView = () => {\n    const { viewActions } = this.props;\n\n    return (\n      <div style={{ height: '100%', width: '100%' }}>\n        <div style={{ height: '100%', width: '100%' }}>{this.renderImageViewImpl()}</div>\n        <ActionBar isViewAction actions={viewActions(this)} />\n      </div>\n    );\n  };\n\n  renderImageViewImpl() {\n    const { product } = this.state;\n    if (!product || product.released) {\n      return <div>&lt;UNAVAILABLE&gt;</div>;\n    }\n\n    return [this.renderImageEditor(), this.renderImageInfo(), this.renderOverlayList()];\n  }\n\n  renderImageEditor() {\n    const { inspectionId, id } = this.props;\n    const { product, imageId, isImageInfoOpen } = this.state;\n\n    return (\n      <ImageEditor\n        ref={(ref) => {\n          this.imageEditor = ref;\n        }}\n        id={id}\n        inspectionId={inspectionId}\n        imageId={imageId}\n        product={product}\n        key={`ImageEditor${id}`}\n        isImageInfoOpen={isImageInfoOpen}\n      />\n    );\n  }\n\n  renderImageInfo() {\n    const { inspectionId, id } = this.props;\n    const { isImageInfoOpen } = this.state;\n\n    if (!isImageInfoOpen) {\n      return;\n    }\n\n    return (\n      <ImageInfo\n        id={id}\n        key={`ImageInfo${id}`}\n        inspectionId={inspectionId}\n        imageInfoClass={classNames({ 'info-box': true })}\n      />\n    );\n  }\n\n  renderOverlayList() {\n    const { overlays, id } = this.props;\n    const { isOverlayInfoOpen } = this.state;\n\n    if (!isOverlayInfoOpen) {\n      return;\n    }\n\n    return (\n      <div className={classNames({ 'info-box': true })} key={`OverlayList${id}`}>\n        <OverlayList\n          overlays={overlays}\n          updateOverlayList={this.updateOverlayList}\n          canSelectRow={false}\n          onSelectAll={(checked) => this.setAllOverlaysActive(checked)}\n          hasActionBar={false}\n        />\n      </div>\n    );\n  }\n\n  render() {\n    const { sourceImage, myPermissions } = this.props;\n\n    this.setTitleFromConfig();\n\n    if (canReadImageView(myPermissions) || canEditImageView(myPermissions)) {\n      return (\n        <div className=\"image-view-wrapper\">\n          {sourceImage ? this.renderImageView() : this.renderObjectSelector()}\n        </div>\n      );\n    }\n\n    return <div></div>;\n  }\n}\n\nImageView.defaultProps = {\n  viewActions: (imageView) => {\n    const actions = [];\n    const canEdit = canEditImageView(imageView.props.myPermissions);\n\n    if (canEdit) {\n      actions.push({\n        intlId: 'imageView.zoomOut',\n        iconUrl: iconOne,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.resetZoom();\n          }\n        },\n      });\n      actions.push({\n        intlId: 'imageView.fitToWidth',\n        iconUrl: iconFitToWidth,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.fitToWidth();\n          }\n        },\n      });\n      actions.push({\n        intlId: 'imageView.fitToHeight',\n        iconUrl: iconFitToHeight,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.fitToHeight();\n          }\n        },\n      });\n    }\n\n    if (canReadImageView(imageView.props.myPermissions) || canEdit) {\n      actions.push({\n        type: SEPARATOR,\n      });\n      actions.push({\n        intlId: 'imageView.save',\n        iconUrl: iconDownload,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.downloadOriginalImage();\n          }\n        },\n      });\n      actions.push({\n        intlId: 'imageView.saveWithOverlays',\n        iconUrl: iconDownloadWithOverlays,\n        onClickHandler: () => {\n          if (imageView.imageEditor) {\n            imageView.imageEditor.downloadOriginalImageWithOverlays();\n          }\n        },\n      });\n      actions.push({\n        type: SEPARATOR,\n      });\n      actions.push({\n        intlId: 'imageView.overlayListToggle',\n        iconUrl: iconOverlayList,\n        onClickHandler: () => {\n          imageView.toggleOverlayInfo();\n        },\n      });\n      actions.push({\n        intlId: 'imageView.imageInfoToggle',\n        iconUrl: iconInfo,\n        onClickHandler: () => {\n          imageView.toggleImageInfo();\n        },\n      });\n    }\n\n    return actions;\n  },\n  overlayActions: () => [],\n  inRunMode: false,\n  currentMode: undefined,\n  proxy: undefined,\n  rgbValues: { R: 0, G: 0, B: 0 },\n  cursorPosition: { width: 0, height: 0 },\n};\n\nImageView.propTypes = {\n  viewActions: ActionBarType,\n  overlayActions: ActionBarType,\n  currentMode: PropTypes.string,\n  viewSizeChangeCounter: PropTypes.number,\n  overlays: PropTypes.array, //eslint-disable-line\n  proxy: ProxyType,\n  sourceImage: PropTypes.number,\n};\n\nconst initState = {\n  scaleFactor: 0,\n  rgbValues: { R: 0, G: 0, B: 0 },\n  imageDimensions: { width: 0, height: 0 },\n  cursorPosition: { x: 0, y: 0 },\n};\n\nconst initSharedState = {\n  overlays: [],\n  sourceImage: 0,\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { inspectionId, id: viewId } = ownProps;\n  dispatch(initViewState(inspectionId, viewId, initState, initSharedState));\n  return {\n    setViewData: (key, data) => dispatch(setViewData(inspectionId, viewId, key, data)),\n    setSharedStateData: (key, data) =>\n      dispatch(setSharedStateData(inspectionId, key, data, viewId)),\n    addImageNotAvailableNotification: () => dispatch(addImageNotAvailableNotification()),\n    setSaveFlag: (hasChanges) => dispatch(setSaveFlag(hasChanges)),\n  };\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id: viewId } = ownProps;\n  const result = {\n    proxy: state.app.proxy,\n    configuration: state.app.configuration,\n    currentMode: state.app.currentMode,\n    viewSizeChangeCounter: state.viewSet.viewSizeChangeCounter,\n    myPermissions: state.app.myPermissions,\n    isBrowserWindowVisible: state.app.isBrowserWindowVisible,\n  };\n\n  try {\n    return {\n      ...result,\n      overlays: state.inspections[inspectionId].sharedState.views[viewId].overlays,\n      sourceImage: Number(state.inspections[inspectionId].sharedState.views[viewId].sourceImage),\n    };\n  } catch (error) {\n    return result;\n  }\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(ImageView);\n","export default __webpack_public_path__ + \"static/media/show-off.8787321d.svg\";","export default __webpack_public_path__ + \"static/media/drag.a4b2fa8c.svg\";","import React from 'react';\nimport Table, { callOrReturn } from 'react-base-table';\nimport { sortableContainer, sortableElement, sortableHandle } from 'react-sortable-hoc';\n\nimport DragIcon from '../../assets/icons/drag.svg';\n\nimport './style.css';\n\nconst DraggableContainer = sortableContainer(({ children }) => children);\nconst DraggableElement = sortableElement(({ children }) => children);\nconst DraggableHandle = sortableHandle(({ children }) => children);\n\nconst Row = ({ key, index, children, draggable, ...rest }) => {\n  if (!draggable) {\n    return <div {...rest}>{children}</div>;\n  }\n\n  return (\n    <DraggableElement key={key} index={index}>\n      <div {...rest}>\n        <DraggableHandle>\n          <div className=\"draggable-table-handle\">\n            <img src={DragIcon} alt=\"Drag\" />\n          </div>\n        </DraggableHandle>\n        {children}\n      </div>\n    </DraggableElement>\n  );\n};\n\nclass DraggableTable extends React.PureComponent {\n  state = {\n    data: this.props.data,\n  };\n\n  table = React.createRef();\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.data !== this.props.data) {\n      const data = [...this.props.data];\n      this.setState({ data });\n    }\n  }\n\n  getContainer = () => {\n    return this.table.current.getDOMNode().querySelector('.BaseTable__body');\n  };\n\n  getHelperContainer = () => {\n    return this.table.current.getDOMNode().querySelector('.BaseTable__table');\n  };\n\n  rowProps = (args) => {\n    const extraProps = callOrReturn(this.props.rowProps);\n    return {\n      ...extraProps,\n      draggable: this.props.draggable,\n      tagName: Row,\n      index: args.rowIndex,\n    };\n  };\n\n  handleSortEnd = ({ oldIndex, newIndex }) => {\n    this.props.onSequenceChange(oldIndex, newIndex);\n    const data = [...this.state.data];\n    const [removed] = data.splice(oldIndex, 1);\n    data.splice(newIndex, 0, removed);\n    this.setState({ data });\n  };\n\n  render() {\n    if (!this.props.draggable) {\n      return (\n        <Table {...this.props} ref={this.table} data={this.state.data} rowProps={this.rowProps} />\n      );\n    }\n\n    return (\n      <DraggableContainer\n        useDragHandle\n        getContainer={this.getContainer}\n        helperContainer={this.getHelperContainer}\n        onSortEnd={this.handleSortEnd}\n      >\n        <Table\n          {...this.props}\n          ref={this.table}\n          data={this.state.data}\n          rowProps={this.rowProps}\n          className=\"draggable\"\n        />\n      </DraggableContainer>\n    );\n  }\n}\n\nDraggableTable.defaultProps = {\n  draggable: true,\n};\n\nexport default DraggableTable;\n","import React, { useState, useRef } from 'react';\nimport { TextField, Button } from '@material-ui/core';\nimport { injectIntl, FormattedMessage } from 'react-intl';\n\nimport Dialog from '../../../../components/Dialog';\nimport { languages } from '../../../../translations';\nimport './styles.scss';\n\nconst AliasEditor = ({ open, onClose, selectedAlias, intl }) => {\n  if (!selectedAlias.alias) {\n    selectedAlias.alias = {};\n  }\n\n  const oldState = useRef({ ...selectedAlias.alias });\n  const [alias, setAlias] = useState(selectedAlias || {});\n\n  if (alias.id !== selectedAlias.id) {\n    setAlias(selectedAlias);\n  }\n\n  const renderLanguageAliases = () => {\n    const result = [];\n    (languages || []).forEach((language) => {\n      result.push(\n        <div className=\"row\" key={`rowDiv${language.locale}${selectedAlias.id}`}>\n          <div className=\"label\">Alias {language.name}:</div>\n          <div className=\"textfield\">\n            <TextField\n              id={`aliasLabel${language.locale}`}\n              fullWidth\n              defaultValue={selectedAlias.alias && selectedAlias.alias[language.locale]}\n              onChange={(e) => {\n                alias.alias[language.locale] = e.target.value;\n              }}\n            />\n          </div>\n        </div>,\n      );\n    });\n    return result;\n  };\n\n  return (\n    <Dialog\n      isInView\n      isPopup\n      title={intl.messages['listView.AliasEditor.title']}\n      onClose={() => {\n        alias.alias = oldState.current;\n        onClose(alias);\n      }}\n      open={open}\n    >\n      <div className=\"alias-editor-wrapper\">\n        <div className=\"row\">\n          <div className=\"label\">\n            <FormattedMessage id=\"listView.AliasEditor.dottedName\" />:\n          </div>\n          <div className=\"textfield\">\n            <TextField id=\"dottedNameLabel\" fullWidth value={selectedAlias.name} disabled />\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"label\">\n            <FormattedMessage id=\"listView.AliasEditor.value\" />:\n          </div>\n          <div className=\"textfield\">\n            <TextField id=\"valueLabel\" fullWidth disabled value={selectedAlias.value} />\n          </div>\n        </div>\n        {renderLanguageAliases()}\n        <div className=\"buttons\">\n          <Button variant=\"contained\" color=\"primary\" onClick={() => onClose(alias, true)}>\n            <FormattedMessage id=\"listView.AliasEditor.button\" />\n          </Button>\n        </div>\n      </div>\n    </Dialog>\n  );\n};\n\nexport default injectIntl(AliasEditor);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { AutoResizer } from 'react-base-table';\nimport { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\nimport 'react-base-table/styles.css';\n\nimport EditIcon from '../../assets/icons/edit.svg';\nimport iconList from '../../assets/icons/overlay-list.svg';\nimport iconShowOff from '../../assets/icons/show-off.svg';\nimport iconShow from '../../assets/icons/show.svg';\nimport ActionBar from '../../components/ActionBar';\nimport DraggableTable from '../../components/DraggableTable';\nimport ObjectSelector from '../../components/ObjectSelector';\nimport ProxyType from '../../components/Protobuf/ProxyType';\nimport IconButton from '../../components/buttons/IconButton';\nimport {\n  initViewState,\n  setViewData,\n  setSharedStateData,\n  setSaveFlag,\n  updateListViewShowAliases,\n} from '../../redux/actions/index';\nimport ActionBarType, { TOGGLE_BUTTON } from '../../types/ActionBarType';\nimport logger from '../../utils/logger';\nimport { canReadListView, canEditListView } from '../../utils/permissions';\n\nimport AliasEditor from './components/List/AliasEditor';\n\nimport './style.scss';\n\nclass ListView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listValues: [],\n      expandedKeys: [],\n      isAliasEditorOpen: false,\n      selectedAlias: {},\n      showAliases: false,\n    };\n  }\n\n  async componentDidMount() {\n    this.unsubscribeFromProductStream();\n    if (!this.props.isSelectionMode && this.props.selection.length > 0) {\n      this.subscribeToProductStream();\n    }\n\n    if (this.props.showAliasesInList) {\n      this.setState({ showAliases: true });\n    }\n\n    const { configuration, proxy } = this.props;\n    if (configuration.objectSelectorItems.size === 0) {\n      configuration.setObjectSelectorItems(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n    if (configuration.idNameMappings.size === 0) {\n      configuration.setIdNameMappings(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.unsubscribeFromProductStream();\n    if (!nextProps.isSelectionMode && nextProps.selection.length > 0) {\n      this.subscribeToProductStream();\n    }\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromProductStream();\n  }\n\n  subscribeToProductStream() {\n    if (!this.productSub) {\n      const { inspectionId, selection } = this.props;\n      const startAtTriggerCount = -1; // list view can only show one item at a time\n      const desc = { inspectionId, valueIds: selection, startAtTriggerCount };\n      this.productSub = this.props.proxy.subscribeToProductStream(desc, this.onProduct.bind(this));\n    }\n  }\n\n  unsubscribeFromProductStream() {\n    if (this.productSub) {\n      this.props.proxy.unsubscribeFromProductStream(this.productSub);\n      this.productSub = null;\n    }\n  }\n\n  onProduct({ product }) {\n    const listValues = this.createListValues(product);\n    this.setState({ listValues });\n    return Promise.resolve();\n  }\n\n  createListValues(product) {\n    const { configuration, inspectionId, selection } = this.props;\n    const values = product.getValuesAsString(selection);\n    return values.map((entry) => ({\n      ...entry,\n      name: configuration.getValueNameForId(inspectionId, entry.id) || '',\n    }));\n  }\n\n  setAliasColumnVisibility = (visibility) => {\n    this.props.updateListViewShowAliases(visibility);\n    this.props.setSaveFlag(true);\n    this.setState({ showAliases: visibility });\n  };\n\n  saveNewOrdner = (before, after) => {\n    const { selection } = this.props;\n    const [removed] = selection.splice(before, 1);\n    selection.splice(after, 0, removed);\n    this.props.setViewData('selection', selection);\n    this.props.setSaveFlag(true);\n  };\n\n  renderValueSelector = () => {\n    const { configuration, inspectionId, selection } = this.props;\n\n    if (!configuration || !inspectionId) {\n      return;\n    }\n\n    const items = configuration.getObjectSelectorItemsForInspection(inspectionId);\n    if (!items) {\n      return <div style={{ width: '100%', overflow: 'auto', height: '100%' }}></div>;\n    }\n\n    let tree = items.tree;\n    tree = configuration.filterArrayValuesFromTree(tree);\n\n    const filterIgnore = [];\n    const name = configuration.getInspectionName(inspectionId);\n\n    filterIgnore.push(`Inspections.${name}`);\n    filterIgnore.push(`Inspections${name}`);\n    filterIgnore.push(name);\n\n    return (\n      <div style={{ width: '100%', overflow: 'auto', height: '100%' }}>\n        <ObjectSelector\n          data={tree}\n          onChange={(selectedIds) => {\n            this.props.setViewData('selection', selectedIds);\n            this.props.setSaveFlag(true);\n          }}\n          onExpand={(expandedKeys) => this.setState({ expandedKeys })}\n          selection={selection}\n          expandedKeys={this.state.expandedKeys}\n          filterIgnore={filterIgnore}\n        />\n      </div>\n    );\n  };\n\n  renderList = () => {\n    const { intl, locale, myPermissions } = this.props;\n    const { showAliases } = this.state;\n    const data = this.getListData();\n    const columns = [\n      {\n        key: showAliases ? 'Alias/Name' : 'Name',\n        dataKey: 'name',\n        title: showAliases ? 'Alias/Name' : 'Name',\n        width: 0,\n        flexGrow: 2,\n      },\n      {\n        key: 'Values',\n        dataKey: 'value',\n        title: 'Values',\n        width: 0,\n        flexGrow: 1,\n      },\n    ];\n\n    if (canEditListView(myPermissions)) {\n      columns.push({\n        key: '',\n        dataKey: 'editAlias',\n        title: '',\n        width: 50,\n      });\n    }\n\n    const tableData = data.map((row) => {\n      row.name = showAliases ? (row.alias && row.alias[locale]) || row.name : row.name;\n      return {\n        ...row,\n        editAlias: (\n          <IconButton\n            tooltip={intl.messages['listView.AliasEditor.title']}\n            onClick={() => this.setState({ selectedAlias: row, isAliasEditorOpen: true })}\n            iconUrl={EditIcon}\n            key=\"editAlias\"\n          />\n        ),\n      };\n    });\n\n    return (\n      <div style={{ height: '100%' }}>\n        <AutoResizer>\n          {({ width, height }) => (\n            <DraggableTable\n              columns={columns}\n              data={tableData}\n              width={width}\n              height={height}\n              headerHeight={30}\n              rowHeight={30}\n              onSequenceChange={(before, after) => this.saveNewOrdner(before, after)}\n            />\n          )}\n        </AutoResizer>\n        {this.renderAliasEditor()}\n      </div>\n    );\n  };\n\n  renderAliasEditor = () => {\n    const { selectedAlias, listValues, isAliasEditorOpen } = this.state;\n    const currentValueObject = (listValues || []).find((value) => value.id === selectedAlias.id);\n\n    if (!currentValueObject || !isAliasEditorOpen) {\n      return;\n    }\n\n    return (\n      <AliasEditor\n        onClose={(alias, isSaved = false) => this.closeAliasEditor(alias, isSaved)}\n        open={this.state.isAliasEditorOpen}\n        selectedAlias={currentValueObject}\n      />\n    );\n  };\n\n  getListData = () => {\n    const { aliases } = this.props;\n    const data = this.state.listValues;\n\n    if (aliases) {\n      (data || []).map((entry) => {\n        if (aliases.has(entry.id)) {\n          const alias = aliases.get(entry.id);\n          if (!alias) {\n            logger.error(`Could not load alias for objectId ${entry.id}`);\n            return entry;\n          }\n\n          if (!alias.alias) {\n            logger.info(`There is no alias value stored for ${alias.dottedName}.`);\n            return entry;\n          }\n\n          entry.alias = alias.alias;\n        }\n        return entry;\n      });\n    }\n    return data;\n  };\n\n  closeAliasEditor = (alias, isSaved) => {\n    if (alias) {\n      const { aliases } = this.props;\n\n      Object.keys(alias.alias).forEach((language) => {\n        if (alias.alias[language] === '') {\n          delete alias.alias[language];\n        }\n      });\n\n      const isEmpty = Object.keys(alias.alias).length === 0;\n      if (aliases.has(alias.id)) {\n        const newAlias = aliases.get(alias.id);\n        newAlias.alias = alias.alias;\n\n        if (isEmpty) {\n          aliases.delete(alias.id);\n        } else {\n          aliases.set(alias.id, newAlias);\n        }\n      } else {\n        if (!isEmpty) {\n          aliases.set(alias.id, { objectId: alias.id, dottedName: alias.name, alias: alias.alias });\n        }\n      }\n    }\n\n    this.setState({ isAliasEditorOpen: false });\n    if (isSaved) {\n      this.props.setSaveFlag(true);\n    }\n  };\n\n  render() {\n    const { viewActions, isSelectionMode, myPermissions } = this.props;\n    const canEdit = canEditListView(myPermissions);\n\n    if (canReadListView(myPermissions) || canEdit) {\n      return (\n        <div className=\"list-view-wrapper\">\n          {isSelectionMode && canEdit ? this.renderValueSelector() : this.renderList()}\n          <ActionBar isViewAction actions={viewActions(this)} />\n        </div>\n      );\n    }\n\n    return <div></div>;\n  }\n}\n\nListView.defaultProps = {\n  viewActions: (listView) => {\n    const actions = [];\n    if (canEditListView(listView.props.myPermissions)) {\n      actions.push({\n        intlId: 'listView.save',\n        iconUrl: iconList,\n        onClickHandler: () => {\n          listView.props.setViewData('isSelectionMode', !listView.props.isSelectionMode);\n          listView.props.setSaveFlag(true);\n        },\n      });\n    }\n\n    actions.push({\n      type: TOGGLE_BUTTON,\n      id: listView.props.inspectionId,\n      intlId: 'listView.Actionbar.showAliases',\n      iconUrl: iconShow,\n      onClickHandler: () => {\n        listView.setAliasColumnVisibility(true);\n      },\n      intlIdAlternative: 'listView.Actionbar.hideAliases',\n      iconUrlAlternative: iconShowOff,\n      onClickHandlerAlternative: () => {\n        listView.setAliasColumnVisibility(false);\n      },\n      showAlternative: listView.props.showAliasesInList,\n    });\n\n    return actions;\n  },\n  currentMode: undefined,\n  proxy: undefined,\n  isSelectionMode: true,\n  inspections: {},\n  selection: [],\n};\n\nListView.propTypes = {\n  viewActions: ActionBarType.isRequired,\n  currentMode: PropTypes.string,\n  proxy: ProxyType,\n  inspections: PropTypes.object,\n  selection: PropTypes.array,\n  isSelectionMode: PropTypes.bool,\n};\n\nconst initState = {\n  selection: [],\n  isSelectionMode: true,\n};\n\nconst initSharedState = {};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  dispatch(initViewState(inspectionId, viewId, initState, initSharedState));\n  return {\n    setViewData: (key, data) => dispatch(setViewData(inspectionId, viewId, key, data)),\n    setSharedStateData: (key, data) => dispatch(setSharedStateData(inspectionId, key, data)),\n    updateListViewShowAliases: (show) => dispatch(updateListViewShowAliases(inspectionId, show)),\n    setSaveFlag: (hasChanges) => dispatch(setSaveFlag(hasChanges)),\n  };\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { inspectionId, id } = ownProps;\n  const viewId = id;\n  try {\n    return {\n      proxy: state.app.proxy,\n      configuration: state.app.configuration,\n      currentMode: state.app.currentMode,\n      selection: state.inspections[inspectionId].views[viewId].selection,\n      isSelectionMode: state.inspections[inspectionId].views[viewId].isSelectionMode,\n      aliases: state.inspections[inspectionId].sharedState.listViewAliases,\n      showAliasesInList: state.inspections[inspectionId].sharedState.showAliasesInList,\n      locale: state.app.locale,\n      myPermissions: state.app.myPermissions,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(ListView));\n","export default __webpack_public_path__ + \"static/media/delete-dustbin.8c1d9e0c.svg\";","import React, { Component } from 'react';\nimport { TextField, InputAdornment, IconButton } from '@material-ui/core';\nimport { withStyles, MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport ClearIcon from '../../../../assets/icons/clear.svg';\nimport OutlinedSelection from '../../../../components/OutlinedSelection';\nimport { setSaveFlag } from '../../../../redux/actions';\nimport { canEditParameterView } from '../../../../utils/permissions';\n\nconst styles = () => ({\n  header: {\n    fontSize: '1.8rem',\n    fontWeight: 'bold',\n    marginBottom: 30,\n  },\n  input: {\n    height: 37,\n    fontSize: '1.4rem',\n  },\n  label: {\n    fontSize: '1.4rem',\n    transform: 'translate(14px, 11px) scale(1)',\n  },\n});\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n    htmlFontSize: 10,\n  },\n});\n\nclass OverlayPropertyList extends Component {\n  async componentDidMount() {\n    const { configuration, proxy } = this.props;\n    if (configuration.idNameMappings.size === 0) {\n      configuration.setIdNameMappings(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n  }\n\n  onChange = (changedValue) => {\n    this.props.setSaveFlag(true);\n    this.props.onChange(changedValue);\n  };\n\n  renderTextField = ({ name, id, disabled }) => {\n    const { currentOverlay, classes } = this.props;\n\n    return (\n      <TextField\n        label={name}\n        style={{ width: '100%' }}\n        id={id}\n        type=\"text\"\n        variant=\"outlined\"\n        disabled={disabled || !currentOverlay}\n        InputProps={{ classes: { input: classes.input } }}\n        InputLabelProps={{ classes: { root: classes.label } }}\n        value={(currentOverlay && currentOverlay[id]) || ''}\n        onChange={(e) => this.onChange({ [id]: e.target.value })}\n      />\n    );\n  };\n\n  renderNumberField = ({ name, id, min, max, disabled }) => {\n    const { currentOverlay, classes } = this.props;\n\n    const value = (currentOverlay && currentOverlay[id]) || '';\n    const trimToMinMax = (min, max, value) => {\n      let valueNumber = Number(value);\n      if (valueNumber > max) {\n        valueNumber = max;\n      }\n      if (valueNumber < min) {\n        valueNumber = min;\n      }\n\n      return valueNumber;\n    };\n    return (\n      <TextField\n        label={name}\n        style={{ width: '100%' }}\n        id={id}\n        type=\"number\"\n        variant=\"outlined\"\n        disabled={disabled || !currentOverlay}\n        InputProps={{\n          classes: { input: classes.input },\n          inputProps: { min, max },\n        }}\n        InputLabelProps={{ classes: { root: classes.label } }}\n        value={value}\n        onChange={(e) => this.onChange({ [id]: trimToMinMax(min, max, e.target.value) })}\n      />\n    );\n  };\n\n  renderSelection = ({ name, id, options, disabled }) => {\n    const { currentOverlay } = this.props;\n\n    return (\n      <OutlinedSelection\n        selectedValue={currentOverlay && currentOverlay[id]}\n        values={options}\n        onSelectionChanged={this.onChange}\n        name={name}\n        id={id}\n        disabled={disabled || !currentOverlay}\n      />\n    );\n  };\n\n  renderObjectSelector = ({ name, id, disabled }) => {\n    const { currentOverlay, classes, inspectionId, configuration } = this.props;\n\n    let value =\n      (currentOverlay &&\n        currentOverlay[id] &&\n        configuration.getValueNameForId(inspectionId, currentOverlay[id])) ||\n      '';\n\n    return (\n      <TextField\n        label={name}\n        style={{ width: '100%' }}\n        id={id}\n        type=\"text\"\n        variant=\"outlined\"\n        disabled={disabled || !currentOverlay}\n        InputProps={{\n          classes: { input: classes.input },\n          endAdornment: (\n            <InputAdornment position=\"end\">\n              <IconButton\n                edge=\"end\"\n                aria-label=\"clear\"\n                onClick={() => this.onChange({ [id]: '' })}\n                title={id}\n              >\n                <img src={ClearIcon} alt=\"x\" />\n              </IconButton>\n            </InputAdornment>\n          ),\n        }}\n        InputLabelProps={{ classes: { root: classes.label } }}\n        value={value}\n        onFocus={() => this.props.openSelection(name, id)}\n      />\n    );\n  };\n\n  render() {\n    const { classes, imageDimensions, myPermissions } = this.props;\n    const imageWidth = imageDimensions?.width;\n    const imageHeight = imageDimensions?.height;\n\n    const minWidth = Number(-imageWidth * 2);\n    const maxWidth = Number(imageWidth * 2);\n\n    const minHeight = Number(-imageHeight * 2);\n    const maxHeight = Number(imageHeight * 2);\n\n    const canEdit = canEditParameterView(myPermissions);\n    return (\n      <div className=\"parameter-view-overlay-overlaypropertylist\">\n        <MuiThemeProvider theme={theme}>\n          <label className={classes.header}>Overlay parameters</label>\n          {this.renderTextField({ name: 'Label', id: 'label', disabled: !canEdit })}\n\n          {this.renderNumberField({\n            name: 'X',\n            id: 'x',\n            min: minWidth,\n            max: maxWidth,\n            disabled: !canEdit,\n          })}\n          {this.renderObjectSelector({ name: 'X Variable', id: 'xVariable', disabled: !canEdit })}\n\n          {this.renderNumberField({\n            name: 'Offset Left',\n            id: 'offsetLeft',\n            min: minWidth,\n            max: maxWidth,\n            disabled: !canEdit,\n          })}\n          {this.renderObjectSelector({\n            name: 'Offset Left Variable',\n            id: 'offsetLeftVariable',\n            disabled: !canEdit,\n          })}\n\n          {this.renderNumberField({\n            name: 'Y',\n            id: 'y',\n            min: minHeight,\n            max: maxHeight,\n            disabled: !canEdit,\n          })}\n          {this.renderObjectSelector({ name: 'Y Variable', id: 'yVariable', disabled: !canEdit })}\n\n          {this.renderNumberField({\n            name: 'Offset Top',\n            id: 'offsetTop',\n            min: minHeight,\n            max: maxHeight,\n            disabled: !canEdit,\n          })}\n          {this.renderObjectSelector({\n            name: 'Offset Top Variable',\n            id: 'offsetTopVariable',\n            disabled: !canEdit,\n          })}\n\n          {this.renderNumberField({\n            name: 'Width',\n            id: 'width',\n            min: minWidth,\n            max: maxWidth,\n            disabled: !canEdit,\n          })}\n          {this.renderObjectSelector({\n            name: 'Width Variable',\n            id: 'widthVariable',\n            disabled: !canEdit,\n          })}\n\n          {this.renderNumberField({\n            name: 'Height',\n            id: 'height',\n            min: minHeight,\n            max: maxHeight,\n            disabled: !canEdit,\n          })}\n          {this.renderObjectSelector({\n            name: 'Height Variable',\n            id: 'heightVariable',\n            disabled: !canEdit,\n          })}\n          {this.renderTextField({ name: 'Color', id: 'color', disabled: !canEdit })}\n          {this.renderObjectSelector({\n            name: 'Color Variable',\n            id: 'colorVariable',\n            disabled: !canEdit,\n          })}\n\n          {this.renderSelection({\n            name: 'Line Style',\n            id: 'lineStyle',\n            options: ['solid', 'dotted', 'dashed'],\n            disabled: !canEdit,\n          })}\n        </MuiThemeProvider>\n      </div>\n    );\n  }\n}\n\nconst propTypes = {\n  overlay: PropTypes.object,\n  onChange: PropTypes.func.isRequired,\n};\n\nOverlayPropertyList.propTypes = propTypes;\n\nconst mapStateToProps = (state) => {\n  return {\n    proxy: state.app.proxy,\n    configuration: state.app.configuration,\n    myPermissions: state.app.myPermissions,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  setSaveFlag: (hasChanges) => dispatch(setSaveFlag(hasChanges)),\n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(withStyles(styles)(OverlayPropertyList));\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport Dialog from '../../../../components/Dialog';\nimport ObjectSelector from '../../../../components/ObjectSelector';\n\nclass VariableSelection extends Component {\n  setSelection = (selectedId) => {\n    this.props.onClose(selectedId);\n  };\n\n  async componentDidMount() {\n    const { configuration, proxy } = this.props;\n    if (configuration.objectSelectorItems.size === 0) {\n      configuration.setObjectSelectorItems(proxy.protobuf).then(() => {\n        proxy.dispatchCurrentConfiguration(configuration);\n      });\n    }\n  }\n\n  render() {\n    const { open, title, configuration, inspectionId } = this.props;\n\n    if (!configuration || !inspectionId) {\n      return;\n    }\n\n    const items = configuration.getObjectSelectorItemsForInspection(inspectionId);\n    if (!items) {\n      return <div></div>;\n    }\n\n    let tree = items.tree;\n    tree = configuration.filterArrayValuesFromTree(tree);\n\n    const filterIgnore = [];\n    const name = configuration.getInspectionName(inspectionId);\n\n    filterIgnore.push(`Inspections.${name}`);\n    filterIgnore.push(`Inspections${name}`);\n    filterIgnore.push(name);\n\n    return (\n      <Dialog isInView isPopup title={title} onClose={() => this.props.onClose()} open={open}>\n        <div className=\"objectselector-in-dialog-wrapper\">\n          <ObjectSelector\n            singleSelect\n            data={tree}\n            onChange={(selectedId) => this.setSelection(selectedId)}\n            filterIgnore={filterIgnore}\n          />\n        </div>\n      </Dialog>\n    );\n  }\n}\n\nVariableSelection.defaultProps = {\n  open: false,\n  title: '',\n};\n\nVariableSelection.propTypes = {\n  open: PropTypes.bool.isRequired,\n  onClose: PropTypes.func,\n  title: PropTypes.string,\n};\n\nconst mapStateToProps = (state) => {\n  try {\n    return {\n      proxy: state.app.proxy,\n      configuration: state.app.configuration,\n    };\n  } catch (error) {\n    return {};\n  }\n};\n\nexport default connect(mapStateToProps)(VariableSelection);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport iconDeleteDustbin from '../../../../assets/icons/delete-dustbin.svg';\nimport iconPlus from '../../../../assets/icons/plus.svg';\nimport ActionBar from '../../../../components/ActionBar/index';\nimport OverlayList from '../../../../components/OverlayList';\nimport { initViewState, setSharedStateData, setSaveFlag } from '../../../../redux/actions';\nimport ActionBarType from '../../../../types/ActionBarType';\nimport { canEditParameterView } from '../../../../utils/permissions';\nimport { updateOverlayList } from '../../../../utils/reduxHelper';\nimport OverlayPropertyList from './OverlayPropertyList';\nimport VariableSelection from './VariableSelection';\n\nclass Overlay extends Component {\n  state = {\n    currentOverlay: undefined,\n    isObjectSelectorOpen: false,\n    variableName: 'Variables',\n    variableId: '',\n    selectedVariables: [],\n  };\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.overlays && this.state.currentOverlay) {\n      const currentOverlay = nextProps.overlays.filter(\n        (item) => item.id === this.state.currentOverlay.id,\n      )[0];\n      this.setState({\n        currentOverlay,\n      });\n    }\n\n    if (nextProps.overlays) {\n      this.setInitialOverlay(nextProps.overlays);\n    }\n  }\n\n  setInitialOverlay = (overlays) => {\n    if (!this.state.currentOverlay && overlays && overlays.length > 0) {\n      this.setState({\n        currentOverlay: overlays[0],\n      });\n    }\n  };\n\n  setAllOverlaysActive = (isActive) => {\n    try {\n      const updatedOverlays = this.props.overlays.map((overlay) => ({\n        ...overlay,\n        isActive,\n      }));\n      this.props.setSharedStateData('overlays', updatedOverlays);\n      this.props.setSaveFlag(true);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  addNewOverlay = () => {\n    const { overlays } = this.props;\n\n    const newOverlay = {\n      color: '#ebfc02',\n      height: 100,\n      id: Math.floor(Math.random() * 10000),\n      isActive: true,\n      label: 'Overlay',\n      lineStyle: 'solid',\n      width: 100,\n      x: 10,\n      y: 20,\n      offsetLeft: null,\n      offsetTop: null,\n    };\n    try {\n      this.props.setSharedStateData('overlays', [...overlays, newOverlay]);\n      this.setState({\n        currentOverlay: newOverlay,\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  deleteCurrentOverlay = () => {\n    if (!this.state.currentOverlay) {\n      return;\n    }\n\n    try {\n      const { overlays } = this.props;\n      const updatedOverlays = overlays.filter(\n        (overlay) => overlay.id !== this.state.currentOverlay.id,\n      );\n      this.props.setSharedStateData('overlays', updatedOverlays);\n\n      const newCurrentOverlay = this.getNeighborOverlayId(this.state.currentOverlay.id, overlays);\n      this.setState({\n        currentOverlay: overlays.filter((item) => item.id === newCurrentOverlay)[0],\n      });\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  getNeighborOverlayId = (id, overlays) => {\n    for (let i = 0; i < overlays.length; i++) {\n      if (overlays[i]['id'] === id) {\n        if (overlays[i - 1]) {\n          return overlays[i - 1]['id'];\n        } else if (overlays[i + 1]) {\n          return overlays[i + 1]['id'];\n        }\n      }\n    }\n    return -1;\n  };\n\n  updateCurrentOverlay = (currentOverlay) => {\n    this.setState({\n      currentOverlay: currentOverlay,\n    });\n  };\n\n  updateOverlayList = (updatedOverlayList) => {\n    this.props.setSharedStateData('overlays', updatedOverlayList);\n    this.props.setSaveFlag(true);\n  };\n\n  renderPlaceholder = () => {\n    return (\n      <div className=\"parameter-view-overlay-placeholder\">\n        Please select a source for this parameter view.\n      </div>\n    );\n  };\n\n  setVariableSelection = (selectedVariable) => {\n    if (!selectedVariable) {\n      this.setState({ isObjectSelectorOpen: false });\n      return;\n    }\n    const { overlays } = this.props;\n    const { currentOverlay, variableId, selectedVariables } = this.state;\n    const updatedOverlay = {\n      ...currentOverlay,\n      [variableId]: selectedVariable,\n    };\n\n    if (selectedVariable && !selectedVariables.includes(selectedVariable)) {\n      selectedVariables.push(selectedVariable);\n    }\n\n    const updatedOverlayList = updateOverlayList(updatedOverlay, overlays);\n    this.props.setSharedStateData('overlays', updatedOverlayList);\n    this.setState({ isObjectSelectorOpen: false, selectedVariables });\n    this.props.setSaveFlag(true);\n  };\n\n  saveChangeToOverlays = (changedValue, currentOverlay) => {\n    const { overlays } = this.props;\n    const updatedOverlay = { ...currentOverlay, ...changedValue };\n    const updatedOverlayList = updateOverlayList(updatedOverlay, overlays);\n    this.props.setSharedStateData('overlays', updatedOverlayList);\n  };\n\n  render() {\n    const { overlayActions, overlays, inspectionId, id: viewId, imageDimensions } = this.props;\n    const { currentOverlay } = this.state;\n\n    if (!overlays) return this.renderPlaceholder();\n    return (\n      <div className=\"parameter-view-overlay-wrapper\">\n        <div className=\"parameter-view-overlay-table-wrapper\">\n          <OverlayList\n            overlays={overlays}\n            currentOverlay={currentOverlay}\n            updateCurrentOverlay={this.updateCurrentOverlay}\n            updateOverlayList={this.updateOverlayList}\n            canSelectRow={true}\n            onSelectAll={(checked) => this.setAllOverlaysActive(checked)}\n          />\n          <ActionBar actions={overlayActions(this)} />\n        </div>\n        <OverlayPropertyList\n          inspectionId={inspectionId}\n          viewId={viewId}\n          currentOverlay={currentOverlay}\n          imageDimensions={imageDimensions}\n          onChange={(value) => this.saveChangeToOverlays(value, currentOverlay)}\n          openSelection={(variableName, variableId) => {\n            this.setState({\n              isObjectSelectorOpen: true,\n              variableName,\n              variableId,\n            });\n          }}\n        />\n        <VariableSelection\n          title={this.state.variableName}\n          onClose={(selectedId) => this.setVariableSelection(selectedId)}\n          open={this.state.isObjectSelectorOpen}\n          inspectionId={inspectionId}\n        />\n      </div>\n    );\n  }\n}\n\n/* eslint-disable  */\nconst defaultPropTypes = {\n  overlayActions: (overlay) => {\n    const actions = [];\n    const canEdit = canEditParameterView(overlay.props.myPermissions);\n\n    if (canEdit) {\n      actions.push({\n        intlId: 'parameterview.overlay.add',\n        iconUrl: iconPlus,\n        onClickHandler: () => {\n          overlay.props.setSaveFlag(true);\n          overlay.addNewOverlay();\n        },\n      });\n    }\n\n    if (canEdit) {\n      actions.push({\n        intlId: 'parameterview.overlay.delete',\n        iconUrl: iconDeleteDustbin,\n        onClickHandler: () => {\n          overlay.props.setSaveFlag(true);\n          overlay.deleteCurrentOverlay();\n        },\n      });\n    }\n\n    return actions;\n  },\n};\n\nconst propTypes = {\n  overlays: PropTypes.array,\n  overlayActions: ActionBarType,\n  currentOverlay: PropTypes.object, //TODO: Add overlay type\n};\n\n/* eslint-enable */\n\nOverlay.propTypes = propTypes;\nOverlay.defaultProps = defaultPropTypes;\n\nconst mapStateToProps = (state, ownProps) => {\n  try {\n    const { inspectionId } = ownProps;\n    const editingViewId = state.inspections[inspectionId].sharedState.editingViewId;\n    const overlays = state.inspections[inspectionId].sharedState.views[editingViewId].overlays;\n    const imageDimensions = state.inspections[inspectionId].views[editingViewId].imageDimensions;\n    const myPermissions = state.app.myPermissions;\n\n    return { overlays, proxy: state.app.proxy, imageDimensions, myPermissions };\n  } catch (error) {\n    return {};\n  }\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  const { inspectionId, id: viewId } = ownProps;\n  dispatch(initViewState(inspectionId, viewId, {}, {}));\n  return {\n    setSharedStateData: (key, data) => dispatch(setSharedStateData(inspectionId, key, data)),\n    setSaveFlag: (hasChanges) => dispatch(setSaveFlag(hasChanges)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Overlay);\nexport { defaultPropTypes, propTypes };\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\n\nimport ActionBar from '../../components/ActionBar';\nimport Container from '../../components/layout/Container';\nimport ActionBarType from '../../types/ActionBarType';\nimport { canReadParameterView, canEditParameterView } from '../../utils/permissions';\nimport Overlay from './components/Overlay';\n\nclass ParameterView extends Component {\n  doSomething = () => void 0; // Implement some more logic\n\n  render() {\n    const { parameter, myPermissions } = this.props;\n\n    if (canReadParameterView(myPermissions) || canEditParameterView(myPermissions)) {\n      return (\n        <div className=\"parameter-view-wrapper\">\n          <Container>\n            {parameter.component || (\n              <Overlay inspectionId={this.props.inspectionId} id={this.props.id} />\n            )}\n          </Container>\n          <ActionBar isViewAction actions={[]} />\n        </div>\n      );\n    }\n    return <div></div>;\n  }\n}\n\nParameterView.defaultProps = {};\n\nParameterView.propTypes = {\n  viewActions: ActionBarType,\n  parameter: PropTypes.arrayOf(\n    PropTypes.shape({\n      component: PropTypes.element,\n    }),\n  ).isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  parameter: state.toolSet.parameter,\n  myPermissions: state.app.myPermissions,\n});\n\nexport default injectIntl(connect(mapStateToProps)(ParameterView));\n","export default __webpack_public_path__ + \"static/media/before.53297893.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ScrollContainer = ({ children }) => (\n  <div className=\"overflow-scroll absolute w-100 h-100 pa2 top-0 left-0\">{children}</div>\n);\n\nScrollContainer.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default ScrollContainer;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport shortId from 'shortid';\n\nimport iconBack from '../../assets/icons/back.svg';\nimport iconBefore from '../../assets/icons/before.svg';\nimport iconClose from '../../assets/icons/close.svg';\nimport iconSave from '../../assets/icons/save.svg';\nimport ActionBar from '../../components/ActionBar';\nimport ScrollContainer from '../../components/layout/ScrollContainer';\nimport Heading from '../../components/typo/Heading';\n\nclass RecipeView extends Component {\n  renderConfiguration = (configuration) => (\n    <div className=\"flex\">\n      <span className=\"sans-serif mr2 basis-100\">\n        <FormattedMessage id={configuration.intlId} />:\n      </span>\n      <span className=\"basis-100\">\n        <select className=\"bn w-100 tc\">\n          {configuration.options.map((option) => (\n            <option key={option.title} value={option.value}>\n              {option.title}\n            </option>\n          ))}\n        </select>\n      </span>\n    </div>\n  );\n\n  render() {\n    const { configurations, viewActions } = this.props;\n    return (\n      <div>\n        <ScrollContainer>\n          <div className=\"pa3 flex items-center\">\n            <div className=\"basis-100\">\n              <div>\n                <Heading type=\"h3\" intlId=\"name\" />\n                <input\n                  type=\"text\"\n                  className=\"w-100 bg-near-white mb3 ba b--near-white outline-0 pa1\"\n                />\n              </div>\n              <div>\n                <Heading type=\"h3\" intlId=\"comment\" />\n                <textarea className=\"w-100 h4 bg-near-white ba b--near-white outline-0 pa1\" />\n              </div>\n            </div>\n            <div className=\"basis-100 pa4 pt0 self-baseline\">\n              <Heading type=\"h3\" intlId=\"configuration\" />\n              {configurations.map((configuration) => (\n                <div className=\"bb b--near-white pa1 mb1\" key={shortId.generate()}>\n                  {this.renderConfiguration(configuration)}\n                </div>\n              ))}\n            </div>\n          </div>\n        </ScrollContainer>\n        <ActionBar isViewAction actions={viewActions} />\n      </div>\n    );\n  }\n}\n\nRecipeView.propTypes = {\n  configurations: PropTypes.arrayOf(\n    PropTypes.shape({\n      intlId: PropTypes.string,\n      options: PropTypes.arrayOf(\n        PropTypes.shape({\n          title: PropTypes.string,\n          value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n        }),\n      ),\n    }),\n  ).isRequired,\n  viewActions: PropTypes.arrayOf(\n    PropTypes.shape({\n      intlId: PropTypes.string,\n    }),\n  ),\n};\n\nRecipeView.defaultProps = {\n  viewActions: [\n    { intlId: 'back', iconUrl: iconBack },\n    { intlId: 'before', iconUrl: iconBefore },\n    { intlId: 'save', iconUrl: iconSave },\n    { intlId: 'cancel', iconUrl: iconClose },\n  ],\n};\n\nexport default injectIntl(RecipeView);\n","export default __webpack_public_path__ + \"static/media/archive.b8680473.svg\";","export default __webpack_public_path__ + \"static/media/arrow-top-right.4113715e.svg\";","export default __webpack_public_path__ + \"static/media/collapse-all.5ae8f8d4.svg\";","export default __webpack_public_path__ + \"static/media/copy.1e95e110.svg\";","export default __webpack_public_path__ + \"static/media/cut.bf9e7e56.svg\";","export default __webpack_public_path__ + \"static/media/cylindrical-wrap.b75ac8f0.svg\";","export default __webpack_public_path__ + \"static/media/expand-all.9aefbbb5.svg\";","export default __webpack_public_path__ + \"static/media/external.36cd89bf.svg\";","export default __webpack_public_path__ + \"static/media/group.00737002.svg\";","export default __webpack_public_path__ + \"static/media/load-image.c627eeb8.svg\";","export default __webpack_public_path__ + \"static/media/loop.d385a57c.svg\";","export default __webpack_public_path__ + \"static/media/palette.ebdcc61c.svg\";","export default __webpack_public_path__ + \"static/media/paste.767ba7ae.svg\";","export default __webpack_public_path__ + \"static/media/perspective.b5973ac2.svg\";","export default __webpack_public_path__ + \"static/media/polar-transformation.bca0f07a.svg\";","export default __webpack_public_path__ + \"static/media/resize.34a01621.svg\";","export default __webpack_public_path__ + \"static/media/shift.788a6731.svg\";","export default __webpack_public_path__ + \"static/media/statistics.4012e027.svg\";","export default __webpack_public_path__ + \"static/media/table-analyzer.edbb56e2.svg\";","export default __webpack_public_path__ + \"static/media/table.8752185b.svg\";","export default __webpack_public_path__ + \"static/media/transformation.6c296033.svg\";","export default __webpack_public_path__ + \"static/media/window.4e0082b0.svg\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\nimport shortId from 'shortid';\n\nimport './style.scss';\nimport IconButton from '../../../../components/buttons/IconButton';\nimport { ToggleButton } from '../../../../components/buttons/ToggleButton';\nimport { TOGGLE_BUTTON, SEPARATOR } from '../../../../types/ActionBarType';\n\nconst ToolSetBar = ({ tools, intl }) => (\n  <div className=\"toolset-bar-wrapper\">\n    {tools &&\n      tools.map((tool) => {\n        if (tool && tool.type === SEPARATOR) {\n          return (\n            <div className=\"toolset-bar-separator\" key={`separator_${shortId.generate()}`}>\n              <div className=\"separator\"></div>\n            </div>\n          );\n        }\n        if (tool && tool.type === TOGGLE_BUTTON) {\n          return (\n            <ToggleButton\n              key={tool.id}\n              id={tool.id}\n              intl={intl}\n              intlId={tool.intlId}\n              iconUrl={tool.iconUrl}\n              onClickHandler={tool.onClickHandler}\n              intlIdAlternative={tool.intlIdAlternative}\n              iconUrlAlternative={tool.iconUrlAlternative}\n              onClickHandlerAlternative={tool.onClickHandlerAlternative}\n              showAlternative={tool.showAlternative}\n            />\n          );\n        }\n\n        return (\n          <IconButton\n            key={tool.intlId}\n            tooltip={intl.messages[`${tool.intlId}`]}\n            onClick={() => {\n              tool.onClickHandler();\n            }}\n            iconUrl={tool.iconUrl}\n          />\n        );\n      })}\n  </div>\n);\n\nToolSetBar.defaultProps = {\n  isToolAction: false,\n};\n\nToolSetBar.propTypes = {\n  tools: PropTypes.arrayOf(\n    PropTypes.shape({\n      intlId: PropTypes.string,\n      onClickHandler: PropTypes.func,\n      iconUrl: PropTypes.string,\n    }),\n  ).isRequired,\n  isToolAction: PropTypes.bool,\n};\n\nexport default injectIntl(ToolSetBar);\n","export default __webpack_public_path__ + \"static/media/down.17f143ff.svg\";","export default __webpack_public_path__ + \"static/media/take-over.e8760b3a.svg\";","export default __webpack_public_path__ + \"static/media/up.32f62e1a.svg\";","/* eslint-disable @typescript-eslint/no-empty-function */\nimport React, { Component } from 'react';\nimport { SortableContainer, SortableElement, arrayMove } from 'react-sortable-hoc';\n\nimport './style.scss';\nimport iconDeleteDustbin from '../../../../assets/icons/delete-dustbin.svg';\nimport iconDown from '../../../../assets/icons/down.svg';\nimport iconTakeOver from '../../../../assets/icons/take-over.svg';\nimport iconUp from '../../../../assets/icons/up.svg';\n\nimport ActionBar from '../../../../components/ActionBar';\nimport ActionBarType from '../../../../types/ActionBarType';\nimport AvailableFilterListItemsType from './types/AvailableFilterListType';\n\nconst SortableItem = SortableElement(({ value }) => (\n  <li className=\"filter-list-row\" key={value}>\n    <span className=\"filter-list-row-item\">{value}</span>\n  </li>\n));\n\nconst SortableList = SortableContainer(({ items }) => (\n  <ul>\n    {items.map((item, index) => (\n      <SortableItem key={item.value} index={index} value={item.value} />\n    ))}\n  </ul>\n));\n\nclass Filter extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      CurrentFilterListItems: this.props.CurrentFilterListItems,\n    };\n  }\n  onSortEnd = ({ oldIndex, newIndex }) => {\n    this.setState({\n      CurrentFilterListItems: arrayMove(this.state.CurrentFilterListItems, oldIndex, newIndex),\n    });\n  };\n  render() {\n    const { AvailableFilterListItems, AvailableFilterListActions, CurrentFilterListActions } =\n      this.props;\n    return (\n      <div className=\"parameter-view-filter-wrapper\">\n        <div className=\"available-filters filter-list\">\n          <div className=\"filter-header\">Available Filters</div>\n          <ul className=\"filter-content\">\n            {AvailableFilterListItems.map((item) => (\n              <li className=\"filter-list-row\" key={item.value}>\n                <span className=\"filter-list-row-item\">{item.value}</span>\n              </li>\n            ))}\n          </ul>\n          <div className=\"filter-list-actions\">\n            <ActionBar actions={AvailableFilterListActions} />\n          </div>\n        </div>\n\n        <div className=\"current-filters filter-list\">\n          <div className=\"filter-header\">Available Filters</div>\n          <ul className=\"filter-content\">\n            <SortableList\n              helperClass=\"filter-list-row-item-on-drag\"\n              items={this.state.CurrentFilterListItems}\n              onSortEnd={this.onSortEnd}\n            />\n          </ul>\n          <div className=\"filter-list-actions\">\n            <ActionBar actions={CurrentFilterListActions} />\n          </div>\n        </div>\n\n        <div className=\"property-container\">\n          <div className=\"filter-header\">Properties</div>\n        </div>\n      </div>\n    );\n  }\n}\n\nFilter.defaultProps = {\n  AvailableFilterListItems: [\n    { id: '', value: 'Closing Filter', onClick: () => {} },\n    { id: '', value: 'Custom Filter', onClick: () => {} },\n    { id: '', value: 'Custom2 Filter', onClick: () => {} },\n    { id: '', value: 'Dilation Filter', onClick: () => {} },\n    { id: '', value: 'EdgeDetect Filter', onClick: () => {} },\n    { id: '', value: 'EdgeDetect2 Filter', onClick: () => {} },\n    { id: '', value: 'Erosion Filter', onClick: () => {} },\n    { id: '', value: 'HorizonEdge Filter', onClick: () => {} },\n    { id: '', value: 'LaplacianEdge Filter', onClick: () => {} },\n    { id: '', value: 'LaplacianEdge2 Filter', onClick: () => {} },\n    { id: '', value: 'MAX MIN Filter', onClick: () => {} },\n    { id: '', value: 'Opening Filter', onClick: () => {} },\n    { id: '', value: 'Ranking Filter', onClick: () => {} },\n    { id: '', value: 'Sharpen Filter', onClick: () => {} },\n    { id: '', value: 'Sharpen2 Filter', onClick: () => {} },\n    { id: '', value: 'Skeleton Filter', onClick: () => {} },\n    { id: '', value: 'Smooth Filter', onClick: () => {} },\n    { id: '', value: 'Thickening Filter', onClick: () => {} },\n    { id: '', value: 'Thinning Filter', onClick: () => {} },\n    { id: '', value: 'VertEdge Filter', onClick: () => {} },\n    { id: '', value: 'Watershed Filter', onClick: () => {} },\n  ],\n\n  AvailableFilterListActions: [\n    { intlId: 'before', iconUrl: iconTakeOver, onClickHandler: () => {} },\n  ],\n\n  CurrentFilterListActions: [\n    { intlId: 'down', iconUrl: iconDown, onClickHandler: () => {} },\n    { intlId: 'up', iconUrl: iconUp, onClickHandler: () => {} },\n    { intlId: 'delete', iconUrl: iconDeleteDustbin, onClickHandler: () => {} },\n  ],\n\n  CurrentFilterListItems: [\n    { id: '', value: 'Custom Filter', onClick: () => {} },\n    { id: '', value: 'Dilation Filter', onClick: () => {} },\n    { id: '', value: 'Closing Filter', onClick: () => {} },\n  ],\n};\n\nFilter.propTypes = {\n  AvailableFilterListItems: AvailableFilterListItemsType,\n  AvailableFilterListActions: ActionBarType,\n  CurrentFilterListItems: AvailableFilterListItemsType,\n  CurrentFilterListActions: ActionBarType,\n};\n\nexport default Filter;\n","import PropTypes from 'prop-types';\n\nconst AvailableFilterListItemsType = PropTypes.arrayOf(\n  PropTypes.shape({\n    id: PropTypes.string,\n    value: PropTypes.string,\n    onClick: PropTypes.func,\n  }),\n);\n\nexport default AvailableFilterListItemsType;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { setParameter, setViewSet } from '../../../redux/actions';\nimport Filter from '../../ParameterView/components/Filter';\nimport ViewSetFactory from '../../ViewSetFactory';\n\nclass ToolSetup extends Component {\n  componentDidUpdate(prevProps) {\n    if (prevProps.node !== this.props.node) {\n      this.setup(this.props.node);\n    }\n  }\n\n  setup = (node) => {\n    switch (node.name) {\n      case 'Equation':\n        this.props.setupParameterView({\n          component: <Filter />,\n        });\n\n        break;\n      default:\n        break;\n    }\n  };\n\n  viewSetFactory = new ViewSetFactory();\n\n  render() {\n    return null;\n  }\n}\n\nToolSetup.defaultProps = {\n  node: undefined,\n};\n\nToolSetup.propTypes = {\n  currentViewSet: PropTypes.shape({\n    id: PropTypes.string,\n    viewSet: PropTypes.shape({ id: PropTypes.string }),\n  }).isRequired,\n  setupParameterView: PropTypes.func.isRequired,\n  setViewSet: PropTypes.func.isRequired,\n  node: PropTypes.shape({\n    uniqueReferenceID: PropTypes.string,\n  }),\n};\n\nconst mapStateToProps = (state) => ({\n  currentViewSet: state.viewSet.currentViewSet,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setupParameterView: (parameter) => {\n    dispatch(setParameter(parameter));\n  },\n  setViewSet: (viewSet) => {\n    dispatch(setViewSet(viewSet));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToolSetup);\n","const TreebeardStyle = {\n  tree: {\n    base: {\n      whiteSpace: 'nowrap',\n      listStyle: 'none',\n      backgroundColor: 'transparent',\n      margin: 0,\n      padding: 0,\n      color: 'black',\n      fontFamily: 'lucida grande ,tahoma,verdana,arial,sans-serif',\n      fontSize: '14px',\n    },\n    node: {\n      base: {\n        position: 'relative',\n      },\n      link: {\n        cursor: 'pointer',\n        position: 'relative',\n        padding: '0px 5px',\n        display: 'block',\n      },\n      activeLink: {\n        background: 'rgb(135, 135, 135)',\n      },\n      toggle: {\n        base: {\n          position: 'relative',\n          display: 'inline-block',\n          verticalAlign: 'top',\n          marginLeft: '-5px',\n          height: '24px',\n          width: '24px',\n        },\n        wrapper: {\n          position: 'absolute',\n          top: '50%',\n          left: '50%',\n          margin: '-7px 0 0 -7px',\n          height: '10px',\n        },\n        height: 10,\n        width: 10,\n        arrow: {\n          fill: '#9DA5AB',\n          strokeWidth: 0,\n        },\n      },\n      header: {\n        base: {\n          display: 'inline-block',\n          verticalAlign: 'top',\n          color: 'black',\n        },\n        connector: {\n          width: '2px',\n          height: '12px',\n          borderLeft: 'solid 2px black',\n          borderBottom: 'solid 2px black',\n          position: 'absolute',\n          top: '0px',\n          left: '-21px',\n        },\n        title: {\n          lineHeight: '24px',\n          verticalAlign: 'middle',\n        },\n      },\n      subtree: {\n        listStyle: 'none',\n        paddingLeft: '10px',\n      },\n      loading: {\n        color: '#E2C089',\n      },\n    },\n  },\n};\n\nexport default TreebeardStyle;\n","import { useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport { Treebeard } from 'react-treebeard';\n\nimport iconArchive from '../../assets/icons/archive.svg';\nimport iconLinear from '../../assets/icons/arrow-top-right.svg';\nimport iconCollapse from '../../assets/icons/collapse-all.svg';\nimport iconCopy from '../../assets/icons/copy.svg';\nimport iconCut from '../../assets/icons/cut.svg';\nimport iconCylindricalWrap from '../../assets/icons/cylindrical-wrap.svg';\nimport iconDelete from '../../assets/icons/delete.svg';\nimport iconExpand from '../../assets/icons/expand-all.svg';\nimport iconExternal from '../../assets/icons/external.svg';\nimport iconGroup from '../../assets/icons/group.svg';\nimport iconImage from '../../assets/icons/image.svg';\nimport iconLoadImage from '../../assets/icons/load-image.svg';\nimport iconLoop from '../../assets/icons/loop.svg';\nimport iconOne from '../../assets/icons/one.svg';\nimport iconColor from '../../assets/icons/palette.svg';\nimport iconPaste from '../../assets/icons/paste.svg';\nimport iconPerspective from '../../assets/icons/perspective.svg';\nimport iconPolarTransformation from '../../assets/icons/polar-transformation.svg';\nimport iconResize from '../../assets/icons/resize.svg';\nimport iconShift from '../../assets/icons/shift.svg';\nimport iconStatistics from '../../assets/icons/statistics.svg';\nimport iconTableAnalyzer from '../../assets/icons/table-analyzer.svg';\nimport iconTable from '../../assets/icons/table.svg';\nimport iconTransformation from '../../assets/icons/transformation.svg';\n// import iconUndoDisabled from '../../assets/icons/undo-disabled.svg';\n\n// import iconUndo from '../../assets/icons/undo.svg';\nimport iconWindow from '../../assets/icons/window.svg';\nimport ActionBar from '../../components/ActionBar';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport ProxyType from '../../components/Protobuf/ProxyType';\nimport Protobuf from '../../protobuf/Protobuf';\nimport { canReadToolSetView, canEditToolSetView } from '../../utils/permissions';\nimport ToolSetBar from './components/ToolSetBar';\nimport ToolSetup from './components/ToolSetup';\nimport TreebeardStyle from './components/TreebeardStyle';\n\nimport './style.scss';\n\nconst useStyles = makeStyles(() => ({\n  label: {\n    fontSize: '1.4rem',\n    transform: 'translate(10px, 12px) scale(1)',\n  },\n}));\n\nconst ToolsetView = ({ inspectionId }) => {\n  const proxy = useSelector((state) => state.app.proxy);\n  const configuration = useSelector((state) => state.app.configuration);\n  const myPermissions = useSelector((state) => state.app.myPermissions);\n  const [treeModel, setTreeModel] = useState([]);\n  const [filteredTreeModel, setFilteredTreeModel] = useState(undefined);\n  const [cursor, setCursor] = useState({});\n  const [lastActionsStack] = useState([]);\n  const [toolSetId, setToolSetId] = useState(0);\n  const [update, setUpdate] = useState(false);\n  const [openConfirmDelete, setOpenConfirmDelete] = useState(false);\n  const [filterText, setFilterText] = useState('');\n  const classes = useStyles();\n\n  useEffect(() => {\n    if (configuration.inspectionToolsetMappings.size === 0) {\n      configuration\n        .setInspectionIdToToolsetMappings(proxy.protobuf)\n        .then(() => proxy.dispatchCurrentConfiguration(configuration));\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    const treeDataRaw = configuration.getConfigTreeByInspectionId(inspectionId);\n    setToolSetId(treeDataRaw?.toolSetId);\n\n    const createTreeNodes = (node, loop) => {\n      const { name, isValid, position, objectID } = node;\n      if (node.children && node.children.length > 0) {\n        return {\n          name,\n          isValid,\n          position,\n          objectID,\n          toggled: false,\n          children: node.children.map(loop),\n        };\n      }\n      return { name, isValid, position };\n    };\n\n    const traverseTree = () => {\n      const loop = (node) => {\n        if (!node) {\n          return;\n        }\n        return createTreeNodes(node, loop);\n      };\n\n      return loop(treeDataRaw);\n    };\n\n    const tree = traverseTree();\n\n    if (!tree || !tree.children) {\n      return;\n    }\n\n    tree.children[0].active = true;\n    setCursor(tree.children[0]);\n\n    const treeModel = tree.children.sort(sortToolSet);\n    setTreeModel(treeModel);\n  }, [configuration, inspectionId]);\n\n  const sortToolSet = (a, b) => {\n    return a.position > b.position ? 1 : -1;\n  };\n\n  const onNodeClicked = (node, toggled) => {\n    treeModel.forEach((treeNode) => {\n      treeNode.active = false;\n    });\n\n    // eslint-disable-next-line\n    node.active = true;\n\n    if (node.children) {\n      // eslint-disable-next-line\n      node.toggled = toggled;\n    }\n\n    lastActionsStack.push({\n      type: 'select',\n      from: cursor.position,\n      to: node.position,\n    });\n\n    setCursor(node);\n    setUpdate(!update);\n  };\n\n  const setNext = () => {\n    const { position } = cursor;\n    treeModel.forEach((treeNode) => {\n      if (treeNode.position === position + 1) {\n        cursor.active = false;\n        treeNode.active = true;\n        setCursor(treeNode);\n      }\n    });\n  };\n\n  const deleteTool = async (objectId) => {\n    const { position } = cursor;\n    lastActionsStack.push({\n      type: 'delete',\n      tool: { ...cursor, active: false },\n    });\n\n    await proxy.deleteTool(inspectionId, objectId);\n    setTreeModel(treeModel.filter((treeNode) => treeNode.position !== position));\n    setNext();\n  };\n\n  const copyTool = async () => {\n    const { objectID } = cursor;\n    lastActionsStack.push({\n      type: 'copy',\n      tool: { ...cursor, active: false },\n    });\n\n    await proxy.copyTool(inspectionId, objectID);\n  };\n\n  const cutTool = async () => {\n    const { position, objectID } = cursor;\n    lastActionsStack.push({\n      type: 'cut',\n      tool: { ...cursor, active: false },\n    });\n\n    await proxy.cutTool(inspectionId, objectID);\n    setTreeModel(treeModel.filter((treeNode) => treeNode.position !== position));\n    setNext();\n  };\n\n  const pasteTool = async () => {\n    const { objectID } = cursor;\n    lastActionsStack.push({\n      type: 'paste',\n      tool: { ...cursor, active: false },\n    });\n\n    await proxy.pasteTool(inspectionId, objectID);\n    setUpdate(!update);\n  };\n\n  // TODO: undo can only be shown if all actions can really be undone\n  // const undoLastAction = () => {\n  //   if (lastActionsStack.length === 0) {\n  //     return;\n  //   }\n\n  //   const lastAction = lastActionsStack.pop();\n\n  //   switch (lastAction.type) {\n  //     case 'select':\n  //       treeModel.forEach((treeNode) => {\n  //         if (treeNode.position === lastAction.from) {\n  //           cursor.active = false;\n  //           treeNode.active = true;\n  //           setCursor(treeNode);\n  //         }\n  //       });\n  //       break;\n  //     case 'delete':\n  //       // treeModel.push(lastAction.tool);\n  //       // setTreeModel(treeModel.sort(sortToolSet));\n  //       // setPrevious();\n  //       break;\n  //     case 'add':\n  //       deleteTool(lastAction.toolId);\n  //       break;\n  //     default:\n  //   }\n  // };\n\n  const addTool = async (type) => {\n    const { position } = cursor;\n    const newToolId = await proxy.addTool(inspectionId, toolSetId, type, position);\n    lastActionsStack.push({\n      type: 'add',\n      position,\n      toolId: newToolId,\n    });\n  };\n\n  const expandTools = () => {\n    treeModel.forEach((treeNode) => {\n      treeNode.toggled = true;\n    });\n    setUpdate(!update);\n  };\n\n  const collapseTools = () => {\n    treeModel.forEach((treeNode) => {\n      treeNode.toggled = false;\n    });\n    setUpdate(!update);\n  };\n\n  const handleConfirmDeleteClose = (confirmed) => {\n    if (confirmed) {\n      deleteTool(cursor.objectID);\n    }\n    setOpenConfirmDelete(false);\n  };\n\n  const getViewActions = () => {\n    return [\n      { intlId: 'copy', iconUrl: iconCopy, onClickHandler: () => copyTool() },\n      { intlId: 'cut', iconUrl: iconCut, onClickHandler: () => cutTool() },\n      { intlId: 'paste', iconUrl: iconPaste, onClickHandler: () => pasteTool() },\n      { intlId: 'delete', iconUrl: iconDelete, onClickHandler: () => setOpenConfirmDelete(true) },\n      // {\n      //   intlId: 'undo',\n      //   iconUrl: lastActionsStack.length === 0 ? iconUndoDisabled : iconUndo,\n      //   onClickHandler: () => (lastActionsStack.length === 0 ? {} : undoLastAction()),\n      // },\n      { intlId: 'expandAll', iconUrl: iconExpand, onClickHandler: () => expandTools() },\n      { intlId: 'collapseAll', iconUrl: iconCollapse, onClickHandler: () => collapseTools() },\n    ];\n  };\n  const viewActions = getViewActions();\n\n  const getToolActions = () => {\n    return [\n      {\n        intlId: 'toolsetView.windowTool',\n        iconUrl: iconWindow,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.WindowToolClassId),\n      },\n      {\n        intlId: 'toolsetView.mathTool',\n        iconUrl: iconOne,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.MathToolClassId),\n      },\n      {\n        intlId: 'toolsetView.statisticsTool',\n        iconUrl: iconStatistics,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.StatisticsToolClassId),\n      },\n      {\n        intlId: 'toolsetView.ringBufferTool',\n        iconUrl: iconLinear,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.RingBufferToolClassId),\n      },\n      {\n        intlId: 'toolsetView.archiveTool',\n        iconUrl: iconArchive,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ArchiveToolClassId),\n      },\n      {\n        intlId: 'toolsetView.acquisitionTool',\n        iconUrl: iconLinear,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.AcquisitionToolClassId),\n      },\n      {\n        intlId: 'toolsetView.transformationTool',\n        iconUrl: iconTransformation,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.TransformationToolClassId),\n      },\n      {\n        intlId: 'toolsetView.shiftTool',\n        iconUrl: iconShift,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ShiftToolClassId),\n      },\n      {\n        intlId: 'toolsetView.cylindricalWarpTool',\n        iconUrl: iconCylindricalWrap,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.CylindricalWarpToolClassId),\n      },\n      {\n        intlId: 'toolsetView.perspectiveTool',\n        iconUrl: iconPerspective,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.PerspectiveToolClassId),\n      },\n      {\n        intlId: 'toolsetView.imageTool',\n        iconUrl: iconImage,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ImageToolClassId),\n      },\n      {\n        intlId: 'toolsetView.linearTool',\n        iconUrl: iconLinear,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.LinearToolClassId),\n      },\n      {\n        intlId: 'toolsetView.colorTool',\n        iconUrl: iconColor,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ColorToolClassId),\n      },\n      {\n        intlId: 'toolsetView.resizeTool',\n        iconUrl: iconResize,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ResizeToolId),\n      },\n      {\n        intlId: 'toolsetView.loadImageTool',\n        iconUrl: iconLoadImage,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.LoadImageToolClassId),\n      },\n      {\n        intlId: 'toolsetView.tableTool',\n        iconUrl: iconTable,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.TableToolClassId),\n      },\n      {\n        intlId: 'toolsetView.tableAnalyzerTool',\n        iconUrl: iconTableAnalyzer,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.TableAnalyzerToolClassId),\n      },\n      {\n        intlId: 'toolsetView.polarTransformationTool',\n        iconUrl: iconPolarTransformation,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.PolarTransformationToolClassId),\n      },\n      {\n        intlId: 'toolsetView.loopTool',\n        iconUrl: iconLoop,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.LoopToolClassId),\n      },\n      {\n        intlId: 'toolsetView.externalTool',\n        iconUrl: iconExternal,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.ExternalToolClassId),\n      },\n      {\n        intlId: 'toolsetView.groupTool',\n        iconUrl: iconGroup,\n        onClickHandler: () => addTool(Protobuf.SvPb.ClassIdEnum.GroupToolClassId),\n      },\n    ];\n  };\n\n  const toolActions = getToolActions();\n  const onChangeFilter = (event) => {\n    const text = event.target.value;\n\n    if (text === '') {\n      setFilteredTreeModel(undefined);\n    }\n    setFilterText(text);\n    setFilteredTreeModel(treeModel.filter((item) => item.name.indexOf(text) > -1));\n  };\n\n  if (canReadToolSetView(myPermissions) || canEditToolSetView(myPermissions)) {\n    return (\n      <div className=\"toolset-wrapper\">\n        <ConfirmDialog\n          open={openConfirmDelete}\n          onClose={(confirmed) => handleConfirmDeleteClose(confirmed)}\n          message={\n            <FormattedMessage id=\"toolsetView.confirmDelete\" values={{ toolName: cursor.name }} />\n          }\n        />\n        <ToolSetBar tools={toolActions} />\n        <div className=\"overflow-auto h-100 w-100\">\n          <div>\n            <ToolSetup node={cursor} />\n            <div className=\"w100\">\n              <TextField\n                label=\"Filter\"\n                type=\"text\"\n                variant=\"outlined\"\n                style={{ width: '100%' }}\n                onChange={onChangeFilter}\n                value={filterText}\n                InputLabelProps={{ classes: { root: classes.label } }}\n              />\n            </div>\n            <Treebeard\n              data={filteredTreeModel !== undefined ? filteredTreeModel : treeModel}\n              onToggle={onNodeClicked}\n              style={TreebeardStyle}\n            />\n          </div>\n        </div>\n        <ActionBar isViewAction actions={viewActions} />\n      </div>\n    );\n  }\n  return <div></div>;\n};\n\nToolsetView.propTypes = {\n  proxy: ProxyType,\n  configuration: PropTypes.object,\n};\n\nexport default ToolsetView;\n","import React from 'react';\nimport shortId from 'shortid';\n\nimport ImageStripView from './ImageStripView';\nimport ImageView from './ImageView';\nimport ListView from './ListView';\nimport ParameterView from './ParameterView';\nimport RecipeView from './RecipeView';\nimport ToolsetView from './ToolsetView';\n\nconst mapViewSetArray = (views) => {\n  return views.reduce((viewSet, view) => ({ ...viewSet, [view.id]: view }), {});\n};\n\nconst configurations = [\n  {\n    title: 'No. of Cameras',\n    intlId: 'noOfCameras',\n    options: [\n      { title: '1', value: 1 },\n      { title: '2', value: 2 },\n      { title: '3', value: 3 },\n      { title: '4', value: 4 },\n    ],\n  },\n  {\n    title: 'No. of Triggers',\n    intlId: 'noOfTriggers',\n    options: [\n      { title: '1', value: 1 },\n      { title: '2', value: 2 },\n      { title: '3', value: 3 },\n      { title: '4', value: 4 },\n    ],\n  },\n  {\n    title: 'No. of MonitorLists',\n    intlId: 'noOfMonitors',\n    options: [\n      { title: '1', value: 1 },\n      { title: '2', value: 2 },\n      { title: '3', value: 3 },\n      { title: '4', value: 4 },\n    ],\n  },\n];\n\nexport const CONFIG_VIEW = 'CONFIG_VIEW';\nexport const TOOLSET_VIEW = 'TOOLSET_VIEW';\nexport const IMAGE_VIEW = 'IMAGE_VIEW';\nexport const PARAMETER_VIEW = 'PARAMETER_VIEW';\nexport const LIST_VIEW = 'LIST_VIEW';\nexport const IMAGE_STRIP_VIEW = 'IMAGE_STRIP_VIEW';\n\nexport const DEFAULT_RECIPE_VIEWSET = 'DEFAULT_RECIPE_VIEWSET';\nexport const DEFAULT_EDIT_VIEWSET = 'DEFAULT_EDIT_VIEWSET';\nexport const DEFAULT_VIEWSET = 'DEFAULT_VIEWSET';\n\nexport const DEFAULT_VIEWSET_NAME = 'Initial';\n\nexport default class ViewSetFactory {\n  getViewSet = (id) => {\n    switch (id) {\n      case DEFAULT_VIEWSET:\n        return this.buildEmptyViewSet();\n      case DEFAULT_EDIT_VIEWSET:\n      case DEFAULT_RECIPE_VIEWSET:\n      default:\n        return null;\n    }\n  };\n\n  createViewInstance = (viewDesc, props) => {\n    const meta = this.getViewById(viewDesc.viewComponentClassId);\n    if (!meta) {\n      return false;\n    }\n\n    const key = `${viewDesc.viewComponentClassId}_${viewDesc.id}_${viewDesc.inspectionId}`;\n\n    const passedProps = {\n      ...meta.passedProps,\n      ...props,\n    };\n    switch (meta.viewComponentClassId) {\n      case CONFIG_VIEW:\n        return <RecipeView {...passedProps} key={key} />;\n      case TOOLSET_VIEW:\n        return <ToolsetView {...passedProps} key={key} />;\n      case IMAGE_VIEW:\n        return <ImageView {...passedProps} key={key} />;\n      case PARAMETER_VIEW:\n        return <ParameterView {...passedProps} key={key} />;\n      case IMAGE_STRIP_VIEW:\n        return <ImageStripView {...passedProps} key={key} />;\n      case LIST_VIEW:\n        return <ListView {...passedProps} key={key} />;\n      default:\n        return <div>Unknown Component {meta.viewComponentClassId}</div>;\n    }\n  };\n\n  getViewById = (id) => {\n    switch (id) {\n      case CONFIG_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'recipeViewInspectionTemplate',\n          viewComponentClassId: CONFIG_VIEW,\n          passedProps: { configurations },\n        };\n      case TOOLSET_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'toolsetView.inspectionTemplate',\n          viewComponentClassId: TOOLSET_VIEW,\n        };\n      case IMAGE_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'imageView.inspectionTemplate',\n          viewComponentClassId: IMAGE_VIEW,\n        };\n      case PARAMETER_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'parameterView.inspectionTemplate',\n          viewComponentClassId: PARAMETER_VIEW,\n        };\n      case IMAGE_STRIP_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'imageStripView.inspectionTemplate',\n          viewComponentClassId: IMAGE_STRIP_VIEW,\n        };\n      case LIST_VIEW:\n        return {\n          id: shortId.generate(),\n          titleId: 'listView.inspectionTemplate',\n          viewComponentClassId: LIST_VIEW,\n        };\n      default:\n        return null;\n    }\n  };\n\n  buildRecipeViewSet = () => {\n    const views = [\n      this.getViewById(IMAGE_VIEW),\n      this.getViewById(LIST_VIEW),\n      this.getViewById(IMAGE_STRIP_VIEW),\n    ];\n    return {\n      id: DEFAULT_RECIPE_VIEWSET,\n      viewSet: mapViewSetArray(views),\n      initialValue: {\n        first: {\n          direction: 'row',\n          splitPercentage: 60,\n          first: views[0].id,\n          second: views[1].id,\n        },\n        direction: 'column',\n        splitPercentage: 75,\n        second: views[2].id,\n      },\n    };\n  };\n\n  buildEmptyViewSet = (name = DEFAULT_VIEWSET_NAME) => {\n    const emptyViewId = shortId.generate();\n    return {\n      id: name,\n      name,\n      viewSet: {\n        [emptyViewId]: {},\n      },\n      initialValue: emptyViewId,\n    };\n  };\n\n  buildEditViewSet = () => {\n    const views = [\n      this.getViewById(TOOLSET_VIEW),\n      this.getViewById(IMAGE_VIEW),\n      this.getViewById(PARAMETER_VIEW),\n    ];\n    return {\n      id: DEFAULT_VIEWSET,\n      viewSet: mapViewSetArray(views),\n      initialValue: {\n        direction: 'row',\n        first: views[0].id,\n        splitPercentage: 30,\n        second: {\n          direction: 'column',\n          splitPercentage: 45,\n          first: views[1].id,\n          second: views[2].id,\n        },\n      },\n    };\n  };\n\n  createNewViewSet = () => {\n    const views = [\n      {\n        id: shortId.generate(),\n        viewComponentClassId: TOOLSET_VIEW,\n        titleId: 'toolsetViewInspectionTemplate',\n      },\n    ];\n    return {\n      id: 'NEW_VIEWSET',\n      viewSet: mapViewSetArray(views),\n      initialValue: views[0].id,\n    };\n  };\n}\n","export default __webpack_public_path__ + \"static/media/regression.f027695f.svg\";","export default __webpack_public_path__ + \"static/media/run.eb40f6de.svg\";","export default __webpack_public_path__ + \"static/media/stop.44c5645f.svg\";","export default __webpack_public_path__ + \"static/media/test.47d9c7ad.svg\";","import editIcon from '../assets/icons/edit.svg';\nimport unknownIcon from '../assets/icons/help.svg';\nimport regressionIcon from '../assets/icons/regression.svg';\nimport runIcon from '../assets/icons/run.svg';\nimport stopIcon from '../assets/icons/stop.svg';\nimport testIcon from '../assets/icons/test.svg';\n\nconst modes = {\n  unknownMode: {\n    id: 'UNKNOWN_MODE',\n    iconSrc: unknownIcon,\n    text: '',\n  },\n  runMode: {\n    id: 'RUN_MODE',\n    iconSrc: runIcon,\n    text: '',\n  },\n  stopMode: {\n    id: 'STOP_MODE',\n    iconSrc: stopIcon,\n    text: '',\n  },\n  regressionMode: {\n    id: 'REGRESSION_MODE',\n    iconSrc: regressionIcon,\n    text: '',\n  },\n  testMode: {\n    id: 'TEST_MODE',\n    iconSrc: testIcon,\n    text: '',\n  },\n  editMode: {\n    id: 'EDIT_MODE',\n    iconSrc: editIcon,\n    text: '',\n  },\n};\n\nexport default modes;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\nimport shortId from 'shortid';\n\nimport './style.scss';\nimport { TOGGLE_BUTTON, SEPARATOR } from '../../types/ActionBarType';\nimport { ToggleButton } from '../buttons/ToggleButton';\nimport IconButton from './../buttons/IconButton';\n\nconst ActionBar = ({ actions, intl, isViewAction }) => (\n  <div className=\"action-bar-wrapper\" style={{ position: isViewAction ? 'absolute' : 'relative' }}>\n    {actions &&\n      actions.map((action) => {\n        if (action && action.type === SEPARATOR) {\n          return (\n            <div className=\"action-bar-separator\" key={`separator_${shortId.generate()}`}>\n              <div className=\"separator\"></div>\n            </div>\n          );\n        }\n        if (action && action.type === TOGGLE_BUTTON) {\n          return (\n            <ToggleButton\n              key={action.id}\n              id={action.id}\n              intl={intl}\n              intlId={action.intlId}\n              iconUrl={action.iconUrl}\n              onClickHandler={action.onClickHandler}\n              intlIdAlternative={action.intlIdAlternative}\n              iconUrlAlternative={action.iconUrlAlternative}\n              onClickHandlerAlternative={action.onClickHandlerAlternative}\n              showAlternative={action.showAlternative}\n            />\n          );\n        }\n\n        return (\n          <IconButton\n            key={action.intlId}\n            tooltip={intl.messages[`${action.intlId}`]}\n            onClick={() => {\n              action.onClickHandler();\n            }}\n            iconUrl={action.iconUrl}\n          />\n        );\n      })}\n  </div>\n);\n\nActionBar.defaultProps = {\n  isViewAction: false,\n};\n\nActionBar.propTypes = {\n  actions: PropTypes.arrayOf(\n    PropTypes.shape({\n      intlId: PropTypes.string,\n      onClickHandler: PropTypes.func,\n      iconUrl: PropTypes.string,\n    }),\n  ).isRequired,\n  isViewAction: PropTypes.bool,\n};\n\nexport default injectIntl(ActionBar);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Tooltip } from 'react-tippy';\nimport './style.scss';\n\nconst IconButton = ({ iconUrl, onClick, tooltip, style }) => (\n  <div className=\"icon-button-wrapper\">\n    <Tooltip title={tooltip} trigger=\"mouseenter\" duration={1} delay={1000}>\n      <button\n        style={{\n          ...style,\n          backgroundImage: `url(${iconUrl})`,\n          backgroundPosition: 'center',\n          backgroundSize: '100% 100%',\n        }}\n        onClick={onClick}\n        className=\"icon-button\"\n      />\n    </Tooltip>\n  </div>\n);\n\nIconButton.defaultProps = {\n  tooltip: undefined,\n};\n\nIconButton.propTypes = {\n  iconUrl: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  tooltip: PropTypes.string,\n};\n\nexport default IconButton;\n","import { useRef, useState } from 'react';\nimport { Portal } from '@material-ui/core';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useHistory } from 'react-router';\nimport downloadIcon from '../../../assets/icons/download.svg';\nimport helpIcon from '../../../assets/icons/help.svg';\nimport aboutIcon from '../../../assets/icons/info.svg';\nimport logoutIcon from '../../../assets/icons/logout.svg';\nimport permissionsIcon from '../../../assets/icons/permissions.svg';\nimport saveIcon from '../../../assets/icons/save.svg';\nimport shortcutHelpIcon from '../../../assets/icons/shortcut-help.svg';\nimport uploadIcon from '../../../assets/icons/upload.svg';\nimport userIcon from '../../../assets/icons/user.svg';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { saveClientChunk } from '../../../redux/actions';\nimport { forceDownload } from '../../../utils/downloader';\nimport {\n  canEditUserManagement,\n  canReadSVOConfiguration,\n  canReadUserManagement,\n  canSaveConfig,\n  canWriteSVOConfiguration,\n} from '../../../utils/permissions';\nimport AboutView from '../../AboutView';\nimport HelpView from '../../HelpView';\nimport ShortcutView from '../../ShortcutView';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useUserInfoNavigation = (): NavigationItemType => {\n  const dispatch = useDispatch();\n  const currentState = useSelector((state) => state);\n  const { user, protobuf, myPermissions, proxy } = useSelector<any>((state) => state.app) as {\n    myPermissions: Set<string>;\n    proxy: Proxy;\n    [key: string]: any;\n  };\n  const unsavedChanges = useSelector<any>((state) => state.viewSet.unsavedChanges);\n  const intl = useIntl();\n  const history = useHistory();\n  const inputFile = useRef<HTMLInputElement>(null);\n\n  const [shortcutViewOpen, setShortcutViewOpen] = useState(false);\n  const [isHelpViewOpen, setIsHelpViewOpen] = useState(false);\n  const [isAboutViewOpen, setIsAboutViewOpen] = useState(false);\n\n  const downloadConfig = async () => {\n    const fileData = await proxy.downloadSVOConfig();\n    const blob = new Blob([fileData], { type: 'application/octet-stream' });\n    const url = URL.createObjectURL(blob);\n    forceDownload(url, `SVOConfig_${new Date().toISOString()}.svz`);\n  };\n\n  const onFileAdded: React.ChangeEventHandler<HTMLInputElement> = (event) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      const fileReader = new FileReader();\n      fileReader.readAsArrayBuffer(file);\n\n      fileReader.onload = (event) => {\n        const arrayBuffer = event.target?.result;\n        const array =\n          arrayBuffer instanceof ArrayBuffer ? new Uint8Array(arrayBuffer) : new Uint8Array();\n        proxy.uploadSVOConfig(file.name, array);\n      };\n    }\n  };\n\n  const children: NavigationItemType[] = [\n    {\n      id: 'help',\n      icon: helpIcon,\n      content: (\n        <>\n          <span>{intl.messages['topNavigation.help']}</span>\n          <Portal container={document.body}>\n            <HelpView open={isHelpViewOpen} onClose={() => setIsHelpViewOpen(false)} />\n          </Portal>\n        </>\n      ),\n      onClick: () => !isHelpViewOpen && setIsHelpViewOpen(true),\n    },\n    {\n      id: 'shortcutHelp',\n      icon: shortcutHelpIcon,\n      content: (\n        <>\n          <span>{intl.messages['topNavigation.shortcut']}</span>\n          <Portal container={document.body}>\n            <ShortcutView open={shortcutViewOpen} onClose={() => setShortcutViewOpen(false)} />\n          </Portal>\n        </>\n      ),\n      onClick: () => !shortcutViewOpen && setShortcutViewOpen(true),\n    },\n    {\n      id: 'about',\n      icon: aboutIcon,\n      content: (\n        <>\n          <span>{intl.messages['topNavigation.about']}</span>\n          <Portal container={document.body}>\n            <AboutView open={isAboutViewOpen} onClose={() => setIsAboutViewOpen(false)} />\n          </Portal>\n        </>\n      ),\n      onClick: () => !isAboutViewOpen && setIsAboutViewOpen(true),\n    },\n    {\n      id: 'logout',\n      icon: logoutIcon,\n      content: intl.messages['topNavigation.logout'],\n      onClick: async () => {\n        setImmediate(() => (window.location.href = `${window.location.origin}/logout`));\n      },\n    },\n  ];\n\n  if (canWriteSVOConfiguration(myPermissions)) {\n    children.unshift({\n      id: 'upload',\n      content: (\n        <>\n          {intl.messages['topNavigation.upload']}\n          <input\n            type=\"file\"\n            id=\"file\"\n            ref={inputFile}\n            style={{ display: 'none' }}\n            onChange={onFileAdded}\n          />\n        </>\n      ),\n      icon: uploadIcon,\n      onClick: async () => inputFile.current?.click?.(),\n    });\n  }\n\n  if (canReadSVOConfiguration(myPermissions)) {\n    children.unshift({\n      id: 'download',\n      content: intl.messages['topNavigation.download'],\n      icon: downloadIcon,\n      onClick: downloadConfig,\n    });\n  }\n\n  if (canReadUserManagement(myPermissions) || canEditUserManagement(myPermissions)) {\n    children.unshift({\n      id: 'permissions',\n      content: intl.messages['topNavigation.permissions'],\n      icon: permissionsIcon,\n      onClick: () => history.push('/permissions'),\n    });\n  }\n\n  if (unsavedChanges && canSaveConfig(myPermissions)) {\n    children.unshift({\n      id: 'saveConfig',\n      content: intl.messages['topNavigation.saveConfig'],\n      icon: saveIcon,\n      onClick: () => dispatch(saveClientChunk(protobuf, currentState)),\n    });\n  }\n\n  return {\n    id: 'user-info',\n    icon: userIcon,\n    content: user.fullname,\n    children,\n  };\n};\n","export default __webpack_public_path__ + \"static/media/logout.34533d8e.svg\";","export default __webpack_public_path__ + \"static/media/permissions.ce764429.svg\";","export default __webpack_public_path__ + \"static/media/shortcut-help.d16d3001.svg\";","export default __webpack_public_path__ + \"static/media/upload.6f61d1e9.svg\";","export default __webpack_public_path__ + \"static/media/user.71fbff7c.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport KoerberLogo from '../../assets/logo/logo.svg';\nimport Dialog from '../../components/Dialog';\nimport Logo from '../../components/layout/Logo';\n\nimport './style.scss';\n\nclass AboutView extends Component {\n  render() {\n    const { onClose, open, intl, configuration } = this.props;\n\n    if (!configuration) {\n      return <div />;\n    }\n\n    return (\n      <Dialog title={<FormattedMessage id=\"aboutView\" />} onClose={onClose} open={open}>\n        <div className=\"appname\">{process.env.REACT_APP_NAME}</div>\n        <div className=\"table\">\n          <div className=\"row\">\n            <div className=\"cell\">{intl.messages['aboutView.applicationVersion']}</div>\n            <div className=\"cell\">{configuration.getWebAppVersion()}</div>\n          </div>\n          <div className=\"row\">\n            <div className=\"cell\">{intl.messages['aboutView.svoVersion']}</div>\n            <div className=\"cell\">{configuration.getSvObserverVersion()}</div>\n          </div>\n          <div className=\"row\">\n            <div className=\"cell\">{intl.messages['aboutView.gatewayVersion']}</div>\n            <div className=\"cell\">{configuration.getGatewayVersion()}</div>\n          </div>\n        </div>\n        <div className=\"logo\">\n          <Logo src={KoerberLogo} title=\"logo\" />\n        </div>\n      </Dialog>\n    );\n  }\n}\n\nAboutView.defaultProps = {\n  open: false,\n};\n\nAboutView.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => {\n  try {\n    const { configuration } = state.app;\n    return { configuration };\n  } catch (error) {\n    return {};\n  }\n};\n\nexport default connect(mapStateToProps)(injectIntl(AboutView));\n","import { setProtobuf } from '../redux/actions';\nimport logger from '../utils/logger';\nimport Protobuf from './Protobuf';\nimport WebsocketConnector from './WebsocketConnector';\n\nexport default class ProtobufConnector {\n  constructor(url, dispatch, authToken) {\n    this.url = url;\n    this.dispatch = dispatch;\n    this.protobuf = new Protobuf();\n    this.websocketConnector = null;\n    this.connectionLost = false;\n    this.authToken = authToken;\n    this.connect();\n  }\n\n  connect = () => {\n    this.disconnect();\n\n    if (!this.authToken) {\n      logger.info('[ProtobufConnector] cannot connect yet. no auth token available');\n      return;\n    }\n\n    this.websocketConnector = new WebsocketConnector(\n      this.onConnect,\n      this.onMessage,\n      this.onClose,\n      this.onError,\n      this.url,\n      this.authToken,\n    );\n  };\n\n  connectWithToken = (token) => {\n    this.authToken = token;\n    this.connect();\n  };\n\n  disconnect = () => {\n    if (this.websocketConnector) {\n      this.websocketConnector.closeSocket();\n      this.websocketConnector = null;\n    }\n  };\n\n  onMessage = (data) => {\n    this.protobuf.readMessage(data);\n  };\n\n  onConnect = async (socket) => {\n    // Force a hard reload on re-conncet to make sure we start fresh\n    if (this.connectionLost) {\n      this.connectionLost = false;\n      setImmediate(() => {\n        window.location.href = `${window.location.origin}/`;\n      });\n      return;\n    }\n\n    // once we have a websocket connection established we publish the protobuf connector via store\n    this.dispatch(setProtobuf(this.protobuf, socket));\n  };\n\n  onClose = () => {\n    this.connectionLost = true;\n    // unsetting the socket will set proxy into disconnected\n    // state and will show the \"Connecting\" screen.\n    this.dispatch(setProtobuf(this.protobuf, /*socket=*/ null));\n  };\n\n  onError = (event) => {\n    console.error('Websocket error: ', event);\n  };\n}\n","import ReconnectingWebSocket from 'reconnecting-websocket';\n\nexport default class WebsocketConnector {\n  constructor(onConnect, onMessage, onClose, onError, url, token) {\n    this.onClose = onClose;\n    const protocol = token ? ['access_token', token] : undefined;\n    const options = { debug: false };\n    this.socket = new ReconnectingWebSocket(url, protocol, options);\n    this.socket.binaryType = 'arraybuffer';\n    this.socket.onopen = () => {\n      onConnect && onConnect(this.socket);\n    };\n    this.socket.onmessage = (e) => onMessage && onMessage(e.data, this.socket);\n    this.socket.onerror = (e) => onError && onError(e);\n    this.socket.onclose = () => onClose && onClose(this.socket);\n    this.socket.onconnecting = (e) => console.log('CONNECTING!', e);\n  }\n\n  closeSocket() {\n    if (this.socket) {\n      this.socket.close();\n    }\n  }\n}\n","import { FormattedMessage } from 'react-intl';\nimport {\n  addModeSwitchNotification,\n  addProjectLoadedNotification,\n  addProjectUnloadedNotification,\n  addProjectModifiedNotification,\n  addServerMessageNotification,\n  addRejectStreamPausedNotification,\n  addConfigAlreadyLockedBySameUser,\n  addTakeoverCandidateNotFoundNotification,\n  addLockAcquisitionErrorNotification,\n  addLockTakeoverErrorNotification,\n  loadClientChunk,\n  resetClientChunk,\n  setCurrentModeDone,\n  setCurrentConfiguration,\n  setConfigurationLock,\n  setPausedInspections,\n  showGlobalMessageOverlay,\n  hideGlobalMessageOverlay,\n  setSVOConfigLoaded,\n  setGroupPermissions,\n  setMyPermissions,\n  clearCurrentView,\n} from '../redux/actions';\nimport { defaultPermissions } from '../utils/defaultPermissions';\nimport { CONFIG_INFO } from '../utils/localStorage';\nimport logger from '../utils/logger';\nimport modes from '../utils/modes';\nimport {\n  flattenPermissionsRec,\n  canReadUserManagement,\n  canEditUserManagement,\n} from '../utils/permissions';\nimport Configuration from './Configuration';\nimport ConfigurationLock from './ConfigurationLock';\nimport {\n  mapLogLevelNameToProtobufLogSeverity,\n  mapProtobufDeviceModeToWebAppMode,\n  mapWebAppModeToProtobufDeviceMode,\n} from './Mapper';\nimport ProductHistoryManager from './ProductHistoryManager';\nimport Protobuf from './Protobuf';\nimport SubscriptionManager from './SubscriptionManager';\n\nexport default class Proxy {\n  constructor(dispatch) {\n    this.dispatch = dispatch;\n    this.configInfo = null;\n    this.configLoadedFromCache = false;\n    this.currentConfiguration = null;\n    this.lock = null;\n    this.loading = false;\n    this.mode = null;\n    this.protobuf = null;\n    this.protobufInitialized = false;\n    this.observerNotificationSubscription = null;\n    this.observerMessageSubscription = null;\n    this.lockAcquisitionSubscription = null;\n    this.gatewayNotificationSubscription = null;\n    this.gatewayMessageSubscription = null;\n    this.nextSubId = 0;\n    this.productHistoryManager = new ProductHistoryManager();\n    this.subscriptionManager = new SubscriptionManager({\n      productHistoryManager: this.productHistoryManager,\n    });\n    this.showConnectingSplashScreen();\n  }\n\n  setMode(mode) {\n    this.onCurrentModeChanged(mode);\n  }\n\n  setProtobufStaticInitialized() {\n    this.protobufInitialized = true;\n    this.onProtobufChangedImpl();\n  }\n\n  setProtobuf(protobuf) {\n    this.protobuf = protobuf;\n    this.subscriptionManager.setProtobuf(protobuf);\n    this.onProtobufChangedImpl();\n  }\n\n  onProtobufChangedImpl() {\n    if (this.protobuf && this.protobuf.isConnected() && this.protobufInitialized) {\n      this.hideConnectingSplashScreen();\n      setImmediate(() => this.loadProject());\n    } else {\n      this.showConnectingSplashScreen();\n    }\n  }\n\n  sendLogsToServer = async (entries) => {\n    const logs = entries.map((e) => this.mapLogEntry(e));\n    const req = Protobuf.SvPb.StoreClientLogsRequest.create({\n      client: 'WebApp',\n      logs,\n    });\n    try {\n      if (this.protobuf) {\n        await this.protobuf.request(req);\n      }\n    } catch (e) {\n      console.error('Error while sending logs to server:', e);\n    }\n  };\n\n  mapLogEntry(entry) {\n    return {\n      severity: mapLogLevelNameToProtobufLogSeverity(entry.levelName),\n      message: JSON.stringify(entry),\n    };\n  }\n\n  async updateConfigLockStatus(status) {\n    if (!this.lock) {\n      this.lock = new ConfigurationLock({});\n    }\n    this.lock.owner = status.owner;\n    this.lock.lockDescription = status.description;\n    this.lock.host = status.host;\n    this.lock.status = status.status;\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  async dispatchCurrentConfiguration(configuration) {\n    this.dispatch(setCurrentConfiguration(new Configuration(configuration)));\n    Configuration.saveToCache(this.currentConfiguration, this.configInfo);\n  }\n\n  async dispatchConfigurationLock(lock) {\n    this.dispatch(setConfigurationLock(new ConfigurationLock(lock)));\n  }\n\n  loadProject = async () => {\n    if (this.loading) {\n      this.loadProjectRequested = true;\n      return;\n    }\n\n    this.loading = true;\n    this.showLoadingSplashScreen();\n    try {\n      await this.discoverConfiguration();\n      await this.discoverDeviceMode();\n      this.subscribeToNotificationAndMessageStreams();\n      // only load the client chunk when we have a valid configuration\n      if (this.currentConfiguration) {\n        this.dispatch(setSVOConfigLoaded(true));\n        await this.currentConfiguration.discoverInspectionsWithConfigName(this.protobuf);\n        await this.loadClientChunk();\n      } else {\n        await this.resetClientChunk();\n        this.dispatch(setSVOConfigLoaded(false));\n      }\n      // TODO: re-subscribe all current subscriptions?\n      // this.scheduleRebuildSubscriptions();\n      this.hideLoadingSplashScreen();\n    } catch (err) {\n      this.showLoadingErrorOverlay(err);\n    }\n    this.loading = false;\n\n    if (!this.configLoadedFromCache && this.currentConfiguration) {\n      try {\n        this.dispatchCurrentConfiguration(this.currentConfiguration);\n        this.setUpProductHistories(this.currentConfiguration);\n\n        this.currentConfiguration.discoverPartsInBackground(this.protobuf).then(() => {\n          this.dispatchCurrentConfiguration(this.currentConfiguration);\n        });\n      } catch (err) {\n        logger.error({ err }, 'Error loading configuration');\n        return;\n      }\n    }\n\n    if (this.loadProjectRequested) {\n      this.loadProjectRequested = false;\n      this.loadProject();\n    }\n  };\n\n  showConnectingSplashScreen() {\n    // can not call dispatch right away, because we reach this point\n    // while the store itself is still in initialization phase.\n    setImmediate(() => {\n      this.dispatch(\n        showGlobalMessageOverlay({\n          message: <p>Connecting</p>,\n        }),\n      );\n    });\n  }\n\n  hideConnectingSplashScreen() {\n    // This function might be triggered by a redux event itself.\n    // Use setImmediate to not trigger a redux event inside a\n    // redux event (which is forbidden).\n    setImmediate(() => {\n      this.dispatch(hideGlobalMessageOverlay());\n    });\n  }\n\n  showLoadingSplashScreen() {\n    this.dispatch(\n      showGlobalMessageOverlay({\n        message: <p>Loading Configuration</p>,\n      }),\n    );\n  }\n\n  showLoadingErrorOverlay(err) {\n    this.dispatch(\n      showGlobalMessageOverlay({\n        message: <p>Error while loading Configuration: {`${err}`}</p>,\n      }),\n    );\n  }\n\n  hideLoadingSplashScreen() {\n    this.dispatch(hideGlobalMessageOverlay());\n  }\n\n  async getConfigurationInfo() {\n    try {\n      let res = await this.protobuf.request(Protobuf.SvPb.GetConfigurationInfoRequest.create());\n\n      if (Object.keys(res).length === 0) {\n        logger.warn(\n          'Empty response for GetConfigurationInfoRequest, configuration in SVO not loaded',\n        );\n        return null;\n      }\n\n      if (!res.lastModified) {\n        res = {\n          ...res,\n          lastModified: res.loadedSince,\n        };\n      }\n\n      return res;\n    } catch (err) {\n      logger.error('GetConfigurationInfoRequest ERROR', err);\n    }\n\n    return null;\n  }\n\n  async discoverConfiguration() {\n    let cachedConfigInfo = null;\n    this.configInfo = await this.getConfigurationInfo();\n\n    if (!this.configInfo || !this.configInfo.loadedSince) {\n      this.currentConfiguration = null;\n      return;\n    }\n\n    try {\n      cachedConfigInfo = await JSON.parse(localStorage.getItem(CONFIG_INFO));\n    } catch (err) {\n      logger.error({ err }, 'Timestamp request failed');\n    }\n\n    let config = null;\n    // Timestamps should be equal but not null\n    if (\n      this.configInfo &&\n      cachedConfigInfo &&\n      cachedConfigInfo.hash === this.configInfo.hash &&\n      Number(cachedConfigInfo.lastModified) === this.configInfo.lastModified\n    ) {\n      config = await Configuration.loadFromCache();\n      this.dispatch(setCurrentConfiguration(config));\n      this.setUpProductHistories(config);\n      this.configLoadedFromCache = true;\n    } else {\n      config = new Configuration({});\n      this.dispatch(setCurrentConfiguration(config));\n      this.dispatch(clearCurrentView());\n    }\n\n    this.currentConfiguration = config;\n  }\n\n  async onCurrentModeChanged(currentMode) {\n    // set internal mode to unknown while switching the mode to\n    // lower the possibility of running into errors in the\n    // subscription code, e.g. e.g. fetching images which are not\n    // accessible in certain modes\n    this.mode = modes.unknownMode.id;\n\n    const mode = mapWebAppModeToProtobufDeviceMode(currentMode);\n    const req = Protobuf.SvPb.SetDeviceModeRequest.create({ mode });\n    let res = null;\n    try {\n      res = await this.protobuf.request(req);\n    } catch (err) {\n      logger.error({ err }, 'Error while changing the mode');\n      return;\n    }\n\n    if (res.hResult) {\n      logger.error({ hResult: res.hResult }, 'Error while changing the mode');\n      return;\n    }\n\n    // Leaving this here as a safety net in case SVObserver is not\n    // informing us about the new mode via a notification. As we\n    // do nothing when the discovered mode is the one we already,\n    // have in this.mode, it is cheap to do it multiple times.\n    setTimeout(this.discoverDeviceMode, 500);\n  }\n\n  discoverDeviceMode = async () => {\n    let mode = null;\n    let modeName = null;\n    try {\n      const req = Protobuf.SvPb.GetDeviceModeRequest.create({});\n      const res = await this.protobuf.request(req);\n      modeName = res.mode;\n      mode = mapProtobufDeviceModeToWebAppMode(modeName);\n    } catch (err) {\n      logger.error({ err }, 'Error while fetching mode');\n    }\n\n    if (mode === null || this.mode === mode) {\n      return;\n    }\n\n    // Initially we get mode from SVObserver and no change happens\n    if (this.mode === null) {\n      this.mode = mode;\n      return;\n    }\n\n    logger.info(\n      { oldMode: this.mode, newMode: mode, newModeName: modeName },\n      'Discovered new mode',\n    );\n    this.mode = mode;\n\n    this.dispatch(addModeSwitchNotification(mode));\n    return this.dispatch(setCurrentModeDone(mode));\n  };\n\n  loadClientChunk() {\n    return this.dispatch(loadClientChunk(this));\n  }\n\n  resetClientChunk() {\n    return this.dispatch(resetClientChunk(this.protobuf));\n  }\n\n  subscribeToNotificationAndMessageStreams() {\n    this.subscribeToObserverNotificationStream();\n    this.subscribeToObserverMessageStream();\n    this.subscribeToGatewayNotificationStream();\n    this.subscribeToGatewayMessageStream();\n  }\n\n  subscribeToObserverNotificationStream() {\n    this.unsubscribeFromObserverNotificationStream();\n    const req = Protobuf.SvPb.GetNotificationStreamRequest.create({});\n    this.observerNotificationSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onObserverNotification(evt),\n      error: (err) => this.onObserverNotificationError(err),\n      complete: () => logger.debug('Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromObserverNotificationStream() {\n    if (this.observerNotificationSubscription) {\n      this.observerNotificationSubscription.unsubscribe();\n    }\n  }\n\n  onObserverNotification({ type, parameter }) {\n    let fileName, configName;\n    switch (type) {\n      case Protobuf.SvPb.NotifyType.currentMode:\n        {\n          const mode = this.getVariantValue(parameter);\n          logger.debug({ mode }, 'Notification currentMode');\n          // the notification contains the new mode already, but it might be \"modeChanging\"\n          // so lets just fetch it from the SVObserver so we always have the actual mode.\n          this.discoverDeviceMode();\n        }\n        break;\n      case Protobuf.SvPb.NotifyType.lastModified:\n        {\n          const timestamp = this.getVariantValue(parameter) * 1000;\n          logger.debug({ timestamp: new Date(timestamp) }, 'Notification lastModified');\n          this.dispatch(addProjectModifiedNotification());\n          this.loadProject();\n        }\n        break;\n      case Protobuf.SvPb.NotifyType.configLoaded:\n        fileName = this.getVariantValue(parameter);\n        configName = Configuration.extractConfigNameFromFileName(fileName);\n        logger.debug({ fileName, configName }, 'Notification configLoaded');\n        this.dispatch(addProjectLoadedNotification(fileName));\n        this.loadProject();\n        break;\n      case Protobuf.SvPb.NotifyType.configUnloaded:\n        fileName = this.getVariantValue(parameter);\n        configName = Configuration.extractConfigNameFromFileName(fileName);\n        logger.debug({ fileName, configName }, 'Notification configUnloaded');\n        this.dispatch(addProjectUnloadedNotification(fileName));\n        this.loadProject();\n        break;\n      default:\n        logger.warn({ type, parameter }, 'Unknown notification type');\n        break;\n    }\n  }\n\n  getVariantValue(variant) {\n    return variant && variant[variant.data];\n  }\n\n  formatMessageNotification(messageText, errorNumber) {\n    return (\n      <div>\n        <FormattedMessage id=\"notifications.checkSvimOutput\" />\n        {messageText && (\n          <div>\n            {errorNumber ? `(${errorNumber})` : ' '} {messageText}\n          </div>\n        )}\n      </div>\n    );\n  }\n\n  onObserverNotificationError(err) {\n    logger.error({ err }, 'Notification error');\n    this.unsubscribeFromObserverNotificationStream();\n  }\n\n  subscribeToObserverMessageStream() {\n    this.unsubscribeFromObserverMessageStream();\n    const req = Protobuf.SvPb.GetMessageStreamRequest.create({});\n    this.observerMessageSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onObserverMessage(evt),\n      error: (err) => this.onObserverMessageError(err),\n      complete: () => logger.debug('Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromObserverMessageStream() {\n    if (this.observerMessageSubscription) {\n      this.observerMessageSubscription.unsubscribe();\n    }\n  }\n\n  onObserverMessage(evt) {\n    const { type, messageList } = evt;\n    const { messages } = messageList;\n    logger.debug({ ...evt }, 'SVObserver message stream event');\n\n    switch (type) {\n      case Protobuf.SvPb.MessageType.startMsgBox:\n        {\n          if (!messages || messages.length !== 1) {\n            logger.warn({ type, messages }, 'Expected exactly one message in the message event');\n            return;\n          }\n          const firstMessage = messages[0];\n          const message = this.formatMessageNotification(\n            firstMessage.messageText,\n            firstMessage.messageCode,\n          );\n          this.dispatch(showGlobalMessageOverlay({ message }));\n        }\n        break;\n\n      case Protobuf.SvPb.MessageType.endMsgBox:\n        this.dispatch(hideGlobalMessageOverlay());\n        break;\n\n      case Protobuf.SvPb.MessageType.msgLog:\n        // TODO also handle seveirty\n        (messages || []).forEach(({ messageCode, messageText }) => {\n          this.dispatch(addServerMessageNotification(messageText, messageCode));\n        });\n        break;\n\n      default:\n        logger.warn({ type }, 'Unknown message event type');\n        break;\n    }\n  }\n\n  onObserverMessageError(err) {\n    logger.error({ err }, 'SVObserver message stream error');\n    this.unsubscribeFromObserverMessageStream();\n  }\n\n  subscribeToLockAcquisitionStream(reqInfo) {\n    if (reqInfo.requestTakeover) {\n      this.lock.waitForTakeoverResponse();\n      this.dispatchConfigurationLock(this.lock);\n    }\n    const req = Protobuf.SvPb.LockAcquisitionStreamRequest.create(reqInfo);\n    this.lockAcquisitionSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onLockAcquisition(evt),\n      error: (err) => this.onLockAcquisitionError(err),\n      complete: () => logger.debug('Lock acquisition observable completed'),\n    });\n  }\n\n  async unsubscribeFromLockAcquisitionStream() {\n    if (this.lockAcquisitionSubscription) {\n      this.lockAcquisitionSubscription.unsubscribe();\n      this.lock = new ConfigurationLock({});\n      this.dispatchConfigurationLock(this.lock);\n      await this.getMyPermissions();\n    }\n  }\n\n  onLockAcquisition(evt) {\n    const notification = evt[evt.message];\n    logger.debug('message type: ' + JSON.stringify(evt, undefined, 2));\n    switch (evt.message) {\n      case 'lockAcquiredNotification': {\n        this.onLockAcquiredNotification(notification);\n        break;\n      }\n      case 'lockTakeoverNotification': {\n        this.onLockTakeoverNotification(notification);\n        break;\n      }\n      case 'lockReleasedNotification': {\n        this.onLockReleasedNotification();\n        break;\n      }\n      case 'lockAlreadyLockedNotification': {\n        this.onLockAlreadyLockedNotification(notification);\n        break;\n      }\n      case 'lockTakeoverRejectedNotification': {\n        this.onLockTakeoverRejectedNotification();\n        break;\n      }\n      default:\n        logger.warn({ type: evt.message }, 'Unknown lock acquisition notification type');\n        break;\n    }\n  }\n\n  onLockAcquisitionError(err) {\n    logger.error({ err }, 'Lock acquisition error: ' + JSON.stringify(err, undefined, 2));\n    if (err.code === 403) {\n      this.dispatch(addConfigAlreadyLockedBySameUser());\n    } else if (err.code === 404) {\n      this.dispatch(addTakeoverCandidateNotFoundNotification());\n    } else {\n      this.dispatch(addLockAcquisitionErrorNotification(err.code));\n    }\n  }\n\n  async onLockAcquiredNotification(notification) {\n    this.lock.handleLockAcquiredNotification(notification);\n    this.dispatchConfigurationLock(this.lock);\n    await this.getMyPermissions();\n  }\n\n  onLockTakeoverNotification(notification) {\n    this.lock.handleLockTakeoverNotification(notification);\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  onLockReleasedNotification() {\n    this.lock.handleLockReleasedNotification();\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  onLockAlreadyLockedNotification(notification) {\n    this.lock.handleLockAlreadyLockedNotification(notification);\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  onLockTakeoverRejectedNotification() {\n    this.lock.handleLockTakeoverRejectedNotification();\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  closeAlertDialogs() {\n    this.lock.resetAlertDialogFlags();\n    this.dispatchConfigurationLock(this.lock);\n  }\n\n  async passConfigLock(reqInfo) {\n    const req = Protobuf.SvPb.LockTakeoverRequest.create(reqInfo);\n    try {\n      this.protobuf.request(req);\n      this.lock.resetTakeoverAttempt();\n      this.lock.lockedInSameAppInstance = false;\n    } catch (err) {\n      this.dispatch(addLockTakeoverErrorNotification(err.code));\n      logger.error({ err }, 'Error while perfroming config lock takeover');\n    }\n  }\n\n  async retainConfigLock(reqInfo) {\n    const req = Protobuf.SvPb.LockTakeoverRejectedRequest.create(reqInfo);\n    try {\n      await this.protobuf.request(req);\n      this.lock.resetTakeoverAttempt();\n      this.dispatchConfigurationLock(this.lock);\n    } catch (err) {\n      this.dispatch(addLockTakeoverErrorNotification(err.code));\n      logger.error({ err }, 'Error while perfroming config lock takeover');\n    }\n  }\n\n  subscribeToGatewayNotificationStream() {\n    this.unsubscribeFromGatewayNotificationStream();\n    const req = Protobuf.SvPb.GetGatewayNotificationStreamRequest.create({});\n    this.gatewayNotificationSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onGatewayNotification(evt),\n      error: (err) => this.onGatewayNotificationError(err),\n      complete: () => logger.debug('Gateway Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromGatewayNotificationStream() {\n    if (this.gatewayNotificationSubscription) {\n      this.gatewayNotificationSubscription.unsubscribe();\n    }\n  }\n\n  onGatewayNotification(evt) {\n    const value = evt[evt.message];\n    switch (evt.message) {\n      case 'rejectStreamPaused':\n        {\n          const { pausedInspectionIds } = value;\n          logger.debug({ pausedInspectionIds }, 'Notification rejectStreamPaused');\n          this.onPauseNotification(pausedInspectionIds);\n        }\n        break;\n      case 'configurationLockStatus':\n        {\n          logger.debug({ value }, 'Notification configurationLockStatus');\n          this.updateConfigLockStatus(value);\n          this.getMyPermissions();\n        }\n        break;\n      default:\n        logger.warn({ type: evt.message }, 'Unknown gateway notification type');\n        break;\n    }\n  }\n\n  onGatewayNotificationError(err) {\n    logger.error({ err }, 'Gateway Notification error');\n    this.unsubscribeFromGatewayNotificationStream();\n  }\n\n  subscribeToGatewayMessageStream() {\n    this.unsubscribeFromGatewayMessageStream();\n    const req = Protobuf.SvPb.GetGatewayMessageStreamRequest.create({});\n    this.GatewayMessageSubscription = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onGatewayMessage(evt),\n      error: (err) => this.onGatewayMessageError(err),\n      complete: () => logger.debug('Notification observable completed'),\n    });\n  }\n\n  unsubscribeFromGatewayMessageStream() {\n    if (this.GatewayMessageSubscription) {\n      this.GatewayMessageSubscription.unsubscribe();\n    }\n  }\n\n  onGatewayMessage(evt) {\n    const {\n      type,\n      messageList: { messages = [] },\n    } = evt;\n    logger.debug({ ...evt }, 'Gateway message stream event');\n\n    switch (type) {\n      case Protobuf.SvPb.MessageType.startMsgBox:\n        {\n          if (messages.length !== 1) {\n            logger.warn({ type, messages }, 'Expected exactly one message in the message event');\n            return;\n          }\n          const firstMessage = messages[0];\n          const message = this.formatMessageNotification(\n            firstMessage.messageText,\n            firstMessage.messageCode,\n          );\n          this.dispatch(showGlobalMessageOverlay({ message }));\n        }\n        break;\n\n      case Protobuf.SvPb.MessageType.endMsgBox:\n        this.dispatch(hideGlobalMessageOverlay());\n        break;\n\n      case Protobuf.SvPb.MessageType.msgLog:\n        // TODO also handle seveirty\n        messages.forEach(({ messageCode, messageText }) => {\n          this.dispatch(addServerMessageNotification(messageText, messageCode));\n        });\n        break;\n\n      default:\n        logger.warn({ type }, 'Unknown message event type');\n        break;\n    }\n  }\n\n  onGatewayMessageError(err) {\n    logger.error({ err }, 'Gateway message stream error');\n    this.unsubscribeFromGatewayMessageStream();\n  }\n\n  subscribeToProductStream(desc, cb) {\n    const id = this._getNextSubId();\n    this.subscriptionManager.addSubscription(id, desc, cb);\n    return id;\n  }\n\n  unsubscribeFromProductStream(id) {\n    this.subscriptionManager.removeSubscription(id);\n  }\n\n  _getNextSubId() {\n    return `${++this.nextSubId}`;\n  }\n\n  setUpProductHistories(config) {\n    const inspections = config.getInspections();\n    this.productHistoryManager.init(inspections);\n  }\n\n  async replayProduct(inspectionId, product) {\n    await this.fetchMissingProductData(inspectionId, product);\n    this.subscriptionManager.replayProduct(inspectionId, product);\n  }\n\n  async fetchMissingProductData(inspectionId, product) {\n    const missingImageIds = this.getMissingProductImages(inspectionId, product);\n    const missingValueIds = this.getMissingProductValues(inspectionId, product);\n    if (missingImageIds.length === 0 && missingValueIds.length === 0) {\n      return;\n    }\n\n    const req = Protobuf.SvPb.GetProductDataRequest.create({\n      inspectionId,\n      trigger: product.trigger,\n      imageIds: missingImageIds,\n      valueIds: missingValueIds,\n      includeOverlays: true,\n    });\n    try {\n      const res = await this.protobuf.request(req);\n      await product.addData({\n        trigger: res.trigger,\n        imageIds: missingImageIds,\n        images: res.images,\n        overlays: res.overlays,\n        valueIds: missingValueIds,\n        values: res.values,\n      });\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  getMissingProductImages(inspectionId, product) {\n    const imageIds = this.subscriptionManager.getSubscribedImages(inspectionId);\n    return imageIds.filter((imageId) => product.getImage(imageId) === undefined);\n  }\n\n  getMissingProductValues(inspectionId, product) {\n    const valueIds = this.subscriptionManager.getSubscribedValues(inspectionId);\n    return valueIds.filter((valueId) => product.getValue(valueId) === undefined);\n  }\n\n  onPauseNotification(pausedInspectionIds) {\n    this.dispatch(addRejectStreamPausedNotification(pausedInspectionIds));\n    this.subscriptionManager.updatePausedInspections(pausedInspectionIds);\n    this.dispatch(setPausedInspections(pausedInspectionIds));\n  }\n\n  pauseRejectStream(inspectionId) {\n    this.pauseRejectStreamImpl(true, inspectionId);\n  }\n\n  resumeRejectStream(inspectionId) {\n    this.pauseRejectStreamImpl(false, inspectionId);\n  }\n\n  async pauseRejectStreamImpl(pause, inspectionId) {\n    const request = Protobuf.SvPb.SetRejectStreamPauseStateRequest.create({\n      inspectionId: inspectionId || undefined,\n      pause,\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async getMyPermissions() {\n    let response = {};\n    try {\n      const request = Protobuf.SvPb.GetMyPermissionsRequest.create();\n      response = await this.protobuf.request(request);\n    } catch (err) {\n      logger.error('Cannot get my permissions, fall back to default permissions');\n      response = defaultPermissions;\n    }\n\n    if (!response || !response.permissions) {\n      logger.error('Cannot get my permissions');\n      return false;\n    }\n\n    const myPermissions = new Set();\n    flattenPermissionsRec(response.permissions, myPermissions, '');\n    this.disablePermissionsWhenConfigLocked(myPermissions);\n    this.dispatch(setMyPermissions(myPermissions));\n\n    if (canReadUserManagement(myPermissions) || canEditUserManagement(myPermissions)) {\n      await this.getGroupPermissions();\n    }\n  }\n\n  disablePermissionsWhenConfigLocked(permissions) {\n    if (this.lock.isUnlocked() || this.lock.isLockedInDifferentAppInstance()) {\n      permissions.forEach((permission) => {\n        if (\n          permission.endsWith('.save') ||\n          permission.endsWith('.edit') ||\n          permission.endsWith('.write') ||\n          permission.endsWith('.remove') ||\n          permission.endsWith('.add')\n        ) {\n          permissions.delete(permission);\n        }\n      });\n    }\n  }\n\n  async getGroupPermissions() {\n    const request = Protobuf.SvPb.GetGroupDetailsRequest.create();\n    const response = await this.protobuf.request(request);\n\n    if (!response || !response.groupDetails) {\n      logger.error('Cannot get group permissions');\n      return false;\n    }\n\n    const flattenedPermissions = this.flattenPermissions(response.groupDetails);\n    this.dispatch(setGroupPermissions(flattenedPermissions));\n  }\n\n  flattenPermissions(groupDetails) {\n    const permissions = new Map();\n    (groupDetails || []).forEach((groupDetail) => {\n      const groupPermissions = new Set();\n      flattenPermissionsRec(groupDetail.permissions, groupPermissions, '');\n      permissions.set(groupDetail.name, {\n        groupPermissions,\n        users: groupDetail.users,\n      });\n    });\n    return permissions;\n  }\n\n  async setUserPermissions(groupPermissions) {\n    const request = Protobuf.SvPb.UpdateGroupPermissionsRequest.create({\n      groupPermissions,\n    });\n    try {\n      if (this.protobuf) {\n        await this.protobuf.request(request);\n        await this.getGroupPermissions();\n      }\n    } catch (e) {\n      logger.error({ e }, 'Error while setting user permissions');\n    }\n\n    logger.info('Successfully saved user permissions');\n  }\n\n  async addTool(inspectionID, ownerId, classId, taskObjectPos) {\n    const request = Protobuf.SvPb.InspectionCmdRequest.create({\n      inspectionID,\n      createObjectRequest: {\n        ownerId,\n        classId,\n        taskObjectPos,\n      },\n    });\n\n    try {\n      const response = await this.protobuf.request(request);\n      return response?.createObjectResponse?.objectId;\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async deleteTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.InspectionCmdRequest.create({\n      inspectionID,\n      deleteObjectRequest: {\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async downloadSVOConfig() {\n    const request = Protobuf.SvPb.GetConfigRequest.create({});\n\n    try {\n      const response = await this.protobuf.request(request);\n      return response?.fileData;\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async uploadSVOConfig(fileName, fileData) {\n    const request = Protobuf.SvPb.PutConfigRequest.create({\n      fileName,\n      fileData,\n    });\n\n    try {\n      const res = await this.protobuf.request(request);\n      if (res.hResult) {\n        logger.error({ hResult: res.hResult }, 'Could not load SVO configuration file');\n      }\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async copyTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.ConfigCommandRequest.create({\n      inspectionID,\n      clipboardRequest: {\n        action: Protobuf.SvPb.ClipboardActionEnum.Copy,\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async cutTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.ConfigCommandRequest.create({\n      inspectionID,\n      clipboardRequest: {\n        action: Protobuf.SvPb.ClipboardActionEnum.Cut,\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n\n  async pasteTool(inspectionID, objectID) {\n    const request = Protobuf.SvPb.ConfigCommandRequest.create({\n      inspectionID,\n      clipboardRequest: {\n        action: Protobuf.SvPb.ClipboardActionEnum.Paste,\n        objectID,\n      },\n    });\n\n    try {\n      await this.protobuf.request(request);\n    } catch (error) {\n      logger.error(error);\n    }\n  }\n}\n","export const defaultPermissions = {\n  permissions: {\n    webapp: {\n      configuration: {\n        save: true,\n      },\n      logs: {\n        read: true,\n      },\n      viewset: {\n        add: true,\n        read: true,\n        edit: true,\n        remove: true,\n      },\n      view: [\n        {\n          type: 0,\n          add: true,\n          read: true,\n          edit: true,\n          remove: true,\n        },\n      ],\n    },\n    svobserver: {\n      mode: {\n        read: true,\n        edit: true,\n      },\n      inspectionstate: {\n        read: true,\n        edit: true,\n      },\n      value: {\n        read: true,\n        edit: true,\n      },\n      tool: {\n        read: true,\n        edit: true,\n        add: true,\n        remove: true,\n      },\n      configuration: {\n        read: true,\n        write: true,\n      },\n      notifications: {\n        subscribe: true,\n      },\n      clientlogs: {\n        store: true,\n      },\n      file: {\n        read: true,\n        write: true,\n      },\n      machinestate: {\n        set: true,\n      },\n      command: {\n        execute: true,\n      },\n    },\n    usermanagement: {\n      userpermissions: {\n        // currently set to false because default permissions are used as fallback if svobserver has not yet implemented permissions\n        read: false,\n        edit: false,\n      },\n    },\n  },\n};\n","import PropTypes from 'prop-types';\n\nconst actionList = PropTypes.arrayOf(\n  PropTypes.shape({ intlId: PropTypes.string, iconUrl: PropTypes.string }),\n);\nconst ActionBarType = PropTypes.oneOfType([actionList, PropTypes.func]);\n\nexport const TOGGLE_BUTTON = 'TOGGLE_BUTTON';\nexport const SEPARATOR = 'SEPARATOR';\n\nexport default ActionBarType;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\nimport Heading from '../../../../components/typo/Heading';\n\nconst ShortcutListItem = ({ title, description }) => (\n  <li className=\"shortcut-list-item\">\n    <Heading type=\"h3\" intlId={title} />\n    <FormattedMessage id={description} />\n  </li>\n);\n\nexport const propTypes = {\n  title: PropTypes.node.isRequired,\n  description: PropTypes.node.isRequired,\n};\nShortcutListItem.propTypes = propTypes;\n\nexport default ShortcutListItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport shortId from 'shortid';\n\nimport './style.scss';\nimport ShortcutListItem, { propTypes as shortcutListItemPropTypes } from '../ShortcutListItem';\n\nconst ShortcutList = ({ shortcuts }) => (\n  <ul className=\"shortcut-list\">\n    {shortcuts.map((shortcut) => (\n      <ShortcutListItem\n        key={shortId.generate()}\n        title={shortcut.title}\n        description={shortcut.description}\n      />\n    ))}\n  </ul>\n);\n\nShortcutList.propTypes = {\n  shortcuts: PropTypes.arrayOf(PropTypes.shape(shortcutListItemPropTypes)).isRequired,\n};\n\nexport default ShortcutList;\n","const shortcuts = [\n  {\n    title: 'shortcutView.fullscreenTitle',\n    description: 'shortcutView.fullscreenDescription',\n  },\n  {\n    title: 'shortcutView.helpTitle',\n    description: 'shortcutView.helpDescription',\n  },\n];\n\nexport default shortcuts;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\n\nimport Dialog from '../../components/Dialog';\nimport ShortcutList from './components/ShortcutList';\nimport shortcuts from './shortcuts';\n\nconst ShortcutView = ({ open, onClose }) => (\n  <Dialog title={<FormattedMessage id=\"shortcutView.title\" />} onClose={onClose} open={open}>\n    <ShortcutList shortcuts={shortcuts} />\n  </Dialog>\n);\n\nShortcutView.defaultProps = {\n  open: false,\n};\n\nShortcutView.propTypes = {\n  open: PropTypes.bool,\n  onClose: PropTypes.func.isRequired,\n};\n\nexport default ShortcutView;\n","import Product from './Product';\n\nexport default class ProductHistory {\n  constructor(inspectionId) {\n    this.inspectionId = inspectionId;\n    this.history = [];\n  }\n\n  async addProductData(productData) {\n    const { trigger, isReject } = productData;\n    const entry = this.history.find((e) => e.trigger === trigger);\n    let product = null;\n    if (entry) {\n      product = entry.product;\n    } else {\n      product = new Product({ trigger, isReject, history: this });\n      this.history.push({\n        trigger,\n        product,\n      });\n    }\n\n    await product.addData(productData);\n\n    return product;\n  }\n\n  releaseProduct(trigger) {\n    const entry = this.history.find((entry) => entry.trigger === trigger);\n    if (!entry) {\n      return;\n    }\n\n    const wasReleased = entry.product.releaseImpl();\n    if (wasReleased) {\n      this.history = this.history.filter((e) => e !== entry);\n    }\n  }\n}\n","import ProductHistory from './ProductHistory';\n\nexport default class ProductHistoryManager {\n  constructor() {\n    this.productHistories = new Map();\n  }\n\n  init(inspections) {\n    this.productHistories.clear();\n\n    (inspections || []).forEach((inspection) => {\n      const inspectionId = inspection.id;\n      const history = new ProductHistory(inspectionId);\n      this.productHistories.set(inspectionId, history);\n    });\n  }\n\n  async addProductData(inspectionId, productData) {\n    const productHistory = this.productHistories.get(inspectionId);\n    if (!productHistory) {\n      return undefined;\n    }\n    return await productHistory.addProductData(productData);\n  }\n}\n","import each from 'lodash/each';\nimport logger from '../utils/logger';\nimport Protobuf from './Protobuf';\n\nexport default class InspectionSubscription {\n  constructor({ inspectionId, productHistoryManager, protobuf, paused }) {\n    this.inspectionId = inspectionId;\n    this.productHistoryManager = productHistoryManager;\n    this.protobuf = protobuf;\n    this.lastTrigger = -1;\n    this.subsById = new Map();\n    this.paused = paused;\n    this.selectedTrigger = null;\n    this.baseSub = null;\n  }\n\n  pause() {\n    this.paused = true;\n  }\n\n  resume() {\n    this.paused = false;\n    this.selectedTrigger = null;\n  }\n\n  replayProduct(product) {\n    this.selectedTrigger = product.trigger;\n    this.emitProductToAllSubscriptions(product);\n  }\n\n  addSubscription(id, desc, cb) {\n    const subscription = { id, desc, cb };\n    this.subsById.set(id, subscription);\n\n    const { inspectionId } = desc;\n    if (this.inspectionId !== inspectionId) {\n      throw new Error('Insection id does not match');\n    }\n\n    this.resubscribeToStream();\n  }\n\n  removeSubscription(id) {\n    const subscription = this.subsById.get(id);\n    if (!subscription) {\n      logger.warn({ id }, 'Unable to unsubscribe listener: unknown id');\n      return;\n    }\n\n    this.swapLastProduct(subscription, null);\n\n    this.subsById.delete(id);\n\n    this.resubscribeToStream();\n  }\n\n  isEmpty() {\n    return this.subsById.size === 0;\n  }\n\n  getSubscribedImages() {\n    return this.uniqueIds('imageIds');\n  }\n\n  getSubscribedValues() {\n    return this.uniqueIds('valueIds');\n  }\n\n  setProtobuf(protobuf) {\n    this.protobuf = protobuf;\n    // TODO re-subscribe!\n  }\n\n  resubscribeToStream() {\n    this.unsubscribeFromStream();\n    if (!this.isEmpty()) {\n      this.subscribeToStream();\n    }\n  }\n\n  subscribeToStream() {\n    // TODO generate nonce per subscription so we know whether we get an event for an old sub\n    const params = this.buildReqParams();\n    const req = Protobuf.SvPb.GetProductStreamRequest.create(params);\n    this.baseSub = this.protobuf.stream(req).subscribe({\n      next: (evt) => this.onStreamEvent(req, evt),\n      error: (err) => this.onStreamError(err),\n      // TODO: how do we want to report complete event to the client?\n      //       we could return an event emitter...\n      complete: () => logger.debug('Product observable completed'),\n    });\n  }\n\n  buildReqParams() {\n    return {\n      inspectionId: this.inspectionId,\n      startAtTriggerCount: this.getStartAtTriggerCount(),\n      includeFailStatusValues: true,\n      valueIds: this.uniqueIds('valueIds'),\n      imageIds: this.uniqueIds('imageIds'),\n      rejectValueIds: this.uniqueIds('rejectValueIds'),\n      rejectImageIds: this.uniqueIds('rejectImageIds'),\n      rejectsOnly: this.isRejectsOnly(),\n      imageFormat: Protobuf.SvPb.ImageFormatEnum.bmp,\n      includeOverlays: true,\n    };\n  }\n\n  getStartAtTriggerCount() {\n    let startAtTriggerCount = 0;\n    this.subsById.forEach((sub) => {\n      if (\n        !isNaN(sub.desc.startAtTriggerCount) &&\n        sub.desc.startAtTriggerCount < startAtTriggerCount\n      ) {\n        startAtTriggerCount = sub.desc.startAtTriggerCount;\n      }\n    });\n    if (startAtTriggerCount === -1 && this.trigger > 0) {\n      return this.trigger;\n    }\n    return startAtTriggerCount;\n  }\n\n  isRejectsOnly() {\n    let rejectsOnly = true;\n    this.subsById.forEach((sub) => {\n      if (!sub.desc.rejectsOnly) {\n        rejectsOnly = false;\n      }\n    });\n    return rejectsOnly;\n  }\n\n  uniqueIds(key) {\n    const ids = new Set();\n    this.subsById.forEach((sub) => {\n      each(sub.desc[key], (id) => ids.add(id));\n    });\n    return Array.from(ids);\n  }\n\n  unsubscribeFromStream() {\n    if (this.baseSub && this.baseSub.unsubscribe) {\n      this.baseSub.unsubscribe();\n    }\n    this.baseSub = null;\n  }\n\n  async onStreamEvent(req, rawEvent) {\n    const { trigger, isReject } = rawEvent;\n    const images = this.gatherImages(req, rawEvent);\n    const values = this.gatherValues(req, rawEvent);\n\n    const productData = {\n      trigger,\n      isReject,\n      images,\n      values,\n    };\n\n    const product = await this.productHistoryManager.addProductData(this.inspectionId, productData);\n    this.lastTrigger = trigger;\n    this.emitProductToAllSubscriptions(product);\n  }\n\n  gatherImages(req, rawEvent) {\n    const { imageIds, rejectImageIds } = req;\n    const { isReject, images, rejectImages, overlays: overlaysList, rejectOverlays } = rawEvent;\n\n    const result = new Map();\n\n    imageIds.forEach((id, idx) => {\n      const image = (images || [])[idx];\n      const overlays = (overlaysList || [])[idx];\n      if (image) {\n        result.set(id, {\n          id,\n          image,\n          overlays,\n        });\n      }\n    });\n\n    if (isReject) {\n      rejectImageIds.forEach((id, idx) => {\n        const image = (rejectImages || [])[idx];\n        const overlays = (rejectOverlays || [])[idx];\n        if (image) {\n          result.set(id, {\n            id,\n            image,\n            overlays,\n          });\n        }\n      });\n    }\n\n    return result;\n  }\n\n  gatherValues(req, rawEvent) {\n    const { valueIds, rejectValueIds } = req;\n    const { isReject, values, rejectValues } = rawEvent;\n\n    const result = new Map();\n\n    valueIds.forEach((id, idx) => {\n      const value = (values || [])[idx];\n      if (value) {\n        result.set(id, {\n          id,\n          value,\n        });\n      }\n    });\n\n    if (isReject) {\n      rejectValueIds.forEach((id, idx) => {\n        const value = (rejectValues || [])[idx];\n        if (value) {\n          result.set(id, {\n            id,\n            value,\n          });\n        }\n      });\n    }\n\n    return result;\n  }\n\n  emitProductToAllSubscriptions(product) {\n    this.subsById.forEach((subscription) => {\n      this.emitProductToSubscription(subscription, product);\n    });\n  }\n\n  emitProductToSubscription(subscription, product) {\n    const hasRequestedData = this.hasAllRequestedDataForSubscription(product, subscription);\n    const isInterestedIn = this.isInterestedInNewPorduct(product, subscription);\n    if (hasRequestedData && isInterestedIn) {\n      product.lock();\n      subscription.cb({ product });\n      this.swapLastProduct(subscription, product);\n    }\n  }\n\n  hasAllRequestedDataForSubscription(product, subscription) {\n    // if only reject values requested and product is not a reject\n    if (!subscription.desc.imageIds && !subscription.desc.valueIds && !product.isReject) {\n      return false;\n    }\n    return (\n      this.hasDataForSubscriptionInList(subscription.desc.valueIds, product.values) ||\n      this.hasDataForSubscriptionInList(subscription.desc.rejectValueIds, product.values) ||\n      this.hasDataForSubscriptionInList(subscription.desc.imageIds, product.images) ||\n      this.hasDataForSubscriptionInList(subscription.desc.rejectImageIds, product.images)\n    );\n  }\n\n  isInterestedInNewPorduct(product, subscription) {\n    if (this.selectedTrigger) {\n      return this.selectedTrigger === product.trigger;\n    }\n    if (subscription.lastProduct) {\n      return (\n        subscription.desc.allowOldTrigger || subscription.lastProduct.trigger < product.trigger\n      );\n    }\n    return true;\n  }\n\n  hasDataForSubscriptionInList(requestedIds, map) {\n    const arr = requestedIds || [];\n    for (let i = 0; i < arr.length; ++i) {\n      if (!map.has(arr[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  swapLastProduct(subscription, product) {\n    if (subscription.lastProduct && !subscription.desc.manualRelease) {\n      subscription.lastProduct.release();\n    }\n    subscription.lastProduct = product;\n  }\n\n  onStreamError(err) {\n    // TODO: forward err to callback\n    logger.error({ err }, 'Stream error');\n    // TODO: unsubscribe all in case of error!\n  }\n}\n","import logger from '../utils/logger';\nimport InspectionSubscription from './InspectionSubscription';\n\nexport default class SubscriptionManager {\n  constructor({ productHistoryManager }) {\n    this.productHistoryManager = productHistoryManager;\n    this.inspectionIdBySubId = new Map();\n    this.subsByInspectionId = new Map();\n    this.pausedInspectionIds = [];\n    this.protobuf = null;\n  }\n\n  updatePausedInspections(pausedInspectionIds) {\n    this.pausedInspectionIds = pausedInspectionIds;\n    for (let [key, value] of this.subsByInspectionId.entries()) {\n      if (pausedInspectionIds.includes(key)) {\n        value.pause();\n      } else {\n        value.resume();\n      }\n    }\n  }\n\n  replayProduct(inspectionId, product) {\n    const inspection = this.subsByInspectionId.get(inspectionId);\n    if (inspection) {\n      inspection.replayProduct(product);\n    }\n  }\n\n  addSubscription(id, desc, cb) {\n    const { inspectionId, startAtTriggerCount } = desc;\n    this.inspectionIdBySubId.set(id, inspectionId);\n    const isPaused = this.pausedInspectionIds.includes(inspectionId);\n    let subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      subscription = new InspectionSubscription({\n        inspectionId,\n        startAtTriggerCount,\n        productHistoryManager: this.productHistoryManager,\n        paused: isPaused,\n        protobuf: this.protobuf,\n      });\n      this.subsByInspectionId.set(inspectionId, subscription);\n    }\n    subscription.addSubscription(id, desc, cb);\n  }\n\n  removeSubscription(id) {\n    const inspectionId = this.inspectionIdBySubId.get(id);\n    if (!inspectionId) {\n      logger.warn({ id }, 'Unable to unsubscribe listener: unknown id');\n      return;\n    }\n\n    const subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      logger.warn({ id }, 'Unable to unsubscribe listener: unknown inspection id');\n      return;\n    }\n\n    subscription.removeSubscription(id);\n\n    if (subscription.isEmpty()) {\n      this.subsByInspectionId.delete(inspectionId);\n    }\n  }\n\n  getSubscribedImages(inspectionId) {\n    const subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      return [];\n    }\n    return subscription.getSubscribedImages();\n  }\n\n  getSubscribedValues(inspectionId) {\n    const subscription = this.subsByInspectionId.get(inspectionId);\n    if (!subscription) {\n      return [];\n    }\n    return subscription.getSubscribedValues();\n  }\n\n  setProtobuf(protobuf) {\n    this.protobuf = protobuf;\n    this.subsByInspectionId.forEach((subscription) => subscription.setProtobuf(protobuf));\n  }\n}\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\n\nimport './style.scss';\nimport closeIcon from '../../assets/icons/close.svg';\n\nimport ActionBar from '../../components/ActionBar';\nimport ActionBarType from '../../types/ActionBarType';\nimport IconButton from '../buttons/IconButton';\n\nclass Dialog extends Component {\n  render() {\n    const {\n      children,\n      onClose,\n      dialogActions,\n      title,\n      intl,\n      open,\n      isInView,\n      isHeight100,\n      isFullscreen,\n      isPopup,\n    } = this.props;\n    const dialogClass = classNames({\n      dialog: true,\n      'dialog--open': open,\n      'is-in-view': isInView,\n      'is-height-100': isHeight100,\n    });\n    const dialogWrapperClass = classNames({\n      'dialog-wrapper': true,\n      'is-height-100': isInView || isFullscreen,\n      'is-width-100': isFullscreen,\n      isPopup: isPopup,\n    });\n\n    const dialogContentWrapperClass = classNames({\n      'dialog-content-wrapper': true,\n      'is-padding-0': isInView,\n      isPopup: isPopup,\n    });\n\n    if (!open) {\n      return false;\n    }\n    return (\n      <div className={dialogClass}>\n        <div className={dialogWrapperClass}>\n          <div className=\"dialog-toolbar\">\n            <div className=\"dialog-title\">{title}</div>\n            <div className=\"dialog-controll-wrapper\">\n              <IconButton\n                tooltip={intl.messages['viewSetManager.close']}\n                iconUrl={closeIcon}\n                onClick={() => {\n                  onClose();\n                }}\n              />\n            </div>\n          </div>\n          <div className={dialogContentWrapperClass}>{children}</div>\n          <div className=\"dialog-action-wrapper\">\n            {dialogActions && <ActionBar isViewAction actions={dialogActions} />}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nDialog.defaultProps = {\n  open: false,\n  title: undefined,\n  dialogActions: undefined,\n  isInView: false,\n  isFullscreen: false,\n  isPopup: false,\n};\n\nDialog.propTypes = {\n  children: PropTypes.node.isRequired,\n  open: PropTypes.bool,\n  isInView: PropTypes.bool,\n  dialogActions: ActionBarType,\n  title: PropTypes.node,\n  onClose: PropTypes.func.isRequired,\n  isFullscreen: PropTypes.bool,\n  isPopup: PropTypes.bool,\n};\n\nexport default injectIntl(Dialog);\n","const AUTH_TOKEN_KEY = 'svAuthToken';\nconst USER_KEY = 'svObserverUser';\nexport const CONFIG_INFO = 'configInfo';\nexport const CONFIGURATION_CHUNK_TEMPLATE = 'configChunk_';\nexport const CONFIGURATION_CHUNK_LIST = 'configChunkList';\n\nexport const loadState = () => {\n  const authToken = localStorage.getItem(AUTH_TOKEN_KEY);\n  if (!authToken) {\n    return {};\n  }\n\n  const userStr = localStorage.getItem(USER_KEY);\n  let user;\n  try {\n    user = JSON.parse(userStr);\n  } catch (e) {\n    return {};\n  }\n\n  if (!user) {\n    return {};\n  }\n\n  return { authToken, user };\n};\n\nexport const resetState = () => {\n  localStorage.removeItem(AUTH_TOKEN_KEY);\n  localStorage.removeItem(USER_KEY);\n  localStorage.removeItem(CONFIG_INFO);\n  localStorage.removeItem(CONFIGURATION_CHUNK_LIST);\n};\n\nexport const saveState = (authToken, user) => {\n  localStorage.setItem(AUTH_TOKEN_KEY, authToken);\n  localStorage.setItem(USER_KEY, JSON.stringify(user));\n};\n","import { createLogger } from 'browser-bunyan';\nimport browserStdout from 'browser-stdout';\nimport bunyanFormat from 'bunyan-format';\n\nclass ProxyStream {\n  constructor(opts = {}) {\n    this.proxy = null;\n    this.pendingMessages = [];\n    this.opts = opts;\n    this.start();\n  }\n\n  start() {\n    const { throttleInterval } = this.opts;\n\n    const throttleRequests = () => {\n      this.currentThrottleTimeout = setTimeout(() => {\n        const recs = this.pendingMessages;\n        this.pendingMessages = [];\n\n        if (recs.length > 0) {\n          if (!this.proxy) {\n            this.pendingMessages = recs;\n          } else {\n            this.proxy.sendLogsToServer(recs);\n          }\n        }\n        throttleRequests();\n      }, throttleInterval);\n    };\n\n    throttleRequests();\n  }\n\n  setProxy(proxy) {\n    this.proxy = proxy;\n\n    if (this.proxy && this.pendingMessages.length > 0) {\n      this.proxy.sendLogsToServer(this.pendingMessages);\n      this.pendingMessages = [];\n    }\n  }\n\n  removeProxy() {\n    this.proxy = null;\n    this.pendingMessages = [];\n  }\n\n  write(rec) {\n    if (this.currentThrottleTimeout) {\n      const idx = this.pendingMessages.findIndex(\n        (message) => message.level === rec.level && message.msg === rec.msg,\n      );\n\n      if (idx >= 0) {\n        if (!this.pendingMessages[idx].sameMessageCount) {\n          this.pendingMessages[idx] = { ...this.pendingMessages[idx], sameMessageCount: 1 };\n        }\n        this.pendingMessages[idx].sameMessageCount++;\n      } else {\n        this.pendingMessages.push(rec);\n      }\n    }\n  }\n}\n\nclass FormatStream {\n  constructor() {\n    const out = browserStdout({\n      label: false,\n    });\n    this.impl = bunyanFormat(\n      {\n        outputMode: 'short',\n        color: false,\n      },\n      out,\n    );\n  }\n\n  write(rec) {\n    this.impl.write(JSON.stringify(rec));\n  }\n}\n\nconst proxyStream = new ProxyStream({\n  throttleInterval: 3000,\n});\nconst formatStream = new FormatStream();\nconst logger = createLogger({\n  name: 'SvWebApp',\n  streams: [\n    {\n      level: 'warn',\n      stream: proxyStream,\n      type: 'raw',\n    },\n    {\n      level: 'debug',\n      stream: formatStream,\n      type: 'stream',\n    },\n  ],\n});\n\nlogger.setProxy = (proxy) => proxyStream.setProxy(proxy);\nlogger.removeProxy = (proxy) => proxyStream.removeProxy(proxy);\n\nexport default logger;\n","export const isObjectValid = (prop) => {\n  try {\n    return prop();\n  } catch (error) {\n    return undefined;\n  }\n};\n","class Observer {\n  constructor(observable) {\n    this.closed = false;\n    this.observable = observable;\n  }\n\n  next(v) {\n    return this.observable.onNext(v);\n  }\n\n  error(err) {\n    return this.observable.onError(err);\n  }\n\n  complete() {\n    return this.observable.onComplete();\n  }\n}\n\nexport class Observable {\n  static create(onSubscribe) {\n    return new Observable(onSubscribe);\n  }\n\n  constructor(onSubscribe) {\n    this._onSubscribe = onSubscribe;\n    this._next = () => void 0;\n    this._error = () => void 0;\n    this._complete = () => void 0;\n  }\n\n  subscribe(desc) {\n    if (typeof desc.next === 'function') {\n      this._next = desc.next;\n    }\n    if (typeof desc.error === 'function') {\n      this._error = desc.error;\n    }\n    if (typeof desc.complete === 'function') {\n      this._complete = desc.complete;\n    }\n    const observer = new Observer(this);\n    // TODO use of tearDownCb\n    const tearDownCb = this._onSubscribe(observer);\n    return {\n      unsubscribe: () => {\n        if (typeof tearDownCb === 'function') {\n          tearDownCb();\n        }\n        // TODO support multiple subscriber?\n        this._next = () => void 0;\n        this._error = () => void 0;\n        this._complete = () => void 0;\n      },\n    };\n  }\n\n  onNext(v) {\n    return this._next(v);\n  }\n\n  onError(err) {\n    return this._error(err);\n  }\n\n  onComplete() {\n    return this._complete();\n  }\n}\n","import ProtoJs from 'protobufjs';\nimport logger from '../utils/logger';\nimport { Observable } from './Observable';\n\nexport default class Protobuf {\n  // will be initialized with Protobuf.init()\n  static SvPenv = {};\n  static SvPb = {};\n  static nextTxId = 0;\n  static nextStreamId = 0;\n  static initialized = false;\n\n  static async init() {\n    Protobuf.SvPenv = await Protobuf.loadProto('/res/proto/Envelope.proto', 'SvPenv');\n    Protobuf.SvPb = await Protobuf.loadProto('/res/proto/SVRC.proto', 'SvPb');\n    Protobuf.SvAuth = await Protobuf.loadProto('/res/proto/SVRC.proto', 'SvAuth');\n    Protobuf.initialized = true;\n  }\n\n  static async loadProto(path, namespace) {\n    const root = await ProtoJs.load(path);\n    return root.lookup(namespace);\n  }\n\n  constructor() {\n    this.pendingRequests = new Map();\n    this.openStreams = new Map();\n    this.socket = null;\n  }\n\n  isConnected() {\n    return !!this.socket;\n  }\n\n  onConnect(socket) {\n    const prevSocket = this.socket;\n    this.socket = socket;\n    if (prevSocket !== socket) {\n      this.cancelAllPendingRequests(new Error('Connection changed'));\n    }\n  }\n\n  async readMessage(data) {\n    const env = await Protobuf.SvPenv.Envelope.decode(new Uint8Array(data));\n\n    switch (env.type) {\n      case Protobuf.SvPenv.MessageType.response:\n        this.onResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.errorResponse:\n        this.onErrorResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamResponse:\n        this.onStreamResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamErrorResponse:\n        this.onStreamErrorResponse(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamFinish:\n        this.onStreamFinish(env);\n        break;\n      case Protobuf.SvPenv.MessageType.streamCancel:\n        this.onStreamCancel(env);\n        break;\n      default:\n        logger.error({ type: env.type }, 'Received message with unexpected type');\n    }\n  }\n\n  onResponse(env) {\n    const txId = env.transactionId;\n    const hdl = this.pendingRequests.get(txId);\n    if (!hdl) {\n      logger.error({ txId }, 'Received response for unknown transaction id');\n      return;\n    }\n    const res = this.unwrapResponse(env);\n    this.pendingRequests.delete(txId);\n    if (hdl.handled) {\n      return;\n    }\n\n    clearTimeout(hdl.timeout);\n    hdl.resolve(res);\n  }\n\n  onErrorResponse(env) {\n    const txId = env.transactionId;\n    const err = this.unwrapErrorResponse(env);\n    return this.onErrorResponseImpl(txId, err);\n  }\n\n  onErrorResponseImpl(txId, err) {\n    const hdl = this.pendingRequests.get(txId);\n    if (!hdl) {\n      logger.error({ txId }, 'Received response for unknown transaction id');\n      return;\n    }\n\n    this.pendingRequests.delete(txId);\n    if (hdl.handled) {\n      return;\n    }\n\n    clearTimeout(hdl.timeout);\n    hdl.reject(err);\n  }\n\n  cancelAllPendingRequests(err) {\n    for (let txId of this.pendingRequests.keys()) {\n      this.onErrorResponseImpl(txId, err);\n    }\n  }\n\n  onRequestTimeout(txId) {\n    const hdl = this.pendingRequests.get(txId);\n    if (!hdl) {\n      logger.error({ txId }, 'Received response for unknown transaction id');\n      return;\n    }\n\n    hdl.handled = true;\n    hdl.reject(new Error('Request timed out'));\n  }\n\n  async onStreamResponse(env) {\n    const streamId = env.transactionId;\n    const hdl = this.openStreams.get(streamId);\n    if (!hdl) {\n      logger.info({ streamId }, 'Received update for unknown stream id');\n      return;\n    }\n    const res = this.unwrapResponse(env);\n    await hdl.observer.next(res);\n    this.ackStreamResponse(env);\n  }\n\n  onStreamErrorResponse(env) {\n    const streamId = env.transactionId;\n    const hdl = this.openStreams.get(streamId);\n    if (!hdl) {\n      logger.error({ streamId }, 'Received error for unknown stream id');\n      return;\n    }\n    const err = this.unwrapErrorResponse(env);\n    this.openStreams.delete(streamId);\n    hdl.observer.error(err);\n  }\n\n  onStreamFinish(env) {\n    const streamId = env.transactionId;\n    const hdl = this.openStreams.get(streamId);\n    if (!hdl) {\n      logger.error({ streamId }, 'Received finish for unknown stream id');\n      return;\n    }\n\n    this.openStreams.delete(streamId);\n    hdl.observer.complete();\n  }\n\n  onStreamCancel() {\n    // ignore cancel envelopes. they should\n    // be sent from client to server only.\n  }\n\n  request(req) {\n    return new Promise((resolve, reject) => {\n      if (!this.socket) {\n        return reject(new Error('No socket available'));\n      }\n      Protobuf.nextTxId += 1;\n      const txId = Protobuf.nextTxId;\n      const env = this.wrapMessage(req, txId, Protobuf.SvPenv.MessageType.request);\n      const buf = this.serializeEnvelope(env);\n      const timeout = setTimeout(this.onRequestTimeout.bind(this, txId), 60 * 1000);\n      this.pendingRequests.set(txId, { resolve, reject, timeout });\n      this.socket.send(buf);\n    });\n  }\n\n  stream(req) {\n    return Observable.create((observer) => {\n      if (!this.socket) {\n        return observer.error(new Error('No socket available'));\n      }\n      Protobuf.nextStreamId += 1;\n      const streamId = Protobuf.nextStreamId;\n      const env = this.wrapMessage(req, streamId, Protobuf.SvPenv.MessageType.streamRequest);\n      const buf = this.serializeEnvelope(env);\n      this.openStreams.set(streamId, { observer });\n      this.socket.send(buf);\n\n      return () => {\n        this.openStreams.delete(streamId);\n        this.cancelStream(streamId);\n      };\n    });\n  }\n\n  cancelStream(transactionId) {\n    if (!this.socket) {\n      return;\n    }\n    const type = Protobuf.SvPenv.MessageType.streamCancel;\n    const params = { transactionId, type };\n    const env = Protobuf.SvPenv.Envelope.fromObject(params);\n    const buf = this.serializeEnvelope(env);\n    this.socket.send(buf);\n  }\n\n  ackStreamResponse(env) {\n    const ackEnv = Protobuf.SvPenv.Envelope.fromObject({\n      transactionId: env.transactionId,\n      sequenceNumber: env.sequenceNumber,\n      type: Protobuf.SvPenv.MessageType.streamAck,\n    });\n    const buf = this.serializeEnvelope(ackEnv);\n    this.socket.send(buf);\n  }\n\n  wrapMessage(req, transactionId, type = Protobuf.SvPenv.MessageType.request) {\n    const message = this.wrapOneOf(req);\n    const envelope = Protobuf.SvPenv.Envelope.fromObject({\n      payloadType: this.getPayloadTypeForOneOfMessage(message),\n      payload: this.packToAny(message),\n      transactionId,\n      type,\n    });\n    return envelope;\n  }\n\n  // NOTE: ignoring payload_type as we want to unpack anyways\n  //       so no need to dispatch the message before unpacking\n  unwrapResponse(env) {\n    const message = this.unpackFromAny(env.payload);\n    const res = this.unwrapOneOf(message);\n    return res;\n  }\n\n  unwrapErrorResponse(env) {\n    const error = new Error(env.error.message);\n    error.code = env.error.errorCode;\n\n    if (env.error.payload) {\n      const payload = this.unpackFromAny(env.error.payload);\n      error.payload = payload;\n    }\n    return error;\n  }\n\n  wrapOneOf(req) {\n    const fieldName = this.getFieldNameForSVRCMessage(req);\n    return Protobuf.SvPb.SVRCMessages.create({ [fieldName]: req });\n  }\n\n  unwrapOneOf(message) {\n    return message[message.message];\n  }\n\n  // by convention, the field name of the SVRCMessages oneof is\n  // equal to the type name, except that first letter is lower-case.\n  getFieldNameForSVRCMessage(message) {\n    const name = message.$type.name;\n    return name.substr(0, 1).toLowerCase() + name.substr(1);\n  }\n\n  getPayloadTypeForOneOfMessage(message) {\n    const fieldName = message.message;\n    const type = message.$type.fields[fieldName];\n    return type.id;\n  }\n\n  packToAny(message) {\n    const type = message.$type;\n    const typeName = type.fullName.slice(1); // remove leading dot\n    // the c++ protobuf library uses this as the default prefix\n    const typeUrlPrefix = 'type.googleapis.com';\n    const encoded = type.encode(message).finish();\n    return {\n      type_url: `${typeUrlPrefix}/${typeName}`,\n      value: encoded,\n    };\n  }\n\n  unpackFromAny(any) {\n    let typeName = any.type_url;\n    const slashIdx = typeName.indexOf('/');\n    if (slashIdx !== -1) {\n      typeName = typeName.slice(slashIdx + 1);\n    }\n    const type = Protobuf.SvPb.lookup(typeName);\n    if (!type) {\n      logger.error({ type: any.type_url }, 'Received message with unknown payload type');\n      return;\n    }\n    return type.decode(any.value);\n  }\n\n  serializeEnvelope(envelope) {\n    const buf = Protobuf.SvPenv.Envelope.encode(envelope).finish();\n    const raw = buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.length);\n    return raw;\n  }\n}\n","export default __webpack_public_path__ + \"static/media/back.c6197e51.svg\";","import protobufjs from 'protobufjs';\n\nexport const utf8StringToBuffer = (str) => {\n  const len = protobufjs.util.utf8.length(str);\n  const buf = new Uint8Array(len);\n  protobufjs.util.utf8.write(str, buf, 0);\n  return buf;\n};\n\nexport const bufferToUtf8String = (buffer) => {\n  return protobufjs.util.utf8.read(buffer, 0, buffer.length);\n};\n","import semver from 'semver';\n\nimport Protobuf from '../protobuf/Protobuf';\nimport { bufferToUtf8String, utf8StringToBuffer } from '../protobuf/Utils';\nimport logger from '../utils/logger';\n\nimport ViewSetFactory, {\n  DEFAULT_VIEWSET_NAME,\n  TOOLSET_VIEW,\n  IMAGE_VIEW,\n  LIST_VIEW,\n  IMAGE_STRIP_VIEW,\n} from '../views/ViewSetFactory';\n\nconst viewSetFactory = new ViewSetFactory();\n\n/*\n * Version Changelog:\n * 1:   createdViewSets and currentViewSet property as initial state\n * 2:   added inspectionOverlays property\n * 3:   added inspectionListSelection property\n * 3.1: added inspectionEditingViewIds property\n * 4.0.0: breaking change bw 8.10-8.20. Uses GUIDs instead dotted names\n * 5.0.0: breaking change between 8.20 and 10.00. Uses int ids instead of GUIDs\n */\n\nconst WEBAPP_CHUNK_FILENAME = 'WebApp.json';\nconst WEBAPP_IDMAPPING_FILENAME = 'WebAppIds.json';\nconst WEBAPP_CHUNK_VERSION = '5.0.0';\nconst WEBAPP_CHUNK_PARAMETERS = {\n  VERSION: 'version',\n  SV_OBSERVER_VERSION: 'svObserverVersion',\n  GATEWAY_VERSION: 'gatewayVersion',\n  WEBAPP_VERSION: 'webAppVersion',\n  CREATED_VIEW_SETS: 'createdViewSets',\n  CURRENT_VIEW_SETS: 'currentViewSet',\n  INSPECTION_OVERLAYS: 'inspectionOverlays',\n  INSPECTION_LIST_SELECTION: 'inspectionListSelection',\n  INSPECTION_EDITING_VIEW_IDS: 'inspectionEditingViewIds',\n  INSPECTION_LIST_ALIASES: 'inspectionListAliases',\n  INSPECTION_IMAGE_VIEW_SETTINGS: 'inspectionImageViewSettings',\n};\n\nexport const saveChunk = (protobuf, currentState, actions) => async (dispatch) => {\n  const { setSaveOperationInProcess, setSaveFlag } = actions;\n  // extract the saveable information from store\n  const inspectionOverlays = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    const overlays = Object.keys(inspection.sharedState.views).map((viewId) => ({\n      viewId,\n      overlays:\n        inspection.sharedState.views[viewId] && inspection.sharedState.views[viewId].overlays,\n      sourceImage:\n        inspection.sharedState.views[viewId] && inspection.sharedState.views[viewId].sourceImage,\n    }));\n    return { inspectionId, overlays };\n  });\n\n  const inspectionListSelection = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    const listSelection = Object.keys(inspection.views).map((viewId) => ({\n      viewId,\n      selection: inspection.views[viewId] && inspection.views[viewId].selection,\n      isSelectionMode: inspection.views[viewId] && inspection.views[viewId].isSelectionMode,\n      selectAll: inspection.views[viewId] && inspection.views[viewId].selectAll,\n    }));\n    return { inspectionId, listSelection };\n  });\n\n  const inspectionEditingViewIds = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    const editingViewId = inspection.sharedState.editingViewId;\n    return { inspectionId, editingViewId };\n  });\n\n  const inspectionListAliases = Object.keys(currentState.inspections).map((inspectionIdStr) => {\n    const inspectionId = parseInt(inspectionIdStr, 10);\n    const inspection = currentState.inspections[inspectionIdStr];\n    if (inspection.sharedState.listViewAliases) {\n      const aliases = convertAliasesToJson(inspection.sharedState.listViewAliases);\n      return { inspectionId, aliases, showInList: inspection.sharedState.showAliasesInList };\n    }\n\n    return {};\n  });\n\n  const inspectionImageViewSettings = Object.keys(currentState.inspections).map(\n    (inspectionIdStr) => {\n      const inspectionId = parseInt(inspectionIdStr, 10);\n      const inspection = currentState.inspections[inspectionIdStr];\n      const imageViewSettings = Object.keys(inspection.views).map((viewId) => ({\n        viewId,\n        zoomFactor: inspection.views[viewId] && inspection.views[viewId].zoomFactor,\n        imagePosition: inspection.views[viewId] && inspection.views[viewId].imagePosition,\n      }));\n\n      return { inspectionId, imageViewSettings };\n    },\n  );\n\n  const chunk = {\n    [WEBAPP_CHUNK_PARAMETERS.VERSION]: WEBAPP_CHUNK_VERSION,\n    [WEBAPP_CHUNK_PARAMETERS.SV_OBSERVER_VERSION]:\n      currentState.app.configuration.getSvObserverVersion(),\n    [WEBAPP_CHUNK_PARAMETERS.GATEWAY_VERSION]: currentState.app.configuration.getGatewayVersion(),\n    [WEBAPP_CHUNK_PARAMETERS.WEBAPP_VERSION]: currentState.app.configuration.getWebAppVersion(),\n    [WEBAPP_CHUNK_PARAMETERS.CREATED_VIEW_SETS]: currentState.viewSet.createdViewSets,\n    [WEBAPP_CHUNK_PARAMETERS.CURRENT_VIEW_SETS]: currentState.viewSet.currentViewSet,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_OVERLAYS]: inspectionOverlays,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_SELECTION]: inspectionListSelection,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_EDITING_VIEW_IDS]: inspectionEditingViewIds,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_ALIASES]: inspectionListAliases,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_IMAGE_VIEW_SETTINGS]: inspectionImageViewSettings,\n  };\n  const json = JSON.stringify(chunk);\n\n  await dispatch(setSaveOperationInProcess(true));\n  try {\n    const req = Protobuf.SvPb.PutFileRequest.create({\n      destinationPath: WEBAPP_CHUNK_FILENAME,\n      fileData: utf8StringToBuffer(json),\n      saveInConfig: true,\n    });\n    await protobuf.request(req);\n  } catch (err) {\n    // TODO: report save error to user\n    logger.error({ err }, 'Error while saving client chunk');\n    return;\n  }\n  await dispatch(setSaveOperationInProcess(false));\n  dispatch(setSaveFlag(false));\n};\n\nconst convertAliasesToJson = (map) => {\n  const result = [];\n  map.forEach((entry) => {\n    result.push(entry);\n  });\n  return result;\n};\n\nexport const loadChunk = (proxy, actions) => async (dispatch) => {\n  const {\n    setSharedStateData,\n    setClientChunk,\n    setViewData,\n    setEditingFocus,\n    addIncompatibilityDetectedNotification,\n    setListViewAliases,\n    saveImageSettings,\n  } = actions;\n\n  const req = Protobuf.SvPb.GetFileRequest.create({\n    sourcePath: WEBAPP_CHUNK_FILENAME,\n  });\n  let response = null;\n  try {\n    response = await proxy.protobuf.request(req);\n  } catch (err) {\n    logger.error({ err }, 'Error while loading client chunk');\n  }\n\n  if (response.hResult) {\n    logger.info('There is no web app configuration to restore');\n    return;\n  }\n\n  const chunk = bufferToUtf8String(response.fileData);\n  let config = JSON.parse(chunk.toString());\n\n  // will check whether config contains deprecated string GUIDs and try to convert them if required\n  config = await updateConfigWithGuidToIntMapping(proxy.protobuf, config);\n  loadDataForCurrentViewSet(proxy, config);\n\n  const { version: configVersion } = semver.coerce(config.version);\n  if (semver.satisfies(configVersion, '<5.0.0')) {\n    throw new Error('Unable to load deprecated config file');\n  }\n\n  const receivedConfigParameters = Object.keys(config);\n  const expectedConfigParameters = Object.keys(WEBAPP_CHUNK_PARAMETERS).map(\n    (key) => WEBAPP_CHUNK_PARAMETERS[key],\n  );\n\n  for (let i = 0; i < expectedConfigParameters.length; i++) {\n    const currentParameterName = expectedConfigParameters[i];\n    if (!receivedConfigParameters.includes(currentParameterName)) {\n      logger.warn(`\"${currentParameterName}\" can not be found in loaded config`);\n    }\n  }\n\n  if (!semver.valid(configVersion)) {\n    logger.error('Config version is invalid!');\n    throw new Error('Selected config version is invalid');\n  }\n\n  if (semver.diff(WEBAPP_CHUNK_VERSION, configVersion) === 'major') {\n    logger.error('Selected config is not compatible with the current Web App version');\n    throw new Error('Selected config is not compatible with the current Web App version');\n  }\n\n  // Notify user when a minor change detected and a newer config is loaded on an older webapp\n  if (\n    semver.diff(WEBAPP_CHUNK_VERSION, configVersion) === 'minor' &&\n    semver.gt(configVersion, WEBAPP_CHUNK_VERSION)\n  ) {\n    dispatch(addIncompatibilityDetectedNotification());\n  }\n\n  if (semver.satisfies(configVersion, '>=3.0.0')) {\n    // restore custom overlays\n    config.inspectionOverlays.forEach((inspection) =>\n      inspection.overlays.forEach((view) => {\n        dispatch(\n          setSharedStateData(inspection.inspectionId, 'overlays', view.overlays, view.viewId),\n        );\n        dispatch(\n          setSharedStateData(inspection.inspectionId, 'sourceImage', view.sourceImage, view.viewId),\n        );\n      }),\n    );\n\n    // restore list view data\n    config.inspectionListSelection.forEach((inspection) =>\n      inspection.listSelection.forEach((view) => {\n        dispatch(setViewData(inspection.inspectionId, view.viewId, 'selection', view.selection));\n        dispatch(\n          setViewData(\n            inspection.inspectionId,\n            view.viewId,\n            'isSelectionMode',\n            view.isSelectionMode,\n          ),\n        );\n        dispatch(setViewData(inspection.inspectionId, view.viewId, 'selectAll', view.selectAll));\n      }),\n    );\n  }\n\n  if (semver.satisfies(configVersion, '>=3.1.0')) {\n    // restore editing focus\n    config.inspectionEditingViewIds.forEach((inspection) => {\n      if (inspection.inspectionId && inspection.editingViewId) {\n        dispatch(setEditingFocus(inspection.inspectionId, inspection.editingViewId));\n      }\n    });\n  }\n\n  if (semver.satisfies(configVersion, '>=5.0.0')) {\n    (config.inspectionListAliases || []).forEach((inspection) => {\n      if (inspection.inspectionId && Array.isArray(inspection.aliases)) {\n        const aliases = new Map();\n        inspection.aliases.forEach((alias) => aliases.set(alias.objectId, alias));\n        dispatch(setListViewAliases(inspection.inspectionId, aliases, inspection.showInList));\n      }\n    });\n    (config.inspectionImageViewSettings || []).forEach((inspection) => {\n      (inspection.imageViewSettings || []).forEach((setting) => {\n        dispatch(\n          saveImageSettings(\n            inspection.inspectionId,\n            setting.viewId,\n            setting.zoomFactor,\n            setting.imagePosition,\n          ),\n        );\n      });\n    });\n  }\n\n  //now the views are created with all configurations set before\n  dispatch(setClientChunk(config));\n};\n\nexport const resetChunk = (protobuf, actions) => async (dispatch) => {\n  const { setClientChunk } = actions;\n  const name = DEFAULT_VIEWSET_NAME;\n  const emptyViewset = viewSetFactory.buildEmptyViewSet(name);\n  const emptyViewSets = {\n    [name]: emptyViewset,\n  };\n\n  const emptyChunk = {\n    [WEBAPP_CHUNK_PARAMETERS.VERSION]: WEBAPP_CHUNK_VERSION,\n    [WEBAPP_CHUNK_PARAMETERS.SV_OBSERVER_VERSION]: 'UNDEFINED',\n    [WEBAPP_CHUNK_PARAMETERS.GATEWAY_VERSION]: 'UNDEFINED',\n    [WEBAPP_CHUNK_PARAMETERS.WEBAPP_VERSION]: 'UNDEFINED',\n    [WEBAPP_CHUNK_PARAMETERS.CREATED_VIEW_SETS]: emptyViewSets,\n    [WEBAPP_CHUNK_PARAMETERS.CURRENT_VIEW_SETS]: emptyViewset,\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_OVERLAYS]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_SELECTION]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_EDITING_VIEW_IDS]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_LIST_ALIASES]: [],\n    [WEBAPP_CHUNK_PARAMETERS.INSPECTION_IMAGE_VIEW_SETTINGS]: [],\n  };\n\n  dispatch(setClientChunk(emptyChunk));\n};\n\nconst updateConfigWithGuidToIntMapping = async (protobuf, config) => {\n  const { version } = semver.coerce(config.version);\n\n  // config is not using GUIDs any more already\n  if (semver.satisfies(version, '>=5.0.0') || semver.satisfies(version, '<4.0.0')) {\n    return config;\n  }\n\n  const sourcePath = WEBAPP_IDMAPPING_FILENAME;\n  const req = Protobuf.SvPb.GetFileRequest.create({ sourcePath });\n\n  let res;\n  try {\n    res = await protobuf.request(req);\n  } catch (err) {\n    logger.error({ err }, 'Error while loading id mapping');\n    throw new Error('Unable to load id mapping file');\n  }\n\n  if (res.hResult) {\n    logger.info(`The file \"${WEBAPP_IDMAPPING_FILENAME}\" does not exist.`);\n    throw new Error('Unable to load id mapping file');\n  }\n\n  let idMapping;\n  try {\n    const idMappingChunk = bufferToUtf8String(res.fileData);\n    idMapping = JSON.parse(idMappingChunk.toString());\n  } catch (err) {\n    logger.error({ err }, `Error while parsing content of ${WEBAPP_IDMAPPING_FILENAME}`);\n    return config;\n  }\n\n  const mapping = parseGuidToObjectIdMapping(idMapping.guidToObjectIdMapping);\n  const error = { hasError: false };\n  recursivlyUpdateConfigWithGuidToIntMapping(config, mapping, error);\n\n  // this is the first version with int ids\n  config.version = '5.0.0';\n  config.patchedIds = true;\n  if (error.hasError) {\n    throw new Error(\n      'Selected config is not compatible with the current Web App version (could not migrate all string GUIDs to int ObjectIds)',\n    );\n  } else {\n    logger.debug('Successfully migrated string GUIDs to int ObjectIds');\n  }\n\n  return config;\n};\n\nconst parseGuidToObjectIdMapping = (mapping) => {\n  const result = new Map();\n  Object.entries(mapping || {}).forEach(([key, value]) => {\n    const guid = key.toLowerCase().replace('{', '').replace('}', '');\n    result.set(guid, value);\n  });\n  return result;\n};\n\nconst lookUpKeyInMapping = (key, mapping) => {\n  if (mapping.has(key)) {\n    return mapping.get(key);\n  }\n  const lowerCaseKey = key.toLowerCase();\n  if (mapping.has(lowerCaseKey)) {\n    return mapping.get(lowerCaseKey);\n  }\n  return undefined;\n};\n\nconst recursivlyUpdateConfigWithGuidToIntMapping = (obj, mapping, error) => {\n  for (const key in obj) {\n    if (typeof obj[key] === 'object' && obj[key] !== null) {\n      if (key === 'selection') {\n        obj[key] = obj[key]\n          .map((entry) => {\n            const value = lookUpKeyInMapping(entry, mapping);\n            if (value) {\n              return value;\n            } else {\n              error.hasError = true;\n              logger.error(\n                `There is a guid in the config which is not included in the mapping: ${entry}`,\n              );\n              return undefined;\n            }\n          })\n          .filter((entry) => !!entry); // remove undefined entries from selection\n      }\n      recursivlyUpdateConfigWithGuidToIntMapping(obj[key], mapping, error);\n    } else {\n      if (\n        key === 'inspectionId' ||\n        key === 'sourceImage' ||\n        key === 'xVariable' ||\n        key === 'offsetLeftVariable' ||\n        key === 'yVariable' ||\n        key === 'offsetTopVariable' ||\n        key === 'widthVariable' ||\n        key === 'heightVariable' ||\n        key === 'colorVariable'\n      ) {\n        const value = lookUpKeyInMapping(obj[key], mapping);\n        if (value) {\n          obj[key] = value;\n        } else {\n          obj[key] = undefined;\n          error.hasError = true;\n          logger.error(\n            `There is a guid in the config which is not included in the mapping: ${obj[key]}`,\n          );\n        }\n      }\n    }\n  }\n};\n\nconst loadDataForCurrentViewSet = async (proxy, config) => {\n  let isToolsetViewSet = false;\n  let isImageViewSet = false;\n  let isListViewSet = false;\n  let isImageStripViewSet = false;\n\n  for (const view of Object.values(config.currentViewSet.viewSet)) {\n    switch (view.viewComponentClassId) {\n      case TOOLSET_VIEW:\n        if (!isToolsetViewSet && proxy.currentConfiguration.inspectionToolsetMappings.size === 0) {\n          proxy.currentConfiguration.setInspectionIdToToolsetMappings(proxy.protobuf).then(() => {\n            proxy.dispatchCurrentConfiguration(proxy.currentConfiguration);\n          });\n          isToolsetViewSet = true;\n        }\n        break;\n      case IMAGE_VIEW:\n        if (!isImageViewSet) {\n          if (proxy.currentConfiguration.objectSelectorImages.size === 0) {\n            proxy.currentConfiguration.setObjectSelectorImages(proxy.protobuf).then(() => {\n              proxy.dispatchCurrentConfiguration(proxy.currentConfiguration);\n            });\n          }\n          if (proxy.currentConfiguration.idNameMappings.size === 0) {\n            proxy.currentConfiguration.setIdNameMappings(proxy.protobuf).then(() => {\n              proxy.dispatchCurrentConfiguration(proxy.currentConfiguration);\n            });\n          }\n          isImageViewSet = true;\n        }\n        break;\n      case LIST_VIEW:\n        if (!isListViewSet) {\n          if (proxy.currentConfiguration.objectSelectorItems.size === 0) {\n            proxy.currentConfiguration.setObjectSelectorItems(proxy.protobuf).then(() => {\n              proxy.dispatchCurrentConfiguration(proxy.currentConfiguration);\n            });\n          }\n          if (proxy.currentConfiguration.idNameMappings.size === 0) {\n            proxy.currentConfiguration.setIdNameMappings(proxy.protobuf).then(() => {\n              proxy.dispatchCurrentConfiguration(proxy.currentConfiguration);\n            });\n          }\n          isListViewSet = true;\n        }\n        break;\n      case IMAGE_STRIP_VIEW:\n        if (!isImageStripViewSet) {\n          if (proxy.currentConfiguration.objectSelectorImages.size === 0) {\n            proxy.currentConfiguration.setObjectSelectorImages(proxy.protobuf).then(() => {\n              proxy.dispatchCurrentConfiguration(proxy.currentConfiguration);\n            });\n          }\n          if (proxy.currentConfiguration.idNameMappings.size === 0) {\n            proxy.currentConfiguration.setIdNameMappings(proxy.protobuf).then(() => {\n              proxy.dispatchCurrentConfiguration(proxy.currentConfiguration);\n            });\n          }\n          isImageStripViewSet = true;\n        }\n        break;\n      default:\n        break;\n    }\n  }\n};\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport {\n  authenticate as authenticateHelper,\n  logOut as logOutHelper,\n} from '../../utils/authentication';\nimport { saveChunk, loadChunk, resetChunk } from '../../utils/clientChunkManager';\n\nexport const setLocale = (locale) => ({\n  type: 'SET_LOCALE',\n  locale,\n});\n\nexport const setProtobufStaticInitialized = () => ({\n  type: 'SET_PROTOBUF_STATIC_INITIALIZED',\n});\n\nexport const setProtobuf = (newProtobuf, socket) => ({\n  type: 'SET_PROTOBUF',\n  protobuf: newProtobuf,\n  socket,\n});\n\nexport const setCurrentConfiguration = (configuration) => ({\n  type: 'SET_CONFIGURATION',\n  configuration,\n});\n\nexport const setConfigurationLock = (configurationLock) => ({\n  type: 'SET_CONFIGURATION_LOCK',\n  configurationLock,\n});\n\nexport const addNotification = (type, message) => ({\n  type: 'ADD_NOTIFICATION',\n  notification: {\n    type,\n    message,\n  },\n});\n\nexport const addImageNotAvailableNotification = () => {\n  return addNotification('warning', <FormattedMessage id=\"imageNotAvailable\" />);\n};\n\nexport const addConnectionEstablishedNotification = () => {\n  return addNotification(\n    'info',\n    <FormattedMessage id=\"notifications.websocket.connectionEstablished\" />,\n  );\n};\n\nexport const addConnectionLostNotification = () => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.websocket.connectionLost\" />,\n  );\n};\n\nexport const addModeSwitchNotification = (mode) => {\n  return addNotification(\n    'info',\n    <span>\n      <FormattedMessage id=\"notifications.modeSwitch.userSwitchedModeTo\" /> {mode}\n    </span>,\n  );\n};\n\nexport const addUserSwitchedLanguageNotification = (locale) => {\n  return addNotification(\n    'info',\n    <span>\n      <FormattedMessage id=\"notifications.userSwitchedLanguage\" />\n      {locale}\n    </span>,\n  );\n};\n\nexport const addProjectLoadedNotification = (configFile) => {\n  return addNotification('info', `A new project was loaded: \"${configFile}\"`);\n};\n\nexport const addProjectUnloadedNotification = (configFile) => {\n  return addNotification('info', `The project was unloaded: \"${configFile}\"`);\n};\n\nexport const addProjectModifiedNotification = () => {\n  return addNotification('info', `Project was modified. Reloading.`);\n};\n\nexport const addServerMessageNotification = (messageText, errorNumber) => {\n  return addNotification('info', `Server reported: ${messageText} ${errorNumber}`);\n};\n\nexport const addRejectStreamPausedNotification = (pausedInspectionIds) => {\n  return addNotification(\n    'info',\n    Array.isArray(pausedInspectionIds) && pausedInspectionIds.length > 0 ? (\n      <FormattedMessage id=\"notifications.rejectStreamPaused\" />\n    ) : (\n      <FormattedMessage id=\"notifications.rejectStreamResumed\" />\n    ),\n  );\n};\n\nexport const addRunModePauseNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"runViewSet.runModePaused\" />);\n};\n\nexport const addRunModeContinueNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"runViewSet.runModeContinue\" />);\n};\n\nexport const addStartInspectingNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"runViewSet.runModeStoppedInspecting\" />);\n};\n\nexport const addVariableValueShouldBeInTheRangeNotification = (variableName, range) => {\n  return addNotification(\n    'warning',\n    <FormattedMessage\n      id=\"notifications.variableValueShouldBeInTheRange\"\n      values={{ variableName, range }}\n    />,\n  );\n};\n\nexport const addConfigAlreadyLockedBySameUser = () => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.configAlreadyLockedBySameUser\" />,\n  );\n};\n\nexport const addTakeoverCandidateNotFoundNotification = () => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.takeoverCandidateNotFound\" />,\n  );\n};\n\nexport const addLockTakeoverErrorNotification = (code) => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.lockTakeoverError\" values={{ code }} />,\n  );\n};\n\nexport const addLockAcquisitionErrorNotification = (code) => {\n  return addNotification(\n    'warning',\n    <FormattedMessage id=\"notifications.lockAcquisitionError\" values={{ code }} />,\n  );\n};\n\nexport const tokenExpired = () => ({\n  type: 'AUTH_TOKEN_EXPIRED',\n});\n\nexport const authenticate = (accessToken) => async (dispatch) => {\n  const { authToken, user } = await authenticateHelper(accessToken);\n  return dispatch({\n    type: 'LOG_IN',\n    authToken,\n    user,\n  });\n};\n\nexport const logOut =\n  (notifyGateway = true) =>\n  async (dispatch) => {\n    await logOutHelper(notifyGateway);\n    return dispatch({\n      type: 'LOG_OUT',\n    });\n  };\n\nexport const onNavigationHidden = () => ({\n  type: 'ON_NAVIGATION_HIDDEN',\n});\n\nexport const showGlobalMessageOverlay = ({ message }) => ({\n  type: 'SHOW_GLOBAL_MESSAGE_OVERLAY',\n  message,\n});\n\nexport const hideGlobalMessageOverlay = () => ({\n  type: 'HIDE_GLOBAL_MESSAGE_OVERLAY',\n});\n\nexport const setViewSet = (viewSet, viewSetId) => ({\n  type: 'SET_VIEWSET',\n  viewSet,\n  viewSetId,\n});\n\nexport const replaceViewInCurrentViewSet = (viewId, replacementComponentId, inspectionId) => ({\n  type: 'REPLACE_VIEW_IN_CURRENT_VIEWSET',\n  viewId,\n  replacementComponentId,\n  inspectionId,\n});\n\nexport const switchViewSet = (viewSet) => ({\n  type: 'SWITCH_VIEWSET',\n  viewSet,\n});\n\nexport const setParameter = (parameter) => ({\n  type: 'SET_PARAMETER',\n  parameter,\n});\n\nexport const enterFullscreenMode = (component) => ({\n  type: 'ENTER_FULLSCREEN_MODE',\n  componentDescriptor: {\n    componentId: component.props.id,\n    setFullscreen: component.setFullscreen,\n  },\n});\n\nexport const leaveFullscreenMode = (component) => ({\n  type: 'LEAVE_FULLSCREEN_MODE',\n  componentDescriptor: {\n    componentId: component.props.id,\n    setFullscreen: component.setFullscreen,\n  },\n});\n\nexport const toggleFullscreenMode = (component) => ({\n  type: 'TOGGLE_FULLSCREEN_MODE',\n  componentDescriptor: {\n    id: component.props.id,\n    setFullscreen: component.setFullscreen,\n  },\n});\n\nexport const increaseViewSizeChangeCounter = () => ({\n  type: 'INCREASE_VIEW_SIZE_CHANGE_COUNTER',\n});\n\nexport const setBottomNavHidden = (hidden) => ({\n  type: 'SET_BOTTOM_NAV_HIDDEN',\n  hidden: !!hidden,\n});\n\nexport const setTopNavHidden = (hidden) => ({\n  type: 'SET_TOP_NAV_HIDDEN',\n  hidden: !!hidden,\n});\n\nexport const setDefaultViewSetName = (name) => ({\n  type: 'SET_DEFAULT_VIEWSET_NAME',\n  name,\n});\n\nexport const newViewSet = (name, mode) => ({\n  type: 'NEW_VIEW_SET',\n  name,\n  mode,\n});\n\nexport const setSaveOperationInProcess = (inProcess) => ({\n  type: 'UPDATE_SAVE_OPERATION_IN_PROCESS',\n  inProcess,\n});\n\nexport const setSaveFlag = (hasChanges) => ({\n  type: 'SET_SAVE_FLAG',\n  hasChanges,\n});\n\nexport const saveClientChunk = (protobuf, currentState) => async (dispatch) => {\n  const actions = {\n    setSaveOperationInProcess,\n    setSaveFlag,\n  };\n  await dispatch(saveChunk(protobuf, currentState, actions));\n};\n\nexport const loadClientChunk = (proxy) => async (dispatch) => {\n  const actions = {\n    setSharedStateData,\n    setClientChunk,\n    setViewData,\n    setEditingFocus,\n    addIncompatibilityDetectedNotification,\n    setListViewAliases,\n    saveImageSettings,\n    setSVOConfigLoaded,\n  };\n  await dispatch(loadChunk(proxy, actions));\n};\n\nexport const resetClientChunk = (protobuf) => async (dispatch) => {\n  const actions = {\n    setClientChunk,\n    setSVOConfigLoaded,\n  };\n  await dispatch(resetChunk(protobuf, actions));\n};\n\nexport const setClientChunk = (chunk) => ({\n  type: 'LOAD_CLIENT_CHUNK',\n  chunk,\n});\n\nexport const setSVOConfigLoaded = (isLoaded) => ({\n  type: 'SET_SVO_CONFIG_LOADED',\n  isLoaded,\n});\n\nexport const setViewSetForMode = (mode) => ({\n  type: 'SET_VIEWSET_FOR_MODE',\n  mode,\n});\n\nexport const removeViewSet = (name) => ({\n  type: 'REMOVE_VIEWSET',\n  name,\n});\n\nexport const clearCurrentView = () => ({\n  type: 'CLEAR_CURRENT_VIEW',\n});\n\nexport const renameViewSet = (oldName, newName) => ({\n  type: 'RENAME_VIEWSET',\n  oldName,\n  newName,\n});\n\nexport const changeViewSetAfterLoading = (name) => ({\n  type: 'CHANGE_VIEWSET_AFTER_LOADING',\n  name,\n});\n\nexport const setCurrentLayout = (layout) => ({\n  type: 'SET_CURRENT_LAYOUT',\n  layout,\n});\n\nexport const setCurrentMode = (mode) => ({\n  type: 'SET_CURRENT_MODE',\n  mode,\n});\n\nexport const setCurrentModeDone = (mode) => ({\n  type: 'SET_CURRENT_MODE_DONE',\n  mode,\n});\n\nexport const setPausedInspections = (pausedInspections) => ({\n  type: 'SET_PAUSED_INSPECTIONS',\n  pausedInspections,\n});\n\nexport const initViewState = (inspectionId, viewId, initState, initSharedState) => ({\n  type: 'INIT_VIEW_STATE',\n  inspectionId,\n  viewId,\n  initState,\n  initSharedState,\n});\n\nexport const setViewData = (inspectionId, viewId, key, data) => ({\n  type: 'SET_VIEW_DATA',\n  inspectionId,\n  viewId,\n  key,\n  data,\n});\n\nexport const saveImageSettings = (inspectionId, viewId, zoomFactor, imagePosition) => ({\n  type: 'SAVE_IMAGE_SETTINGS',\n  inspectionId,\n  viewId,\n  zoomFactor,\n  imagePosition,\n});\n\nexport const setSharedStateData = (inspectionId, key, data, viewId) => ({\n  type: 'SET_SHARED_STATE_DATA',\n  inspectionId,\n  key,\n  data,\n  viewId,\n});\n\nexport const setEditingFocus = (inspectionId, viewId) => ({\n  type: 'SET_EDITING_FOCUS',\n  inspectionId,\n  viewId,\n});\n\nexport const setListViewAliases = (inspectionId, aliases, showInList) => ({\n  type: 'SET_LIST_VIEW_ALIASES',\n  inspectionId,\n  aliases,\n  showInList,\n});\n\nexport const updateListViewShowAliases = (inspectionId, showInList) => ({\n  type: 'UPDATE_LIST_VIEW_SHOW_ALIASES',\n  inspectionId,\n  showInList,\n});\n\nexport const setFocusedViewType = (viewType) => ({\n  type: 'SET_FOCUSED_VIEW_TYPE',\n  viewType,\n});\n\nexport const purgeViewState = (inspectionId, viewId) => ({\n  type: 'PURGE_VIEW_STATE',\n  inspectionId,\n  viewId,\n});\n\nexport const openHelpView = () => ({\n  type: 'OPEN_HELP_VIEW',\n  isHelpViewOpen: true,\n});\n\nexport const closeHelpView = () => ({\n  type: 'CLOSE_HELP_VIEW',\n  isHelpViewOpen: false,\n});\n\nexport const addIncompatibilityDetectedNotification = () => {\n  return addNotification('info', <FormattedMessage id=\"incompatibilityNotification\" />);\n};\n\nexport const setGroupPermissions = (groupPermissions) => ({\n  type: 'SET_GROUP_PERMISSIONS',\n  groupPermissions,\n});\n\nexport const setMyPermissions = (myPermissions) => ({\n  type: 'SET_MY_PERMISSIONS',\n  myPermissions,\n});\n\nexport const setBrowserWindowVisibility = (visible) => ({\n  type: 'SET_BROWSER_WINDOW_VISIBILITY',\n  visible,\n});\n","const de = {\n  // TopNavigation\n  \"topNavigation.language.german\": \"Deutsch\",\n  \"topNavigation.language.english\": \"Englisch\",\n  \"topNavigation.lock\": \"Lock\",\n  \"topNavigation.takeover\": \"Takeover\",\n  \"topNavigation.release\": \"Release\",\n  \"topNavigation.logout\": \"Abmelden\",\n  \"topNavigation.help\": \"Hilfe\",\n  \"topNavigation.about\": \"Info\",\n  \"topNavigation.shortcut\": \"Shortcut\",\n  \"topNavigation.download\": \"SVO Konfiguration herunterladen\",\n  \"topNavigation.upload\": \"SVO Konfiguration hochladen\",\n  \"topNavigation.inspectionState\": \"Inspektionsstatus ({runningInspections} von {numberOfInspections} aktiv)\",\n  \"topNavigation.permissions\": \"Rechte\",\n  \"topNavigation.saveConfig\": \"Konfiguration speichern\",\n\n  // there is a auto mapping in utils/modes.js\n  \"editMode\": \"Edit Mode\",\n  \"unknownMode\": \"Unbekannter Mode\",\n  \"runMode\": \"Run Mode\",\n  \"stopMode\": \"Stop Mode\",\n  \"regressionMode\": \"Regression Mode\",\n  \"testMode\": \"Test Mode\",\n\n  // LockStateHandler (translate to german)\n  \"lockStateHandler.alertDialog.lockAlreadyLocked\": \"Configuration lock is already owned by: {user}\",\n  \"lockStateHandler.alertDialog.lockDescription\": \"Lock description: {description}\",\n  \"lockStateHandler.alertDialog.waitingForTakeoverResponse\": \"Waiting for response from: {user}\",\n  \"lockStateHandler.alertDialog.waitingForResponseInfo\": \"Current configuration lock owner has been notified of your request and has 30 seconds to respond from now on. If there is no response until then, you will automatically takeover the lock.\",\n  \"lockStateHandler.alertDialog.ownerRejectedTakeover\": \"{user} rejected the configuration lock takeover\",\n  \"lockStateHandler.alertDialog.takeoverAttempt\": \"{user} wants to take over configuration lock\",\n  \"lockStateHandler.alertDialog.takeoverMessage\": \"Takeover message: {message}\",\n  \"lockStateHandler.formDialog.lockConfigRequestTitle\": \"Lock configuration request\",\n  \"lockStateHandler.formDialog.takeoverConfigRequestTitle\": \"Takeover configuration request\",\n  \"lockStateHandler.formDialog.lockConfigRequestContent\": \"To lock or takeover the configuration, please enter all details here. SVOGateway will send updates occasionally.\",\n  \"lockStateHandler.formDialog.lockScope\": \"Lock scope\",\n  \"lockStateHandler.formDialog.lockTimeout\": \"Lock timeout\",\n  \"lockStateHandler.formDialog.lockDescription\": \"Lock description\",\n  \"lockStateHandler.formDialog.takeoverRequest\": \"Takeover request\",\n  \"lockStateHandler.formDialog.takeoverMessage\": \"Takeover message\",\n\n  // ImageStrip\n  \"imageStripView.inspectionTemplate\": \"{inspectionName} Filmstreifen\",\n  \"imageStripView.play\": \"Play\",\n  \"imageStripView.pause\": \"Pause\",\n\n  // ListView\n  \"listView\": \"Liste\",\n  \"listView.inspectionTemplate\": \"{inspectionName} Liste\",\n  \"listView.AliasEditor.title\": \"Bearbeite Alias fr den Pfadnamen\",\n  \"listView.Actionbar.hideAliases\": \"Zeige Namen\",\n  \"listView.Actionbar.showAliases\": \"Zeige Aliase\",\n  \"listView.AliasEditor.dottedName\": \"Pfadname\",\n  \"listView.AliasEditor.value\": \"Wert\",\n  \"listView.AliasEditor.button\": \"Speichern\",\n\n  // HelpView\n  \"helpView\": \"Hilfe\",\n\n  // AboutView\n  \"aboutView\": \"ber\",\n  \"aboutView.applicationName\": \"Applicationsname:\",\n  \"aboutView.applicationVersion\": \"Applikationsversion:\",\n  \"aboutView.svoVersion\": \"SVObserver-Version:\",\n  \"aboutView.gatewayVersion\": \"Gateway-Version:\",\n\n  // ViewTypeSelection\n  \"viewTypeSelection.imageStripView\": \"Filmstreifen\",\n  \"viewTypeSelection.imageView\": \"Bild\",\n  \"viewTypeSelection.parameterView\": \"Parameter\",\n  \"viewTypeSelection.ListView\": \"Liste\",\n  \"viewTypeSelection.toolset\": \"Toolset\",\n  \"viewTypeSelection.back\": \"Zurck\",\n  \"viewTypeSelection.cancel\": \"Abbrechen\",\n  \"viewTypeSelection.chooseViewTooltip\": \"View-Typ auswhlen\",\n  \"viewTypeSelection.selectViewType\": \"Whlen Sie einen Typ fr diese View:\",\n\n  // InspectionSelection\n  \"inspectionSelection.selectInspection\": \"Whlen Sie eine Inspektion fr diese View:\",\n\n  // ParameterView / Overlay\n  \"parameterview.overlay.delete\": \"Lschen\",\n  \"parameterview.overlay.add\": \"Hinzufgen\",\n  \"parameterview.overlay.showAll\": \"Alle einblenden\",\n  \"parameterview.overlay.hideAll\": \"Alle ausblenden\",\n\n  // ImageView\n  \"imageView.inspectionTemplate\": \"{inspectionName} Bild\",\n  \"imageView.zoomIn\": \"Hineinzoomen\",\n  \"imageView.zoomOut\": \"Herauszoomen\",\n  \"imageView.fitToWidth\": \"An Breite anpassen\",\n  \"imageView.fitToHeight\": \"An Hhe anpassen\",\n  \"imageView.saveWithOverlays\": \"Bild mit Overlays herunterladen\",\n  \"imageView.overlayListToggle\": \"Overlay-Liste\",\n  \"imageView.imageInfoToggle\": \"Bildinfo\",\n  \"imageView.save\": \"Bild herunterladen\",\n  \"imageView.showOverlays\": \"Overlays anzeigen\",\n  \"imageView.hideOverlays\": \"Overlays ausblenden\",\n  \"imageView.info\": \"Info\",\n  \"imageView.width\": \"Breite:\",\n  \"imageView.height\": \"Hhe:\",\n  \"imageView.x\": \"X:\",\n  \"imageView.y\": \"Y:\",\n\n  // ParameterView\n  \"parameterView\": \"Parameter\",\n  \"parameterView.inspectionTemplate\": \"{inspectionName} Parameter\",\n\n  // ToolsetView\n  \"toolsetView.inspectionTemplate\": \"{inspectionName} Toolset\",\n  \"toolsetView.confirmDelete\": \"Wollen Sie das Tool {toolName} wirklich entfernen? Diese Aktion kann nicht rckgngig gemacht werden.\",\n  \"toolsetView.windowTool\": \"Window tool\",\n  \"toolsetView.mathTool\": \"Math tool\",\n  \"toolsetView.statisticsTool\": \"Statistics tool\",\n  \"toolsetView.ringBufferTool\": \"RingBuffer tool\",\n  \"toolsetView.archiveTool\": \"Archive tool\",\n  \"toolsetView.acquisitionTool\": \"Acquisition tool\",\n  \"toolsetView.transformationTool\": \"Transformation tool\",\n  \"toolsetView.shiftTool\": \"Shift tool\",\n  \"toolsetView.cylindricalWarpTool\": \"CylindricalWarp tool\",\n  \"toolsetView.perspectiveTool\": \"Perspective tool\",\n  \"toolsetView.imageTool\": \"Image tool\",\n  \"toolsetView.linearTool\": \"Linear tool\",\n  \"toolsetView.colorTool\": \"Color tool\",\n  \"toolsetView.resizeTool\": \"Resize tool\",\n  \"toolsetView.loadImageTool\": \"LoadImage tool\",\n  \"toolsetView.tableTool\": \"Table tool\",\n  \"toolsetView.tableAnalyzerTool\": \"TableAnalyzer tool\",\n  \"toolsetView.polarTransformationTool\": \"PolarTransformation tool\",\n  \"toolsetView.loopTool\": \"Loop tool\",\n  \"toolsetView.externalTool\": \"External tool\",\n  \"toolsetView.groupTool\": \"Group tool\",\n\n  // AboutView\n  \"aboutView.title\": \"ber \",\n\n  // ViewSet Manager\n  \"viewSetManager\": \"ViewSet Manager\",\n  \"viewSetManager.title\": \"View Set Manager\",\n  \"viewSetManager.remove\": \"Entfernen\",\n  \"viewSetManager.viewSetName\": \"Name\",\n  \"viewSetManager.save\": \"Alle View Sets speichern\",\n  \"viewSetManager.close\": \"Schlieen\",\n  \"viewSetManager.editViewSetHeadline\": \"Viewsets editieren:\",\n  \"viewSetManager.newViewSet\": \"Neues Viewset erstellen\",\n  \"viewSetManager.editViewSetName\": \"Viewset-Namen editieren\",\n  \"viewSetManager.changeViewSetName\": \"Viewset-Namen ndern\",\n  \"viewSetManager.apply\": \"nderungen bernehmen\",\n  \"viewSetManager.export\": \"Aktuelle Ansicht exportieren\",\n  \"viewSetManager.import\": \"Ansicht aus Datei importieren\",\n  \"viewSetManager.importConfirm.title\": \"Aktuelle Ansicht berschreiben\",\n  \"viewSetManager.importConfirm.message\": \"Das Importieren einer Ansicht aus einer Datei berschreibt die aktuelle Ansicht. Wollen Sie das wirklich?\",\n  \"viewSetManager.deleteConfirm.message\": \"Wollen Sie das Viewset {viewsetName} wirklich entfernen?\",\n  \"viewSetManager.deleteIconTooltip\": \"Viewset lschen\",\n\n  // ShortcutView\n  \"shortcutView.title\": \"Shortcuts\",\n  \"shortcutView.fullscreenTitle\": \"Vollbild\",\n  \"shortcutView.fullscreenDescription\": \"Drcken Sie in einer aktiven View STRG-F\",\n  \"shortcutView.helpTitle\": \"Hilfe\",\n  \"shortcutView.helpDescription\": \"Drcken Sie in einer aktiven View F1\",\n\n  // Notifications\n  \"notifications.modeSwitch.userSwitchedModeTo\": \"Benutzer hat Mode gendert zu:\",\n  \"notifications.websocket.connectionEstablished\": \"Websocket-Verbindung geffnet auf Port:\",\n  \"notifications.websocket.connectionLost\": \"Websocket-Verbindung verloren\",\n  \"notifications.userSwitchedLanguage\": \"Benutzer hat Sprache gendert zu:\",\n  \"notifications.rejectStreamPaused\": \"Reject stream wurde angehalten\",\n  \"notifications.rejectStreamResumed\": \"Reject stream wurde fortgesetzt\",\n  \"notifications.checkSvimOutput\": \"Bitte Ausgabe am SVIM berprfen\",\n  \"notifications.incompatibilityWarning\": \"Ausgewhlte Konfiguration ist mglicherweise nicht mit der aktuellen WebApp version kompatibel\",\n  \"notifications.errorOccurred\": \"Ein Fehler ist aufgetreten\",\n  \"notifications.error.loadingFile\": \"Daten aus der Datei konnten nicht geladen werden.\",\n  \"notifications.successfulAction\": \"Erfolgreiche Aktion\",\n  \"notifications.successfullyLoadedFile\": \"Ansicht konnte erfolgreich aus der Datei geladen werden.\",\n  \"notifications.viewsetVersionIncompatibleTitle\": \"Datei-Version inkompatibel\",\n  \"notifications.viewsetVersionIncompatibleMessage\": \"Die Datei-Version ist inkompatibel. Die Ansicht kann nicht geladen werden.\",\n  \"notifications.minorVersionDiffTitle\": \"Unterversion weicht ab\",\n  \"notifications.minorVersionDiffMessage\": \"Aufgrund unterschiedlicher Unterversionen zwischen Applikation und Datei kann es zu inkorrekter Darstellung der Ansicht kommen.\",\n  \"notifications.variableValueShouldBeInTheRange\": \"Der Wert der eingegebenen Variable {variableName} muss im Bereich von {range} liegen.\",\n  \"notifications.configAlreadyLockedBySameUser\": \"You have already locked the configuration! (Translate)\",\n  \"notifications.takeoverCandidateNotFound\": \"Could not find takeover candidate! You still own the config lock. (Translate)\",\n  \"notifications.lockTakeoverError\": \"Error while perfroming config lock takeover! Error code: {code} (Translate)\",\n  \"notifications.lockAcquisitionError\": \"Error while requesting config lock! Error code : {code} (Translate)\",\n\n  // ListView\n  \"listView.save\": \"Speichern\",\n\n  // SVOView\n  \"svoView.emptyViewInspectionTemplate\": \"{inspectionName}\",\n  \"svoView.closeView\": \"View schlieen\",\n  \"svoView.closeViewConfirmation\": \"Wollen Sie die View wirklich schlieen?\",\n\n  \"cancel\": \"Abbrechen\",\n  \"submit\": \"Submit (translate)\",\n  \"close\": \"Close (translate)\",\n  \"accept\": \"Akzeptieren\",\n  \"reject\": \"Ablehnen\",\n  \"milliseconds\": \"milliseconds (translate)\",\n  \"noConfigName\": \"[Keine Konfiguration]\",\n  \"unknownConfigName\": \"[Unbekannte Konfiguration]\",\n  \"noConfigLoaded\": \"Keine Konfiguration geladen im SVObserver\",\n  \"up\": \"Vorheriges\",\n  \"down\": \"Nchstes\",\n  \"copy\": \"Kopieren\",\n  \"cut\": \"Ausschneiden\",\n  \"paste\": \"Einfgen\",\n  \"save\": \"Speichern\",\n  \"delete\": \"Lschen\",\n  \"undo\": \"Rckgngig\",\n  \"expandAll\": \"Alles ausklappen\",\n  \"collapseAll\": \"Alles einklappen\",\n\n  // Permissions\n  \"permissions.backToWebApp\": \"Zurck zur WebApp\",\n  \"permissions.helpText\": \"Sie knnen die aufgelisteten Rechte fr die jeweilige Gruppe (Spalte) anpassen. Rechte der Gruppe Common werden allen anderen Gruppen zugeordnet. Die Rechte haben mglicherweise Auswirkungen auf die WebApp und/oder den SVObserver.\",\n  \"permissions.permissions\": \"Rechte\",\n  \"permissions.permissionManagement\": \"Rechte-Verwaltung\",\n  \"permissions.description\": \"Beschreibung\",\n\n  // Permission descriptions\n  \"permissionDescription.webapp.configuration.save\": \"Nutzer kann aktuelle Konfiguration mit allen View Sets speichern\",\n  \"permissionDescription.webapp.logs.read\": \"Nutzer kann Logs sehen in der oberen Navigationsleiste\",\n  \"permissionDescription.webapp.viewset.add\": \"Nutzer kann View Sets hinzufgen\",\n  \"permissionDescription.webapp.viewset.read\": \"Nutzer kann View Sets sehen(Wechseln zwischen View Sets, ViewSet Manager ffnen)\",\n  \"permissionDescription.webapp.viewset.edit\": \"Nutzer kann View Sets sehen und editieren(Gre der Views verndern, neue Views hinzufgen, Wechseln zwischen View Sets, ViewSet Manager ffnen, View Set umbenennen)\",\n  \"permissionDescription.webapp.viewset.remove\": \"Nutzer kann ein View Set entfernen\",\n  \"permissionDescription.webapp.view[type=AnyView].add\": \"Nutzer kann Views eines BELIEBIGEN Typs hinzufgen\",\n  \"permissionDescription.webapp.view[type=AnyView].read\": \"Nutzer kann Views eines BELIEBIGEN Typs sehen\",\n  \"permissionDescription.webapp.view[type=AnyView].edit\": \"Nutzer kann Views eines BELIEBIGEN Typs sehen und editieren\",\n  \"permissionDescription.webapp.view[type=AnyView].remove\": \"Nutzer kann Views eines BELIEBIGEN Typs entfernen\",\n  \"permissionDescription.webapp.view[type=ImageView].add\": \"Nutzer kann Views des Typs IMAGE hinzufgen\",\n  \"permissionDescription.webapp.view[type=ImageView].read\": \"Nutzer kann Views des Typs IMAGE sehen(auch Bilder herunterladen, Liste eigener Overlays sehen, Bildinfos sehen)\",\n  \"permissionDescription.webapp.view[type=ImageView].edit\": \"Nutzer kann Views des Typs IMAGE sehen und editieren(Auswahl von Inspektion und Tool, ndern der Bildgre, Bilder herunterladen, Liste eigener Overlays sehen, Bildinfos sehen)\",\n  \"permissionDescription.webapp.view[type=ImageView].remove\": \"Nutzer kann Views des Typs IMAGE entfernen\",\n  \"permissionDescription.webapp.view[type=ListView].add\": \"Nutzer kann Views des Typs LIST hinzufgen\",\n  \"permissionDescription.webapp.view[type=ListView].read\": \"Nutzer kann Views des Typs LIST sehen\",\n  \"permissionDescription.webapp.view[type=ListView].edit\": \"Nutzer kann Views des Typs LIST sehen und editieren(Auswahl von Inspektion und Tool, Editieren von Aliasen)\",\n  \"permissionDescription.webapp.view[type=ListView].remove\": \"Nutzer kann Views des Typs LIST entfernen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].add\": \"Nutzer kann Views des Typs IMAGE STRIP hinzufgen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].read\": \"Nutzer kann Views des Typs IMAGE STRIP sehen\",\n  \"permissionDescription.webapp.view[type=ImageStripView].edit\": \"Nutzer kann Views des Typs IMAGE STRIP sehen und editieren(Auswahl von Inspektion und Tool)\",\n  \"permissionDescription.webapp.view[type=ImageStripView].remove\": \"Nutzer kann Views des Typs IMAGE STRIP entfernen\",\n  \"permissionDescription.webapp.view[type=ParameterView].add\": \"Nutzer kann Views des Typs PARAMETER hinzufgen\",\n  \"permissionDescription.webapp.view[type=ParameterView].read\": \"Nutzer kann Views des Typs PARAMETER sehen\",\n  \"permissionDescription.webapp.view[type=ParameterView].edit\": \"Nutzer kann Views des Typs PARAMETER sehen und editieren(Hinzufgen / editieren / entfernen von eigenen Overlays)\",\n  \"permissionDescription.webapp.view[type=ParameterView].remove\": \"Nutzer kann Views des Typs PARAMETER entfernen\",\n  \"permissionDescription.webapp.view[type=ToolSetView].add\": \"Nutzer kann Views des Typs TOOLSET hinzufgen\",\n  \"permissionDescription.webapp.view[type=ToolSetView].read\": \"Nutzer kann Views des Typs TOOLSET sehen\",\n  \"permissionDescription.webapp.view[type=ToolSetView].edit\": \"Nutzer kann Views des Typs TOOLSET sehen und editieren\",\n  \"permissionDescription.webapp.view[type=ToolSetView].remove\": \"Nutzer kann Views des Typs TOOLSET entfernen\",\n  \"permissionDescription.svobserver.mode.read\": \"Nutzer kann den aktuellen Mode vom SVObserver in der oberen Navigationsleiste sehen\",\n  \"permissionDescription.svobserver.mode.edit\": \"Nutzer kann den aktuellen Mode vom SVObserver in der oberen Navigationsleiste sehen und ndern\",\n  \"permissionDescription.svobserver.inspectionstate.read\": \"Nutzer kann den Status aller Inspektionen in der oberen Navigationsleiste sehen\",\n  \"permissionDescription.svobserver.inspectionstate.edit\": \"Nutzer kann den Status aller Inspektionen in der oberen Navigationsleiste sehen / ndern und den Status im IMAGE STRIP View wechseln\",\n  \"permissionDescription.svobserver.value.read\": \"SVObserver prft, ob Nutzer Werte sehen darf\",\n  \"permissionDescription.svobserver.value.edit\": \"SVObserver prft, ob Nutzer Werte editieren darf\",\n  \"permissionDescription.svobserver.tool.add\": \"SVObserver prft, ob Nutzer neue Tool hinzufgen darf\",\n  \"permissionDescription.svobserver.tool.read\": \"SVObserver prft, ob Nutzer Tools lesen darf\",\n  \"permissionDescription.svobserver.tool.edit\": \"SVObserver prft, ob Nutzer existierende Tools editieren darf\",\n  \"permissionDescription.svobserver.tool.remove\": \"SVObserver prft, ob Nutzer Tools entfernen darf\",\n  \"permissionDescription.svobserver.configuration.read\": \"SVObserver prft, ob Nutzer die SVObserver Konfiguration lesen darf\",\n  \"permissionDescription.svobserver.configuration.write\": \"SVObserver prft, ob Nutzer die SVObserver Konfiguration speichern darf\",\n  \"permissionDescription.svobserver.notifications.subscribe\": \"SVObserver prft, ob Nutzer SVObserver Nachrichten erhalten darf\",\n  \"permissionDescription.svobserver.clientlogs.store\": \"SVObserver prft, ob Nutzer Client Logs an den SVObserver senden darf\",\n  \"permissionDescription.svobserver.file.read\": \"SVObserver prft, ob Nutzer Dateien im SVIM RUN Ordner lesen darf\",\n  \"permissionDescription.svobserver.file.write\": \"SVObserver prft, ob Nutzer Dateien im SVIM RUN Ordner schreiben darf\",\n  \"permissionDescription.svobserver.machinestate.set\": \"SVObserver prft, ob Nutzer den Maschinenstatus setzen darf (Herunterfahren oder Neustarten des SVIMs)\",\n  \"permissionDescription.svobserver.command.execute\": \"SVObserver prft, ob Nutzer Kommandos ausfhren darf\",\n  \"permissionDescription.usermanagement.userpermissions.read\": \"Nutzer kann Gruppen-Rechte vom SVObserver laden, den Men-Eintrag zum Wechsel in die Rechte-Verwaltung sehen, alle Rechte in Rechte-Verwaltung sehen\",\n  \"permissionDescription.usermanagement.userpermissions.edit\": \"Nutzer kann Gruppen-Rechte vom SVObserver laden, den Men-Eintrag zum Wechsel in die Rechte-Verwaltung sehen, alle Rechte in Rechte-Verwaltung sehen und editieren\",\n\n  // Debugger\n  \"debugger.title\": \"Debugger\",\n  \"debugger.backToWebApp\": \"Zurck zur WebApp\",\n  \"debugger.requestsListHeader\": \"Request list\",\n  \"debugger.noParametersMessage\": \"This request has no parameters\",\n  \"debugger.noItemsMessage\": \"(no items)\",\n  \"debugger.nothingToConfigureMessage\": \"(nothing to configure)\",\n  \"debugger.addItemButtonText\": \"Add\",\n  \"debugger.sendRequest\": \"Send request\",\n  \"debugger.noFilteredResultsMessage\": \"No filtered results\",\n  \"debugger.copyToClipboard\": \"Copy to clipboard\",\n};\n\nexport default de;\n","const en = {\n  // TopNavigation\n  \"topNavigation.language.german\": \"German\",\n  \"topNavigation.language.english\": \"English\",\n  \"topNavigation.lock\": \"Lock\",\n  \"topNavigation.takeover\": \"Takeover\",\n  \"topNavigation.release\": \"Release\",\n  \"topNavigation.logout\": \"Logout\",\n  \"topNavigation.help\": \"Help\",\n  \"topNavigation.about\": \"Info\",\n  \"topNavigation.shortcut\": \"Shortcut\",\n  \"topNavigation.download\": \"Download SVO configuration\",\n  \"topNavigation.upload\": \"Upload SVO configuration\",\n  \"topNavigation.inspectionState\": \"Inspection state ({runningInspections} of {numberOfInspections} running)\",\n  \"topNavigation.permissions\": \"Permissions\",\n  \"topNavigation.saveConfig\": \"Save config\",\n\n  // there is a auto mapping in utils/modes.js\n  \"editMode\": \"Edit Mode\",\n  \"unknownMode\": \"Unknown mode\",\n  \"runMode\": \"Run Mode\",\n  \"stopMode\": \"Stop Mode\",\n  \"regressionMode\": \"Regression Mode\",\n  \"testMode\": \"Test Mode\",\n\n  // LockStateHandler\n  \"lockStateHandler.alertDialog.lockAlreadyLocked\": \"Configuration lock is already owned by: {user}\",\n  \"lockStateHandler.alertDialog.lockDescription\": \"Lock description: {description}\",\n  \"lockStateHandler.alertDialog.waitingForTakeoverResponse\": \"Waiting for response from: {user}\",\n  \"lockStateHandler.alertDialog.waitingForResponseInfo\": \"Current configuration lock owner has been notified of your request and has 30 seconds to respond from now on. If there is no response until then, you will automatically takeover the lock.\",\n  \"lockStateHandler.alertDialog.ownerRejectedTakeover\": \"{user} rejected the configuration lock takeover\",\n  \"lockStateHandler.alertDialog.takeoverAttempt\": \"{user} wants like to take over configuration lock\",\n  \"lockStateHandler.alertDialog.takeoverMessage\": \"Takeover message: {message}\",\n  \"lockStateHandler.formDialog.lockConfigRequestTitle\": \"Lock configuration request\",\n  \"lockStateHandler.formDialog.takeoverConfigRequestTitle\": \"Takeover configuration request\",\n  \"lockStateHandler.formDialog.lockConfigRequestContent\": \"To lock or takeover the configuration, please enter all details here. SVOGateway will send updates occasionally.\",\n  \"lockStateHandler.formDialog.lockScope\": \"Lock scope\",\n  \"lockStateHandler.formDialog.lockTimeout\": \"Lock timeout\",\n  \"lockStateHandler.formDialog.lockDescription\": \"Lock description\",\n  \"lockStateHandler.formDialog.takeoverRequest\": \"Takeover request\",\n  \"lockStateHandler.formDialog.takeoverMessage\": \"Takeover message\",\n\n  // ImageStrip\n  \"imageStripView.inspectionTemplate\": \"{inspectionName} Image Strip\",\n  \"imageStripView.play\": \"Play\",\n  \"imageStripView.pause\": \"Pause\",\n\n  // ListView\n  \"listView\": \"List\",\n  \"listView.inspectionTemplate\": \"{inspectionName} List\",\n  \"listView.AliasEditor.title\": \"Set alias for dotted name\",\n  \"listView.Actionbar.hideAliases\": \"Hide aliases\",\n  \"listView.Actionbar.showAliases\": \"Show aliases\",\n  \"listView.AliasEditor.dottedName\": \"Dotted name\",\n  \"listView.AliasEditor.value\": \"Value\",\n  \"listView.AliasEditor.button\": \"Save\",\n\n  // HelpView\n  \"helpView\": \"Help\",\n\n  // AboutView\n  \"aboutView\": \"About\",\n  \"aboutView.applicationName\": \"Application name:\",\n  \"aboutView.applicationVersion\": \"Application version:\",\n  \"aboutView.svoVersion\": \"SVObserver version:\",\n  \"aboutView.gatewayVersion\": \"Gateway version:\",\n\n  // ViewTypeSelection\n  \"viewTypeSelection.imageStripView\": \"Image Strip\",\n  \"viewTypeSelection.imageView\": \"Image\",\n  \"viewTypeSelection.parameterView\": \"Parameter\",\n  \"viewTypeSelection.ListView\": \"List\",\n  \"viewTypeSelection.toolset\": \"Tool Set\",\n  \"viewTypeSelection.back\": \"Back\",\n  \"viewTypeSelection.cancel\": \"Cancel\",\n  \"viewTypeSelection.chooseViewTooltip\": \"Choose view type\",\n  \"viewTypeSelection.selectViewType\": \"Select a type for this view:\",\n\n  // InspectionSelection\n  \"inspectionSelection.selectInspection\": \"Select an inspection for this view:\",\n\n  // ParameterView / Overlay\n  \"parameterview.overlay.delete\": \"Delete\",\n  \"parameterview.overlay.add\": \"Add\",\n  \"parameterview.overlay.showAll\": \"Show all\",\n  \"parameterview.overlay.hideAll\": \"Hide all\",\n\n  // ImageView\n  \"imageView.inspectionTemplate\": \"{inspectionName} Image\",\n  \"imageView.zoomIn\": \"Zoom in\",\n  \"imageView.zoomOut\": \"Zoom out\",\n  \"imageView.fitToWidth\": \"Fit to width\",\n  \"imageView.fitToHeight\": \"Fit to height\",\n  \"imageView.saveWithOverlays\": \"Download image with overlays\",\n  \"imageView.overlayListToggle\": \"Overlay list\",\n  \"imageView.imageInfoToggle\": \"Image info\",\n  \"imageView.save\": \"Download image\",\n  \"imageView.showOverlays\": \"Show overlays\",\n  \"imageView.hideOverlays\": \"Hide overlays\",\n  \"imageView.info\": \"Info\",\n  \"imageView.width\": \"Width:\",\n  \"imageView.height\": \"Height:\",\n  \"imageView.x\": \"X:\",\n  \"imageView.y\": \"Y:\",\n\n  // ParameterView\n  \"parameterView\": \"Parameter\",\n  \"parameterView.inspectionTemplate\": \"{inspectionName} Parameter\",\n\n  // ToolsetView\n  \"toolsetView.inspectionTemplate\": \"{inspectionName} Tool Set\",\n  \"toolsetView.confirmDelete\": \"Do you really want to delete {toolName}? This cannot be undone.\",\n\n  // AboutView\n  \"aboutView.title\": \"About \",\n\n  // ViewSet Manager\n  \"viewSetManager\": \"View Set Manager\",\n  \"viewSetManager.title\": \"View Set Manager\",\n  \"viewSetManager.viewSetName\": \"Name\",\n  \"viewSetManager.remove\": \"Remove\",\n  \"viewSetManager.save\": \"Save all view sets\",\n  \"viewSetManager.close\": \"Close\",\n  \"viewSetManager.editViewSetHeadline\": \"Edit view sets:\",\n  \"viewSetManager.newViewSet\": \"Create new view set\",\n  \"viewSetManager.editViewSetName\": \"Edit view set name\",\n  \"viewSetManager.changeViewSetName\": \"Change view set name\",\n  \"viewSetManager.apply\": \"Apply changes\",\n  \"viewSetManager.export\": \"Export current view layout\",\n  \"viewSetManager.import\": \"Import a view layout from file\",\n  \"viewSetManager.importConfirm.title\": \"Overwriting view set\",\n  \"viewSetManager.importConfirm.message\": \"Importing a view set from file will overwrite your existing viewset. Do you want to continue?\",\n  \"viewSetManager.deleteConfirm.message\": \"Do you really want to delete view set {viewsetName}?\",\n  \"viewSetManager.deleteIconTooltip\": \"Delete view set\",\n\n  // ShortcutView\n  \"shortcutView.title\": \"Shortcuts\",\n  \"shortcutView.fullscreenTitle\": \"Full screen\",\n  \"shortcutView.fullscreenDescription\": \"Focus a view and press CTRL-F\",\n  \"shortcutView.helpTitle\": \"Help\",\n  \"shortcutView.helpDescription\": \"Focus a view and press F1\",\n\n  // Notifications\n  \"notifications.modeSwitch.userSwitchedModeTo\": \"User switched mode to:\",\n  \"notifications.websocket.connectionEstablished\": \"Websocket connection established on port:\",\n  \"notifications.websocket.connectionLost\": \"Websocket connection lost\",\n  \"notifications.userSwitchedLanguage\": \"User switched language to: \",\n  \"notifications.rejectStreamPaused\": \"Reject stream was paused\",\n  \"notifications.rejectStreamResumed\": \"Reject stream was resumed\",\n  \"notifications.checkSvimOutput\": \"Please check output on SVIM\",\n  \"notifications.incompatibilityWarning\": \"Selected config might not be compatible with the current WebApp\",\n  \"notifications.errorOccurred\": \"An error occurred\",\n  \"notifications.error.loadingFile\": \"Could not load data from file.\",\n  \"notifications.successfulAction\": \"Successful action\",\n  \"notifications.successfullyLoadedFile\": \"Successfully loaded viewset from file.\",\n  \"notifications.viewsetVersionIncompatibleTitle\": \"File version incompatible\",\n  \"notifications.viewsetVersionIncompatibleMessage\": \"The file version is incompatible. Can not load viewset.\",\n  \"notifications.minorVersionDiffTitle\": \"Minor version differs\",\n  \"notifications.minorVersionDiffMessage\": \"Minor version differs between application and file. The presentation of the viewset might be incorrect.\",\n  \"notifications.variableValueShouldBeInTheRange\": \"Value of the variable {variableName} should be in the range of {range}.\",\n  \"notifications.configAlreadyLockedBySameUser\": \"You have already locked the configuration!\",\n  \"notifications.takeoverCandidateNotFound\": \"Could not find takeover candidate! You still own the config lock.\",\n  \"notifications.lockTakeoverError\": \"Error while perfroming config lock takeover! Error code: {code}\",\n  \"notifications.lockAcquisitionError\": \"Error while requesting config lock! Error code : {code}\",\n\n  // ListView\n  \"listView.save\": \"Save\",\n\n  // SVOView\n  \"svoView.emptyViewInspectionTemplate\": \"{inspectionName}\",\n  \"svoView.closeView\": \"Close view\",\n  \"svoView.closeViewConfirmation\": \"Do you really want to close this view?\",\n\n  \"cancel\": \"Cancel\",\n  \"submit\": \"Submit\",\n  \"close\": \"Close\",\n  \"accept\": \"Accept\",\n  \"reject\": \"Reject\",\n  \"milliseconds\": \"milliseconds\",\n  \"noConfigName\": \"[No configuration]\",\n  \"unknownConfigName\": \"[Unknown configuration]\",\n  \"noConfigLoaded\": \"No configuration loaded in SVObserver\",\n  \"up\": \"Up\",\n  \"down\": \"Down\",\n  \"save\": \"Save\",\n  \"copy\": \"Copy\",\n  \"cut\": \"Cut\",\n  \"paste\": \"Paste\",\n  \"delete\": \"Delete\",\n  \"undo\": \"Undo\",\n  \"expandAll\": \"Expand all\",\n  \"collapseAll\": \"Collapse all\",\n\n  // Permissions\n  \"permissions.backToWebApp\": \"Back to WebApp\",\n  \"permissions.helpText\": \"You can change the listed permissions for each group (column). Common permissions are applied to all other groups. Permissions may have effect on the WebApp and/or the SVObserver.\",\n  \"permissions.permissions\": \"Permissions\",\n  \"permissions.permissionManagement\": \"Permission Management\",\n  \"permissions.description\": \"Description\",\n\n  // Permission descriptions\n  \"permissionDescription.webapp.configuration.save\": \"User can save the current configuration with all view sets\",\n  \"permissionDescription.webapp.logs.read\": \"User can see logs in top navigation bar\",\n  \"permissionDescription.webapp.viewset.add\": \"User can add new view sets\",\n  \"permissionDescription.webapp.viewset.read\": \"User can see view sets (switch between view sets, open View Set Manager)\",\n  \"permissionDescription.webapp.viewset.edit\": \"User can see and edit view sets (change size of views, add new views to view set, switch between view sets, open View Set Manager, rename view sets)\",\n  \"permissionDescription.webapp.viewset.remove\": \"User can remove a view set\",\n  \"permissionDescription.webapp.view[type=AnyView].add\": \"User can add views of any type\",\n  \"permissionDescription.webapp.view[type=AnyView].read\": \"User can see views of any type\",\n  \"permissionDescription.webapp.view[type=AnyView].edit\": \"User can see and edit views of any type\",\n  \"permissionDescription.webapp.view[type=AnyView].remove\": \"User can remove views of any type\",\n  \"permissionDescription.webapp.view[type=ImageView].add\": \"User can add views of type Image\",\n  \"permissionDescription.webapp.view[type=ImageView].read\": \"User can see views of type Image (also download image, see custom overlay list, see image info)\",\n  \"permissionDescription.webapp.view[type=ImageView].edit\": \"User can see and edit views of type Image (choose inspection and tool, change size of image, download image, see custom overlay list, see image info)\",\n  \"permissionDescription.webapp.view[type=ImageView].remove\": \"User can remove views of type Image\",\n  \"permissionDescription.webapp.view[type=ListView].add\": \"User can add views of type List\",\n  \"permissionDescription.webapp.view[type=ListView].read\": \"User can see views of type List\",\n  \"permissionDescription.webapp.view[type=ListView].edit\": \"User can see and edit views of type List (choose inspection and tool, edit aliases)\",\n  \"permissionDescription.webapp.view[type=ListView].remove\": \"User can remove views of type List\",\n  \"permissionDescription.webapp.view[type=ImageStripView].add\": \"User can add views of type Image Strip\",\n  \"permissionDescription.webapp.view[type=ImageStripView].read\": \"User can see views of type Image Strip\",\n  \"permissionDescription.webapp.view[type=ImageStripView].edit\": \"User can see and edit views of type Image Strip (choose inspection and tool)\",\n  \"permissionDescription.webapp.view[type=ImageStripView].remove\": \"User can remove views of type Image Strip\",\n  \"permissionDescription.webapp.view[type=ParameterView].add\": \"User can add views of type Parameter\",\n  \"permissionDescription.webapp.view[type=ParameterView].read\": \"User can see views of type Parameter\",\n  \"permissionDescription.webapp.view[type=ParameterView].edit\": \"User can see and edit views of type Parameter (add/edit/delete custom overlays)\",\n  \"permissionDescription.webapp.view[type=ParameterView].remove\": \"User can remove views of type Parameter\",\n  \"permissionDescription.webapp.view[type=ToolSetView].add\": \"User can add views of type Tool Set\",\n  \"permissionDescription.webapp.view[type=ToolSetView].read\": \"User can see views of type Tool Set\",\n  \"permissionDescription.webapp.view[type=ToolSetView].edit\": \"User can see and edit views of type Tool Set\",\n  \"permissionDescription.webapp.view[type=ToolSetView].remove\": \"User can remove views of type Tool Set\",\n  \"permissionDescription.svobserver.mode.read\": \"User can see the current mode of SVObserver in top navigation bar\",\n  \"permissionDescription.svobserver.mode.edit\": \"User can see and change the current mode of SVObserver in top navigation bar\",\n  \"permissionDescription.svobserver.inspectionstate.read\": \"User can see the inspection state of all inspections in the top navigation bar\",\n  \"permissionDescription.svobserver.inspectionstate.edit\": \"User can see and change the inspection state of all inspections in the top navigation bar and toggle the state in Image Strip View\",\n  \"permissionDescription.svobserver.value.read\": \"SVObserver checks if user is allowed to see values\",\n  \"permissionDescription.svobserver.value.edit\": \"SVObserver checks if user is allowed to edit values\",\n  \"permissionDescription.svobserver.tool.add\": \"SVObserver checks if user is allowed to add new tools\",\n  \"permissionDescription.svobserver.tool.read\": \"SVObserver checks if user is allowed to read tools\",\n  \"permissionDescription.svobserver.tool.edit\": \"SVObserver checks if user is allowed to edit existing tools\",\n  \"permissionDescription.svobserver.tool.remove\": \"SVObserver checks if user is allowed to remove tools\",\n  \"permissionDescription.svobserver.configuration.read\": \"SVObserver checks if user is allowed to read the SVObserver configuration\",\n  \"permissionDescription.svobserver.configuration.write\": \"SVObserver checks if user is allowed to save the SVObserver configuration\",\n  \"permissionDescription.svobserver.notifications.subscribe\": \"SVObserver checks if user is allowed to subscribe to SVObserver notifications\",\n  \"permissionDescription.svobserver.clientlogs.store\": \"SVObserver checks if user is allowed to send client logs to the SVObserver\",\n  \"permissionDescription.svobserver.file.read\": \"SVObserver checks if user is allowed to read arbitrary files in SVIM RUN folder\",\n  \"permissionDescription.svobserver.file.write\": \"SVObserver checks if user is allowed to write arbitrary files in SVIM RUN folder\",\n  \"permissionDescription.svobserver.machinestate.set\": \"SVObserver checks if user is allowed to set the machine state (shutdown or restart of SVIM)\",\n  \"permissionDescription.svobserver.command.execute\": \"SVObserver checks if user is allowed to execute commands\",\n  \"permissionDescription.usermanagement.userpermissions.read\": \"User can load group permissions from backend/can see menu entry to switch to permission management page/can see all permissions in permission management\",\n  \"permissionDescription.usermanagement.userpermissions.edit\": \"User can load group permissions from backend/can see menu entry to switch to permission management page/can see all permissions in permission management/can edit permissions\",\n\n  // Debugger\n  \"debugger.title\": \"Debugger\",\n  \"debugger.backToWebApp\": \"Back to WebApp\",\n  \"debugger.requestsListHeader\": \"Request list\",\n  \"debugger.noParametersMessage\": \"This request has no parameters\",\n  \"debugger.noItemsMessage\": \"(no items)\",\n  \"debugger.nothingToConfigureMessage\": \"(nothing to configure)\",\n  \"debugger.addItemButtonText\": \"Add\",\n  \"debugger.sendRequest\": \"Send request\",\n  \"debugger.noFilteredResultsMessage\": \"No filtered results\",\n  \"debugger.copyToClipboard\": \"Copy to clipboard\",\n\n  // Toolset\n  \"toolsetView.windowTool\": \"Window Tool\",\n  \"toolsetView.mathTool\": \"Math Tool\",\n  \"toolsetView.statisticsTool\": \"Statistics Tool\",\n  \"toolsetView.ringBufferTool\": \"Ring Buffer Tool\",\n  \"toolsetView.archiveTool\": \"Archive Tool\",\n  \"toolsetView.acquisitionTool\": \"Acquisition Tool\",\n  \"toolsetView.transformationTool\": \"Transformation Tool\",\n  \"toolsetView.shiftTool\": \"Shift Tool\",\n  \"toolsetView.cylindricalWarpTool\": \"Cylindrical Warp Tool\",\n  \"toolsetView.perspectiveTool\": \"Perspective Tool\",\n  \"toolsetView.imageTool\": \"Image Tool\",\n  \"toolsetView.linearTool\": \"Linear Tool\",\n  \"toolsetView.colorTool\": \"Color Tool\",\n  \"toolsetView.resizeTool\": \"Resize Tool\",\n  \"toolsetView.loadImageTool\": \"Load Image Tool\",\n  \"toolsetView.tableTool\": \"Table Tool\",\n  \"toolsetView.tableAnalyzerTool\": \"Table Analyzer Tool\",\n  \"toolsetView.polarTransformationTool\": \"Polar Transformation Tool\",\n  \"toolsetView.loopTool\": \"Loop Tool\",\n  \"toolsetView.externalTool\": \"External Tool\",\n  \"toolsetView.groupTool\": \"Group Tool\",\n};\n\nexport default en;\n\n","import React from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport de from './de';\nimport en from './en';\n\nconst translations = {\n  de: {\n    ...de,\n  },\n  en: {\n    ...en,\n  },\n};\n\nexport const languages = [\n  {\n    locale: 'de',\n    name: <FormattedMessage id=\"topNavigation.language.german\" />,\n  },\n  {\n    locale: 'en',\n    name: <FormattedMessage id=\"topNavigation.language.english\" />,\n  },\n];\n\nexport default translations;\n","import React, { useEffect } from 'react';\nimport { InputAdornment, IconButton } from '@material-ui/core';\nimport ClearIcon from '../../../../assets/icons/clear.svg';\nimport OutlinedSelection from '../../../../components/OutlinedSelection';\n\nconst SelectParameter = ({ value, options, labels, changeCallback, removeCallback }) => {\n  useEffect(() => {\n    if (typeof value === 'undefined') {\n      changeCallback && changeCallback(options[0]);\n    }\n  });\n\n  let valuesWithLabels = [];\n\n  // if we have a labels array, options and labels need to be sorted together\n  // if we don't have label array, the values will be used as id and value in select\n  if (labels) {\n    options.forEach((option, idx) => valuesWithLabels.push({ option, label: labels[idx] }));\n\n    valuesWithLabels = valuesWithLabels.sort(function (a, b) {\n      return a.label.localeCompare(b.label);\n    });\n\n    options = valuesWithLabels.map((value) => value.option);\n    labels = valuesWithLabels.map((value) => value.label);\n  } else {\n    options = options.sort();\n  }\n\n  return (\n    <OutlinedSelection\n      selectedValue={value}\n      values={options}\n      labels={labels}\n      onSelectionChanged={(e) => {\n        changeCallback && changeCallback(e['param']);\n      }}\n      id=\"param\"\n      InputProps={\n        removeCallback\n          ? {\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    edge=\"end\"\n                    aria-label=\"remove\"\n                    onClick={() => removeCallback()}\n                    title=\"Remove\"\n                  >\n                    <img src={ClearIcon} alt=\"x\" />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }\n          : null\n      }\n    />\n  );\n};\n\nexport default SelectParameter;\n","import React from 'react';\nimport { Button } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\n\nconst ArrayParameter = ({\n  value,\n  changeCallback,\n  typeName,\n  defaultValue,\n  options,\n  labels,\n  SingleParameterComponent,\n}) => {\n  const numberOfEntries = (value && value.length) || 0;\n  const fields = [];\n\n  const addArrayEntry = () => {\n    changeCallback([...(value || []), defaultValue]);\n  };\n  const removeArrayEntry = (idx) => {\n    const copy = [...value];\n    copy.splice(idx, 1);\n    changeCallback(copy);\n  };\n\n  for (let i = 0; i < numberOfEntries; i++) {\n    fields.push(\n      <div className=\"field-container\" key={`${typeName}_array_${i}`}>\n        <div className=\"field-name-type\">\n          {i}\n          <small>{typeName}</small>\n        </div>\n        <div className=\"field-settings\">\n          <SingleParameterComponent\n            value={value[i]}\n            changeCallback={(newValue) => {\n              const copy = [...(value || [])];\n              copy[i] = newValue;\n              changeCallback(copy);\n            }}\n            options={options}\n            labels={labels}\n            removeCallback={() => removeArrayEntry(i)}\n          />\n        </div>\n      </div>,\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"field-container is-array\">\n        {fields.length ? (\n          fields\n        ) : (\n          <div className=\"field-container\">\n            <div className=\"field-name-type\">\n              <em>\n                <FormattedMessage id=\"debugger.noItemsMessage\" />\n              </em>\n            </div>\n            <div className=\"field-settings\"></div>\n          </div>\n        )}\n      </div>\n      <Button variant=\"contained\" color=\"primary\" onClick={() => addArrayEntry()}>\n        <FormattedMessage id=\"debugger.addItemButtonText\" />\n      </Button>\n    </div>\n  );\n};\n\nexport default ArrayParameter;\n","import React from 'react';\nimport SelectParameter from '../../generic/SelectParameter';\n\nconst BoolParameter = ({ value, changeCallback }) => {\n  return (\n    <SelectParameter\n      value={value && value !== 'false' ? 'true' : 'false'}\n      options={['true', 'false']}\n      changeCallback={(value) => changeCallback(value === 'true')}\n    />\n  );\n};\n\nexport default BoolParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport BoolParameter from '../BoolParameter';\n\nconst BoolArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={false}\n      SingleParameterComponent={BoolParameter}\n    />\n  );\n};\n\nexport default BoolArrayParameter;\n","import React from 'react';\nimport { TextField } from '@material-ui/core';\n\nconst BytesParameter = ({ value, changeCallback }) => {\n  return (\n    <TextField\n      fullWidth\n      type=\"file\"\n      variant=\"outlined\"\n      value={value || ''}\n      onChange={(e) => changeCallback && changeCallback(e.target.value)}\n    />\n  );\n};\n\nexport default BytesParameter;\n","import React from 'react';\nimport { TextField, InputAdornment, IconButton } from '@material-ui/core';\nimport ClearIcon from '../../../../assets/icons/clear.svg';\n\nconst SingleParameter = ({ value, changeCallback, removeCallback, fieldType, defaultValue }) => {\n  return (\n    <TextField\n      fullWidth\n      type={fieldType}\n      variant=\"outlined\"\n      value={value || defaultValue}\n      onChange={(e) => changeCallback && changeCallback(e.target.value)}\n      InputProps={\n        removeCallback\n          ? {\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    edge=\"end\"\n                    aria-label=\"remove\"\n                    onClick={() => removeCallback()}\n                    title=\"Remove\"\n                  >\n                    <img src={ClearIcon} alt=\"x\" />\n                  </IconButton>\n                </InputAdornment>\n              ),\n            }\n          : null\n      }\n    />\n  );\n};\n\nexport default SingleParameter;\n","import React from 'react';\nimport SingleParameter from '../../generic/SingleParameter';\n\nconst DecimalParameter = ({ value, changeCallback, removeCallback }) => {\n  return (\n    <SingleParameter\n      value={value}\n      changeCallback={changeCallback}\n      removeCallback={removeCallback}\n      fieldType=\"number\"\n      defaultValue={0}\n    />\n  );\n};\n\nexport default DecimalParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport DecimalParameter from '../DecimalParameter';\n\nconst DecimalArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={0}\n      SingleParameterComponent={DecimalParameter}\n    />\n  );\n};\n\nexport default DecimalArrayParameter;\n","import React from 'react';\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport SelectParameter from '../../generic/SelectParameter';\n\nconst EnumArrayParameter = ({ value, options, changeCallback }) => {\n  return (\n    <ArrayParameter\n      value={(value || []).map((i) => String(i))}\n      changeCallback={changeCallback}\n      options={Object.values(options)}\n      labels={Object.keys(options)}\n      SingleParameterComponent={SelectParameter}\n    />\n  );\n};\n\nexport default EnumArrayParameter;\n","import React from 'react';\nimport SelectParameter from '../../generic/SelectParameter';\n\nconst EnumParameter = ({ value, options, changeCallback }) => {\n  return (\n    <SelectParameter\n      value={String(value)}\n      options={Object.values(options)}\n      labels={Object.keys(options)}\n      changeCallback={(value) => changeCallback(value)}\n    />\n  );\n};\n\nexport default EnumParameter;\n","import React from 'react';\nimport SingleParameter from '../../generic/SingleParameter';\n\nconst IntegerParameter = ({ value, changeCallback, removeCallback }) => {\n  return (\n    <SingleParameter\n      value={value}\n      changeCallback={changeCallback}\n      removeCallback={removeCallback}\n      fieldType=\"number\"\n      defaultValue={0}\n    />\n  );\n};\n\nexport default IntegerParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport IntegerParameter from '../IntegerParameter';\n\nconst IntegerArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={0}\n      SingleParameterComponent={IntegerParameter}\n    />\n  );\n};\n\nexport default IntegerArrayParameter;\n","import React from 'react';\n\nimport SingleParameter from '../../generic/SingleParameter';\n\nconst TextParameter = ({ value, changeCallback, removeCallback, typeName }) => {\n  return (\n    <SingleParameter\n      value={value}\n      typeName={typeName}\n      changeCallback={changeCallback}\n      removeCallback={removeCallback}\n      fieldType=\"text\"\n      defaultValue={''}\n    />\n  );\n};\n\nexport default TextParameter;\n","import React from 'react';\n\nimport ArrayParameter from '../../generic/ArrayParameter';\nimport TextParameter from '../TextParameter';\n\nconst TextArrayParameter = ({ value, changeCallback, typeName }) => {\n  return (\n    <ArrayParameter\n      value={value}\n      changeCallback={changeCallback}\n      typeName={typeName}\n      defaultValue={''}\n      SingleParameterComponent={TextParameter}\n    />\n  );\n};\n\nexport default TextArrayParameter;\n","import React, { useEffect, useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { cloneDeep, get, set } from 'lodash';\nimport { FormattedMessage } from 'react-intl';\nimport { useSelector } from 'react-redux';\n\nimport Protobuf from '../../protobuf/Protobuf';\n\nimport './style.scss';\nimport SelectParameter from './generic/SelectParameter';\nimport BoolArrayParameter from './specialized/BoolArrayParameter';\nimport BoolParameter from './specialized/BoolParameter';\nimport BytesParameter from './specialized/BytesParameter';\nimport DecimalArrayParameter from './specialized/DecimalArrayParameter';\nimport DecimalParameter from './specialized/DecimalParameter';\nimport EnumArrayParameter from './specialized/EnumArrayParameter';\nimport EnumParameter from './specialized/EnumParameter';\nimport IntegerArrayParameter from './specialized/IntegerArrayParameter';\nimport IntegerParameter from './specialized/IntegerParameter';\nimport TextArrayParameter from './specialized/TextArrayParameter';\nimport TextParameter from './specialized/TextParameter';\n\nconst RequestParameter = ({ name, onResponse }) => {\n  const protobuf = useSelector((state) => state.app.protobuf);\n  const [parameters, setParameters] = useState({});\n  const [nestedParamsMap, setNestedParamsMap] = useState({});\n  const [currentRequestName, setCurrentRequestName] = useState('');\n\n  useEffect(() => {\n    if (currentRequestName === name) return;\n\n    setParameters({});\n    setNestedParamsMap({});\n    setCurrentRequestName(name);\n  }, [name, currentRequestName]);\n\n  if (!Protobuf.SvPb[name]) {\n    return <div></div>;\n  }\n\n  const sendRequest = async () => {\n    onResponse('');\n    if (name === 'MyDummyRequest') {\n      onResponse(parameters);\n      return;\n    }\n    const request = Protobuf.SvPb[name].create(parameters);\n    console.dir(parameters);\n    try {\n      const response = await protobuf.request(request);\n      onResponse(response);\n    } catch (e) {\n      onResponse(`An error occured: ${e.message}`);\n    }\n  };\n\n  const deepValue = (obj, path) => {\n    if (!path) return obj;\n    return get(obj, path);\n  };\n\n  const getStringControl = (field, currentPath, currentValue) => {\n    return (\n      <TextParameter\n        key={`txt_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getStringArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <TextArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getBoolControl = (field, currentPath, currentValue) => {\n    return (\n      <BoolParameter\n        key={`bool_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getBoolArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <BoolArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getIntegerControl = (field, currentPath, currentValue) => {\n    return (\n      <IntegerParameter\n        key={`integer_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getIntegerArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <IntegerArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getDecimalControl = (field, currentPath, currentValue) => {\n    return (\n      <DecimalParameter\n        key={`decimal_${field.name}`}\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getDecimalArrayControl = (field, currentPath, currentValue) => {\n    return (\n      <DecimalArrayParameter\n        typeName={field.type}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, Number(newValue))\n        }\n      />\n    );\n  };\n\n  const getBytesControl = (field, currentPath, currentValue) => {\n    return (\n      <BytesParameter\n        key={`bytes_${field.name}`}\n        value={currentValue}\n        changeCallback={(newValue) =>\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, newValue)\n        }\n      />\n    );\n  };\n\n  const getEnumControl = (type, field, currentPath, currentValue) => {\n    return (\n      <EnumParameter\n        value={currentValue}\n        options={type.values}\n        changeCallback={(value) => {\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, value);\n        }}\n      ></EnumParameter>\n    );\n  };\n\n  const getArrayEnumControl = (type, field, currentPath, currentValue) => {\n    return (\n      <EnumArrayParameter\n        value={currentValue}\n        options={type.values}\n        changeCallback={(value) => {\n          changeValue(currentPath ? `${currentPath}.${field.name}` : field.name, value);\n        }}\n      ></EnumArrayParameter>\n    );\n  };\n\n  const addArrayEntryForType = (currentPath, currentValue) => {\n    const newValue = currentValue ? [...currentValue] : [];\n    newValue.push({});\n    changeValue(currentPath, newValue);\n  };\n\n  const getControlForField = (field, isArray, currentPath) => {\n    const currentValue = deepValue(\n      parameters,\n      currentPath ? `${currentPath}.${field.name}` : field.name,\n    );\n\n    switch (field.type) {\n      case 'string':\n        if (isArray) {\n          return getStringArrayControl(field, currentPath, currentValue);\n        }\n\n        return getStringControl(field, currentPath, currentValue);\n      case 'bool':\n        if (isArray) {\n          return getBoolArrayControl(field, currentPath, currentValue);\n        }\n\n        return getBoolControl(field, currentPath, currentValue);\n      case 'int32':\n      case 'int64':\n      case 'uint32':\n      case 'uint64':\n      case 'sint32':\n      case 'sint64':\n      case 'fixed32':\n      case 'fixed64':\n      case 'sfixed32':\n      case 'sfixed64':\n        if (isArray) {\n          return getIntegerArrayControl(field, currentPath, currentValue);\n        }\n\n        return getIntegerControl(field, currentPath, currentValue);\n      case 'double':\n      case 'float':\n        if (isArray) {\n          return getDecimalArrayControl(field, currentPath, currentValue);\n        }\n\n        return getDecimalControl(field, currentPath, currentValue);\n      case 'bytes':\n        return getBytesControl(field, currentPath, currentValue);\n      default: {\n        const type = Protobuf.SvPb.lookup(field.type);\n        if (type && type.constructor.name === 'Enum') {\n          if (isArray) {\n            return getArrayEnumControl(type, field, currentPath, currentValue);\n          }\n\n          return getEnumControl(type, field, currentPath, currentValue);\n        }\n\n        const newPath = currentPath ? `${currentPath}.${field.name}` : field.name;\n\n        if (isArray) {\n          return getArrayControlsForType(type, newPath, currentValue);\n        }\n\n        return getControlsForType(type, newPath, currentValue);\n      }\n    }\n  };\n\n  const changeValue = (path, value) => {\n    const newParams = cloneDeep(parameters);\n    set(newParams, path, value);\n    setParameters(newParams);\n  };\n\n  const getControlsForType = (type, path) => {\n    const controls = [];\n    const fieldKeys = type?.fields ? Object.keys(type.fields) : [];\n\n    if (type.oneofs) {\n      Object.keys(type.oneofs).forEach((oneOfKey) => {\n        controls.push(\n          <div className=\"field-container\" key={`div_${oneOfKey}`}>\n            <div className=\"field-name-type\">\n              {oneOfKey}\n              <small>oneof type</small>\n            </div>\n            <div className=\"field-settings\">\n              <SelectParameter\n                value={nestedParamsMap[`${path}.${oneOfKey}`]}\n                options={type.oneofs[oneOfKey].oneof}\n                changeCallback={(value) => {\n                  setNestedParamsMap({\n                    ...nestedParamsMap,\n                    [`${path}.${oneOfKey}`]: value,\n                  });\n                }}\n              ></SelectParameter>\n            </div>\n          </div>,\n        );\n      });\n    }\n\n    fieldKeys.forEach((fieldkey) => {\n      const field = type.fields[fieldkey];\n      if (!field) return;\n\n      if (field.partOf && field.name !== nestedParamsMap[`${path}.${field.partOf.name}`]) {\n        return;\n      }\n\n      controls.push(\n        <div className=\"field-container\" key={`div_${field.name}`}>\n          <div className=\"field-name-type\">\n            {field.name}\n            <small>\n              {field.rule} {field.type}\n              {field.required ? '*' : ''}\n            </small>\n          </div>\n          <div className=\"field-settings\">\n            {getControlForField(field, field.rule === 'repeated', path)}\n          </div>\n        </div>,\n      );\n    });\n\n    if (!fieldKeys.length && path.length)\n      controls.push(\n        <div className=\"field-container\" key={`div_type.name`}>\n          <div className=\"field-name-type\">\n            <em>\n              <FormattedMessage id=\"debugger.nothingToConfigureMessage\"></FormattedMessage>\n            </em>\n          </div>\n          <div className=\"field-settings\"></div>\n        </div>,\n      );\n\n    return controls;\n  };\n\n  const getArrayControlsForType = (type, path, value) => {\n    const controls = [];\n    (value || []).forEach((_, idx) => {\n      controls.push(\n        <div className=\"field-container\" key={`${type.name}_array_${idx}`}>\n          <div className=\"field-name-type\">\n            {idx}\n            <small>{type.name}</small>\n          </div>\n          <div className=\"field-settings\">\n            {getControlsForType(type, path ? `${path}.${idx}` : idx, value[idx])}\n          </div>\n        </div>,\n      );\n    });\n\n    return (\n      <div>\n        <div className=\"field-container is-array\">\n          {controls.length ? (\n            controls\n          ) : (\n            <div className=\"field-container\">\n              <div className=\"field-name-type\">\n                <em>\n                  <FormattedMessage id=\"debugger.noItemsMessage\" />\n                </em>\n              </div>\n              <div className=\"field-settings\"></div>\n            </div>\n          )}\n        </div>\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => addArrayEntryForType(path, value)}\n        >\n          Add\n        </Button>\n      </div>\n    );\n  };\n\n  const fields = getControlsForType(Protobuf.SvPb[name], '');\n  return (\n    <div className=\"request-parameters-container\">\n      <div className=\"request-name-type\">\n        {name}\n        <small>Request</small>\n      </div>\n      <div className=\"request-parameters-fields-container\">\n        {fields && fields.length ? fields : <FormattedMessage id=\"debugger.noParametersMessage\" />}\n      </div>\n\n      <Button\n        className=\"send-button\"\n        variant=\"contained\"\n        color=\"primary\"\n        onClick={() => sendRequest()}\n      >\n        <FormattedMessage id=\"debugger.sendRequest\" />\n      </Button>\n    </div>\n  );\n};\n\nexport default RequestParameter;\n","import React, { useEffect, useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport Product from '../../protobuf/Product';\n\nimport './style.scss';\n\nconst RequestedResponseVisualizer = ({ response }) => {\n  const [imageUrl, setImageUrl] = useState('');\n  const [fileData, setFileData] = useState('');\n\n  useEffect(() => {\n    if (response && response.imageData) {\n      const product = new Product({\n        history: null,\n        trigger: null,\n        isReject: false,\n      });\n      setImageUrl(product.buildUrl(response.imageData));\n    } else {\n      setImageUrl('');\n    }\n  }, [response]);\n\n  useEffect(() => {\n    if (response && response.fileData) {\n      const blob = new Blob(response.fileData, { type: 'octet/stream' });\n      setFileData(window.URL.createObjectURL(blob));\n    } else {\n      setFileData('');\n    }\n  }, [response]);\n\n  const copyResponseToClipboard = async () => {\n    if (!navigator.clipboard) {\n      // fallback code possible, but I think not needed as we use the debugger only\n      return;\n    }\n    await navigator.clipboard.writeText(result);\n  };\n\n  const result = response ? JSON.stringify(response, null, 2) : '';\n\n  return (\n    <div className=\"response-body-container\">\n      <div className=\"response-body-header\">\n        <div className=\"response-name-type\">\n          {response ? response.constructor.name : 'Response'}\n          <small>Response</small>\n        </div>\n        <div>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={copyResponseToClipboard}\n            disabled={!result}\n          >\n            <FormattedMessage id=\"debugger.copyToClipboard\" />\n          </Button>\n        </div>\n      </div>\n\n      <div className=\"response-content\">\n        {imageUrl ? <img src={imageUrl} alt=\"\" /> : undefined}\n        {fileData ? <a href={fileData}>Download</a> : undefined}\n        <pre className=\"response-formatter\">{result}</pre>\n      </div>\n    </div>\n  );\n};\n\nexport default RequestedResponseVisualizer;\n","import React, { useEffect, useState } from 'react';\nimport { TextField } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\n\nconst RequestsList = ({ proto, chooseCallback }) => {\n  const [filter, setFilter] = useState('');\n  const [active, setActive] = useState(null);\n\n  const requests = Object.keys(proto)\n    .sort()\n    .reduce((requests, key) => {\n      if (!key.toLowerCase().includes(filter)) return requests;\n\n      return [\n        ...requests,\n        <li\n          key={`li_${key}`}\n          requestname={key}\n          className={active === key ? 'active' : ''}\n          onClick={() => {\n            chooseCallback(key);\n            setActive(key);\n          }}\n        >\n          {key}\n        </li>,\n      ];\n    }, []);\n\n  useEffect(() => {\n    if (!active) {\n      chooseCallback(requests[0].props.requestname);\n      setActive(requests[0].props.requestname);\n    }\n  }, [active, chooseCallback, requests]);\n\n  return (\n    <div className=\"requests-list\">\n      <div className=\"request-list-header\">\n        <FormattedMessage id=\"debugger.requestsListHeader\" />\n        <small>Choose one from the list below</small>\n      </div>\n      <div className=\"requests-filter\">\n        <TextField\n          fullWidth\n          type=\"text\"\n          variant=\"outlined\"\n          value={filter}\n          onChange={(e) => setFilter(e.target.value.toLowerCase())}\n          placeholder=\"Search...\"\n        />\n      </div>\n      <div className=\"requests\">\n        <ul>{requests}</ul>\n      </div>\n    </div>\n  );\n};\n\nexport default RequestsList;\n","import React, { useState } from 'react';\nimport { Button } from '@material-ui/core';\nimport { FormattedMessage } from 'react-intl';\nimport { Link } from 'react-router-dom';\nimport ArrowIcon from '../../assets/icons/back.svg';\nimport Protobuf from '../../protobuf/Protobuf';\nimport RequestParameter from '../RequestParameter';\nimport RequestedResponseVisualizer from '../RequestedResponseVisualizer';\nimport RequestsList from '../RequestsList';\n\nimport './style.scss';\n\nconst Debugger = () => {\n  const [currentRequest, setCurrentRequest] = useState('');\n  const [response, setResponse] = useState(null);\n\n  const filteredProto = Object.keys(Protobuf.SvPb)\n    .sort()\n    .reduce((requests, key) => {\n      if (!key.endsWith('Request')) return requests;\n      if (key.endsWith('StreamRequest')) return requests;\n      if (\n        Protobuf.SvPb[key].filename.includes('InspectionCommands') &&\n        key !== 'InspectionCmdRequest'\n      )\n        return requests;\n      if (Protobuf.SvPb[key].filename.includes('ConfigCommands') && key !== 'ConfigCommandRequest')\n        return requests;\n\n      return { ...requests, [key]: Protobuf.SvPb[key] };\n    }, {});\n\n  return (\n    <div className=\"debugger-wrapper\">\n      <div className=\"debugger-header\">\n        <Button component={Link} variant=\"contained\" color=\"primary\" to=\"/app\">\n          <img src={ArrowIcon} alt=\"back\" className=\"image-item\" />\n          <FormattedMessage id=\"debugger.backToWebApp\" />\n        </Button>\n      </div>\n      <div className=\"request-list-container\">\n        <RequestsList\n          proto={filteredProto}\n          chooseCallback={(key) => {\n            setCurrentRequest(key);\n            setResponse(null);\n          }}\n        />\n      </div>\n      <div className=\"request-container\">\n        <RequestParameter name={currentRequest} onResponse={(response) => setResponse(response)} />\n      </div>\n      <div className=\"response-container\">\n        <RequestedResponseVisualizer response={response} />\n      </div>\n    </div>\n  );\n};\n\nexport default Debugger;\n","import React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport Debugger from '../components/Debugger';\nimport translations from '../translations';\n\nconst DebuggerPage = () => {\n  const { locale } = useSelector((state) => state.app);\n  return (\n    <IntlProvider locale={locale} messages={translations[locale]}>\n      <Debugger />\n    </IntlProvider>\n  );\n};\n\nexport default DebuggerPage;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router';\n\nimport {\n  setLocale,\n  authenticate,\n  setTopNavHidden,\n  setBottomNavHidden,\n  setDefaultViewSetName,\n} from '../redux/actions';\nimport logger from '../utils/logger';\n\nconst parseQueryParams = (search) => {\n  const queryParams = {};\n  try {\n    search\n      .substr(1)\n      .split('&')\n      .forEach((item) => {\n        const part = item.split('=');\n        const key = part[0];\n        const value = part[1] && decodeURIComponent(part[1]);\n        queryParams[key] = value;\n      });\n  } catch (error) {\n    logger.error(error);\n  }\n  return queryParams;\n};\n\nclass HmiLoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      authenticated: false,\n      queryParams: parseQueryParams(this.props.location.search),\n    };\n  }\n\n  componentDidMount() {\n    this.props.setTopNavHidden(this.state.queryParams.hideTopNavigation === 'true');\n    this.props.setBottomNavHidden(this.state.queryParams.hideBottomNavigation === 'true');\n\n    this.props.setLocale(this.state.queryParams.locale || 'en');\n\n    this.props.setDefaultViewSetName(this.state.queryParams.viewSet || null);\n\n    if (this.state.queryParams.token) {\n      this.props\n        .authenticate(this.state.queryParams.token)\n        .then(() => this.setState({ authenticated: true }))\n        .catch((authError) => this.setState({ authError }));\n    }\n  }\n\n  render() {\n    if (!this.state.queryParams.token) {\n      return <div>Malformed query params</div>;\n    }\n    if (this.state.authError) {\n      return (\n        <div>\n          Invalid token provided. Error: {this.state.authError.response?.status} Status:{' '}\n          {this.state.authError.response?.statusText}\n        </div>\n      );\n    }\n    if (!this.state.authenticated) {\n      return <div>Fetching auth token for provided access token</div>;\n    }\n\n    return (\n      <Redirect\n        to={{\n          pathname: '/app',\n          state: { viewSetTemplate: this.state.queryParams.viewSet },\n        }}\n      />\n    );\n  }\n}\n\nHmiLoginPage.propTypes = {\n  location: PropTypes.shape({\n    search: PropTypes.string,\n  }).isRequired,\n  setLocale: PropTypes.func.isRequired,\n  authenticate: PropTypes.func.isRequired,\n  setTopNavHidden: PropTypes.func.isRequired,\n  setBottomNavHidden: PropTypes.func.isRequired,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  setLocale: (locale) => dispatch(setLocale(locale)),\n  authenticate: (accessToken) => dispatch(authenticate(accessToken)),\n  setTopNavHidden: (hidden) => dispatch(setTopNavHidden(hidden)),\n  setBottomNavHidden: (hidden) => dispatch(setBottomNavHidden(hidden)),\n  setDefaultViewSetName: (name) => dispatch(setDefaultViewSetName(name)),\n});\n\nexport default connect(null, mapDispatchToProps)(HmiLoginPage);\n","import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport { logOut } from '../redux/actions';\nimport { resetState } from '../utils/localStorage';\n\nclass LogoutPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loggedOut: false,\n    };\n  }\n\n  render() {\n    this.props.onLogOut().then(() => {\n      this.setState({ loggedOut: true });\n    });\n\n    if (this.state.loggedOut) {\n      resetState();\n      this.props.onLoggedOut();\n      return (\n        <Redirect\n          to={{\n            pathname: '/',\n            state: { loggedOut: true },\n          }}\n        />\n      );\n    }\n    return null;\n  }\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  onLogOut: () => dispatch(logOut()),\n});\n\nexport default connect(null, mapDispatchToProps)(LogoutPage);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  toggleFullscreenMode,\n  setEditingFocus,\n  setFocusedViewType,\n  setSaveFlag,\n  openHelpView,\n} from '../redux/actions/index';\nimport { IMAGE_VIEW } from '../views/ViewSetFactory';\n\nexport default class KeyHandler extends Component {\n  componentDidMount() {\n    this.node.addEventListener('keydown', this.handleKeyEvent);\n    this.node.addEventListener('click', this.handleClick);\n  }\n\n  componentWillUnmount() {\n    this.node.removeEventListener('keydown', this.handleKeyEvent);\n    this.node.removeEventListener('click', this.handleClick);\n  }\n\n  handleKeyEvent = (event) => {\n    const keyString = `${event.ctrlKey ? 'ctrl+' : ''}${event.key}`;\n    switch (keyString) {\n      case 'ctrl+f':\n        event.preventDefault();\n        this.props.dispatch(toggleFullscreenMode(this.props.view));\n        break;\n      case 'F1':\n        event.preventDefault();\n        this.props.dispatch(openHelpView());\n        break;\n      default:\n        return;\n    }\n    event.stopPropagation();\n  };\n\n  handleClick = () => {\n    const { view, editingViewIds, dispatch, helpSection } = this.props;\n\n    if (view) {\n      try {\n        const viewId = view.props.id;\n        const inspectionId = view.props.views.viewSet[viewId].inspectionId;\n        const viewType = view.props.views.viewSet[viewId].viewComponentClassId;\n        if (viewType === IMAGE_VIEW) {\n          dispatch(setEditingFocus(inspectionId, viewId));\n\n          if (!editingViewIds.includes(viewId)) {\n            dispatch(setSaveFlag(true));\n          }\n        }\n        dispatch(setFocusedViewType(viewType));\n      } catch (error) {\n        console.error(error);\n      }\n    } else if (helpSection) {\n      dispatch(setFocusedViewType(helpSection));\n    }\n  };\n\n  render() {\n    const { children } = this.props;\n    return (\n      <div\n        tabIndex={0}\n        style={{ width: '100%', height: '100%' }}\n        ref={(node) => {\n          this.node = node;\n        }}\n      >\n        {children && children}\n      </div>\n    );\n  }\n}\n\nKeyHandler.defaultProps = {\n  children: undefined,\n};\n\nKeyHandler.propTypes = {\n  children: PropTypes.node,\n  dispatch: PropTypes.func.isRequired,\n  view: PropTypes.object, // eslint-disable-line\n};\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport cloneDeep from 'lodash/cloneDeep';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport ArrowIcon from '../../assets/icons/back.svg';\nimport Protobuf from '../../protobuf/Protobuf';\nimport {\n  flattenProtobuf,\n  canReadUserManagement,\n  canEditUserManagement,\n  getGroupPermissionsFromFlattenedPermissions,\n} from '../../utils/permissions';\n\nimport './style.scss';\n\nclass PermissionManagement extends Component {\n  constructor(props) {\n    super(props);\n    this.allAvailablePermissions = new Set();\n    this.state = {\n      redirect: false,\n      initiallySelectedPermissions: new Map(),\n      currentSelectedPermissions: new Map(),\n    };\n  }\n\n  componentDidMount() {\n    if (Protobuf.SvPb.Permissions) {\n      this.allAvailablePermissions = flattenProtobuf(Protobuf.SvPb.Permissions);\n      this.loadCurrentPermissions(this.props.groupPermissions);\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (\n      (prevProps.groupPermissions === undefined && this.props.groupPermissions) ||\n      prevProps.groupPermissions !== this.props.groupPermissions\n    ) {\n      this.loadCurrentPermissions(this.props.groupPermissions);\n    }\n  }\n\n  loadCurrentPermissions = (permissions) => {\n    if (permissions) {\n      const initiallySelectedPermissions = permissions;\n      const currentSelectedPermissions = cloneDeep(initiallySelectedPermissions);\n      this.setState({ initiallySelectedPermissions, currentSelectedPermissions });\n    }\n  };\n\n  onCheck(groupName, key, checked) {\n    const newPermissions = cloneDeep(this.state.currentSelectedPermissions);\n    if (!newPermissions.has(groupName)) {\n      newPermissions.set(groupName, { groupPermissions: new Set(), users: [] });\n    }\n    if (checked) {\n      newPermissions.get(groupName).groupPermissions.add(key);\n    } else {\n      newPermissions.get(groupName).groupPermissions.delete(key);\n    }\n    this.setState({ currentSelectedPermissions: newPermissions });\n  }\n\n  savePermissions = (flattenedPermissions) => {\n    const result = getGroupPermissionsFromFlattenedPermissions(flattenedPermissions);\n    this.props.proxy.setUserPermissions(result);\n  };\n\n  onSaveClicked = () => {\n    this.savePermissions(this.state.currentSelectedPermissions);\n  };\n\n  onResetClicked = () => {\n    this.setState({\n      currentSelectedPermissions: cloneDeep(this.state.initiallySelectedPermissions),\n    });\n  };\n\n  mapsAreEqual(am, bm) {\n    if (am.size !== bm.size) {\n      return false;\n    }\n    for (var a of am) {\n      if (!bm.has(a[0])) {\n        return false;\n      }\n\n      const bs = bm.get(a[0]).groupPermissions;\n      if (a[1].groupPermissions.size !== bs.size) {\n        return false;\n      }\n\n      for (var as of a[1].groupPermissions) {\n        if (!bs.has(as)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n\n  getColGroup() {\n    const { currentSelectedPermissions } = this.state;\n    const colGroup = [];\n\n    colGroup.push(<col style={{ width: '200px' }} key={`col_permissions`}></col>);\n    currentSelectedPermissions.forEach((permissionsPerGroup, groupName) => {\n      colGroup.push(<col style={{ width: '80px' }} key={`col_${groupName}`}></col>);\n    });\n    colGroup.push(<col style={{ width: '*' }} key={`col_descriptions`}></col>);\n\n    return colGroup;\n  }\n\n  getTableHead() {\n    const { currentSelectedPermissions } = this.state;\n    const tableheader = [];\n\n    tableheader.push(\n      <td key={`header_td_permissions`}>\n        <div className=\"permission-management-permissions-header-left\">\n          <FormattedMessage id=\"permissions.permissions\" />\n        </div>\n      </td>,\n    );\n    currentSelectedPermissions.forEach((permissionsPerGroup, groupName) => {\n      tableheader.push(\n        <td key={`header_td_${groupName}`}>\n          <div className=\"permission-management-permissions-header\">{groupName}</div>\n          <div className=\"permission-management-permissions-subheader\">\n            {Array.isArray(permissionsPerGroup.users) && permissionsPerGroup.users.length > 0\n              ? `(${permissionsPerGroup.users.join(', ')})`\n              : undefined}\n          </div>\n        </td>,\n      );\n    });\n    tableheader.push(\n      <td key={`header_td_description`}>\n        <div className=\"permission-management-permissions-header\">\n          <FormattedMessage id=\"permissions.description\" />\n        </div>\n      </td>,\n    );\n\n    return <tr>{tableheader}</tr>;\n  }\n\n  getData(canEdit) {\n    const { currentSelectedPermissions } = this.state;\n    const data = [];\n    this.allAvailablePermissions.forEach((permission) => {\n      const dataRow = [];\n      dataRow.push(\n        <td key={`body_td_permission_${permission}`}>\n          <div className=\"permission-management-label\">{permission}</div>\n        </td>,\n      );\n      currentSelectedPermissions.forEach((permissionsPerGroup, groupName) => {\n        const selected = permissionsPerGroup.groupPermissions.has(permission);\n        dataRow.push(\n          <td key={`body_td_${groupName}_${permission}`}>\n            <Checkbox\n              type=\"checkbox\"\n              checked={selected}\n              name={`checkbox_${groupName}_${permission}`}\n              color=\"primary\"\n              className=\"permission-management-checkbox\"\n              onClick={(e) =>\n                canEdit && groupName !== 'sdm'\n                  ? this.onCheck(groupName, permission, e.target.checked)\n                  : undefined\n              }\n              disabled={!canEdit || groupName === 'sdm'}\n            />\n          </td>,\n        );\n      });\n      dataRow.push(\n        <td key={`body_td_description_${permission}`}>\n          <div className=\"permission-management-label\">\n            <FormattedMessage id={`permissionDescription.${permission}`} />\n          </div>\n        </td>,\n      );\n      data.push(<tr key={`body_tr_${permission}`}>{dataRow}</tr>);\n    });\n    return data;\n  }\n\n  render() {\n    const { redirect, initiallySelectedPermissions, currentSelectedPermissions } = this.state;\n    const { myPermissions } = this.props;\n\n    const canRead = canReadUserManagement(myPermissions);\n    const canEdit = canEditUserManagement(myPermissions);\n\n    if (redirect) {\n      return <Redirect to=\"/app\" />;\n    }\n\n    const hasChanges = !this.mapsAreEqual(initiallySelectedPermissions, currentSelectedPermissions);\n    const colGroup = this.getColGroup();\n    const tablehead = this.getTableHead();\n    const data = this.getData(canEdit);\n\n    return (\n      <div className=\"permission-management-wrapper\">\n        <div className=\"permission-management-fixed-header\">\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => this.setState({ redirect: true })}\n          >\n            <img src={ArrowIcon} alt=\"back\" className=\"image-item\" />\n            <FormattedMessage id=\"permissions.backToWebApp\" />\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!hasChanges}\n            onClick={this.onSaveClicked}\n          >\n            Save\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled={!hasChanges}\n            onClick={this.onResetClicked}\n          >\n            Reset\n          </Button>\n        </div>\n        <h1>\n          <FormattedMessage id=\"permissions.permissionManagement\" />\n        </h1>\n        <h3>\n          <FormattedMessage id=\"permissions.helpText\" />\n        </h3>\n        {canRead || canEdit ? (\n          <table className=\"permission-management-table-wrapper\">\n            <colgroup>{colGroup}</colgroup>\n            <thead>{tablehead}</thead>\n            <tbody>{data}</tbody>\n          </table>\n        ) : undefined}\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  groupPermissions: state.app.groupPermissions,\n  proxy: state.app.proxy,\n  user: state.app.user,\n  myPermissions: state.app.myPermissions,\n});\n\nexport default connect(mapStateToProps, null)(PermissionManagement);\n","import React from 'react';\nimport { IntlProvider } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport KeyHandler from '../components/KeyHandler';\nimport PermissionManagement from '../components/PermissionManagement';\nimport { closeHelpView } from '../redux/actions';\nimport translations from '../translations';\nimport HelpView from '../views/HelpView';\nimport viewMappings from '../views/HelpView/viewMappings';\n\nconst PermissionPage = () => {\n  const dispatch = useDispatch();\n  const { isHelpViewOpen, locale } = useSelector((state) => state.app);\n\n  return (\n    <IntlProvider locale={locale} messages={translations[locale]}>\n      <KeyHandler dispatch={dispatch} helpSection={viewMappings.PERMISSIONS}>\n        <PermissionManagement />\n        <HelpView open={isHelpViewOpen} onClose={() => dispatch(closeHelpView())}></HelpView>\n      </KeyHandler>\n    </IntlProvider>\n  );\n};\n\nexport default PermissionPage;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nclass ModalNotification extends Component {\n  render() {\n    const { visible, message } = this.props;\n    if (!visible) {\n      return false;\n    }\n\n    return (\n      <div className=\"modal-fullscreen-style\">\n        <div className=\"modal-fullscreen-inner\">{message}</div>\n      </div>\n    );\n  }\n}\n\nModalNotification.defaultProps = {\n  visible: false,\n  message: undefined,\n};\n\nModalNotification.propTypes = {\n  visible: PropTypes.bool,\n  message: PropTypes.object,\n};\n\nexport default ModalNotification;\n","import PropTypes from 'prop-types';\n\nconst ProtobufType = PropTypes.shape({\n  request: PropTypes.func.isRequired,\n});\n\nexport default ProtobufType;\n","export default __webpack_public_path__ + \"static/media/view-manager.8d715a8f.svg\";","export default __webpack_public_path__ + \"static/media/check.069f9f99.svg\";","export default __webpack_public_path__ + \"static/media/export.6f1edad0.svg\";","export default __webpack_public_path__ + \"static/media/import.2817cb78.svg\";","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\n\nimport Dialog from '../Dialog';\nimport './style.scss';\n\nclass InformationDialog extends Component {\n  render() {\n    const { onClose, open, title, message } = this.props;\n\n    return (\n      <div>\n        <Dialog title={title} onClose={onClose} open={open}>\n          <div className=\"message-wrapper\">{message}</div>\n          <div className=\"button-wrapper\">\n            <Button color=\"primary\" onClick={onClose}>\n              Okay\n            </Button>\n          </div>\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nexport default InformationDialog;\n","import React, { useState, useRef } from 'react';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\nimport Table, { AutoResizer } from 'react-base-table';\nimport { FormattedMessage, injectIntl } from 'react-intl';\nimport { useSelector, useDispatch } from 'react-redux';\nimport semver from 'semver';\n\nimport iconCheck from '../../assets/icons/check.svg';\nimport removeIcon from '../../assets/icons/delete.svg';\nimport EditIcon from '../../assets/icons/edit.svg';\nimport exportIcon from '../../assets/icons/export.svg';\nimport importIcon from '../../assets/icons/import.svg';\nimport addIcon from '../../assets/icons/plus.svg';\nimport iconSave from '../../assets/icons/save.svg';\n\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport Dialog from '../../components/Dialog';\nimport InformationDialog from '../../components/InformationDialog';\nimport IconButton from '../../components/buttons/IconButton';\nimport {\n  removeViewSet,\n  renameViewSet,\n  newViewSet,\n  setViewSet,\n  setEditingFocus,\n  purgeViewState,\n} from '../../redux/actions';\nimport { forceDownload } from '../../utils/downloader';\nimport logger from '../../utils/logger';\nimport {\n  canReadViewSet,\n  canEditViewSet,\n  canDeleteViewSet,\n  canSaveConfig,\n} from '../../utils/permissions';\n\nimport './style.scss';\n\nconst ViewSetManager = ({ onClose, onSave, intl }) => {\n  const fileChooser = useRef(null);\n  const dispatch = useDispatch();\n  const createdViewSets = useSelector((state) => state.viewSet.createdViewSets);\n  const currentViewSet = useSelector((state) => state.viewSet.currentViewSet);\n  const inspections = useSelector((state) => state.inspections);\n  const configuration = useSelector((state) => state.app.configuration);\n  const myPermissions = useSelector((state) => state.app.myPermissions);\n  const canEdit = canEditViewSet(myPermissions);\n  const canDelete = canDeleteViewSet(myPermissions);\n\n  const [name, setName] = useState(currentViewSet.name);\n  const [isImportConfirmOpen, setIsImportConfirmOpen] = useState(false);\n  const [viewsetToDelete, setViewsetToDelete] = useState('');\n  const [currentImportedViewSet, setCurrentImportedViewSet] = useState(null);\n  const [isInformationDialogOpen, setIsInformationDialogOpen] = useState(false);\n  const [informationDialogTitle, setInformationDialogTitle] = useState('');\n  const [informationDialogMessage, setInformationDialogMessage] = useState('');\n  const [shouldCloseViewSetManager, setShouldCloseViewSetManager] = useState(false);\n  const [viewSetToEdit, setViewSetToEdit] = useState('');\n\n  const fileLoaderVersion = '1.0.0';\n\n  const getNextFreeName = (nameToTry) => {\n    let name = nameToTry;\n    let counter = 1;\n    while (existsName(name)) {\n      name = `${nameToTry}${counter}`;\n      counter++;\n    }\n\n    return name;\n  };\n\n  const existsName = (name) => {\n    return Object.keys(createdViewSets).filter((key) => key === name).length > 0;\n  };\n\n  const addViewSet = () => {\n    const newViewSetName = getNextFreeName('Initial');\n    dispatch(newViewSet(newViewSetName));\n  };\n\n  const removeSelectedViewSet = () => {\n    dispatch(removeViewSet(viewsetToDelete));\n  };\n\n  const saveViewSets = () => {\n    onSave();\n    closeViewSetManager();\n  };\n\n  const exportViewSets = async () => {\n    const webAppVersion = configuration.getWebAppVersion();\n    const dataToSave = {\n      currentViewSet,\n      editingViewIds: getEditingViewIdsPerInspection(),\n      timestamp: new Date(),\n      version: '1.0.0',\n      webAppVersion,\n    };\n\n    await createJsonFileFromObject(dataToSave);\n\n    closeViewSetManager();\n  };\n\n  const getEditingViewIdsPerInspection = () => {\n    const editingViewIds = [];\n\n    Object.keys(inspections).forEach((inspectionIdStr) => {\n      const inspectionId = parseInt(inspectionIdStr, 10);\n      if (\n        inspections[inspectionIdStr] &&\n        inspections[inspectionIdStr].sharedState &&\n        inspections[inspectionIdStr].sharedState.editingViewId\n      ) {\n        editingViewIds.push({\n          inspectionId,\n          editingViewId: inspections[inspectionIdStr].sharedState.editingViewId,\n        });\n      }\n    });\n\n    return editingViewIds;\n  };\n\n  const createJsonFileFromObject = async (object) => {\n    const json = JSON.stringify(object);\n    const blob = new Blob([json], { type: 'application/json' });\n    const data = await URL.createObjectURL(blob);\n\n    forceDownload(data, 'viewset.json');\n  };\n\n  const importViewSets = () => {\n    fileChooser.current.click();\n  };\n\n  const onFileAdded = (evt) => {\n    const file = evt.target.files[0];\n\n    if (file) {\n      const fileReader = new FileReader();\n      fileReader.readAsText(file);\n\n      fileReader.onload = (event) => {\n        handleFileData(event.target.result);\n      };\n    }\n  };\n\n  const handleFileData = (fileText) => {\n    try {\n      const data = JSON.parse(fileText);\n      if (equalsViewSetName(data.currentViewSet.id)) {\n        setIsImportConfirmOpen(true);\n        setCurrentImportedViewSet(data);\n        return;\n      }\n\n      setViewSetConfigurationFromFileData(data);\n    } catch (error) {\n      showErrorWhileLoadingFileDialog();\n      logger.error(error);\n    }\n  };\n\n  const handleImportConfirmDialogClose = (confirmed) => {\n    setIsImportConfirmOpen(false);\n    if (confirmed) {\n      loadViewSetFromFile();\n    } else {\n      fileChooser.current.value = '';\n    }\n  };\n\n  const handleDeleteConfirmDialogClose = (confirmed) => {\n    setViewsetToDelete('');\n    if (confirmed) {\n      removeSelectedViewSet();\n    }\n  };\n\n  const loadViewSetFromFile = () => {\n    setViewSetConfigurationFromFileData(currentImportedViewSet);\n  };\n\n  const equalsViewSetName = (name) => {\n    if (currentViewSet.id === name) {\n      return true;\n    }\n\n    return false;\n  };\n\n  const setViewSetConfigurationFromFileData = (data) => {\n    loadSuccessfulInformationDialogText();\n\n    if (!isMajorVersionCompatible(data.version)) {\n      showIncompatibleVersionErrorDialog();\n      logger.error('Version of file is not valid.');\n      return;\n    }\n\n    if (isMinorVersionNewer(data.version)) {\n      loadVersionChangeInformationDialogText();\n    }\n\n    if (!data.currentViewSet.id) {\n      showErrorWhileLoadingFileDialog();\n      logger.error('Could not load viewset id.');\n      return;\n    }\n    dispatch(setViewSet(data.currentViewSet, data.currentViewSet.id));\n\n    if (data.editingViewIds) {\n      data.editingViewIds.forEach((entry) => {\n        dispatch(setEditingFocus(entry.inspectionId, entry.editingViewId));\n      });\n    }\n\n    dispatch(purgeViewState());\n    showInformationDialog();\n  };\n\n  const isMajorVersionCompatible = (version) => {\n    if (fileLoaderVersion === version) {\n      return true;\n    }\n\n    if (!semver.valid(version) || semver.diff(fileLoaderVersion, version) === 'major') {\n      return false;\n    }\n\n    return true;\n  };\n\n  const isMinorVersionNewer = (version) => {\n    return (\n      semver.diff(fileLoaderVersion, version) === 'minor' && semver.gt(version, fileLoaderVersion)\n    );\n  };\n\n  const closeViewSetManager = () => {\n    onClose();\n  };\n\n  const loadSuccessfulInformationDialogText = () => {\n    setInformationDialogTitle(<FormattedMessage id=\"notifications.successfulAction\" />);\n    setInformationDialogMessage(<FormattedMessage id=\"notifications.successfullyLoadedFile\" />);\n    setShouldCloseViewSetManager(true);\n  };\n\n  const showErrorWhileLoadingFileDialog = () => {\n    setInformationDialogTitle(<FormattedMessage id=\"notifications.errorOccurred\" />);\n    setInformationDialogMessage(<FormattedMessage id=\"notifications.error.loadingFile\" />);\n    setIsInformationDialogOpen(true);\n  };\n\n  const showIncompatibleVersionErrorDialog = () => {\n    setInformationDialogTitle(\n      <FormattedMessage id=\"notifications.viewsetVersionIncompatibleTitle\" />,\n    );\n    setInformationDialogMessage(\n      <FormattedMessage id=\"notifications.viewsetVersionIncompatibleMessage\" />,\n    );\n    setIsInformationDialogOpen(true);\n  };\n\n  const loadVersionChangeInformationDialogText = () => {\n    setInformationDialogTitle(<FormattedMessage id=\"notifications.minorVersionDiffTitle\" />);\n    setInformationDialogMessage(<FormattedMessage id=\"notifications.minorVersionDiffMessage\" />);\n    setShouldCloseViewSetManager(true);\n  };\n\n  const showInformationDialog = () => {\n    setIsInformationDialogOpen(true);\n  };\n\n  const getActions = () => {\n    const actions = [];\n\n    if (canSaveConfig(myPermissions)) {\n      actions.push({\n        intlId: 'viewSetManager.save',\n        iconUrl: iconSave,\n        onClickHandler: () => {\n          saveViewSets();\n        },\n      });\n    }\n\n    if (canReadViewSet(myPermissions)) {\n      actions.push({\n        intlId: 'viewSetManager.export',\n        iconUrl: exportIcon,\n        onClickHandler: () => {\n          exportViewSets();\n        },\n      });\n    }\n\n    if (canEdit) {\n      actions.push({\n        intlId: 'viewSetManager.import',\n        iconUrl: importIcon,\n        onClickHandler: () => {\n          importViewSets();\n        },\n      });\n    }\n\n    return actions;\n  };\n\n  const getColumns = () => {\n    return [\n      {\n        key: 'name',\n        dataKey: 'name',\n        title: 'Name',\n        width: 0,\n        flexGrow: 1,\n      },\n      {\n        key: 'edit',\n        dataKey: 'edit',\n        title: '',\n        width: 40,\n      },\n      {\n        key: 'delete',\n        dataKey: 'delete',\n        title: '',\n        width: 40,\n      },\n    ];\n  };\n\n  const changeViewSetName = () => {\n    if (viewSetToEdit !== name && Object.keys(createdViewSets).includes(name)) {\n      alert('Viewset with this name already exists.');\n      return;\n    }\n\n    dispatch(renameViewSet(viewSetToEdit, name));\n\n    setViewSetToEdit('');\n    setName('');\n  };\n\n  const getViewSetEditName = () => {\n    return (\n      <div className=\"viewsetmanager-edit-viewset-name-wrapper\">\n        <TextField\n          fullWidth\n          type=\"text\"\n          inputProps={{\n            style: {\n              height: 29,\n            },\n          }}\n          value={name}\n          onChange={(e) => setName(e.target.value.substring(0, 20))}\n        />\n      </div>\n    );\n  };\n\n  const getViewSetEditingIcon = (viewsetName) => {\n    if (!canEdit) {\n      return undefined;\n    }\n\n    if (viewSetToEdit !== viewsetName) {\n      return (\n        <IconButton\n          onClick={() => {\n            setViewSetToEdit(viewsetName);\n            setName(viewsetName);\n          }}\n          tooltip={intl.messages['viewSetManager.editViewSetName']}\n          iconUrl={EditIcon}\n        />\n      );\n    } else {\n      return (\n        <IconButton\n          onClick={() => changeViewSetName()}\n          tooltip={intl.messages['viewSetManager.changeViewSetName']}\n          iconUrl={iconCheck}\n        />\n      );\n    }\n  };\n\n  const getViewSets = () => {\n    const data =\n      createdViewSets &&\n      Object.keys(createdViewSets).map((viewsetName) => {\n        return {\n          edit: getViewSetEditingIcon(viewsetName),\n          delete: canDelete ? (\n            <IconButton\n              onClick={() => setViewsetToDelete(viewsetName)}\n              tooltip={intl.messages['viewSetManager.deleteIconTooltip']}\n              iconUrl={removeIcon}\n            />\n          ) : undefined,\n          name: viewSetToEdit === viewsetName ? getViewSetEditName() : viewsetName,\n          id: viewsetName,\n        };\n      });\n    return data;\n  };\n\n  const headerRenderer = ({ columns }) => {\n    const columnHeaders = [];\n    columns.forEach((column, columnIndex) => {\n      if (column.key === 'delete') {\n        columnHeaders.push(\n          <div\n            style={{ width: columns[columnIndex].width, paddingRight: 3 }}\n            key={`header_${columnIndex}`}\n          >\n            <IconButton\n              tooltip={intl.messages['viewSetManager.newViewSet']}\n              iconUrl={addIcon}\n              onClick={() => addViewSet()}\n            />\n          </div>,\n        );\n      } else {\n        columnHeaders.push(\n          <div key={`header_${columnIndex}`} className=\"viewsetmanager-header-wrapper\">\n            {columns[columnIndex].title}\n          </div>,\n        );\n      }\n    });\n\n    return columnHeaders;\n  };\n\n  const actions = getActions();\n  const data = getViewSets();\n  const columns = getColumns();\n\n  return (\n    <div>\n      <Dialog\n        title={<FormattedMessage id=\"viewSetManager.title\" />}\n        dialogActions={actions}\n        onClose={() => {\n          closeViewSetManager();\n        }}\n        open\n      >\n        <div className=\"viewsetmanager-headline-wrapper\">\n          <FormattedMessage id=\"viewSetManager.editViewSetHeadline\" />\n        </div>\n        <div className=\"viewsetmanager-table-wrapper\">\n          <AutoResizer key={`autoresizer`}>\n            {({ width, height }) => (\n              <Table\n                headerRenderer={headerRenderer}\n                columns={columns}\n                data={data}\n                width={width}\n                height={height - 20}\n                headerHeight={30}\n                rowHeight={30}\n                key=\"viewset-table\"\n              />\n            )}\n          </AutoResizer>\n        </div>\n      </Dialog>\n      <ConfirmDialog\n        open={isImportConfirmOpen}\n        onClose={(confirmed) => handleImportConfirmDialogClose(confirmed)}\n        title={<FormattedMessage id=\"viewSetManager.importConfirm.title\" />}\n        message={<FormattedMessage id=\"viewSetManager.importConfirm.message\" />}\n      />\n      <ConfirmDialog\n        open={viewsetToDelete !== ''}\n        onClose={(confirmed) => handleDeleteConfirmDialogClose(confirmed)}\n        message={\n          <FormattedMessage\n            id=\"viewSetManager.deleteConfirm.message\"\n            values={{ viewsetName: viewsetToDelete }}\n          />\n        }\n      />\n      <InformationDialog\n        onClose={() => {\n          setIsInformationDialogOpen(false);\n          if (shouldCloseViewSetManager) {\n            closeViewSetManager();\n          }\n        }}\n        open={isInformationDialogOpen}\n        title={informationDialogTitle}\n        message={informationDialogMessage}\n      />\n      <input ref={fileChooser} style={{ display: 'none' }} type=\"file\" onChange={onFileAdded} />\n    </div>\n  );\n};\n\nViewSetManager.propTypes = {\n  onClose: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n};\n\nexport default injectIntl(ViewSetManager);\n","import PropTypes from 'prop-types';\n\nexport const viewSetType = PropTypes.shape({\n  id: PropTypes.string,\n});\n\nexport const mosaicViewType = PropTypes.oneOfType([viewSetType, PropTypes.string]);\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nconst TopNavigationItem = ({ children }) => <div className=\"box-wrapper\">{children}</div>;\n\nTopNavigationItem.defaultProps = {\n  children: undefined,\n};\n\nTopNavigationItem.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default TopNavigationItem;\n","import React from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\nimport NavigationItem from '../../../../../../components/NavigationItem';\n\nconst PresetButton = ({ id, title, onClick, active }) => {\n  const presetButtonClass = classNames({\n    'preset-button': true,\n    'preset-button-active': active,\n  });\n  return (\n    <NavigationItem>\n      <button id={id} onClick={onClick} className={presetButtonClass}>\n        <span>{title}</span>\n      </button>\n    </NavigationItem>\n  );\n};\n\nPresetButton.defaultProps = {\n  id: undefined,\n  onClick: () => void 0,\n  active: false,\n};\n\nPresetButton.propTypes = {\n  id: PropTypes.string,\n  title: PropTypes.node.isRequired,\n  onClick: PropTypes.func,\n  active: PropTypes.bool,\n};\n\nexport default PresetButton;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport { switchViewSet } from '../../../../redux/actions';\nimport { canReadViewSet, canEditViewSet } from '../../../../utils/permissions';\nimport { viewSetType, mosaicViewType } from '../../../ViewSet/types';\nimport PresetButton from './components/PresetButton';\n\nconst PresetSlider = ({ currentViewSet, createdViewSets, switchViewSet, myPermissions }) =>\n  canReadViewSet(myPermissions) || canEditViewSet(myPermissions) ? (\n    <div className=\"preset-slider-wrapper\">\n      {createdViewSets &&\n        createdViewSets.map((viewSet) => (\n          <PresetButton\n            title={viewSet.name || viewSet.id}\n            key={viewSet.id}\n            onClick={() => switchViewSet(viewSet)}\n            active={currentViewSet && currentViewSet.id === viewSet.id}\n          />\n        ))}\n    </div>\n  ) : (\n    <div></div>\n  );\n\nPresetSlider.defaultProps = {\n  currentViewSet: undefined,\n  createdViewSets: [],\n};\n\nPresetSlider.propTypes = {\n  currentViewSet: mosaicViewType,\n  createdViewSets: PropTypes.arrayOf(viewSetType),\n  switchViewSet: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  createdViewSets: Object.keys(state.viewSet.createdViewSets).map(\n    (key) => state.viewSet.createdViewSets[key],\n  ),\n  currentViewSet: state.viewSet.currentViewSet,\n  myPermissions: state.app.myPermissions,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  switchViewSet: (viewSet) => dispatch(switchViewSet(viewSet)),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PresetSlider);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { injectIntl, FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport ViewSetManagerIcon from '../../assets/icons/view-manager.svg';\nimport { setBottomNavHidden } from '../../redux/actions';\nimport { canReadViewSet, canEditViewSet } from '../../utils/permissions';\nimport ViewSetManager from '../ViewSetManager';\nimport PresetSlider from './components/PresetSlider';\n\nclass BottomNav extends Component {\n  state = {\n    selectedIndex: 0,\n    viewSetManagerOpen: false,\n  };\n  select = (index) => this.setState({ selectedIndex: index });\n\n  render() {\n    const { onSave, bottomNavHidden, isSVOConfigLoaded, myPermissions } = this.props;\n    return (\n      <div className={`bottom-nav-wrapper ${bottomNavHidden ? 'bottom-nav-hidden' : ''}`}>\n        <div className=\"bottom-nav\">\n          {isSVOConfigLoaded && <PresetSlider />}\n          {isSVOConfigLoaded && (canReadViewSet(myPermissions) || canEditViewSet(myPermissions)) ? (\n            <div\n              className=\"view-manager\"\n              onClick={() => {\n                this.setState({\n                  viewSetManagerOpen: !this.state.viewSetManagerOpen,\n                });\n              }}\n            >\n              <img src={ViewSetManagerIcon} alt=\"\" />\n              <FormattedMessage id=\"viewSetManager\" />\n            </div>\n          ) : undefined}\n        </div>\n        <button\n          className=\"bottom-hider\"\n          onClick={() => {\n            this.props.setBottomNavHidden(!bottomNavHidden);\n          }}\n        >\n          {bottomNavHidden ? 'show' : 'hide'}\n        </button>\n        {isSVOConfigLoaded && (\n          <div>\n            {this.state.viewSetManagerOpen && (\n              <ViewSetManager\n                onClose={() => this.setState({ viewSetManagerOpen: false })}\n                onSave={onSave}\n              />\n            )}\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nBottomNav.propTypes = {\n  setBottomNavHidden: PropTypes.func.isRequired,\n  onSave: PropTypes.func.isRequired,\n  bottomNavHidden: PropTypes.bool.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  fullscreenMode: state.viewSet.fullscreenMode,\n  bottomNavHidden: state.viewSet.bottomNavHidden,\n  isSVOConfigLoaded: state.viewSet.isSVOConfigLoaded,\n  myPermissions: state.app.myPermissions,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  setBottomNavHidden: (hidden) => dispatch(setBottomNavHidden(hidden)),\n});\n\nexport default injectIntl(connect(mapStateToProps, mapDispatchToProps)(BottomNav));\n","import { ReactNode, useRef, useState } from 'react';\nimport { ClickAwayListener, Paper, Popper } from '@material-ui/core';\nimport clsx from 'clsx';\n\nimport './NavigationItem.scss';\n\nexport interface NavigationItemType {\n  id: string;\n  icon?: string;\n  className?: string;\n  content: ReactNode;\n  onClick?: () => void;\n  children?: (NavigationItemType | null)[];\n}\n\ninterface NavigationItemProps {\n  item: NavigationItemType;\n  nested?: boolean;\n}\n\nexport const NavigationItem = ({ item, nested }: NavigationItemProps) => {\n  const itemRef = useRef<HTMLDivElement>(null);\n\n  const [openMenu, setOpenMenu] = useState(false);\n\n  const hasChildren = !!item.children?.length;\n\n  return (\n    <>\n      <div className={clsx('navigation-item', item.className)} ref={itemRef}>\n        <button\n          className={clsx(\n            hasChildren && 'show-arrow',\n            nested && 'nested arrow-right',\n            openMenu && 'active',\n            (hasChildren || item.onClick) && 'clickable',\n          )}\n          onClick={() => {\n            if (item.onClick) {\n              item.onClick();\n            } else if (hasChildren) {\n              setOpenMenu(true);\n            }\n          }}\n        >\n          {item.icon && <img src={item.icon} />}\n          <span>{item.content}</span>\n        </button>\n      </div>\n      <Popper\n        open={openMenu}\n        anchorEl={itemRef.current}\n        placement={nested ? 'right-start' : 'bottom'}\n        style={{ zIndex: 9 }}\n      >\n        <ClickAwayListener onClickAway={() => setOpenMenu(false)}>\n          <Paper\n            elevation={4}\n            className=\"navigation-item-children-list\"\n            style={{ minWidth: itemRef.current?.getBoundingClientRect().width ?? 0 }}\n          >\n            {(item.children ?? []).map(\n              (child) => child && <NavigationItem key={child.id} item={child} nested />,\n            )}\n          </Paper>\n        </ClickAwayListener>\n      </Popper>\n    </>\n  );\n};\n","import Clock from 'react-live-clock';\nimport NavigationItem from '../../../../components/NavigationItem';\n\nimport './style.scss';\n\nconst DateTime = () => (\n  <NavigationItem>\n    <div className=\"date-time-wrapper\">\n      <Clock className=\"date\" format={'DD.MM.YYYY'} ticking />\n      <Clock className=\"time\" format={'HH:mm:ss'} ticking />\n    </div>\n  </NavigationItem>\n);\n\nexport default DateTime;\n","export default __webpack_public_path__ + \"static/media/play-multiple.92160d4a.svg\";","export default __webpack_public_path__ + \"static/media/language.0be28bcb.svg\";","export default __webpack_public_path__ + \"static/media/icons8-lock.b22b5188.svg\";","export default __webpack_public_path__ + \"static/media/icons8-padlock.048e7769.svg\";","import Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\n\ninterface AlertDialogProps {\n  open: boolean;\n  title: React.ReactNode;\n  contentText: React.ReactNode;\n}\n\nexport const AlertDialog: React.FC<React.PropsWithChildren<AlertDialogProps>> = ({\n  open,\n  title,\n  contentText,\n  children,\n}) => {\n  return (\n    <Dialog\n      open={open}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n      disableEscapeKeyDown={true}\n    >\n      <DialogTitle id=\"alert-dialog-title\">{title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">{contentText}</DialogContentText>\n      </DialogContent>\n      <DialogActions>{children}</DialogActions>\n    </Dialog>\n  );\n};\n","import { ReactNode, useEffect, useState } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { FormattedMessage } from 'react-intl';\r\n\r\nimport './style.scss';\r\n\r\ninterface TakeoverDialogProps {\r\n  open: boolean;\r\n  onAccept: () => void;\r\n  onReject: () => void;\r\n  title: ReactNode;\r\n  contentText: ReactNode;\r\n}\r\n\r\nexport const TakeoverDialog = (props: TakeoverDialogProps) => {\r\n  const timeoutInSeconds = 30;\r\n  const isActive = props.open;\r\n  const onAccept = props.onAccept;\r\n  const [timeLeft, setTimeLeft] = useState(timeoutInSeconds);\r\n\r\n  useEffect(() => {\r\n    let interval: ReturnType<typeof setInterval> | null = null;\r\n\r\n    if (isActive) {\r\n      interval = setInterval(() => {\r\n        setTimeLeft((timeLeft) => timeLeft - 1);\r\n      }, 1000);\r\n\r\n      if (timeLeft <= 0) {\r\n        onAccept();\r\n        clearInterval(interval);\r\n        setTimeLeft(timeoutInSeconds);\r\n      }\r\n    } else {\r\n      if (interval !== null) {\r\n        clearInterval(interval);\r\n      }\r\n      setTimeLeft(timeoutInSeconds);\r\n    }\r\n    return () => {\r\n      if (interval !== null) {\r\n        clearInterval(interval);\r\n      }\r\n    };\r\n  }, [isActive, onAccept, timeLeft]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={props.open}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{props.title}</DialogTitle>\r\n      <DialogContent>\r\n        <DialogContentText id=\"alert-dialog-description\">{props.contentText}</DialogContentText>\r\n      </DialogContent>\r\n      <Button onClick={props.onAccept} color=\"primary\">\r\n        <FormattedMessage id=\"accept\" />\r\n      </Button>\r\n      <Button onClick={props.onReject} color=\"primary\">\r\n        <FormattedMessage id=\"reject\" />\r\n      </Button>\r\n      <div className=\"auto-accept-container\">\r\n        <p>(auto accept in {timeLeft} seconds)</p>\r\n      </div>\r\n    </Dialog>\r\n  );\r\n};\r\n","import { ChangeEventHandler, useCallback, useReducer, useState } from 'react';\nimport { TextField, Button } from '@material-ui/core';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport { FormattedMessage, useIntl } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport lockIcon from '../../../assets/icons/icons8-lock.svg';\nimport padlockIcon from '../../../assets/icons/icons8-padlock.svg';\nimport ConfigurationLock from '../../../protobuf/ConfigurationLock';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { NavigationItemType } from '../NavigationItem';\nimport { AlertDialog } from './AlertDialog';\nimport { TakeoverDialog } from './TakeoverDialog';\n\nconst formReducer = (state: any, event: any) => {\n  return {\n    ...state,\n    [event.name]: event.value,\n  };\n};\n\nexport const useLockStateHandlerNavigation = (): NavigationItemType => {\n  const intl = useIntl();\n  const proxy = useSelector<any>((state) => state.app.proxy) as Proxy;\n  const configLock = useSelector<any>((state) => state.app.configurationLock) as ConfigurationLock;\n  const loggedUser = useSelector<any>((state) => state.app.user);\n  const [formData, setFormData] = useReducer(formReducer, { scope: 1 });\n\n  const [openFormDialog, setOpenFormDialog] = useState(false);\n\n  const getLabel = useCallback(() => {\n    if (configLock.isLockedBySameUser(loggedUser)) {\n      return intl.messages['topNavigation.release'];\n    } else if (configLock.isLockedByOtherUser(loggedUser)) {\n      return intl.messages['topNavigation.takeover'];\n    } else {\n      return intl.messages['topNavigation.lock'];\n    }\n  }, [configLock, intl.messages, loggedUser]);\n\n  const handleChange: ChangeEventHandler<HTMLInputElement | HTMLTextAreaElement> = (event) => {\n    setFormData({\n      name: event.target.name,\n      value: event.target.value,\n    });\n  };\n\n  const handleClose: React.MouseEventHandler<HTMLButtonElement> = (event) => {\n    event.stopPropagation();\n    setOpenFormDialog(false);\n  };\n\n  const handleSubmit: React.MouseEventHandler<HTMLButtonElement> = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n    setOpenFormDialog(false);\n    formData.requestTakeover = configLock.isLockedByOtherUser(loggedUser);\n    proxy.subscribeToLockAcquisitionStream(formData);\n  };\n\n  return {\n    id: 'lock-state-handler',\n    // icon: isLockedByMeStatus() ? padlockIcon : lockIcon,\n    icon: configLock.isLockedBySameUser(loggedUser) ? padlockIcon : lockIcon,\n    content: (\n      <>\n        <div className=\"lock-state-handler\">\n          {/* <div role=\"button\" tabIndex=\"0\" className=\"lock-config-button\" onClick={handleClick}> */}\n          {/* {configLock.isLockedBySameUser(loggedUser) ? <PadlockIcon /> : <LockIcon />} */}\n          <p>{getLabel()}</p>\n          {/* </div> */}\n          <div className=\"lock-status\">\n            <p>Status: {configLock.isLocked() ? 'Locked' : 'Unlocked'}</p>\n            <p>User: {configLock.owner}</p>\n            <p>Host: {configLock.isLocked() ? configLock.host : '0.0.0.0'}</p>\n          </div>\n        </div>\n        <Dialog open={openFormDialog} onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">\n            {configLock.isLockedByOtherUser(loggedUser) ? (\n              <FormattedMessage id=\"lockStateHandler.formDialog.takeoverConfigRequestTitle\" />\n            ) : (\n              <FormattedMessage id=\"lockStateHandler.formDialog.lockConfigRequestTitle\" />\n            )}\n          </DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              <FormattedMessage id=\"lockStateHandler.formDialog.lockConfigRequestContent\" />\n            </DialogContentText>\n            <TextField\n              InputLabelProps={{ shrink: true }}\n              autoFocus\n              margin=\"dense\"\n              id=\"lock-scope-id\"\n              name=\"scope\"\n              label={<FormattedMessage id=\"lockStateHandler.formDialog.lockScope\" />}\n              type=\"number\"\n              defaultValue=\"1\"\n              disabled={true}\n              onChange={handleChange}\n              fullWidth\n            />\n            <TextField\n              InputLabelProps={{ shrink: true }}\n              margin=\"dense\"\n              id=\"lock-description-id\"\n              name=\"description\"\n              label={<FormattedMessage id=\"lockStateHandler.formDialog.lockDescription\" />}\n              type=\"text\"\n              onChange={handleChange}\n              fullWidth\n            />\n            {configLock.isLockedByOtherUser(loggedUser) && (\n              <>\n                <TextField\n                  InputLabelProps={{ shrink: true }}\n                  margin=\"dense\"\n                  id=\"takeover-message-id\"\n                  name=\"takeoverMessage\"\n                  label={<FormattedMessage id=\"lockStateHandler.formDialog.takeoverMessage\" />}\n                  type=\"text\"\n                  onChange={handleChange}\n                  fullWidth\n                />\n              </>\n            )}\n          </DialogContent>\n          <DialogActions>\n            <Button onClick={handleClose} color=\"primary\">\n              <FormattedMessage id=\"cancel\" />\n            </Button>\n            <Button onClick={handleSubmit} color=\"primary\">\n              <FormattedMessage id=\"submit\" />\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <AlertDialog\n          open={configLock.isConfigAlreadyLocked()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.lockAlreadyLocked\"\n              values={{ user: configLock.owner }}\n            />\n          }\n          contentText={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.lockDescription\"\n              values={{ description: configLock.lockDescription }}\n            />\n          }\n        >\n          <Button\n            onClick={() => {\n              proxy.closeAlertDialogs();\n            }}\n            color=\"primary\"\n          >\n            <FormattedMessage id=\"close\" />\n          </Button>\n        </AlertDialog>\n        <AlertDialog\n          open={configLock.isOwnerRejectedTakeover()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.ownerRejectedTakeover\"\n              values={{ user: configLock.owner }}\n            />\n          }\n          contentText={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.lockDescription\"\n              values={{ description: configLock.lockDescription }}\n            />\n          }\n        >\n          <Button\n            onClick={() => {\n              proxy.closeAlertDialogs();\n            }}\n            color=\"primary\"\n          >\n            <FormattedMessage id=\"close\" />\n          </Button>\n        </AlertDialog>\n        <AlertDialog\n          open={configLock.isWaitingForTakeoverResponse()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.waitingForTakeoverResponse\"\n              values={{ user: configLock.owner }}\n            />\n          }\n          contentText={\n            <FormattedMessage id=\"lockStateHandler.alertDialog.waitingForResponseInfo\" />\n          }\n        />\n        <TakeoverDialog\n          open={configLock.isTakeoverAttemptFromOtherUser()}\n          title={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.takeoverAttempt\"\n              values={{ user: configLock.takeoverUser }}\n            />\n          }\n          contentText={\n            <FormattedMessage\n              id=\"lockStateHandler.alertDialog.takeoverMessage\"\n              values={{ message: configLock.takeoverMessage }}\n            />\n          }\n          onAccept={() => {\n            proxy.passConfigLock({\n              lockId: configLock.lockId,\n              takeoverId: configLock.takeoverId,\n            });\n          }}\n          onReject={() => {\n            proxy.retainConfigLock({ takeoverId: configLock.takeoverId });\n          }}\n        />\n      </>\n    ),\n    onClick: () => {\n      if (configLock.isLockedBySameUser(loggedUser)) {\n        proxy.unsubscribeFromLockAcquisitionStream();\n      } else {\n        setOpenFormDialog(true);\n      }\n    },\n  };\n};\n","import { useMemo } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { setCurrentMode } from '../../../redux/actions';\nimport modes from '../../../utils/modes';\nimport { canEditSVOMode, canReadSVOMode } from '../../../utils/permissions';\nimport { NavigationItemType } from '../NavigationItem';\n\nconst selectableModes = Object.keys(modes).filter(\n  (m) => m !== 'unknownMode',\n) as (keyof typeof modes)[];\n\nexport const useModeSwitchNavigation = (): NavigationItemType | undefined => {\n  const dispatch = useDispatch();\n\n  const isSVOConfigLoaded = useSelector<any>((state) => state.viewSet.isSVOConfigLoaded);\n  const { myPermissions, currentMode, proxy } = useSelector<any>((state) => state.app) as {\n    myPermissions: Set<string>;\n    currentMode: string;\n    proxy: Proxy;\n  };\n\n  const canRead = canReadSVOMode(myPermissions);\n  const canEdit = canEditSVOMode(myPermissions);\n\n  const currentModeKey = useMemo(() => {\n    const modeId = currentMode ?? proxy.mode ?? modes.unknownMode.id;\n    return Object.keys(modes).find(\n      (modeKey) => modes[modeKey as typeof selectableModes[number]].id === modeId,\n    ) as keyof typeof modes;\n  }, [currentMode, proxy.mode]);\n\n  const children = useMemo(() => {\n    const changeMode = (_modeKey: string, modeId: string) => {\n      dispatch(setCurrentMode(modeId));\n    };\n\n    return selectableModes.map<NavigationItemType>((key) => ({\n      id: key,\n      onClick: () => {\n        changeMode(key, modes[key].id);\n      },\n      content: <FormattedMessage id={key} />,\n      icon: modes[key].iconSrc,\n    }));\n  }, [dispatch]);\n\n  if (!isSVOConfigLoaded || (!canRead && !canEdit)) {\n    return undefined;\n  }\n\n  return {\n    id: 'mode-switch',\n    icon: modes[currentModeKey]?.iconSrc,\n    content: <FormattedMessage id={currentModeKey} />,\n    children,\n  };\n};\n","export default __webpack_public_path__ + \"static/media/description.7b05d18e.svg\";","import { NavigationItemType } from '../NavigationItem';\nimport { useInspectionStateNavigation } from './useInspectionStateNavigation';\nimport { useLanguageChooserNavigation } from './useLanguageChooserNavigation';\nimport { useLockStateHandlerNavigation } from './useLockStateHandlerNavigation';\nimport { useModeSwitchNavigation } from './useModeSwitchNavigation';\nimport { useStatusReportNavigation } from './useStatusReportNavigation';\nimport { useUserInfoNavigation } from './useUserInfoNavigation';\n\nimport './style.scss';\n\nexport const useNavigation = () => {\n  const userInfoNavigation = useUserInfoNavigation();\n  const languageChooserNavigation = useLanguageChooserNavigation();\n  const lockStateHandlerNavigation = useLockStateHandlerNavigation();\n  const inspectionStateNavigation = useInspectionStateNavigation();\n  const statusReportNavigation = useStatusReportNavigation();\n  const modeSwitchNavigation = useModeSwitchNavigation();\n\n  const navigation: (NavigationItemType | null)[] = [\n    modeSwitchNavigation ?? (undefined as never),\n    statusReportNavigation ?? (undefined as never),\n    inspectionStateNavigation ?? (undefined as never),\n    null,\n    lockStateHandlerNavigation,\n    userInfoNavigation,\n    languageChooserNavigation,\n  ].filter((item) => item !== undefined);\n\n  return { navigation };\n};\n","import { useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport languageIcon from '../../../assets/icons/language.svg';\nimport { addUserSwitchedLanguageNotification, setLocale } from '../../../redux/actions';\nimport { languages } from '../../../translations';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useLanguageChooserNavigation = (): NavigationItemType => {\n  const dispatch = useDispatch();\n  const locale = useSelector<any>((state) => state.app.locale) as string;\n\n  const children = useMemo<NavigationItemType[]>(\n    () =>\n      languages.map((language) => ({\n        id: language.locale,\n        content: language.name,\n        onClick: () => {\n          dispatch(setLocale(language.locale));\n          dispatch(addUserSwitchedLanguageNotification(language.locale));\n        },\n      })),\n    [dispatch],\n  );\n\n  return {\n    id: 'language-chooser',\n    icon: languageIcon,\n    content: locale ?? '',\n    children,\n  };\n};\n","import { useMemo } from 'react';\nimport { FormattedMessage } from 'react-intl';\nimport { useSelector } from 'react-redux';\nimport iconPause from '../../../assets/icons/pause.svg';\nimport iconPlayMultiple from '../../../assets/icons/play-multiple.svg';\nimport iconPlay from '../../../assets/icons/play.svg';\nimport Configuration from '../../../protobuf/Configuration';\nimport type Proxy from '../../../protobuf/Proxy';\nimport { canEditInspectionState, canReadInspectionState } from '../../../utils/permissions';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useInspectionStateNavigation = (): NavigationItemType | undefined => {\n  const isSVOConfigLoaded = useSelector<any>((state) => state.viewSet.isSVOConfigLoaded);\n  const { proxy, configuration, pausedInspections, myPermissions } = useSelector<any>(\n    (state) => state.app,\n  ) as {\n    proxy: Proxy;\n    configuration: Configuration;\n    pausedInspections: string[];\n    myPermissions: Set<string>;\n  };\n  const inspections = useMemo(\n    () => (configuration && configuration.getInspections()) || [],\n    [configuration],\n  );\n  const allRunning = pausedInspections.length === 0;\n  const canRead = canReadInspectionState(myPermissions);\n  const canEdit = canEditInspectionState(myPermissions);\n\n  const children = useMemo(() => {\n    const items = inspections.map<NavigationItemType>((inspection: any) => {\n      const isPaused = (pausedInspections || []).includes(inspection.id);\n\n      return {\n        id: inspection.id,\n        onClick: () => {\n          isPaused\n            ? proxy.resumeRejectStream(inspection.id)\n            : proxy.pauseRejectStream(inspection.id);\n        },\n        content: inspection.name,\n        icon: isPaused ? iconPlay : iconPause,\n        className: isPaused ? 'paused-inspection' : undefined,\n      };\n    });\n\n    items.unshift({\n      id: 'globalResumePause',\n      onClick: () => {\n        allRunning ? proxy.pauseRejectStream() : proxy.resumeRejectStream();\n      },\n      content: allRunning ? 'Pause all inspections' : 'Resume all inspections',\n      icon: allRunning ? iconPause : iconPlay,\n      className: 'all-inspections',\n    });\n\n    return items;\n  }, [allRunning, inspections, pausedInspections, proxy]);\n\n  if (!isSVOConfigLoaded || (!canRead && !canEdit)) {\n    return undefined;\n  }\n\n  return {\n    id: 'inspection-state-navigation',\n    icon: iconPlayMultiple,\n    content: (\n      <FormattedMessage\n        id=\"topNavigation.inspectionState\"\n        values={{\n          runningInspections: inspections.length - pausedInspections.length,\n          numberOfInspections: inspections.length,\n        }}\n      />\n    ),\n    children: canEdit ? children : undefined,\n  };\n};\n","import { useSelector } from 'react-redux';\nimport shortId from 'shortid';\nimport logIcon from '../../../assets/icons/description.svg';\nimport { canReadLogs } from '../../../utils/permissions';\nimport { NavigationItemType } from '../NavigationItem';\n\nexport const useStatusReportNavigation = (): NavigationItemType | undefined => {\n  const { notifications, myPermissions } = useSelector<any>((state) => state.app) as {\n    notifications: any[];\n    myPermissions: Set<string>;\n  };\n\n  if (!canReadLogs(myPermissions)) {\n    return undefined;\n  }\n\n  return {\n    id: 'status-report',\n    icon: logIcon,\n    content: notifications[0]?.message,\n    children: notifications.map<NavigationItemType>((notification: any) => ({\n      id: notification.id ?? notification.timestamp ?? shortId.generate(),\n      content: (\n        <p key={shortId.generate()} className={`${notification.type} status`}>\n          {notification.timestamp}: <b>{notification.message}</b>{' '}\n          {notification.count > 1 ? `(${notification.count})` : ''}\n        </p>\n      ),\n    })),\n  };\n};\n","import { useMemo } from 'react';\nimport classNames from 'classnames';\nimport { useIntl } from 'react-intl';\nimport { useDispatch, useSelector } from 'react-redux';\nimport iconOverlayList from '../../assets/icons/overlay-list.svg';\nimport KoerberLogo from '../../assets/logo/logo.svg';\nimport Logo from '../../components/layout/Logo';\nimport Configuration from '../../protobuf/Configuration';\nimport { setTopNavHidden } from '../../redux/actions';\nimport { NavigationItem } from './NavigationItem';\nimport DateTime from './components/DateTime';\nimport { useNavigation } from './navigation/useNavigation';\n\nimport './style.scss';\n\nexport const TopNavigation = () => {\n  const { topNavHidden, isSVOConfigLoaded, unsavedChanges } = useSelector(\n    (state: any) => state.viewSet,\n  );\n  const configuration = useSelector((state: any) => state.app.configuration) as Configuration;\n  const dispatch = useDispatch();\n\n  const { navigation } = useNavigation();\n\n  const intl = useIntl();\n\n  const navClass = classNames({\n    nav: true,\n    'nav-hidden': topNavHidden,\n  });\n\n  const configName = useMemo(() => {\n    if (!isSVOConfigLoaded) {\n      return intl.messages['noConfigName'];\n    }\n    if (!configuration || !configuration.name) {\n      return intl.messages['unknownConfigName'];\n    }\n    return <span>{configuration.name}</span>;\n  }, [configuration, intl.messages, isSVOConfigLoaded]);\n\n  return (\n    <>\n      <div className={navClass}>\n        <button className=\"hider\" onClick={() => dispatch(setTopNavHidden(!topNavHidden))}>\n          {topNavHidden ? 'show' : 'hide'}\n        </button>\n        <div className=\"config-wrapper\">\n          <Logo src={KoerberLogo} title=\"logo\" />\n          {unsavedChanges ? <div style={{ fontStyle: 'italic' }}>{configName}*</div> : configName}\n        </div>\n        <div className=\"flex-container\">\n          {navigation.map((item, index) =>\n            item ? (\n              <NavigationItem key={item.id} item={item} />\n            ) : (\n              <span key={index} className=\"spacer\" />\n            ),\n          )}\n        </div>\n        <div className=\"responsive-menu\">\n          <NavigationItem\n            key=\"menu\"\n            item={{\n              id: 'responsive-menu',\n              content: 'Menu',\n              icon: iconOverlayList,\n              children: navigation,\n            }}\n          />\n        </div>\n        <div className=\"separator\">\n          <DateTime />\n        </div>\n      </div>\n    </>\n  );\n};\n","import React, { Component } from 'react';\nimport { FormattedMessage } from 'react-intl';\n\nimport './style.scss';\n\nclass NoSVOConfigurationLoadedView extends Component {\n  render() {\n    return (\n      <div className=\"no-config-loaded-wrapper\">\n        <FormattedMessage id=\"noConfigLoaded\" />\n      </div>\n    );\n  }\n}\n\nexport default NoSVOConfigurationLoadedView;\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport PropTypes from 'prop-types';\n\nimport './style.scss';\n\nclass ListSelection extends Component {\n  render() {\n    const { headline, selectionItems, onSelection, cancelButtonProps, showCancel } = this.props;\n\n    return (\n      <div>\n        <h3>{headline}</h3>\n        <ul className=\"list-wrapper\">\n          {selectionItems.map((item) => (\n            <li className=\"selection-item\" key={`li${item.id}`}>\n              <Button\n                variant=\"outlined\"\n                key={`button${item.id}`}\n                onClick={() => onSelection(item.id)}\n              >\n                {item.icon && <img src={item.icon} alt=\"inspection.name\" className=\"image-item\" />}\n                {item.text}\n              </Button>\n            </li>\n          ))}\n          {showCancel ? (\n            <li className=\"selection-item\" key=\"liCancel\">\n              <Button variant=\"contained\" color=\"primary\" onClick={cancelButtonProps.goBack}>\n                {cancelButtonProps.icon && (\n                  <img src={cancelButtonProps.icon} alt=\"type.id\" className=\"image-item\" />\n                )}\n                {cancelButtonProps.text}\n              </Button>\n            </li>\n          ) : null}\n        </ul>\n      </div>\n    );\n  }\n}\n\nListSelection.defaultProps = {\n  showCancel: false,\n  headline: '',\n  selectionItems: [],\n  cancelButtonProps: {},\n};\n\nListSelection.propTypes = {\n  headline: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n  selectionItems: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n      text: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n      icon: PropTypes.string,\n    }),\n  ),\n  showCancel: PropTypes.bool,\n  onSelection: PropTypes.func.isRequired,\n  cancelButtonProps: PropTypes.shape({\n    text: PropTypes.oneOfType([PropTypes.node, PropTypes.string]),\n    icon: PropTypes.string,\n    goBack: PropTypes.func,\n  }),\n};\n\nexport default ListSelection;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport BackIcon from '../../../../assets/icons/back.svg';\nimport InspectionIcon from '../../../../assets/icons/show.svg';\nimport ListSelection from '../../../../components/ListSelection';\n\nclass InspectionSelection extends Component {\n  getSelectionItems = () => {\n    const { configuration } = this.props;\n    const inspections = (configuration && configuration.getInspections()) || [];\n    const items = inspections.map((inspection) => {\n      return {\n        id: inspection.id,\n        text: inspection.name,\n        icon: InspectionIcon,\n      };\n    });\n\n    return items;\n  };\n\n  render() {\n    const { onSelection, goBack, showCancel } = this.props;\n    const cancelButtonProps = {\n      text: <FormattedMessage id=\"viewTypeSelection.back\" />,\n      icon: BackIcon,\n      goBack,\n    };\n\n    const selectionItems = this.getSelectionItems();\n\n    return (\n      <div>\n        <ListSelection\n          headline={<FormattedMessage id=\"inspectionSelection.selectInspection\" />}\n          onSelection={onSelection}\n          cancelButtonProps={cancelButtonProps}\n          showCancel={showCancel}\n          selectionItems={selectionItems}\n        />\n      </div>\n    );\n  }\n}\n\nInspectionSelection.defaultProps = {};\n\nInspectionSelection.propTypes = {\n  onSelection: PropTypes.func.isRequired,\n  configuration: PropTypes.object,\n  goBack: PropTypes.func,\n  showCancel: PropTypes.bool,\n};\n\nconst mapStateToProps = (state) => ({\n  configuration: state.app.configuration,\n});\n\nexport default connect(mapStateToProps)(InspectionSelection);\n","export default __webpack_public_path__ + \"static/media/filmstrip.c43ef800.svg\";","export default __webpack_public_path__ + \"static/media/list.7380903e.svg\";","export default __webpack_public_path__ + \"static/media/parameter.417d04e6.svg\";","export default __webpack_public_path__ + \"static/media/toolset.f1f1d3b2.svg\";","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { connect } from 'react-redux';\n\nimport BackIcon from '../../../../assets/icons/back.svg';\nimport ImageStripViewIcon from '../../../../assets/icons/filmstrip.svg';\nimport ImageViewIcon from '../../../../assets/icons/image.svg';\nimport ListViewIcon from '../../../../assets/icons/list.svg';\nimport ParameterViewIcon from '../../../../assets/icons/parameter.svg';\nimport toolsetIcon from '../../../../assets/icons/toolset.svg';\nimport ListSelection from '../../../../components/ListSelection';\nimport {\n  canAddImageView,\n  canAddListView,\n  canAddImageStripView,\n  canAddParameterView,\n  canAddToolSetView,\n} from '../../../../utils/permissions';\nimport {\n  PARAMETER_VIEW,\n  IMAGE_VIEW,\n  IMAGE_STRIP_VIEW,\n  LIST_VIEW,\n  TOOLSET_VIEW,\n} from '../../../ViewSetFactory';\n\nclass ViewTypeSelection extends Component {\n  render() {\n    const { onSelection, goBack, myPermissions } = this.props;\n    const inspectionTypes = [];\n    if (canAddImageView(myPermissions)) {\n      inspectionTypes.push({\n        id: IMAGE_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.imageView\" />,\n        icon: ImageViewIcon,\n      });\n    }\n\n    if (canAddParameterView(myPermissions)) {\n      inspectionTypes.push({\n        id: PARAMETER_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.parameterView\" />,\n        icon: ParameterViewIcon,\n      });\n    }\n\n    if (canAddImageStripView(myPermissions)) {\n      inspectionTypes.push({\n        id: IMAGE_STRIP_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.imageStripView\" />,\n        icon: ImageStripViewIcon,\n      });\n    }\n\n    if (canAddListView(myPermissions)) {\n      inspectionTypes.push({\n        id: LIST_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.ListView\" />,\n        icon: ListViewIcon,\n      });\n    }\n\n    if (canAddToolSetView(myPermissions)) {\n      inspectionTypes.push({\n        id: TOOLSET_VIEW,\n        text: <FormattedMessage id=\"viewTypeSelection.toolset\" />,\n        icon: toolsetIcon,\n      });\n    }\n\n    const cancelButtonProps = {\n      text: <FormattedMessage id=\"viewTypeSelection.back\" />,\n      icon: BackIcon,\n      goBack,\n    };\n\n    return (\n      <div>\n        <ListSelection\n          headline={<FormattedMessage id=\"viewTypeSelection.selectViewType\" />}\n          onSelection={onSelection}\n          cancelButtonProps={cancelButtonProps}\n          showCancel={true}\n          selectionItems={inspectionTypes}\n        />\n      </div>\n    );\n  }\n}\n\nViewTypeSelection.defaultProps = {};\n\nViewTypeSelection.propTypes = {\n  onSelection: PropTypes.func.isRequired,\n  goBack: PropTypes.func,\n};\n\nconst mapStateToProps = (state) => ({\n  myPermissions: state.app.myPermissions,\n});\n\nexport default connect(mapStateToProps)(ViewTypeSelection);\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\n\nimport { replaceViewInCurrentViewSet, purgeViewState } from '../../redux/actions';\nimport InspectionSelection from './components/InspectionSelection';\nimport ViewTypeSelection from './components/ViewTypeSelection';\nimport './style.scss';\n\nclass ViewSelection extends Component {\n  state = {\n    visibleComponent: 'ViewTypeSelection',\n    selectedInspectionId: 0,\n    selectedViewType: '',\n  };\n\n  componentDidMount() {\n    const { viewToShowWithoutInspection } = this.props;\n\n    if (viewToShowWithoutInspection) {\n      this.setState({\n        visibleComponent: 'InspectionSelection',\n        selectedViewType: viewToShowWithoutInspection,\n      });\n    }\n  }\n\n  setSelectedInspectionId = (inspectionId) => {\n    this.setState({\n      visibleComponent: '',\n      selectedInspectionId: inspectionId,\n    });\n\n    this.props.changeTitle(inspectionId);\n    this.updateView(inspectionId);\n  };\n\n  setSelectedViewType = (viewType) => {\n    this.setState({\n      visibleComponent: 'InspectionSelection',\n      selectedViewType: viewType,\n    });\n  };\n\n  goBackToViewTypeSelection = () => {\n    this.setState({\n      visibleComponent: 'ViewTypeSelection',\n      selectedInspectionId: 0,\n    });\n  };\n\n  cancelViewSelection = () => {\n    const { changeContent } = this.props;\n    changeContent();\n  };\n\n  updateView = (inspectionId) => {\n    const { replaceViewInCurrentViewSet, viewId, changeContent } = this.props;\n    const { selectedViewType } = this.state;\n\n    replaceViewInCurrentViewSet(viewId, selectedViewType, inspectionId);\n\n    changeContent();\n  };\n\n  render() {\n    const { showCancel } = this.props;\n    const { visibleComponent } = this.state;\n\n    return (\n      <div className=\"view-selection-wrapper\">\n        {(() => {\n          switch (visibleComponent) {\n            case 'InspectionSelection':\n              return (\n                <InspectionSelection\n                  onSelection={this.setSelectedInspectionId}\n                  goBack={this.goBackToViewTypeSelection}\n                  showCancel={showCancel}\n                />\n              );\n            case 'ViewTypeSelection':\n              return (\n                <ViewTypeSelection\n                  onSelection={this.setSelectedViewType}\n                  goBack={this.cancelViewSelection}\n                />\n              );\n            default:\n              return <div></div>;\n          }\n        })()}\n      </div>\n    );\n  }\n}\n\nViewSelection.propTypes = {\n  replaceViewInCurrentViewSet: PropTypes.func.isRequired,\n  viewId: PropTypes.string.isRequired,\n  changeContent: PropTypes.func,\n  changeTitle: PropTypes.func,\n  showCancel: PropTypes.bool,\n};\n\nconst mapDispatchToProps = (dispatch) => ({\n  replaceViewInCurrentViewSet: (viewId, replacementComponentId, inspectionId) => {\n    dispatch(purgeViewState(undefined, viewId));\n    dispatch(replaceViewInCurrentViewSet(viewId, replacementComponentId, inspectionId));\n  },\n});\n\nexport default connect(null, mapDispatchToProps)(ViewSelection);\n","import React, { Component } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { injectIntl } from 'react-intl';\nimport { MosaicWindow, SplitButton } from 'react-mosaic-component';\nimport { connect } from 'react-redux';\nimport shortId from 'shortid';\n\nimport CloseIcon from '../../assets/icons/close.svg';\nimport EditIcon from '../../assets/icons/edit.svg';\nimport KeyHandler from '../../components/KeyHandler';\nimport IconButton from '../../components/buttons/IconButton';\nimport { isObjectValid } from '../../utils/objectValidator';\nimport {\n  canEditViewSet,\n  canEditImageView,\n  canEditListView,\n  canEditImageStripView,\n  canEditParameterView,\n  canEditToolSetView,\n  canDeleteImageView,\n  canDeleteListView,\n  canDeleteImageStripView,\n  canDeleteParameterView,\n  canDeleteToolSetView,\n} from '../../utils/permissions';\nimport ViewSetFactory, {\n  IMAGE_VIEW,\n  LIST_VIEW,\n  PARAMETER_VIEW,\n  IMAGE_STRIP_VIEW,\n  TOOLSET_VIEW,\n} from '../../views/ViewSetFactory';\nimport NoSVOConfigurationLoadedView from '../NoSVOConfigurationLoadedView';\nimport ViewSelection from '../ViewSelection';\nimport { mosaicViewType } from './types';\n\nconst viewSetFactory = new ViewSetFactory();\n\nclass SVOView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isFullscreen: false,\n      resetView: false,\n      selectedInspectionId: 0,\n      isConfirmOpen: false,\n    };\n  }\n\n  setFullscreen = (isFullscreen) =>\n    // this function can be triggered from reducer\n    // where state modifications are not allowed\n    setTimeout(() => this.setState({ isFullscreen }), 0);\n\n  resetView = () => {\n    this.setState({\n      resetView: true,\n    });\n  };\n\n  removeIdsForUnknownInspectionIds = (currentViewSet, inspectionIds) => {\n    const viewSet = currentViewSet.viewSet;\n\n    Object.keys(viewSet).forEach((viewId) => {\n      const inspectionId = viewSet[viewId].inspectionId;\n      if (!inspectionIds.includes(inspectionId)) {\n        delete viewSet[viewId].id;\n        delete viewSet[viewId].inspectionId;\n      }\n    });\n  };\n\n  canEditCurrentView = () => {\n    const { id, views, myPermissions } = this.props;\n    if (views && views.viewSet && views.viewSet[id]) {\n      switch (views.viewSet[id].viewComponentClassId) {\n        case IMAGE_VIEW:\n          return canEditImageView(myPermissions);\n        case LIST_VIEW:\n          return canEditListView(myPermissions);\n        case IMAGE_STRIP_VIEW:\n          return canEditImageStripView(myPermissions);\n        case PARAMETER_VIEW:\n          return canEditParameterView(myPermissions);\n        case TOOLSET_VIEW:\n          return canEditToolSetView(myPermissions);\n        default:\n          return false;\n      }\n    }\n\n    return false;\n  };\n\n  canDeleteCurrentView = () => {\n    const { id, views, myPermissions } = this.props;\n    if (views && views.viewSet && views.viewSet[id]) {\n      switch (views.viewSet[id].viewComponentClassId) {\n        case IMAGE_VIEW:\n          return canDeleteImageView(myPermissions);\n        case LIST_VIEW:\n          return canDeleteListView(myPermissions);\n        case IMAGE_STRIP_VIEW:\n          return canDeleteImageStripView(myPermissions);\n        case PARAMETER_VIEW:\n          return canDeleteParameterView(myPermissions);\n        case TOOLSET_VIEW:\n          return canDeleteToolSetView(myPermissions);\n        default:\n          return false;\n      }\n    }\n\n    return false;\n  };\n\n  getInspectionId = () => {\n    const { id, views } = this.props;\n    const { selectedInspectionId } = this.state;\n\n    return selectedInspectionId || (views.viewSet[id] && views.viewSet[id].inspectionId);\n  };\n\n  render() {\n    const {\n      configuration,\n      id,\n      path,\n      views,\n      dispatch,\n      editingViewIds,\n      intl,\n      windowName,\n      isSVOConfigLoaded,\n      myPermissions,\n    } = this.props;\n    const { isFullscreen, resetView, selectedInspectionId } = this.state;\n    const viewClass = classNames({\n      fullscreen: isFullscreen,\n      'editing-focus': editingViewIds.includes(id),\n    });\n\n    const inspectionId = this.getInspectionId();\n    let inspectionName = '<UNKNOWN INSPECTION>';\n    if (configuration) {\n      const name = configuration.getInspectionName(inspectionId);\n      if (name && name.length > 0) {\n        inspectionName = `[${name}]`;\n      }\n      if (windowName && !resetView) {\n        inspectionName = `${inspectionName} ${windowName}`;\n      }\n\n      const currentInspections =\n        configuration &&\n        configuration.inspections &&\n        configuration.inspections.map((inspection) => inspection.id);\n      if (currentInspections) {\n        this.removeIdsForUnknownInspectionIds(views, currentInspections);\n      }\n    }\n\n    const hasInspectionId = views.viewSet && views.viewSet[id] && views.viewSet[id].inspectionId;\n    const viewToShowWithoutInspection =\n      !hasInspectionId &&\n      views.viewSet &&\n      views.viewSet[id] &&\n      views.viewSet[id].viewComponentClassId;\n\n    const toolbarControls = [];\n\n    if (canEditViewSet(myPermissions)) {\n      toolbarControls.push(<SplitButton key=\"splitButton\" />);\n    }\n\n    if (this.canEditCurrentView()) {\n      toolbarControls.push(\n        <IconButton\n          tooltip={intl.messages['viewTypeSelection.chooseViewTooltip']}\n          onClick={() => this.resetView(id)}\n          iconUrl={EditIcon}\n          key=\"swapButton\"\n        />,\n      );\n    }\n\n    if (resetView || !hasInspectionId || this.canDeleteCurrentView()) {\n      toolbarControls.push(\n        <IconButton\n          tooltip={intl.messages['svoView.closeView']}\n          onClick={() => this.props.onCloseView()}\n          iconUrl={CloseIcon}\n          key=\"customRemoveButton\"\n          style={{ width: '18px', height: '18px' }}\n        />,\n      );\n    }\n\n    return (\n      <MosaicWindow\n        className={viewClass}\n        createNode={() => shortId.generate()}\n        title={\n          (selectedInspectionId ||\n            (views.viewSet && views.viewSet[id] && views.viewSet[id].titleId)) &&\n          this.props.intl.formatMessage(\n            {\n              id:\n                selectedInspectionId || windowName\n                  ? 'svoView.emptyViewInspectionTemplate'\n                  : views.viewSet[id].titleId,\n            },\n            {\n              inspectionName,\n            },\n          )\n        }\n        toolbarControls={isSVOConfigLoaded ? toolbarControls : []}\n        path={path}\n        draggable={canEditViewSet(myPermissions)}\n      >\n        <KeyHandler view={this} dispatch={dispatch} editingViewIds={editingViewIds}>\n          {!resetView && hasInspectionId ? (\n            viewSetFactory.createViewInstance(views.viewSet[id], {\n              ...views.viewSet[id].passedProps,\n              id,\n              inspectionId: views.viewSet[id].inspectionId,\n            })\n          ) : isSVOConfigLoaded ? (\n            <ViewSelection\n              viewId={id}\n              changeContent={() => this.setState({ resetView: false, selectedInspectionId: 0 })}\n              changeTitle={(selectedInspectionId) => this.setState({ selectedInspectionId })}\n              showCancel={resetView}\n              viewToShowWithoutInspection={viewToShowWithoutInspection}\n            />\n          ) : (\n            <NoSVOConfigurationLoadedView />\n          )}\n        </KeyHandler>\n      </MosaicWindow>\n    );\n  }\n}\n\nSVOView.defaultProps = {\n  editingViewIds: [],\n};\n\nSVOView.propTypes = {\n  id: PropTypes.string.isRequired,\n  path: PropTypes.arrayOf(PropTypes.string).isRequired,\n  views: mosaicViewType.isRequired,\n  dispatch: PropTypes.func.isRequired,\n  editingViewIds: PropTypes.arrayOf(PropTypes.string),\n};\n\nconst mapStateToProps = (state, ownProps) => {\n  const { views, id } = ownProps;\n  const inspectionId = isObjectValid(() => views.viewSet[id].inspectionId);\n  const configuration = state.app.configuration;\n  const isSVOConfigLoaded = state.viewSet.isSVOConfigLoaded;\n  const myPermissions = state.app.myPermissions;\n\n  let windowName = isObjectValid(() => state.inspections[inspectionId].views[id].windowName);\n  if (windowName) {\n    const inspectionName = configuration.getInspectionName(inspectionId);\n    windowName = windowName.replace(`Inspections.${inspectionName}.`, '');\n    return {\n      configuration,\n      windowName,\n      isSVOConfigLoaded,\n      myPermissions,\n    };\n  }\n  return {\n    configuration,\n    isSVOConfigLoaded,\n    myPermissions,\n  };\n};\n\nconst mapDispatchToProps = () => {\n  return {};\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(injectIntl(SVOView));\n","import React, { useRef, useState } from 'react';\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport { FormattedMessage } from 'react-intl';\nimport { Mosaic, MosaicContext } from 'react-mosaic-component';\nimport { connect } from 'react-redux';\n\nimport './style.scss';\nimport ConfirmDialog from '../../components/ConfirmDialog';\nimport {\n  increaseViewSizeChangeCounter,\n  purgeViewState,\n  clearCurrentView,\n} from '../../redux/actions/index';\nimport { canEditViewSet } from '../../utils/permissions';\nimport SVOView from './SVOView';\nimport { mosaicViewType } from './types';\n\nconst ViewSet = ({\n  views,\n  onChange,\n  topNavHidden,\n  bottomNavHidden,\n  increaseChangeCounter,\n  dispatch,\n  inspections,\n  myPermissions,\n}) => {\n  const mosaic = useRef(null);\n  const [viewToClose, setViewToClose] = useState(undefined);\n  const viewSetClass = classNames({\n    'view-set-wrapper': true,\n    'bottom-nav-offset': !bottomNavHidden,\n    'top-nav-hidden': !topNavHidden,\n  });\n\n  if (!views) {\n    return false;\n  }\n  const editingViewIds = Object.keys(inspections).map(\n    (inspection) =>\n      inspections[inspection].sharedState && inspections[inspection].sharedState.editingViewId,\n  );\n\n  const handleConfirmDialogClose = (confirmed) => {\n    if (confirmed) {\n      closeView();\n    }\n    setViewToClose(undefined);\n  };\n\n  const oneViewInViewset = () => {\n    return typeof views.initialValue === 'string';\n  };\n\n  const closeView = () => {\n    const { viewId, path, remove } = viewToClose;\n    const inspectionId = views.viewSet[viewId] && views.viewSet[viewId].inspectionId;\n    if (oneViewInViewset()) {\n      dispatch(clearCurrentView());\n    }\n    dispatch(purgeViewState(inspectionId, viewId));\n\n    remove(path);\n  };\n\n  return (\n    <div className={viewSetClass}>\n      <ConfirmDialog\n        open={viewToClose !== undefined}\n        onClose={(confirmed) => handleConfirmDialogClose(confirmed)}\n        message={<FormattedMessage id=\"svoView.closeViewConfirmation\" />}\n      />\n      <Mosaic\n        onChange={(layout) => {\n          onChange(layout);\n          increaseChangeCounter();\n        }}\n        ref={mosaic}\n        renderTile={(id, path) => (\n          <MosaicContext.Consumer>\n            {({ mosaicActions }) => {\n              const { remove } = mosaicActions;\n              return (\n                <SVOView\n                  id={id}\n                  path={path}\n                  views={views}\n                  dispatch={dispatch}\n                  editingViewIds={editingViewIds}\n                  onCloseView={() => {\n                    setViewToClose({ viewId: id, path, remove });\n                  }}\n                />\n              );\n            }}\n          </MosaicContext.Consumer>\n        )}\n        initialValue={views.initialValue}\n        resize={canEditViewSet(myPermissions) ? '' : 'DISABLED'}\n      />\n    </div>\n  );\n};\n\nViewSet.defaultProps = {\n  topNavHidden: false,\n  bottomNavHidden: false,\n  views: undefined,\n};\n\nViewSet.propTypes = {\n  views: mosaicViewType,\n  onChange: PropTypes.func.isRequired,\n  topNavHidden: PropTypes.bool,\n  bottomNavHidden: PropTypes.bool,\n  increaseChangeCounter: PropTypes.func.isRequired,\n  dispatch: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  inspections: state.inspections,\n  myPermissions: state.app.myPermissions,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  increaseChangeCounter: () => dispatch(increaseViewSizeChangeCounter()),\n  dispatch: (action) => dispatch(action),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ViewSet);\n","import React, { Component } from 'react';\nimport throttle from 'lodash/throttle';\nimport PropTypes from 'prop-types';\nimport { IntlProvider } from 'react-intl';\nimport { connect, ReactReduxContext } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\n\nimport ModalNotification from '../components/ModalNotification.js';\nimport ProtobufType from '../components/Protobuf/ProtobufType';\nimport {\n  setViewSet,\n  setCurrentLayout,\n  addConnectionEstablishedNotification,\n  addConnectionLostNotification,\n  saveClientChunk,\n  closeHelpView,\n  increaseViewSizeChangeCounter,\n  changeViewSetAfterLoading,\n} from '../redux/actions';\nimport translations from '../translations';\nimport BottomNavigation from '../views/BottomNavigation';\nimport HelpView from '../views/HelpView';\nimport { TopNavigation } from '../views/TopNavigation';\nimport ViewSet from '../views/ViewSet';\nimport ViewSetFactory, { DEFAULT_VIEWSET } from '../views/ViewSetFactory';\n\nclass SVObserver extends Component {\n  static contextType = ReactReduxContext;\n  state = {\n    viewSetFactory: new ViewSetFactory(),\n    throttledWindwResizeHandler: throttle(() => this.props.increaseChangeCounter(), 500),\n  };\n\n  handleBeforeUnload(event) {\n    event.preventDefault();\n    event.returnValue = '';\n  }\n\n  componentDidMount() {\n    if (!this.props.currentViewSet) {\n      const viewSetId = DEFAULT_VIEWSET;\n      const viewSet = this.state.viewSetFactory.getViewSet(viewSetId);\n      this.props.setViewSet(viewSet, viewSet.id);\n    }\n\n    if (this.props.defaultViewSetName) {\n      this.props.changeViewSetAfterLoading(this.props.defaultViewSetName);\n    }\n\n    if (this.props.protobuf && this.props.socket) {\n      this.onWebsocketConnect(this.props.protobuf);\n    }\n\n    window.addEventListener('resize', this.state.throttledWindwResizeHandler);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.state.throttledWindwResizeHandler);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.socket !== this.props.socket && nextProps.protobuf && nextProps.socket) {\n      this.onWebsocketConnect(nextProps.protobuf);\n    }\n    if (nextProps.socket !== this.props.socket && !nextProps.socket) {\n      this.onWebsocketDisconnect();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const { unsavedChanges } = this.props;\n    if (unsavedChanges && prevProps.currentViewSet) {\n      window.addEventListener('beforeunload', this.handleBeforeUnload);\n    } else {\n      window.removeEventListener('beforeunload', this.handleBeforeUnload);\n    }\n  }\n\n  onWebsocketConnect = async () => {\n    this.props.addConnectionEstablishedNotification();\n  };\n\n  onWebsocketDisconnect = () => {\n    this.props.addConnectionLostNotification();\n  };\n\n  saveConfiguration() {\n    const currentState = this.context.store.getState();\n    this.props.saveClientChunk(this.props.protobuf, currentState);\n  }\n\n  render() {\n    const {\n      locale,\n      currentViewSet,\n      bottomNavHidden,\n      topNavHidden,\n      modalNotificationData,\n      isHelpViewOpen,\n      closeHelpView,\n    } = this.props;\n\n    if (!this.props.user || !this.props.authToken) {\n      return <Redirect to=\"/\" />;\n    }\n\n    return (\n      <IntlProvider locale={locale} messages={translations[locale]}>\n        <div className=\"vh-100 center\">\n          <ModalNotification\n            visible={!!modalNotificationData}\n            message={modalNotificationData && modalNotificationData.message}\n          />\n          <TopNavigation onLoggedOut={this.props.onLoggedOut} />\n          <ViewSet\n            views={currentViewSet}\n            onChange={(layout) => {\n              this.props.setLayout(layout);\n            }}\n            bottomNavHidden={bottomNavHidden}\n            topNavHidden={topNavHidden}\n          />\n          <BottomNavigation onSave={() => this.saveConfiguration()} />\n          <HelpView open={isHelpViewOpen} onClose={() => closeHelpView()}></HelpView>\n        </div>\n      </IntlProvider>\n    );\n  }\n}\n\nSVObserver.defaultProps = {\n  bottomNavHidden: false,\n  topNavHidden: false,\n  protobuf: undefined,\n  viewSetTemplate: undefined,\n  user: undefined,\n  authToken: undefined,\n  location: { state: {} },\n  currentViewSet: undefined,\n};\n\nSVObserver.propTypes = {\n  locale: PropTypes.string.isRequired,\n  user: PropTypes.shape({ name: PropTypes.string }),\n  authToken: PropTypes.string,\n  currentViewSet: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({ id: PropTypes.string }),\n  ]),\n  bottomNavHidden: PropTypes.bool,\n  topNavHidden: PropTypes.bool,\n  setLayout: PropTypes.func.isRequired,\n  setViewSet: PropTypes.func.isRequired,\n  viewSetTemplate: PropTypes.string,\n  addConnectionEstablishedNotification: PropTypes.func.isRequired,\n  addConnectionLostNotification: PropTypes.func.isRequired,\n  protobuf: ProtobufType,\n  location: PropTypes.shape({ state: PropTypes.any }),\n};\n\nconst mapStateToProps = (state) => ({\n  isHelpViewOpen: state.app.isHelpViewOpen,\n  locale: state.app.locale,\n  protobuf: state.app.protobuf,\n  socket: state.app.socket,\n  user: state.app.user,\n  authToken: state.app.authToken,\n  currentViewSet: state.viewSet.currentViewSet,\n  bottomNavHidden: state.viewSet.bottomNavHidden,\n  topNavHidden: state.viewSet.topNavHidden,\n  defaultViewSetName: state.viewSet.defaultViewSetName,\n  createdViewSets: state.app.createdViewSets,\n  modalNotificationData: state.app.modalNotificationData,\n  increaseChangeCounter: PropTypes.func.isRequired,\n  unsavedChanges: state.viewSet.unsavedChanges,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  closeHelpView: () => {\n    dispatch(closeHelpView());\n  },\n  setViewSet: (viewSet, viewSetId) => {\n    dispatch(setViewSet(viewSet, viewSetId));\n  },\n  setLayout: (layout) => {\n    dispatch(setCurrentLayout(layout));\n  },\n  addConnectionEstablishedNotification: () => {\n    dispatch(addConnectionEstablishedNotification());\n  },\n  addConnectionLostNotification: () => {\n    dispatch(addConnectionLostNotification());\n  },\n  saveClientChunk: (protobuf, chunk) => {\n    dispatch(saveClientChunk(protobuf, chunk));\n  },\n  increaseChangeCounter: () => {\n    dispatch(increaseViewSizeChangeCounter());\n  },\n  changeViewSetAfterLoading: (name) => {\n    dispatch(changeViewSetAfterLoading(name));\n  },\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SVObserver);\n","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { BrowserRouter as Router, Route, Redirect } from 'react-router-dom';\n\nimport DebuggerPage from './pages/DebuggerPage';\nimport HmiLoginPage from './pages/HmiLoginPage';\nimport LogoutPage from './pages/LogoutPage';\nimport PermissionPage from './pages/PermissionPage';\nimport SVObserver from './pages/SVObserver';\n\nconst App = ({ user, authToken, onLoggedOut }) => {\n  const dispatch = useDispatch();\n  dispatch({\n    type: 'LOG_IN',\n    authToken,\n    user,\n  });\n\n  return (\n    <Router>\n      <div>\n        <Route exact path={'/'} render={() => <Redirect to=\"/app\" />} />\n        <Route\n          path={'/app'}\n          render={(props) => <SVObserver {...props} onLoggedOut={onLoggedOut} />}\n        />\n        <Route path={'/hmi-v1'} component={HmiLoginPage} />\n        <Route path={'/permissions'} component={PermissionPage} />\n        <Route\n          path={'/logout'}\n          render={(props) => <LogoutPage {...props} onLoggedOut={onLoggedOut} />}\n        />\n        <Route path={'/debugger'} component={DebuggerPage} />\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import React, { Component } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Paper from '@material-ui/core/Paper';\nimport TextField from '@material-ui/core/TextField';\nimport PropTypes from 'prop-types';\n\nimport { logIn } from '../utils/authentication';\n\nconst paperStyle = {\n  width: 400,\n  margin: 20,\n  padding: 25,\n  display: 'inline-block',\n};\n\nclass LoginPage extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      username: null,\n      password: null,\n    };\n  }\n\n  onSubmit = (e) => {\n    e.preventDefault();\n    logIn(this.state.username, this.state.password)\n      .then((data) => this.props.onLogin(data))\n      .catch(() => this.setState({ loginFailed: true }));\n  };\n\n  render() {\n    return (\n      <div className=\"flex items-center justify-center\" id=\"login-page\">\n        <Paper elevation={5} style={paperStyle}>\n          {this.state.loginFailed ? <p className=\"red\">Log In failed</p> : null}\n          <form onSubmit={this.onSubmit}>\n            <TextField\n              label=\"Username\"\n              style={{ width: '100%' }}\n              margin=\"dense\"\n              type=\"username\"\n              onChange={(e) => {\n                this.setState({\n                  username: e.target.value,\n                });\n              }}\n            />\n            <br />\n            <TextField\n              label=\"Password\"\n              style={{ width: '100%' }}\n              autoComplete=\"current-password\"\n              margin=\"dense\"\n              type=\"password\"\n              onChange={(e) => {\n                this.setState({\n                  password: e.target.value,\n                });\n              }}\n            />\n            <br />\n            <br />\n            <Button variant=\"contained\" color=\"primary\" type=\"submit\">\n              LogIn\n            </Button>\n          </form>\n        </Paper>\n      </div>\n    );\n  }\n}\n\nLoginPage.propTypes = {\n  onLogin: PropTypes.func.isRequired,\n};\n\nexport default LoginPage;\n","import isEqual from 'lodash/isEqual';\n\nimport ConfigurationLock from '../../protobuf/ConfigurationLock';\nimport ProtobufConnector from '../../protobuf/ProtobufConnector';\nimport Proxy from '../../protobuf/Proxy';\nimport { resetState, saveState } from '../../utils/localStorage';\nimport logger from '../../utils/logger';\n\nconst NUMBER_OF_NOTIFICATIONS_SHOWN = 50;\n\nfunction createInitialAppState({ websocketUrl, dispatch, user, authToken }) {\n  const connector = new ProtobufConnector(websocketUrl, dispatch, authToken);\n  const proxy = new Proxy(dispatch);\n  const configurationLock = new ConfigurationLock({});\n  const locale = localStorage.getItem('CURRENT_LOCALE');\n  logger.setProxy(proxy);\n  return {\n    connection: null,\n    notifications: [],\n    mode: 0,\n    navigationHidden: false,\n    locale: locale || 'en',\n    authToken,\n    user,\n    currentMode: null,\n    pausedInspections: [],\n    connector,\n    protobuf: undefined,\n    socket: undefined,\n    proxy,\n    saveOperationInProcess: false,\n    currentClientChunkRevision: 0,\n    modalNotificationData: null,\n    focusedViewType: null,\n    isHelpViewOpen: false,\n    configuration: null,\n    configurationLock,\n    isBrowserWindowVisible: true,\n  };\n}\n\nconst appReducer = (params) => {\n  const initalAppState = createInitialAppState(params);\n  return (state = initalAppState, action) => {\n    switch (action.type) {\n      case 'SET_PROTOBUF_STATIC_INITIALIZED':\n        state.proxy.setProtobufStaticInitialized();\n        return state;\n      case 'SET_PROTOBUF': {\n        const { protobuf, socket } = action;\n        protobuf.onConnect(socket);\n        state.proxy.setProtobuf(protobuf);\n        return Object.assign({}, state, { protobuf, socket });\n      }\n      case 'ADD_NOTIFICATION': {\n        const newNotifications = getNewNotifications(action.notification, state);\n\n        return Object.assign({}, state, {\n          notifications: newNotifications,\n        });\n      }\n      case 'LOG_IN':\n        saveState(action.authToken, action.user);\n        state.connector.connectWithToken(action.authToken);\n        return { ...state, authToken: action.authToken, user: action.user };\n      case 'LOG_OUT':\n        resetState();\n        setTimeout(() => state.connector.disconnect());\n        return state;\n      case 'AUTH_TOKEN_EXPIRED':\n        resetState();\n        return { ...state, authToken: undefined, user: undefined };\n      case 'SET_LOCALE':\n        localStorage.setItem('CURRENT_LOCALE', action.locale);\n        return { ...state, locale: action.locale };\n      case 'ON_NAVIGATION_HIDDEN': {\n        return Object.assign({}, state, {\n          navigationHidden: !state.navigationHidden,\n        });\n      }\n      case 'SHOW_GLOBAL_MESSAGE_OVERLAY': {\n        const { message } = action;\n        logger.info({ message }, 'Showing global message overlay');\n        return {\n          ...state,\n          modalNotificationData: {\n            message,\n          },\n        };\n      }\n      case 'HIDE_GLOBAL_MESSAGE_OVERLAY':\n        logger.info('Hiding global message overlay');\n        return {\n          ...state,\n          modalNotificationData: null,\n        };\n      case 'SET_CURRENT_MODE':\n        state.proxy.setMode(action.mode);\n        return state;\n      case 'SET_CURRENT_MODE_DONE':\n        return {\n          ...state,\n          currentMode: action.mode,\n        };\n      case 'SET_PAUSED_INSPECTIONS':\n        return {\n          ...state,\n          pausedInspections: action.pausedInspections,\n        };\n      case 'UPDATE_CLIENT_CHUNK_REVISION':\n        return {\n          ...state,\n          currentClientChunkRevision: action.revision,\n        };\n\n      case 'UPDATE_SAVE_OPERATION_IN_PROCESS':\n        return {\n          ...state,\n          saveOperationInProcess: action.inProcess,\n        };\n      case 'SET_CONFIGURATION':\n        return {\n          ...state,\n          configuration: action.configuration,\n        };\n      case 'SET_CONFIGURATION_LOCK':\n        return {\n          ...state,\n          configurationLock: action.configurationLock,\n        };\n      case 'SET_FOCUSED_VIEW_TYPE':\n        return {\n          ...state,\n          focusedViewType: action.viewType,\n        };\n\n      case 'OPEN_HELP_VIEW':\n        return {\n          ...state,\n          isHelpViewOpen: action.isHelpViewOpen,\n        };\n\n      case 'CLOSE_HELP_VIEW':\n        return {\n          ...state,\n          isHelpViewOpen: action.isHelpViewOpen,\n        };\n\n      case 'SET_GROUP_PERMISSIONS':\n        return {\n          ...state,\n          groupPermissions: action.groupPermissions,\n        };\n\n      case 'SET_MY_PERMISSIONS':\n        return {\n          ...state,\n          myPermissions: action.myPermissions,\n        };\n\n      case 'SET_BROWSER_WINDOW_VISIBILITY':\n        return {\n          ...state,\n          isBrowserWindowVisible: action.visible,\n        };\n      default:\n        return state;\n    }\n  };\n};\n\nfunction getNewNotifications(notification2Add, state) {\n  let newNotifications = [...state.notifications];\n  let notification = addTimestampToNotification(notification2Add, state.locale);\n\n  const equalsLastNotification = equalsLastNotificationCurrentNotification(\n    notification,\n    newNotifications,\n  );\n\n  if (!equalsLastNotification) {\n    notification = setCountForNotification(notification);\n    newNotifications.unshift(notification);\n  } else {\n    newNotifications[0] = setCountForNotification(newNotifications[0]);\n  }\n\n  if (newNotifications && newNotifications.length > NUMBER_OF_NOTIFICATIONS_SHOWN) {\n    newNotifications.splice(-1, 1);\n  }\n\n  return newNotifications;\n}\n\nfunction addTimestampToNotification(notification, locale) {\n  const date = new Date();\n  const dateOptions = { day: '2-digit', month: '2-digit', year: 'numeric' };\n  const timeOptions = { hour: '2-digit', minute: '2-digit', second: '2-digit' };\n  const timestamp = `${date.toLocaleString(locale, dateOptions)} ${date.toLocaleString(\n    locale,\n    timeOptions,\n  )}`;\n\n  notification = {\n    ...notification,\n    timestamp: timestamp,\n  };\n\n  return notification;\n}\n\nfunction equalsLastNotificationCurrentNotification(currentNotification, notifications) {\n  if (notifications && notifications.length > 0) {\n    return isEqual(currentNotification.message, notifications[0].message);\n  }\n\n  return false;\n}\n\nfunction setCountForNotification(notification) {\n  let count = notification.count;\n  if (count === undefined) {\n    count = 1;\n  } else {\n    count++;\n  }\n\n  notification = {\n    ...notification,\n    count,\n  };\n\n  return notification;\n}\n\nexport default appReducer;\n","const initialState = {\n  parameter: [],\n};\n\nconst toolsetReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'SET_PARAMETER':\n      return {\n        ...state,\n        parameter: action.parameter,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default toolsetReducer;\n","import omit from 'lodash/omit';\nimport { isObjectValid } from '../../utils/objectValidator';\n\nconst findInspectionForView = (viewId, state) =>\n  Object.keys(state).find(\n    (inspectionId) =>\n      state[inspectionId] && state[inspectionId].views && !!state[inspectionId].views[viewId],\n  );\n\nconst viewDataReducer = (state = {}, action) => {\n  const { inspectionId, viewId, key } = action;\n  switch (action.type) {\n    case 'PURGE_VIEW_STATE': {\n      const inspectionId = action.inspectionId || findInspectionForView(action.viewId, state);\n      if (!inspectionId) {\n        return state;\n      }\n\n      return omit(state, [\n        `${inspectionId}.sharedState.views.${action.viewId}`,\n        `${inspectionId}.views.${action.viewId}`,\n        state[inspectionId].sharedState.editingViewId === action.viewId &&\n          `${inspectionId}.sharedState.editingViewId`,\n      ]);\n    }\n    case 'SET_EDITING_FOCUS': {\n      if (!state[inspectionId]) {\n        return state;\n      }\n\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...state[inspectionId].sharedState,\n            editingViewId: viewId,\n          },\n        },\n      };\n    }\n\n    case 'SET_LIST_VIEW_ALIASES': {\n      if (!state[inspectionId]) {\n        return state;\n      }\n\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...state[inspectionId].sharedState,\n            listViewAliases: action.aliases,\n            showAliasesInList: action.showInList,\n          },\n        },\n      };\n    }\n\n    case 'UPDATE_LIST_VIEW_SHOW_ALIASES': {\n      if (!state[inspectionId]) {\n        return state;\n      }\n\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...state[inspectionId].sharedState,\n            showAliasesInList: action.showInList,\n          },\n        },\n      };\n    }\n\n    case 'SET_VIEW_DATA':\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          views: {\n            ...(state[inspectionId] ? state[inspectionId].views : {}),\n            [viewId]: {\n              ...(state[inspectionId] && state[inspectionId].views\n                ? state[inspectionId].views[viewId]\n                : {}),\n              [key]: action.data,\n            },\n          },\n        },\n      };\n\n    case 'SAVE_IMAGE_SETTINGS':\n      return {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          views: {\n            ...(state[inspectionId] ? state[inspectionId].views : {}),\n            [viewId]: {\n              ...(state[inspectionId] && state[inspectionId].views\n                ? state[inspectionId].views[viewId]\n                : {}),\n              zoomFactor: action.zoomFactor,\n              imagePosition: action.imagePosition,\n            },\n          },\n        },\n      };\n\n    case 'SET_SHARED_STATE_DATA': {\n      const editingViewId = action.viewId || state[inspectionId].sharedState.editingViewId;\n      const newState = {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...(state[inspectionId] ? state[inspectionId].sharedState : {}),\n            views: {\n              ...(state[inspectionId] ? state[inspectionId].sharedState.views : {}),\n              [editingViewId]: {\n                ...(state[inspectionId]\n                  ? state[inspectionId].sharedState.views[editingViewId]\n                  : {}),\n                [key]: action.data,\n              },\n            },\n          },\n        },\n      };\n      return newState;\n    }\n\n    case 'INIT_VIEW_STATE': {\n      const { initState, initSharedState } = action;\n\n      const newState = {\n        ...state,\n        [inspectionId]: {\n          ...state[inspectionId],\n          sharedState: {\n            ...(state[inspectionId] ? state[inspectionId].sharedState : {}),\n            views: {\n              ...(state[inspectionId] ? state[inspectionId].sharedState.views : {}),\n              [viewId]: isObjectValid(() => state[inspectionId].sharedState.views[viewId])\n                ? {\n                    ...initSharedState,\n                    ...state[inspectionId].sharedState.views[viewId],\n                  }\n                : initSharedState,\n            },\n          },\n          views: {\n            ...(state[inspectionId] ? state[inspectionId].views : {}),\n            [viewId]: isObjectValid(() => state[inspectionId].views[viewId])\n              ? { ...initState, ...state[inspectionId].views[viewId] }\n              : initState,\n          },\n        },\n      };\n\n      const listViewAliases =\n        newState[inspectionId] &&\n        newState[inspectionId].sharedState &&\n        (newState[inspectionId].sharedState.listViewAliases || new Map());\n      newState[inspectionId].sharedState.listViewAliases = listViewAliases;\n\n      return newState;\n    }\n\n    default:\n      return state;\n  }\n};\n\nexport default viewDataReducer;\n","import ViewSetFactory, { DEFAULT_VIEWSET_NAME } from '../../views/ViewSetFactory';\n\nconst viewSetFactory = new ViewSetFactory();\n\nconst initialState = () => {\n  const hideBottomNavigation = localStorage.getItem('BOTTOM_NAVIGATION_HIDDEN') === 'true';\n  const hideTopNavigation = localStorage.getItem('TOP_NAVIGATION_HIDDEN') === 'true';\n  const defaultViewSetName = localStorage.getItem('DEFAULT_VIEWSET_NAME');\n\n  return {\n    currentViewSet: undefined,\n    createdViewSets: {},\n    fullscreenMode: false,\n    fullscreenComponentDescriptor: undefined,\n    viewSizeChangeCounter: 0,\n    bottomNavHidden: hideBottomNavigation || false,\n    topNavHidden: hideTopNavigation || false,\n    defaultViewSetName: defaultViewSetName || null,\n    isSVOConfigLoaded: false,\n    unsavedChanges: false,\n  };\n};\n\nconst enterFullScreenMode = (componentDescriptor, state) => {\n  componentDescriptor.setFullscreen(true);\n  return {\n    ...state,\n    fullscreenMode: true,\n    fullscreenComponentDescriptor: componentDescriptor,\n  };\n};\n\nconst leaveFullScreenMode = (componentDescriptor, state) => {\n  componentDescriptor.setFullscreen(false);\n  return {\n    ...state,\n    fullscreenMode: false,\n    fullscreenComponentDescriptor: undefined,\n  };\n};\n\nconst findCreatedViewSetWithName = (name, createdViewSets) => {\n  const viewSetId = Object.keys(createdViewSets).find(\n    (viewSetId) => createdViewSets[viewSetId] && createdViewSets[viewSetId].name === name,\n  );\n  return viewSetId && createdViewSets[viewSetId];\n};\n\nconst switchViewSet = (viewSet, state) => {\n  const viewSetId = viewSet.id;\n  const cached = state.createdViewSets[viewSetId];\n  const targetViewSet = cached || viewSetFactory.getViewSet(viewSetId);\n  const createdViewSet = !cached ? { [viewSetId]: targetViewSet } : {};\n\n  const newState = {\n    ...state,\n    currentViewSet: targetViewSet,\n    createdViewSets: Object.assign({}, state.createdViewSets, createdViewSet),\n  };\n  return newState;\n};\n\nconst updateCurrentViewSet = (state, viewSet, viewSetId) => {\n  return {\n    ...state,\n    currentViewSet: viewSet,\n    createdViewSets: {\n      ...state.createdViewSets,\n      [viewSetId]: viewSet,\n    },\n    unsavedChanges: true,\n  };\n};\n\nconst removeViewSet = (state, name) => {\n  const { createdViewSets } = state;\n\n  let newCreatedViewSets = Object.keys(createdViewSets)\n    .filter((id) => id !== name)\n    .reduce((p, c) => ({ ...p, [c]: createdViewSets[c] }), {});\n\n  if (Object.keys(newCreatedViewSets).length === 0) {\n    const name = DEFAULT_VIEWSET_NAME;\n    newCreatedViewSets = {\n      [name]: viewSetFactory.buildEmptyViewSet(name),\n    };\n  }\n\n  return {\n    createdViewSets: newCreatedViewSets,\n    currentViewSet: newCreatedViewSets[Object.keys(newCreatedViewSets)[0]],\n    unsavedChanges: true,\n  };\n};\n\nconst viewSetReducer = (state = initialState(), action) => {\n  switch (action.type) {\n    case 'LOG_OUT':\n      return initialState();\n    case 'SET_VIEWSET':\n      return updateCurrentViewSet(state, action.viewSet, action.viewSetId);\n    case 'REPLACE_VIEW_IN_CURRENT_VIEWSET': {\n      const { viewId, inspectionId, replacementComponentId } = action;\n      const createdView = viewSetFactory.getViewById(replacementComponentId);\n      createdView.inspectionId = inspectionId;\n      const currentViewSetId = state.currentViewSet.id;\n      const updatedViewSet = {\n        ...state.currentViewSet,\n        viewSet: {\n          ...state.currentViewSet.viewSet,\n          [viewId]: createdView,\n        },\n      };\n      return updateCurrentViewSet(state, updatedViewSet, currentViewSetId);\n    }\n    case 'SWITCH_VIEWSET':\n      return switchViewSet(action.viewSet, state);\n    case 'ENTER_FULLSCREEN_MODE': {\n      if (\n        state.fullscreenComponentDescriptor &&\n        state.fullscreenComponentDescriptor.id !== action.componentDescriptor.id\n      ) {\n        leaveFullScreenMode(state.fullscreenComponentDescriptor, state);\n      }\n      return enterFullScreenMode(action.componentDescriptor, state);\n    }\n    case 'LEAVE_FULLSCREEN_MODE': {\n      return leaveFullScreenMode(action.componentDescriptor, state);\n    }\n    case 'TOGGLE_FULLSCREEN_MODE': {\n      if (!state.fullscreenComponentDescriptor) {\n        return enterFullScreenMode(action.componentDescriptor, state);\n      }\n      if (state.fullscreenComponentDescriptor.id === action.componentDescriptor.id) {\n        if (state.fullscreenMode) {\n          return leaveFullScreenMode(action.componentDescriptor, state);\n        }\n        return enterFullScreenMode(action.componentDescriptor, state);\n      }\n      return state;\n    }\n    case 'INCREASE_VIEW_SIZE_CHANGE_COUNTER':\n      return {\n        ...state,\n        viewSizeChangeCounter: state.viewSizeChangeCounter + 1,\n      };\n    case 'SET_BOTTOM_NAV_HIDDEN':\n      localStorage.setItem('BOTTOM_NAVIGATION_HIDDEN', action.hidden);\n      return {\n        ...state,\n        bottomNavHidden: action.hidden,\n      };\n    case 'CHANGE_VIEWSET_AFTER_LOADING':\n      return {\n        ...state,\n        changeViewSetToName: action.name,\n      };\n    case 'SET_TOP_NAV_HIDDEN':\n      localStorage.setItem('TOP_NAVIGATION_HIDDEN', action.hidden);\n      return {\n        ...state,\n        topNavHidden: action.hidden,\n      };\n    case 'SET_DEFAULT_VIEWSET_NAME':\n      localStorage.setItem('DEFAULT_VIEWSET_NAME', action.name);\n      return {\n        ...state,\n        defaultViewSetName: action.name,\n      };\n    case 'NEW_VIEW_SET': {\n      const newViewSet = {\n        [action.name]: viewSetFactory.buildEmptyViewSet(action.name),\n      };\n\n      return {\n        ...state,\n        createdViewSets: {\n          ...state.createdViewSets,\n          ...newViewSet,\n        },\n        unsavedChanges: true,\n      };\n    }\n    case 'REMOVE_VIEWSET': {\n      const { createdViewSets, currentViewSet } = removeViewSet(state, action.name);\n      return {\n        ...state,\n        currentViewSet,\n        createdViewSets,\n        unsavedChanges: true,\n      };\n    }\n    case 'CLEAR_CURRENT_VIEW': {\n      if (!state?.currentViewSet?.name) {\n        return state;\n      }\n\n      const emptyViewSet = viewSetFactory.buildEmptyViewSet(state.currentViewSet.name);\n      state.createdViewSets[state.currentViewSet.name] = emptyViewSet;\n\n      return {\n        ...state,\n        currentViewSet: emptyViewSet,\n        unsavedChanges: true,\n      };\n    }\n    case 'RENAME_VIEWSET': {\n      const viewsetToEdit = state.createdViewSets[action.oldName];\n      const renamedViewSet = {\n        ...viewsetToEdit,\n        id: action.newName,\n        name: action.newName,\n      };\n      const createdViewSets = Object.keys(state.createdViewSets).reduce(\n        (all, id) =>\n          id === action.oldName\n            ? { ...all, [action.newName]: renamedViewSet }\n            : { ...all, [id]: state.createdViewSets[id] },\n        {},\n      );\n\n      if (action.oldName === state.currentViewSet.name) {\n        return {\n          ...state,\n          createdViewSets,\n          currentViewSet: renamedViewSet,\n          unsavedChanges: true,\n        };\n      }\n\n      return {\n        ...state,\n        createdViewSets,\n        unsavedChanges: true,\n      };\n    }\n    case 'SET_CURRENT_LAYOUT':\n      if (!action.layout) {\n        return state;\n      }\n      return {\n        ...state,\n        createdViewSets: Object.assign({}, state.createdViewSets, {\n          [state.currentViewSet.id]: {\n            ...state.currentViewSet,\n            initialValue: action.layout,\n          },\n        }),\n        currentViewSet: {\n          ...state.currentViewSet,\n          initialValue: action.layout,\n        },\n        currentLayout: action.layout,\n        unsavedChanges: true,\n      };\n    case 'LOAD_CLIENT_CHUNK': {\n      if (state.changeViewSetToName) {\n        let loadedViewSet = findCreatedViewSetWithName(\n          state.changeViewSetToName,\n          action.chunk.createdViewSets,\n        );\n\n        if (loadedViewSet) {\n          const newState = {\n            ...state,\n            currentViewSet: loadedViewSet,\n            createdViewSets: action.chunk.createdViewSets,\n            changeViewSetToName: undefined,\n          };\n          return switchViewSet(loadedViewSet, newState);\n        }\n      }\n\n      const config = {\n        createdViewSets: action.chunk.createdViewSets,\n        currentViewSet: action.chunk.currentViewSet,\n      };\n      return {\n        ...state,\n        ...config,\n      };\n    }\n    case 'SET_SVO_CONFIG_LOADED':\n      return {\n        ...state,\n        isSVOConfigLoaded: action.isLoaded,\n        unsavedChanges: false,\n      };\n    case 'SET_SAVE_FLAG':\n      return {\n        ...state,\n        unsavedChanges: action.hasChanges,\n      };\n    default:\n      return state;\n  }\n};\n\nexport default viewSetReducer;\n","import { routerReducer as routing } from 'react-router-redux';\nimport { combineReducers } from 'redux';\n\nimport appReducer from './appReducer';\nimport toolsetReducer from './toolsetReducer';\nimport viewDataReducer from './viewDataReducer';\nimport viewSetReducer from './viewSetReducer';\n\nfunction createReducers(params) {\n  return combineReducers({\n    app: appReducer(params),\n    viewSet: viewSetReducer,\n    toolSet: toolsetReducer,\n    inspections: viewDataReducer,\n    routing,\n  });\n}\n\nexport default createReducers;\n","/* eslint-disable import/order */\nimport React, { useState, useEffect } from 'react';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport 'react-tippy/dist/tippy.css';\nimport { createStore, applyMiddleware, compose } from 'redux';\n\nimport App from './App';\nimport LoginPage from './pages/LoginPage';\nimport Protobuf from './protobuf/Protobuf';\nimport {\n  saveClientChunk,\n  setProtobufStaticInitialized,\n  setBrowserWindowVisibility,\n} from './redux/actions';\nimport createReducers from './redux/reducers';\nimport env from './utils/env';\nimport { loadState } from './utils/localStorage';\n\nimport './App.scss';\nimport './css/utils.css';\nimport './css/reset.scss';\n\nconst PreLogin = () => {\n  const [user, setUser] = useState(null);\n  const [authToken, setAuthToken] = useState('');\n  const [store, setStore] = useState(null);\n\n  const onLoggedIn = (data) => {\n    if (data && data.user && data.authToken) {\n      setUser(data.user);\n      setAuthToken(data.authToken);\n    }\n  };\n\n  const onLoggedOut = () => {\n    setUser(null);\n    setAuthToken('');\n  };\n\n  const create = async () => {\n    const autoSave = (store) => (next) => (action) => {\n      if (env.enableAutoSave) {\n        // TODO: for now trigger an auto-save whenever dispatching a \"SET_*\" action\n        const state = store.getState();\n        if (\n          action.type.substr(0, 4) === 'SET_' &&\n          !state.app.saveOperationInProcess &&\n          state.app.protobuf\n        ) {\n          // only store if we have a valid protobuf connection\n          const { currentClientChunkRevision, protobuf, user } = state.app;\n          store.dispatch(saveClientChunk(protobuf, user, state, currentClientChunkRevision));\n        }\n      }\n      return next(action);\n    };\n\n    const store = createStore(\n      createReducers({\n        websocketUrl: env.websocketServerUrl,\n        dispatch: (action) => store.dispatch(action),\n      }),\n      compose(\n        applyMiddleware(thunk, autoSave),\n        window.devToolsExtension ? window.devToolsExtension() : (f) => f,\n      ),\n    );\n\n    await Protobuf.init();\n    store.dispatch(setProtobufStaticInitialized());\n\n    setStore(store);\n  };\n\n  useEffect(() => {\n    if ((user && authToken) || window.location.pathname === '/hmi-v1') {\n      create();\n    }\n  }, [user, authToken]);\n\n  const fromLocalStorage = loadState();\n  if (fromLocalStorage) {\n    if (fromLocalStorage.user && !user) {\n      setUser(fromLocalStorage.user);\n    }\n\n    if (fromLocalStorage.authToken && !authToken) {\n      setAuthToken(fromLocalStorage.authToken);\n    }\n  }\n\n  if (!(user && authToken) && window.location.pathname !== '/hmi-v1') {\n    return <LoginPage onLogin={(data) => onLoggedIn(data)} />;\n  } else {\n    if (!store) {\n      return <div></div>;\n    }\n\n    document.addEventListener('visibilitychange', function () {\n      if (document.visibilityState === 'visible') {\n        store.dispatch(setBrowserWindowVisibility(true));\n        clearTimeout(this.hibernateTimer);\n      } else {\n        this.hibernateTimer = setTimeout(() => {\n          store.dispatch(setBrowserWindowVisibility(false));\n        }, 10000);\n      }\n    });\n\n    return (\n      <Provider store={store}>\n        <App user={user} authToken={authToken} onLoggedOut={() => onLoggedOut()} />\n      </Provider>\n    );\n  }\n};\n\nexport default PreLogin;\n","import { createMuiTheme } from '@material-ui/core/styles';\n\n// MUI Seidenader Default Colors\nconst GREY135 = 'rgb(135, 135, 135)';\nconst muiTheme = createMuiTheme({\n  palette: {\n    primary: { main: GREY135 },\n  },\n  typography: {\n    useNextVariants: true,\n    htmlFontSize: 10,\n  },\n});\n\nexport default muiTheme;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport { MuiThemeProvider } from '@material-ui/core/styles';\nimport ReactDOM from 'react-dom';\nimport 'react-tippy/dist/tippy.css';\nimport PreLogin from './PreLogin';\nimport muiTheme from './theme';\n\nimport './css/app.scss';\n// eslint-disable-next-line import/order\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <MuiThemeProvider theme={muiTheme}>\n      <PreLogin />\n    </MuiThemeProvider>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default __webpack_public_path__ + \"static/media/edit.962e7af9.svg\";"],"sourceRoot":""}