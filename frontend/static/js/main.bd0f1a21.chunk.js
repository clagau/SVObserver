(this.webpackJsonpSVOWebApp=this.webpackJsonpSVOWebApp||[]).push([[0],{10:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(11),a=n(82),r=n(12),o=n(19),s=n(17),c=n(5),l=n.n(c),u=n(159),d=n.n(u),p=n(7),v=function(){function e(t){Object(o.a)(this,e),this.closed=!1,this.observable=t}return Object(s.a)(e,[{key:"next",value:function(e){return this.observable.onNext(e)}},{key:"error",value:function(e){return this.observable.onError(e)}},{key:"complete",value:function(){return this.observable.onComplete()}}]),e}(),b=function(){function e(t){Object(o.a)(this,e),this._onSubscribe=t,this._next=function(){},this._error=function(){},this._complete=function(){}}return Object(s.a)(e,[{key:"subscribe",value:function(e){var t=this;"function"===typeof e.next&&(this._next=e.next),"function"===typeof e.error&&(this._error=e.error),"function"===typeof e.complete&&(this._complete=e.complete);var n=new v(this),i=this._onSubscribe(n);return{unsubscribe:function(){"function"===typeof i&&i(),t._next=function(){},t._error=function(){},t._complete=function(){}}}}},{key:"onNext",value:function(e){return this._next(e)}},{key:"onError",value:function(e){return this._error(e)}},{key:"onComplete",value:function(){return this._complete()}}],[{key:"create",value:function(t){return new e(t)}}]),e}(),f=function(){function e(){Object(o.a)(this,e),this.pendingRequests=new Map,this.openStreams=new Map,this.socket=null,this.closedStreamIds=[]}return Object(s.a)(e,[{key:"isConnected",value:function(){return!!this.socket}},{key:"onConnect",value:function(e){var t=this.socket;this.socket=e,t!==e&&this.cancelAllPendingRequests(new Error("Connection changed"))}},{key:"readMessage",value:function(){var t=Object(r.a)(l.a.mark((function t(n){var i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.SvPenv.Envelope.decode(new Uint8Array(n));case 2:i=t.sent,t.t0=i.type,t.next=t.t0===e.SvPenv.MessageType.response?6:t.t0===e.SvPenv.MessageType.errorResponse?8:t.t0===e.SvPenv.MessageType.streamResponse?10:t.t0===e.SvPenv.MessageType.streamErrorResponse?12:t.t0===e.SvPenv.MessageType.streamFinish?14:t.t0===e.SvPenv.MessageType.streamCancel?16:18;break;case 6:return this.onResponse(i),t.abrupt("break",19);case 8:return this.onErrorResponse(i),t.abrupt("break",19);case 10:return this.onStreamResponse(i),t.abrupt("break",19);case 12:return this.onStreamErrorResponse(i),t.abrupt("break",19);case 14:return this.onStreamFinish(i),t.abrupt("break",19);case 16:return this.onStreamCancel(i),t.abrupt("break",19);case 18:p.a.error({type:i.type},"Received message with unexpected type");case 19:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"onResponse",value:function(e){var t=e.transactionId,n=this.pendingRequests.get(t);if(n){var i=this.unwrapResponse(e);this.pendingRequests.delete(t),n.handled||(clearTimeout(n.timeout),n.resolve(i))}else p.a.error({txId:t},"Received response for unknown transaction id")}},{key:"onErrorResponse",value:function(e){var t=e.transactionId,n=this.unwrapErrorResponse(e);return this.onErrorResponseImpl(t,n)}},{key:"onErrorResponseImpl",value:function(e,t){var n=this.pendingRequests.get(e);n?(this.pendingRequests.delete(e),n.handled||(clearTimeout(n.timeout),n.reject(t))):p.a.error({txId:e},"Received response for unknown transaction id")}},{key:"cancelAllPendingRequests",value:function(e){var t,n=Object(a.a)(this.pendingRequests.keys());try{for(n.s();!(t=n.n()).done;){var i=t.value;this.onErrorResponseImpl(i,e)}}catch(e){n.e(e)}finally{n.f()}}},{key:"onRequestTimeout",value:function(e){var t=this.pendingRequests.get(e);t?(t.handled=!0,t.reject(new Error("Request timed out"))):p.a.error({txId:e},"Received response for unknown transaction id")}},{key:"onStreamResponse",value:function(){var e=Object(r.a)(l.a.mark((function e(t){var n,i,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.transactionId,!this.closedStreamIds.includes(n)){e.next=3;break}return e.abrupt("return");case 3:if(i=this.openStreams.get(n)){e.next=7;break}return p.a.info({streamId:n},"Received update for unknown stream id"),e.abrupt("return");case 7:return a=this.unwrapResponse(t),e.next=10,i.observer.next(a);case 10:this.ackStreamResponse(t);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onStreamErrorResponse",value:function(e){var t=e.transactionId;if(!this.closedStreamIds.includes(t)){var n=this.openStreams.get(t);if(n){var i=this.unwrapErrorResponse(e);this.closeStream(t),n.observer.error(i)}else p.a.error({streamId:t},"Received error for unknown stream id")}}},{key:"onStreamFinish",value:function(e){var t=e.transactionId;if(!this.closedStreamIds.includes(t)){var n=this.openStreams.get(t);n?(this.closeStream(t),n.observer.complete()):p.a.error({streamId:t},"Received finish for unknown stream id")}}},{key:"onStreamCancel",value:function(){}},{key:"request",value:function(t){var n=this;return new Promise((function(i,a){if(!n.socket)return a(new Error("No socket available"));e.nextTxId+=1;var r=e.nextTxId,o=n.wrapMessage(t,r,e.SvPenv.MessageType.request),s=n.serializeEnvelope(o),c=setTimeout(n.onRequestTimeout.bind(n,r),6e4);n.pendingRequests.set(r,{resolve:i,reject:a,timeout:c}),n.socket.send(s)}))}},{key:"stream",value:function(t){var n=this;return b.create((function(i){if(!n.socket)return i.error(new Error("No socket available"));e.nextStreamId+=1;var a=e.nextStreamId,r=n.wrapMessage(t,a,e.SvPenv.MessageType.streamRequest),o=n.serializeEnvelope(r);return n.openStreams.set(a,{observer:i}),n.socket.send(o),function(){n.cancelStream(a),n.closeStream(a)}}))}},{key:"cancelStream",value:function(t){if(this.socket){var n={transactionId:t,type:e.SvPenv.MessageType.streamCancel},i=e.SvPenv.Envelope.fromObject(n),a=this.serializeEnvelope(i);this.socket.send(a)}}},{key:"ackStreamResponse",value:function(t){var n=e.SvPenv.Envelope.fromObject({transactionId:t.transactionId,sequenceNumber:t.sequenceNumber,type:e.SvPenv.MessageType.streamAck}),i=this.serializeEnvelope(n);this.socket.send(i)}},{key:"wrapMessage",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.SvPenv.MessageType.request,a=this.wrapOneOf(t),r=e.SvPenv.Envelope.fromObject({payloadType:this.getPayloadTypeForOneOfMessage(a),payload:this.packToAny(a),transactionId:n,type:i});return r}},{key:"unwrapResponse",value:function(e){var t=this.unpackFromAny(e.payload);return this.unwrapOneOf(t)}},{key:"unwrapErrorResponse",value:function(e){var t=new Error(e.error.message);if(t.code=e.error.errorCode,e.error.payload){var n=this.unpackFromAny(e.error.payload);t.payload=n}return t}},{key:"wrapOneOf",value:function(t){var n=this.getFieldNameForSVRCMessage(t);return e.SvPb.SVRCMessages.create(Object(i.a)({},n,t))}},{key:"unwrapOneOf",value:function(e){return e[e.message]}},{key:"getFieldNameForSVRCMessage",value:function(e){var t=e.$type.name;return t.substr(0,1).toLowerCase()+t.substr(1)}},{key:"getPayloadTypeForOneOfMessage",value:function(e){var t=e.message;return e.$type.fields[t].id}},{key:"packToAny",value:function(e){var t=e.$type,n=t.fullName.slice(1),i=t.encode(e).finish();return{type_url:"".concat("type.googleapis.com","/").concat(n),value:i}}},{key:"unpackFromAny",value:function(t){var n=t.type_url,i=n.indexOf("/");-1!==i&&(n=n.slice(i+1));var a=e.SvPb.lookup(n);if(a)return a.decode(t.value);p.a.error({type:t.type_url},"Received message with unknown payload type")}},{key:"serializeEnvelope",value:function(t){var n=e.SvPenv.Envelope.encode(t).finish();return n.buffer.slice(n.byteOffset,n.byteOffset+n.length)}},{key:"closeStream",value:function(t){this.openStreams.delete(t),this.closedStreamIds.length>=e.closedStreamIdsMaxSize&&this.closedStreamIds.pop(),this.closedStreamIds.unshift(t)}}],[{key:"init",value:function(){var t=Object(r.a)(l.a.mark((function t(){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.loadProto("/res/proto/Envelope.proto","SvPenv");case 2:return e.SvPenv=t.sent,t.next=5,e.loadProto("/res/proto/SVRC.proto","SvPb");case 5:return e.SvPb=t.sent,t.next=8,e.loadProto("/res/proto/SVRC.proto","SvAuth");case 8:e.SvAuth=t.sent,e.initialized=!0;case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},{key:"loadProto",value:function(){var e=Object(r.a)(l.a.mark((function e(t,n){var i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.load(t);case 2:return i=e.sent,e.abrupt("return",i.lookup(n));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();f.SvPenv={},f.SvPb={},f.nextTxId=0,f.nextStreamId=0,f.initialized=!1,f.closedStreamIdsMaxSize=20},103:function(e,t,n){"use strict";t.a=n.p+"static/media/plus.72585b6a.svg"},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(7),a=function(e,t){if(e){var n=document.createElement("a");n.download=t,n.href=e,document.body.appendChild(n),n.click(),document.body.removeChild(n)}else i.a.info("forceDownload expects data but did not receive")}},125:function(e,t,n){"use strict";var i=n(970),a=n(168),r=n(46),o=n(0),s=n(29),c=n(1),l=function(e){var t=e.children,n=Object(o.useRef)(document.getElementById("root"));return n.current?Object(s.createPortal)(t,n.current):Object(c.jsx)(c.Fragment,{children:t})};n(835),t.a=function(e){var t=e.onClose,n=e.open,o=e.title,s=e.message;return Object(c.jsx)(l,{children:Object(c.jsxs)(r.a,{title:o||"",onClose:function(){return t(!1)},open:n,children:[Object(c.jsx)("div",{className:"message-wrapper",children:s}),Object(c.jsxs)("div",{className:"button-wrapper",children:[Object(c.jsx)(i.a,{color:"primary",onClick:function(){return t(!0)},children:"Okay"}),Object(c.jsx)(i.a,{color:"primary",onClick:function(){return t(!1)},children:Object(c.jsx)(a.a,{id:"cancel"})})]})]})})}},126:function(e,t,n){"use strict";var i=n(320);var a={authEndpoint:function(e){var t=e?Object(i.parse)(e):window.location,n=t.protocol.replace("ws","http");return"".concat(n,"//").concat(t.host)}(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_WEBSOCKET_SERVER_URL),websocketServerUrl:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_WEBSOCKET_SERVER_URL||function(){var e=window.location,t=e.host,n=e.protocol;return"".concat("https:"===n?"wss:":"ws:","//").concat(t)}(),enableAutoSave:!1};t.a=a},128:function(e,t,n){"use strict";var i=n(35),a={PARAMETER_VIEW:i.f,LIST_VIEW:i.e,IMAGE_VIEW:i.d,PERMISSIONS:"PERMISSIONS",DEBUGGER:"DEBUGGER"};t.a=a},131:function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var i=n(82),a=n(6),r=n(19),o=n(17),s=n(3),c=n(12),l=n(5),u=n.n(l),d=n(328),p=n(21);function v(e,t){var n=this[e];return n instanceof Map?{dataType:"Map",value:Object(p.a)(n)}:t}function b(e,t){return"object"===typeof t&&null!==t&&"Map"===t.dataType?new Map(t.value):t}var f=n(54),h=n(7),m=n(65),g=function(e,t){for(var n=Math.ceil(e.length/t),i=new Array(n),a=0,r=0;a<n;++a,r+=t)i[a]=e.substr(r,t);return i},j=n(10),O=function(e){if(!e)return"";var t=e.lastIndexOf("\\");-1!==t&&(e=e.substr(t+1));var n=e.lastIndexOf(".");return-1!==n&&(e=e.substr(0,n)),e},I=function(){var e=Object(c.a)(u.a.mark((function e(t){var n,i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j.a.SvPb.GetConfigurationInfoRequest.create(),e.next=3,t.request(n);case 3:return i=e.sent,a=i.fileName,e.abrupt("return",O(a));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=Object(c.a)(u.a.mark((function e(t){var n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=j.a.SvPb.GetInspectionsRequest.create({}),e.next=4,t.request(n);case 4:return i=e.sent,e.abrupt("return",(i.inspections||[]).map((function(e){return{id:e.id,name:e.name}})));case 8:return e.prev=8,e.t0=e.catch(0),h.a.error("Error while fetching inspection name list:",e.t0),e.abrupt("return",[]);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),E=function(e){return(e||[]).map((function(e){return e.id}))},S=function(e){return(e||[]).map((function(e){return e.name}))},y=function e(t){var n=t.name,i=t.type,a=t.location,r=t.objectIDIndex,o=(t.children||[]).map(e);return{id:r&&function(e){if(e.startsWith("{#")){var t=e.indexOf("}");if(!(t<0))return e=e.substr(2,t),parseInt(e,10)}}(r)||null,name:n,type:i,location:a,children:o}},k=function(){var e=Object(c.a)(u.a.mark((function e(t,n,i){var a,r,o,s,c,l,d,p,v,b,f,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j.a.SvPb.GetObjectSelectorItemsRequest.create({areas:[j.a.SvPb.SearchArea.toolsetItems],inspectionID:n,instanceID:0,attribute:j.a.SvPb.ObjectAttributes.viewable,wholeArray:!0,type:j.a.SvPb.ObjectSelectorType.allValueObjects,attributesAllowed:1}),e.next=3,t.request(a);case 3:if((r=e.sent).tree){e.next=7;break}return h.a.error("GetObjectSelectorItemsRequest response does not contain a tree"),e.abrupt("return",null);case 7:for(o=y(r.tree),s=new Map,c=o&&o.children&&o.children.slice(0)||[];c.length>0;)if(l=c.shift(),d=l.id,p=l.name,v=l.type,b=l.location,f=l.children,d&&s.set(d,{id:d,name:p,type:v,location:b,fullLocation:"Inspections."+i+"."+b}),f&&f.length)for(m=0;m<f.length;++m)c.push(f[m]);return e.abrupt("return",s);case 12:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),x=function(){var e=Object(c.a)(u.a.mark((function e(t,n,i){var a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j.a.SvPb.GetObjectSelectorItemsRequest.create(i),e.prev=1,e.next=4,t.request(a);case 4:r=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),h.a.error(e.t0),e.abrupt("return",null);case 11:if(r.tree){e.next=14;break}return h.a.error("GetObjectSelectorItemsRequest response does not contain a tree"),e.abrupt("return",null);case 14:return o=y(r.tree),e.abrupt("return",{tree:o});case 16:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n,i){return e.apply(this,arguments)}}(),T=function(){var e=Object(c.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(t,n,{areas:[j.a.SvPb.SearchArea.toolsetItems],inspectionID:n,instanceID:0,attribute:j.a.SvPb.ObjectAttributes.viewable,wholeArray:!0,type:j.a.SvPb.ObjectSelectorType.allValueObjects,attributesAllowed:1}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(c.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(t,n,{areas:[j.a.SvPb.SearchArea.toolsetItems],inspectionID:n,instanceID:0,attribute:j.a.SvPb.ObjectAttributes.remotelySettable,wholeArray:!0,type:j.a.SvPb.ObjectSelectorType.allValueObjects,attributesAllowed:1}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(c.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",x(t,n,{areas:[j.a.SvPb.SearchArea.toolsetItems],inspectionID:n,type:j.a.SvPb.ObjectSelectorType.allImageObjects,attributesAllowed:1}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),N=function(){var e=Object(c.a)(u.a.mark((function e(t,n){var i,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.create(),e.next=3,t.request(i);case 3:if((a=e.sent).version){e.next=7;break}return h.a.error("Error while reading version via ".concat(n.name)),e.abrupt("return","Unknown Version");case 7:return e.abrupt("return",a.version);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(c.a)(u.a.mark((function e(t,n,i,a){var r,o,s,c,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=new Map,o=0;case 2:if(!(o<n.length)){e.next=12;break}return s=n[o],c=i[o],e.next=7,a(t,s,c);case 7:(l=e.sent)&&r.set(s,l);case 9:++o,e.next=2;break;case 12:return e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n,i,a){return e.apply(this,arguments)}}(),P=function(){var e=Object(c.a)(u.a.mark((function e(t){var n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=j.a.SvPb.GetConfigurationTreeRequest.create(),e.next=3,t.request(n);case 3:if((i=e.sent)&&i.tree){e.next=7;break}return h.a.error("Cannot get config tree"),e.abrupt("return",!1);case 7:return e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(c.a)(u.a.mark((function e(t){var n,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Map,e.next=3,P(t);case 3:if(i=e.sent,Object(m.a)((function(){return i.tree.children}))){e.next=7;break}return h.a.error("configTree is not valid"),e.abrupt("return",n);case 7:return e.next=9,Promise.all(i.tree.children.map(function(){var e=Object(c.a)(u.a.mark((function e(i){var a,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.objectID){e.next=4;break}return h.a.error("Inspection without valid id: ".concat(a)),e.abrupt("return");case 4:return r=0,e.prev=5,e.next=8,R(t,a,i.name);case 8:r=e.sent,e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(5),h.a.error("Could not load tool set id for ".concat(i.name," (").concat(a,")")),e.abrupt("return");case 15:n.set(a,Object(s.a)(Object(s.a)({},i),{},{toolSetId:r}));case 16:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t){return e.apply(this,arguments)}}()));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(c.a)(u.a.mark((function e(t,n,i){var a,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=j.a.SvPb.InspectionCmdRequest.create({inspectionID:n||void 0,getObjectIdRequest:{name:"".concat(i,".Tool Set")}}),e.prev=1,e.next=4,t.request(a);case 4:return o=e.sent,e.abrupt("return",null===o||void 0===o||null===(r=o.getObjectIdResponse)||void 0===r?void 0:r.objectId);case 8:e.prev=8,e.t0=e.catch(1),h.a.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n,i){return e.apply(this,arguments)}}(),D=function(){var e=Object(c.a)(u.a.mark((function e(t,n){var i,a,r,o,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=[],n&&0!==n.length){e.next=3;break}return e.abrupt("return",a);case 3:return r={areas:[j.a.SvPb.SearchArea.globalConstantItems],inspectionID:n[0],type:j.a.SvPb.ObjectSelectorType.allValueObjects,attribute:j.a.SvPb.ObjectAttributes.viewable,attributesAllowed:1},o=j.a.SvPb.GetObjectSelectorItemsRequest.create(r),e.next=7,t.request(o);case 7:return((null===(s=e.sent)||void 0===s||null===(i=s.tree)||void 0===i?void 0:i.children)||[]).forEach((function(e){"Global"===e.location&&(e.children||[]).forEach((function(e){a.push(e.location)}))})),e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),L=function(){function e(t){Object(r.a)(this,e),this.filterArrayValuesFromTree=function(e){var t,n,i=[];for(i.push(e);i.length>0;){var a,r,o;if((null===(a=t=i.pop())||void 0===a||!a.id)&&null!==(r=t)&&void 0!==r&&null!==(o=r.children)&&void 0!==o&&o.length){var s="";for(n=0;n<t.children.length;n+=1){if(s===t.children[n].id){t.children=[],t.id=s;break}t.children[n].id&&(s=t.children[n].id)}for(n=0;n<t.children.length;n+=1)i.push(t.children[n])}}return e},this.name="",this.inspections=[],this.inspectionIds=[],this.inspectionNames=[],this.idNameMappings=new Map,this.objectSelectorItems=new Map,this.remotelySettableObjectSelectorItems=new Map,this.objectSelectorImages=new Map,this.versions={},this.inspectionToolsetMappings=new Map,this.globalConstants=[],0!==Object.keys(t).length&&Object.assign(this,t)}return Object(o.a)(e,[{key:"discoverInspectionsWithConfigName",value:function(){var e=Object(c.a)(u.a.mark((function e(t){var n,i,r,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.isConnected()){e.next=3;break}return h.a.error("Protobuf is invalid!"),e.abrupt("return");case 3:return e.prev=3,e.next=6,Promise.all([I(t),w(t)]);case 6:n=e.sent,i=Object(a.a)(n,2),r=i[0],o=i[1],this.name=r,this.inspections=o,this.inspectionIds=E(o),this.inspectionNames=S(o),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(3),h.a.error({err:e.t0},"Error while discovering configuration"),e.abrupt("return");case 18:case"end":return e.stop()}}),e,this,[[3,14]])})));return function(t){return e.apply(this,arguments)}}()},{key:"discoverPartsInBackground",value:function(){var e=Object(c.a)(u.a.mark((function e(t){var n,i,r,o,s,c,l,d,p,v,b;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.isConnected()){e.next=3;break}return h.a.error("Protobuf is invalid!"),e.abrupt("return");case 3:return e.prev=3,e.next=6,Promise.all([N(t,j.a.SvPb.GetSVObserverVersionRequest),N(t,j.a.SvPb.GetGatewayVersionRequest),N(t,j.a.SvPb.GetWebAppVersionRequest),A(t,this.inspectionIds,this.inspectionNames,k),A(t,this.inspectionIds,this.inspectionNames,T),A(t,this.inspectionIds,this.inspectionNames,V),A(t,this.inspectionIds,this.inspectionNames,C),M(t),D(t,this.inspectionIds)]);case 6:n=e.sent,i=Object(a.a)(n,9),r=i[0],o=i[1],s=i[2],c=i[3],l=i[4],d=i[5],p=i[6],v=i[7],b=i[8],this.versions={svObserverVersion:r,gatewayVersion:o,webAppVersion:s},this.idNameMappings=c,this.objectSelectorItems=l,this.remotelySettableObjectSelectorItems=d,this.objectSelectorImages=p,this.inspectionToolsetMappings=v,this.globalConstants=b,e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(3),h.a.error({err:e.t0},"Error while discovering configuration"),e.abrupt("return");case 21:case"end":return e.stop()}}),e,this,[[3,17]])})));return function(t){return e.apply(this,arguments)}}()},{key:"getSvObserverVersion",value:function(){return this.versions&&this.versions.svObserverVersion}},{key:"getGatewayVersion",value:function(){return this.versions&&this.versions.gatewayVersion}},{key:"getWebAppVersion",value:function(){return this.versions&&this.versions.webAppVersion}},{key:"getInspections",value:function(){return this.inspections}},{key:"getInspectionName",value:function(e){var t=(this.inspections||[]).find((function(t){return t.id===e}));return t&&t.name}},{key:"getValueNameForId",value:function(e,t){"string"===typeof e&&(e=parseInt(e,10));var n=this.idNameMappings.get(e);if(n){"string"===typeof t&&(t=parseInt(t,10));var i=n.get(t);if(i)return i.fullLocation}return null}},{key:"setIdNameMappings",value:function(){var e=Object(c.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.isConnected()){e.next=3;break}return h.a.error("Protobuf is invalid!"),e.abrupt("return");case 3:if(0!==this.idNameMappings.size||0===this.inspectionIds.length||0===this.inspectionNames.length){e.next=10;break}return e.next=6,A(t,this.inspectionIds,this.inspectionNames,k);case 6:n=e.sent,this.idNameMappings=n,e.next=11;break;case 10:h.a.warn("setIdNameMappings: id name mappings already set");case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getObjectSelectorItemsForInspection",value:function(e){return this.objectSelectorItems.get(e)}},{key:"setObjectSelectorItems",value:function(){var e=Object(c.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.isConnected()){e.next=3;break}return h.a.error("Protobuf is invalid!"),e.abrupt("return");case 3:if(0!==this.objectSelectorItems.size||0===this.inspectionIds.length||0===this.inspectionNames.length){e.next=10;break}return e.next=6,A(t,this.inspectionIds,this.inspectionNames,T);case 6:n=e.sent,this.objectSelectorItems=n,e.next=11;break;case 10:h.a.warn("setObjectSelectorItems: object selector items already set");case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRemotelySettableObjectSelectorItemsForInspection",value:function(e){return this.remotelySettableObjectSelectorItems.get(e)}},{key:"getObjectSelectorImagesForInspection",value:function(e){return this.objectSelectorImages.get(e)}},{key:"setObjectSelectorImages",value:function(){var e=Object(c.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.isConnected()){e.next=3;break}return h.a.error("Protobuf is invalid!"),e.abrupt("return");case 3:if(0!==this.objectSelectorImages.size||0===this.inspectionIds.length||0===this.inspectionNames.length){e.next=10;break}return e.next=6,A(t,this.inspectionIds,this.inspectionNames,C);case 6:n=e.sent,this.objectSelectorImages=n,e.next=11;break;case 10:h.a.warn("setObjectSelectorImages: object selector images already set");case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"setInspectionIdToToolsetMappings",value:function(){var e=Object(c.a)(u.a.mark((function e(t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===this.inspectionToolsetMappings.size?this.resetInspectionIdToToolsetMappings(t):h.a.warn("setInspectionIdToToolsetMappings: mappings already done");case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"resetInspectionIdToToolsetMappings",value:function(){var e=Object(c.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.isConnected()){e.next=3;break}return h.a.error("Protobuf is invalid!"),e.abrupt("return");case 3:return e.next=5,M(t);case 5:n=e.sent,this.inspectionToolsetMappings=n;case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateInspectionIdToToolsetMappings",value:function(){var e=Object(c.a)(u.a.mark((function e(t,n){var a,r,o,c,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.isConnected()){e.next=3;break}return h.a.error("Protobuf is invalid!"),e.abrupt("return");case 3:return e.next=5,P(t);case 5:if(a=e.sent,Object(m.a)((function(){return a.tree.children}))){e.next=9;break}return h.a.error("configTree is not valid"),e.abrupt("return");case 9:r=Object(i.a)(a.tree.children),e.prev=10,r.s();case 12:if((o=r.n()).done){e.next=31;break}if(c=o.value,(l=c.objectID)!==n){e.next=29;break}return d=0,e.prev=17,e.next=20,R(t,l,c.name);case 20:d=e.sent,e.next=27;break;case 23:return e.prev=23,e.t0=e.catch(17),h.a.error("Could not load tool set id for ".concat(c.name," (").concat(l,")")),e.abrupt("return");case 27:return this.inspectionToolsetMappings.set(n,Object(s.a)(Object(s.a)({},c),{},{toolSetId:d})),e.abrupt("return");case 29:e.next=12;break;case 31:e.next=36;break;case 33:e.prev=33,e.t1=e.catch(10),r.e(e.t1);case 36:return e.prev=36,r.f(),e.finish(36);case 39:case"end":return e.stop()}}),e,this,[[10,33,36,39],[17,23]])})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"loadFromCache",value:function(){var t=Object(c.a)(u.a.mark((function t(){var n,i,a,r,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"",i=localStorage.getItem(f.a),a=i.split(","),n=a.map((function(e){return localStorage.getItem(e)})).join(),t.next=7,Object(d.decompressFromUTF16)(n);case 7:return r=t.sent,o=JSON.parse(r,b),t.abrupt("return",new e(Object(s.a)({},o)));case 12:return t.prev=12,t.t0=t.catch(0),h.a.error({err:t.t0},"Error loading configuration"),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}()},{key:"saveToCache",value:function(){var e=Object(c.a)(u.a.mark((function e(t,n){var i,a,r,o,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(d.compressToUTF16)(JSON.stringify(t,v));case 2:for(i=e.sent,a=g(i,1e6),r=[],o=0;o<a.length;o++)s=a[o],c="".concat(f.b).concat(o),localStorage.setItem(c,s),r.push(c);localStorage.setItem(f.a,r.join(",")),localStorage.setItem(f.c,JSON.stringify(n));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"extractConfigNameFromFileName",value:function(e){return O(e)}}]),e}()},15:function(e,t,n){"use strict";n.d(t,"M",(function(){return o})),n.d(t,"L",(function(){return l})),n.d(t,"N",(function(){return d})),n.d(t,"J",(function(){return b})),n.d(t,"C",(function(){return f})),n.d(t,"g",(function(){return h})),n.d(t,"I",(function(){return m})),n.d(t,"x",(function(){return g})),n.d(t,"n",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"z",(function(){return I})),n.d(t,"p",(function(){return w})),n.d(t,"i",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"B",(function(){return y})),n.d(t,"r",(function(){return k})),n.d(t,"j",(function(){return x})),n.d(t,"a",(function(){return T})),n.d(t,"y",(function(){return V})),n.d(t,"o",(function(){return C})),n.d(t,"h",(function(){return N})),n.d(t,"d",(function(){return A})),n.d(t,"D",(function(){return P})),n.d(t,"s",(function(){return M})),n.d(t,"k",(function(){return R})),n.d(t,"f",(function(){return D})),n.d(t,"G",(function(){return L})),n.d(t,"v",(function(){return F})),n.d(t,"m",(function(){return _})),n.d(t,"F",(function(){return U})),n.d(t,"t",(function(){return B})),n.d(t,"A",(function(){return H})),n.d(t,"q",(function(){return z})),n.d(t,"u",(function(){return W})),n.d(t,"e",(function(){return q})),n.d(t,"l",(function(){return G})),n.d(t,"H",(function(){return Y})),n.d(t,"w",(function(){return K})),n.d(t,"E",(function(){return X})),n.d(t,"K",(function(){return J}));var i=n(11),a=n(3),r=n(10),o=function(e){var t=new Set;return s(e,t,""),t},s=function e(t,n,i){for(var a in t.nested){var o=t.nested[a],s=a.toLowerCase(),l=i?"".concat(i,".").concat(s):s;if(!o.nested&&o.fields)if("webapp.view"===l)for(var u=r.a.SvPb.lookup("ViewType"),d=0;d<Object.keys(u.values).length;d++){var v="".concat(l,"[type=").concat(p(d),"]");c(n,v,o.fields)}else c(n,l,o.fields);else e(o,n,l)}},c=function(e,t,n){Object.keys(n).forEach((function(i){var a=n[i];if("bool"===a.type){var r=a.name.toLowerCase();e.add("".concat(t,".").concat(r))}}))},l=function e(t,n,i){for(var a in t){var r=t[a];if(-1===a.indexOf("$")){var o=i?"".concat(i,".").concat(a):a;if(Array.isArray(r)){if("webapp.view"===o)for(var s=0;s<r.length;++s){var c=r[s];e(c,n,"".concat(o,"[type=").concat(p(c.type),"]"))}}else"object"===typeof r?e(r,n,o):"boolean"===typeof r&&r&&n.add(o)}}},u=function e(t,n,r){if(t.length){var o=t.shift();if(t.length>0)if(o.startsWith("view[")){var s=v(o.substring(o.indexOf("[type=")+6,o.indexOf("]")));n.view||(n.view=[]);var c=n.view.findIndex((function(e){return e.type===s}));-1!==c?n.view[c]=Object(a.a)(Object(a.a)({},n.view[c]),{},Object(i.a)({},t[0],!0)):n.view.push(Object(i.a)({type:s},t[0],!0))}else Object(n[o])!==n[o]&&(n[o]={}),e(t,n[o],r);else n[o]=!0}},d=function(e){var t=[];return e.forEach((function(e,n){var i={};e.groupPermissions.forEach((function(e){u(e.split("."),i,i[e])})),t.push({name:n,permissions:i})})),t},p=function(e){switch(e){case 0:return"AnyView";case 1:return"ImageView";case 2:return"ListView";case 3:return"ImageStripView";case 4:return"ParameterView";case 5:return"ToolSetView";default:return""}},v=function(e){switch(e){case"AnyView":return 0;case"ImageView":return 1;case"ListView":return 2;case"ImageStripView":return 3;case"ParameterView":return 4;case"ToolSetView":return 5;default:return 0}},b=function(e){return!!e&&e.has("webapp.configuration.save")},f=function(e){return!!e&&e.has("webapp.logs.read")},h=function(e){return!!e&&e.has("webapp.viewset.add")},m=function(e){return!!e&&e.has("webapp.viewset.read")},g=function(e){return!!e&&e.has("webapp.viewset.edit")},j=function(e){return!!e&&e.has("webapp.viewset.remove")},O=function(e){return!!e&&(e.has("webapp.view[type=ImageView].add")||e.has("webapp.view[type=AnyView].add"))},I=function(e){return!!e&&(e.has("webapp.view[type=ImageView].read")||e.has("webapp.view[type=AnyView].read"))},w=function(e){return!!e&&(e.has("webapp.view[type=ImageView].edit")||e.has("webapp.view[type=AnyView].edit"))},E=function(e){return!!e&&(e.has("webapp.view[type=ImageView].remove")||e.has("webapp.view[type=AnyView].remove"))},S=function(e){return!!e&&(e.has("webapp.view[type=ListView].add")||e.has("webapp.view[type=AnyView].add"))},y=function(e){return!!e&&(e.has("webapp.view[type=ListView].read")||e.has("webapp.view[type=AnyView].read"))},k=function(e){return!!e&&(e.has("webapp.view[type=ListView].edit")||e.has("webapp.view[type=AnyView].edit"))},x=function(e){return!!e&&(e.has("webapp.view[type=ListView].remove")||e.has("webapp.view[type=AnyView].remove"))},T=function(e){return!!e&&(e.has("webapp.view[type=ImageStripView].add")||e.has("webapp.view[type=AnyView].add"))},V=function(e){return!!e&&(e.has("webapp.view[type=ImageStripView].read")||e.has("webapp.view[type=AnyView].read"))},C=function(e){return!!e&&(e.has("webapp.view[type=ImageStripView].edit")||e.has("webapp.view[type=AnyView].edit"))},N=function(e){return!!e&&(e.has("webapp.view[type=ImageStripView].remove")||e.has("webapp.view[type=AnyView].remove"))},A=function(e){return!!e&&(e.has("webapp.view[type=ParameterView].add")||e.has("webapp.view[type=AnyView].add"))},P=function(e){return!!e&&(e.has("webapp.view[type=ParameterView].read")||e.has("webapp.view[type=AnyView].read"))},M=function(e){return!!e&&(e.has("webapp.view[type=ParameterView].edit")||e.has("webapp.view[type=AnyView].edit"))},R=function(e){return!!e&&(e.has("webapp.view[type=ParameterView].remove")||e.has("webapp.view[type=AnyView].remove"))},D=function(e){return!!e&&(e.has("webapp.view[type=ToolSetView].add")||e.has("webapp.view[type=AnyView].add"))},L=function(e){return!!e&&(e.has("webapp.view[type=ToolSetView].read")||e.has("webapp.view[type=AnyView].read"))},F=function(e){return!!e&&(e.has("webapp.view[type=ToolSetView].edit")||e.has("webapp.view[type=AnyView].edit"))},_=function(e){return!!e&&(e.has("webapp.view[type=ToolSetView].remove")||e.has("webapp.view[type=AnyView].remove"))},U=function(e){return!!e&&e.has("svobserver.mode.read")},B=function(e){return!!e&&e.has("svobserver.mode.edit")},H=function(e){return!!e&&e.has("svobserver.inspectionstate.read")},z=function(e){return!!e&&e.has("svobserver.inspectionstate.edit")},W=function(e){return!!e&&e.has("svobserver.tool.edit")},q=function(e){return!!e&&e.has("svobserver.tool.add")},G=function(e){return!!e&&e.has("svobserver.tool.remove")},Y=function(e){return!!e&&e.has("usermanagement.userpermissions.read")},K=function(e){return!!e&&e.has("usermanagement.userpermissions.edit")},X=function(e){return!!e&&e.has("svobserver.configuration.read")},J=function(e){return!!e&&e.has("svobserver.configuration.write")}},153:function(e,t,n){"use strict";t.a=n.p+"static/media/info.6a606506.svg"},154:function(e,t,n){"use strict";t.a=n.p+"static/media/overlay-list.d218d7a4.svg"},155:function(e,t,n){"use strict";t.a=n.p+"static/media/close.f005b782.svg"},156:function(e,t,n){"use strict";t.a=n.p+"static/media/clear.1114cb53.svg"},157:function(e,t,n){"use strict";t.a=n.p+"static/media/save.a6a0528c.svg"},158:function(e,t,n){"use strict";var i=n(19),a=n(17),r=n(26),o=n(30),s=n(0),c=n(168),l=n(8),u=(n(859),n(46)),d=n(128),p=n(1),v=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e,t=this.props,n=t.onClose,i=t.open,a=t.focusedViewType;switch(t.locale){case"en":case"de":case"es":default:e="/help/en/SVOWebApp_WebHelp.htm#cshid=".concat(d.a[a])}return Object(p.jsx)(u.a,{isFullscreen:!0,title:Object(p.jsx)(c.a,{id:"helpView"}),onClose:n,open:i,children:Object(p.jsx)("iframe",{className:"help-frame",title:"help",style:{width:"100%",height:"97%"},src:e})})}}]),n}(s.Component);v.defaultProps={open:!1,locale:"en"};t.a=Object(l.c)((function(e){return{focusedViewType:e.app.focusedViewType,locale:e.app.locale}}))(v)},164:function(e,t,n){"use strict";var i=n(0),a=n.n(i),r=n(168),o=(n(755),n(1)),s=function(e){var t=e.type,n=e.intlId;return a.a.createElement(t,{className:"heading"},Object(o.jsx)(r.a,{id:"".concat(n)||"none"}))};s.defaultProps={intlId:"none"},t.a=s},166:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(19),a=n(17),r=function(){function e(t){Object(i.a)(this,e),this.lockId=void 0,this.takeoverId=void 0,this.owner=void 0,this.takeoverUser=void 0,this.host="",this.lockDescription="",this.takeoverMessage="",this.status=0,this.lockedInSameAppInstance=!1,this.isTakeoverAttempt=!1,this.configAlreadyLocked=!1,this.isWaitingForResponse=!1,this.ownerRejectedTakeover=!1,0!==Object.keys(t).length&&Object.assign(this,t)}return Object(a.a)(e,[{key:"isLocked",value:function(){return 1===this.status}},{key:"isUnlocked",value:function(){return 0===this.status}},{key:"isSameUserAsOwner",value:function(e){return e.username===this.owner}},{key:"isLockedBySameUser",value:function(e){return this.isLocked()&&this.isSameUserAsOwner(e)}},{key:"isLockedByOtherUser",value:function(e){return this.isLocked()&&!this.isSameUserAsOwner(e)}},{key:"isLockedInDifferentAppInstance",value:function(){return this.isLocked()&&!this.lockedInSameAppInstance}},{key:"isTakeoverAttemptFromOtherUser",value:function(){return this.isTakeoverAttempt}},{key:"isConfigAlreadyLocked",value:function(){return this.configAlreadyLocked}},{key:"isWaitingForTakeoverResponse",value:function(){return this.isWaitingForResponse}},{key:"isOwnerRejectedTakeover",value:function(){return this.ownerRejectedTakeover}},{key:"resetTakeoverAttempt",value:function(){this.isTakeoverAttempt=!1}},{key:"resetAlertDialogFlags",value:function(){this.configAlreadyLocked=!1,this.ownerRejectedTakeover=!1}},{key:"handleLockAcquiredNotification",value:function(e){this.lockId=e.lockId,this.owner=e.user,this.host=e.host,this.lockDescription=e.description,this.status=1,this.lockedInSameAppInstance=!0,this.isWaitingForResponse=!1}},{key:"handleLockTakeoverNotification",value:function(e){this.takeoverId=e.takeoverId,this.takeoverMessage=e.message,this.takeoverUser=e.user,this.isTakeoverAttempt=!0}},{key:"handleLockReleasedNotification",value:function(){this.lockId=void 0,this.owner=void 0,this.host="0.0.0.0",this.lockDescription="",this.status=0}},{key:"handleLockAlreadyLockedNotification",value:function(e){this.lockId=e.lockId,this.owner=e.user,this.host=e.host,this.lockDescription=e.description,this.status=1,this.configAlreadyLocked=!0}},{key:"handleLockTakeoverRejectedNotification",value:function(){this.isWaitingForResponse=!1,this.ownerRejectedTakeover=!0}},{key:"waitForTakeoverResponse",value:function(){this.isWaitingForResponse=!0}}]),e}()},186:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return f}));var i=n(12),a=n(5),r=n.n(a),o=n(250),s=n.n(o),c=n(452),l=n(453),u=n.n(l),d=n(126),p=n(7),v=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var i,a,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(d.a.authEndpoint,"/login"),e.next=3,s.a.post(i,{username:t,password:n});case 3:return a=e.sent,o=a.data.accessToken,e.next=7,b(o);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),b=function(){var e=Object(i.a)(r.a.mark((function e(t){var n,i,a,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(d.a.authEndpoint,"/auth"),e.next=3,s.a.post(n,{accessToken:t});case 3:return i=e.sent,a=i.data.authToken,o=Object(c.a)(a),l=u()(o,["email","fullname","username"]),e.abrupt("return",{authToken:a,user:l});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return Object(i.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(p.a.removeProxy(),!e){t.next=11;break}return n="".concat(d.a.authEndpoint,"/logout"),t.prev=3,t.next=6,s.a.post(n,{});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(3),p.a.warn({err:t.t0},"Error while calling /logout");case 11:case"end":return t.stop()}}),t,null,[[3,8]])})))}},187:function(e,t,n){"use strict";t.a=n.p+"static/media/pause.ea3fe966.svg"},188:function(e,t,n){"use strict";t.a=n.p+"static/media/play.f6ca6855.svg"},190:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i="lockAcquisitionRequest"},236:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(167),a=n(7),r=n(27),o=(n(668),n(1)),s=function(e){var t=e.id,n=e.intlId,s=e.iconUrl,c=e.enabled,l=e.onClickHandler,u=e.intlIdAlternative,d=e.iconUrlAlternative,p=e.onClickHandlerAlternative,v=e.showAlternative;n&&s&&l&&(!v||u&&d&&p)||a.a.error("ToggleButton component did not receive required parameters");var b=Object(i.a)();return v?Object(o.jsx)(r.a,{tooltip:b.messages["".concat(u)],onClick:function(){null===p||void 0===p||p()},iconUrl:null!==d&&void 0!==d?d:"",enabled:c},t):Object(o.jsx)(r.a,{tooltip:b.messages["".concat(n)],onClick:function(){return null===l||void 0===l?void 0:l()},iconUrl:s,enabled:c},n)}},237:function(e,t,n){"use strict";t.a=n.p+"static/media/help.64b70362.svg"},241:function(e,t,n){"use strict";t.a=n.p+"static/media/download.c1bdaf13.svg"},242:function(e,t,n){"use strict";t.a=n.p+"static/media/show.6ac709c0.svg"},244:function(e,t,n){"use strict";t.a=n.p+"static/media/image.ab9e385a.svg"},246:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(12),a=n(19),r=n(17),o=n(5),s=n.n(o),c=function(){function e(t){var n=t.history,i=t.trigger,r=t.isReject;Object(a.a)(this,e),this.history=n,this.trigger=i,this.isReject=r,this.useCount=0,this.images=new Map,this.values=new Map}return Object(r.a)(e,[{key:"getImage",value:function(e){return this.checkNotReleasedYet(),this.images.get(e)}},{key:"getImages",value:function(e){var t=this;return this.checkNotReleasedYet(),(e||[]).map((function(e){return t.images.get(e)}))}},{key:"getValue",value:function(e){return this.checkNotReleasedYet(),this.values.get(e)}},{key:"getValuesAsString",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"<UNAVAILABLE>";return this.checkNotReleasedYet(),(e||[]).map((function(e){var i=t.values.has(e)&&t.values.get(e).value;return void 0===i&&(i=n),{id:e,value:i.toString()}}))}},{key:"buildUrl",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:512,i=atob(e),a=[],r=0;r<i.length;r+=n){for(var o=i.slice(r,r+n),s=new Array(o.length),c=0;c<o.length;c++)s[c]=o.charCodeAt(c);var l=new Uint8Array(s);a.push(l)}var u=new Blob(a,{type:t});return URL.createObjectURL(u)}},{key:"addData",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var n,i,a,r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.images,i=t.values,this.checkNotReleasedYet(),a=[],n.forEach((function(e){var t=e.id,n=e.image,i=e.overlays;!r.images.has(t)&&n&&n.rgbData&&a.push(r.initImage(t,n,i))})),i.forEach((function(e){var t=e.id,n=e.value;if(!r.values.has(t)&&n){var i=r.getValueFromVariant(n);r.values.set(t,{id:t,value:i})}})),e.next=7,Promise.all(a);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"initImage",value:function(){var e=Object(i.a)(s.a.mark((function e(t,n,i){var a,r,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.buildImage(n);case 2:return a=e.sent,r=a.domImage,o=a.url,e.next=7,this.initOverlayImages(i);case 7:c=e.sent,this.images.set(t,{id:t,image:n,domImage:r,overlays:i,overlayImages:c,url:o});case 9:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}()},{key:"buildImage",value:function(e){var t=e.rgbData,n=e.type;return new Promise((function(e,i){var a=new Uint8Array(t),r=new Blob([a],{type:n||"image/bmp"}),o=self.URL||self.webkitURL||self,s=o.createObjectURL(r),c=new Image;c.onload=function(){e({domImage:c,url:s})},c.onerror=function(e){o.revokeObjectURL(s),i(e)},c.src=s}))}},{key:"initOverlayImages",value:function(e){var t=this,n=[];return(e&&e.overlays||[]).forEach((function(e){(e.shapeGroups||[]).forEach((function(e){(e.shapes||[]).forEach((function(e){e&&e.image&&e.image.image&&e.image.image.rgbData&&n.push(t.buildImage(e.image.image).then((function(t){var n=t.domImage,i=t.url;return e.image.domImage=n,e.image.url=i,e.image})))}))}))})),Promise.all(n)}},{key:"getValueFromVariant",value:function(e){if(e)return e[e.data]}},{key:"lock",value:function(){this.useCount++}},{key:"release",value:function(){var e;null===(e=this.history)||void 0===e||e.releaseProduct(this.trigger)}},{key:"releaseImpl",value:function(){if(this.useCount<=0)throw new Error("Invalid use count ".concat(this.useCount," in Product::release()"));return this.useCount--,!(this.useCount>0)&&(this.releaseImages(),this.images.clear(),this.values.clear(),this.history=null,this.released=!0,!0)}},{key:"releaseImages",value:function(){var e=this;this.images.forEach((function(t){e.releaseImage(t),t.overlayImages.forEach((function(t){e.releaseImage(t)}))}))}},{key:"releaseImage",value:function(e){(e.domImage&&(e.domImage.onload=void 0,e.domImage.onerror=void 0,e.domImage.remove(),e.domImage=null),e.url)&&(self.URL||self.webkitURL||self).revokeObjectURL(e.url)}},{key:"checkNotReleasedYet",value:function(){if(this.released)throw new Error("Can not use Product after releasing it!")}}]),e}()},247:function(e,t,n){"use strict";t.a=n.p+"static/media/logo.a5b69c2a.svg"},248:function(e,t,n){"use strict";n(0),n(870);var i=n(1);t.a=function(e){var t=e.src,n=e.title;return Object(i.jsx)("div",{className:"logo-wrapper",children:Object(i.jsx)("img",{src:t,alt:n})})}},253:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n(28),a=n(10),r=function(e){switch(e){case a.a.SvPb.DeviceModeType.available:return i.a.unknownMode.id;case a.a.SvPb.DeviceModeType.runMode:return i.a.runMode.id;case a.a.SvPb.DeviceModeType.stopMode:return i.a.stopMode.id;case a.a.SvPb.DeviceModeType.regressionMode:return i.a.regressionMode.id;case a.a.SvPb.DeviceModeType.testMode:return i.a.testMode.id;case a.a.SvPb.DeviceModeType.editMode:return i.a.editMode.id;case a.a.SvPb.DeviceModeType.modeChanging:return i.a.unknownMode.id;default:throw new Error("Unsupported device mode ".concat(e))}},o=function(e){switch(e){case i.a.unknownMode.id:return a.a.SvPb.DeviceModeType.available;case i.a.runMode.id:return a.a.SvPb.DeviceModeType.runMode;case i.a.stopMode.id:return a.a.SvPb.DeviceModeType.stopMode;case i.a.regressionMode.id:return a.a.SvPb.DeviceModeType.regressionMode;case i.a.testMode.id:return a.a.SvPb.DeviceModeType.testMode;case i.a.editMode.id:return a.a.SvPb.DeviceModeType.editMode;default:throw new Error("Unsupported mode ".concat(e))}},s=function(e){switch(e){case"trace":return a.a.SvPb.LogSeverity.trace;case"debug":return a.a.SvPb.LogSeverity.debug;case"info":return a.a.SvPb.LogSeverity.info;case"warn":return a.a.SvPb.LogSeverity.warning;case"error":default:return a.a.SvPb.LogSeverity.error}}},27:function(e,t,n){"use strict";var i=n(3),a=n(935),r=(n(666),n(1));t.a=function(e){var t=e.iconUrl,n=e.onClick,o=e.tooltip,s=e.style,c=void 0===s?{}:s,l=e.enabled,u=void 0===l||l;return Object(r.jsx)("div",{className:"icon-button-wrapper",style:{pointerEvents:u?"auto":"none",opacity:u?"1.0":"0.3"},children:Object(r.jsx)(a.a,{title:null!==o&&void 0!==o?o:"",children:Object(r.jsx)("button",{style:Object(i.a)(Object(i.a)({},c),{},{backgroundImage:"url(".concat(t,")"),backgroundPosition:"center",backgroundSize:"100% 100%"}),onClick:n,className:"icon-button"})})})}},28:function(e,t,n){"use strict";var i=n(57),a=n(237),r=n.p+"static/media/regression.f027695f.svg",o=n.p+"static/media/run.eb40f6de.svg",s=n.p+"static/media/stop.44c5645f.svg",c=n.p+"static/media/test.47d9c7ad.svg",l={unknownMode:{id:"UNKNOWN_MODE",iconSrc:a.a,text:""},runMode:{id:"RUN_MODE",iconSrc:o,text:""},stopMode:{id:"STOP_MODE",iconSrc:s,text:""},regressionMode:{id:"REGRESSION_MODE",iconSrc:r,text:""},testMode:{id:"TEST_MODE",iconSrc:c,text:""},editMode:{id:"EDIT_MODE",iconSrc:i.a,text:""}};t.a=l},35:function(e,t,n){"use strict";n.d(t,"g",(function(){return fi})),n.d(t,"d",(function(){return hi})),n.d(t,"f",(function(){return mi})),n.d(t,"e",(function(){return gi})),n.d(t,"c",(function(){return ji})),n.d(t,"a",(function(){return Ii})),n.d(t,"b",(function(){return wi})),n.d(t,"h",(function(){return Ei}));var i=n(17),a=n(19),r=n(11),o=n(3),s=n(0),c=n.n(s),l=n(41),u=n.n(l),d=n(8),p=n(9),v=n(15),b=n(21),f=n(6),h=n(187),m=n(188),g=n(49),j=(n(670),n(1)),O=function(e){var t=e.children,n=e.style;return Object(j.jsx)("div",{className:"container",style:n,children:t})},I=n(69),w=n(10),E=n(28),S=n(7),y=function(e){var t=e.drawTarget,n=e.zoomFactor,i=e.overlays,a=e.boundingCoordinates,r=e.width,o=e.height,s=e.currentMode;if(i&&0!==i.length){var c=t.getContext("2d");n=n||1,i&&i.length>0&&(c.setLineDash([]),i.forEach((function(e){var t=e.color&&e.color.value||0,i=N(t);c.fillStyle=i;var l=10/n;switch(c.lineWidth=1/n,c.font=l+"px Arial",c.strokeStyle=i,e.boundingShape.shape){case w.a.SvPb.OverlayBoundingShape.fields.rect.name:k(c,n,l,i,e,a,s);break;case w.a.SvPb.OverlayBoundingShape.fields.slice.name:T(c,e,a);break;case w.a.SvPb.OverlayBoundingShape.fields.perspective.name:C(c,n,e,a,r,o);break;default:return void S.a.error("Unknown boundingShape received")}})))}},k=function(e,t,n,i,a,r,o){var s=Math.abs(r.minX)+a.boundingShape.rect.x.value||0,c=Math.abs(r.minY)+a.boundingShape.rect.y.value||0,l=a.boundingShape.rect.w.value||0,u=a.boundingShape.rect.h.value||0,d=a.displayBounding,p=a.shapeGroups,v=a.name,b=a.boundingShape.rect.angle&&a.boundingShape.rect.angle.value;e.fillText(v,s,c-10/t),p&&p.forEach((function(n){2===n.detailLevel&&o===E.a.runMode.id||n.shapes.forEach((function(n){var a=n.color&&n.color.value,o=N(a),d=n.shape,p=b&&b>0&&d!==w.a.SvPb.OverlayShape.fields.arrow.name;switch(p&&x(e,b,s,c),d){case w.a.SvPb.OverlayShape.fields.arrow.name:var v=Math.abs(r.minX)+n.arrow.x1.value||0,f=Math.abs(r.minY)+n.arrow.y1.value||0,h=Math.abs(r.minX)+n.arrow.x2.value||0,m=Math.abs(r.minY)+n.arrow.y2.value||0,g=function(e,t){return 180*Math.atan2(t,e)/Math.PI}(h-v,m-f);e.beginPath(),e.strokeStyle=o||i,e.moveTo(v,f),e.lineTo(h,m),e.moveTo(h,m);var j=Math.PI*(g+135)/180;e.lineTo(h+15*Math.cos(j),m+15*Math.sin(j)),e.moveTo(h,m);var O=Math.PI*(g-135)/180;e.lineTo(h+15*Math.cos(O),m+15*Math.sin(O)),e.stroke(),e.closePath();break;case w.a.SvPb.OverlayShape.fields.rectArray.name:e.beginPath(),e.strokeStyle=o||i,n.rectArray.rectArray.forEach((function(t){var n=-t.angle;n&&n<0&&x(e,n,s+t.x,c+t.y),e.rect(s+t.x||0,c+t.y||0,t.w||0,t.h||0),n&&n<0&&e.restore()})),e.stroke(),e.closePath();break;case w.a.SvPb.OverlayShape.fields.graph.name:if(e.beginPath(),e.strokeStyle=o||i,n.graph.x.length===n.graph.y.length&&n.graph.x.length>0){e.moveTo(s+n.graph.x[0]*l/n.graph.maxValueX,c+n.graph.y[0]*u/n.graph.maxValueY);for(var I=0;I<n.graph.x.length;I++)e.lineTo(s+n.graph.x[I]*l/n.graph.maxValueX,c+u-n.graph.y[I]*u/n.graph.maxValueY)}e.stroke(),e.closePath();break;case w.a.SvPb.OverlayShape.fields.marker.name:if(e.beginPath(),e.strokeStyle=o||i,1===n.marker.orientationType)if(1===n.marker.sizeType){e.moveTo(s+n.marker.value.value,c+u/2-10),e.lineTo(s+n.marker.value.value,c+u/2+10)}else e.moveTo(s+n.marker.value.value*l/n.marker.maxValue+1,c),e.lineTo(s+n.marker.value.value*l/n.marker.maxValue+1,c+u);else if(1===n.marker.sizeType){e.moveTo(s+l/2-10,c+n.marker.value.value),e.lineTo(s+l/2+10,c+n.marker.value.value)}else e.moveTo(s,c+u-n.marker.value.value*u/n.marker.maxValue+1),e.lineTo(s+l,c+u-n.marker.value.value*u/n.marker.maxValue+1);e.stroke(),e.closePath();break;case w.a.SvPb.OverlayShape.fields.markers.name:if(e.beginPath(),e.strokeStyle=o||i,1===n.markers.orientationType)if(1===n.markers.sizeType)for(var E=0;E<n.markers.value.length;E++)e.moveTo(s+n.markers.value[E],c+u/2-10),e.lineTo(s+n.markers.value[E],c+u/2+10);else for(var y=0;y<n.markers.value.length;y++)e.moveTo(s+n.markers.value[y],c),e.lineTo(s+n.markers.value[y],c+u);else if(1===n.markers.sizeType)for(var k=0;k<n.markers.value.length;k++)e.moveTo(s+l/2-10,c+n.markers.value[k]),e.lineTo(s+l/2+10,c+n.markers.value[k]);else for(var T=0;T<n.markers.value.length;T++)e.moveTo(s,c+n.markers.value[T]),e.lineTo(s+l,c+n.markers.value[T]);e.stroke(),e.closePath();break;case w.a.SvPb.OverlayShape.fields.blockMarker.name:for(var V=n.blockMarker.colors,C=n.blockMarker.changePos,A=0,P=0;P<=C.length;P++)e.beginPath(),e.lineWidth=10/t,e.strokeStyle=N(V[P%V.length]),e.moveTo(s+A,c+u/2),P<C.length?e.lineTo(s+C[P],c+u/2):e.lineTo(s+l,c+u/2),A=C[P],e.stroke(),e.closePath(),e.lineWidth=1/t;break;case w.a.SvPb.OverlayShape.fields.image.name:var M=n.image,R=M.domImage,D=M.x,L=M.y,F=M.w,_=M.h;R&&e.drawImage(R,s+(D&&D.value||0),c+(L&&L.value||0),F&&F.value||100,_&&_.value||100);break;default:S.a.warn("Received unknown overlay shape",d)}p&&e.restore()}))})),d&&(b&&b>0&&x(e,b,s,c),e.save(),e.beginPath(),e.strokeStyle=i,e.rect(s,c,l,u),e.stroke(),e.closePath(),b&&b>0&&e.restore()),e.restore();var f=s+e.measureText(v).width;F(r,s,c-n,Math.max(s+l,f),c+u)},x=function(e,t,n,i){e.save(),e.translate(n,i),e.rotate(t*Math.PI/180),e.translate(-n,-i)},T=function(e,t,n){var i=t.name,a=Math.abs(n.minX)+t.boundingShape.slice.centerX.value,r=Math.abs(n.minY)+t.boundingShape.slice.centerY.value,o=t.boundingShape.slice.innerRadius.value,s=t.boundingShape.slice.outerRadius.value,c=V(t.boundingShape.slice.endAngle.value),l=V(t.boundingShape.slice.startAngle.value);e.fillText(i,a-20,r+20),e.beginPath(),l-c<=2*Math.PI?(e.arc(a,r,o,c,l),e.lineTo(a,r),e.arc(a,r,s,c,l),e.lineTo(a,r)):(e.arc(a,r,o,c,c+1.99*Math.PI),e.arc(a,r,o+1,c+1.99*Math.PI,c+2*Math.PI),e.arc(a,r,o+2,c+2*Math.PI,c+2.01*Math.PI),e.arc(a,r,o+3,c+2.01*Math.PI,l),e.lineTo(a,r),e.arc(a,r,s,c,c+1.99*Math.PI),e.arc(a,r,s+1,c+1.99*Math.PI,c+2*Math.PI),e.arc(a,r,s+2,c+2*Math.PI,c+2.01*Math.PI),e.arc(a,r,s+3,c+2.01*Math.PI,l),e.lineTo(a,r)),e.stroke(),e.closePath();var u=a-20+e.measureText(i).width;F(n,a-s,r-s,Math.max(a+s,u),r+s)},V=function(e){return(360-e)*Math.PI/180},C=function(e,t,n,i,a,r){var o=n.name,s=e.measureText(o).width;e.fillText(o,a/2-s/2,50);var c=Math.abs(i.minX)||0,l=Math.abs(i.minY)||0,u=a||0,d=r||0,p=n.boundingShape.perspective.offset&&n.boundingShape.perspective.offset.value,v=n.boundingShape.perspective.orientation;0===v&&(e.moveTo(c,l+d/2),e.lineTo(c+p,l+1/t),e.lineTo(c+u-p,l+1/t),e.lineTo(c+u,l+d/2),e.lineTo(c+u-p,l+d-1/t),e.lineTo(c+p,l+d-1/t),e.lineTo(c,l+d/2)),1===v&&(e.moveTo(c+1/t,l+p),e.lineTo(c+u/2,l),e.lineTo(c+u-1/t,l+p),e.lineTo(c+u-1/t,l+d-p),e.lineTo(c+u/2,l+d),e.lineTo(c+1/t,l+d-p),e.lineTo(c+1/t,l+p)),e.stroke(),e.closePath()},N=function(e){if("number"!==typeof e||isNaN(e))return S.a.debug("Could not parse value into color."),"pink";var t=e>>8&255,n=e>>16&255;return"rgba(".concat(255&e,", ").concat(t,", ").concat(n,", ").concat(1,")")},A=function(e){var t=e.overlay,n=e.product,i=e.fontSize,a=e.boundingCoordinates,r=e.dispatch,o={x:0,y:0,width:0,height:0};R(n,t,o,r);var s=M(t.label,i);F(a,o.x,o.y-2*i,Math.max(o.x+o.width,o.x+s),o.y+o.height)},P=function(e){var t=e.overlay,n=e.fontSize,i=e.boundingCoordinates,a={x:0,y:0,width:0,height:0};D(t,a);var r=M(t.name,n);F(i,a.x,a.y-2*n,Math.max(a.x+a.width,a.x+r),a.y+a.height)},M=function(e,t){var n=document.createElement("canvas").getContext("2d");return n.font=t+"px Arial",n.measureText(e).width},R=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},a=Number(_(e,t.offsetLeftVariable))||t.offsetLeft,r=Number(_(e,t.xVariable))||t.x;n.x=r+a;var o=Number(_(e,t.offsetTopVariable))||t.offsetTop,s=Number(_(e,t.yVariable))||t.y;n.y=s+o,n.width=Number(_(e,t.widthVariable))||t.width,n.height=Number(_(e,t.heightVariable))||t.height,0!==t.maxHeightFallback&&0!==t.maxWidthFallback&&0!==t.minHeightFallback&&0!==t.minWidthFallback&&(n.x<t.minWidthFallback&&(n.x=t.minWidthFallback,i(Object(p.o)("X","".concat(t.minWidthFallback,"  -   ").concat(t.maxWidthFallback)))),n.x>t.maxWidthFallback&&(n.x=t.maxWidthFallback,i(Object(p.o)("X","".concat(t.minWidthFallback,"  -   ").concat(t.maxWidthFallback)))),n.y<t.minHeightFallback&&(n.y=t.minHeightFallback,i(Object(p.o)("Y","".concat(t.minHeightFallback,"  -   ").concat(t.maxHeightFallback)))),n.y>t.maxHeightFallback&&(n.y=t.maxHeightFallback,i(Object(p.o)("Y","".concat(t.minHeightFallback,"  -   ").concat(t.maxHeightFallback)))))},D=function(e,t){e.boundingShape.rect&&(t.x=e.boundingShape.rect.x.value||0,t.y=e.boundingShape.rect.y.value||0,t.width=e.boundingShape.rect.w.value||0,t.height=e.boundingShape.rect.h.value||0)},L=function(e,t){e.x+=Math.abs(t.minX),e.y+=Math.abs(t.minY)},F=function(e,t,n,i,a){t<e.minX&&(e.minX=t),n<e.minY&&(e.minY=n),i>e.maxX&&(e.maxX=i),a>e.maxY&&(e.maxY=a)},_=function(e,t){if(e&&t){var n=e.getValue(t);return n&&n.value}},U=function(e,t){if(e&&!e.released){var n=e.getImage(t);if(n)return n&&n.overlays&&n.overlays.overlays&&n.overlays.overlays.length>0&&n.overlays.overlays||[];S.a.error("Could not get image by id %d to extract inspection overlays",t)}else S.a.error("Could not extract inspection overlays due to invalid product")},B=(n(671),function(e){var t=e.images,n=e.onImageClick;return Object(j.jsx)("div",{className:"film-strip-container",children:t.map((function(e){return Object(j.jsx)("button",{className:"reject-image",onClick:function(){n(e.product)},children:Object(j.jsx)("img",{src:e.combinedSrc,alt:""})},e.product.trigger)}))})}),H=function(e){var t=e.inspectionId,n=e.id,i=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.proxy})),a=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.pausedInspections})),r=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.currentMode})),o=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.isBrowserWindowVisible})),c=Object(d.e)((function(e){var i,a,r;return Number(null===(i=e.inspections[t])||void 0===i||null===(a=i.sharedState)||void 0===a||null===(r=a.views[n])||void 0===r?void 0:r.sourceImage)})),l=Object(d.d)(),u=Object(s.useRef)(null),v=Object(s.useState)({width:0,height:0}),w=Object(f.a)(v,2),E=w[0],k=w[1],x=Object(s.useState)([]),T=Object(f.a)(x,2),V=T[0],C=T[1];Object(s.useEffect)((function(){var e=null,n={width:0,height:0},a=[],s=function(e){var t=e.product;if(!a.find((function(e){return e.product===t}))&&u.current){var i=[];!function(e){if(e)if(e.isReject){var t=e.getImage(c).image;if(t){var i=t.height,a=t.width;n.width&&n.height&&n.width===a&&n.height===i||k(n={width:a,height:i})}else S.a.error("Product does not contain an Image.")}else S.a.error("updateImageDimensions requires product that is a reject.");else S.a.error("updateImageDimensions requires product but did not receive.")}(t);var o=function(e){var t=e.drawTarget,n=e.product;if(t&&n){var i=c,a=n.getImage(i);if(a&&a.domImage){var o=t.getContext("2d");null===o||void 0===o||o.clearRect(0,0,t.width,t.height),null===o||void 0===o||o.drawImage(a.domImage,0,0);var s=U(n,i),l={minX:0,minY:0,maxX:a.width||0,maxY:a.height||0};return y({drawTarget:t,overlays:s,zoomFactor:1,boundingCoordinates:l,width:a.width,height:a.height,currentMode:r}),t.toDataURL("image/bmp")}S.a.warn("ImageStrip expected an image onReject but didn't receive")}else S.a.error("drawImageAndOverlaysToCanvas expects drawTarget and product but did not receive.")}({drawTarget:u.current,product:t});if(o){var s=[{combinedSrc:o,product:t}].concat(Object(b.a)(a));s.sort((function(e,t){return t.product.trigger-e.product.trigger})),s.length>10&&(i=s.splice(10).map((function(e){return e.product}))),C(a=s)}(i||[]).forEach((function(e){return e.release()}))}else t.release()},l=function(n){if(!e){var a={inspectionId:t,startAtTriggerCount:-10,rejectImageIds:[n],allowOldTrigger:!0,manualRelease:!0};e=i.subscribeToProductStream(a,s)}},d=function(){e&&(i.unsubscribeFromProductStream(e),e=null),(a||[]).forEach((function(e){var t;null===(t=e.product)||void 0===t||t.release()})),C(a=[])};return c&&(d(),l(c)),void 0!==o&&(o?l(c):d()),function(){d()}}),[r,t,o,i,c]);var N=Object(s.useCallback)((function(){i.resumeRejectStream(t),l(Object(p.cb)(!0))}),[l,t,i]),A=Object(s.useCallback)((function(){i.pauseRejectStream(t),l(Object(p.cb)(!0))}),[l,t,i]),P=Object(s.useCallback)((function(e){A(),i.replayProduct(t,e)}),[t,A,i]),M=Object(s.useMemo)((function(){return[{type:I.b,id:t,intlId:"imageStripView.play",iconUrl:m.a,enabled:!0,onClickHandler:N,intlIdAlternative:"imageStripView.pause",iconUrlAlternative:h.a,onClickHandlerAlternative:A,showAlternative:!(!t||a.includes(t))}]}),[t,A,a,N]);return Object(j.jsx)("div",{className:"reject-view-container",children:Object(j.jsxs)(O,{children:[Object(j.jsx)("canvas",{ref:u,style:{display:"none"},width:E.width,height:E.height,className:"imageCanvas"}),V&&V.length>0&&Object(j.jsx)(B,{onImageClick:P,images:V}),Object(j.jsx)(g.a,{isViewAction:!0,actions:M})]})})},z=n(74),W=function(e){var t=e.inspectionId,n=e.id,i=Object(d.e)((function(e){var t,n;return null!==(t=null===(n=e.app)||void 0===n?void 0:n.configuration)&&void 0!==t?t:null})),a=Object(d.d)(),r=Object(s.useCallback)((function(e,i){var r;(r=e)?a(Object(p.db)(t,"sourceImage",r,n)):S.a.error("ObjectSelector did not return a valid id."),a(Object(p.fb)(t,n,"windowName",i)),a(Object(p.cb)(!0))}),[a,t,n]);if(!i||!t)return null;var o=i.getObjectSelectorImagesForInspection(t);return Object(j.jsx)("div",{style:{width:"100%",overflow:"auto"},children:o&&Object(j.jsx)(z.a,{singleSelect:!0,data:o.tree,onChange:r})})},q=(n(727),function(e){var t=e.id,n=e.inspectionId,i=Object(d.e)((function(e){var t,n;return null!==(t=null===(n=e.app)||void 0===n?void 0:n.configuration)&&void 0!==t?t:null})),a=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.myPermissions})),r=Object(d.e)((function(e){var i,a,r;return Number(null===(i=e.inspections[n])||void 0===i||null===(a=i.sharedState)||void 0===a||null===(r=a.views[t])||void 0===r?void 0:r.sourceImage)})),o=Object(d.d)();Object(s.useEffect)((function(){o(Object(p.v)(n,t,{},{sourceImage:0}))}),[n,t]),Object(s.useCallback)((function(){if(i){var e=i.getValueNameForId(n,r);e&&o(Object(p.fb)(n,t,"windowName",e))}}),[i,o,n,r,t])();var c=Object(v.o)(a);return Object(v.y)(a)||c?Object(j.jsx)("div",{className:"reject-view-container",children:!r&&c?Object(j.jsx)(W,{inspectionId:n,id:t}):Object(j.jsx)(H,{inspectionId:n,id:t})}):Object(j.jsx)("div",{})}),G=n(12),Y=n(22),K=n(26),X=n(30),J=n(5),Z=n.n(J),Q=n(23),$=n.n(Q),ee=n(85),te=n.n(ee),ne=(n(746),n(241)),ie=n.p+"static/media/downloadWithOverlays.0ec8c060.svg",ae=n.p+"static/media/fit-to-height.be413aab.svg",re=n.p+"static/media/fit-to-width.ea508053.svg",oe=n(153),se=n.p+"static/media/one.0123db23.svg",ce=n(154),le=n(82),ue=n(981),de=n(78),pe=function(e,t){return t.map((function(t){return t.id===e.id?e:t}))},ve=(n(408),n(748),function(e){var t=e.overlays,n=e.onSelectAll,i=e.updateCurrentOverlay,a=e.updateOverlayList,r=e.canSelectRow,c=e.hasActionBar,l=void 0===c||c,u=Object(s.useState)(!1),d=Object(f.a)(u,2),p=d[0],v=d[1],b=Object(s.useState)(-1),h=Object(f.a)(b,2),m=h[0],g=h[1];Object(s.useEffect)((function(){g(r?0:-1)}),[r]),Object(s.useEffect)((function(){v((function(){var e,n=Object(le.a)(t||[]);try{for(n.s();!(e=n.n()).done;){if(!e.value.isActive)return!1}}catch(i){n.e(i)}finally{n.f()}return!0}))}),[t]);var O=Object(s.useCallback)((function(e){var t=e.columns,i=[];return t.forEach((function(e,a){0===a?i.push(Object(j.jsx)("div",{className:"base-table-header-column",style:{width:t[a].width},children:Object(j.jsx)(ue.a,{checked:p,onChange:function(e){return t=e.target.checked,v(t),void n(t);var t},style:{padding:0},color:"primary"},"select-all-checkbox")},"header_".concat(a))):i.push(Object(j.jsx)("div",{className:"base-table-header-column",style:{padding:" 0 7.5px"},children:t[a].title},"header_".concat(a)))})),i}),[n,p]),I=Object(s.useMemo)((function(){var e=function(e){var n=t.filter((function(t){return t.id===e}))[0],i=!!n&&n.isActive;return Object(j.jsx)(ue.a,{checked:i,onChange:function(e){return function(e,n){var i=Object(o.a)(Object(o.a)({},n),{},{isActive:e}),r=pe(i,t);a(r)}(e.target.checked,n)},style:{padding:0},color:"primary"},"checkbox_".concat(e))};return t&&t.map((function(t){return{checkbox:e(t.id),name:t.label,id:t.id}}))}),[a,t]),w=Object(s.useMemo)((function(){return[{key:"checkbox",dataKey:"checkbox",title:"",width:40},{key:"name",dataKey:"name",title:"Overlays",width:0,flexGrow:1}]}),[]);return t?Object(j.jsx)(de.a,{children:function(e){var n=e.width,a=e.height;return Object(j.jsx)(de.c,{headerRenderer:O,columns:w,data:I,width:n,height:l?a-30:a,headerHeight:30,rowHeight:30,rowEventHandlers:r?{onClick:function(e){var n=e.rowIndex;g(n),i(t.filter((function(e){return e.id===t[n].id}))[0])}}:void 0,rowClassName:function(e){var t=e.rowIndex;return m===t?"overlay-table-selected-row":""}},"overlay-table")}},"autoresizer"):null}),be=n(2),fe=(n.n(be).a.shape({}),n(89)),he=n(124),me=n(65),ge=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={image:new Image,left:0,top:0,zoomFactor:1,currentCursorPosition:{x:0,y:0},canvasDimension:{width:0,height:0}},e.setBoundingCoordinates=function(t,n){var i={minX:0,minY:0,maxX:t.width||0,maxY:t.height||0},a=10/n;return e.getBoundingCoordinatesFromCustomOverlays(i,a),e.getBoundingCoordinatesFromInspectionOverlays(i,a),i},e.setCanvasDimensions=function(t,n,i){var a=Math.abs(n.minX)+n.maxX,r=Math.abs(n.minY)+n.maxY;t.width=Math.ceil(a*i),t.height=Math.ceil(r*i),e.setState({canvasDimension:{width:a,height:r},boundingCoordinates:n})},e.getBoundingCoordinatesFromCustomOverlays=function(t,n){var i,a=e.props,r=a.product,o=a.customOverlays,s=e.state.image,c=null===s||void 0===s?void 0:s.width,l=null===s||void 0===s?void 0:s.height,u=Number(2*-c),d=Number(2*c),p=Number(2*-l),v=Number(2*l);(i=o.filter((function(e){return e.isActive}))).map((function(e){return Object.assign(e,{minWidthFallback:u,maxWidthFallback:d,minHeightFallback:p,maxHeightFallback:v})})),i.forEach((function(i){A({overlay:i,product:r,fontSize:n,boundingCoordinates:t,dispatch:e.props.dispatch})}))},e.getBoundingCoordinatesFromInspectionOverlays=function(t,n){var i=e.props,a=i.product,r=i.imageId,o=U(a,r);o&&o.forEach((function(e){P({overlay:e,fontSize:n,boundingCoordinates:t})}))},e.setImageInfo=function(){var t=e.props.isImageInfoOpen,n=e.state.currentCursorPosition;if(n&&t){var i=n.x,a=n.y;e.setRgbValues(i,a)}},e.handleScroll=function(t){var n=t.wheelDelta?t.wheelDelta/40:t.detail?-t.detail:0;if(n){var i=t.offsetX,a=t.offsetY;e.zoom(n,i,a)}return t.preventDefault(),!1},e.handleMouseDown=function(t){var n={x:t.pageX,y:t.pageY},i=e.state,a={left:i.left,top:i.top};e.setState({dragging:!0,dragStart:n,dragStartPos:a})},e.handleMouseUp=function(){e.setState({dragging:!1,dragStart:null})},e.handleDrag=function(t){var n=e.state,i=n.dragging,a=n.dragStart,r=n.dragStartPos;if(i){var o=t.pageX-a.x,s=t.pageY-a.y;e.setState({left:r.left+o,top:r.top+s})}},e.handleMouseMove=function(t){if(e.props.isImageInfoOpen){var n=e.getMouseCoordinatesOnElement(t,e.canvas);e.setCursorPosition(n),e.setRgbValues(n.x,n.y)}},e.getMouseCoordinatesOnElement=function(t){for(var n=e.state,i=n.zoomFactor,a=n.boundingCoordinates,r=t.offsetX,o=t.offsetY,s=t.target;s!==e.containerRef;)r+=s.offsetLeft,o+=s.offsetTop,s=s.parentNode;var c=(r-e.canvas.offsetLeft)/i,l=(o-e.canvas.offsetTop)/i;return a&&(c+=a.minX,l+=a.minY),{x:Math.trunc(c),y:Math.trunc(l)}},e.setRgbValues=function(t,n){var i=e.state.image,a=document.createElement("canvas");a.width=i.width,a.height=i.height;var r=a.getContext("2d");r.drawImage(i,0,0);var o=r.getImageData(t,n,1,1).data,s=o[0],c=o[1],l=o[2];e.props.setViewData("rgbValues",{R:s,G:c,B:l})},e.setCursorPosition=function(t){var n=e.state.currentCursorPosition,i=e.trimPositionsOnImageSize(t);e.props.setViewData("cursorPosition",i),n.x===i.x&&n.y===i.y||e.setState({currentCursorPosition:t})},e.trimPositionsOnImageSize=function(t){var n=e.state.image;return t.x<0||t.y<0||t.x>n.width||t.y>n.height?{x:0,y:0}:t},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.loadViewSettings(),this.props.product.lock(),this.initImage(this.props),this.bindEventListeners(),this.bindMouseWheelEventListener()}},{key:"componentDidUpdate",value:function(e,t){var n=this.state,i=n.zoomFactor,a=n.left,r=n.top;this.bindEventListeners();var o=e.product!==this.props.product,s=e.currentMode!==this.props.currentMode,c=t.zoomFactor!==i,l=!te()(this.props.customOverlays,e.customOverlays),u=t.left!==a||t.top!==r;o&&(e.product.release(),this.props.product.lock()),(o||s||c||l)&&this.initImage(this.props),(c||u)&&this.props.saveImageSettings(i,{left:a,top:r})}},{key:"componentWillUnmount",value:function(){this.props.product.release()}},{key:"loadViewSettings",value:function(){var e=this.props.viewSettings,t=e.zoomFactor,n=e.imagePosition;t&&this.setState({zoomFactor:t}),n&&n.left&&this.setState({left:n.left}),n&&n.top&&this.setState({top:n.top})}},{key:"initImage",value:function(e){if(e&&e.product&&e.imageId){var t=e.product.getImage(e.imageId);t&&t.domImage&&this.onImageLoaded(t.domImage)}}},{key:"onImageLoaded",value:function(e){var t=this.state,n=t.zoomFactor,i=t.canvasDimension,a=i.height,r=i.width;this.setState({image:e}),this.initCanvas({canvas:this.canvas,height:a,width:r,zoomFactor:n}),this.props.setViewData("imageDimensions",{width:e.width,height:e.height}),this.draw(this.canvas,e,n),this.setImageInfo()}},{key:"initCanvas",value:function(e){var t=e.canvas,n=e.height,i=e.width,a=e.zoomFactor;t.width=Math.ceil(i*a),t.height=Math.ceil(n*a),this.props.setViewData("imageDimensions",{width:i,height:n})}},{key:"draw",value:function(e,t,n){if(e&&t){var i=this.setBoundingCoordinates(t,n);this.setCanvasDimensions(e,i,n);var a=e.getContext("2d");a.webkitImageSmoothingEnabled=!1,a.msImageSmoothingEnabled=!1,a.imageSmoothingEnabled=!1,a.save(),a.clearRect(0,0,Math.abs(i.minX)+i.maxX,Math.abs(i.minY)+i.maxY),a.scale(n,n),a.drawImage(t,Math.abs(i.minX),Math.abs(i.minY)),this.drawOverlays(e,n,i,t.width,t.height),a.restore()}else console.error("Can not draw because we do not have a canvas")}},{key:"drawOverlays",value:function(e,t,n,i,a){var r=this.props,o=r.product,s=r.customOverlays,c=r.imageId,l=r.currentMode,u=U(o,c);!function(e){var t=e.drawTarget,n=e.customOverlays,i=e.product,a=e.zoomFactor,r=e.boundingCoordinates;if(n&&0!==n.length){var o=t.getContext("2d"),s=n.filter((function(e){return e.isActive}));a=a||1,s.forEach((function(e){o.beginPath();var t={x:0,y:0,width:0,height:0};R(i,e,t),L(t,r);var n,s=_(i,e.colorVariable);n=s?N(s):e.color,o.rect(t.x,t.y,t.width,t.height),o.fillStyle=n,o.lineWidth=1/a;var c=10/a;switch(o.font=c+"px Arial",o.fillText(e.label,t.x,t.y-c),e.lineStyle){case"dashed":o.setLineDash([5]);break;case"dotted":o.setLineDash([2,5]);break;default:o.setLineDash([])}o.strokeStyle=n,o.stroke(),o.closePath()}))}}({drawTarget:e,customOverlays:s,product:o,zoomFactor:t,boundingCoordinates:n}),y({drawTarget:e,overlays:u,zoomFactor:t,boundingCoordinates:n,width:i,height:a,currentMode:l})}},{key:"bindMouseWheelEventListener",value:function(){this.containerRef.addEventListener("mousewheel",this.handleScroll)}},{key:"bindEventListeners",value:function(){Object(v.p)(this.props.myPermissions)?(this.containerRef.addEventListener("DOMMouseScroll",this.handleScroll),this.containerRef.addEventListener("mousedown",this.handleMouseDown),this.containerRef.addEventListener("mouseup",this.handleMouseUp),this.containerRef.addEventListener("mouseleave",this.handleMouseUp),this.containerRef.addEventListener("mousemove",this.handleDrag)):(this.containerRef.removeEventListener("DOMMouseScroll",this.handleScroll),this.containerRef.removeEventListener("mousedown",this.handleMouseDown),this.containerRef.removeEventListener("mouseup",this.handleMouseUp),this.containerRef.removeEventListener("mouseleave",this.handleMouseUp),this.containerRef.removeEventListener("mousemove",this.handleDrag)),this.containerRef.addEventListener("mousemove",this.handleMouseMove)}},{key:"zoom",value:function(e,t,n){var i=Math.pow(1.1,e),a=this.state.zoomFactor*i;if(!(a<.05||a>20)){var r=this.state.canvasDimension;if(!(Math.max(r.width*a,r.height*a)>4096)){var o=this.state,s=o.left,c=o.top,l=t*(1-i),u=n*(1-i);this.setState({left:s+l,top:c+u,zoomFactor:a})}}}},{key:"clamp",value:function(e,t,n){return Math.max(Math.min(e,n),t)}},{key:"resetZoom",value:function(){var e=this.state,t=e.boundingCoordinates,n=e.zoomFactor;this.setState({zoomFactor:1,left:t.minX*n,top:t.minY*n})}},{key:"fitToHeight",value:function(){var e=this.getViewSize().height,t=this.state,n=t.image,i=t.boundingCoordinates,a=t.zoomFactor;this.setState({zoomFactor:e/n.height,left:i.minX*a,top:i.minY*a})}},{key:"fitToWidth",value:function(){var e=this.getViewSize().width,t=this.state,n=t.image,i=t.boundingCoordinates,a=t.zoomFactor;this.setState({zoomFactor:e/n.width,left:i.minX*a,top:i.minY*a})}},{key:"getViewSize",value:function(){return{width:this.containerRef&&this.containerRef.getBoundingClientRect().width||200,height:this.containerRef&&this.containerRef.getBoundingClientRect().height||200}}},{key:"downloadOriginalImage",value:function(){var e=this;Object(me.a)((function(){return e.state.image.src}))?Object(he.a)(this.state.image.src,"image.bmp"):S.a.info("downloadOriginalImage can not find image source")}},{key:"downloadOriginalImageWithOverlays",value:function(){var e=this.state,t=e.canvasDimension,n=e.image,i=document.createElement("canvas");i.width=t.width,i.height=t.height,this.draw(i,n,1),i.toBlob((function(e){var t=self.URL||self.webkitURL||self,n=t.createObjectURL(e);Object(he.a)(n),t.revokeObjectURL(n)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.zoomFactor,i=t.canvasDimension,a=t.left,r=t.top,o=i.height*n,s=i.width*n;return Object(j.jsx)("div",{style:{height:"100%",width:"100%"},ref:function(t){e.containerRef=t},children:Object(j.jsx)("canvas",{className:"imageCanvas",style:{position:"absolute",left:a,top:r,width:s,height:o},ref:function(t){e.canvas=t}})})}}]),n}(s.Component),je=Object(fe.c)(Object(d.c)((function(e,t){var n=t.inspectionId,i=t.id;try{var a,r,o;return{customOverlays:null===(a=e.inspections[n])||void 0===a||null===(r=a.sharedState)||void 0===r?void 0:r.views[i].overlays,currentMode:e.app.currentMode,viewSettings:null===(o=e.inspections[n])||void 0===o?void 0:o.views[i],myPermissions:e.app.myPermissions}}catch(s){return{}}}),(function(e,t){var n=t.inspectionId,i=t.id;return{setViewData:function(t,a){return e(Object(p.fb)(n,i,t,a))},saveImageSettings:function(t,a){return e(Object(p.I)(n,i,t,a))},dispatch:function(){return e.apply(void 0,arguments)}}}),null,{forwardRef:!0})(ge)),Oe=n(168),Ie=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this.props,t=e.imageInfoClass,n=e.cursorPosition,i=e.rgbValues,a=e.imageDimensions;return Object(j.jsx)("div",{className:t,children:Object(j.jsxs)("div",{className:"info-table",children:[Object(j.jsx)("div",{className:"th",children:Object(j.jsx)("div",{className:"td",children:Object(j.jsx)(Oe.a,{id:"imageView.info"})})}),Object(j.jsxs)("div",{className:"tr",children:[Object(j.jsx)("div",{className:"td",children:Object(j.jsx)(Oe.a,{id:"imageView.width"})}),Object(j.jsx)("div",{className:"td",children:a.width})]}),Object(j.jsxs)("div",{className:"tr",children:[Object(j.jsx)("div",{className:"td",children:Object(j.jsx)(Oe.a,{id:"imageView.height"})}),Object(j.jsx)("div",{className:"td",children:a.height})]}),Object(j.jsxs)("div",{className:"tr",children:[Object(j.jsx)("div",{className:"td",children:"".concat(i.R,", ").concat(i.G,", ").concat(i.B)}),Object(j.jsx)("div",{className:"td",style:{backgroundColor:"rgb(".concat(i.R,",").concat(i.G,",").concat(i.B,")")}})]}),Object(j.jsxs)("div",{className:"tr",children:[Object(j.jsx)("div",{className:"td",children:Object(j.jsx)(Oe.a,{id:"imageView.x"})}),Object(j.jsx)("div",{className:"td",children:n.x})]}),Object(j.jsxs)("div",{className:"tr",children:[Object(j.jsx)("div",{className:"td",children:Object(j.jsx)(Oe.a,{id:"imageView.y"})}),Object(j.jsx)("div",{className:"td",children:n.y})]})]})})}}]),n}(s.Component);Ie.defaultProps={imageInfoClass:"",rgbValues:{R:0,G:0,B:0},cursorPosition:{width:0,height:0},imageDimensions:{width:0,height:0}};var we=Object(d.c)((function(e,t){return function(e,t,n,i){return Object.keys(i).reduce((function(i,a){return Object(o.a)(Object(o.a)({},i),{},Object(r.a)({},a,e.inspections[t].views[n][a]))}),{})}(e,t.inspectionId,t.id,{imageDimensions:"imageDimensions",cursorPosition:"cursorPosition",rgbValues:"rgbValues"})}))(Ie),Ee=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={viewSizeChangeCounter:e.props.viewSizeChangeCounter,isOverlayInfoOpen:!1,isImageInfoOpen:!1,canvasInitResize:!1,subscribedSource:void 0},e.updateViewSize=function(t){(t>e.state.viewSizeChangeCounter||void 0===e.state.viewSizeChangeCounter)&&e.setState({viewSizeChangeCounter:t})},e.resubscribeToProductStream=function(t,n){t&&(e.unsubscribeFromProductStream(),e.subscribeToProductStream(t,n),e.setState({subscribedSource:t}))},e.subscribeToProductStream=function(t,n){if(!e.productSub){var i={inspectionId:e.props.inspectionId,imageIds:[t],valueIds:e.getUsedVariablesFromOverlay(n),startAtTriggerCount:-1};e.productSub=e.props.proxy.subscribeToProductStream(i,e.onProduct)}},e.unsubscribeFromProductStream=function(){e.productSub&&(e.props.proxy.unsubscribeFromProductStream(e.productSub),e.productSub=null)},e.getUsedVariablesFromOverlay=function(e){var t=[];return e&&e.forEach((function(e){Object.keys(e).forEach((function(n){n.indexOf("Variable")>-1&&e[n]&&!t.includes(e[n])&&t.push(e[n])}))})),t},e.setAllOverlaysActive=function(t){var n=e.props.overlays.map((function(e){return Object(o.a)(Object(o.a)({},e),{},{isActive:t})}));e.props.setSharedStateData("overlays",n),e.props.setSaveFlag(!0)},e.createActiveOverlayList=function(e){return e.filter((function(e){return e.isActive}))},e.createActiveOverlayIdList=function(e){return e.filter((function(e){return e.isActive})).map((function(e){return e.id}))},e.onProduct=function(t){var n=t.product,i=e.props.sourceImage;e.setState({imageId:i,product:n}),e.state.canvasInitResize||e.setState({canvasInitResize:!0})},e.toggleOverlayInfo=function(){e.setState({isOverlayInfoOpen:!e.state.isOverlayInfoOpen,isImageInfoOpen:!1})},e.toggleImageInfo=function(){e.setState({isImageInfoOpen:!e.state.isImageInfoOpen,isOverlayInfoOpen:!1})},e.setSourceImageId=function(t){t?e.props.setSharedStateData("sourceImage",t):S.a.error("OjectSelector did not return a valid id ".concat(t,"."))},e.updateOverlayList=function(t){e.props.setSharedStateData("overlays",t),e.props.setSaveFlag(!0)},e.setTitleFromConfig=function(){var t=e.props,n=t.sourceImage,i=t.inspectionId,a=t.configuration;if(a){var r=a.getValueNameForId(i,n);r&&e.props.setViewData("windowName",r)}},e.renderObjectSelector=function(){var t=e.props,n=t.configuration,i=t.inspectionId;if(n&&i){var a=n.getObjectSelectorImagesForInspection(i);return Object(j.jsx)("div",{style:{width:"100%",overflow:"auto"},children:a&&Object(j.jsx)(z.a,{singleSelect:!0,data:a.tree,onChange:function(t,n){e.setSourceImageId(t),e.props.setViewData("windowName",n),e.props.setSaveFlag(!0)}})})}},e.renderImageView=function(){var t=e.props.viewActions;return Object(j.jsxs)("div",{style:{height:"100%",width:"100%"},children:[Object(j.jsx)("div",{style:{height:"100%",width:"100%"},children:e.renderImageViewImpl()}),Object(j.jsx)(g.a,{isViewAction:!0,actions:t(Object(Y.a)(e))})]})},e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=Object(G.a)(Z.a.mark((function e(){return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.sourceImage&&this.resubscribeToProductStream(this.props.sourceImage,this.props.overlays);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(e){this.updateViewSize(e.viewSizeChangeCounter);var t=this.getUsedVariablesFromOverlay(this.props.overlays),n=this.getUsedVariablesFromOverlay(e.overlays);(!te()(t,n)||this.state.subscribedSource!==e.sourceImage&&e.sourceImage)&&this.resubscribeToProductStream(e.sourceImage,e.overlays),this.props.isBrowserWindowVisible!==e.isBrowserWindowVisible&&(e.isBrowserWindowVisible?this.resubscribeToProductStream(this.props.sourceImage,this.props.overlays):this.unsubscribeFromProductStream())}},{key:"componentWillUnmount",value:function(){this.unsubscribeFromProductStream()}},{key:"renderImageViewImpl",value:function(){var e=this.state.product;return!e||e.released?Object(j.jsx)("div",{children:"<UNAVAILABLE>"}):[this.renderImageEditor(),this.renderImageInfo(),this.renderOverlayList()]}},{key:"renderImageEditor",value:function(){var e=this,t=this.props,n=t.inspectionId,i=t.id,a=this.state,r=a.product,o=a.imageId,s=a.isImageInfoOpen;return Object(j.jsx)(je,{ref:function(t){e.imageEditor=t},id:i,inspectionId:n,imageId:o,product:r,isImageInfoOpen:s},"ImageEditor".concat(i))}},{key:"renderImageInfo",value:function(){var e=this.props,t=e.inspectionId,n=e.id;if(this.state.isImageInfoOpen)return Object(j.jsx)(we,{id:n,inspectionId:t,imageInfoClass:$()({"info-box":!0})},"ImageInfo".concat(n))}},{key:"renderOverlayList",value:function(){var e=this,t=this.props,n=t.overlays,i=t.id;if(this.state.isOverlayInfoOpen)return Object(j.jsx)("div",{className:$()({"info-box":!0}),children:Object(j.jsx)(ve,{overlays:n,updateOverlayList:this.updateOverlayList,canSelectRow:!1,onSelectAll:function(t){return e.setAllOverlaysActive(t)},hasActionBar:!1})},"OverlayList".concat(i))}},{key:"render",value:function(){var e=this.props,t=e.sourceImage,n=e.myPermissions;return this.setTitleFromConfig(),Object(v.z)(n)||Object(v.p)(n)?Object(j.jsx)("div",{className:"image-view-wrapper",children:t?this.renderImageView():this.renderObjectSelector()}):Object(j.jsx)("div",{})}}]),n}(s.Component);Ee.defaultProps={viewActions:function(e){var t=Object(v.p)(e.props.myPermissions),n=Object(v.z)(e.props.myPermissions);return[{intlId:"imageView.zoomOut",iconUrl:se,onClickHandler:function(){e.imageEditor&&e.imageEditor.resetZoom()},enabled:!0},{intlId:"imageView.fitToWidth",iconUrl:re,onClickHandler:function(){e.imageEditor&&e.imageEditor.fitToWidth()},enabled:!0},{intlId:"imageView.fitToHeight",iconUrl:ae,onClickHandler:function(){e.imageEditor&&e.imageEditor.fitToHeight()},enabled:!0},{type:I.a},{intlId:"imageView.save",iconUrl:ne.a,onClickHandler:function(){e.imageEditor&&e.imageEditor.downloadOriginalImage()},enabled:n||t},{intlId:"imageView.saveWithOverlays",iconUrl:ie,onClickHandler:function(){e.imageEditor&&e.imageEditor.downloadOriginalImageWithOverlays()},enabled:n||t},{type:I.a},{intlId:"imageView.overlayListToggle",iconUrl:ce.a,onClickHandler:function(){e.toggleOverlayInfo()},enabled:n||t},{intlId:"imageView.imageInfoToggle",iconUrl:oe.a,onClickHandler:function(){e.toggleImageInfo()},enabled:n||t}]},overlayActions:function(){return[]},inRunMode:!1,currentMode:void 0,proxy:void 0,rgbValues:{R:0,G:0,B:0},cursorPosition:{width:0,height:0}};var Se={scaleFactor:0,rgbValues:{R:0,G:0,B:0},imageDimensions:{width:0,height:0},cursorPosition:{x:0,y:0}},ye={overlays:[],sourceImage:0},ke=Object(d.c)((function(e,t){var n=t.inspectionId,i=t.id,a={proxy:e.app.proxy,configuration:e.app.configuration,currentMode:e.app.currentMode,viewSizeChangeCounter:e.viewSet.viewSizeChangeCounter,myPermissions:e.app.myPermissions,isBrowserWindowVisible:e.app.isBrowserWindowVisible};try{var r,s,c,l;return Object(o.a)(Object(o.a)({},a),{},{overlays:null===(r=e.inspections[n])||void 0===r||null===(s=r.sharedState)||void 0===s?void 0:s.views[i].overlays,sourceImage:Number(null===(c=e.inspections[n])||void 0===c||null===(l=c.sharedState)||void 0===l?void 0:l.views[i].sourceImage)})}catch(u){return a}}),(function(e,t){var n=t.inspectionId,i=t.id;return e(Object(p.v)(n,i,Se,ye)),{setViewData:function(t,a){return e(Object(p.fb)(n,i,t,a))},setSharedStateData:function(t,a){return e(Object(p.db)(n,t,a,i))},addImageNotAvailableNotification:function(){return e(Object(p.d)())},setSaveFlag:function(t){return e(Object(p.cb)(t))}}}))(Ee),xe=n.p+"static/media/show-off.8787321d.svg",Te=n(242),Ve=n(167),Ce=n(57),Ne=n(13),Ae=n(109),Pe=n.p+"static/media/drag.a4b2fa8c.svg",Me=(n(749),["key","index","children","draggable"]),Re=["draggable","data","onSequenceChange","rowProps"],De=Object(Ae.a)((function(e){return e.children})),Le=Object(Ae.b)((function(e){return e.children})),Fe=Object(Ae.c)((function(e){return e.children})),_e=function(e){var t=e.key,n=e.index,i=e.children,a=e.draggable,r=Object(Ne.a)(e,Me);return a?Object(j.jsx)(Le,{index:n,children:Object(j.jsxs)("div",Object(o.a)(Object(o.a)({},r),{},{children:[Object(j.jsx)(Fe,{children:Object(j.jsx)("div",{className:"draggable-table-handle",children:Object(j.jsx)("img",{src:Pe,alt:"Drag"})})}),i]}))},t):Object(j.jsx)("div",Object(o.a)(Object(o.a)({},r),{},{children:i}))},Ue=c.a.memo((function(e){var t=e.draggable,n=void 0===t||t,i=e.data,a=e.onSequenceChange,r=e.rowProps,c=Object(Ne.a)(e,Re),l=Object(s.useRef)(null),u=Object(s.useState)([]),d=Object(f.a)(u,2),p=d[0],v=d[1];Object(s.useEffect)((function(){v(i)}),[i]);var h=function(e){var t=Object(de.b)(r);return Object(o.a)(Object(o.a)({},t),{},{draggable:n,tagName:_e,index:e.rowIndex})},m=Object(s.useCallback)((function(e){var t=e.oldIndex,n=e.newIndex;a(t,n);var i=Object(b.a)(p),r=i.splice(t,1),o=Object(f.a)(r,1)[0];i.splice(n,0,o),v(i)}),[p,a]);return n?Object(j.jsx)(De,{useDragHandle:!0,getContainer:function(){var e,t;return null===(e=l.current)||void 0===e||null===(t=e.getDOMNode())||void 0===t?void 0:t.querySelector(".BaseTable__body")},helperContainer:function(){var e,t;return null===(e=l.current)||void 0===e||null===(t=e.getDOMNode())||void 0===t?void 0:t.querySelector(".BaseTable__table")},onSortEnd:m,children:Object(j.jsx)(de.c,Object(o.a)(Object(o.a)({},c),{},{ref:l,data:p,rowProps:h,className:"draggable"}))}):Object(j.jsx)(de.c,Object(o.a)(Object(o.a)({},c),{},{ref:l,data:p,rowProps:h}))})),Be=n(27),He=n(932),ze=n(970),We=n(46),qe=n(64),Ge=(n(751),function(e){var t=e.open,n=e.onClose,i=e.selectedAlias,a=Object(Ve.a)();i.alias||(i.alias={});var r=Object(s.useRef)(Object(o.a)({},i.alias)),c=Object(s.useState)(i||{}),l=Object(f.a)(c,2),u=l[0],d=l[1];return u.id!==i.id&&d(i),Object(j.jsx)(We.a,{isInView:!0,isPopup:!0,title:a.messages["listView.AliasEditor.title"],onClose:function(){u.alias=r.current,n(u)},open:t,children:Object(j.jsxs)("div",{className:"alias-editor-wrapper",children:[Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"label",children:[Object(j.jsx)(Oe.a,{id:"listView.AliasEditor.dottedName"}),":"]}),Object(j.jsx)("div",{className:"textfield",children:Object(j.jsx)(He.a,{id:"dottedNameLabel",fullWidth:!0,value:i.name,disabled:!0})})]}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"label",children:[Object(j.jsx)(Oe.a,{id:"listView.AliasEditor.value"}),":"]}),Object(j.jsx)("div",{className:"textfield",children:Object(j.jsx)(He.a,{id:"valueLabel",fullWidth:!0,disabled:!0,value:i.value})})]}),(null!==qe.b&&void 0!==qe.b?qe.b:[]).map((function(e){return Object(j.jsxs)("div",{className:"row",children:[Object(j.jsxs)("div",{className:"label",children:["Alias ",e.name,":"]}),Object(j.jsx)("div",{className:"textfield",children:Object(j.jsx)(He.a,{id:"aliasLabel".concat(e.locale),fullWidth:!0,defaultValue:i.alias&&i.alias[e.locale],onChange:function(t){u.alias||(u.alias={}),u.alias[e.locale]=t.target.value}})})]},"rowDiv".concat(e.locale).concat(i.id))})),Object(j.jsx)("div",{className:"buttons",children:Object(j.jsx)(ze.a,{variant:"contained",color:"primary",onClick:function(){return n(u,!0)},children:Object(j.jsx)(Oe.a,{id:"listView.AliasEditor.button"})})})]})})}),Ye=Object(s.memo)((function(e){var t=e.viewId,n=e.inspectionId,i=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.proxy})),a=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.configuration})),r=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.myPermissions})),c=Object(d.e)((function(e){var i,a,r;return null===(i=null===(a=e.inspections[n])||void 0===a||null===(r=a.views[t])||void 0===r?void 0:r.isSelectionMode)||void 0===i||i})),l=Object(d.e)((function(e){var t,i;return null===(t=e.inspections[n])||void 0===t||null===(i=t.sharedState)||void 0===i?void 0:i.showAliasesInList})),u=Object(d.e)((function(e){return e.app.locale})),b=Object(d.e)((function(e){var t,i,a;return null!==(t=null===(i=e.inspections[n])||void 0===i||null===(a=i.sharedState)||void 0===a?void 0:a.listViewAliases)&&void 0!==t?t:new Map})),h=Object(d.e)((function(e){var i,a,r;return null!==(i=null===(a=e.inspections[n])||void 0===a||null===(r=a.views[t])||void 0===r?void 0:r.selection)&&void 0!==i?i:[]})),m=Object(d.d)(),g=Object(Ve.a)(),O=Object(s.useState)([]),I=Object(f.a)(O,2),w=I[0],E=I[1],S=Object(s.useState)(!1),y=Object(f.a)(S,2),k=y[0],x=y[1],T=Object(s.useState)(null),V=Object(f.a)(T,2),C=V[0],N=V[1];Object(s.useEffect)((function(){var e=null,t=function(e){var t=function(e){return e.getValuesAsString(h).map((function(e){return Object(o.a)(Object(o.a)({},e),{},{name:a.getValueNameForId(n,e.id)||""})}))}(e.product);return E(t),Promise.resolve()},r=function(){e&&(i.unsubscribeFromProductStream(e),e=null)};return r(),!c&&h.length>0&&function(){if(!e){var a={inspectionId:n,valueIds:h,startAtTriggerCount:-1};e=i.subscribeToProductStream(a,t)}}(),function(){r()}}),[a,n,c,i,h]);var A=Object(s.useMemo)((function(){var e=[{key:l?"Alias/Name":"Name",dataKey:"name",title:l?g.messages["listView.aliasName"]:g.messages["listView.name"],width:0,flexGrow:2},{key:"Values",dataKey:"value",title:g.messages["listView.values"],width:0,flexGrow:1}];return Object(v.r)(r)&&e.push({key:"",dataKey:"editAlias",title:"",width:50}),e}),[g.messages,r,l]),P=Object(s.useMemo)((function(){return w.map((function(e){var t,n=null===(t=b.get(e.id))||void 0===t?void 0:t.alias;return Object(o.a)(Object(o.a)({},e),{},{name:l&&(null===n||void 0===n?void 0:n[u])||e.name,editAlias:Object(j.jsx)(Be.a,{tooltip:g.messages["listView.AliasEditor.title"],onClick:function(){N(e),x(!0)},iconUrl:Ce.a},"editAlias")})}))}),[b,g.messages,w,u,l,k]),M=Object(s.useMemo)((function(){return(w||[]).find((function(e){return e.id===(null===C||void 0===C?void 0:C.id)}))}),[w,null===C||void 0===C?void 0:C.id]),R=Object(s.useCallback)((function(e,i){var a=h.splice(e,1),r=Object(f.a)(a,1)[0];h.splice(i,0,r),m(Object(p.fb)(n,t,"selection",h)),m(Object(p.cb)(!0))}),[m,n,h,t]),D=Object(s.useCallback)((function(e,t){if(e){e.alias||(e.alias={}),Object.keys(e.alias).forEach((function(t){var n;""===(null===(n=e.alias)||void 0===n?void 0:n[t])&&delete e.alias[t]}));var n=0===Object.keys(e.alias).length;if(b.has(e.id)){var i=b.get(e.id);i.alias=e.alias,n?b.delete(e.id):b.set(e.id,i)}else n||b.set(e.id,Object(o.a)(Object(o.a)({},e),{},{objectId:e.id,dottedName:e.name,alias:e.alias}))}x(!1),t&&m(Object(p.cb)(!0))}),[b,m]);return Object(j.jsxs)("div",{style:{height:"100%"},children:[Object(j.jsx)(de.a,{children:function(e){var t=e.width,n=e.height;return Object(j.jsx)(Ue,{columns:A,data:P,width:t,height:n,headerHeight:30,rowHeight:30,onSequenceChange:R})}}),M&&k&&Object(j.jsx)(Ge,{onClose:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return D(e,t)},open:k,selectedAlias:M})]})})),Ke=Object(s.memo)((function(e){var t=e.viewId,n=e.inspectionId,i=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.configuration})),a=Object(d.e)((function(e){var i,a,r;return null!==(i=null===(a=e.inspections[n])||void 0===a||null===(r=a.views[t])||void 0===r?void 0:r.selection)&&void 0!==i?i:[]})),r=Object(d.d)(),o=Object(s.useState)([]),c=Object(f.a)(o,2),l=c[0],u=c[1],v=Object(s.useMemo)((function(){if(!i||!n)return{tree:null,filterIgnore:[]};var e=i.getInspectionName(n),t=["Inspections.".concat(e),"Inspections".concat(e),e],a=i.getObjectSelectorItemsForInspection(n);return a?{tree:i.filterArrayValuesFromTree(a.tree),filterIgnore:t}:{tree:null,filterIgnore:t}}),[i,n]),h=v.tree,m=v.filterIgnore;return Object(s.useEffect)((function(){var e;1===(null===h||void 0===h||null===(e=h.children)||void 0===e?void 0:e.length)&&u((function(e){return h.children[0].name?[].concat(Object(b.a)(e),[h.children[0].name]):e}))}),[h]),h?Object(j.jsx)("div",{style:{width:"100%",overflow:"auto",height:"100%"},children:Object(j.jsx)(z.a,{data:h,onChange:function(e){r(Object(p.fb)(n,t,"selection",e)),r(Object(p.cb)(!0))},onExpand:u,selection:a,expandedKeys:l,filterIgnore:m})}):Object(j.jsx)("div",{style:{width:"100%",overflow:"auto",height:"100%"}})})),Xe=(n(752),function(e){var t=e.id,n=e.inspectionId,i=Object(d.e)((function(e){var i,a,r;return null===(i=null===(a=e.inspections[n])||void 0===a||null===(r=a.views[t])||void 0===r?void 0:r.isSelectionMode)||void 0===i||i})),a=Object(d.e)((function(e){var t,i;return null===(t=e.inspections[n])||void 0===t||null===(i=t.sharedState)||void 0===i?void 0:i.showAliasesInList})),r=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.myPermissions})),o=Object(d.d)();Object(s.useEffect)((function(){o(Object(p.v)(n,t,{selection:[],isSelectionMode:!0},{}))}),[n,t]);var c=Object(s.useCallback)((function(e){o(Object(p.kb)(n,e)),o(Object(p.cb)(!0))}),[o,n]),l=Object(s.useMemo)((function(){return[{intlId:"listView.save",iconUrl:ce.a,onClickHandler:function(){o(Object(p.fb)(n,t,"isSelectionMode",!i)),o(Object(p.cb)(!0))},enabled:Object(v.r)(r)},{type:I.b,id:n,intlId:"listView.Actionbar.showAliases",iconUrl:Te.a,onClickHandler:function(){c(!0)},intlIdAlternative:"listView.Actionbar.hideAliases",iconUrlAlternative:xe,onClickHandlerAlternative:function(){c(!1)},showAlternative:a}]}),[o,n,i,r,c,a,t]),u=Object(v.r)(r);return Object(v.B)(r)||u?Object(j.jsxs)("div",{className:"list-view-wrapper",children:[i&&u?Object(j.jsx)(Ke,{viewId:t,inspectionId:n}):Object(j.jsx)(Ye,{viewId:t,inspectionId:n}),Object(j.jsx)(g.a,{isViewAction:!0,actions:l})]}):Object(j.jsx)("div",{})}),Je=n.p+"static/media/delete-dustbin.8c1d9e0c.svg",Ze=n(103),Qe=n(971),$e=n(969),et=n(928),tt=n(486),nt=n(972),it=n(156),at=n(63),rt=Object(et.a)((function(){return{header:{fontSize:"1.8rem",fontWeight:"bold",marginBottom:30},input:{height:37,fontSize:"1.4rem"},label:{fontSize:"1.4rem",transform:"translate(14px, 11px) scale(1)"}}})),ot=Object(tt.a)({typography:{useNextVariants:!0,htmlFontSize:10}}),st=function(e){var t,n,i=e.inspectionId,a=e.currentOverlay,o=e.imageDimensions,s=e.onChange,c=e.openSelection,l=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.configuration})),u=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.myPermissions})),b=Object(d.d)(),f=rt(),h=null!==(t=null===o||void 0===o?void 0:o.width)&&void 0!==t?t:0,m=null!==(n=null===o||void 0===o?void 0:o.height)&&void 0!==n?n:0,g=Number(2*-h),O=Number(2*h),I=Number(2*-m),w=Number(2*m),E=Object(v.s)(u),S=function(e){b(Object(p.cb)(!0)),s(e)},y=function(e){var t=e.name,n=e.id,i=e.disabled;return Object(j.jsx)(He.a,{label:t,style:{width:"100%"},id:n,type:"text",variant:"outlined",disabled:i||!a,InputProps:{classes:{input:f.input}},InputLabelProps:{classes:{root:f.label}},value:a&&a[n]||"",onChange:function(e){return S(Object(r.a)({},n,e.target.value))}})},k=function(e){var t=e.name,n=e.id,i=e.min,o=e.max,s=e.disabled,c=a&&a[n]||"";return Object(j.jsx)(He.a,{label:t,style:{width:"100%"},id:n,type:"number",variant:"outlined",disabled:s||!a,InputProps:{classes:{input:f.input},inputProps:{min:i,max:o}},InputLabelProps:{classes:{root:f.label}},value:c,onChange:function(e){return S(Object(r.a)({},n,function(e,t,n){var i=Number(n);return i>t&&(i=t),i<e&&(i=e),i}(i,o,e.target.value)))}})},x=function(e){var t=e.name,n=e.id,o=e.disabled,s=a&&a[n]&&l.getValueNameForId(i,a[n])||"";return Object(j.jsx)(He.a,{label:t,style:{width:"100%"},id:n,type:"text",variant:"outlined",disabled:o||!a,InputProps:{classes:{input:f.input},endAdornment:Object(j.jsx)(Qe.a,{position:"end",children:Object(j.jsx)($e.a,{edge:"end","aria-label":"clear",onClick:function(){return S(Object(r.a)({},n,""))},title:n,children:Object(j.jsx)("img",{src:it.a,alt:"x"})})})},InputLabelProps:{classes:{root:f.label}},value:s,onFocus:function(){return c(t,n)}})};return Object(j.jsx)("div",{className:"parameter-view-overlay-overlaypropertylist",children:Object(j.jsxs)(nt.a,{theme:ot,children:[Object(j.jsx)("label",{className:f.header,children:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.parameters"})}),y({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.label"}),id:"label",disabled:!E}),k({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.x"}),id:"x",min:g,max:O,disabled:!E}),x({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.xVariable"}),id:"xVariable",disabled:!E}),k({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.offsetLeft"}),id:"offsetLeft",min:g,max:O,disabled:!E}),x({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.offsetLeftVariable"}),id:"offsetLeftVariable",disabled:!E}),k({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.y"}),id:"y",min:I,max:w,disabled:!E}),x({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.yVariable"}),id:"yVariable",disabled:!E}),k({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.offsetTop"}),id:"offsetTop",min:I,max:w,disabled:!E}),x({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.offsetTopVariable"}),id:"offsetTopVariable",disabled:!E}),k({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.width"}),id:"width",min:g,max:O,disabled:!E}),x({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.widthVariable"}),id:"widthVariable",disabled:!E}),k({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.height"}),id:"height",min:I,max:w,disabled:!E}),x({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.heightVariable"}),id:"heightVariable",disabled:!E}),y({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.color"}),id:"color",disabled:!E}),x({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.colorVariable"}),id:"colorVariable",disabled:!E}),function(e){var t=e.name,n=e.id,i=e.options,r=e.disabled;return Object(j.jsx)(at.a,{selectedValue:a&&a[n],values:i,onSelectionChanged:S,name:t,id:n,disabled:r||!a})}({name:Object(j.jsx)(Oe.a,{id:"parameterview.overlay.lineStyle"}),id:"lineStyle",options:["solid","dotted","dashed"],disabled:!E})]})})},ct=function(e){var t=e.inspectionId,n=e.open,i=e.onClose,a=e.title,r=void 0===a?"":a,o=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.configuration})),c=Object(s.useState)(null),l=Object(f.a)(c,2),u=l[0],p=l[1],v=Object(s.useState)([]),b=Object(f.a)(v,2),h=b[0],m=b[1];return Object(s.useEffect)((function(){var e=o.getObjectSelectorItemsForInspection(t);if(e){var n=e.tree;n=o.filterArrayValuesFromTree(n),p(n),m((function(){var e=[],n=o.getInspectionName(t);return e.push("Inspections.".concat(n)),e.push("Inspections".concat(n)),e.push(n),e}))}}),[o,t]),o&&t&&u?Object(j.jsx)(We.a,{isInView:!0,isPopup:!0,title:r,onClose:i,open:n,children:Object(j.jsx)("div",{className:"objectselector-in-dialog-wrapper",children:Object(j.jsx)(z.a,{singleSelect:!0,data:u,onChange:function(e){return null===i||void 0===i?void 0:i(e)},filterIgnore:h})})}):null},lt=(n(753),function(e){var t=e.id,n=e.inspectionId,i=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.myPermissions})),a=Object(d.e)((function(e){return e.inspections})),c=Object(d.d)(),l=Object(s.useState)(void 0),u=Object(f.a)(l,2),h=u[0],m=u[1],O=Object(s.useState)(!1),I=Object(f.a)(O,2),w=I[0],E=I[1],y=Object(s.useState)("Variables"),k=Object(f.a)(y,2),x=k[0],T=k[1],V=Object(s.useState)(""),C=Object(f.a)(V,2),N=C[0],A=C[1],P=Object(s.useState)([]),M=Object(f.a)(P,2),R=M[0],D=M[1];Object(s.useEffect)((function(){c(Object(p.v)(n,t,{},{}))}),[c,n,t]);var L=Object(s.useMemo)((function(){var e,t,i,r,o,s,c,l=null===(e=a[n])||void 0===e||null===(t=e.sharedState)||void 0===t?void 0:t.editingViewId;return[l,null===(i=a[n])||void 0===i||null===(r=i.sharedState)||void 0===r||null===(o=r.views[l])||void 0===o?void 0:o.overlays,null===(s=a[n])||void 0===s||null===(c=s.views[l])||void 0===c?void 0:c.imageDimensions]}),[n,a]),F=Object(f.a)(L,3),_=F[0],U=F[1],B=F[2];Object(s.useEffect)((function(){if(U&&h){var e=U.find((function(e){return e.id===h.id}));e&&e!==h&&m(e)}!h&&(null===U||void 0===U?void 0:U.length)>0&&m(U[0])}),[h,U,_]),Object(s.useEffect)((function(){m(null===U||void 0===U?void 0:U[0])}),[_]);var H=Object(s.useMemo)((function(){var e=Object(v.s)(i);return[{intlId:"parameterview.overlay.add",iconUrl:Ze.a,onClickHandler:function(){c(Object(p.cb)(!0)),function(){var e={color:"#ebfc02",height:100,id:Math.floor(1e4*Math.random()),isActive:!0,label:"Overlay",lineStyle:"solid",width:100,x:10,y:20,offsetLeft:null,offsetTop:null};try{c(Object(p.db)(n,"overlays",[].concat(Object(b.a)(U),[e]))),m(e)}catch(t){S.a.error(t instanceof Error?t.message:String(t))}}()},enabled:e},{intlId:"parameterview.overlay.delete",iconUrl:Je,onClickHandler:function(){c(Object(p.cb)(!0)),function(){if(h)try{var e=U.filter((function(e){return e.id!==h.id}));c(Object(p.db)(n,"overlays",e));var t=function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e){if(t[n-1])return t[n-1].id;if(t[n+1])return t[n+1].id}return-1}(h.id,U);m(U.filter((function(e){return e.id===t}))[0])}catch(i){S.a.error(i instanceof Error?i.message:String(i))}}()},enabled:e}]}),[h,c,n,i,U]),z=Object(s.useCallback)((function(e){if(e&&""!==N&&h){e&&!R.includes(e)&&D([].concat(Object(b.a)(R),[e]));var t=Object(o.a)(Object(o.a)({},h),{},Object(r.a)({},N,e)),i=pe(t,U);c(Object(p.db)(n,"overlays",i)),E(!1),c(Object(p.cb)(!0))}else E(!1)}),[h,c,n,U,R,N]);return U?Object(j.jsxs)("div",{className:"parameter-view-overlay-wrapper",children:[Object(j.jsxs)("div",{className:"parameter-view-overlay-table-wrapper",children:[Object(j.jsx)(ve,{overlays:U,updateCurrentOverlay:m,updateOverlayList:function(e){c(Object(p.db)(n,"overlays",e)),c(Object(p.cb)(!0))},canSelectRow:!0,onSelectAll:function(e){try{var t=U.map((function(t){return Object(o.a)(Object(o.a)({},t),{},{isActive:e})}));c(Object(p.db)(n,"overlays",t)),c(Object(p.cb)(!0))}catch(i){S.a.error(i instanceof Error?i.message:String(i))}}}),Object(j.jsx)(g.a,{actions:H})]}),h&&Object(j.jsx)(st,{inspectionId:n,viewId:t,currentOverlay:h,imageDimensions:B,onChange:function(e){var t=Object(o.a)(Object(o.a)({},h),e),i=pe(t,U);c(Object(p.db)(n,"overlays",i)),m(t)},openSelection:function(e,t){E(!0),T(e),A(t)}}),Object(j.jsx)(ct,{title:x,onClose:z,open:w,inspectionId:n})]}):Object(j.jsx)("div",{className:"parameter-view-overlay-placeholder",children:"Please select a source for this parameter view."})}),ut=(n(754),function(e){var t=e.id,n=e.inspectionId,i=e.viewActions,a=void 0===i?[]:i,r=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.myPermissions})),o=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.proxy.mode})),s=Object(d.e)((function(e){var t;return null===(t=e.toolSet)||void 0===t?void 0:t.parameter}));return Object(v.D)(r)||Object(v.s)(r)?Object(j.jsxs)("div",{className:"parameter-view-wrapper",children:[Object(j.jsx)(O,{style:null!==a&&void 0!==a&&a.length?{}:{marginBottom:0,pointerEvents:Object(v.s)(r)&&o===E.a.editMode.id?"auto":"none",opacity:Object(v.s)(r)&&o===E.a.editMode.id?"1.0":"0.3"},children:(null===s||void 0===s?void 0:s.component)||Object(j.jsx)(lt,{inspectionId:n,id:t})}),!(null===a||void 0===a||!a.length)&&Object(j.jsx)(g.a,{isViewAction:!0,actions:a})]}):Object(j.jsx)("div",{})}),dt=n(189),pt=n(87),vt=n.p+"static/media/before.53297893.svg",bt=n(155),ft=n(157),ht=function(e){var t=e.children;return Object(j.jsx)("div",{className:"overflow-scroll absolute w-100 h-100 pa2 top-0 left-0",children:t})},mt=n(164),gt=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).renderConfiguration=function(e){return Object(j.jsxs)("div",{className:"flex",children:[Object(j.jsxs)("span",{className:"sans-serif mr2 basis-100",children:[Object(j.jsx)(Oe.a,{id:e.intlId}),":"]}),Object(j.jsx)("span",{className:"basis-100",children:Object(j.jsx)("select",{className:"bn w-100 tc",children:e.options.map((function(e){return Object(j.jsx)("option",{value:e.value,children:e.title},e.title)}))})})]})},e}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.configurations,i=t.viewActions;return Object(j.jsxs)("div",{children:[Object(j.jsx)(ht,{children:Object(j.jsxs)("div",{className:"pa3 flex items-center",children:[Object(j.jsxs)("div",{className:"basis-100",children:[Object(j.jsxs)("div",{children:[Object(j.jsx)(mt.a,{type:"h3",intlId:"name"}),Object(j.jsx)("input",{type:"text",className:"w-100 bg-near-white mb3 ba b--near-white outline-0 pa1"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)(mt.a,{type:"h3",intlId:"comment"}),Object(j.jsx)("textarea",{className:"w-100 h4 bg-near-white ba b--near-white outline-0 pa1"})]})]}),Object(j.jsxs)("div",{className:"basis-100 pa4 pt0 self-baseline",children:[Object(j.jsx)(mt.a,{type:"h3",intlId:"configuration"}),n.map((function(t){return Object(j.jsx)("div",{className:"bb b--near-white pa1 mb1",children:e.renderConfiguration(t)},u.a.generate())}))]})]})}),Object(j.jsx)(g.a,{isViewAction:!0,actions:i})]})}}]),n}(s.Component);gt.defaultProps={viewActions:[{intlId:"back",iconUrl:pt.a},{intlId:"before",iconUrl:vt},{intlId:"save",iconUrl:ft.a},{intlId:"cancel",iconUrl:bt.a}]};var jt,Ot=Object(dt.c)(gt),It=n(468),wt=n.n(It),Et=n(243),St=n.p+"static/media/archive.b8680473.svg",yt=n.p+"static/media/arrow-top-right.4113715e.svg",kt=n.p+"static/media/collapse-all.5ae8f8d4.svg",xt=n.p+"static/media/copy.1e95e110.svg",Tt=n.p+"static/media/cut.bf9e7e56.svg",Vt=n.p+"static/media/cylindrical-wrap.b75ac8f0.svg",Ct=n(86),Nt=n.p+"static/media/expand-all.9aefbbb5.svg",At=n.p+"static/media/external.36cd89bf.svg",Pt=n.p+"static/media/function-variant.c7f405a8.svg",Mt=n.p+"static/media/group.00737002.svg",Rt=n(244),Dt=n.p+"static/media/load-image.c627eeb8.svg",Lt=n.p+"static/media/loop.d385a57c.svg",Ft=n.p+"static/media/palette.ebdcc61c.svg",_t=n.p+"static/media/paste.767ba7ae.svg",Ut=n.p+"static/media/perspective.b5973ac2.svg",Bt=n.p+"static/media/polar-transformation.bca0f07a.svg",Ht=n.p+"static/media/resize.34a01621.svg",zt=n.p+"static/media/shift.788a6731.svg",Wt=n.p+"static/media/statistics.4012e027.svg",qt=n.p+"static/media/table-analyzer.edbb56e2.svg",Gt=n.p+"static/media/table.8752185b.svg",Yt=n.p+"static/media/transformation.6c296033.svg",Kt=n.p+"static/media/window.4e0082b0.svg",Xt=n(125),Jt=n(973),Zt=function(e){var t=e.value,n=e.onChange,i=e.loading;return Object(j.jsx)("div",{className:"tab-body",children:i?Object(j.jsx)(Jt.a,{}):Object(j.jsx)(He.a,{autoFocus:!0,multiline:!0,minRows:4,value:t,onChange:function(e){n(e.target.value)},variant:"outlined",fullWidth:!0})})},Qt=n(14),$t=n(245),en=n.n($t),tn=n(469),nn=n.n(tn),an=(n(428),n(429),n(430),n(431),n(836),function(e){var t=e.children,n=Object(s.useRef)(null);return Object(s.useEffect)((function(){var e,t=null===(e=n.current)||void 0===e?void 0:e.parentElement;t&&en.a.highlightAllUnder(t,!1)}),[t]),Object(j.jsx)("code",{ref:n,children:t})}),rn=Object(s.forwardRef)((function(e,t){var n=e.value,i=e.onChange,a=e.onSelectionChange,r=e.error,o=Object(Ve.a)(),c=Object(s.useRef)(null),l=function(e){var t,i=null===(t=c.current)||void 0===t?void 0:t._input;if(i){i.focus();var a=Math.min(n.length,Math.max(0,e));setTimeout((function(){return i.setSelectionRange(a,a)}),0)}};return Object(s.useEffect)((function(){if(a){var e=function(){var e;if(null!==(e=c.current)&&void 0!==e&&e._input&&c.current._input===document.activeElement){var t=c.current._input;a({start:t.selectionStart,end:t.selectionEnd})}};return document.addEventListener("selectionchange",e),function(){document.removeEventListener("selectionchange",e)}}}),[a]),Object(s.useImperativeHandle)(t,(function(){return{getSelectionPosition:function(){var e,t,n,i,a,r;return{start:null!==(e=null===(t=c.current)||void 0===t||null===(n=t._input)||void 0===n?void 0:n.selectionStart)&&void 0!==e?e:0,end:null!==(i=null===(a=c.current)||void 0===a||null===(r=a._input)||void 0===r?void 0:r.selectionEnd)&&void 0!==i?i:0}},focus:function(e,t){var n,i=null===(n=c.current)||void 0===n?void 0:n._input;i&&(i.focus(),"number"===typeof e&&setTimeout((function(){return i.setSelectionRange(e,null!==t&&void 0!==t?t:e)}),0))},moveCursorTo:l,moveLeft:function(){var e,t,n;return l((null!==(e=null===(t=c.current)||void 0===t||null===(n=t._input)||void 0===n?void 0:n.selectionStart)&&void 0!==e?e:0)-1)},moveRight:function(){var e,t,n;return l((null!==(e=null===(t=c.current)||void 0===t||null===(n=t._input)||void 0===n?void 0:n.selectionStart)&&void 0!==e?e:0)+1)}}})),Object(j.jsx)(nn.a,{className:Object(Qt.a)("formula-editor-field",r&&"markError","language-".concat("sql"),"match-braces","rainbow-braces"),ref:c,value:null!==n&&void 0!==n?n:"",placeholder:o.messages["toolsetView.formula"],onValueChange:i,highlight:function(e){return Object(j.jsx)(an,{children:e||""})},padding:8,style:{fontSize:14},autoFocus:!0})})),on=["title","titleId"];function sn(){return(sn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function cn(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ln(e,t){var n=e.title,i=e.titleId,a=cn(e,on);return s.createElement("svg",sn({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":i},a),n?s.createElement("title",{id:i},n):null,jt||(jt=s.createElement("path",{d:"M18.41,7.41L17,6L11,12L17,18L18.41,16.59L13.83,12L18.41,7.41M12.41,7.41L11,6L5,12L11,18L12.41,16.59L7.83,12L12.41,7.41Z"})))}var un=s.forwardRef(ln),dn=(n.p,{tree:{base:{whiteSpace:"nowrap",listStyle:"none",backgroundColor:"transparent",margin:0,padding:0,color:"black",fontFamily:"lucida grande ,tahoma,verdana,arial,sans-serif",fontSize:"14px"},node:{base:{position:"relative"},link:{cursor:"pointer",position:"relative",padding:"0px 5px",display:"block"},activeLink:{background:"rgb(135, 135, 135)"},toggle:{base:{position:"relative",display:"inline-block",verticalAlign:"top",marginLeft:"-5px",height:"24px",width:"24px"},wrapper:{position:"absolute",top:"50%",left:"50%",margin:"-7px 0 0 -7px",height:"10px"},height:10,width:10,arrow:{fill:"#9DA5AB",strokeWidth:0}},header:{base:{display:"inline-block",verticalAlign:"top",color:"black"},connector:{width:"2px",height:"12px",borderLeft:"solid 2px black",borderBottom:"solid 2px black",position:"absolute",top:"0px",left:"-21px"},title:{lineHeight:"24px",verticalAlign:"middle"}},subtree:{listStyle:"none",paddingLeft:"10px"},loading:{color:"#E2C089"}}}});var pn,vn,bn,fn,hn,mn,gn=function(e,t){var n=Object(d.e)((function(e){var t;return null===e||void 0===e||null===(t=e.app)||void 0===t?void 0:t.proxy})),i=function(){var e=Object(s.useRef)(!1);return Object(s.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),e}(),a=Object(s.useState)(!1),r=Object(f.a)(a,2),o=r[0],c=r[1],l=Object(s.useState)(""),u=Object(f.a)(l,2),p=u[0],v=u[1],b=Object(s.useState)(null),h=Object(f.a)(b,2),m=h[0],g=h[1],j=Object(s.useState)([]),O=Object(f.a)(j,2),I=O[0],E=O[1],y=Object(s.useState)(null),k=Object(f.a)(y,2),x=k[0],T=k[1],V=Object(s.useCallback)((function(){v(""),g(null),E([]),T(null)}),[]),C=Object(s.useCallback)((function(i){return n.protobuf.request(w.a.SvPb.InspectionCmdRequest.create({inspectionID:e,validateAndSetEquationRequest:{objectId:t,equationText:i.replace(/([^\r])\n/g,"$1\r\n"),bSetValue:!1}}))}),[t,e,n.protobuf]),N=Object(s.useCallback)(function(){var e=Object(G.a)(Z.a.mark((function e(t){var n,a,r,o,s,l,u,d,p,b,f;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,C(t);case 4:if(a=e.sent,i){e.next=7;break}return e.abrupt("return",{success:!1});case 7:if(c(!1),v(t),-1!==(r=null===a||void 0===a||null===(n=a.validateAndSetEquationResponse)||void 0===n?void 0:n.validateStatus)){e.next=16;break}return g(null!==(o=null===a||void 0===a||null===(s=a.validateAndSetEquationResponse)||void 0===s?void 0:s.result)&&void 0!==o?o:null),E([]),e.abrupt("return",{success:!0,resultValue:null!==(l=null===a||void 0===a||null===(u=a.validateAndSetEquationResponse)||void 0===u?void 0:u.result)&&void 0!==l?l:null});case 16:return(f=(null!==(d=null===a||void 0===a||null===(p=a.validateAndSetEquationResponse)||void 0===p||null===(b=p.Messages)||void 0===b?void 0:b.messages)&&void 0!==d?d:[]).map((function(e){return e.messageText}))).length||f.push("Incorrect formula"),E(f),g(null),T(r),e.abrupt("return",{success:!1,errorPosition:r});case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),S.a.error(e.t0 instanceof Error?e.t0.message:String(e.t0)),E([]);case 28:return g(null),e.abrupt("return",{success:!1});case 30:case"end":return e.stop()}}),e,null,[[0,24]])})));return function(t){return e.apply(this,arguments)}}(),[i,C]);return Object(s.useMemo)((function(){return{validate:N,validating:o,validatedFormula:p,reset:V,validationSuccessResult:m,validationErrorMessages:I,errorPosition:x}}),[x,V,N,p,o,I,m])};function jn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e instanceof Uint8Array?String.fromCharCode.apply(String,Object(b.a)(Array.from(e))):t}function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return new Uint8Array(e.split("").map((function(e){return e.charCodeAt(0)})))}!function(e){e[e.DirectValue=1]="DirectValue",e[e.IndirectValue=2]="IndirectValue",e[e.Formula=3]="Formula"}(pn||(pn={})),function(e){e[e.RT_None=0]="RT_None",e[e.RT_FromObject=1]="RT_FromObject",e[e.RT_OWNER=2]="RT_OWNER",e[e.RT_Tool=3]="RT_Tool",e[e.RT_IP=4]="RT_IP"}(vn||(vn={})),function(e){e[e.NoDependency=0]="NoDependency",e[e.Client=1]="Client",e[e.Supplier=2]="Supplier",e[e.ClientAndSupplier=3]="ClientAndSupplier"}(bn||(bn={})),function(e){e[e.NoDependencyType=0]="NoDependencyType",e[e.Tool=1]="Tool",e[e.Object=2]="Object"}(fn||(fn={})),function(e){e[e.VT_EMPTY=0]="VT_EMPTY",e[e.VT_NULL=1]="VT_NULL",e[e.VT_I2=2]="VT_I2",e[e.VT_I4=3]="VT_I4",e[e.VT_R4=4]="VT_R4",e[e.VT_R8=5]="VT_R8",e[e.VT_CY=6]="VT_CY",e[e.VT_DATE=7]="VT_DATE",e[e.VT_BSTR=8]="VT_BSTR",e[e.VT_DISPATCH=9]="VT_DISPATCH",e[e.VT_ERROR=10]="VT_ERROR",e[e.VT_BOOL=11]="VT_BOOL",e[e.VT_VARIANT=12]="VT_VARIANT",e[e.VT_UNKNOWN=13]="VT_UNKNOWN",e[e.VT_DECIMAL=14]="VT_DECIMAL",e[e.VT_I1=16]="VT_I1",e[e.VT_UI1=17]="VT_UI1",e[e.VT_UI2=18]="VT_UI2",e[e.VT_UI4=19]="VT_UI4",e[e.VT_I8=20]="VT_I8",e[e.VT_UI8=21]="VT_UI8",e[e.VT_INT=22]="VT_INT",e[e.VT_UINT=23]="VT_UINT",e[e.VT_VOID=24]="VT_VOID",e[e.VT_HRESULT=25]="VT_HRESULT",e[e.VT_PTR=26]="VT_PTR",e[e.VT_SAFEARRAY=27]="VT_SAFEARRAY",e[e.VT_CARRAY=28]="VT_CARRAY",e[e.VT_USERDEFINED=29]="VT_USERDEFINED",e[e.VT_LPSTR=30]="VT_LPSTR",e[e.VT_LPWSTR=31]="VT_LPWSTR",e[e.VT_RECORD=36]="VT_RECORD",e[e.VT_INT_PTR=37]="VT_INT_PTR",e[e.VT_UINT_PTR=38]="VT_UINT_PTR",e[e.VT_FILETIME=64]="VT_FILETIME",e[e.VT_BLOB=65]="VT_BLOB",e[e.VT_STREAM=66]="VT_STREAM",e[e.VT_STORAGE=67]="VT_STORAGE",e[e.VT_STREAMED_OBJECT=68]="VT_STREAMED_OBJECT",e[e.VT_STORED_OBJECT=69]="VT_STORED_OBJECT",e[e.VT_BLOB_OBJECT=70]="VT_BLOB_OBJECT",e[e.VT_CF=71]="VT_CF",e[e.VT_CLSID=72]="VT_CLSID",e[e.VT_VERSIONED_STREAM=73]="VT_VERSIONED_STREAM",e[e.VT_BSTR_BLOB=4095]="VT_BSTR_BLOB",e[e.VT_VECTOR=4096]="VT_VECTOR",e[e.VT_ARRAY=8192]="VT_ARRAY",e[e.VT_BYREF=16384]="VT_BYREF",e[e.VT_RESERVED=32768]="VT_RESERVED",e[e.VT_ILLEGAL=65535]="VT_ILLEGAL",e[e.VT_ILLEGALMASKED=4095]="VT_ILLEGALMASKED",e[e.VT_TYPEMASK=4095]="VT_TYPEMASK"}(hn||(hn={})),function(e){e[e.NoEmbeddedId=0]="NoEmbeddedId",e[e.StringValueEId=1]="StringValueEId",e[e.TaskObjectClassIsObjectValidEId=2]="TaskObjectClassIsObjectValidEId",e[e.RootEId=3]="RootEId",e[e.ToolSetEnabledEId=4]="ToolSetEnabledEId",e[e.ToolEnabledEId=5]="ToolEnabledEId",e[e.ToolSelectedForOperatorMoveEId=6]="ToolSelectedForOperatorMoveEId",e[e.ToolPositionEId=7]="ToolPositionEId",e[e.ToolTimeEId=8]="ToolTimeEId",e[e.MinToolSetTimeEId=9]="MinToolSetTimeEId",e[e.MaxToolSetTimeEId=10]="MaxToolSetTimeEId",e[e.ResetInspectionCountsEId=11]="ResetInspectionCountsEId",e[e.TriggerCountEId=12]="TriggerCountEId",e[e.PPQIndexEId=13]="PPQIndexEId",e[e.TriggerDeltaEId=14]="TriggerDeltaEId",e[e.TriggerToCompletionEId=15]="TriggerToCompletionEId",e[e.TriggerToStartEId=16]="TriggerToStartEId",e[e.TriggerToAcquisitionStartEId=17]="TriggerToAcquisitionStartEId",e[e.AcquisitionTimeEId=18]="AcquisitionTimeEId",e[e.EnableAuxiliaryExtentsEId=21]="EnableAuxiliaryExtentsEId",e[e.ObjectIDEId=22]="ObjectIDEId",e[e.TriggerIndexEId=23]="TriggerIndexEId",e[e.InspectedObjectIDEId=24]="InspectedObjectIDEId",e[e.InspectedObjectIDLinkEId=25]="InspectedObjectIDLinkEId",e[e.LuminanceValueEId=26]="LuminanceValueEId",e[e.HistogramValueEId=27]="HistogramValueEId",e[e.HistogramMeanEId=28]="HistogramMeanEId",e[e.HistogramStdDevEId=29]="HistogramStdDevEId",e[e.HistogramRangeStartEId=30]="HistogramRangeStartEId",e[e.HistogramRangeEndEId=31]="HistogramRangeEndEId",e[e.HistogramRangeSizeEId=32]="HistogramRangeSizeEId",e[e.HistogramMaxPixelEId=33]="HistogramMaxPixelEId",e[e.HistogramScaleEId=34]="HistogramScaleEId",e[e.HistogramMinPixelEId=35]="HistogramMinPixelEId",e[e.HistogramPixelCountEId=36]="HistogramPixelCountEId",e[e.HistogramImageEId=37]="HistogramImageEId",e[e.HistogramHighPeakEId=38]="HistogramHighPeakEId",e[e.HistogramLowPeakEId=39]="HistogramLowPeakEId",e[e.HistogramValleyEId=40]="HistogramValleyEId",e[e.HistogramPeakThresholdEId=41]="HistogramPeakThresholdEId",e[e.HistogramDefaultPeakEId=42]="HistogramDefaultPeakEId",e[e.HistogramAccumulateEId=43]="HistogramAccumulateEId",e[e.HistogramMinPeakHeightEId=44]="HistogramMinPeakHeightEId",e[e.HistogramValleyLowerBoundEId=45]="HistogramValleyLowerBoundEId",e[e.HistogramValleyUpperBoundEId=46]="HistogramValleyUpperBoundEId",e[e.HistogramValleyDefaultEId=47]="HistogramValleyDefaultEId",e[e.HistogramFixedHeightValueEId=48]="HistogramFixedHeightValueEId",e[e.HistogramDynamicHeightEId=49]="HistogramDynamicHeightEId",e[e.CalcStdDevEId=50]="CalcStdDevEId",e[e.PixelColorIndexEId=51]="PixelColorIndexEId",e[e.PixelCountEId=52]="PixelCountEId",e[e.BlobEnabledFeaturesEId=53]="BlobEnabledFeaturesEId",e[e.NbrOfBlobsEId=54]="NbrOfBlobsEId",e[e.MaxBlobDataArraySizeEId=55]="MaxBlobDataArraySizeEId",e[e.SortFeatureEId=56]="SortFeatureEId",e[e.NbrOfBlobsFoundEId=57]="NbrOfBlobsFoundEId",e[e.SortAscendingEId=58]="SortAscendingEId",e[e.ExcludeFailedEId=59]="ExcludeFailedEId",e[e.BlobColorEId=60]="BlobColorEId",e[e.BlobUseFillEId=61]="BlobUseFillEId",e[e.BlobFillColorEId=62]="BlobFillColorEId",e[e.BlobFillTypeEId=63]="BlobFillTypeEId",e[e.StatMinEId=64]="StatMinEId",e[e.StatMaxEId=65]="StatMaxEId",e[e.StatAverageEId=66]="StatAverageEId",e[e.StatStdDevEId=67]="StatStdDevEId",e[e.StatVarianceEId=68]="StatVarianceEId",e[e.StatTestValueEId=69]="StatTestValueEId",e[e.StatNbrOfOccurancesEId=70]="StatNbrOfOccurancesEId",e[e.StatPercentOfOccurancesEId=71]="StatPercentOfOccurancesEId",e[e.StatEnabledFeaturesEId=72]="StatEnabledFeaturesEId",e[e.StatVariableNameToMonitorEId=74]="StatVariableNameToMonitorEId",e[e.UpperThresholdEId=76]="UpperThresholdEId",e[e.LowerThresholdEId=77]="LowerThresholdEId",e[e.ThresholdActivateEId=78]="ThresholdActivateEId",e[e.UpperThresholdActivateEId=79]="UpperThresholdActivateEId",e[e.LowerThresholdActivateEId=80]="LowerThresholdActivateEId",e[e.AutoThresholdEId=81]="AutoThresholdEId",e[e.BlackBackgroundEId=82]="BlackBackgroundEId",e[e.AutoThresholdMultiplierEId=83]="AutoThresholdMultiplierEId",e[e.RingBuffer_FlagOfOutputImagesEId=84]="RingBuffer_FlagOfOutputImagesEId",e[e.FilterKernelEId=85]="FilterKernelEId",e[e.FilterKernelWidthEId=86]="FilterKernelWidthEId",e[e.FilterKernelHeightEId=87]="FilterKernelHeightEId",e[e.CustomFilterClippingEId=88]="CustomFilterClippingEId",e[e.CustomFilterAbsoluteEId=89]="CustomFilterAbsoluteEId",e[e.CustomFilterTransformEId=90]="CustomFilterTransformEId",e[e.RankingFilterRankingRankEId=93]="RankingFilterRankingRankEId",e[e.RingBuffer_DepthEId=94]="RingBuffer_DepthEId",e[e.RingBufferLink_DepthEId=95]="RingBufferLink_DepthEId",e[e.RangeClassFailHighEId=96]="RangeClassFailHighEId",e[e.RangeClassFailLowEId=97]="RangeClassFailLowEId",e[e.RangeClassWarnHighEId=98]="RangeClassWarnHighEId",e[e.RangeClassWarnLowEId=99]="RangeClassWarnLowEId",e[e.RangeClassFailHighIndirectEId=100]="RangeClassFailHighIndirectEId",e[e.RangeClassFailLowIndirectEId=101]="RangeClassFailLowIndirectEId",e[e.RangeClassWarnHighIndirectEId=102]="RangeClassWarnHighIndirectEId",e[e.RangeClassWarnLowIndirectEId=103]="RangeClassWarnLowIndirectEId",e[e.OCVPerformOCREId=104]="OCVPerformOCREId",e[e.OCVMatchLineNumberEId=105]="OCVMatchLineNumberEId",e[e.OCVHighestMatchScoreEId=106]="OCVHighestMatchScoreEId",e[e.OCVLowestMatchScoreEId=107]="OCVLowestMatchScoreEId",e[e.OCVAverageMatchScoreEId=108]="OCVAverageMatchScoreEId",e[e.OCVFontFileNameEId=109]="OCVFontFileNameEId",e[e.OCVMatchStringFileNameEId=110]="OCVMatchStringFileNameEId",e[e.OCVConstraintsFileNameEId=111]="OCVConstraintsFileNameEId",e[e.OCVControlsFileNameEId=112]="OCVControlsFileNameEId",e[e.OCVUseMatchFileEId=113]="OCVUseMatchFileEId",e[e.OCVMatchStringEId=114]="OCVMatchStringEId",e[e.OCVFoundStringEId=115]="OCVFoundStringEId",e[e.OCVCharacterValueEId=116]="OCVCharacterValueEId",e[e.OCVExtentLeftEId=117]="OCVExtentLeftEId",e[e.OCVExtentTopEId=118]="OCVExtentTopEId",e[e.OCVExtentWidthEId=119]="OCVExtentWidthEId",e[e.OCVExtentHeightEId=120]="OCVExtentHeightEId",e[e.OCVMatchScoreEId=121]="OCVMatchScoreEId",e[e.ArchiveResultFilepathEId=122]="ArchiveResultFilepathEId",e[e.ArchiveImageGuids_OBSOLETE_EId=123]="ArchiveImageGuids_OBSOLETE_EId",e[e.ArchiveImageFileRootPart1EId=124]="ArchiveImageFileRootPart1EId",e[e.ArchiveResultGuids_OBSOLETE_EId=125]="ArchiveResultGuids_OBSOLETE_EId",e[e.ArchiveAppendArchiveFileEId=126]="ArchiveAppendArchiveFileEId",e[e.ArchiveStopAtMaxImagesEId=127]="ArchiveStopAtMaxImagesEId",e[e.ArchiveUseTriggerCountForImages_obsolete_EId=128]="ArchiveUseTriggerCountForImages_obsolete_EId",e[e.ArchiveMaxImagesCountEId=129]="ArchiveMaxImagesCountEId",e[e.ArchiveMethodEId=130]="ArchiveMethodEId",e[e.ArchiveUseHeadersEId=131]="ArchiveUseHeadersEId",e[e.ArchiveHeaderLabelEId=132]="ArchiveHeaderLabelEId",e[e.ArchiveHeaderEId=133]="ArchiveHeaderEId",e[e.ArchiveResultNamesEId=134]="ArchiveResultNamesEId",e[e.ArchiveImageNamesEId=135]="ArchiveImageNamesEId",e[e.BaseDirectorynameEId=136]="BaseDirectorynameEId",e[e.BaseFilenameEId=137]="BaseFilenameEId",e[e.CenterFilenameEId=138]="CenterFilenameEId",e[e.FilenameIndex1EId=139]="FilenameIndex1EId",e[e.FilenameIndex1LinkEId=140]="FilenameIndex1LinkEId",e[e.FilenameIndex2EId=141]="FilenameIndex2EId",e[e.FilenameIndex2LinkEId=142]="FilenameIndex2LinkEId",e[e.UseAlternativeImagePathsEId=143]="UseAlternativeImagePathsEId",e[e.SubfolderSelectionEId=144]="SubfolderSelectionEId",e[e.SubfolderSelectionLinkEId=145]="SubfolderSelectionLinkEId",e[e.DirectorynameIndexEId=146]="DirectorynameIndexEId",e[e.DirectorynameIndexLinkEId=147]="DirectorynameIndexLinkEId",e[e.EquationEnabledEId=148]="EquationEnabledEId",e[e.ConditionalResultEId=149]="ConditionalResultEId",e[e.MathEquationResultEId=150]="MathEquationResultEId",e[e.LinearEdgesEId=151]="LinearEdgesEId",e[e.ConditionalEditFreezeFlagEId=152]="ConditionalEditFreezeFlagEId",e[e.DPEdgeAEId=156]="DPEdgeAEId",e[e.DPEdgeBEId=157]="DPEdgeBEId",e[e.DPCenterEId=158]="DPCenterEId",e[e.DWidthEId=159]="DWidthEId",e[e.LinearDistanceEdgeAEId=160]="LinearDistanceEdgeAEId",e[e.LinearDistanceEdgeBEId=161]="LinearDistanceEdgeBEId",e[e.XEId=162]="XEId",e[e.DXEId=163]="DXEId",e[e.YEId=164]="YEId",e[e.DYEId=165]="DYEId",e[e.ValueEId=166]="ValueEId",e[e.FailedEId=167]="FailedEId",e[e.WarnedEId=168]="WarnedEId",e[e.PassedEId=169]="PassedEId",e[e.ExplicitFailedEId=170]="ExplicitFailedEId",e[e.PassedCountEId=171]="PassedCountEId",e[e.FailedCountEId=172]="FailedCountEId",e[e.WarnedCountEId=173]="WarnedCountEId",e[e.EnabledCountEId=174]="EnabledCountEId",e[e.ProcessedCountEId=175]="ProcessedCountEId",e[e.BlackPixelEId=176]="BlackPixelEId",e[e.WhitePixelEId=177]="WhitePixelEId",e[e.EdgeCountEId=178]="EdgeCountEId",e[e.ColorEId=179]="ColorEId",e[e.StatusEId=180]="StatusEId",e[e.RotationAngleEId=182]="RotationAngleEId",e[e.RotationPointXEId=183]="RotationPointXEId",e[e.RotationPointYEId=184]="RotationPointYEId",e[e.ProfileOrientationEId=185]="ProfileOrientationEId",e[e.LinearToolUseRotationEId=186]="LinearToolUseRotationEId",e[e.TranslationXOffsetEId=187]="TranslationXOffsetEId",e[e.TranslationYOffsetEId=188]="TranslationYOffsetEId",e[e.WarpTypeEId=189]="WarpTypeEId",e[e.WarpAngleEId=190]="WarpAngleEId",e[e.EnableOffsetAEId=191]="EnableOffsetAEId",e[e.OffsetAPointEId=192]="OffsetAPointEId",e[e.EnableOffsetBEId=193]="EnableOffsetBEId",e[e.OffsetBPointEId=194]="OffsetBPointEId",e[e.ArithmeticOperatorEId=195]="ArithmeticOperatorEId",e[e.MaskEnabledEId=196]="MaskEnabledEId",e[e.MaskUseImageMaskEId=197]="MaskUseImageMaskEId",e[e.MaskOperatorEId=198]="MaskOperatorEId",e[e.MaskFillAreaEId=199]="MaskFillAreaEId",e[e.MaskFillColorEId=200]="MaskFillColorEId",e[e.ShapeMaskTypeEId=201]="ShapeMaskTypeEId",e[e.ShapeMaskMaskAreaEId=202]="ShapeMaskMaskAreaEId",e[e.ShapeMaskPropertyCenterXEId=203]="ShapeMaskPropertyCenterXEId",e[e.ShapeMaskPropertyCenterYEId=204]="ShapeMaskPropertyCenterYEId",e[e.ShapeMaskPropertyWidthEId=205]="ShapeMaskPropertyWidthEId",e[e.ShapeMaskPropertyHeightEId=206]="ShapeMaskPropertyHeightEId",e[e.ShapeMaskPropertySideThicknessEId=207]="ShapeMaskPropertySideThicknessEId",e[e.ShapeMaskPropertyTopBottomThicknessEId=208]="ShapeMaskPropertyTopBottomThicknessEId",e[e.ShapeMaskPropertyOffsetEId=209]="ShapeMaskPropertyOffsetEId",e[e.ShapeMaskPropertySymmetryOrientationEId=210]="ShapeMaskPropertySymmetryOrientationEId",e[e.ShapeMaskAutoResizeEId=211]="ShapeMaskAutoResizeEId",e[e.PathNameEId=212]="PathNameEId",e[e.ContinuousReloadEId=213]="ContinuousReloadEId",e[e.BarCodeEId=214]="BarCodeEId",e[e.RegExpressionEId=215]="RegExpressionEId",e[e.BCTypeEId=216]="BCTypeEId",e[e.BCOrientationEId=217]="BCOrientationEId",e[e.BCSkewNegativeEId=218]="BCSkewNegativeEId",e[e.BCSkewPositiveEId=219]="BCSkewPositiveEId",e[e.BCCellMinSizeEId=220]="BCCellMinSizeEId",e[e.BCCellMaxSizeEId=221]="BCCellMaxSizeEId",e[e.BCCellNumberXEId=222]="BCCellNumberXEId",e[e.BCCellNumberYEId=223]="BCCellNumberYEId",e[e.BCSpeedEId=224]="BCSpeedEId",e[e.BCThresholdEId=225]="BCThresholdEId",e[e.BCStringSizeEId=226]="BCStringSizeEId",e[e.BCErrorCorrectionEId=227]="BCErrorCorrectionEId",e[e.BCEncodingEId=228]="BCEncodingEId",e[e.BCForegroundColorEId=229]="BCForegroundColorEId",e[e.BCSaveStringInFileEId=230]="BCSaveStringInFileEId",e[e.BCStringFileNameEId=231]="BCStringFileNameEId",e[e.BCWarnOnFailedReadEId=232]="BCWarnOnFailedReadEId",e[e.WatershedFilterMinVariationEId=233]="WatershedFilterMinVariationEId",e[e.WatershedFilterControlFlagEId=234]="WatershedFilterControlFlagEId",e[e.WatershedFilterUseMarkerEId=235]="WatershedFilterUseMarkerEId",e[e.ThickeningFilterItterationsEId=236]="ThickeningFilterItterationsEId",e[e.ThickeningFilterGrayOnEId=237]="ThickeningFilterGrayOnEId",e[e.ThinningFilterItterationsEId=238]="ThinningFilterItterationsEId",e[e.GrayOnEId=239]="GrayOnEId",e[e.BCUseSingleMatchStringEId=240]="BCUseSingleMatchStringEId",e[e.BCUseMatchStringFileEId=241]="BCUseMatchStringFileEId",e[e.BCMatchStringFileNameEId=242]="BCMatchStringFileNameEId",e[e.BCMatchStringLineEId=243]="BCMatchStringLineEId",e[e.BCMatchScoreEId=244]="BCMatchScoreEId",e[e.BCTimeoutEId=245]="BCTimeoutEId",e[e.BCUnevenGridEId=246]="BCUnevenGridEId",e[e.UpperThresholdEquationResultEId=247]="UpperThresholdEquationResultEId",e[e.LowerThresholdEquationResultEId=248]="LowerThresholdEquationResultEId",e[e.AutoThresholdEquationResultEId=249]="AutoThresholdEquationResultEId",e[e.UseExternalATMEId=250]="UseExternalATMEId",e[e.UseExternalLTEId=251]="UseExternalLTEId",e[e.UseExternalUTEId=252]="UseExternalUTEId",e[e.RegressionTestModeEId=253]="RegressionTestModeEId",e[e.UseLowerThresholdSelectableEId=254]="UseLowerThresholdSelectableEId",e[e.UseLowerThresholdMaxMinusPercentDiffEId=255]="UseLowerThresholdMaxMinusPercentDiffEId",e[e.UseLowerThresholdMaxMinusOffsetEId=256]="UseLowerThresholdMaxMinusOffsetEId",e[e.UseLowerThresholdMinPlusOffsetEId=257]="UseLowerThresholdMinPlusOffsetEId",e[e.LowerThresholdMaxMinusPercentDiffEId=258]="LowerThresholdMaxMinusPercentDiffEId",e[e.LowerThresholdMaxMinusOffsetEId=259]="LowerThresholdMaxMinusOffsetEId",e[e.LowerThresholdMinPlusOffsetEId=260]="LowerThresholdMinPlusOffsetEId",e[e.UseUpperThresholdSelectableEId=261]="UseUpperThresholdSelectableEId",e[e.UseUpperThresholdMaxMinusPercentDiffEId=262]="UseUpperThresholdMaxMinusPercentDiffEId",e[e.UseUpperThresholdMaxMinusOffsetEId=263]="UseUpperThresholdMaxMinusOffsetEId",e[e.UseUpperThresholdMinPlusOffsetEId=264]="UseUpperThresholdMinPlusOffsetEId",e[e.UpperThresholdMaxMinusPercentDiffEId=265]="UpperThresholdMaxMinusPercentDiffEId",e[e.UpperThresholdMaxMinusOffsetEId=266]="UpperThresholdMaxMinusOffsetEId",e[e.UpperThresholdMinPlusOffsetEId=267]="UpperThresholdMinPlusOffsetEId",e[e.UseLowerThresholdSelectableBEId=268]="UseLowerThresholdSelectableBEId",e[e.UseLowerThresholdMaxMinusPercentDiffBEId=269]="UseLowerThresholdMaxMinusPercentDiffBEId",e[e.UseLowerThresholdMaxMinusOffsetBEId=270]="UseLowerThresholdMaxMinusOffsetBEId",e[e.UseLowerThresholdMinPlusOffsetBEId=271]="UseLowerThresholdMinPlusOffsetBEId",e[e.LowerThresholdMaxMinusPercentDiffBEId=272]="LowerThresholdMaxMinusPercentDiffBEId",e[e.LowerThresholdMaxMinusOffsetBEId=273]="LowerThresholdMaxMinusOffsetBEId",e[e.LowerThresholdMinPlusOffsetBEId=274]="LowerThresholdMinPlusOffsetBEId",e[e.UseUpperThresholdSelectableBEId=275]="UseUpperThresholdSelectableBEId",e[e.UseUpperThresholdMaxMinusPercentDiffBEId=276]="UseUpperThresholdMaxMinusPercentDiffBEId",e[e.UseUpperThresholdMaxMinusOffsetBEId=277]="UseUpperThresholdMaxMinusOffsetBEId",e[e.UseUpperThresholdMinPlusOffsetBEId=278]="UseUpperThresholdMinPlusOffsetBEId",e[e.UpperThresholdMaxMinusPercentDiffBEId=279]="UpperThresholdMaxMinusPercentDiffBEId",e[e.UpperThresholdMaxMinusOffsetBEId=280]="UpperThresholdMaxMinusOffsetBEId",e[e.UpperThresholdMinPlusOffsetBEId=281]="UpperThresholdMinPlusOffsetBEId",e[e.LinearThresholdMaxEId=282]="LinearThresholdMaxEId",e[e.LinearThresholdMinEId=283]="LinearThresholdMinEId",e[e.LinearThresholdDeltaEId=284]="LinearThresholdDeltaEId",e[e.ShiftToolModeEId=285]="ShiftToolModeEId",e[e.ShiftToolReferenceXEId=286]="ShiftToolReferenceXEId",e[e.ShiftToolReferenceYEId=287]="ShiftToolReferenceYEId",e[e.ContRecalcEId=288]="ContRecalcEId",e[e.ImageTransformDisplacementXEId=289]="ImageTransformDisplacementXEId",e[e.ImageTransformDisplacementYEId=290]="ImageTransformDisplacementYEId",e[e.TopResultEId=291]="TopResultEId",e[e.LeftResultEId=292]="LeftResultEId",e[e.ImageTransformSourceXEId=293]="ImageTransformSourceXEId",e[e.ImageTransformSourceYEId=294]="ImageTransformSourceYEId",e[e.OutputEvaluateTranslationXResultEId=295]="OutputEvaluateTranslationXResultEId",e[e.OutputEvaluateTranslationYResultEId=296]="OutputEvaluateTranslationYResultEId",e[e.OutputEvaluateRotationXResultEId=297]="OutputEvaluateRotationXResultEId",e[e.OutputEvaluateRotationYResultEId=298]="OutputEvaluateRotationYResultEId",e[e.OutputEvaluateRotationAngleResultEId=299]="OutputEvaluateRotationAngleResultEId",e[e.PerformTranslationEId=300]="PerformTranslationEId",e[e.TranslationXEId=301]="TranslationXEId",e[e.TranslationYEId=302]="TranslationYEId",e[e.PerformRotationEId=303]="PerformRotationEId",e[e.LearnedTranslationXEId=304]="LearnedTranslationXEId",e[e.LearnedTranslationYEId=305]="LearnedTranslationYEId",e[e.LearnedRotationXEId=306]="LearnedRotationXEId",e[e.LearnedRotationYEId=307]="LearnedRotationYEId",e[e.LearnedRotationAngleEId=308]="LearnedRotationAngleEId",e[e.UseExtentsOnlyEId=309]="UseExtentsOnlyEId",e[e.ConditionalToolSetDrawFlagEId=310]="ConditionalToolSetDrawFlagEId",e[e.ConditionalToolDrawFlagEId=311]="ConditionalToolDrawFlagEId",e[e.OutputCenterXEId=312]="OutputCenterXEId",e[e.OutputCenterYEId=313]="OutputCenterYEId",e[e.OutputStartRadiusEId=314]="OutputStartRadiusEId",e[e.OutputEndRadiusEId=315]="OutputEndRadiusEId",e[e.OutputStartAngleEId=316]="OutputStartAngleEId",e[e.OutputEndAngleEId=317]="OutputEndAngleEId",e[e.OutputInterpolationModeEId=318]="OutputInterpolationModeEId",e[e.OutputUseFormulaEId=319]="OutputUseFormulaEId",e[e.OutputAngularMethodEId=320]="OutputAngularMethodEId",e[e.OutputEvaluateCenterXResultEId=321]="OutputEvaluateCenterXResultEId",e[e.OutputEvaluateCenterYResultEId=322]="OutputEvaluateCenterYResultEId",e[e.OutputEvaluateStartRadiusResultEId=323]="OutputEvaluateStartRadiusResultEId",e[e.OutputEvaluateEndRadiusResultEId=324]="OutputEvaluateEndRadiusResultEId",e[e.OutputEvaluateStartAngleResultEId=325]="OutputEvaluateStartAngleResultEId",e[e.OutputEvaluateEndAngleResultEId=326]="OutputEvaluateEndAngleResultEId",e[e.ExtentRelativeLeftPositionEId=327]="ExtentRelativeLeftPositionEId",e[e.ExtentRelativeTopPositionEId=328]="ExtentRelativeTopPositionEId",e[e.ExtentRelativeRightPositionEId=329]="ExtentRelativeRightPositionEId",e[e.ExtentRelativeBottomPositionEId=330]="ExtentRelativeBottomPositionEId",e[e.ExtentWidthEId=331]="ExtentWidthEId",e[e.ExtentHeightEId=332]="ExtentHeightEId",e[e.ExtentWidthFactorContentEId=333]="ExtentWidthFactorContentEId",e[e.ExtentHeightFactorContentEId=334]="ExtentHeightFactorContentEId",e[e.UpdateAuxiliaryExtentsEId=335]="UpdateAuxiliaryExtentsEId",e[e.AuxiliarySourceXEId=336]="AuxiliarySourceXEId",e[e.AuxiliarySourceYEId=337]="AuxiliarySourceYEId",e[e.AuxiliarySourceAngleEId=338]="AuxiliarySourceAngleEId",e[e.AuxiliarySourceImageNameEId=339]="AuxiliarySourceImageNameEId",e[e.AuxiliaryDrawTypeEId=340]="AuxiliaryDrawTypeEId",e[e.LUTEquationResultEId=342]="LUTEquationResultEId",e[e.LUTEquationClipFlagEId=343]="LUTEquationClipFlagEId",e[e.OutputLUTVectorEId=344]="OutputLUTVectorEId",e[e.UseLUTEId=345]="UseLUTEId",e[e.ContinuousRecalcLUTEId=346]="ContinuousRecalcLUTEId",e[e.LUTModeEId=347]="LUTModeEId",e[e.LUTUpperClipEId=348]="LUTUpperClipEId",e[e.LUTLowerClipEId=349]="LUTLowerClipEId",e[e.LUTMinInputEId=350]="LUTMinInputEId",e[e.LUTMaxInputEId=351]="LUTMaxInputEId",e[e.LUTMinOutputEId=352]="LUTMinOutputEId",e[e.LUTMaxOutputEId=353]="LUTMaxOutputEId",e[e.PatAcceptThresholdEId=354]="PatAcceptThresholdEId",e[e.PatCertainThresholdEId=355]="PatCertainThresholdEId",e[e.PatAccuracyEId=356]="PatAccuracyEId",e[e.PatMaxOccurancesEId=357]="PatMaxOccurancesEId",e[e.PatSearchAngleModeEId=358]="PatSearchAngleModeEId",e[e.PatSpeedEId=359]="PatSpeedEId",e[e.PatModelImageFileEId=360]="PatModelImageFileEId",e[e.PatSearchAngleEId=361]="PatSearchAngleEId",e[e.PatAngleDeltaNegEId=362]="PatAngleDeltaNegEId",e[e.PatAngleDeltaPosEId=363]="PatAngleDeltaPosEId",e[e.PatAngleToleranceEId=364]="PatAngleToleranceEId",e[e.PatAngleAccuracyEId=365]="PatAngleAccuracyEId",e[e.PatAngleInterpolationEId=366]="PatAngleInterpolationEId",e[e.PatCircularOverscanEId=367]="PatCircularOverscanEId",e[e.PatDontCareEId=368]="PatDontCareEId",e[e.PatDontCareImageFileEId=369]="PatDontCareImageFileEId",e[e.PatPreliminaryAcceptanceThresholdEId=370]="PatPreliminaryAcceptanceThresholdEId",e[e.PatFastFindEId=371]="PatFastFindEId",e[e.PatModelStepEId=372]="PatModelStepEId",e[e.PatModelWidthEId=373]="PatModelWidthEId",e[e.PatModelHeightEId=374]="PatModelHeightEId",e[e.PatModelCenterXEId=375]="PatModelCenterXEId",e[e.PatModelCenterYEId=376]="PatModelCenterYEId",e[e.PatDontCareWidthEId=377]="PatDontCareWidthEId",e[e.PatDontCareHeightEId=378]="PatDontCareHeightEId",e[e.PatBeginningResolutionLevelEId=379]="PatBeginningResolutionLevelEId",e[e.PatFinalResolutionLevelEId=380]="PatFinalResolutionLevelEId",e[e.PatAdditionalCandidatesEId=381]="PatAdditionalCandidatesEId",e[e.PatCandidateSpacingXMinEId=382]="PatCandidateSpacingXMinEId",e[e.PatCandidateSpacingYMinEId=383]="PatCandidateSpacingYMinEId",e[e.PatResultMatchScoreEId=384]="PatResultMatchScoreEId",e[e.PatResultXEId=385]="PatResultXEId",e[e.PatResultYEId=386]="PatResultYEId",e[e.PatResultAngleEId=387]="PatResultAngleEId",e[e.PatResultNumFoundOccurancesEId=388]="PatResultNumFoundOccurancesEId",e[e.LinearDataClassEId=389]="LinearDataClassEId",e[e.Band0ImageEId=390]="Band0ImageEId",e[e.Band1ImageEId=391]="Band1ImageEId",e[e.Band2ImageEId=392]="Band2ImageEId",e[e.ConvertToHSIEId=393]="ConvertToHSIEId",e[e.HasROIEId=394]="HasROIEId",e[e.ColorThresholdEnabledEId=395]="ColorThresholdEnabledEId",e[e.Band0UpperThresholdEId=396]="Band0UpperThresholdEId",e[e.Band0LowerThresholdEId=397]="Band0LowerThresholdEId",e[e.Band0ThresholdExcludeEId=398]="Band0ThresholdExcludeEId",e[e.Band0ThresholdEnabledEId=399]="Band0ThresholdEnabledEId",e[e.Band1UpperThresholdEId=400]="Band1UpperThresholdEId",e[e.Band1LowerThresholdEId=401]="Band1LowerThresholdEId",e[e.Band1ThresholdExcludeEId=402]="Band1ThresholdExcludeEId",e[e.Band1ThresholdEnabledEId=403]="Band1ThresholdEnabledEId",e[e.Band2UpperThresholdEId=404]="Band2UpperThresholdEId",e[e.Band2LowerThresholdEId=405]="Band2LowerThresholdEId",e[e.Band2ThresholdExcludeEId=406]="Band2ThresholdExcludeEId",e[e.Band2ThresholdEnabledEId=407]="Band2ThresholdEnabledEId",e[e.EdgeUpperThresholdValueEId=408]="EdgeUpperThresholdValueEId",e[e.EdgeADirectionEId=409]="EdgeADirectionEId",e[e.EdgeAPolarisationEId=410]="EdgeAPolarisationEId",e[e.EdgeAEdgeSelectEId=411]="EdgeAEdgeSelectEId",e[e.EdgeAEdgeSelectThisValueEId=412]="EdgeAEdgeSelectThisValueEId",e[e.EdgeAIsFixedEdgeMarkerEId=413]="EdgeAIsFixedEdgeMarkerEId",e[e.EdgeAPositionEId=414]="EdgeAPositionEId",e[e.EdgeAPositionOffsetEId=415]="EdgeAPositionOffsetEId",e[e.EdgeBDirectionEId=418]="EdgeBDirectionEId",e[e.EdgeBPolarisationEId=419]="EdgeBPolarisationEId",e[e.EdgeBEdgeSelectEId=420]="EdgeBEdgeSelectEId",e[e.EdgeBEdgeSelectThisValueEId=421]="EdgeBEdgeSelectThisValueEId",e[e.EdgeBIsFixedEdgeMarkerEId=422]="EdgeBIsFixedEdgeMarkerEId",e[e.EdgeBPositionEId=423]="EdgeBPositionEId",e[e.EdgeBPositionOffsetEId=424]="EdgeBPositionOffsetEId",e[e.DrawCriteriaEId=427]="DrawCriteriaEId",e[e.ResizeInterpolationModeEId=428]="ResizeInterpolationModeEId",e[e.ResizeOverscanEId=429]="ResizeOverscanEId",e[e.ResizePerformanceEId=430]="ResizePerformanceEId",e[e.LogicalROIImageEId=431]="LogicalROIImageEId",e[e.DllFileNameEId=432]="DllFileNameEId",e[e.DllToolNameEId=433]="DllToolNameEId",e[e.DllToolVersionEId=434]="DllToolVersionEId",e[e.ShowAllEdgeAOverlaysEId=435]="ShowAllEdgeAOverlaysEId",e[e.ShowAllEdgeBOverlaysEId=436]="ShowAllEdgeBOverlaysEId",e[e.SourceImageNamesEId=437]="SourceImageNamesEId",e[e.BCRawDataEId=438]="BCRawDataEId",e[e.BCStringFormatEId=439]="BCStringFormatEId",e[e.BCThresholdTypeEId=440]="BCThresholdTypeEId",e[e.ToolCommentTypeEId=441]="ToolCommentTypeEId",e[e.NotUsed1=442]="NotUsed1",e[e.NotUsed2=443]="NotUsed2",e[e.ToolSizeAdjustSizeWidthModeEId=445]="ToolSizeAdjustSizeWidthModeEId",e[e.ToolSizeAdjustSizeHeightModeEId=446]="ToolSizeAdjustSizeHeightModeEId",e[e.ToolSizeAdjustSizePositionXModeEId=447]="ToolSizeAdjustSizePositionXModeEId",e[e.ToolSizeAdjustSizePositionYModeEId=448]="ToolSizeAdjustSizePositionYModeEId",e[e.EQAdjustSizeWidthResultEId=449]="EQAdjustSizeWidthResultEId",e[e.EQAdjustSizeHeightResultEId=450]="EQAdjustSizeHeightResultEId",e[e.EQAdjustSizePositionXResultEId=451]="EQAdjustSizePositionXResultEId",e[e.EQAdjustSizePositionYResultEId=452]="EQAdjustSizePositionYResultEId",e[e.TableTool_MaxRowEId=453]="TableTool_MaxRowEId",e[e.TableObject_NumberOfRowsEId=454]="TableObject_NumberOfRowsEId",e[e.RootUidEId=456]="RootUidEId",e[e.GlobalUidEId=457]="GlobalUidEId",e[e.EnvironmentUidEId=458]="EnvironmentUidEId",e[e.EnvironmentModelNumberUidEId=459]="EnvironmentModelNumberUidEId",e[e.EnvironmentWinKeyUidEId=460]="EnvironmentWinKeyUidEId",e[e.EnvironmentImageUpdateUidEId=461]="EnvironmentImageUpdateUidEId",e[e.EnvironmentResultUpdateUidEId=462]="EnvironmentResultUpdateUidEId",e[e.EnvironmentModeIsRunUidEId=463]="EnvironmentModeIsRunUidEId",e[e.EnvironmentModeIsStopUidEId=464]="EnvironmentModeIsStopUidEId",e[e.EnvironmentModeIsRegressionTestUidEId=465]="EnvironmentModeIsRegressionTestUidEId",e[e.EnvironmentModeIsTestUidEId=466]="EnvironmentModeIsTestUidEId",e[e.EnvironmentModeIsEditUidEId=467]="EnvironmentModeIsEditUidEId",e[e.EnvironmentModeValueUidEId=468]="EnvironmentModeValueUidEId",e[e.EnvironmentModeUidEId=469]="EnvironmentModeUidEId",e[e.EnvironmentAutoSaveUidEId=470]="EnvironmentAutoSaveUidEId",e[e.EnvironmentDiskProtectionUidEId=471]="EnvironmentDiskProtectionUidEId",e[e.EnvironmentStartLastConfiEIdEId=472]="EnvironmentStartLastConfiEIdEId",e[e.TableAnaylzerSortIsASCEId=474]="TableAnaylzerSortIsASCEId",e[e.TableAnaylzerExcludeHighEId=475]="TableAnaylzerExcludeHighEId",e[e.TableAnaylzerExcludeHigh_LinkEId=476]="TableAnaylzerExcludeHigh_LinkEId",e[e.TableAnaylzerExcludeLowEId=477]="TableAnaylzerExcludeLowEId",e[e.TableAnaylzerExcludeLow_LinkEId=478]="TableAnaylzerExcludeLow_LinkEId",e[e.TableAnaylzerLimitValueEId=479]="TableAnaylzerLimitValueEId",e[e.TableAnaylzerLimitValue_LinkEId=480]="TableAnaylzerLimitValue_LinkEId",e[e.MaxLoopsEId=481]="MaxLoopsEId",e[e.LoopCounterEId=482]="LoopCounterEId",e[e.LinkedLoopsEId=483]="LinkedLoopsEId",e[e.LinkedLoops_LinkedEId=484]="LinkedLoops_LinkedEId",e[e.LoopBreakEId=485]="LoopBreakEId",e[e.LoopBreak_LinkedEId=486]="LoopBreak_LinkedEId",e[e.TriggerTimeEId=487]="TriggerTimeEId",e[e.SubfolderLocationEId=488]="SubfolderLocationEId",e[e.SubfolderLocationLinkEId=489]="SubfolderLocationLinkEId",e[e.InspectionNameEId=490]="InspectionNameEId",e[e.FormatArchiveToolResultsEId=491]="FormatArchiveToolResultsEId",e[e.ArchiveResultsMinimumNumberOfCharactersEId=492]="ArchiveResultsMinimumNumberOfCharactersEId",e[e.ArchiveResultsNumberOfDecimalsEId=493]="ArchiveResultsNumberOfDecimalsEId",e[e.ArchiveImageFileRootPart2EId=494]="ArchiveImageFileRootPart2EId",e[e.ArchiveImageFileRootPart3EId=495]="ArchiveImageFileRootPart3EId",e[e.ArchiveImageFileRootPart1LinkEId=496]="ArchiveImageFileRootPart1LinkEId",e[e.ArchiveImageFileRootPart2LinkEId=497]="ArchiveImageFileRootPart2LinkEId",e[e.ArchiveImageFileRootPart3LinkEId=498]="ArchiveImageFileRootPart3LinkEId",e[e.IsClosedEId=499]="IsClosedEId",e[e.TriggerPerObjectIDEId=500]="TriggerPerObjectIDEId",e[e.FeatureTypeEId=501]="FeatureTypeEId",e[e.SortEnumEId=502]="SortEnumEId",e[e.IsExcludeEId=503]="IsExcludeEId",e[e.IsInnerExcludeEId=504]="IsInnerExcludeEId",e[e.ExcludeLowerBoundEId=505]="ExcludeLowerBoundEId",e[e.ExcludeLowerBoundIndirectEId=506]="ExcludeLowerBoundIndirectEId",e[e.ExcludeUpperBoundEId=507]="ExcludeUpperBoundEId",e[e.ExcludeUpperBoundIndirectEId=508]="ExcludeUpperBoundIndirectEId",e[e.ConnectivityBlobEId=509]="ConnectivityBlobEId",e[e.IsGrayImageEId=510]="IsGrayImageEId",e[e.IsRangeEId=511]="IsRangeEId",e[e.IsCustomFeatureEId=512]="IsCustomFeatureEId",e[e.NumberOfObjectsEId=513]="NumberOfObjectsEId",e[e.ExtentWidthFactorContentLinkEId=514]="ExtentWidthFactorContentLinkEId",e[e.ExtentHeightFactorContentLinkEId=515]="ExtentHeightFactorContentLinkEId",e[e.ExtentWidthFactorFormatEId=516]="ExtentWidthFactorFormatEId",e[e.ExtentWidthFactorFormatLinkEId=517]="ExtentWidthFactorFormatLinkEId",e[e.ExtentHeightFactorFormatEId=518]="ExtentHeightFactorFormatEId",e[e.ExtentHeightFactorFormatLinkEId=519]="ExtentHeightFactorFormatLinkEId",e[e.ShapeMaskPropertyCenterXLinkEId=534]="ShapeMaskPropertyCenterXLinkEId",e[e.ShapeMaskPropertyCenterYLinkEId=635]="ShapeMaskPropertyCenterYLinkEId",e[e.ShapeMaskPropertyWidthLinkEId=536]="ShapeMaskPropertyWidthLinkEId",e[e.ShapeMaskPropertyHeightLinkEId=537]="ShapeMaskPropertyHeightLinkEId",e[e.ShapeMaskPropertySideThicknessLinkEId=538]="ShapeMaskPropertySideThicknessLinkEId",e[e.ShapeMaskPropertyTopBottomThicknessLinkEId=539]="ShapeMaskPropertyTopBottomThicknessLinkEId",e[e.ShapeMaskPropertyOffsetLinkEId=540]="ShapeMaskPropertyOffsetLinkEId",e[e.MaskImageEId=541]="MaskImageEId",e[e.ObjectTypeEId=542]="ObjectTypeEId",e[e.IsColorAdditionalImageEId=543]="IsColorAdditionalImageEId",e[e.BackgroundColor1EId=544]="BackgroundColor1EId",e[e.BackgroundColor2EId=545]="BackgroundColor2EId",e[e.BackgroundColor3EId=546]="BackgroundColor3EId",e[e.DrawTypesEId=547]="DrawTypesEId",e[e.BlobTypesEId=548]="BlobTypesEId",e[e.Color1EId=549]="Color1EId",e[e.Color2EId=550]="Color2EId",e[e.Color3EId=551]="Color3EId",e[e.DrawAdditionalImageStepNamesEId=552]="DrawAdditionalImageStepNamesEId",e[e.UseAdditionalImageEId=553]="UseAdditionalImageEId",e[e.LinkedValueContentEId=554]="LinkedValueContentEId",e[e.LinkedValueTypeEId=555]="LinkedValueTypeEId",e[e.StatNumberOfValidSamplesEId=560]="StatNumberOfValidSamplesEId",e[e.ImageToolEnabledGainId=561]="ImageToolEnabledGainId",e[e.ImageToolGainId=562]="ImageToolGainId",e[e.ImageToolOffsetId=563]="ImageToolOffsetId",e[e.ImageToolRecalculateOnceId=566]="ImageToolRecalculateOnceId",e[e.AutoFitSizeEId=567]="AutoFitSizeEId",e[e.DrawAreaEId=568]="DrawAreaEId",e[e.LeftEId=569]="LeftEId",e[e.TopEId=570]="TopEId",e[e.EdgeALowerThresholdValueEId=571]="EdgeALowerThresholdValueEId",e[e.EdgeAUpperThresholdValueEId=572]="EdgeAUpperThresholdValueEId",e[e.EdgeBLowerThresholdValueEId=573]="EdgeBLowerThresholdValueEId",e[e.EdgeBUpperThresholdValueEId=574]="EdgeBUpperThresholdValueEId",e[e.UseUnitMappingEId=575]="UseUnitMappingEId",e[e.X1EId=576]="X1EId",e[e.Y1EId=577]="Y1EId",e[e.X2EId=578]="X2EId",e[e.Y2EId=579]="Y2EId",e[e.X3EId=580]="X3EId",e[e.Y3EId=581]="Y3EId",e[e.TextEId=582]="TextEId",e[e.IsBackgroundTransparentEId=583]="IsBackgroundTransparentEId",e[e.FontSizeEId=584]="FontSizeEId",e[e.FontScaleXEId=585]="FontScaleXEId",e[e.FontScaleYEId=586]="FontScaleYEId",e[e.XAxisAngleEId=587]="XAxisAngleEId",e[e.IsColorImageCheckEId=588]="IsColorImageCheckEId",e[e.ArchiveResultFolderpathPart2EId=589]="ArchiveResultFolderpathPart2EId",e[e.ArchiveResultFilenameEId=590]="ArchiveResultFilenameEId",e[e.MaximumImageQueueLengthEId=591]="MaximumImageQueueLengthEId",e[e.CurrentImageQueueLengthEId=592]="CurrentImageQueueLengthEId",e[e.ArchiveResultFolderpathPart1EId=593]="ArchiveResultFolderpathPart1EId",e[e.ArchiveImageFileFormatEId=594]="ArchiveImageFileFormatEId",e[e.OutputImageEId=1e3]="OutputImageEId",e[e.RingBufferIndexEId=1100]="RingBufferIndexEId",e[e.RingBufferIndexLinkEId=1150]="RingBufferIndexLinkEId",e[e.FilterCellEId=1200]="FilterCellEId",e[e.ExternalInputEId=1300]="ExternalInputEId",e[e.ExternalInputLinkedEId=1400]="ExternalInputLinkedEId",e[e.ExternalResultEId=1500]="ExternalResultEId",e[e.DllDependencyFileNameEId=1600]="DllDependencyFileNameEId",e[e.TableColumnValueEId=1700]="TableColumnValueEId",e[e.BlobFeatureEId=1800]="BlobFeatureEId",e[e.InputObjectTypeEId=1900]="InputObjectTypeEId",e[e.ResultObjectValueEId=2e3]="ResultObjectValueEId",e[e.ResultObjectLinkedEId=2100]="ResultObjectLinkedEId",e[e.ResultObjectTypeEId=2200]="ResultObjectTypeEId",e[e.LUTOperatorInputEId=1e5]="LUTOperatorInputEId",e[e.GrayImageInputEId=100001]="GrayImageInputEId",e[e.NewColumnInputEId=100002]="NewColumnInputEId",e[e.ExcludeColumnInputEId=100003]="ExcludeColumnInputEId",e[e.SortColumnInputEId=100004]="SortColumnInputEId",e[e.ProfileOrientationInputEId=100005]="ProfileOrientationInputEId",e[e.UseRoationAngleInputEId=100006]="UseRoationAngleInputEId",e[e.MarkerImageInputEId=100007]="MarkerImageInputEId",e[e.SeedImageInputEId=100008]="SeedImageInputEId",e[e.MinThresholdInputEId=100009]="MinThresholdInputEId",e[e.MaxThresholdInputEId=100010]="MaxThresholdInputEId",e[e.DeltaThresholdInputEId=100011]="DeltaThresholdInputEId",e[e.LinearDataInputEId=100012]="LinearDataInputEId",e[e.ResultInputEId=100013]="ResultInputEId",e[e.UpperThresholdInputEId=100014]="UpperThresholdInputEId",e[e.LowerThresholdInputEId=100015]="LowerThresholdInputEId",e[e.AutoThresholdInputEId=100016]="AutoThresholdInputEId",e[e.TranslationXResultInputEId=100017]="TranslationXResultInputEId",e[e.TranslationYResultInputEId=100018]="TranslationYResultInputEId",e[e.RotationXResultInputEId=100019]="RotationXResultInputEId",e[e.RotationYResultInputEId=100020]="RotationYResultInputEId",e[e.RotationAngleResultInputEId=100021]="RotationAngleResultInputEId",e[e.CenterXResultInputEId=100022]="CenterXResultInputEId",e[e.CenterYResultInputEId=100023]="CenterYResultInputEId",e[e.StartRadiusResultInputEId=100024]="StartRadiusResultInputEId",e[e.EndRadiusResultInputEId=100025]="EndRadiusResultInputEId",e[e.StartAngleResultInputEId=100026]="StartAngleResultInputEId",e[e.EndAngleResultInputEId=100027]="EndAngleResultInputEId",e[e.ImageArithmeticAImageInputEId=100028]="ImageArithmeticAImageInputEId",e[e.ImageArithmeticAEnableOffsetInputEId=100029]="ImageArithmeticAEnableOffsetInputEId",e[e.ImageArithmeticAOffsetPointInputEId=100030]="ImageArithmeticAOffsetPointInputEId",e[e.ImageArithmeticBImageInputEId=100031]="ImageArithmeticBImageInputEId",e[e.ImageArithmeticBEnableOffsetInputEId=100032]="ImageArithmeticBEnableOffsetInputEId",e[e.ImageArithmeticBOffsetPointInputEId=100033]="ImageArithmeticBOffsetPointInputEId",e[e.ImageArithmeticOperatorInputEId=100034]="ImageArithmeticOperatorInputEId",e[e.WidthInputEId=100035]="WidthInputEId",e[e.HeightInputEId=100036]="HeightInputEId",e[e.PositionXInputEId=100037]="PositionXInputEId",e[e.PositionYInputEId=100038]="PositionYInputEId",e[e.RangeValueInputEId=100039]="RangeValueInputEId",e[e.Band0ImageInputEId=100040]="Band0ImageInputEId",e[e.Band1ImageInputEId=100041]="Band1ImageInputEId",e[e.Band2ImageInputEId=100042]="Band2ImageInputEId",e[e.UserMaskImageInputEId=100043]="UserMaskImageInputEId",e[e.ToolSetConditionalInputEId=100044]="ToolSetConditionalInputEId",e[e.SourceTableInputEId=100045]="SourceTableInputEId",e[e.TranslationXInputEId=100046]="TranslationXInputEId",e[e.TranslationYInputEId=100047]="TranslationYInputEId",e[e.AuxImageInputEId=100048]="AuxImageInputEId",e[e.ToolConditionalInputEId=100049]="ToolConditionalInputEId",e[e.OverlayColorInputEId=100050]="OverlayColorInputEId",e[e.BarCodeResultEId=100051]="BarCodeResultEId",e[e.ImageArithmeticGainEnabledEId=100052]="ImageArithmeticGainEnabledEId",e[e.ImageArithmeticGainEId=100053]="ImageArithmeticGainEId",e[e.ImageArithmeticOffsetEId=100054]="ImageArithmeticOffsetEId",e[e.ImageArithmeticUseLutEId=100055]="ImageArithmeticUseLutEId",e[e.MissingImageCountEId=100056]="MissingImageCountEId",e[e.NotCompleteCountEId=100057]="NotCompleteCountEId",e[e.ImageInputEId=15e4]="ImageInputEId"}(mn||(mn={}));var In=function(e,t){var n=Object(d.e)((function(e){var t;return null===e||void 0===e||null===(t=e.app)||void 0===t?void 0:t.proxy})),i=function(){var e=Object(s.useRef)([]);return Object(s.useEffect)((function(){var t;return null===(t=e.current)||void 0===t||t.forEach((function(e){return e.restore()})),function(){var t;null===(t=e.current)||void 0===t||t.forEach((function(e){return e.cancel()})),e.current=[]}}),[]),Object(s.useCallback)((function(t){var n,i=!1,a=new Promise((function(e,n){t.then((function(t){return i?n(null):e(t)})).catch((function(e){return n(i?null:e)}))}));return null===(n=e.current)||void 0===n||n.push({promise:a,cancel:function(){i=!0},restore:function(){i=!1}}),a}),[])}(),a=Object(s.useState)(""),r=Object(f.a)(a,2),o=r[0],c=r[1],l=Object(s.useState)(!1),u=Object(f.a)(l,2),p=u[0],v=u[1];return Object(s.useEffect)((function(){t&&(v(!0),i(n.protobuf.request(w.a.SvPb.InspectionCmdRequest.create({inspectionID:e,getObjectNameRequest:{BeforeType:4354,objectId:t}}))).then((function(e){var t,n;c(jn(null===e||void 0===e||null===(t=e.getObjectNameResponse)||void 0===t?void 0:t.name)||(null===e||void 0===e||null===(n=e.getObjectNameResponse)||void 0===n?void 0:n.name)),v(!1)})).catch((function(e){return e&&v(!1)})))}),[i,e,t,n.protobuf]),{name:o,loading:p}},wn=(n(837),function(e){var t,n,i,a,r=e.inspectionID,c=e.equationId,l=void 0===c?0:c,u=e.value,p=e.onClose,v=e.onSelect,b=Object(d.e)((function(e){var t;return null===e||void 0===e||null===(t=e.app)||void 0===t?void 0:t.configuration})),h=Object(Ve.a)(),m=In(r,u),g=m.name,O=m.loading,I=gn(r,l),w=Object(s.useState)([]),E=Object(f.a)(w,2),S=E[0],y=E[1],k=Object(s.useState)(null),x=Object(f.a)(k,2),T=x[0],V=x[1],C=Object(s.useState)(null),N=Object(f.a)(C,2),A=N[0],P=N[1],M=null!==(t=null===A||void 0===A?void 0:A.link)&&void 0!==t?t:null===T||void 0===T?void 0:T.link,R=(null===(n=I.validationErrorMessages)||void 0===n?void 0:n.length)>0;Object(s.useEffect)((function(){var e,t,n=b.getObjectSelectorItemsForInspection(r);null!==n&&void 0!==n&&null!==(e=n.tree)&&void 0!==e&&e.children&&y(null!==(t=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(null!==t&&void 0!==t&&t.length)return null===t||void 0===t?void 0:t.map((function(t){var i,a,r,s=[n,t.name].filter(Boolean).join(".");return Object(o.a)(Object(o.a)({},t),{},{toggled:"Tool Set"===t.name||t.active,link:s,children:e(null===(i=t.children)||void 0===i?void 0:i.filter((function(e){var t;return null===(t=e.children)||void 0===t?void 0:t.length})),s),values:null!==(a=e(null===(r=t.children)||void 0===r?void 0:r.filter((function(e){var t;return!(null!==(t=e.children)&&void 0!==t&&t.length)})),s))&&void 0!==a?a:[]})}))}(n.tree.children))&&void 0!==t?t:[])}),[b,r]),Object(s.useEffect)((function(){if(!O){var e=g.split(".");e.shift(),e.pop();var t=function e(t,n){return n.length?null===t||void 0===t?void 0:t.map((function(t){var i=n[0],a=t.name===i;return a&&1===n.length&&V(t),Object(o.a)(Object(o.a)({},t),{},{children:a?e(t.children,n.slice(1)):t.children,toggled:!!a||t.toggled,active:a&&1===n.length,name:a?Object(j.jsx)("span",{className:"selected-path-node",children:t.name}):t.name})})):t};y((function(n){var i;return null!==(i=t(n,e))&&void 0!==i?i:[]}))}}),[g,O]),Object(s.useEffect)((function(){M&&I.validate('"'.concat(M,'"'))}),[M]);var D=Object(s.useCallback)((function(e,t,n){y((function i(a){return a.map((function(a){var r,s=null!==(r=a.children)&&void 0!==r&&r.length?i(a.children):a.children;return("function"===typeof e?e(a):a===e)?Object(o.a)(Object(o.a)({},a),{},{children:s},t(a)):n?Object(o.a)(Object(o.a)({},a),{},{children:s},n(a)):a}))}))}),[]),L=Object(s.useCallback)((function(e,t){D(e,(function(e){var n;return{active:!0,toggled:!(null===(n=e.children)||void 0===n||!n.length)&&(t||!e.active)}}),(function(){return{active:!1}})),V(e),P(null)}),[D]),F=Object(s.useCallback)((function(e){D((function(){return!0}),(function(){return{active:!1}}),void 0),P(e)}),[D]);return Object(j.jsx)(We.a,{className:"linked-value-select-dialog",title:Object(j.jsx)("strong",{children:h.messages["toolsetView.selectLinkedValue"]}),onClose:p,open:!0,isPositionAbsolute:!0,children:Object(j.jsxs)("div",{className:"linked-value-select-dialog-main",children:[Object(j.jsxs)("div",{className:"top-info",children:[Object(j.jsxs)("span",{children:[h.messages["toolsetView.highlightedNode"],":"]}),"\u2002",Object(j.jsx)("strong",{children:null!==M&&void 0!==M?M:"-"})]}),Object(j.jsxs)("div",{className:"top-info",children:[Object(j.jsxs)("span",{children:[h.messages["toolsetView.evaluatedValue"],":"]}),"\u2002",I.validating?Object(j.jsx)(Jt.a,{size:"16px"}):R?Object(j.jsx)("span",{className:"error",children:h.messages["toolsetView.validationError"]}):null!==(i=Object(j.jsx)("strong",{children:I.validationSuccessResult}))&&void 0!==i?i:Object(j.jsx)("span",{children:"-"})]}),Object(j.jsxs)("div",{className:"linked-value-select-dialog-body",children:[Object(j.jsx)("div",{children:Object(j.jsx)(Et.Treebeard,{data:S,onToggle:function(e,t){return L(e,t)},style:dn})}),Object(j.jsx)("div",{className:"values-list",children:null===T||void 0===T||null===(a=T.values)||void 0===a?void 0:a.map((function(e){return Object(j.jsx)("div",{className:Object(Qt.a)(A===e&&"selected"),onClick:function(){return F(e)},children:e.name},e.id)}))})]}),Object(j.jsxs)("div",{className:"options",children:[Object(j.jsx)(ze.a,{variant:"outlined",color:"primary",onClick:p,children:h.messages.cancel}),Object(j.jsxs)(ze.a,{variant:"outlined",color:R?"secondary":"primary",disabled:!T&&!A,onClick:function(){var e,t;return v(parseInt(null!==(e=null!==(t=null===A||void 0===A?void 0:A.id)&&void 0!==t?t:null===T||void 0===T?void 0:T.id)&&void 0!==e?e:""),null!==M&&void 0!==M?M:"")},children:[h.messages.ok,Object(j.jsx)(un,{className:Object(Qt.a)("chevron-double-button-icon",R&&"error")})]})]})]})})}),En=(n(838),function(e){var t=e.children,n=e.style,i=void 0===n?{}:n,a=e.codeStyle,r=void 0===a?{}:a,c=Object(s.useRef)(null);return Object(s.useEffect)((function(){c.current&&t&&en.a.highlightAllUnder(c.current,!1)}),[t]),Object(j.jsx)("pre",{ref:c,style:Object(o.a)({display:"inline",whiteSpace:"break-spaces",margin:0,position:"relative",background:"none",padding:0},i),className:"language-".concat("sql"," match-braces rainbow-braces"),children:Object(j.jsx)("code",{style:Object(o.a)({fontFamily:"Calibri, sans-serif",overflow:"hidden",textOverflow:"ellipsis"},r),children:t})})}),Sn=(n(839),Object(et.a)({root:{padding:"0 6px",minWidth:26,minHeight:"auto"}})),yn=function(e){var t=e.conditional,n=e.short,i=e.internalEquationText,a=e.validating,r=e.validatedFormula,o=e.validationSuccessResult,c=e.validationErrorMessages,l=e.errorPosition,u=Object(Ve.a)(),d=r!==i,p=Object(s.useMemo)((function(){return r.includes("\n")?r.split("\n")[0]+"...":r}),[r]);return Object(j.jsxs)("div",{className:"formula-edit-panel-title",children:[!n&&Object(j.jsx)("div",{children:u.messages["toolsetView.formula"]}),a&&Object(j.jsxs)("div",{children:[u.messages["toolsetView.validating"],"..."]}),r&&Object(j.jsxs)("div",{className:"result",children:[null!==o&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("span",{className:"validation-success-info",children:[u.messages["toolsetView.validationSuccess"],"."]}),"\u2002",Object(j.jsxs)("span",{children:[u.messages["toolsetView.result"],":"]}),"\u2002",Object(j.jsx)("strong",{children:t&&!d?o?"TRUE":"FALSE":o})]}),(null===c||void 0===c?void 0:c.length)>0&&Object(j.jsxs)("div",{children:[Object(j.jsxs)("span",{children:[u.messages["toolsetView.validationError"],"."]}),"\u2002",Object(j.jsx)("span",{className:"validation-error-info",children:c.join(". ")})]}),d&&Object(j.jsxs)("div",{className:"validated-formula-info",children:[Object(j.jsxs)("span",{children:[u.messages["toolsetView.validatedFormula"],":"]}),Object(j.jsx)(En,{style:{whiteSpace:"nowrap",display:"inline-flex",overflow:"hidden",textOverflow:"ellipsis"},errorPosition:null!==l&&void 0!==l?l:void 0,children:p})]})]})]})},kn=function(e){var t=e.inspectionID,n=e.internalEquationText,i=e.equationText,a=e.equationId,r=e.setInternalEquationText,c=e.onSave,l=e.onClose,u=e.undoAll,d=e.validate,p=e.validating,v=e.reset,h=e.validatedFormula,m=e.validationErrorMessages,g=Object(Ve.a)(),O=Sn(),I=Object(s.useRef)(null),w=Object(s.useState)({start:n.length,end:n.length}),E=Object(f.a)(w,2),S=E[0],y=E[1],k=Object(s.useState)(!1),x=Object(f.a)(k,2),T=x[0],V=x[1],C=Object(s.useCallback)(Object(G.a)(Z.a.mark((function e(){var t;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n);case 2:return(t=e.sent).success&&c(n.trim(),t.resultValue),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),[d,n,c]),N=Object(s.useCallback)((function(e){var t,i,a,o,s,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=null!==(t=null===(i=I.current)||void 0===i?void 0:i.getSelectionPosition())&&void 0!==t?t:{start:n.length,end:n.length},u=function(){if(["\n"].includes(e))return!1;for(var t=n.split("\n"),i=0,a=0,r=l.start,o=l.end;i<t.length&&(r-=t[i].length+1,o-=t[i].length+1,r>=0&&i++,!(o<0));a++);var s=t.slice(i,Math.min(t.length,a+1)).join("\n");if(0===s.length)return!1;var c=s.charAt(s.length-1),u="0123456789".split(""),d="ABCDEF".split(""),p=[].concat(Object(b.a)(u),Object(b.a)(d),[".",",","(",")"]);return!(p.includes(c)&&p.includes(e)||["0","1"].includes(c)&&"b"===e||[].concat(Object(b.a)(u),Object(b.a)(d)).includes(c)&&"h"===e)&&!s.endsWith(" ")};l.start===l.end?(r(n.slice(0,l.start)+(u()?" ":"")+e+n.slice(l.end)),null===(a=I.current)||void 0===a||a.focus(l.start+(null!==(o=c.cursorOffset)&&void 0!==o?o:0)+(u()?1:0)+e.length)):(r(n.slice(0,l.start)+e+n.slice(l.end)),null===(s=I.current)||void 0===s||s.focus(l.start+("number"===typeof c.cursorOffset?c.cursorOffset:e.length)))}),[n,r]),A=Object(s.useCallback)((function(){var e,t,i,a=null!==(e=null===(t=I.current)||void 0===t?void 0:t.getSelectionPosition())&&void 0!==e?e:{start:n.length,end:n.length},o=Math.max(0,a.start-(a.start===a.end?1:0));r(n.slice(0,o)+n.slice(a.end)),null===(i=I.current)||void 0===i||i.focus(o)}),[n,r]),P=Object(s.useMemo)((function(){var e=function(e,t){return e.map((function(e){return Object(o.a)({label:e,onClick:function(){return N(e)}},null!==t&&void 0!==t?t:{})}))};return[[{label:g.messages["toolsetView.buttons.addLinkedValue"],onClick:function(){return V(!0)}},{separator:!0},{label:"\u219e",onClick:function(){var e;return null===(e=I.current)||void 0===e?void 0:e.moveCursorTo(0)}},{label:"\u21e0",onClick:function(){var e;return null===(e=I.current)||void 0===e?void 0:e.moveLeft()}},{label:"\u21e2",onClick:function(){var e;return null===(e=I.current)||void 0===e?void 0:e.moveRight()}},{label:"\u21a0",onClick:function(){var e;return null===(e=I.current)||void 0===e?void 0:e.moveCursorTo(Number.MAX_SAFE_INTEGER)}}],e("0123456789.".split("")),[].concat(Object(b.a)(e("ABCDEF".split(""))),[{separator:!0},{label:"bin",onClick:function(){return N("b")}},{label:"hex",onClick:function(){return N("h")}}]),[].concat(Object(b.a)(e(["AND","OR","NOT","XOR"])),[{label:"IF",onClick:function(){return N("IF(  )\nTHEN {}\nELSE {}",{cursorOffset:4})}},{separator:!0}],Object(b.a)(e(["+","-"])),[{label:"\xd7",onClick:function(){return N("*")}},{label:"\xf7",onClick:function(){return N("/")}}]),[].concat(Object(b.a)(e(["<",">"])),[{label:"\u2264",onClick:function(){return N("<=")}},{label:"\u2265",onClick:function(){return N(">=")}},{label:"=",onClick:function(){return N("=")}},{label:"\u2260",onClick:function(){return N("<>")}},{separator:!0}],Object(b.a)(e(["(",")","{","}",","]))),[{label:"Sin",onClick:function(){return N("SIN(")}},{label:"Cos",onClick:function(){return N("COS(")}},{label:"Tan",onClick:function(){return N("TAN(")}},{label:"Sin\u207b\xb9",onClick:function(){return N("ASIN(")}},{label:"Cos\u207b\xb9",onClick:function(){return N("ACOS(")}},{label:"Tan\u207b\xb9",onClick:function(){return N("ATAN(")}},{label:"Min",onClick:function(){return N("MIN(,",{cursorOffset:4})}},{label:"Max",onClick:function(){return N("MAX(,",{cursorOffset:4})}},{label:"Avg",onClick:function(){return N("AVG(,",{cursorOffset:4})}},{label:"Med",onClick:function(){return N("MED(,",{cursorOffset:4})}},{label:"Sum",onClick:function(){return N("SUM(,",{cursorOffset:4})}},{label:"Std dev",onClick:function(){return N("STDDEV(,",{cursorOffset:7})}},{label:"Mod",onClick:function(){return N("MOD(,",{cursorOffset:4})}},{label:"Abs",onClick:function(){return N("ABS(")}},{label:"Sqr",onClick:function(){return N("SQR(")}},{label:"Sqrt",onClick:function(){return N("SQRT(")}},{label:"Trunc",onClick:function(){return N("TRUNC(")}},{label:"Pow",onClick:function(){return N("POW(,",{cursorOffset:4})}},{separator:!0},{label:"\u23b5",onClick:function(){return N(" ")}},{label:"\u21b5",onClick:function(){return N("\n")}},{separator:!0},{label:g.messages["toolsetView.buttons.delete"],onClick:A}]]}),[N,A,g.messages]);return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"formula-edit-panel",children:[Object(j.jsx)("div",{className:"panel-container",children:Object(j.jsxs)("div",{className:"panel",children:[Object(j.jsx)("div",{className:"panel-buttons",children:P.map((function(e,t){return Object(j.jsx)("div",{children:e.map((function(e,n){var i,a;return e.separator?Object(j.jsx)("span",{style:{flexGrow:1}},t.toString()+(null!==(i=e.label)&&void 0!==i?i:"_")+n.toString()):Object(j.jsx)(ze.a,{variant:"outlined",color:"primary",onClick:e.onClick,classes:O,style:{textTransform:"none"},children:e.label},t.toString()+(null!==(a=e.label)&&void 0!==a?a:"_")+n.toString())}))},t)}))}),Object(j.jsx)("div",{className:"equation-textfield-container",children:Object(j.jsx)(rn,{ref:I,value:n,error:(null===m||void 0===m?void 0:m.length)>0,onSelectionChange:y,onChange:function(e){v(),r(e)}})})]})}),Object(j.jsxs)("div",{className:"options",children:[Object(j.jsx)(ze.a,{variant:"outlined",color:"primary",style:{minWidth:96},disabled:!n||p,onClick:function(){var e=S.start!==S.end&&S.end-S.start>0,t=e?n.substring(S.start,S.end):n;d(t).then((function(t){var n;if(t.success)null===(n=I.current)||void 0===n||n.focus(S.start,S.end);else if(t.errorPosition){var i;null===(i=I.current)||void 0===i||i.focus(t.errorPosition+(e?S.start:0))}}))},children:S.start!==S.end&&S.end-S.start>0?g.messages["toolsetView.validateSelection"]:g.messages["toolsetView.validate"]}),Object(j.jsx)(ze.a,{variant:"outlined",color:"primary",style:{minWidth:96},onClick:function(){v(),u()},disabled:n===i||p,children:g.messages["toolsetView.undoAll"]}),Object(j.jsx)("span",{style:{marginLeft:16}}),Object(j.jsx)(ze.a,{variant:"outlined",color:"primary",style:{minWidth:96},onClick:l,children:g.messages.cancel}),Object(j.jsx)(ze.a,{variant:"outlined",color:"primary",style:{minWidth:96},disabled:!n||p||n===i||!!h&&(null===m||void 0===m?void 0:m.length)>0,onClick:function(){C().then((function(e){var t;if(e.success)null===(t=I.current)||void 0===t||t.focus(S.start,S.end);else if(e.errorPosition){var n;null===(n=I.current)||void 0===n||n.focus(e.errorPosition)}}))},children:g.messages.ok})]})]}),T&&Object(j.jsx)(wn,{inspectionID:t,equationId:a,onClose:function(){return V(!1)},onSelect:function(e,t){t&&(N('"'.concat(t,'"')),V(!1))}})]})},xn=function(e){var t=e.showInDialog,n=e.inspectionID,i=e.equationText,a=e.equationId,r=e.onClose,c=e.onSave,l=e.conditional,u=Object(s.useState)(""),d=Object(f.a)(u,2),p=d[0],v=d[1],b=gn(n,a),h=(null!==i&&void 0!==i?i:"").replace(/\r\n/g,"\n");Object(s.useEffect)((function(){v(h)}),[h]);var m=Object(s.useCallback)((function(){v(h)}),[h]),g=Object(o.a)(Object(o.a)({},b),{},{conditional:l,short:!t,internalEquationText:p}),O=Object(o.a)(Object(o.a)({},b),{},{onSave:c,onClose:r,inspectionID:n,equationId:a,equationText:h,internalEquationText:p,setInternalEquationText:v,undoAll:m});return t?Object(j.jsx)(We.a,{title:Object(j.jsx)(yn,Object(o.a)({},g)),onClose:r,open:!0,isPositionAbsolute:!0,children:Object(j.jsx)(kn,Object(o.a)({},O))}):Object(j.jsxs)("div",{children:[Object(j.jsx)(yn,Object(o.a)({},g)),Object(j.jsx)(kn,Object(o.a)({},O))]})},Tn=(n(840),function(e){var t,n=e.inspectionID,i=e.value,a=e.onChange,r=e.toggleOptions,c=e.loading,l=e.conditional,u=Object(Ve.a)(),p=Object(s.useState)(!1),b=Object(f.a)(p,2),h=b[0],m=b[1],g=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.myPermissions})),O=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.proxy.mode}));Object(s.useEffect)((function(){r(!h)}),[h]);var I=gn(n,null!==(t=null===i||void 0===i?void 0:i.equationObjectID)&&void 0!==t?t:0),w=I.validate,S=I.validating,y=I.validatedFormula,k=I.validationErrorMessages,x=I.validationSuccessResult;return Object(s.useEffect)((function(){null!==i&&void 0!==i&&i.equationText&&w(i.equationText)}),[null===i||void 0===i?void 0:i.equationText]),Object(s.useEffect)((function(){!h||Object(v.s)(g)&&O===E.a.editMode.id||m(!1)}),[h,g,O]),Object(j.jsx)("div",{className:"tab-body",children:c||!i?Object(j.jsx)(Jt.a,{}):h?Object(j.jsx)(xn,{conditional:l,inspectionID:n,equationId:i.equationObjectID,equationText:i.equationText,onClose:function(){return m(!1)},onSave:function(e){a(Object(o.a)(Object(o.a)({},i),{},{equationText:e})),m(!1)}}):Object(j.jsxs)("div",{className:"formula-tab",children:[Object(j.jsxs)("label",{children:[u.messages["toolsetView.value"],":"]}),Object(j.jsx)("span",{children:S?u.messages["toolsetView.validating"]:y&&Object(j.jsxs)(j.Fragment,{children:[null!==x&&(l?x?"TRUE":"FALSE":x),(null===k||void 0===k?void 0:k.length)>0&&Object(j.jsxs)("span",{children:[Object(j.jsxs)("span",{children:[u.messages["toolsetView.validationError"],"."]}),"\u2002",Object(j.jsx)("span",{className:"validation-error-info",children:k.join(". ")})]})]})}),Object(j.jsxs)("label",{children:[u.messages["toolsetView.formula"],":"]}),Object(j.jsxs)("span",{style:{display:"flex",alignItems:"flex-start",flexWrap:"wrap",overflow:"hidden"},children:[Object(j.jsx)(En,{style:{overflow:"hidden",textOverflow:"ellipsis"},codeStyle:{whiteSpace:"break-spaces"},children:i.equationText}),Object(j.jsx)(Be.a,{onClick:function(){return m(!0)},style:{height:20,width:20,marginLeft:8},iconUrl:Ce.a,tooltip:u.messages["inputToolView.edit"],enabled:Object(v.s)(g)&&O===E.a.editMode.id})]})]})})}),Vn=n(931),Cn=n(986),Nn=n(985),An=n.p+"static/media/chevron-double-left.d02c0bfd.svg",Pn=n.p+"static/media/chevron-left.d49f6e12.svg",Mn=(n(841),function(e){var t=e.numeric,n=e.value,i=e.onChange,a=e.onBlur,r=e.exitEditModeOnBlur,o=Object(Ve.a)(),c=Object(s.useState)(!1),l=Object(f.a)(c,2),u=l[0],d=l[1];return Object(j.jsx)("div",{className:"raw-editor",children:u?Object(j.jsx)(He.a,{type:t?"number":"text",fullWidth:!0,value:n,onChange:function(e){var t;return i(null!==(t=e.target.value)&&void 0!==t?t:"")},onBlur:function(){r&&d(!1),null===a||void 0===a||a()},autoFocus:!0}):Object(j.jsxs)("div",{className:"view-mode",children:[Object(j.jsx)("span",{children:n}),Object(j.jsx)(Be.a,{tooltip:o.messages["inputToolView.edit"],onClick:function(){return d(!0)},style:{height:20,width:20},iconUrl:Ce.a})]})})}),Rn=(n(842),function(e){return e.startsWith("-")?e.substring(1):"-".concat(e)}),Dn=function(e){var t=e.value,n=e.onChange,i=e.onlyIntegers,a=e.min,r=e.max,o=e.smallStep,c=void 0===o?1:o,l=e.largeStep,u=void 0===l?10:l,d=e.hideRawEditor,p=Object(s.useState)(""),v=Object(f.a)(p,2),h=v[0],m=v[1],g=Object(s.useState)(!1),O=Object(f.a)(g,2),I=O[0],w=O[1];Object(s.useEffect)((function(){var e;m(null!==(e=null===t||void 0===t?void 0:t.toString())&&void 0!==e?e:"")}),[t]);var E=function(e){return"number"===typeof a&&e<a?a:"number"===typeof r&&e>r?r:e},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m(e);var o=i?parseInt(e):parseFloat(e);if(!isNaN(o)&&("number"!==typeof a||o>=a)&&("number"!==typeof r||o<=r))w(!1),n(o);else if(t){w(!1);var s=E(o||0);n(s),m(s.toString())}else w(!0)},y=Object(s.useMemo)((function(){return[].concat(Object(b.a)(new Array(10).fill(0).map((function(e,t){return t.toString()}))),Object(b.a)(i?[]:["."]))}),[i]);return Object(j.jsxs)("div",{className:Object(Qt.a)("number-editor",I&&"invalid"),children:[!d&&Object(j.jsx)(Mn,{numeric:!0,value:h,onChange:S,onBlur:function(){m(t.toString()),w(!1)},exitEditModeOnBlur:!0}),Object(j.jsxs)("div",{className:"slider",children:[Object(j.jsxs)("div",{style:{display:"flex",columnGap:8},children:[Object(j.jsx)(Be.a,{iconUrl:An,onClick:function(){return n(E(t-u))}}),Object(j.jsx)(Be.a,{iconUrl:Pn,onClick:function(){return n(E(t-c))}})]}),"number"===typeof a&&"number"===typeof r&&Object(j.jsx)("div",{className:"slider-widget-container",children:Object(j.jsx)(Nn.a,{color:"primary",value:t||0,onChange:function(e,t){return n((Array.isArray(t)?t[0]:t)||0)},valueLabelDisplay:"auto",min:a,max:r,step:1})}),Object(j.jsxs)("div",{style:{display:"flex",columnGap:8},children:[Object(j.jsx)(Be.a,{style:{transform:"scaleX(-1)"},iconUrl:Pn,onClick:function(){return n(E(t+c))}}),Object(j.jsx)(Be.a,{style:{transform:"scaleX(-1)"},iconUrl:An,onClick:function(){return n(E(t+u))}})]})]}),Object(j.jsxs)("div",{className:"keys",children:[("number"!==typeof a||a<0)&&Object(j.jsx)(ze.a,{variant:"contained",disabled:"number"===typeof a&&parseFloat(Rn(h))<a||"number"===typeof r&&parseFloat(Rn(h))>r,onClick:function(){return S(Rn(h),!0)},children:"-"}),y.map((function(e){return Object(j.jsx)(ze.a,{variant:"contained",disabled:"."===e&&h.includes(".")||"number"===typeof r&&"1234567890".includes(e)&&parseFloat(h+e)>r||"number"===typeof a&&"1234567890".includes(e)&&parseFloat(h+e)<a,onClick:function(){"."===e&&h.includes(".")||S(h+e,!0)},children:e},e)})),Object(j.jsx)(ze.a,{variant:"contained",onClick:function(){return S(h.substring(0,Math.max(0,h.length-1)),!0)},children:"DEL"})]})]})},Ln=-17e5,Fn=17e5;function _n(e){return Math.max(Ln,Math.min(Fn,e))}function Un(e,t){if(e===t)return!0;if(!e||!t)return!1;if(e.option!==t.option||e.value!==t.value)return!1;switch(e.option){case pn.IndirectValue:if(e.indirectObjectId!==t.indirectObjectId)return!1;break;case pn.Formula:if(e.formula!==t.formula)return!1}return!0}var Bn=function(e){var t=e.inspectionID,n=e.data,i=Object(d.e)((function(e){var t;return null===e||void 0===e||null===(t=e.app)||void 0===t?void 0:t.proxy})),a=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.proxy.mode})),r=Object(s.useState)(!1),c=Object(f.a)(r,2),l=c[0],u=c[1],p=Object(s.useState)({}),v=Object(f.a)(p,2),b=v[0],h=v[1],m=Object(s.useState)({}),g=Object(f.a)(m,2),j=g[0],O=g[1],I=Object(s.useState)(0),y=Object(f.a)(I,2),k=y[0],x=y[1],T=j&&b&&(!Un(j.failHigh,b.failHigh)||!Un(j.failLow,b.failLow)||!Un(j.warnHigh,b.warnHigh)||!Un(j.warnLow,b.warnLow));Object(s.useEffect)((function(){if(a!==E.a.unknownMode.id){var e,r=w.a.SvPb.InspectionCmdRequest.create({inspectionID:t,getObjectIdRequest:{info:{ownerId:parseInt(null!==(e=n.objectID)&&void 0!==e?e:""),infoStruct:{objectType:2097152,subType:0,embeddedID:mn.NoEmbeddedId}}}});u(!0),i.protobuf.request(r).then((function(e){var n,a;x(null===e||void 0===e||null===(n=e.getObjectIdResponse)||void 0===n?void 0:n.objectId),(a=k,i.protobuf.request(w.a.SvPb.InspectionCmdRequest.create({inspectionID:t,getEmbeddedValuesRequest:{objectId:a}}))).then(function(){var e=Object(G.a)(Z.a.mark((function e(n){var i,a,r,s,c;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null!==(i=null===n||void 0===n||null===(a=n.getEmbeddedValuesResponse)||void 0===a?void 0:a.list)&&void 0!==i?i:[],s=function(){var e=Object(G.a)(Z.a.mark((function e(n){var i,a,s,c,l,u,d,p,v,b,f,h;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d=r.find((function(e){return e.embeddedId===n})),p=null===d||void 0===d?void 0:d.objectId,v=null===d||void 0===d?void 0:d.linkedValue){e.next=5;break}return e.abrupt("return",void 0);case 5:b={inspectionID:t,rangeClass:n,option:v.option,embeddedValueObjectID:p,equationId:v.equationId},e.t0=v.option,e.next=e.t0===pn.DirectValue?9:e.t0===pn.IndirectValue?10:e.t0===pn.Formula?11:12;break;case 9:return e.abrupt("return",Object(o.a)(Object(o.a)({},b),{},{value:null!==(i=null!==(a=null!==(s=null===(c=v.directValue)||void 0===c?void 0:c.dblVal)&&void 0!==s?s:v.value.dblVal)&&void 0!==a?a:v.defaultValue.dblVal)&&void 0!==i?i:0}));case 10:return e.abrupt("return",Object(o.a)(Object(o.a)({},b),{},{value:null!==(f=null!==(h=v.value.dblVal)&&void 0!==h?h:v.defaultValue.dblVal)&&void 0!==f?f:0,indirectObjectId:function(){try{var e;return parseInt(jn(null!==(e=v.indirectIDString)&&void 0!==e?e:new Uint8Array).replace(/[^\d]/g,""))}catch(t){S.a.error(t instanceof Error?t.message:String(t))}}()}));case 11:return e.abrupt("return",Object(o.a)(Object(o.a)({},b),{},{value:null!==(l=null!==(u=v.value.dblVal)&&void 0!==u?u:v.defaultValue.dblVal)&&void 0!==l?l:0,formula:jn(v.formula)}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=4,s(mn.RangeClassFailHighEId);case 4:return e.t0=e.sent,e.next=7,s(mn.RangeClassFailLowEId);case 7:return e.t1=e.sent,e.next=10,s(mn.RangeClassWarnHighEId);case 10:return e.t2=e.sent,e.next=13,s(mn.RangeClassWarnLowEId);case 13:e.t3=e.sent,c={failHigh:e.t0,failLow:e.t1,warnHigh:e.t2,warnLow:e.t3},h(c),O(c);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())})).catch(S.a.error).finally((function(){return u(!1)}))}}),[n.objectID,t,i.protobuf,k,a]);var V=Object(s.useCallback)(Object(G.a)(Z.a.mark((function e(){var n,a,r,o,s,c,l,u,d,p,v,b,f,m;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(T){e.next=2;break}return e.abrupt("return",[]);case 2:if(!((null===(n=j.failHigh)||void 0===n?void 0:n.option)===pn.DirectValue&&(null===(a=j.failLow)||void 0===a?void 0:a.option)===pn.DirectValue&&(null===(r=j.failHigh)||void 0===r?void 0:r.value)<(null===(o=j.failLow)||void 0===o?void 0:o.value))){e.next=4;break}return e.abrupt("return",["Fail low value is bigger than fail high value"]);case 4:if(!((null===(s=j.warnHigh)||void 0===s?void 0:s.option)===pn.DirectValue&&(null===(c=j.warnLow)||void 0===c?void 0:c.option)===pn.DirectValue&&(null===(l=j.warnHigh)||void 0===l?void 0:l.value)<(null===(u=j.warnLow)||void 0===u?void 0:u.value))){e.next=6;break}return e.abrupt("return",["Warn low value is bigger than warn high value"]);case 6:return b=w.a.SvPb.InspectionCmdRequest.create({inspectionID:t,setEmbeddedValuesRequest:{objectId:k,list:Object.values(j).reduce((function(e,t){var n,i,a,r,o,s;return t?(e.push({values:{objectId:null!==(n=t.embeddedValueObjectID)&&void 0!==n?n:0,embeddedId:null!==(i=t.rangeClass)&&void 0!==i?i:mn.NoEmbeddedId,linkedValue:{option:t.option,defaultValue:{type:hn.VT_R8,dblVal:(s=t.rangeClass,[mn.RangeClassFailHighEId,mn.RangeClassWarnHighEId].includes(s)?99999:0)},value:{type:hn.VT_R8,dblVal:_n(null!==(a=t.value)&&void 0!==a?a:0)},directValue:t.option===pn.DirectValue?{type:hn.VT_R8,dblVal:_n(null!==(r=t.value)&&void 0!==r?r:0)}:void 0,indirectIDString:t.option===pn.IndirectValue?On("{#".concat(t.indirectObjectId,"}")):void 0,equationId:t.equationId,formula:t.option===pn.Formula?On(null===(o=t.formula)||void 0===o?void 0:o.replace(/\n/g,"")):void 0}},isModified:!0}),e):e}),[]),resetType:vn.RT_FromObject}}),e.next=9,i.protobuf.request(b);case 9:return f=e.sent,null!==(m=null===f||void 0===f||null===(d=f.standardResponse)||void 0===d||null===(p=d.errorMessages)||void 0===p||null===(v=p.messages)||void 0===v?void 0:v.map((function(e){return e.messageText})))&&void 0!==m&&m.length||h(j),e.abrupt("return",null!==m&&void 0!==m?m:[]);case 13:case"end":return e.stop()}}),e)}))),[t,T,i.protobuf,j,k]);return{value:j,setValue:O,modified:T,loading:l,saveChanges:V}};n(843);function Hn(e){switch(e){case mn.RangeClassFailHighEId:return"Fail high";case mn.RangeClassFailLowEId:return"Fail low";case mn.RangeClassWarnHighEId:return"Warn high";case mn.RangeClassWarnLowEId:return"Warn low"}}var zn=function(e){var t=e.inspectionID,n=e.rangeValue,i=e.onOpenEditView,a=e.editButtonEnabled,r=Object(Ve.a)();if(!n)return Object(j.jsx)("span",{children:"-"});var s={onClick:function(){return i(n)},style:{height:20,width:20},iconUrl:Ce.a,tooltip:r.messages["inputToolView.edit"],enabled:a};switch(n.option){case pn.DirectValue:return Object(j.jsxs)("div",{className:"range-value-preview",children:[Object(j.jsx)("span",{children:n.value}),Object(j.jsx)(Be.a,Object(o.a)({},s))]});case pn.IndirectValue:return Object(j.jsxs)("div",{className:"range-value-preview",children:[Object(j.jsx)(qn,{inspectionId:t,objectId:n.indirectObjectId,defaultValue:n.value}),Object(j.jsx)(Be.a,Object(o.a)({},s)),Object(j.jsxs)("span",{className:"info",children:["(",r.messages["toolsetView.link"],":\u2002",Object(j.jsx)("i",{children:Object(j.jsx)(Wn,{inspectionID:t,value:n.indirectObjectId})}),")"]})]});case pn.Formula:return Object(j.jsxs)("div",{className:"range-value-preview",children:[Object(j.jsx)("span",{children:n.value}),Object(j.jsx)(Be.a,Object(o.a)({},s)),Object(j.jsxs)("span",{className:"info",children:["(Formula:\u2002",Object(j.jsx)("i",{children:Object(j.jsx)(En,{style:{whiteSpace:"nowrap"},children:n.formula})}),")"]})]})}},Wn=function(e){var t=e.inspectionID,n=e.value,i=In(t,n).name;return Object(j.jsx)("span",{children:i})},qn=function(e){var t=e.inspectionId,n=e.objectId,i=e.defaultValue,a=Object(d.e)((function(e){var t;return null===e||void 0===e||null===(t=e.app)||void 0===t?void 0:t.proxy})),r=Object(s.useState)(i),o=Object(f.a)(r,2),c=o[0],l=o[1],u=Object(s.useState)(!1),p=Object(f.a)(u,2),v=p[0],b=p[1];return Object(s.useEffect)((function(){var e={inspectionId:t,valueIds:[n],startAtTriggerCount:-1},r=a.subscribeToProductStream(e,(function(e){var t,a,r=e.product,o=null===r||void 0===r||null===(t=r.getValuesAsString([n],""))||void 0===t||null===(a=t.find((function(e){return parseInt(e.id)===n})))||void 0===a?void 0:a.value;return b(""===o),l(o||i),Promise.resolve()}));return function(){r&&a.unsubscribeFromProductStream(r)}}),[i,t,n,a]),Object(j.jsx)("span",{className:Object(Qt.a)(v&&"indirect-value-error"),children:null!==c&&void 0!==c?c:"-"})},Gn=function(e){var t=e.inspectionID,n=e.value,i=e.onExit,a=e.onChange,r=Object(Ve.a)(),c=Object(s.useState)(n),l=Object(f.a)(c,2),u=l[0],p=l[1],b=Object(s.useState)(!1),h=Object(f.a)(b,2),m=h[0],g=h[1],O=Object(s.useState)(!1),I=Object(f.a)(O,2),w=I[0],S=I[1],y=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.myPermissions})),k=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.proxy.mode}));Object(s.useEffect)((function(){p(n)}),[n]),Object(s.useEffect)((function(){!m||Object(v.s)(y)&&k===E.a.editMode.id||g(!1)}),[m,y,k]),Object(s.useEffect)((function(){!w||Object(v.s)(y)&&k===E.a.editMode.id||S(!1)}),[w,y,k]);var x=!Un(n,u),T=u.option===pn.IndirectValue&&!u.indirectObjectId||u.option===pn.Formula&&!u.formula;return Object(j.jsxs)("div",{className:"range-value-editor",children:[Object(j.jsx)("header",{children:Hn(u.rangeClass)}),Object(j.jsxs)("div",{className:"type-options",children:[Object(j.jsxs)("label",{children:[r.messages["inputToolView.type"],":"]}),Object(j.jsxs)(Vn.a,{defaultValue:u.option,value:u.option,onChange:function(e){return p(Object(o.a)(Object(o.a)({},u),{},{option:e.target.value}))},style:{minWidth:128,width:"auto"},children:[Object(j.jsx)(Cn.a,{value:pn.DirectValue,children:r.messages["toolsetView.value"]}),Object(j.jsx)(Cn.a,{value:pn.IndirectValue,children:r.messages["toolsetView.link"]}),Object(j.jsx)(Cn.a,{value:pn.Formula,children:r.messages["toolsetView.formula"]})]})]}),u.option===pn.DirectValue&&Object(j.jsxs)("div",{className:"direct-editor-container",children:[Object(j.jsxs)("div",{className:"direct-editor",children:[Object(j.jsxs)("label",{children:[r.messages["toolsetView.value"],":"]}),Object(j.jsx)(He.a,{fullWidth:!0,type:"number",value:u.value,onChange:function(e){var t;return p(Object(o.a)(Object(o.a)({},u),{},{value:_n(parseFloat(null!==(t=e.target.value)&&void 0!==t?t:0))}))},autoFocus:!0})]}),Object(j.jsx)(Dn,{value:u.value,onChange:function(e){return p(Object(o.a)(Object(o.a)({},u),{},{value:_n(e)}))},min:Ln,max:Fn,hideRawEditor:!0})]}),u.option===pn.IndirectValue&&Object(j.jsxs)("div",{className:"indirect-editor",children:[Object(j.jsxs)("label",{children:[r.messages["toolsetView.value"],":"]}),Object(j.jsx)(qn,{inspectionId:t,objectId:u.indirectObjectId,defaultValue:u.value}),Object(j.jsxs)("label",{children:[r.messages["toolsetView.link"],":"]}),Object(j.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[Object(j.jsx)(Wn,{inspectionID:t,value:u.indirectObjectId}),Object(j.jsx)(Be.a,{onClick:function(){return g(!0)},style:{height:20,width:20,marginLeft:8},iconUrl:Ce.a,tooltip:r.messages["inputToolView.edit"],enabled:Object(v.s)(y)&&k===E.a.editMode.id})]}),m&&Object(j.jsx)(wn,{inspectionID:u.inspectionID,equationId:u.equationId,value:u.indirectObjectId,onClose:function(){return g(!1)},onSelect:function(e){p(Object(o.a)(Object(o.a)({},u),{},{indirectObjectId:e})),g(!1)}})]}),u.option===pn.Formula&&Object(j.jsxs)("div",{className:"formula-editor",children:[Object(j.jsxs)("label",{children:[r.messages["toolsetView.value"],":"]}),Object(j.jsx)("span",{children:u.value}),Object(j.jsxs)("label",{children:[r.messages["toolsetView.formula"],":"]}),Object(j.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[Object(j.jsx)(En,{children:u.formula}),Object(j.jsx)(Be.a,{onClick:function(){return S(!0)},style:{height:20,width:20,marginLeft:8},iconUrl:Ce.a,tooltip:r.messages["inputToolView.edit"],enabled:Object(v.s)(y)&&k===E.a.editMode.id})]}),w&&Object(j.jsx)(xn,{showInDialog:!0,inspectionID:u.inspectionID,equationId:u.equationId,equationText:u.formula,onClose:function(){return S(!1)},onSave:function(e,t){p(Object(o.a)(Object(o.a)({},u),{},{formula:e,value:null!==t&&void 0!==t?t:u.value})),S(!1)}})]}),Object(j.jsxs)("div",{className:"options",children:[Object(j.jsx)(ze.a,{variant:"outlined",color:"primary",onClick:i,style:{minWidth:128},children:r.messages.cancel}),Object(j.jsx)(ze.a,{variant:"contained",color:"primary",onClick:function(){a(u),i()},style:{minWidth:128},disabled:!x||T,children:r.messages.ok})]})]})},Yn=function(e){var t=e.inspectionID,n=e.value,i=e.onChange,a=e.toggleOptions,r=e.loading,c=Object(s.useState)(null),l=Object(f.a)(c,2),u=l[0],p=l[1],b=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.myPermissions})),h=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.proxy.mode}));Object(s.useEffect)((function(){a(!u)}),[!!u]),Object(s.useEffect)((function(){!u||Object(v.s)(b)&&h===E.a.editMode.id||p(null)}),[u,b,h]);return Object(j.jsx)("div",{className:"tab-body range-tab",children:r?Object(j.jsx)(Jt.a,{}):u?Object(j.jsx)(Gn,{inspectionID:t,value:u,onExit:function(){return p(null)},onChange:function(e){switch(p(e),e.rangeClass){case mn.RangeClassFailHighEId:i(Object(o.a)(Object(o.a)({},n),{},{failHigh:e}));break;case mn.RangeClassFailLowEId:i(Object(o.a)(Object(o.a)({},n),{},{failLow:e}));break;case mn.RangeClassWarnHighEId:i(Object(o.a)(Object(o.a)({},n),{},{warnHigh:e}));break;case mn.RangeClassWarnLowEId:i(Object(o.a)(Object(o.a)({},n),{},{warnLow:e}))}}}):Object(j.jsxs)("div",{className:"values-list",children:[Object(j.jsxs)("label",{children:[Hn(mn.RangeClassFailHighEId),":"]}),Object(j.jsx)(zn,{inspectionID:t,rangeValue:n.failHigh,onOpenEditView:p,editButtonEnabled:Object(v.s)(b)&&h===E.a.editMode.id}),Object(j.jsxs)("label",{children:[Hn(mn.RangeClassWarnHighEId),":"]}),Object(j.jsx)(zn,{inspectionID:t,rangeValue:n.warnHigh,onOpenEditView:p,editButtonEnabled:Object(v.s)(b)&&h===E.a.editMode.id}),Object(j.jsxs)("label",{children:[Hn(mn.RangeClassWarnLowEId),":"]}),Object(j.jsx)(zn,{inspectionID:t,rangeValue:n.warnLow,onOpenEditView:p,editButtonEnabled:Object(v.s)(b)&&h===E.a.editMode.id}),Object(j.jsxs)("label",{children:[Hn(mn.RangeClassFailLowEId),":"]}),Object(j.jsx)(zn,{inspectionID:t,rangeValue:n.failLow,onOpenEditView:p,editButtonEnabled:Object(v.s)(b)&&h===E.a.editMode.id})]})})},Kn=function(e){var t=e.inspectionID,n=e.data,i=e.conditional,a=Object(d.e)((function(e){var t;return null===e||void 0===e||null===(t=e.app)||void 0===t?void 0:t.proxy})),r=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.proxy.mode})),o=Object(s.useState)(!1),c=Object(f.a)(o,2),l=c[0],u=c[1],p=Object(s.useState)(null),v=Object(f.a)(p,2),b=v[0],h=v[1],m=Object(s.useState)(null),g=Object(f.a)(m,2),j=g[0],O=g[1],I=j!==b;Object(s.useEffect)((function(){if(r!==E.a.unknownMode.id){var e,o=w.a.SvPb.InspectionCmdRequest.create({inspectionID:t,getObjectIdRequest:{info:{ownerId:parseInt(null!==(e=n.objectID)&&void 0!==e?e:""),infoStruct:{objectType:8,subType:i?1024:1025,embeddedID:mn.NoEmbeddedId}}}});u(!0),a.protobuf.request(o).then((function(e){var n,i,r=null===e||void 0===e||null===(n=e.getObjectIdResponse)||void 0===n?void 0:n.objectId;(i=r,a.protobuf.request(w.a.SvPb.InspectionCmdRequest.create({inspectionID:t,getEquationRequest:{objectId:i}}))).then((function(e){var t,n,i={equationText:null!==(t=null===e||void 0===e||null===(n=e.getEquationResponse)||void 0===n?void 0:n.equationText)&&void 0!==t?t:"",equationObjectID:r};O(i),h(i)}))})).catch(S.a.error).finally((function(){return u(!1)}))}}),[i,n.objectID,t,a.protobuf,r]);var y=Object(s.useCallback)(Object(G.a)(Z.a.mark((function e(){var n,i,r,o,s;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(I&&j){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,a.protobuf.request(w.a.SvPb.InspectionCmdRequest.create({inspectionID:t,validateAndSetEquationRequest:{objectId:j.equationObjectID,equationText:j.equationText.replace(/([^\r])\n/g,"$1\r\n"),bSetValue:!0}}));case 4:return o=e.sent,null!==(s=null===o||void 0===o||null===(n=o.standardResponse)||void 0===n||null===(i=n.errorMessages)||void 0===i||null===(r=i.messages)||void 0===r?void 0:r.map((function(e){return e.messageText})))&&void 0!==s&&s.length||h(j),e.abrupt("return",null!==s&&void 0!==s?s:[]);case 8:case"end":return e.stop()}}),e)}))),[t,I,a.protobuf,j]);return{value:j,setValue:O,modified:I,loading:l,saveChanges:y}};n(844);function Xn(e){return!!e&&("SVToolObjectType"===e.objectType&&"SVMathToolObjectType"===e.objectSubType||7===e.objectType&&18===e.objectSubType)}var Jn={display:"none"},Zn=function(e){var t=e.inspectionID,n=e.data,i=e.view,a=Object(Ve.a)(),r=Object(s.useState)(!1),c=Object(f.a)(r,2),l=c[0],u=c[1],p=Object(s.useState)([]),v=Object(f.a)(p,2),h=v[0],m=v[1],g=Object(s.useState)(!1),O=Object(f.a)(g,2),I=O[0],E=O[1],y=Object(s.useState)(!0),k=Object(f.a)(y,2),x=k[0],T=k[1],V={inspectionID:t,data:n},C=Kn(V),N=Kn(Object(o.a)(Object(o.a)({},V),{},{conditional:!0})),A=Bn(V),P=function(e){var t=e.inspectionID,n=e.data,i=Object(d.e)((function(e){var t;return null===e||void 0===e||null===(t=e.app)||void 0===t?void 0:t.proxy})),a=Object(s.useState)(!1),r=Object(f.a)(a,2),o=r[0],c=r[1],l=Object(s.useState)(""),u=Object(f.a)(l,2),p=u[0],v=u[1],b=Object(s.useState)(""),h=Object(f.a)(b,2),m=h[0],g=h[1],j=Object(s.useState)(void 0),O=Object(f.a)(j,2),I=O[0],E=O[1],y=m!==p;Object(s.useEffect)((function(){var e,a=w.a.SvPb.InspectionCmdRequest.create({inspectionID:t,getEmbeddedValuesRequest:{objectId:parseInt(null!==(e=n.objectID)&&void 0!==e?e:"")}});c(!0),i.protobuf.request(a).then((function(e){var t,n,i,a,r,o,s,c,l=(null!==(t=null===e||void 0===e||null===(n=e.getEmbeddedValuesResponse)||void 0===n?void 0:n.list)&&void 0!==t?t:[]).find((function(e){return e.embeddedId===mn.ToolCommentTypeEId}));E(null===l||void 0===l?void 0:l.objectId);var u=null!==(i=null!==(a=null===l||void 0===l||null===(r=l.value)||void 0===r||null===(o=r.value)||void 0===o?void 0:o.strVal)&&void 0!==a?a:null===l||void 0===l||null===(s=l.value)||void 0===s||null===(c=s.defaultValue)||void 0===c?void 0:c.strVal)&&void 0!==i?i:"";v(u),g(u)})).catch(S.a.error).finally((function(){return c(!1)}))}),[n.objectID,t,i.protobuf]);var k=Object(s.useCallback)(Object(G.a)(Z.a.mark((function e(){var a,r,o,s,c,l;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,i.protobuf.request(w.a.SvPb.InspectionCmdRequest.create({inspectionID:t,setEmbeddedValuesRequest:{objectId:parseInt(null!==(a=n.objectID)&&void 0!==a?a:""),list:[{values:{objectId:I,embeddedId:mn.ToolCommentTypeEId,value:{defaultValue:{type:hn.VT_BSTR,strVal:""},value:{type:hn.VT_BSTR,strVal:m.trim()}}},isModified:!0}]}}));case 4:return c=e.sent,null!==(l=null===c||void 0===c||null===(r=c.standardResponse)||void 0===r||null===(o=r.errorMessages)||void 0===o||null===(s=o.messages)||void 0===s?void 0:s.map((function(e){return e.messageText})))&&void 0!==l&&l.length||v(m),e.abrupt("return",null!==l&&void 0!==l?l:[]);case 8:case"end":return e.stop()}}),e)}))),[n.objectID,I,t,y,i.protobuf,m]);return{value:m,setValue:g,modified:y,loading:o,saveChanges:k}}(V);Object(s.useEffect)((function(){(P.modified||A.modified||C.modified||N.modified)&&E(!1)}),[P.modified,N.modified,C.modified,A.modified]),Object(s.useEffect)((function(){E(!1),m([])}),[i]);var M=function(e){T(e),e||(E(!1),m([]))},R=Object(s.useMemo)((function(){return[{name:"Formula",component:Tn,props:{inspectionID:t,value:C.value,onChange:C.setValue,toggleOptions:M,loading:C.loading}},{name:"Range",component:Yn,props:{inspectionID:t,value:A.value,onChange:A.setValue,toggleOptions:M,loading:A.loading}},{name:"Conditional",component:Tn,props:{inspectionID:t,value:N.value,onChange:N.setValue,toggleOptions:M,loading:N.loading,conditional:!0}},{name:"Comment",component:Zt,props:{inspectionID:t,value:P.value,onChange:P.setValue,toggleOptions:M,loading:P.loading}}]}),[t,C.value,C.setValue,C.loading,A.value,A.setValue,A.loading,N.value,N.setValue,N.loading,P.value,P.setValue,P.loading]),D=Object(s.useMemo)((function(){switch(i){case"Comment":return P.modified;case"Range":return A.modified;case"Formula":return C.modified;case"Conditional":return N.modified}return!1}),[P.modified,N.modified,C.modified,A.modified,i]),L=function(){var e=Object(G.a)(Z.a.mark((function e(){var t,n,i,a,r;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),E(!1),e.prev=2,e.next=5,P.saveChanges();case 5:return t=e.sent,e.next=8,A.saveChanges();case 8:return n=e.sent,e.next=11,C.saveChanges();case 11:return i=e.sent,e.next=14,N.saveChanges();case 14:a=e.sent,r=[].concat(Object(b.a)(t),Object(b.a)(n),Object(b.a)(i),Object(b.a)(a)),m(r),E(!(null!==r&&void 0!==r&&r.length)),e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),S.a.error(e.t0 instanceof Error?e.t0.message:String(e.t0)),m([e.t0 instanceof Error?e.t0.message:String(e.t0)]);case 24:u(!1);case 25:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"math-tool",children:[Object(j.jsxs)("header",{children:[n.name,"\xa0|\xa0",i,D?"*":""]}),Object(j.jsx)("div",{className:"math-tool-body",children:Object(j.jsx)("div",{className:"content",children:R.map((function(e){return Object(j.jsx)("div",{style:i===e.name?{}:Jn,children:Object(j.jsx)(e.component,Object(o.a)({},e.props))},e.name)}))})}),x&&Object(j.jsxs)("div",{className:"options",children:[Object(j.jsx)(ze.a,{variant:"contained",color:"primary",onClick:L,disabled:l||!D,style:{minWidth:128},children:l?Object(j.jsx)(Jt.a,{size:24}):a.messages.save}),!l&&(null===h||void 0===h?void 0:h.length)>0&&Object(j.jsx)("div",{className:"errors",children:h.map((function(e,t){return Object(j.jsx)("span",{children:e},t)}))}),!l&&I&&Object(j.jsx)("div",{className:"success",children:a.messages["toolsetView.savingSuccess"]})]})]})},Qn=(n(845),n(236)),$n=function(e){var t=e.tools,n=Object(Ve.a)();return Object(j.jsx)("div",{className:"toolset-bar-wrapper",children:t&&t.map((function(e){return e&&e.type===I.a?Object(j.jsx)("div",{className:"toolset-bar-separator",children:Object(j.jsx)("div",{className:"separator"})},"separator_".concat(u.a.generate())):e&&e.type===I.b?Object(j.jsx)(Qn.a,{id:e.id,intlId:e.intlId,iconUrl:e.iconUrl,enabled:e.enabled,onClickHandler:e.onClickHandler,intlIdAlternative:e.intlIdAlternative,iconUrlAlternative:e.iconUrlAlternative,onClickHandlerAlternative:e.onClickHandlerAlternative,showAlternative:e.showAlternative},e.id):Object(j.jsx)(Be.a,{tooltip:n.messages[e.intlId],onClick:function(){return e.onClickHandler()},iconUrl:e.iconUrl,enabled:e.enabled},e.intlId)}))})},ei=(n(846),n.p+"static/media/down.17f143ff.svg"),ti=n.p+"static/media/take-over.e8760b3a.svg",ni=n.p+"static/media/up.32f62e1a.svg",ii=Object(Ae.b)((function(e){var t=e.value;return Object(j.jsx)("li",{className:"filter-list-row",children:Object(j.jsx)("span",{className:"filter-list-row-item",children:t})},t)})),ai=Object(Ae.a)((function(e){var t=e.items;return Object(j.jsx)("ul",{children:t.map((function(e,t){return Object(j.jsx)(ii,{index:t,value:e.value},e.value)}))})})),ri=function(e){var t=e.AvailableFilterListItems,n=void 0===t?[{id:"",value:"Closing Filter",onClick:function(){}},{id:"",value:"Custom Filter",onClick:function(){}},{id:"",value:"Custom2 Filter",onClick:function(){}},{id:"",value:"Dilation Filter",onClick:function(){}},{id:"",value:"EdgeDetect Filter",onClick:function(){}},{id:"",value:"EdgeDetect2 Filter",onClick:function(){}},{id:"",value:"Erosion Filter",onClick:function(){}},{id:"",value:"HorizonEdge Filter",onClick:function(){}},{id:"",value:"LaplacianEdge Filter",onClick:function(){}},{id:"",value:"LaplacianEdge2 Filter",onClick:function(){}},{id:"",value:"MAX MIN Filter",onClick:function(){}},{id:"",value:"Opening Filter",onClick:function(){}},{id:"",value:"Ranking Filter",onClick:function(){}},{id:"",value:"Sharpen Filter",onClick:function(){}},{id:"",value:"Sharpen2 Filter",onClick:function(){}},{id:"",value:"Skeleton Filter",onClick:function(){}},{id:"",value:"Smooth Filter",onClick:function(){}},{id:"",value:"Thickening Filter",onClick:function(){}},{id:"",value:"Thinning Filter",onClick:function(){}},{id:"",value:"VertEdge Filter",onClick:function(){}},{id:"",value:"Watershed Filter",onClick:function(){}}]:t,i=e.AvailableFilterListActions,a=void 0===i?[{intlId:"before",iconUrl:ti,onClickHandler:function(){}}]:i,r=e.CurrentFilterListItems,o=void 0===r?[{id:"",value:"Custom Filter",onClick:function(){}},{id:"",value:"Dilation Filter",onClick:function(){}},{id:"",value:"Closing Filter",onClick:function(){}}]:r,c=e.CurrentFilterListActions,l=void 0===c?[{intlId:"down",iconUrl:ei,onClickHandler:function(){}},{intlId:"up",iconUrl:ni,onClickHandler:function(){}},{intlId:"delete",iconUrl:Je,onClickHandler:function(){}}]:c,u=Object(s.useState)(o),d=Object(f.a)(u,2),p=d[0],v=d[1];return Object(j.jsxs)("div",{className:"parameter-view-filter-wrapper",children:[Object(j.jsxs)("div",{className:"available-filters filter-list",children:[Object(j.jsx)("div",{className:"filter-header",children:"Available Filters"}),Object(j.jsx)("ul",{className:"filter-content",children:n.map((function(e){return Object(j.jsx)("li",{className:"filter-list-row",children:Object(j.jsx)("span",{className:"filter-list-row-item",children:e.value})},e.value)}))}),Object(j.jsx)("div",{className:"filter-list-actions",children:Object(j.jsx)(g.a,{actions:a})})]}),Object(j.jsxs)("div",{className:"current-filters filter-list",children:[Object(j.jsx)("div",{className:"filter-header",children:"Available Filters"}),Object(j.jsx)("ul",{className:"filter-content",children:Object(j.jsx)(ai,{helperClass:"filter-list-row-item-on-drag",items:p,onSortEnd:function(e){var t=e.oldIndex,n=e.newIndex;v(Object(Ae.d)(p,t,n))}})}),Object(j.jsx)("div",{className:"filter-list-actions",children:Object(j.jsx)(g.a,{actions:l})})]}),Object(j.jsx)("div",{className:"property-container",children:Object(j.jsx)("div",{className:"filter-header",children:"Properties"})})]})},oi=function(e){Object(K.a)(n,e);var t=Object(X.a)(n);function n(){var e;Object(a.a)(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).setup=function(t){switch(t.name){case"Equation":e.props.setupParameterView({component:Object(j.jsx)(ri,{})})}},e.viewSetFactory=new Ei,e}return Object(i.a)(n,[{key:"componentDidUpdate",value:function(e){e.node!==this.props.node&&this.setup(this.props.node)}},{key:"render",value:function(){return null}}]),n}(s.Component);oi.defaultProps={node:void 0};var si,ci=Object(d.c)((function(e){return{currentViewSet:e.viewSet.currentViewSet}}),(function(e){return{setupParameterView:function(t){e(Object(p.X)(t))},setViewSet:function(t){e(Object(p.gb)(t))}}}))(oi);n(847);!function(e){e[e.SELECT=0]="SELECT",e[e.DELETE=1]="DELETE",e[e.ADD=2]="ADD",e[e.COPY=3]="COPY",e[e.CUT=4]="CUT",e[e.PASTE=5]="PASTE"}(si||(si={}));var li=function(e,t){return e.position>t.position?1:-1},ui=Object(et.a)((function(){return{label:{fontSize:"1.4rem",transform:"translate(10px, 12px) scale(1)"}}})),di=function(e){var t,n,i=e.id,a=e.inspectionId,r=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.proxy})),c=Object(d.e)((function(e){return e.inspections})),l=Object(d.d)(),u=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.configuration})),b=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.inspectionToolsetMappings})),h=Object(d.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.myPermissions})),m=ui(),O=Object(s.useState)([]),I=Object(f.a)(O,2),E=I[0],y=I[1],k=Object(s.useState)(void 0),x=Object(f.a)(k,2),T=x[0],V=x[1],C=Object(s.useState)(null),N=Object(f.a)(C,2),A=N[0],P=N[1],M=Object(s.useRef)([]),R=Object(s.useState)(0),D=Object(f.a)(R,2),L=D[0],F=D[1],_=Object(s.useState)(!1),U=Object(f.a)(_,2),B=U[0],H=U[1],z=Object(s.useState)(""),W=Object(f.a)(z,2),q=W[0],Y=W[1],K=null===c||void 0===c||null===(t=c[a])||void 0===t?void 0:t.sharedState,X=!!A&&!(null!==(n=A.children)&&void 0!==n&&n.length)&&-1===A.position&&!A.objectType;Object(s.useEffect)((function(){0===u.inspectionToolsetMappings.size&&u.setInspectionIdToToolsetMappings(r.protobuf).then((function(){return r.dispatchCurrentConfiguration(u)}))}),[]),Object(s.useEffect)((function(){var e,t=function(e){if(e){if(0!==b.size)return b.get(e);S.a.warn("inspectionToolsetMappings is empty")}else S.a.warn("getToolsetTreeByInspectionId did not receive inspection id")}(a);F(null===t||void 0===t?void 0:t.toolSetId);var n=function e(t,n){var i;if(!t)return null;var a=t.name,r=t.isValid,o=t.position,s=t.objectID,c=t.objectType,l=t.objectSubType,u={parentNode:n,name:Xn(t)||Xn(n)&&function(e){var t;return!(null!==(t=e.children)&&void 0!==t&&t.length)&&-1===e.position&&!e.objectType}(t)?a:Object(j.jsx)("span",{style:{color:"#546E7A"},children:a}),isValid:r,position:o,objectID:s,toggled:!1,objectType:c,objectSubType:l},d=null===(i=t.children)||void 0===i?void 0:i.reduce((function(t,n){var i=e(n,u);return i&&t.push(i),t}),[]);return u.children=null!==d&&void 0!==d&&d.length?d:void 0,u}(t);if(null!==n&&void 0!==n&&null!==(e=n.children)&&void 0!==e&&e.length){var i=n.children.sort(li);y(i)}}),[b,a]),Object(s.useEffect)((function(){(null===K||void 0===K?void 0:K.editingViewId)!==i&&($((function(){return!0}),(function(){return{active:!1}})),P(null))}),[null===K||void 0===K?void 0:K.editingViewId]);var J,Q=Object(s.useCallback)((function(e){K&&e.parentNode&&((null===K||void 0===K?void 0:K.editingViewId)!==i&&l(Object(p.R)(a,i)),l(Object(p.X)({component:Object(j.jsx)("div",{className:"math-tool-parameter-view",children:Object(j.jsx)(Zn,{inspectionID:parseInt(a),data:e.parentNode,view:e.name})})})))}),[l,a,K,i]),$=Object(s.useCallback)((function(e,t,n){y((function i(a){return a.map((function(a){var r,s=null!==(r=a.children)&&void 0!==r&&r.length?i(a.children):a.children;return("function"===typeof e?e(a):a===e)?Object(o.a)(Object(o.a)({},a),{},{children:s},t(a)):n?Object(o.a)(Object(o.a)({},a),{},{children:s},n(a)):a}))}))}),[]),ee=Object(s.useCallback)((function(e,t){var n,i=!(null!==(n=e.children)&&void 0!==n&&n.length)&&-1===e.position&&!e.objectType;$(e,(function(e){var n;return{active:!0,toggled:null!==(n=e.children)&&void 0!==n&&n.length?t||!e.active:e.toggled}}),(function(){return{active:!1}})),M.current.push({type:si.SELECT,from:null===A||void 0===A?void 0:A.position,to:e.position}),P(e),i&&Xn(e.parentNode)&&Q(e)}),[null===A||void 0===A?void 0:A.position,Q,$]),te=Object(s.useCallback)((function(){if(!A)return{position:0,objectID:null};for(var e=A;!e.position||-1===e.position;){if(!e.parentNode)return{position:0,objectID:null};e=e.parentNode}var t=E.findIndex((function(t){return t.objectID===e.objectID}));return{position:-1!==t?t+1:e.position?e.position:0,objectID:e.objectID}}),[A,E]),ne=Object(s.useCallback)((function(){P(null)}),[]),ie=Object(s.useCallback)((function(e){if(A){var t=A.position;M.current.push({type:si.DELETE,tool:Object(o.a)(Object(o.a)({},A),{},{active:!1})}),r.deleteTool(a,e),y(E.filter((function(e){return e.position!==t}))),ne()}}),[A,a,r,ne,E]),ae=Object(s.useMemo)((function(){var e=function(){var e=Object(G.a)(Z.a.mark((function e(){var t,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return");case 2:return t=te(),n=t.objectID,M.current.push({type:si.COPY,tool:Object(o.a)(Object(o.a)({},A),{},{active:!1})}),e.next=6,r.copyTool(a,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(G.a)(Z.a.mark((function e(){var t,n,i;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return");case 2:return t=te(),n=t.position,i=t.objectID,M.current.push({type:si.CUT,tool:Object(o.a)(Object(o.a)({},A),{},{active:!1})}),e.next=6,r.cutTool(a,i);case 6:ne(),y(E.filter((function(e){return e.position!==n})));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n=function(){var e=Object(G.a)(Z.a.mark((function e(){var t,n;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A){e.next=2;break}return e.abrupt("return");case 2:return t=te(),n=t.objectID,M.current.push({type:si.PASTE,tool:Object(o.a)(Object(o.a)({},A),{},{active:!1})}),e.next=6,r.pasteTool(a,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=Object(v.u)(h)&&!!A,s=Object(v.l)(h)&&!!A;return[{intlId:"copy",iconUrl:xt,onClickHandler:e,enabled:i},{intlId:"cut",iconUrl:Tt,onClickHandler:t,enabled:i},{intlId:"paste",iconUrl:_t,onClickHandler:n,enabled:i},{intlId:"expandAll",iconUrl:Nt,onClickHandler:function(){$((function(){return!0}),(function(e){var t;return{toggled:!(null===(t=e.children)||void 0===t||!t.length)}}))},enabled:i},{intlId:"collapseAll",iconUrl:kt,onClickHandler:function(){$((function(){return!0}),(function(){return{toggled:!1}}))},enabled:i},{intlId:"delete",iconUrl:Ct.a,onClickHandler:function(){return H(!0)},enabled:s}]}),[A,te,a,h,r,ne,E,$]),re=Object(s.useMemo)((function(){var e=function(){var e=Object(G.a)(Z.a.mark((function e(t){var n,i,o;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=te(),i=n.position,e.next=3,r.addTool(a,L,t,i);case 3:o=e.sent,M.current.push({type:si.ADD,position:i,toolId:o});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t=Object(v.e)(h);return[{intlId:"toolsetView.windowTool",iconUrl:Kt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.WindowToolClassId)},enabled:t},{intlId:"toolsetView.mathTool",iconUrl:Pt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.MathToolClassId)},enabled:t},{intlId:"toolsetView.statisticsTool",iconUrl:Wt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.StatisticsToolClassId)},enabled:t},{intlId:"toolsetView.ringBufferTool",iconUrl:yt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.RingBufferToolClassId)},enabled:t},{intlId:"toolsetView.archiveTool",iconUrl:St,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.ArchiveToolClassId)},enabled:t},{intlId:"toolsetView.acquisitionTool",iconUrl:yt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.AcquisitionToolClassId)},enabled:t},{intlId:"toolsetView.transformationTool",iconUrl:Yt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.TransformationToolClassId)},enabled:t},{intlId:"toolsetView.shiftTool",iconUrl:zt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.ShiftToolClassId)},enabled:t},{intlId:"toolsetView.cylindricalWarpTool",iconUrl:Vt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.CylindricalWarpToolClassId)},enabled:t},{intlId:"toolsetView.perspectiveTool",iconUrl:Ut,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.PerspectiveToolClassId)},enabled:t},{intlId:"toolsetView.imageTool",iconUrl:Rt.a,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.ImageToolClassId)},enabled:t},{intlId:"toolsetView.linearTool",iconUrl:yt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.LinearToolClassId)},enabled:t},{intlId:"toolsetView.colorTool",iconUrl:Ft,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.ColorToolClassId)},enabled:t},{intlId:"toolsetView.resizeTool",iconUrl:Ht,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.ResizeToolId)},enabled:t},{intlId:"toolsetView.loadImageTool",iconUrl:Dt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.LoadImageToolClassId)},enabled:t},{intlId:"toolsetView.tableTool",iconUrl:Gt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.TableToolClassId)},enabled:t},{intlId:"toolsetView.tableAnalyzerTool",iconUrl:qt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.TableAnalyzerToolClassId)},enabled:t},{intlId:"toolsetView.polarTransformationTool",iconUrl:Bt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.PolarTransformationToolClassId)},enabled:t},{intlId:"toolsetView.loopTool",iconUrl:Lt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.LoopToolClassId)},enabled:t},{intlId:"toolsetView.externalTool",iconUrl:At,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.ExternalToolClassId)},enabled:t},{intlId:"toolsetView.groupTool",iconUrl:Mt,onClickHandler:function(){return e(w.a.SvPb.ClassIdEnum.GroupToolClassId)},enabled:t}]}),[te,a,r,L,h]);return Object(v.G)(h)||Object(v.v)(h)?Object(j.jsxs)("div",{className:"toolset-wrapper",children:[Object(j.jsx)(Xt.a,{open:B,onClose:function(e){return function(e){e&&null!==A&&void 0!==A&&A.objectID&&ie(A.objectID),H(!1)}(e)},message:Object(j.jsx)(Oe.a,{id:"toolsetView.confirmDelete",values:{toolName:X?null===A||void 0===A||null===(J=A.parentNode)||void 0===J?void 0:J.name:null===A||void 0===A?void 0:A.name}})}),Object(j.jsx)($n,{tools:re}),Object(j.jsx)("div",{className:"toolset",children:Object(j.jsx)("div",{className:"overflow-auto h-100 w-100",style:{paddingBottom:24},children:Object(j.jsxs)("div",{children:[A&&Object(j.jsx)(ci,{node:A}),Object(j.jsx)("div",{className:"w100",children:Object(j.jsx)(He.a,{label:"Filter",type:"text",variant:"outlined",style:{width:"100%"},onChange:function(e){var t=e.target.value;Y(t),V(t?E.filter((function(e){return"string"===typeof e.name?e.name.toLowerCase().indexOf(t.toLowerCase())>-1:function(e){try{return wt.a.renderToString(e).toLowerCase().indexOf(t.toLowerCase())>-1}catch(n){return!1}}(e.name)})):void 0)},value:q,InputLabelProps:{classes:{root:m.label}}})}),Object(j.jsx)(Et.Treebeard,{data:null!==T&&void 0!==T?T:E,onToggle:function(e,t){return ee(e,t)},style:dn})]})})}),Object(j.jsx)(g.a,{isViewAction:!0,actions:ae})]}):Object(j.jsx)("div",{})},pi=function(e){return e.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(r.a)({},t.id,t))}),{})},vi=[{title:"No. of Cameras",intlId:"noOfCameras",options:[{title:"1",value:1},{title:"2",value:2},{title:"3",value:3},{title:"4",value:4}]},{title:"No. of Triggers",intlId:"noOfTriggers",options:[{title:"1",value:1},{title:"2",value:2},{title:"3",value:3},{title:"4",value:4}]},{title:"No. of MonitorLists",intlId:"noOfMonitors",options:[{title:"1",value:1},{title:"2",value:2},{title:"3",value:3},{title:"4",value:4}]}],bi="CONFIG_VIEW",fi="TOOLSET_VIEW",hi="IMAGE_VIEW",mi="PARAMETER_VIEW",gi="LIST_VIEW",ji="IMAGE_STRIP_VIEW",Oi="DEFAULT_RECIPE_VIEWSET",Ii="DEFAULT_VIEWSET",wi="Initial",Ei=Object(i.a)((function e(){var t=this;Object(a.a)(this,e),this.getViewSet=function(e){switch(e){case Ii:return t.buildEmptyViewSet();case"DEFAULT_EDIT_VIEWSET":case Oi:default:return null}},this.createViewInstance=function(e,n){var i=t.getViewById(e.viewComponentClassId);if(!i)return!1;var a="".concat(e.viewComponentClassId,"_").concat(e.id,"_").concat(e.inspectionId),r=Object(o.a)(Object(o.a)(Object(o.a)({},i.passedProps),n),{},{key:a});switch(i.viewComponentClassId){case bi:return Object(j.jsx)(Ot,Object(o.a)({},r));case fi:return Object(j.jsx)(di,Object(o.a)({},r));case hi:return Object(j.jsx)(ke,Object(o.a)({},r));case mi:return Object(j.jsx)(ut,Object(o.a)({},r));case ji:return Object(j.jsx)(q,Object(o.a)({},r));case gi:return Object(j.jsx)(Xe,Object(o.a)({},r));default:return Object(j.jsxs)("div",{children:["Unknown Component ",i.viewComponentClassId]})}},this.getViewById=function(e){switch(e){case bi:return{id:u.a.generate(),titleId:"recipeViewInspectionTemplate",viewComponentClassId:bi,passedProps:{configurations:vi}};case fi:return{id:u.a.generate(),titleId:"toolsetView.inspectionTemplate",viewComponentClassId:fi};case hi:return{id:u.a.generate(),titleId:"imageView.inspectionTemplate",viewComponentClassId:hi};case mi:return{id:u.a.generate(),titleId:"parameterView.inspectionTemplate",viewComponentClassId:mi};case ji:return{id:u.a.generate(),titleId:"imageStripView.inspectionTemplate",viewComponentClassId:ji};case gi:return{id:u.a.generate(),titleId:"listView.inspectionTemplate",viewComponentClassId:gi};default:return null}},this.buildRecipeViewSet=function(){var e=[t.getViewById(hi),t.getViewById(gi),t.getViewById(ji)];return{id:Oi,viewSet:pi(e),initialValue:{first:{direction:"row",splitPercentage:60,first:e[0].id,second:e[1].id},direction:"column",splitPercentage:75,second:e[2].id}}},this.buildEmptyViewSet=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wi,t=u.a.generate();return{id:e,name:e,viewSet:Object(r.a)({},t,{}),initialValue:t}},this.buildEditViewSet=function(){var e=[t.getViewById(fi),t.getViewById(hi),t.getViewById(mi)];return{id:Ii,viewSet:pi(e),initialValue:{direction:"row",first:e[0].id,splitPercentage:30,second:{direction:"column",splitPercentage:45,first:e[1].id,second:e[2].id}}}},this.createNewViewSet=function(){var e=[{id:u.a.generate(),viewComponentClassId:fi,titleId:"toolsetViewInspectionTemplate"}];return{id:"NEW_VIEWSET",viewSet:pi(e),initialValue:e[0].id}}}))},432:function(e,t,n){},46:function(e,t,n){"use strict";var i=n(11),a=(n(0),n(23)),r=n.n(a),o=n(167),s=n(155),c=n(49),l=n(27),u=(n(750),n(1));t.a=function(e){var t,n=e.children,a=e.open,d=void 0!==a&&a,p=e.className,v=e.isInView,b=void 0!==v&&v,f=e.isFullscreen,h=void 0!==f&&f,m=e.isPopup,g=void 0!==m&&m,j=e.isPositionAbsolute,O=e.title,I=e.dialogActions,w=e.onClose,E=Object(o.a)(),S=r()((t={},Object(i.a)(t,null!==p&&void 0!==p?p:"",!!p),Object(i.a)(t,"dialog",!0),Object(i.a)(t,"dialog--open",d),Object(i.a)(t,"is-in-view",b),Object(i.a)(t,"is-position-absolute",j),t)),y=r()({"dialog-wrapper":!0,"is-height-100":b||h,"is-width-100":h,isPopup:g}),k=r()({"dialog-content-wrapper":!0,"is-padding-0":b,isPopup:g});return d?Object(u.jsx)("div",{className:S,children:Object(u.jsxs)("div",{className:y,children:[Object(u.jsxs)("div",{className:"dialog-toolbar",children:[Object(u.jsx)("div",{className:"dialog-title",children:O}),Object(u.jsx)("div",{className:"dialog-controll-wrapper",children:Object(u.jsx)(l.a,{tooltip:E.messages["viewSetManager.close"],iconUrl:s.a,onClick:w})})]}),Object(u.jsx)("div",{className:k,children:n}),Object(u.jsx)("div",{className:"dialog-action-wrapper",children:I&&Object(u.jsx)(c.a,{isViewAction:!0,actions:I})})]})}):null}},471:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return T}));var i=n(12),a=n(6),r=n(5),o=n.n(r),s=n(0),c=n(255),l=n(167),u=n(8),d=n(38),p=n(241),v=n(237),b=n(153),f=n(472),h=n(473),m=n(157),g=n(474),j=n(475),O=n(476),I=n(9),w=n(124),E=n(15),S=n(477),y=n(158),k=n(487),x=n(1),T=function(){var t=Object(u.d)(),n=Object(u.e)((function(e){return e})),r=Object(u.e)((function(e){return e.app})),T=r.user,V=r.protobuf,C=r.myPermissions,N=r.proxy,A=Object(u.e)((function(e){return e.viewSet.unsavedChanges})),P=Object(l.a)(),M=Object(d.f)(),R=Object(s.useRef)(null),D=Object(s.useState)(!1),L=Object(a.a)(D,2),F=L[0],_=L[1],U=Object(s.useState)(!1),B=Object(a.a)(U,2),H=B[0],z=B[1],W=Object(s.useState)(!1),q=Object(a.a)(W,2),G=q[0],Y=q[1],K=function(){var e=Object(i.a)(o.a.mark((function e(){var t,n,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.downloadSVOConfig();case 2:t=e.sent,n=new Blob([t],{type:"application/octet-stream"}),i=URL.createObjectURL(n),Object(w.a)(i,"SVOConfig_".concat((new Date).toISOString(),".svz"));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=[{id:"saveConfig",content:P.messages["topNavigation.saveConfig"],icon:m.a,onClick:function(){return t(Object(I.G)(V,n))},enabled:!!A&&Object(E.J)(C)},{id:"permissions",content:P.messages["topNavigation.permissions"],icon:h.a,onClick:function(){return M.push("/permissions")},enabled:Object(E.H)(C)||Object(E.w)(C)},{id:"download",content:P.messages["topNavigation.download"],icon:p.a,onClick:K,enabled:Object(E.E)(C)},{id:"upload",content:Object(x.jsxs)(x.Fragment,{children:[P.messages["topNavigation.upload"],Object(x.jsx)("input",{type:"file",id:"file",ref:R,style:{display:"none"},onChange:function(e){var t,n=null===(t=e.target.files)||void 0===t?void 0:t[0];if(n){var i=new FileReader;i.readAsArrayBuffer(n),i.onload=function(e){var t,i=null===(t=e.target)||void 0===t?void 0:t.result,a=i instanceof ArrayBuffer?new Uint8Array(i):new Uint8Array;N.uploadSVOConfig(n.name,a)}}}})]}),icon:j.a,onClick:function(){var e=Object(i.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null===(t=R.current)||void 0===t||null===(n=t.click)||void 0===n?void 0:n.call(t));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),enabled:Object(E.K)(C)},{id:"help",icon:v.a,content:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{children:P.messages["topNavigation.help"]}),Object(x.jsx)(c.a,{container:document.body,children:Object(x.jsx)(y.a,{open:H,onClose:function(){return z(!1)}})})]}),onClick:function(){return!H&&z(!0)},enabled:!0},{id:"shortcutHelp",icon:g.a,content:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{children:P.messages["topNavigation.shortcut"]}),Object(x.jsx)(c.a,{container:document.body,children:Object(x.jsx)(k.a,{open:F,onClose:function(){return _(!1)}})})]}),onClick:function(){return!F&&_(!0)},enabled:!0},{id:"about",icon:b.a,content:Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("span",{children:P.messages["topNavigation.about"]}),Object(x.jsx)(c.a,{container:document.body,children:Object(x.jsx)(S.a,{open:G,onClose:function(){return Y(!1)}})})]}),onClick:function(){return!G&&Y(!0)},enabled:!0},{id:"logout",icon:f.a,content:P.messages["topNavigation.logout"],onClick:function(){var t=Object(i.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:N.unsubscribeFromLockAcquisitionStream(),e((function(){return window.location.href="".concat(window.location.origin,"/logout")}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),enabled:!0}];return{id:"user-info",icon:O.a,content:T.fullname,enabled:!0,children:X}}}).call(this,n(208).setImmediate)},472:function(e,t,n){"use strict";t.a=n.p+"static/media/logout.34533d8e.svg"},473:function(e,t,n){"use strict";t.a=n.p+"static/media/permissions.ce764429.svg"},474:function(e,t,n){"use strict";t.a=n.p+"static/media/shortcut-help.d16d3001.svg"},475:function(e,t,n){"use strict";t.a=n.p+"static/media/upload.6f61d1e9.svg"},476:function(e,t,n){"use strict";t.a=n.p+"static/media/user.71fbff7c.svg"},477:function(e,t,n){"use strict";var i=n(19),a=n(17),r=n(26),o=n(30),s=n(0),c=n(331),l=n(168),u=n(189),d=n(8),p=n(247),v=n(46),b=n(248),f=(n(879),n(1)),h=function(e){Object(r.a)(n,e);var t=Object(o.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(a.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.open,i=e.intl,a=e.configuration;return a?Object(f.jsxs)(v.a,{title:Object(f.jsx)(l.a,{id:"aboutView"}),onClose:t,open:n,children:[Object(f.jsx)("div",{className:"appname",children:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_NAME}),Object(f.jsxs)("div",{className:"table",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"cell",children:i.messages["aboutView.applicationVersion"]}),Object(f.jsx)("div",{className:"cell",children:a.getWebAppVersion()||Object(f.jsx)(c.a,{width:"155px"})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"cell",children:i.messages["aboutView.svoVersion"]}),Object(f.jsx)("div",{className:"cell",children:a.getSvObserverVersion()||Object(f.jsx)(c.a,{width:"155px"})})]}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"cell",children:i.messages["aboutView.gatewayVersion"]}),Object(f.jsx)("div",{className:"cell",children:a.getGatewayVersion()||Object(f.jsx)(c.a,{width:"155px"})})]})]}),Object(f.jsx)("div",{className:"logo",children:Object(f.jsx)(b.a,{src:p.a,title:"logo"})})]}):Object(f.jsx)("div",{})}}]),n}(s.Component);h.defaultProps={open:!1};t.a=Object(d.c)((function(e){try{return{configuration:e.app.configuration}}catch(t){return{}}}))(Object(u.c)(h))},480:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p}));var i=n(12),a=n(17),r=n(19),o=n(5),s=n.n(o),c=n(9),l=n(7),u=n(10),d=n(481),p=Object(a.a)((function t(n,a,o){var p=this;Object(r.a)(this,t),this.connect=function(){p.disconnect(),p.authToken?p.websocketConnector=new d.a(p.onConnect,p.onMessage,p.onClose,p.onError,p.url,p.authToken):l.a.info("[ProtobufConnector] cannot connect yet. no auth token available")},this.connectWithToken=function(e){p.authToken=e,p.connect()},this.disconnect=function(){p.websocketConnector&&(p.websocketConnector.closeSocket(),p.websocketConnector=null)},this.onMessage=function(e){p.protobuf.readMessage(e)},this.onConnect=function(){var t=Object(i.a)(s.a.mark((function t(n){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!p.connectionLost){t.next=4;break}return p.connectionLost=!1,e((function(){window.location.href="".concat(window.location.origin,"/")})),t.abrupt("return");case 4:p.dispatch(Object(c.Z)(p.protobuf,n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.onClose=function(){p.connectionLost=!0,p.dispatch(Object(c.Z)(p.protobuf,null))},this.onError=function(e){console.error("Websocket error: ",e)},this.url=n,this.dispatch=a,this.protobuf=new u.a,this.websocketConnector=null,this.connectionLost=!1,this.authToken=o,this.connect()}))}).call(this,n(208).setImmediate)},481:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(19),a=n(17),r=n(482),o=function(){function e(t,n,a,o,s,c){var l=this;Object(i.a)(this,e),this.onClose=a;var u=c?["access_token",c]:void 0;this.socket=new r.a(s,u,{debug:!1}),this.socket.binaryType="arraybuffer",this.socket.onopen=function(){t&&t(l.socket)},this.socket.onmessage=function(e){return n&&n(e.data,l.socket)},this.socket.onerror=function(e){return o&&o(e)},this.socket.onclose=function(){return a&&a(l.socket)},this.socket.onconnecting=function(e){return console.log("CONNECTING!",e)}}return Object(a.a)(e,[{key:"closeSocket",value:function(){this.socket&&this.socket.close()}}]),e}()},483:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return S}));var i=n(3),a=n(12),r=n(19),o=n(17),s=n(5),c=n.n(s),l=n(168),u=n(9),d=n(484),p=n(54),v=n(7),b=n(28),f=n(15),h=n(190),m=n(131),g=n(166),j=n(253),O=n(488),I=n(10),w=n(489),E=n(1),S=function(){function t(e){var n=this;Object(r.a)(this,t),this.sendLogsToServer=function(){var e=Object(a.a)(c.a.mark((function e(t){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.map((function(e){return n.mapLogEntry(e)})),a=I.a.SvPb.StoreClientLogsRequest.create({client:"WebApp",logs:i}),e.prev=2,!n.protobuf){e.next=6;break}return e.next=6,n.protobuf.request(a);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error("Error while sending logs to server:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),this.loadProject=Object(a.a)(c.a.mark((function e(){var t,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.loading){e.next=3;break}return n.loadProjectRequested=!0,e.abrupt("return");case 3:return n.loading=!0,n.showLoadingSplashScreen(),e.prev=5,e.next=8,n.getMyPermissions();case 8:return e.next=10,n.getDatabaseGatewayConfig();case 10:return e.next=12,n.discoverConfiguration();case 12:return e.next=14,n.discoverDeviceMode();case 14:if(n.subscribeToNotificationAndMessageStreams(),!n.currentConfiguration){e.next=23;break}return n.dispatch(Object(u.bb)(!0)),e.next=19,n.currentConfiguration.discoverInspectionsWithConfigName(n.protobuf);case 19:return e.next=21,n.loadClientChunk();case 21:e.next=26;break;case 23:return e.next=25,n.resetClientChunk();case 25:n.dispatch(Object(u.bb)(!1));case 26:(t=sessionStorage.getItem(h.a))&&(i=JSON.parse(t)).user!=n.lock.owner&&(i.requestTakeover=!1,n.sendLockAcquisitionStreamRequest(i)),n.hideLoadingSplashScreen(),e.next=34;break;case 31:e.prev=31,e.t0=e.catch(5),n.showLoadingErrorOverlay(e.t0);case 34:if(n.loading=!1,n.configLoadedFromCache||!n.currentConfiguration){e.next=46;break}e.prev=36,n.dispatchCurrentConfiguration(n.currentConfiguration),n.setUpProductHistories(n.currentConfiguration),n.currentConfiguration.discoverPartsInBackground(n.protobuf).then((function(){n.dispatchCurrentConfiguration(n.currentConfiguration)})),e.next=46;break;case 42:return e.prev=42,e.t1=e.catch(36),v.a.error({err:e.t1},"Error loading configuration"),e.abrupt("return");case 46:n.loadProjectRequested&&(n.loadProjectRequested=!1,n.loadProject());case 47:case"end":return e.stop()}}),e,null,[[5,31],[36,42]])}))),this.discoverDeviceMode=Object(a.a)(c.a.mark((function e(){var t,i,a,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,i=null,e.prev=2,a=I.a.SvPb.GetDeviceModeRequest.create({}),e.next=6,n.protobuf.request(a);case 6:r=e.sent,i=r.mode,t=Object(j.b)(i),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),v.a.error({err:e.t0},"Error while fetching mode");case 14:if(null!==t&&n.mode!==t){e.next=16;break}return e.abrupt("return");case 16:if(null!==n.mode){e.next=19;break}return n.mode=t,e.abrupt("return");case 19:return v.a.info({oldMode:n.mode,newMode:t,newModeName:i},"Discovered new mode"),n.mode=t,n.dispatch(Object(u.g)(t)),e.abrupt("return",n.dispatch(Object(u.P)(t)));case 23:case"end":return e.stop()}}),e,null,[[2,11]])}))),this.dispatch=e,this.configInfo=null,this.configLoadedFromCache=!1,this.currentConfiguration=null,this.lock=null,this.loading=!1,this.mode=null,this.protobuf=null,this.protobufInitialized=!1,this.observerNotificationSubscription=null,this.observerMessageSubscription=null,this.lockAcquisitionSubscription=null,this.gatewayNotificationSubscription=null,this.gatewayMessageSubscription=null,this.nextSubId=0,this.productHistoryManager=new O.a,this.subscriptionManager=new w.a({productHistoryManager:this.productHistoryManager}),this.showConnectingSplashScreen()}return Object(o.a)(t,[{key:"setMode",value:function(e){this.onCurrentModeChanged(e)}},{key:"setProtobufStaticInitialized",value:function(){this.protobufInitialized=!0,this.onProtobufChangedImpl()}},{key:"setProtobuf",value:function(e){this.protobuf=e,this.subscriptionManager.setProtobuf(e),this.onProtobufChangedImpl()}},{key:"onProtobufChangedImpl",value:function(){var t=this;this.protobuf&&this.protobuf.isConnected()&&this.protobufInitialized?(this.hideConnectingSplashScreen(),e((function(){return t.loadProject()}))):this.showConnectingSplashScreen()}},{key:"mapLogEntry",value:function(e){return{severity:Object(j.a)(e.levelName),message:JSON.stringify(e)}}},{key:"updateConfigLockStatus",value:function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.lock||(this.lock=new g.a({})),this.lock.owner=t.owner,this.lock.lockDescription=t.description,this.lock.host=t.host,this.lock.status=t.status,this.dispatchConfigurationLock(this.lock);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dispatchCurrentConfiguration",value:function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.dispatch(Object(u.M)(new m.a(t))),m.a.saveToCache(this.currentConfiguration,this.configInfo),this.dispatchInspectionToolsetMappings(t.inspectionToolsetMappings);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"dispatchInspectionToolsetMappings",value:function(e){this.dispatch(Object(u.U)(new Map(e))),localStorage.setItem(p.d,JSON.stringify(Array.from(e)))}},{key:"dispatchConfigurationLock",value:function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.dispatch(Object(u.L)(new g.a(t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showConnectingSplashScreen",value:function(){var t=this;e((function(){t.dispatch(Object(u.hb)({message:Object(E.jsx)("p",{children:"Connecting"})}))}))}},{key:"hideConnectingSplashScreen",value:function(){var t=this;e((function(){t.dispatch(Object(u.t)())}))}},{key:"showLoadingSplashScreen",value:function(){this.dispatch(Object(u.hb)({message:Object(E.jsx)("p",{children:"Loading Configuration"})}))}},{key:"showLoadingErrorOverlay",value:function(e){this.dispatch(Object(u.hb)({message:Object(E.jsxs)("p",{children:["Error while loading Configuration: ","".concat(e)]})}))}},{key:"hideLoadingSplashScreen",value:function(){this.dispatch(Object(u.t)())}},{key:"getConfigurationInfo",value:function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.protobuf.request(I.a.SvPb.GetConfigurationInfoRequest.create());case 3:if(t=e.sent,0!==Object.keys(t).length){e.next=7;break}return v.a.warn("Empty response for GetConfigurationInfoRequest, configuration in SVO not loaded"),e.abrupt("return",null);case 7:return t.lastModified||(t=Object(i.a)(Object(i.a)({},t),{},{lastModified:t.loadedSince})),e.abrupt("return",t);case 11:e.prev=11,e.t0=e.catch(0),v.a.error("GetConfigurationInfoRequest ERROR",e.t0);case 14:return e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"discoverConfiguration",value:function(){var e=Object(a.a)(c.a.mark((function e(){var t,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null,e.next=3,this.getConfigurationInfo();case 3:if(this.configInfo=e.sent,this.configInfo&&this.configInfo.loadedSince){e.next=7;break}return this.currentConfiguration=null,e.abrupt("return");case 7:return e.prev=7,e.next=10,JSON.parse(localStorage.getItem(p.c));case 10:t=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(7),v.a.error({err:e.t0},"Timestamp request failed");case 16:if(n=null,!this.configInfo||!t||t.hash!==this.configInfo.hash||Number(t.lastModified)!==this.configInfo.lastModified){e.next=28;break}return e.next=20,m.a.loadFromCache();case 20:n=e.sent,(i=localStorage.getItem(p.d))&&(n.inspectionToolsetMappings=new Map(JSON.parse(i))),this.dispatch(Object(u.M)(n)),this.setUpProductHistories(n),this.configLoadedFromCache=!0,e.next=32;break;case 28:n=new m.a({}),this.dispatch(Object(u.M)(n)),this.dispatch(Object(u.r)()),this.configLoadedFromCache=!1;case 32:this.dispatch(Object(u.U)(new Map(n.inspectionToolsetMappings))),this.currentConfiguration=n;case 34:case"end":return e.stop()}}),e,this,[[7,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"onCurrentModeChanged",value:function(){var e=Object(a.a)(c.a.mark((function e(t){var n,i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.mode=b.a.unknownMode.id,n=Object(j.c)(t),i=I.a.SvPb.SetDeviceModeRequest.create({mode:n}),a=null,e.prev=4,e.next=7,this.protobuf.request(i);case 7:a=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),v.a.error({err:e.t0},"Error while changing the mode"),e.abrupt("return");case 14:if(!a.hResult){e.next=17;break}return v.a.error({hResult:a.hResult},"Error while changing the mode"),e.abrupt("return");case 17:setTimeout(this.discoverDeviceMode,500);case 18:case"end":return e.stop()}}),e,this,[[4,10]])})));return function(t){return e.apply(this,arguments)}}()},{key:"loadClientChunk",value:function(){return this.dispatch(Object(u.w)(this))}},{key:"resetClientChunk",value:function(){return this.dispatch(Object(u.F)(this.protobuf))}},{key:"getDatabaseGatewayConfig",value:function(){return this.dispatch(Object(u.x)(this.protobuf))}},{key:"subscribeToNotificationAndMessageStreams",value:function(){this.subscribeToObserverNotificationStream(),this.subscribeToObserverMessageStream(),this.subscribeToGatewayNotificationStream(),this.subscribeToGatewayMessageStream()}},{key:"subscribeToObserverNotificationStream",value:function(){var e=this;this.unsubscribeFromObserverNotificationStream();var t=I.a.SvPb.GetNotificationStreamRequest.create({});this.observerNotificationSubscription=this.protobuf.stream(t).subscribe({next:function(t){return e.onObserverNotification(t)},error:function(t){return e.onObserverNotificationError(t)},complete:function(){return v.a.debug("Notification observable completed")}})}},{key:"unsubscribeFromObserverNotificationStream",value:function(){this.observerNotificationSubscription&&this.observerNotificationSubscription.unsubscribe()}},{key:"onObserverNotification",value:function(e){var t,n,i=e.type,a=e.parameter;switch(i){case I.a.SvPb.NotifyType.currentMode:var r=this.getVariantValue(a);v.a.debug({mode:r},"Notification currentMode"),this.discoverDeviceMode();break;case I.a.SvPb.NotifyType.lastModified:var o=1e3*this.getVariantValue(a);v.a.debug({timestamp:new Date(o)},"Notification lastModified"),this.dispatch(Object(u.i)()),this.updateProject();break;case I.a.SvPb.NotifyType.configLoaded:t=this.getVariantValue(a),n=m.a.extractConfigNameFromFileName(t),v.a.debug({fileName:t,configName:n},"Notification configLoaded"),this.dispatch(Object(u.h)(t)),this.loadProject();break;case I.a.SvPb.NotifyType.configUnloaded:t=this.getVariantValue(a),n=m.a.extractConfigNameFromFileName(t),v.a.debug({fileName:t,configName:n},"Notification configUnloaded"),this.dispatch(Object(u.j)(t)),this.loadProject();break;default:v.a.warn({type:i,parameter:a},"Unknown notification type")}}},{key:"updateProject",value:function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentConfiguration){e.next=3;break}return e.next=3,this.discoverConfiguration();case 3:return e.next=5,this.currentConfiguration.resetInspectionIdToToolsetMappings(this.protobuf);case 5:this.dispatchInspectionToolsetMappings(this.currentConfiguration.inspectionToolsetMappings);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getVariantValue",value:function(e){return e&&e[e.data]}},{key:"formatMessageNotification",value:function(e,t){return Object(E.jsxs)("div",{children:[Object(E.jsx)(l.a,{id:"notifications.checkSvimOutput"}),e&&Object(E.jsxs)("div",{children:[t?"(".concat(t,")"):" "," ",e]})]})}},{key:"onObserverNotificationError",value:function(e){v.a.error({err:e},"Notification error"),this.unsubscribeFromObserverNotificationStream()}},{key:"subscribeToObserverMessageStream",value:function(){var e=this;this.unsubscribeFromObserverMessageStream();var t=I.a.SvPb.GetMessageStreamRequest.create({});this.observerMessageSubscription=this.protobuf.stream(t).subscribe({next:function(t){return e.onObserverMessage(t)},error:function(t){return e.onObserverMessageError(t)},complete:function(){return v.a.debug("Notification observable completed")}})}},{key:"unsubscribeFromObserverMessageStream",value:function(){this.observerMessageSubscription&&this.observerMessageSubscription.unsubscribe()}},{key:"onObserverMessage",value:function(e){var t=this,n=e.type,a=e.messageList.messages;switch(v.a.debug(Object(i.a)({},e),"SVObserver message stream event"),n){case I.a.SvPb.MessageType.startMsgBox:if(!a||1!==a.length)return void v.a.warn({type:n,messages:a},"Expected exactly one message in the message event");var r=a[0],o=this.formatMessageNotification(r.messageText,r.messageCode);this.dispatch(Object(u.hb)({message:o}));break;case I.a.SvPb.MessageType.endMsgBox:this.dispatch(Object(u.t)());break;case I.a.SvPb.MessageType.msgLog:(a||[]).forEach((function(e){var n=e.messageCode,i=e.messageText;t.dispatch(Object(u.l)(i,n))}));break;default:v.a.warn({type:n},"Unknown message event type")}}},{key:"onObserverMessageError",value:function(e){v.a.error({err:e},"SVObserver message stream error"),this.unsubscribeFromObserverMessageStream()}},{key:"subscribeToLockAcquisitionStream",value:function(e){e.requestTakeover&&(this.lock.waitForTakeoverResponse(),this.dispatchConfigurationLock(this.lock)),this.sendLockAcquisitionStreamRequest(e)}},{key:"sendLockAcquisitionStreamRequest",value:function(e){var t=this,n=I.a.SvPb.LockAcquisitionStreamRequest.create(e);this.lockAcquisitionSubscription=this.protobuf.stream(n).subscribe({next:function(n){return t.onLockAcquisition(n,e)},error:function(e){return t.onLockAcquisitionError(e)},complete:function(){return v.a.debug("Lock acquisition observable completed")}})}},{key:"unsubscribeFromLockAcquisitionStream",value:function(){var e=Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(sessionStorage.removeItem(h.a),!this.lockAcquisitionSubscription){e.next=7;break}return this.lockAcquisitionSubscription.unsubscribe(),this.lock=new g.a({}),this.dispatchConfigurationLock(this.lock),e.next=7,this.getMyPermissions();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onLockAcquisition",value:function(e,t){var n=e[e.message];switch(v.a.debug("message type: "+JSON.stringify(e,void 0,2)),e.message){case"lockAcquiredNotification":this.onLockAcquiredNotification(n,t);break;case"lockTakeoverNotification":this.onLockTakeoverNotification(n);break;case"lockReleasedNotification":this.onLockReleasedNotification();break;case"lockAlreadyLockedNotification":this.onLockAlreadyLockedNotification(n);break;case"lockTakeoverRejectedNotification":this.onLockTakeoverRejectedNotification();break;default:v.a.warn({type:e.message},"Unknown lock acquisition notification type")}}},{key:"onLockAcquisitionError",value:function(e){v.a.error({err:e},"Lock acquisition error: "+JSON.stringify(e,void 0,2)),403===e.code?this.dispatch(Object(u.a)()):404===e.code?this.dispatch(Object(u.m)()):this.dispatch(Object(u.e)(e.code))}},{key:"onLockAcquiredNotification",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.user=t.user,sessionStorage.setItem(h.a,JSON.stringify(n)),this.lock.handleLockAcquiredNotification(t),this.dispatchConfigurationLock(this.lock),e.next=6,this.getMyPermissions();case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"onLockTakeoverNotification",value:function(e){this.lock.handleLockTakeoverNotification(e),this.dispatchConfigurationLock(this.lock)}},{key:"onLockReleasedNotification",value:function(){this.lock.handleLockReleasedNotification(),this.dispatchConfigurationLock(this.lock)}},{key:"onLockAlreadyLockedNotification",value:function(e){this.lock.handleLockAlreadyLockedNotification(e),this.dispatchConfigurationLock(this.lock)}},{key:"onLockTakeoverRejectedNotification",value:function(){this.lock.handleLockTakeoverRejectedNotification(),this.dispatchConfigurationLock(this.lock)}},{key:"closeAlertDialogs",value:function(){this.lock.resetAlertDialogFlags(),this.dispatchConfigurationLock(this.lock)}},{key:"passConfigLock",value:function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=I.a.SvPb.LockTakeoverRequest.create(t);try{this.protobuf.request(n),this.lock.resetTakeoverAttempt(),this.lock.lockedInSameAppInstance=!1,sessionStorage.removeItem(h.a)}catch(i){this.dispatch(Object(u.f)(i.code)),v.a.error({err:i},"Error while perfroming config lock takeover")}case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"retainConfigLock",value:function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=I.a.SvPb.LockTakeoverRejectedRequest.create(t),e.prev=1,e.next=4,this.protobuf.request(n);case 4:this.lock.resetTakeoverAttempt(),this.dispatchConfigurationLock(this.lock),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),this.dispatch(Object(u.f)(e.t0.code)),v.a.error({err:e.t0},"Error while perfroming config lock takeover");case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},{key:"subscribeToGatewayNotificationStream",value:function(){var e=this;this.unsubscribeFromGatewayNotificationStream();var t=I.a.SvPb.GetGatewayNotificationStreamRequest.create({});this.gatewayNotificationSubscription=this.protobuf.stream(t).subscribe({next:function(t){return e.onGatewayNotification(t)},error:function(t){return e.onGatewayNotificationError(t)},complete:function(){return v.a.debug("Gateway Notification observable completed")}})}},{key:"unsubscribeFromGatewayNotificationStream",value:function(){this.gatewayNotificationSubscription&&this.gatewayNotificationSubscription.unsubscribe()}},{key:"onGatewayNotification",value:function(e){var t=e[e.message];switch(e.message){case"rejectStreamPaused":var n=t.pausedInspectionIds;v.a.debug({pausedInspectionIds:n},"Notification rejectStreamPaused"),this.onPauseNotification(n);break;case"configurationLockStatus":v.a.debug({value:t},"Notification configurationLockStatus"),this.updateConfigLockStatus(t),this.getMyPermissions();break;default:v.a.warn({type:e.message},"Unknown gateway notification type")}}},{key:"onGatewayNotificationError",value:function(e){v.a.error({err:e},"Gateway Notification error"),this.unsubscribeFromGatewayNotificationStream()}},{key:"subscribeToGatewayMessageStream",value:function(){var e=this;this.unsubscribeFromGatewayMessageStream();var t=I.a.SvPb.GetGatewayMessageStreamRequest.create({});this.gatewayMessageSubscription=this.protobuf.stream(t).subscribe({next:function(t){return e.onGatewayMessage(t)},error:function(t){return e.onGatewayMessageError(t)},complete:function(){return v.a.debug("Notification observable completed")}})}},{key:"unsubscribeFromGatewayMessageStream",value:function(){this.gatewayMessageSubscription&&this.gatewayMessageSubscription.unsubscribe()}},{key:"onGatewayMessage",value:function(e){var t=this,n=e.type,a=e.messageList.messages,r=void 0===a?[]:a;switch(v.a.debug(Object(i.a)({},e),"Gateway message stream event"),n){case I.a.SvPb.MessageType.startMsgBox:if(1!==r.length)return void v.a.warn({type:n,messages:r},"Expected exactly one message in the message event");var o=r[0],s=this.formatMessageNotification(o.messageText,o.messageCode);this.dispatch(Object(u.hb)({message:s}));break;case I.a.SvPb.MessageType.endMsgBox:this.dispatch(Object(u.t)());break;case I.a.SvPb.MessageType.msgLog:r.forEach((function(e){var n=e.messageCode,i=e.messageText;t.dispatch(Object(u.l)(i,n))}));break;default:v.a.warn({type:n},"Unknown message event type")}}},{key:"onGatewayMessageError",value:function(e){v.a.error({err:e},"Gateway message stream error"),this.unsubscribeFromGatewayMessageStream()}},{key:"subscribeToProductStream",value:function(e,t){var n=this._getNextSubId();return this.subscriptionManager.addSubscription(n,e,t),n}},{key:"unsubscribeFromProductStream",value:function(e){this.subscriptionManager.removeSubscription(e)}},{key:"_getNextSubId",value:function(){return"".concat(++this.nextSubId)}},{key:"setUpProductHistories",value:function(e){var t=e.getInspections();this.productHistoryManager.init(t)}},{key:"replayProduct",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchMissingProductData(t,n);case 2:this.subscriptionManager.replayProduct(t,n);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchMissingProductData",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n){var i,a,r,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.getMissingProductImages(t,n),a=this.getMissingProductValues(t,n),0!==i.length||0!==a.length){e.next=4;break}return e.abrupt("return");case 4:return r=I.a.SvPb.GetProductDataRequest.create({inspectionId:t,trigger:n.trigger,imageIds:i,valueIds:a,includeOverlays:!0}),e.prev=5,e.next=8,this.protobuf.request(r);case 8:return o=e.sent,e.next=11,n.addData({trigger:o.trigger,imageIds:i,images:o.images,overlays:o.overlays,valueIds:a,values:o.values});case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),v.a.error(e.t0);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getMissingProductImages",value:function(e,t){return this.subscriptionManager.getSubscribedImages(e).filter((function(e){return void 0===t.getImage(e)}))}},{key:"getMissingProductValues",value:function(e,t){return this.subscriptionManager.getSubscribedValues(e).filter((function(e){return void 0===t.getValue(e)}))}},{key:"onPauseNotification",value:function(e){this.dispatch(Object(u.k)(e)),this.subscriptionManager.updatePausedInspections(e),this.dispatch(Object(u.Y)(e))}},{key:"pauseRejectStream",value:function(e){this.pauseRejectStreamImpl(!0,e)}},{key:"resumeRejectStream",value:function(e){this.pauseRejectStreamImpl(!1,e)}},{key:"pauseRejectStreamImpl",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=I.a.SvPb.SetRejectStreamPauseStateRequest.create({inspectionId:n||void 0,pause:t}),e.prev=1,e.next=4,this.protobuf.request(i);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),v.a.error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getMyPermissions",value:function(){var e=Object(a.a)(c.a.mark((function e(){var t,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={},e.prev=1,n=I.a.SvPb.GetMyPermissionsRequest.create(),e.next=5,this.protobuf.request(n);case 5:t=e.sent,e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),v.a.error("Cannot get my permissions, fall back to default permissions"),t=d.a;case 12:if(t&&t.permissions){e.next=15;break}return v.a.error("Cannot get my permissions"),e.abrupt("return",!1);case 15:if(i=new Set,Object(f.L)(t.permissions,i,""),this.disablePermissionsWhenConfigLocked(i),this.dispatch(Object(u.W)(i)),!Object(f.H)(i)&&!Object(f.w)(i)){e.next=22;break}return e.next=22,this.getGroupPermissions();case 22:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"disablePermissionsWhenConfigLocked",value:function(e){var t,n;(null!==(t=this.lock)&&void 0!==t&&t.isUnlocked()||null!==(n=this.lock)&&void 0!==n&&n.isLockedInDifferentAppInstance())&&e.forEach((function(t){(t.endsWith(".save")||t.endsWith(".edit")||t.endsWith(".write")||t.endsWith(".remove")||t.endsWith(".add"))&&e.delete(t)}))}},{key:"getGroupPermissions",value:function(){var e=Object(a.a)(c.a.mark((function e(){var t,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.a.SvPb.GetGroupDetailsRequest.create(),e.next=3,this.protobuf.request(t);case 3:if((n=e.sent)&&n.groupDetails){e.next=7;break}return v.a.error("Cannot get group permissions"),e.abrupt("return",!1);case 7:i=this.flattenPermissions(n.groupDetails),this.dispatch(Object(u.T)(i));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"flattenPermissions",value:function(e){var t=new Map;return(e||[]).forEach((function(e){var n=new Set;Object(f.L)(e.permissions,n,""),t.set(e.name,{groupPermissions:n,users:e.users})})),t}},{key:"setUserPermissions",value:function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=I.a.SvPb.UpdateGroupPermissionsRequest.create({groupPermissions:t}),e.prev=1,!this.protobuf){e.next=7;break}return e.next=5,this.protobuf.request(n);case 5:return e.next=7,this.getGroupPermissions();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),v.a.error({e:e.t0},"Error while setting user permissions");case 12:v.a.info("Successfully saved user permissions");case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"updateToolsetData",value:function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.currentConfiguration.updateInspectionIdToToolsetMappings(this.protobuf,t);case 2:this.dispatchInspectionToolsetMappings(this.currentConfiguration.inspectionToolsetMappings);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addTool",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n,i,a){var r,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I.a.SvPb.InspectionCmdRequest.create({inspectionID:t,createObjectRequest:{ownerId:n,classId:i,taskObjectPos:a}}),e.prev=1,e.next=4,this.protobuf.request(r);case 4:return s=e.sent,this.updateToolsetData(t),e.abrupt("return",null===s||void 0===s||null===(o=s.createObjectResponse)||void 0===o?void 0:o.objectId);case 9:e.prev=9,e.t0=e.catch(1),v.a.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(t,n,i,a){return e.apply(this,arguments)}}()},{key:"deleteTool",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=I.a.SvPb.InspectionCmdRequest.create({inspectionID:t,deleteObjectRequest:{objectID:n}}),e.prev=1,e.next=4,this.protobuf.request(i);case 4:this.updateToolsetData(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),v.a.error(e.t0);case 10:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"downloadSVOConfig",value:function(){var e=Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=I.a.SvPb.GetConfigRequest.create({}),e.prev=1,e.next=4,this.protobuf.request(t);case 4:return n=e.sent,e.abrupt("return",null===n||void 0===n?void 0:n.fileData);case 8:e.prev=8,e.t0=e.catch(1),v.a.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"uploadSVOConfig",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n){var i,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=I.a.SvPb.PutConfigRequest.create({fileName:t,fileData:n}),e.prev=1,e.next=4,this.protobuf.request(i);case 4:if(!(a=e.sent).hResult){e.next=8;break}return v.a.error({hResult:a.hResult},"Could not load SVO configuration file"),e.abrupt("return");case 8:this.updateProject(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),v.a.error(e.t0);case 14:case"end":return e.stop()}}),e,this,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"copyTool",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=I.a.SvPb.ConfigCommandRequest.create({inspectionID:t,clipboardRequest:{action:I.a.SvPb.ClipboardActionEnum.Copy,objectID:n}}),e.prev=1,e.next=4,this.protobuf.request(i);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),v.a.error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"cutTool",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=I.a.SvPb.ConfigCommandRequest.create({inspectionID:t,clipboardRequest:{action:I.a.SvPb.ClipboardActionEnum.Cut,objectID:n}}),e.prev=1,e.next=4,this.protobuf.request(i);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),v.a.error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"pasteTool",value:function(){var e=Object(a.a)(c.a.mark((function e(t,n){var i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=I.a.SvPb.ConfigCommandRequest.create({inspectionID:t,clipboardRequest:{action:I.a.SvPb.ClipboardActionEnum.Paste,objectID:n}}),e.prev=1,e.next=4,this.protobuf.request(i);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),v.a.error(e.t0);case 9:case"end":return e.stop()}}),e,this,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()}]),t}()}).call(this,n(208).setImmediate)},484:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i={permissions:{webapp:{configuration:{save:!0},logs:{read:!0},viewset:{add:!0,read:!0,edit:!0,remove:!0},view:[{type:0,add:!0,read:!0,edit:!0,remove:!0}]},svobserver:{mode:{read:!0,edit:!0},inspectionstate:{read:!0,edit:!0},value:{read:!0,edit:!0},tool:{read:!0,edit:!0,add:!0,remove:!0},configuration:{read:!0,write:!0},notifications:{subscribe:!0},clientlogs:{store:!0},file:{read:!0,write:!0},machinestate:{set:!0},command:{execute:!0}},usermanagement:{userpermissions:{read:!1,edit:!1}}}}},487:function(e,t,n){"use strict";n(0);var i=n(168),a=n(46),r=n(41),o=n.n(r),s=(n(880),n(2)),c=n.n(s),l=(n(881),n(164)),u=n(1),d=(c.a.node.isRequired,c.a.node.isRequired,function(e){var t=e.title,n=e.description;return Object(u.jsxs)("li",{className:"shortcut-list-item",children:[Object(u.jsx)(l.a,{type:"h3",intlId:t}),Object(u.jsx)(i.a,{id:n})]})}),p=function(e){var t=e.shortcuts;return Object(u.jsx)("ul",{className:"shortcut-list",children:t.map((function(e){return Object(u.jsx)(d,{title:e.title,description:e.description},o.a.generate())}))})},v=[{title:"shortcutView.fullscreenTitle",description:"shortcutView.fullscreenDescription"},{title:"shortcutView.helpTitle",description:"shortcutView.helpDescription"}],b=function(e){var t=e.open,n=e.onClose;return Object(u.jsx)(a.a,{title:Object(u.jsx)(i.a,{id:"shortcutView.title"}),onClose:n,open:t,children:Object(u.jsx)(p,{shortcuts:v})})};b.defaultProps={open:!1};t.a=b},488:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(12),a=n(19),r=n(17),o=n(5),s=n.n(o),c=n(246),l=function(){function e(t){Object(a.a)(this,e),this.inspectionId=t,this.history=[]}return Object(r.a)(e,[{key:"addProductData",value:function(){var e=Object(i.a)(s.a.mark((function e(t){var n,i,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.trigger,i=t.isReject,a=this.history.find((function(e){return e.trigger===n})),r=null,a?r=a.product:(r=new c.a({trigger:n,isReject:i,history:this}),this.history.push({trigger:n,product:r})),e.next=6,r.addData(t);case 6:return e.abrupt("return",r);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"releaseProduct",value:function(e){var t=this.history.find((function(t){return t.trigger===e}));t&&(t.product.releaseImpl()&&(this.history=this.history.filter((function(e){return e!==t}))))}}]),e}(),u=function(){function e(){Object(a.a)(this,e),this.productHistories=new Map}return Object(r.a)(e,[{key:"init",value:function(e){var t=this;this.productHistories.clear(),(e||[]).forEach((function(e){var n=e.id,i=new l(n);t.productHistories.set(n,i)}))}},{key:"addProductData",value:function(){var e=Object(i.a)(s.a.mark((function e(t,n){var i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.productHistories.get(t)){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,i.addProductData(n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}()},489:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(6),a=n(82),r=n(19),o=n(17),s=n(7),c=n(12),l=n(5),u=n.n(l),d=n(321),p=n.n(d),v=n(10),b=function(){function e(t){var n=t.inspectionId,i=t.productHistoryManager,a=t.protobuf,o=t.paused;Object(r.a)(this,e),this.inspectionId=n,this.productHistoryManager=i,this.protobuf=a,this.lastTrigger=-1,this.subsById=new Map,this.paused=o,this.selectedTrigger=null,this.baseSub=null}return Object(o.a)(e,[{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1,this.selectedTrigger=null}},{key:"replayProduct",value:function(e){this.selectedTrigger=e.trigger,this.emitProductToAllSubscriptions(e)}},{key:"addSubscription",value:function(e,t,n){var i={id:e,desc:t,cb:n};this.subsById.set(e,i);var a=t.inspectionId;if(this.inspectionId!==a)throw new Error("Insection id does not match");this.resubscribeToStream()}},{key:"removeSubscription",value:function(e){var t=this.subsById.get(e);t?(this.swapLastProduct(t,null),this.subsById.delete(e),this.resubscribeToStream()):s.a.warn({id:e},"Unable to unsubscribe listener: unknown id")}},{key:"isEmpty",value:function(){return 0===this.subsById.size}},{key:"getSubscribedImages",value:function(){return this.uniqueIds("imageIds")}},{key:"getSubscribedValues",value:function(){return this.uniqueIds("valueIds")}},{key:"setProtobuf",value:function(e){this.protobuf=e}},{key:"resubscribeToStream",value:function(){this.unsubscribeFromStream(),this.isEmpty()||this.subscribeToStream()}},{key:"subscribeToStream",value:function(){var e=this,t=this.buildReqParams(),n=v.a.SvPb.GetProductStreamRequest.create(t);this.baseSub=this.protobuf.stream(n).subscribe({next:function(t){return e.onStreamEvent(n,t)},error:function(t){return e.onStreamError(t)},complete:function(){return s.a.debug("Product observable completed")}})}},{key:"buildReqParams",value:function(){return{inspectionId:this.inspectionId,startAtTriggerCount:this.getStartAtTriggerCount(),includeFailStatusValues:!0,valueIds:this.uniqueIds("valueIds"),imageIds:this.uniqueIds("imageIds"),rejectValueIds:this.uniqueIds("rejectValueIds"),rejectImageIds:this.uniqueIds("rejectImageIds"),rejectsOnly:this.isRejectsOnly(),imageFormat:v.a.SvPb.ImageFormatEnum.bmp,includeOverlays:!0}}},{key:"getStartAtTriggerCount",value:function(){var e=0;return this.subsById.forEach((function(t){!isNaN(t.desc.startAtTriggerCount)&&t.desc.startAtTriggerCount<e&&(e=t.desc.startAtTriggerCount)})),-1===e&&this.trigger>0?this.trigger:e}},{key:"isRejectsOnly",value:function(){var e=!0;return this.subsById.forEach((function(t){t.desc.rejectsOnly||(e=!1)})),e}},{key:"uniqueIds",value:function(e){var t=new Set;return this.subsById.forEach((function(n){p()(n.desc[e],(function(e){return t.add(e)}))})),Array.from(t)}},{key:"unsubscribeFromStream",value:function(){this.baseSub&&this.baseSub.unsubscribe&&this.baseSub.unsubscribe(),this.baseSub=null}},{key:"onStreamEvent",value:function(){var e=Object(c.a)(u.a.mark((function e(t,n){var i,a,r,o,s,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.trigger,a=n.isReject,r=this.gatherImages(t,n),o=this.gatherValues(t,n),s={trigger:i,isReject:a,images:r,values:o},e.next=6,this.productHistoryManager.addProductData(this.inspectionId,s);case 6:c=e.sent,this.lastTrigger=i,this.emitProductToAllSubscriptions(c);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"gatherImages",value:function(e,t){var n=e.imageIds,i=e.rejectImageIds,a=t.isReject,r=t.images,o=t.rejectImages,s=t.overlays,c=t.rejectOverlays,l=new Map;return n.forEach((function(e,t){var n=(r||[])[t],i=(s||[])[t];n&&l.set(e,{id:e,image:n,overlays:i})})),a&&i.forEach((function(e,t){var n=(o||[])[t],i=(c||[])[t];n&&l.set(e,{id:e,image:n,overlays:i})})),l}},{key:"gatherValues",value:function(e,t){var n=e.valueIds,i=e.rejectValueIds,a=t.isReject,r=t.values,o=t.rejectValues,s=new Map;return n.forEach((function(e,t){var n=(r||[])[t];n&&s.set(e,{id:e,value:n})})),a&&i.forEach((function(e,t){var n=(o||[])[t];n&&s.set(e,{id:e,value:n})})),s}},{key:"emitProductToAllSubscriptions",value:function(e){var t=this;this.subsById.forEach((function(n){t.emitProductToSubscription(n,e)}))}},{key:"emitProductToSubscription",value:function(e,t){var n=this.hasAllRequestedDataForSubscription(t,e),i=this.isInterestedInNewPorduct(t,e);n&&i&&(t.lock(),e.cb({product:t}),this.swapLastProduct(e,t))}},{key:"hasAllRequestedDataForSubscription",value:function(e,t){return!!(t.desc.imageIds||t.desc.valueIds||e.isReject)&&(this.hasDataForSubscriptionInList(t.desc.valueIds,e.values)||this.hasDataForSubscriptionInList(t.desc.rejectValueIds,e.values)||this.hasDataForSubscriptionInList(t.desc.imageIds,e.images)||this.hasDataForSubscriptionInList(t.desc.rejectImageIds,e.images))}},{key:"isInterestedInNewPorduct",value:function(e,t){return this.selectedTrigger?this.selectedTrigger===e.trigger:!t.lastProduct||(t.desc.allowOldTrigger||t.lastProduct.trigger<e.trigger)}},{key:"hasDataForSubscriptionInList",value:function(e,t){for(var n=e||[],i=0;i<n.length;++i)if(!t.has(n[i]))return!1;return!0}},{key:"swapLastProduct",value:function(e,t){e.lastProduct&&!e.desc.manualRelease&&e.lastProduct.release(),e.lastProduct=t}},{key:"onStreamError",value:function(e){s.a.error({err:e},"Stream error")}}]),e}(),f=function(){function e(t){var n=t.productHistoryManager;Object(r.a)(this,e),this.productHistoryManager=n,this.inspectionIdBySubId=new Map,this.subsByInspectionId=new Map,this.pausedInspectionIds=[],this.protobuf=null}return Object(o.a)(e,[{key:"updatePausedInspections",value:function(e){this.pausedInspectionIds=e;var t,n=Object(a.a)(this.subsByInspectionId.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(i.a)(t.value,2),o=r[0],s=r[1];e.includes(o)?s.pause():s.resume()}}catch(c){n.e(c)}finally{n.f()}}},{key:"replayProduct",value:function(e,t){var n=this.subsByInspectionId.get(e);n&&n.replayProduct(t)}},{key:"addSubscription",value:function(e,t,n){var i=t.inspectionId,a=t.startAtTriggerCount;this.inspectionIdBySubId.set(e,i);var r=this.pausedInspectionIds.includes(i),o=this.subsByInspectionId.get(i);o||(o=new b({inspectionId:i,startAtTriggerCount:a,productHistoryManager:this.productHistoryManager,paused:r,protobuf:this.protobuf}),this.subsByInspectionId.set(i,o)),o.addSubscription(e,t,n)}},{key:"removeSubscription",value:function(e){var t=this.inspectionIdBySubId.get(e);if(t){var n=this.subsByInspectionId.get(t);n?(n.removeSubscription(e),n.isEmpty()&&this.subsByInspectionId.delete(t)):s.a.warn({id:e},"Unable to unsubscribe listener: unknown inspection id")}else s.a.warn({id:e},"Unable to unsubscribe listener: unknown id")}},{key:"getSubscribedImages",value:function(e){var t=this.subsByInspectionId.get(e);return t?t.getSubscribedImages():[]}},{key:"getSubscribedValues",value:function(e){var t=this.subsByInspectionId.get(e);return t?t.getSubscribedValues():[]}},{key:"setProtobuf",value:function(e){this.protobuf=e,this.subsByInspectionId.forEach((function(t){return t.setProtobuf(e)}))}}]),e}()},49:function(e,t,n){"use strict";var i=n(167),a=n(41),r=n.n(a),o=n(69),s=n(27),c=n(236),l=(n(669),n(1));t.a=function(e){var t=e.actions,n=e.isViewAction,a=void 0!==n&&n,u=Object(i.a)();return Object(l.jsx)("div",{className:"action-bar-wrapper",style:{position:a?"absolute":"relative"},children:t&&t.map((function(e){return e&&e.type===o.a?Object(l.jsx)("div",{className:"action-bar-separator",children:Object(l.jsx)("div",{className:"separator"})},"separator_".concat(r.a.generate())):e&&e.type===o.b?Object(l.jsx)(c.a,{id:e.id,intlId:e.intlId,iconUrl:e.iconUrl,enabled:e.enabled,onClickHandler:e.onClickHandler,intlIdAlternative:e.intlIdAlternative,iconUrlAlternative:e.iconUrlAlternative,onClickHandlerAlternative:e.onClickHandlerAlternative,showAlternative:e.showAlternative},e.id):Object(l.jsx)(s.a,{tooltip:u.messages["".concat(e.intlId)],onClick:function(){e.onClickHandler()},iconUrl:e.iconUrl,enabled:e.enabled},e.intlId)}))})}},54:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d}));var i="svAuthToken",a="svObserverUser",r="configInfo",o="configChunk_",s="configChunkList",c="inspectionToolsetMappings",l=function(){var e=localStorage.getItem(i);if(!e)return{};var t,n=localStorage.getItem(a);try{t=JSON.parse(n)}catch(r){return{}}return t?{authToken:e,user:t}:{}},u=function(){localStorage.removeItem(i),localStorage.removeItem(a),localStorage.removeItem(r),localStorage.removeItem(s)},d=function(e,t){localStorage.setItem(i,e),localStorage.setItem(a,JSON.stringify(t))}},57:function(e,t,n){"use strict";t.a=n.p+"static/media/edit.962e7af9.svg"},580:function(e,t){},582:function(e,t){},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var i=n(11),a=n(6),r=n(0),o=n(928),s=n(927),c=n(934),l=n(931),u=n(933),d=n(1),p=Object(o.a)((function(){return{input:{height:37,fontSize:"1.4rem"},select:{paddingTop:0,paddingBottom:0,fontSize:"1.4rem"},label:{transform:"translate(14px, 11px) scale(1)",fontSize:"1.4rem"}}})),v=function(e){var t=e.values,n=e.labels,o=e.selectedValue,v=e.name,b=void 0===v?"":v,f=e.id,h=void 0===f?"":f,m=e.onSelectionChanged,g=e.disabled,j=p(),O=Object(r.useRef)(null),I=Object(r.useState)(0),w=Object(a.a)(I,2),E=w[0],S=w[1];return Object(r.useEffect)((function(){O.current&&S(O.current.offsetWidth)}),[]),Object(d.jsxs)(s.a,{variant:"outlined",style:{width:"100%"},disabled:g,children:[Object(d.jsx)(c.a,{htmlFor:h,ref:O,classes:{outlined:j.label},children:b}),Object(d.jsx)(l.a,{native:!0,value:o||"",onChange:function(e){return null===m||void 0===m?void 0:m(Object(i.a)({},h,e.target.value))},classes:{root:j.input},input:Object(d.jsx)(u.a,{name:b,labelWidth:E,id:h,classes:{input:j.select}}),children:!g&&t.map((function(e,i){return Object(d.jsx)("option",{value:e,children:(n||t)[i]},h+i)}))})]})}},64:function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var i=n(3),a=n(168),r={"topNavigation.language.german":"Deutsch","topNavigation.language.english":"Englisch","topNavigation.language.spanish":"Spanisch","topNavigation.lock":"Sperre","topNavigation.takeover":"\xdcbernahme","topNavigation.release":"Freigabe","topNavigation.logout":"Abmelden","topNavigation.help":"Hilfe","topNavigation.about":"Info","topNavigation.shortcut":"Shortcut","topNavigation.download":"SVO-Konfiguration herunterladen","topNavigation.upload":"SVO-Konfiguration hochladen","topNavigation.inspectionState":"Inspektionsstatus ({runningInspections} von {numberOfInspections} aktiv)","topNavigation.permissions":"Rechte","topNavigation.saveConfig":"Konfiguration speichern","topNavigation.pauseAllInspections":"Alle Inspektionen anhalten","topNavigation.resumeAllInspections":"Alle Inspektionen fortsetzen",editMode:"Bearbeitungsmodus",unknownMode:"Unbekannter Modus",runMode:"Run-Modus",stopMode:"Stopp-Modus",regressionMode:"Regressionsmodus",testMode:"Testmodus","lockStateHandler.alertDialog.lockAlreadyLocked":"Konfigurationssperre bereits gehalten von: {user}","lockStateHandler.alertDialog.lockDescription":"Beschreibung f\xfcr Sperre: {description}","lockStateHandler.alertDialog.waitingForTakeoverResponse":"Warte auf Antwort von: {user}","lockStateHandler.alertDialog.waitingForResponseInfo":"Der aktuelle Halter der Konfigurationssperre wurde \xfcber Ihre Anfrage informiert und hat nun 30 Sekunden, um zu antworten. Wenn bis dahin keine Antwort eingeht, \xfcbernehmen Sie automatisch die Sperre.","lockStateHandler.alertDialog.ownerRejectedTakeover":"{user} hat die \xdcbernahme der Konfigurationssperre abgelehnt.","lockStateHandler.alertDialog.takeoverAttempt":"{user} m\xf6chte die Konfigurationssperre \xfcbernehmen.","lockStateHandler.alertDialog.takeoverMessage":"\xdcbernahmenachricht: {message}","lockStateHandler.formDialog.lockConfigRequestTitle":"Anforderung zur Konfigurationssperre","lockStateHandler.formDialog.takeoverConfigRequestTitle":"Anforderung zur Konfigurations\xfcbernahme","lockStateHandler.formDialog.lockConfigRequestContent":"Um die Konfiguration zu sperren oder zu \xfcbernehmen, geben Sie alle Details ein. SVOGateway sendet gelegentlich Updates.","lockStateHandler.formDialog.lockScope":"Umfang der Sperre","lockStateHandler.formDialog.lockTimeout":"Time-out f\xfcr Sperre","lockStateHandler.formDialog.lockDescription":"Beschreibung f\xfcr Sperre","lockStateHandler.formDialog.takeoverRequest":"Anfrage zur \xdcbernahme","lockStateHandler.formDialog.takeoverMessage":"\xdcbernahmenachricht","imageStripView.inspectionTemplate":"{inspectionName} Filmstreifen","imageStripView.play":"Play","imageStripView.pause":"Pause","inputToolView.inspectionTemplate":"{inspectionName} Eingabe-Tool","inputToolView.edit":"Bearbeitungsansicht \xf6ffnen","inputToolView.showList":"Liste anzeigen","inputToolView.backToList":"Zur\xfcck zur Liste","inputToolView.type":"Typ","inputToolView.numberEditor":"Zahleneditor","inputToolView.colorEditor":"Farbeneditor","inputToolView.setValue":"Wert setzen","inputToolView.valueSetSuccess":"Wert wurde gesetzt",listView:"Liste","listView.inspectionTemplate":"{inspectionName} Liste","listView.AliasEditor.title":"Alias f\xfcr Pfadnamen setzen","listView.Actionbar.hideAliases":"Alias ausblenden","listView.Actionbar.showAliases":"Alias anzeigen","listView.AliasEditor.dottedName":"Pfadname","listView.AliasEditor.value":"Wert","listView.AliasEditor.button":"Speichern",helpView:"Hilfe",aboutView:"\xdcber","aboutView.applicationName":"Name der Applikation:","aboutView.applicationVersion":"Version der Applikation:","aboutView.svoVersion":"SVObserver-Version:","aboutView.gatewayVersion":"Gateway-Version:","viewTypeSelection.imageStripView":"Filmstreifen","viewTypeSelection.imageView":"Bild","viewTypeSelection.parameterView":"Parameter","viewTypeSelection.ListView":"Liste","viewTypeSelection.toolset":"Tool-Set","viewTypeSelection.inputTool":"Input-Tool","viewTypeSelection.back":"Zur\xfcck","viewTypeSelection.cancel":"Abbrechen","viewTypeSelection.chooseViewTooltip":"View-Typ w\xe4hlen","viewTypeSelection.selectViewType":"W\xe4hlen Sie einen Typ f\xfcr diese View:","inspectionSelection.selectInspection":"W\xe4hlen Sie eine Inspektion f\xfcr diese View:","parameterview.overlay.delete":"L\xf6schen","parameterview.overlay.add":"Hinzuf\xfcgen","parameterview.overlay.showAll":"Alle anzeigen","parameterview.overlay.hideAll":"Alle ausblenden","parameterview.overlay.parameters":"Overlay-Parameter","parameterview.overlay.label":"Beschriftung","parameterview.overlay.x":"X","parameterview.overlay.xVariable":"X-Variable","parameterview.overlay.offsetLeft":"Offset links","parameterview.overlay.offsetLeftVariable":"Variable f\xfcr Offset links","parameterview.overlay.y":"Y","parameterview.overlay.yVariable":"Y-Variable","parameterview.overlay.offsetTop":"Offset oben","parameterview.overlay.offsetTopVariable":"Variable f\xfcr Offset oben","parameterview.overlay.width":"Breite","parameterview.overlay.widthVariable":"Breiten-Variable","parameterview.overlay.height":"H\xf6he","parameterview.overlay.heightVariable":"H\xf6hen-Variable","parameterview.overlay.color":"Farbe","parameterview.overlay.colorVariable":"Farben-Variable","parameterview.overlay.lineStyle":"Linienart","imageView.inspectionTemplate":"{inspectionName} Bild","imageView.zoomIn":"Hineinzommen","imageView.zoomOut":"Herauszommen","imageView.fitToWidth":"An Breite anpassen","imageView.fitToHeight":"An H\xf6he anpassen","imageView.saveWithOverlays":"Bild mit Overlays herunterladen","imageView.overlayListToggle":"Overlay-Liste","imageView.imageInfoToggle":"Bildinfo","imageView.save":"Bild herunterladen","imageView.showOverlays":"Overlays einblenden","imageView.hideOverlays":"Overlays ausblenden","imageView.info":"Info","imageView.width":"Breite:","imageView.height":"H\xf6he:","imageView.x":"X:","imageView.y":"Y:",parameterView:"Parameter","parameterView.inspectionTemplate":"{inspectionName} Parameter","toolsetView.inspectionTemplate":"{inspectionName} Tool\u2013Set","toolsetView.confirmDelete":"M\xf6chten Sie {toolName} wirklich l\xf6schen? Dieser Vorgang kann nicht r\xfcckg\xe4ngig gemacht werden.","toolsetView.validate":"Best\xe4tigen","toolsetView.validateSelection":"Auswahl best\xe4tigen","toolsetView.validatedFormula":"Validierte Formel","toolsetView.savingSuccess":"Die \xc4nderungen wurden gespeichert","toolsetView.value":"Wert","toolsetView.link":"Link","toolsetView.formula":"Formel","toolsetView.selectLinkedValue":"Verkn\xfcpften Wert w\xe4hlen","toolsetView.highlightedNode":"Hervorgehobener Knoten","toolsetView.evaluatedValue":"Evaluierter Wert","toolsetView.undoAll":"Alles r\xfcckg\xe4ngig machen","toolsetView.validating":"Validierung","toolsetView.validationSuccess":"Validierungserfolg","toolsetView.validationError":"Validierungsfehler","toolsetView.result":"Ergebnis","toolsetView.buttons.addLinkedValue":"F\xfcgen Sie verkn\xfcpften Wert hinzu","toolsetView.buttons.delete":"Delete","aboutView.title":"\xdcber ",viewSetManager:"View-Set-Manager","viewSetManager.title":"View-Set-Manager","viewSetManager.viewSetName":"Name","viewSetManager.remove":"Entfernen","viewSetManager.save":"Alle View-Sets speichern","viewSetManager.close":"Schlie\xdfen","viewSetManager.editViewSetHeadline":"View-Sets bearbeiten:","viewSetManager.newViewSet":"Neues View-Set erstellen","viewSetManager.editViewSetName":"View-Set-Namen bearbeiten","viewSetManager.changeViewSetName":"View-Set-Namen \xe4ndern","viewSetManager.apply":"\xc4nderungen \xfcbernehmen","viewSetManager.export":"Aktuelles View-Layout exportieren","viewSetManager.import":"View-Layout aus Datei importieren","viewSetManager.importConfirm.title":"View-Set \xfcberschreiben","viewSetManager.importConfirm.message":"Durch Importieren eines View-Sets aus einer Datei wird Ihr bestehendes View-Set \xfcberschrieben. M\xf6chten Sie fortfahren?","viewSetManager.deleteConfirm.message":"M\xf6chten Sie das View-Set {viewsetName} wirklich l\xf6schen?","viewSetManager.deleteIconTooltip":"View-Set l\xf6schen","shortcutView.title":"Shortcuts","shortcutView.fullscreenTitle":"Vollbild","shortcutView.fullscreenDescription":"Fokussieren Sie eine View und dr\xfccken Sie STRG-F","shortcutView.helpTitle":"Hilfe","shortcutView.helpDescription":"Fokussieren Sie eine View und dr\xfccken Sie F1","notifications.modeSwitch.userSwitchedModeTo":"Der Benutzer hat den Modus ge\xe4ndert zu:","notifications.websocket.connectionEstablished":"Websocket-Verbindung hergestellt auf Port:","notifications.websocket.connectionLost":"Websocket-Verbindung verloren","notifications.userSwitchedLanguage":"Der Benutzer hat die Sprache ge\xe4ndert zu: ","notifications.rejectStreamPaused":"Reject-Stream wurde angehalten","notifications.rejectStreamResumed":"Reject-Stream wurde wieder aufgenommen","notifications.checkSvimOutput":"Bitte Ausgabe am SVIM pr\xfcfen","notifications.incompatibilityWarning":"Die ausgew\xe4hlte Konfiguration ist m\xf6glicherweise nicht mit der aktuellen WebApp kompatibel","notifications.errorOccurred":"Ein Fehler ist aufgetreten","notifications.error.loadingFile":"Daten aus der Datei konnten nicht geladen werden.","notifications.successfulAction":"Erfolgreiche Aktion","notifications.successfullyLoadedFile":"View-Set wurde erfolgreich aus der Datei geladen.","notifications.viewsetVersionIncompatibleTitle":"Dateiversion inkompatibel","notifications.viewsetVersionIncompatibleMessage":"Die Dateiversion ist inkompatibel. Das View-Set kann nicht geladen werden.","notifications.minorVersionDiffTitle":"Unterschied in Minor-Version","notifications.minorVersionDiffMessage":"Minor-Version in Anwendung und Datei unterschiedlich. Das View-Set wird unter Umst\xe4nden falsch dargestellt werden.","notifications.variableValueShouldBeInTheRange":"Der Wert der Variable {variableName} sollte im Bereich {range} liegen.","notifications.configAlreadyLockedBySameUser":"Sie haben die Konfiguration bereits gesperrt!","notifications.takeoverCandidateNotFound":"\xdcbernahmekandidat konnte nicht gefunden werden! Sie besitzen weiterhin die Konfigurationssperre.","notifications.lockTakeoverError":"Fehler bei \xdcbernahme der Konfigurationssperre! Fehler-Code: {code}","notifications.lockAcquisitionError":"Fehler bei Anforderung der Konfigurationssperre! Fehler-Code: {code}","listView.save":"Speichern","listView.name":"Name","listView.aliasName":"Alias/Name","listView.values":"Werte","objectSelector.select":"Objekte w\xe4hlen:","objectSelector.limitReached":"(Limit von {items_number} Objekten erreicht)","svoView.emptyViewInspectionTemplate":"{inspectionName}","svoView.closeView":"View schlie\xdfen","svoView.closeViewConfirmation":"M\xf6chten Sie diese View wirklich schlie\xdfen?",ok:"OK",cancel:"Abbrechen",submit:"Senden",close:"Schlie\xdfen",accept:"Annehmen",reject:"Ablehnen",milliseconds:"Millisekunden",noConfigName:"[Keine Konfiguration]",unknownConfigName:"[Unbekannte Konfiguration]",noConfigLoaded:"Keine Konfiguration im SVObserver geladen",up:"Zur\xfcck",down:"Vor",save:"Speichern",copy:"Kopieren",cut:"Ausschneiden",paste:"Einf\xfcgen",delete:"L\xf6schen",undo:"R\xfcckg\xe4ngig",expandAll:"Alles aufklappen",collapseAll:"Alles einklappen","permissions.backToWebApp":"Zur\xfcck zur WebApp","permissions.helpText":"Sie k\xf6nnen die aufgelisteten Rechte f\xfcr die jeweilige Gruppe (Spalte) anpassen. Rechte der Gruppe Common werden allen anderen Gruppen zugeordnet. Die Rechte haben m\xf6glicherweise Auswirkungen auf die WebApp und/oder den SVObserver.","permissions.permissions":"Rechte","permissions.permissionManagement":"Rechte-Verwaltung","permissions.description":"Beschreibung","permissionDescription.webapp.configuration.save":"Der Nutzer kann die aktuelle Konfiguration mit allen View-Sets speichern","permissionDescription.webapp.logs.read":"Der Nutzer kann Logs in der oberen Navigationsleiste sehen","permissionDescription.webapp.viewset.add":"Der Nutzer kann neue View-Sets hinzuf\xfcgen","permissionDescription.webapp.viewset.read":"Der Nutzer kann View-Sets sehen (zwischen View-Sets wechseln, View-Set-Manager \xf6ffnen)","permissionDescription.webapp.viewset.edit":"Der Nutzer kann View-Sets sehen und bearbeiten (Gr\xf6\xdfe der Views \xe4ndern, neue Views zu View-Sets hinzuf\xfcgen, zwischen View-Sets wechseln, View-Set-Manager \xf6ffnen, View-Sets umbenennen)","permissionDescription.webapp.viewset.remove":"Der Nutzer kann ein View-Set entfernen","permissionDescription.webapp.view[type=AnyView].add":"Der Nutzer kann Views aller Typen hinzuf\xfcgen","permissionDescription.webapp.view[type=AnyView].read":"Der Nutzer kann Views aller Typen anzeigen","permissionDescription.webapp.view[type=AnyView].edit":"Der Nutzer kann Views aller Typen anzeigen und bearbeiten","permissionDescription.webapp.view[type=AnyView].remove":"Der Nutzer kann Views aller Typen entfernen","permissionDescription.webapp.view[type=ImageView].add":"Der Nutzer kann Views des Typs Bild hinzuf\xfcgen","permissionDescription.webapp.view[type=ImageView].read":"Der Nutzer kann Views des Typs Bilds anzeigen (auch Bilder herunterladen, Liste eigener Overlays anzeigen, Bildinfo anzeigen)","permissionDescription.webapp.view[type=ImageView].edit":"Der Nutzer kann Views des Typs Bilds anzeigen und bearbeiten (Inspektion und Tool ausw\xe4hlen, Gr\xf6\xdfe des Bildes \xe4ndern, Bilder herunterladen, Liste eigener Overlays anzeigen, Bildinfo anzeigen)","permissionDescription.webapp.view[type=ImageView].remove":"Der Nutzer kann Views des Typs Bild entfernen","permissionDescription.webapp.view[type=ListView].add":"Der Nutzer kann Views des Typs Liste hinzuf\xfcgen","permissionDescription.webapp.view[type=ListView].read":"Der Nutzer kann Views des Typs Liste anzeigen","permissionDescription.webapp.view[type=ListView].edit":"Der Nutzer kann Views des Typs Liste anzeigen und bearbeiten (Inspektion und Tool w\xe4hlen, Alias bearbeiten)","permissionDescription.webapp.view[type=ListView].remove":"Der Nutzer kann Views des Typs Liste entfernen","permissionDescription.webapp.view[type=ImageStripView].add":"Der Nutzer kann Views des Typs Filmstreifen hinzuf\xfcgen","permissionDescription.webapp.view[type=ImageStripView].read":"Der Nutzer kann Views des Typs Filmstreifen anzeigen","permissionDescription.webapp.view[type=ImageStripView].edit":"Der Nutzer kann Views des Typs Filmstreifen anzeigen und bearbeiten (Inspektion und Tool w\xe4hlen)","permissionDescription.webapp.view[type=ImageStripView].remove":"Der Nutzer kann Views des Typs Filmstreifen entfernen","permissionDescription.webapp.view[type=ParameterView].add":"Der Nutzer kann Views des Typs Parameter hinzuf\xfcgen","permissionDescription.webapp.view[type=ParameterView].read":"Der Nutzer kann Views des Typs Parameter anzeigen","permissionDescription.webapp.view[type=ParameterView].edit":"Der Nutzer kann Views des Typs Parameter anzeigen und bearbeiten (eigene Overlays hinzuf\xfcgen, bearbeiten, l\xf6schen)","permissionDescription.webapp.view[type=ParameterView].remove":"Der Nutzer kann Views des Typs Parameter entfernen","permissionDescription.webapp.view[type=ToolSetView].add":"Der Nutzer kann Views des Typs Tool-Set hinzuf\xfcgen","permissionDescription.webapp.view[type=ToolSetView].read":"Der Nutzer kann Views des Typs Tool-Set anzeigen","permissionDescription.webapp.view[type=ToolSetView].edit":"Der Nutzer kann Views des Typs Tool-Set anzeigen und bearbeiten","permissionDescription.webapp.view[type=ToolSetView].remove":"Der Nutzer kann Views des Typs Tool-Set entfernen","permissionDescription.svobserver.mode.read":"Der Nutzer kann den aktuellen Modus des SVObserver in der oberen Navigationsleiste sehen","permissionDescription.svobserver.mode.edit":"Der Nutzer kann den aktuellen Modus des SVObserver in der oberen Navigationsleiste sehen und \xe4ndern","permissionDescription.svobserver.inspectionstate.read":"Der Nutzer kann den Inspektionsstatus aller Inspektionen in der oberen Navigationsleiste sehen","permissionDescription.svobserver.inspectionstate.edit":"Der Nutzer kann den Inspektionsstatus aller Inspektionen in der oberen Navigationsleiste sehen und \xe4ndern sowie den Status in der Filmstreifen-View wechseln","permissionDescription.svobserver.value.read":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, Werte zu sehen","permissionDescription.svobserver.value.edit":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, Werte zu bearbeiten","permissionDescription.svobserver.tool.add":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, neue Tools hinzuzuf\xfcgen","permissionDescription.svobserver.tool.read":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, Tools zu lesen","permissionDescription.svobserver.tool.edit":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, bestehende Tools zu bearbeiten","permissionDescription.svobserver.tool.remove":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, Tools zu entfernen","permissionDescription.svobserver.configuration.read":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, die SVObserver-Konfiguration zu lesen","permissionDescription.svobserver.configuration.write":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, die SVObserver-Konfiguration zu speichern","permissionDescription.svobserver.notifications.subscribe":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, SVObserver-Benachrichtigungen zu abonnieren","permissionDescription.svobserver.clientlogs.store":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, Client-Logs an SVObserver zu senden","permissionDescription.svobserver.file.read":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, beliebige Dateien im Ordner SVIM RUN zu lesen","permissionDescription.svobserver.file.write":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, beliebige Dateien im Ordner SVIM RUN zu schreiben","permissionDescription.svobserver.machinestate.set":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, den Maschinenstatus zu setzen (Herunterfahren oder Neustart des SVIM)","permissionDescription.svobserver.command.execute":"SVObserver pr\xfcft, ob der Nutzer berechtigt ist, Befehle auszuf\xfchren","permissionDescription.usermanagement.userpermissions.read":"Der Nutzer kann Gruppenrechte aus dem Backend laden/das Men\xfc f\xfcr die Rechteverwaltung sehen/alle Rechte in Rechteverwaltung sehen","permissionDescription.usermanagement.userpermissions.edit":"Der Nutzer kann Gruppenrechte aus dem Backend laden/das Men\xfc f\xfcr die Rechteverwaltung sehen/alle Rechte in Rechteverwaltung sehen/Rechte \xe4ndern","debugger.title":"Debugger","debugger.backToWebApp":"Zur\xfcck zur WebApp","debugger.requestsListHeader":"Anforderungsliste","debugger.noParametersMessage":"Diese Anforderung hat keine Parameter","debugger.noItemsMessage":"(keine Items)","debugger.nothingToConfigureMessage":"(nichts zu konfigurieren)","debugger.addItemButtonText":"Hinzuf\xfcgen","debugger.sendRequest":"Anfrage senden","debugger.noFilteredResultsMessage":"Keine gefilterten Ergebnisse","debugger.copyToClipboard":"In die Zwischenablage kopieren","toolsetView.windowTool":"Fenster-Tool","toolsetView.mathTool":"Mathe-Tool","toolsetView.statisticsTool":"Statistik-Tool","toolsetView.ringBufferTool":"Ringspeicher-Tool","toolsetView.archiveTool":"Archiv-Tool","toolsetView.acquisitionTool":"Aufnahme-Tool","toolsetView.transformationTool":"Transformations-Tool","toolsetView.shiftTool":"Verschiebe-Tool","toolsetView.cylindricalWarpTool":"Tool f\xfcr zylindrisches Warping","toolsetView.perspectiveTool":"Perspektive-Tool","toolsetView.imageTool":"Bild-Tool","toolsetView.linearTool":"Linear-Tool","toolsetView.colorTool":"Farben-Tool","toolsetView.resizeTool":"Tool zur Gr\xf6\xdfen\xe4nderung","toolsetView.loadImageTool":"Tool zum Laden von Bildern","toolsetView.tableTool":"Tabellen-Tool","toolsetView.tableAnalyzerTool":"Tabellenanalyse-Tool","toolsetView.polarTransformationTool":"Polar-Transformations-Tool","toolsetView.loopTool":"Loop-Tool","toolsetView.externalTool":"Externes Tool","toolsetView.groupTool":"Gruppen-Tool"},o={"topNavigation.language.german":"German","topNavigation.language.english":"English","topNavigation.language.spanish":"Spanish","topNavigation.lock":"Lock","topNavigation.takeover":"Takeover","topNavigation.release":"Release","topNavigation.logout":"Logout","topNavigation.help":"Help","topNavigation.about":"Info","topNavigation.shortcut":"Shortcut","topNavigation.download":"Download SVO configuration","topNavigation.upload":"Upload SVO configuration","topNavigation.inspectionState":"Inspection state ({runningInspections} of {numberOfInspections} running)","topNavigation.permissions":"Permissions","topNavigation.saveConfig":"Save config","topNavigation.pauseAllInspections":"Pause all inspections","topNavigation.resumeAllInspections":"Resume all inspections",editMode:"Edit Mode",unknownMode:"Unknown mode",runMode:"Run Mode",stopMode:"Stop Mode",regressionMode:"Regression Mode",testMode:"Test Mode","lockStateHandler.alertDialog.lockAlreadyLocked":"Configuration lock is already owned by: {user}","lockStateHandler.alertDialog.lockDescription":"Lock description: {description}","lockStateHandler.alertDialog.waitingForTakeoverResponse":"Waiting for response from: {user}","lockStateHandler.alertDialog.waitingForResponseInfo":"Current configuration lock owner has been notified of your request and has 30 seconds to respond from now on. If there is no response until then, you will automatically takeover the lock.","lockStateHandler.alertDialog.ownerRejectedTakeover":"{user} rejected the configuration lock takeover","lockStateHandler.alertDialog.takeoverAttempt":"{user} wants like to take over configuration lock","lockStateHandler.alertDialog.takeoverMessage":"Takeover message: {message}","lockStateHandler.formDialog.lockConfigRequestTitle":"Lock configuration request","lockStateHandler.formDialog.takeoverConfigRequestTitle":"Takeover configuration request","lockStateHandler.formDialog.lockConfigRequestContent":"To lock or takeover the configuration, please enter all details here. SVOGateway will send updates occasionally.","lockStateHandler.formDialog.lockScope":"Lock scope","lockStateHandler.formDialog.lockTimeout":"Lock timeout","lockStateHandler.formDialog.lockDescription":"Lock description","lockStateHandler.formDialog.takeoverRequest":"Takeover request","lockStateHandler.formDialog.takeoverMessage":"Takeover message","imageStripView.inspectionTemplate":"{inspectionName} Image Strip","imageStripView.play":"Play","imageStripView.pause":"Pause","inputToolView.inspectionTemplate":"{inspectionName} Input Tool","inputToolView.edit":"Open edit view","inputToolView.showList":"Show list","inputToolView.backToList":"Back to list","inputToolView.type":"Type","inputToolView.numberEditor":"Number editor","inputToolView.colorEditor":"Color editor","inputToolView.setValue":"Set value","inputToolView.valueSetSuccess":"Value has been set",listView:"List","listView.inspectionTemplate":"{inspectionName} List","listView.AliasEditor.title":"Set alias for dotted name","listView.Actionbar.hideAliases":"Hide aliases","listView.Actionbar.showAliases":"Show aliases","listView.AliasEditor.dottedName":"Dotted name","listView.AliasEditor.value":"Value","listView.AliasEditor.button":"Save",helpView:"Help",aboutView:"About","aboutView.applicationName":"Application name:","aboutView.applicationVersion":"Application version:","aboutView.svoVersion":"SVObserver version:","aboutView.gatewayVersion":"Gateway version:","viewTypeSelection.imageStripView":"Image Strip","viewTypeSelection.imageView":"Image","viewTypeSelection.parameterView":"Parameter","viewTypeSelection.ListView":"List","viewTypeSelection.toolset":"Tool Set","viewTypeSelection.inputTool":"Input tool","viewTypeSelection.back":"Back","viewTypeSelection.cancel":"Cancel","viewTypeSelection.chooseViewTooltip":"Choose view type","viewTypeSelection.selectViewType":"Select a type for this view:","inspectionSelection.selectInspection":"Select an inspection for this view:","parameterview.overlay.delete":"Delete","parameterview.overlay.add":"Add","parameterview.overlay.showAll":"Show all","parameterview.overlay.hideAll":"Hide all","parameterview.overlay.parameters":"Overlay parameters","parameterview.overlay.label":"Label","parameterview.overlay.x":"X","parameterview.overlay.xVariable":"X Variable","parameterview.overlay.offsetLeft":"Offset Left","parameterview.overlay.offsetLeftVariable":"Offset Left Variable","parameterview.overlay.y":"Y","parameterview.overlay.yVariable":"Y Variable","parameterview.overlay.offsetTop":"Offset Top","parameterview.overlay.offsetTopVariable":"Offset Top Variable","parameterview.overlay.width":"Width","parameterview.overlay.widthVariable":"Width Variable","parameterview.overlay.height":"Height","parameterview.overlay.heightVariable":"Height Variable","parameterview.overlay.color":"Color","parameterview.overlay.colorVariable":"Color Variable","parameterview.overlay.lineStyle":"Line Style","imageView.inspectionTemplate":"{inspectionName} Image","imageView.zoomIn":"Zoom in","imageView.zoomOut":"Zoom out","imageView.fitToWidth":"Fit to width","imageView.fitToHeight":"Fit to height","imageView.saveWithOverlays":"Download image with overlays","imageView.overlayListToggle":"Overlay list","imageView.imageInfoToggle":"Image info","imageView.save":"Download image","imageView.showOverlays":"Show overlays","imageView.hideOverlays":"Hide overlays","imageView.info":"Info","imageView.width":"Width:","imageView.height":"Height:","imageView.x":"X:","imageView.y":"Y:",parameterView:"Parameter","parameterView.inspectionTemplate":"{inspectionName} Parameter","toolsetView.inspectionTemplate":"{inspectionName} Tool Set","toolsetView.confirmDelete":"Do you really want to delete {toolName}? This cannot be undone.","toolsetView.validate":"Validate","toolsetView.validateSelection":"Validate selection","toolsetView.validatedFormula":"Validated formula","toolsetView.savingSuccess":"Changes have been saved","toolsetView.value":"Value","toolsetView.link":"Link","toolsetView.formula":"Formula","toolsetView.selectLinkedValue":"Select linked value","toolsetView.highlightedNode":"Highlighted node","toolsetView.evaluatedValue":"Evaluated value","toolsetView.undoAll":"Undo all","toolsetView.validating":"Validating","toolsetView.validationSuccess":"Validation success","toolsetView.validationError":"Validation error","toolsetView.result":"Result","toolsetView.buttons.addLinkedValue":"Add linked value","toolsetView.buttons.delete":"Delete","aboutView.title":"About ",viewSetManager:"View Set Manager","viewSetManager.title":"View Set Manager","viewSetManager.viewSetName":"Name","viewSetManager.remove":"Remove","viewSetManager.save":"Save all view sets","viewSetManager.close":"Close","viewSetManager.editViewSetHeadline":"Edit view sets:","viewSetManager.newViewSet":"Create new view set","viewSetManager.editViewSetName":"Edit view set name","viewSetManager.changeViewSetName":"Change view set name","viewSetManager.apply":"Apply changes","viewSetManager.export":"Export current view layout","viewSetManager.import":"Import a view layout from file","viewSetManager.importConfirm.title":"Overwriting view set","viewSetManager.importConfirm.message":"Importing a view set from file will overwrite your existing viewset. Do you want to continue?","viewSetManager.deleteConfirm.message":"Do you really want to delete view set {viewsetName}?","viewSetManager.deleteIconTooltip":"Delete view set","shortcutView.title":"Shortcuts","shortcutView.fullscreenTitle":"Full screen","shortcutView.fullscreenDescription":"Focus a view and press CTRL-F","shortcutView.helpTitle":"Help","shortcutView.helpDescription":"Focus a view and press F1","notifications.modeSwitch.userSwitchedModeTo":"User switched mode to:","notifications.websocket.connectionEstablished":"Websocket connection established on port:","notifications.websocket.connectionLost":"Websocket connection lost","notifications.userSwitchedLanguage":"User switched language to: ","notifications.rejectStreamPaused":"Reject stream was paused","notifications.rejectStreamResumed":"Reject stream was resumed","notifications.checkSvimOutput":"Please check output on SVIM","notifications.incompatibilityWarning":"Selected config might not be compatible with the current WebApp","notifications.errorOccurred":"An error occurred","notifications.error.loadingFile":"Could not load data from file.","notifications.successfulAction":"Successful action","notifications.successfullyLoadedFile":"Successfully loaded viewset from file.","notifications.viewsetVersionIncompatibleTitle":"File version incompatible","notifications.viewsetVersionIncompatibleMessage":"The file version is incompatible. Can not load viewset.","notifications.minorVersionDiffTitle":"Minor version differs","notifications.minorVersionDiffMessage":"Minor version differs between application and file. The presentation of the viewset might be incorrect.","notifications.variableValueShouldBeInTheRange":"Value of the variable {variableName} should be in the range of {range}.","notifications.configAlreadyLockedBySameUser":"You have already locked the configuration!","notifications.takeoverCandidateNotFound":"Could not find takeover candidate! You still own the config lock.","notifications.lockTakeoverError":"Error while perfroming config lock takeover! Error code: {code}","notifications.lockAcquisitionError":"Error while requesting config lock! Error code : {code}","listView.save":"Save","listView.name":"Name","listView.aliasName":"Alias/Name","listView.values":"Values","objectSelector.select":"Select objects:","objectSelector.limitReached":"(Selection limit of {items_number} items reached)","svoView.emptyViewInspectionTemplate":"{inspectionName}","svoView.closeView":"Close view","svoView.closeViewConfirmation":"Do you really want to close this view?",ok:"OK",cancel:"Cancel",submit:"Submit",close:"Close",accept:"Accept",reject:"Reject",milliseconds:"milliseconds",noConfigName:"[No configuration]",unknownConfigName:"[Unknown configuration]",noConfigLoaded:"No configuration loaded in SVObserver",up:"Up",down:"Down",save:"Save",copy:"Copy",cut:"Cut",paste:"Paste",delete:"Delete",undo:"Undo",expandAll:"Expand all",collapseAll:"Collapse all","permissions.backToWebApp":"Back to WebApp","permissions.helpText":"You can change the listed permissions for each group (column). Common permissions are applied to all other groups. Permissions may have effect on the WebApp and/or the SVObserver.","permissions.permissions":"Permissions","permissions.permissionManagement":"Permission Management","permissions.description":"Description","permissionDescription.webapp.configuration.save":"User can save the current configuration with all view sets","permissionDescription.webapp.logs.read":"User can see logs in top navigation bar","permissionDescription.webapp.viewset.add":"User can add new view sets","permissionDescription.webapp.viewset.read":"User can see view sets (switch between view sets, open View Set Manager)","permissionDescription.webapp.viewset.edit":"User can see and edit view sets (change size of views, add new views to view set, switch between view sets, open View Set Manager, rename view sets)","permissionDescription.webapp.viewset.remove":"User can remove a view set","permissionDescription.webapp.view[type=AnyView].add":"User can add views of any type","permissionDescription.webapp.view[type=AnyView].read":"User can see views of any type","permissionDescription.webapp.view[type=AnyView].edit":"User can see and edit views of any type","permissionDescription.webapp.view[type=AnyView].remove":"User can remove views of any type","permissionDescription.webapp.view[type=ImageView].add":"User can add views of type Image","permissionDescription.webapp.view[type=ImageView].read":"User can see views of type Image (also download image, see custom overlay list, see image info)","permissionDescription.webapp.view[type=ImageView].edit":"User can see and edit views of type Image (choose inspection and tool, change size of image, download image, see custom overlay list, see image info)","permissionDescription.webapp.view[type=ImageView].remove":"User can remove views of type Image","permissionDescription.webapp.view[type=ListView].add":"User can add views of type List","permissionDescription.webapp.view[type=ListView].read":"User can see views of type List","permissionDescription.webapp.view[type=ListView].edit":"User can see and edit views of type List (choose inspection and tool, edit aliases)","permissionDescription.webapp.view[type=ListView].remove":"User can remove views of type List","permissionDescription.webapp.view[type=ImageStripView].add":"User can add views of type Image Strip","permissionDescription.webapp.view[type=ImageStripView].read":"User can see views of type Image Strip","permissionDescription.webapp.view[type=ImageStripView].edit":"User can see and edit views of type Image Strip (choose inspection and tool)","permissionDescription.webapp.view[type=ImageStripView].remove":"User can remove views of type Image Strip","permissionDescription.webapp.view[type=ParameterView].add":"User can add views of type Parameter","permissionDescription.webapp.view[type=ParameterView].read":"User can see views of type Parameter","permissionDescription.webapp.view[type=ParameterView].edit":"User can see and edit views of type Parameter (add/edit/delete custom overlays)","permissionDescription.webapp.view[type=ParameterView].remove":"User can remove views of type Parameter","permissionDescription.webapp.view[type=ToolSetView].add":"User can add views of type Tool Set","permissionDescription.webapp.view[type=ToolSetView].read":"User can see views of type Tool Set","permissionDescription.webapp.view[type=ToolSetView].edit":"User can see and edit views of type Tool Set","permissionDescription.webapp.view[type=ToolSetView].remove":"User can remove views of type Tool Set","permissionDescription.svobserver.mode.read":"User can see the current mode of SVObserver in top navigation bar","permissionDescription.svobserver.mode.edit":"User can see and change the current mode of SVObserver in top navigation bar","permissionDescription.svobserver.inspectionstate.read":"User can see the inspection state of all inspections in the top navigation bar","permissionDescription.svobserver.inspectionstate.edit":"User can see and change the inspection state of all inspections in the top navigation bar and toggle the state in Image Strip View","permissionDescription.svobserver.value.read":"SVObserver checks if user is allowed to see values","permissionDescription.svobserver.value.edit":"SVObserver checks if user is allowed to edit values","permissionDescription.svobserver.tool.add":"SVObserver checks if user is allowed to add new tools","permissionDescription.svobserver.tool.read":"SVObserver checks if user is allowed to read tools","permissionDescription.svobserver.tool.edit":"SVObserver checks if user is allowed to edit existing tools","permissionDescription.svobserver.tool.remove":"SVObserver checks if user is allowed to remove tools","permissionDescription.svobserver.configuration.read":"SVObserver checks if user is allowed to read the SVObserver configuration","permissionDescription.svobserver.configuration.write":"SVObserver checks if user is allowed to save the SVObserver configuration","permissionDescription.svobserver.notifications.subscribe":"SVObserver checks if user is allowed to subscribe to SVObserver notifications","permissionDescription.svobserver.clientlogs.store":"SVObserver checks if user is allowed to send client logs to the SVObserver","permissionDescription.svobserver.file.read":"SVObserver checks if user is allowed to read arbitrary files in SVIM RUN folder","permissionDescription.svobserver.file.write":"SVObserver checks if user is allowed to write arbitrary files in SVIM RUN folder","permissionDescription.svobserver.machinestate.set":"SVObserver checks if user is allowed to set the machine state (shutdown or restart of SVIM)","permissionDescription.svobserver.command.execute":"SVObserver checks if user is allowed to execute commands","permissionDescription.usermanagement.userpermissions.read":"User can load group permissions from backend/can see menu entry to switch to permission management page/can see all permissions in permission management","permissionDescription.usermanagement.userpermissions.edit":"User can load group permissions from backend/can see menu entry to switch to permission management page/can see all permissions in permission management/can edit permissions","debugger.title":"Debugger","debugger.backToWebApp":"Back to WebApp","debugger.requestsListHeader":"Request list","debugger.noParametersMessage":"This request has no parameters","debugger.noItemsMessage":"(no items)","debugger.nothingToConfigureMessage":"(nothing to configure)","debugger.addItemButtonText":"Add","debugger.sendRequest":"Send request","debugger.noFilteredResultsMessage":"No filtered results","debugger.copyToClipboard":"Copy to clipboard","toolsetView.windowTool":"Window Tool","toolsetView.mathTool":"Math Tool","toolsetView.statisticsTool":"Statistics Tool","toolsetView.ringBufferTool":"Ring Buffer Tool","toolsetView.archiveTool":"Archive Tool","toolsetView.acquisitionTool":"Acquisition Tool","toolsetView.transformationTool":"Transformation Tool","toolsetView.shiftTool":"Shift Tool","toolsetView.cylindricalWarpTool":"Cylindrical Warp Tool","toolsetView.perspectiveTool":"Perspective Tool","toolsetView.imageTool":"Image Tool","toolsetView.linearTool":"Linear Tool","toolsetView.colorTool":"Color Tool","toolsetView.resizeTool":"Resize Tool","toolsetView.loadImageTool":"Load Image Tool","toolsetView.tableTool":"Table Tool","toolsetView.tableAnalyzerTool":"Table Analyzer Tool","toolsetView.polarTransformationTool":"Polar Transformation Tool","toolsetView.loopTool":"Loop Tool","toolsetView.externalTool":"External Tool","toolsetView.groupTool":"Group Tool"},s={"topNavigation.language.german":"Alem\xe1n","topNavigation.language.english":"Ingl\xe9s","topNavigation.language.spanish":"Espa\xf1ol","topNavigation.lock":"Bloquear","topNavigation.takeover":"Tomar el control","topNavigation.release":"Liberar","topNavigation.logout":"Cerrar sesi\xf3n","topNavigation.help":"Ayuda","topNavigation.about":"Informaci\xf3n","topNavigation.shortcut":"Atajo de teclado","topNavigation.download":"Descargar configuraci\xf3n SVO","topNavigation.upload":"Cargar configuraci\xf3n SVO","topNavigation.inspectionState":"Estado de inspecci\xf3n ({runningInspections} de {numberOfInspections} en curso)","topNavigation.permissions":"Permisos","topNavigation.saveConfig":"Guardar configuraci\xf3n","topNavigation.pauseAllInspections":"Detener todas las inspecciones","topNavigation.resumeAllInspections":"Reanudar todas las inspecciones",editMode:"Modo de edici\xf3n",unknownMode:"Modo desconocido",runMode:"Modo de ejecuci\xf3n",stopMode:"Modo de parada",regressionMode:"Modo de regresi\xf3n",testMode:"Modo de prueba","lockStateHandler.alertDialog.lockAlreadyLocked":"El bloqueo de la configuraci\xf3n ya est\xe1 a cargo de: {user}","lockStateHandler.alertDialog.lockDescription":"Descripci\xf3n de bloqueo: {description}","lockStateHandler.alertDialog.waitingForTakeoverResponse":"Esperando respuesta de: {user}","lockStateHandler.alertDialog.waitingForResponseInfo":"El propietario del bloqueo de configuraci\xf3n actual ha recibido su solicitud y dispone de 30 segundos para responder a partir de ahora. Si no recibe respuesta transcurrido ese tiempo, usted asumir\xe1 autom\xe1ticamente el control del bloqueo.","lockStateHandler.alertDialog.ownerRejectedTakeover":"{user} rechaz\xf3 tomar el control del bloqueo de configuraci\xf3n","lockStateHandler.alertDialog.takeoverAttempt":"{user} desea tomar el control del bloqueo de configuraci\xf3n","lockStateHandler.alertDialog.takeoverMessage":"Mensaje de toma de control: {message}","lockStateHandler.formDialog.lockConfigRequestTitle":"Solicitud de bloqueo de configuraci\xf3n","lockStateHandler.formDialog.takeoverConfigRequestTitle":"Solicitud de toma de control de configuraci\xf3n","lockStateHandler.formDialog.lockConfigRequestContent":"Para bloquear o tomar el control de la configuraci\xf3n, introduzca aqu\xed todos los detalles. SVOGateway enviar\xe1 actualizaciones de forma ocasional.","lockStateHandler.formDialog.lockScope":"\xc1mbito de bloqueo","lockStateHandler.formDialog.lockTimeout":"Bloquear tiempo excedido","lockStateHandler.formDialog.lockDescription":"Bloquear descripci\xf3n","lockStateHandler.formDialog.takeoverRequest":"Consulta de toma de control","lockStateHandler.formDialog.takeoverMessage":"Mensaje de toma de control","imageStripView.inspectionTemplate":"Franja de imagen {inspectionName}","imageStripView.play":"Reproducir","imageStripView.pause":"Pausar","inputToolView.inspectionTemplate":"{inspectionName} Herramienta de entradas","inputToolView.edit":"Abrir editar ver","inputToolView.showList":"Mostrar lista","inputToolView.backToList":"Volver a la lista","inputToolView.type":"Tipo","inputToolView.numberEditor":"Editor de n\xfamero","inputToolView.colorEditor":"Editor de color","inputToolView.setValue":"Establecer valor","inputToolView.valueSetSuccess":"Se ha establecido el valor",listView:"Lista","listView.inspectionTemplate":"Lista {inspectionName}","listView.AliasEditor.title":"Configurar alias para el nombre con puntos","listView.Actionbar.hideAliases":"Ocultar los alias","listView.Actionbar.showAliases":"Mostrar los alias","listView.AliasEditor.dottedName":"Nombre con puntos","listView.AliasEditor.value":"Valor","listView.AliasEditor.button":"Guardar",helpView:"Ayuda",aboutView:"Informaci\xf3n relacionada","aboutView.applicationName":"Nombre de la aplicaci\xf3n:","aboutView.applicationVersion":"Versi\xf3n de la aplicaci\xf3n:","aboutView.svoVersion":"Versi\xf3n de SVObserver:","aboutView.gatewayVersion":"Versi\xf3n del Gateway:","viewTypeSelection.imageStripView":"Franja de la imagen","viewTypeSelection.imageView":"Imagen","viewTypeSelection.parameterView":"Par\xe1metro","viewTypeSelection.ListView":"Lista","viewTypeSelection.toolset":"Conjunto de herramientas","viewTypeSelection.inputTool":"Herramienta de entradas","viewTypeSelection.back":"Atr\xe1s","viewTypeSelection.cancel":"Cancelar","viewTypeSelection.chooseViewTooltip":"Seleccionar tipo de visualizaci\xf3n","viewTypeSelection.selectViewType":"Seleccionar un tipo para esta visualizaci\xf3n:","inspectionSelection.selectInspection":"Seleccionar una inspecci\xf3n para esta visualizaci\xf3n:","parameterview.overlay.delete":"Borrar","parameterview.overlay.add":"A\xf1adir","parameterview.overlay.showAll":"Mostrar todo","parameterview.overlay.hideAll":"Ocultar todo","parameterview.overlay.parameters":"Par\xe1metros de superposici\xf3n","parameterview.overlay.label":"Etiqueta","parameterview.overlay.x":"X","parameterview.overlay.xVariable":"Variable X","parameterview.overlay.offsetLeft":"Desplazamiento izquierda","parameterview.overlay.offsetLeftVariable":"Variable Desplazamiento izquierda","parameterview.overlay.y":"Y","parameterview.overlay.yVariable":"Variable Y","parameterview.overlay.offsetTop":"Desplazamiento arriba","parameterview.overlay.offsetTopVariable":"Variable Desplazamiento arriba","parameterview.overlay.width":"Anchura","parameterview.overlay.widthVariable":"Variable Anchura","parameterview.overlay.height":"Altura","parameterview.overlay.heightVariable":"Variable Altura","parameterview.overlay.color":"Color","parameterview.overlay.colorVariable":"Variable Color","parameterview.overlay.lineStyle":"Estilo de l\xednea","imageView.inspectionTemplate":"Imagen {inspectionName}","imageView.zoomIn":"Acercar","imageView.zoomOut":"Alejar","imageView.fitToWidth":"Ajustar a la anchura","imageView.fitToHeight":"Ajustar a la altura","imageView.saveWithOverlays":"Descargar imagen con superposiciones","imageView.overlayListToggle":"Lista de superposiciones","imageView.imageInfoToggle":"Informaci\xf3n de im\xe1genes","imageView.save":"Descargar imagen","imageView.showOverlays":"Mostrar superposiciones","imageView.hideOverlays":"Ocultar superposiciones","imageView.info":"Informaci\xf3n","imageView.width":"Anchura:","imageView.height":"Altura:","imageView.x":"X:","imageView.y":"Y:",parameterView:"Par\xe1metro","parameterView.inspectionTemplate":"Par\xe1metro {inspectionName}","toolsetView.inspectionTemplate":"Conjunto de herramientas {inspectionName}","toolsetView.confirmDelete":"\xbfRealmente desea eliminar {toolName}? Esta acci\xf3n es irreversible.","toolsetView.validate":"Validar","toolsetView.validateSelection":"Validar selecci\xf3n","toolsetView.validatedFormula":"F\xf3rmula validada","toolsetView.savingSuccess":"Se han guardado los cambios","toolsetView.value":"Valor","toolsetView.link":"Vincular","toolsetView.formula":"F\xf3rmula","toolsetView.selectLinkedValue":"Seleccionar valor vinculado","toolsetView.highlightedNode":"Nodo resaltado","toolsetView.evaluatedValue":"Valor evaluado","toolsetView.undoAll":"Deshacer todo","toolsetView.validating":"Validando","toolsetView.validationSuccess":"Validaci\xf3n correcta","toolsetView.validationError":"Error de validaci\xf3n","toolsetView.result":"Resultado","toolsetView.buttons.addLinkedValue":"Agregar valor vinculado","toolsetView.buttons.delete":"Delete","aboutView.title":"Informaci\xf3n relacionada ",viewSetManager:"Gestor de conjuntos de visualizaci\xf3n","viewSetManager.title":"Gestor de conjuntos de visualizaci\xf3n","viewSetManager.viewSetName":"Nombre","viewSetManager.remove":"Eliminar","viewSetManager.save":"Guardar todos los conjuntos de visualizaci\xf3n","viewSetManager.close":"Cerrar","viewSetManager.editViewSetHeadline":"Editar los conjuntos de visualizaci\xf3n:","viewSetManager.newViewSet":"Crear nuevo conjunto de visualizaci\xf3n","viewSetManager.editViewSetName":"Editar el nombre del conjunto de visualizaci\xf3n","viewSetManager.changeViewSetName":"Cambiar el nombre del conjunto de visualizaci\xf3n","viewSetManager.apply":"Aplicar cambios","viewSetManager.export":"Exportaci\xf3n del dise\xf1o actual de visualizaci\xf3n","viewSetManager.import":"Importar un dise\xf1o de visualizaci\xf3n del archivo","viewSetManager.importConfirm.title":"Sobrescribir un conjunto de visualizaci\xf3n","viewSetManager.importConfirm.message":"Al importar un conjunto de visualizaci\xf3n del archivo se sobrescribir\xe1 su conjunto de visualizaci\xf3n existente. \xbfDesea continuar?","viewSetManager.deleteConfirm.message":"\xbfRealmente desea eliminar el conjunto de visualizaci\xf3n {viewsetName}?","viewSetManager.deleteIconTooltip":"Borrar el conjunto de visualizaci\xf3n","shortcutView.title":"Atajos de teclado","shortcutView.fullscreenTitle":"Pantalla completa","shortcutView.fullscreenDescription":"Centrar una visualizaci\xf3n y pulsar CTRL-F","shortcutView.helpTitle":"Ayuda","shortcutView.helpDescription":"Centrar una visualizaci\xf3n y pulsar F1","notifications.modeSwitch.userSwitchedModeTo":"El usuario cambi\xf3 el modo a:","notifications.websocket.connectionEstablished":"Conexi\xf3n WebSocket establecida en el puerto:","notifications.websocket.connectionLost":"Conexi\xf3n WebSocket perdida","notifications.userSwitchedLanguage":"El usuario cambi\xf3 el idioma a: ","notifications.rejectStreamPaused":"Se ha pausado la corriente de desecho","notifications.rejectStreamResumed":"Se ha reiniciado la corriente de desecho","notifications.checkSvimOutput":"Compruebe la salida en SVIM","notifications.incompatibilityWarning":"La configuraci\xf3n seleccionada puede que no sea compatible con la WebApp actual","notifications.errorOccurred":"Se ha producido un error","notifications.error.loadingFile":"No se han podido cargar los datos del archivo.","notifications.successfulAction":"Acci\xf3n realizada correctamente","notifications.successfullyLoadedFile":"El conjunto de visualizaci\xf3n se ha cargado correctamente desde el archivo.","notifications.viewsetVersionIncompatibleTitle":"Versi\xf3n del archivo incompatible","notifications.viewsetVersionIncompatibleMessage":"La versi\xf3n del archivo es incompatible. No se puede cargar el conjunto de visualizaci\xf3n.","notifications.minorVersionDiffTitle":"Diferencias en la versi\xf3n secundaria","notifications.minorVersionDiffMessage":"La versi\xf3n secundaria difiere entre la aplicaci\xf3n y el archivo. La presentaci\xf3n del conjunto de visualizaci\xf3n puede ser incorrecta.","notifications.variableValueShouldBeInTheRange":"El valor de la variable {variableName} deber\xeda estar en el rango de {range}.","notifications.configAlreadyLockedBySameUser":"Ya ha bloqueado la configuraci\xf3n!","notifications.takeoverCandidateNotFound":"No se ha podido encontrar el candidato para la toma de control! A\xfan est\xe1 a cargo del bloqueo de la configuraci\xf3n.","notifications.lockTakeoverError":"Error al ejecutar la toma de control del bloqueo de la configuraci\xf3n! C\xf3digo de error: {code}","notifications.lockAcquisitionError":"Error al solicitar el bloqueo de configuraci\xf3n C\xf3digo de error: {code}","listView.save":"Guardar","listView.name":"Nombre","listView.aliasName":"Alias/Nombre","listView.values":"Valores","objectSelector.select":"Seleccionar objetos:","objectSelector.limitReached":"(Se ha alcanzado el l\xedmite de selecci\xf3n de {items_number} elementos)","svoView.emptyViewInspectionTemplate":"{inspectionName}","svoView.closeView":"Cerrar visualizaci\xf3n","svoView.closeViewConfirmation":"\xbfSeguro que desea cerrar esta visualizaci\xf3n?",ok:"OK",cancel:"Cancelar",submit:"Enviar",close:"Cerrar",accept:"Aceptar",reject:"Rechazar",milliseconds:"milisegundos",noConfigName:"[Sin configuraci\xf3n]",unknownConfigName:"[Configuraci\xf3n desconocida]",noConfigLoaded:"No se ha cargado ninguna configuraci\xf3n en SVObserver",up:"Hacia arriba",down:"Hacia abajo",save:"Guardar",copy:"Copiar",cut:"Cortar",paste:"Pegar",delete:"Borrar",undo:"Deshacer",expandAll:"Expandir todo",collapseAll:"Ocultar todo","permissions.backToWebApp":"Volver a WebApp","permissions.helpText":"Puede cambiar los permisos enumerados para cada grupo (columna). Los permisos comunes se aplican a todos los dem\xe1s grupos. Los permisos pueden afectar a la WebApp y/o al SVObserver.","permissions.permissions":"Permisos","permissions.permissionManagement":"Administraci\xf3n de permisos","permissions.description":"Descripci\xf3n","permissionDescription.webapp.configuration.save":"El usuario puede guardar la configuraci\xf3n actual con todos los conjuntos de visualizaci\xf3n","permissionDescription.webapp.logs.read":"El usuario puede ver los registros en la barra de navegaci\xf3n superior","permissionDescription.webapp.viewset.add":"El usuario puede a\xf1adir nuevos conjuntos de visualizaci\xf3n","permissionDescription.webapp.viewset.read":"El usuario puede ver conjuntos de visualizaci\xf3n (cambiar entre los conjuntos de visualizaci\xf3n, abrir el gestor de conjuntos de visualizaci\xf3n)","permissionDescription.webapp.viewset.edit":"El usuario puede ver y editar conjuntos de visualizaci\xf3n (cambiar el tama\xf1o de las visualizaciones, abrir el gestor de conjuntos de visualizaci\xf3n, cambiar el nombre a los conjuntos de visualizaci\xf3n)","permissionDescription.webapp.viewset.remove":"El usuario puede eliminar un conjunto de visualizaci\xf3n","permissionDescription.webapp.view[type=AnyView].add":"El usuario puede a\xf1adir visualizaciones de cualquier tipo","permissionDescription.webapp.view[type=AnyView].read":"El usuario puede ver visualizaciones de cualquier tipo","permissionDescription.webapp.view[type=AnyView].edit":"El usuario puede ver y editar visualizaciones de cualquier tipo","permissionDescription.webapp.view[type=AnyView].remove":"El usuario puede eliminar visualizaciones de cualquier tipo","permissionDescription.webapp.view[type=ImageView].add":"El usuario puede a\xf1adir visualizaciones del tipo Imagen","permissionDescription.webapp.view[type=ImageView].read":"El usuario puede ver visualizaciones del tipo Imagen (tambi\xe9n descargar im\xe1genes, ver la lista de superposiciones personalizadas, ver informaci\xf3n sobre la imagen)","permissionDescription.webapp.view[type=ImageView].edit":"El usuario puede ver y editar visualizaciones del tipo Imagen (elegir inspecci\xf3n y herramienta, cambiar el tama\xf1o de la imagen, descargar la imagen, ver una lista de superposiciones personalizadas, ver informaci\xf3n sobre la imagen)","permissionDescription.webapp.view[type=ImageView].remove":"El usuario puede eliminar visualizaciones del tipo Imagen","permissionDescription.webapp.view[type=ListView].add":"El usuario puede a\xf1adir visualizaciones del tipo Lista","permissionDescription.webapp.view[type=ListView].read":"El usuario puede ver visualizaciones del tipo Lista","permissionDescription.webapp.view[type=ListView].edit":"El usuario puede ver y editar visualizaciones del tipo Lista (seleccionar inspecci\xf3n y herramienta, editar alias)","permissionDescription.webapp.view[type=ListView].remove":"El usuario puede eliminar visualizaciones del tipo Lista","permissionDescription.webapp.view[type=ImageStripView].add":"El usuario puede a\xf1adir visualizaciones del tipo Franja de imagen","permissionDescription.webapp.view[type=ImageStripView].read":"El usuario puede ver visualizaciones del tipo Franja de imagen","permissionDescription.webapp.view[type=ImageStripView].edit":"El usuario puede ver y editar visualizaciones del tipo Franja de imagen (seleccionar inspecci\xf3n y herramienta)","permissionDescription.webapp.view[type=ImageStripView].remove":"El usuario puede eliminar visualizaciones del tipo Franja de imagen","permissionDescription.webapp.view[type=ParameterView].add":"El usuario puede a\xf1adir visualizaciones del tipo Par\xe1metro","permissionDescription.webapp.view[type=ParameterView].read":"El usuario puede ver visualizaciones del tipo Par\xe1metro","permissionDescription.webapp.view[type=ParameterView].edit":"El usuario puede ver y editar visualizaciones del tipo Par\xe1metro (a\xf1adir/editar/borrar superposiciones personalizadas)","permissionDescription.webapp.view[type=ParameterView].remove":"El usuario puede eliminar visualizaciones del tipo Par\xe1metro","permissionDescription.webapp.view[type=ToolSetView].add":"El usuario puede a\xf1adir visualizaciones del tipo Conjunto de herramientas","permissionDescription.webapp.view[type=ToolSetView].read":"El usuario puede ver visualizaciones del tipo Conjunto de herramientas","permissionDescription.webapp.view[type=ToolSetView].edit":"El usuario puede ver y editar visualizaciones del tipo Conjunto de herramientas","permissionDescription.webapp.view[type=ToolSetView].remove":"El usuario puede eliminar visualizaciones del tipo Conjunto de herramientas","permissionDescription.svobserver.mode.read":"El usuario puede ver el modo actual de SVObserver en la barra de navegaci\xf3n superior","permissionDescription.svobserver.mode.edit":"El usuario puede ver y cambiar el modo actual de SVObserver en la barra de navegaci\xf3n superior","permissionDescription.svobserver.inspectionstate.read":"El usuario puede ver el estado de inspecci\xf3n de todas las inspecciones de la barra de navegaci\xf3n superior","permissionDescription.svobserver.inspectionstate.edit":"El usuario puede ver y cambiar el estado de inspecci\xf3n de todas las inspecciones de la barra de navegaci\xf3n superior y cambiar el estado en la visualizaci\xf3n de franjas de imagen","permissionDescription.svobserver.value.read":"SVObserver comprueba si el usuario tiene permiso para ver los valores","permissionDescription.svobserver.value.edit":"SVObserver comprueba si el usuario tiene permiso para editar los valores","permissionDescription.svobserver.tool.add":"SVObserver comprueba si el usuario tiene permiso para a\xf1adir nuevas herramientas","permissionDescription.svobserver.tool.read":"SVObserver comprueba si el usuario tiene permiso para leer herramientas","permissionDescription.svobserver.tool.edit":"SVObserver comprueba si el usuario tiene permiso para editar herramientas existentes","permissionDescription.svobserver.tool.remove":"SVObserver comprueba si el usuario tiene permiso para eliminar herramientas","permissionDescription.svobserver.configuration.read":"SVObserver comprueba si el usuario tiene permiso para leer la configuraci\xf3n de SVObserver","permissionDescription.svobserver.configuration.write":"SVObserver comprueba si el usuario tiene permiso para guardar la configuraci\xf3n de SVObserver","permissionDescription.svobserver.notifications.subscribe":"SVObserver comprueba si el usuario tiene permiso para suscribirse a las notificaciones SVObserver","permissionDescription.svobserver.clientlogs.store":"SVObserver comprueba si el usuario tiene permiso para enviar registros de cliente a SVObserver","permissionDescription.svobserver.file.read":"SVObserver comprueba si el usuario tiene permiso para leer los archivos arbitrarios en la carpeta SVIM RUN","permissionDescription.svobserver.file.write":"SVObserver comprueba si el usuario tiene permiso para escribir archivos arbitrarios en la carpeta SVIM RUN","permissionDescription.svobserver.machinestate.set":"SVObserver comprueba si el usuario tiene permiso para configurar el estado de la m\xe1quina (apagar o reiniciar SVIM)","permissionDescription.svobserver.command.execute":"SVObserver comprueba si el usuario tiene permiso para ejecutar comandos","permissionDescription.usermanagement.userpermissions.read":"El usuario puede cargar permisos de grupo desde el backend/puede ver la entrada del men\xfa para cambiar a la p\xe1gina de gesti\xf3n de permisos/puede ver todos los permisos en la gesti\xf3n de permisos","permissionDescription.usermanagement.userpermissions.edit":"El usuario puede cargar permisos de grupo desde el backend/puede ver la entrada del men\xfa para cambiar a la p\xe1gina de gesti\xf3n de permisos/puede ver todos los permisos en la gesti\xf3n de permisos/puede editar permisos","debugger.title":"Depurador","debugger.backToWebApp":"Volver a WebApp","debugger.requestsListHeader":"Lista de solicitudes","debugger.noParametersMessage":"Esta solicitud no tiene par\xe1metros","debugger.noItemsMessage":"(sin art\xedculos)","debugger.nothingToConfigureMessage":"(no hay nada que configurar)","debugger.addItemButtonText":"A\xf1adir","debugger.sendRequest":"Enviar consulta","debugger.noFilteredResultsMessage":"Sin resultados filtrados","debugger.copyToClipboard":"Copiar en el portapapeles","toolsetView.windowTool":"Herramienta de ventana","toolsetView.mathTool":"Herramienta matem\xe1tica","toolsetView.statisticsTool":"Herramienta estad\xedstica","toolsetView.ringBufferTool":"Herramienta de memoria c\xedclica","toolsetView.archiveTool":"Herramienta de archivo","toolsetView.acquisitionTool":"Herramienta de adquisici\xf3n","toolsetView.transformationTool":"Herramienta de transformaci\xf3n","toolsetView.shiftTool":"Herramienta de cambio","toolsetView.cylindricalWarpTool":"Herramienta de deformaci\xf3n cil\xedndrica","toolsetView.perspectiveTool":"Herramienta de perspectiva","toolsetView.imageTool":"Herramienta de imagen","toolsetView.linearTool":"Herramienta lineal","toolsetView.colorTool":"Herramienta de color","toolsetView.resizeTool":"Herramienta de cambio de tama\xf1o","toolsetView.loadImageTool":"Herramienta de carga de imagen","toolsetView.tableTool":"Herramienta de tabla","toolsetView.tableAnalyzerTool":"Herramienta analizadora de tablas","toolsetView.polarTransformationTool":"Herramienta de transformaci\xf3n polar","toolsetView.loopTool":"Herramienta de bucle","toolsetView.externalTool":"Herramienta externa","toolsetView.groupTool":"Herramienta de grupo"},c=n(1),l={de:Object(i.a)({},r),en:Object(i.a)({},o),es:Object(i.a)({},s)},u=[{locale:"de",name:Object(c.jsx)(a.a,{id:"topNavigation.language.german"})},{locale:"en",name:Object(c.jsx)(a.a,{id:"topNavigation.language.english"})},{locale:"es",name:Object(c.jsx)(a.a,{id:"topNavigation.language.spanish"})}];t.a=l},65:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(e){try{return e()}catch(t){return}}},666:function(e,t,n){},668:function(e,t,n){},669:function(e,t,n){},670:function(e,t,n){},671:function(e,t,n){},69:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var i=n(2),a=n.n(i),r=a.a.arrayOf(a.a.shape({intlId:a.a.string,iconUrl:a.a.string})),o=(a.a.oneOfType([r,a.a.func]),"TOGGLE_BUTTON"),s="SEPARATOR"},7:function(e,t,n){"use strict";var i=n(3),a=n(19),r=n(17),o=n(454),s=n(455),c=n.n(s),l=n(456),u=n.n(l),d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(a.a)(this,e),this.proxy=null,this.pendingMessages=[],this.opts=void 0,this.currentThrottleTimeout=null,this.opts=t,this.start()}return Object(r.a)(e,[{key:"start",value:function(){var e=this,t=this.opts.throttleInterval;!function n(){e.currentThrottleTimeout=setTimeout((function(){var t=e.pendingMessages;e.pendingMessages=[],t.length>0&&(e.proxy?e.proxy.sendLogsToServer(t):e.pendingMessages=t),n()}),t)}()}},{key:"setProxy",value:function(e){this.proxy=e,this.proxy&&this.pendingMessages.length>0&&(this.proxy.sendLogsToServer(this.pendingMessages),this.pendingMessages=[])}},{key:"removeProxy",value:function(){this.proxy=null,this.pendingMessages=[]}},{key:"write",value:function(e){if(this.currentThrottleTimeout){var t=this.pendingMessages.findIndex((function(t){return t.level===e.level&&t.msg===e.msg}));t>=0?(this.pendingMessages[t].sameMessageCount||(this.pendingMessages[t]=Object(i.a)(Object(i.a)({},this.pendingMessages[t]),{},{sameMessageCount:1})),this.pendingMessages[t].sameMessageCount++):this.pendingMessages.push(e)}}}]),e}(),p=function(){function e(){Object(a.a)(this,e),this.impl=void 0;var t=c()({label:!1});this.impl=u()({outputMode:"short",color:!1},t)}return Object(r.a)(e,[{key:"write",value:function(e){this.impl.write(JSON.stringify(e))}}]),e}(),v=new d({throttleInterval:3e3}),b=new p,f=Object(o.a)({name:"SvWebApp",streams:[{level:"warn",stream:v,type:"raw"},{level:"debug",stream:b,type:"stream"}]});f.setProxy=function(e){return v.setProxy(e)},f.removeProxy=function(){return v.removeProxy()},t.a=f},726:function(e,t,n){},727:function(e,t,n){},74:function(e,t,n){"use strict";var i=n(3),a=n(19),r=n(17),o=n(26),s=n(30),c=n(0),l=n.n(c),u=n(932),d=n(20),p=n(460),v=n.n(p),b=n(254),f=n(168),h=n(41),m=n.n(h),g=n(65),j=(n(726),n(1)),O=100,I=function(e){Object(o.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(a.a)(this,n);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={expandedKeys:[Object(g.a)((function(){var t;return null===(t=e.props.data.children)||void 0===t?void 0:t[0].location}))].filter(Boolean),expandedFilteredKeys:[],checkedKeys:[],filteredCheckedKeys:[],inputValue:"",filteredLocations:[],filteredTree:void 0,countedVisibleValues:0,countedPossibleValues:0,selectionLimitReached:!1,halfChecked:[]},e.setSelection=function(){var t=e.props.selection;e.setState({checkedKeys:t})},e.setExpandedKeys=function(){var t=e.props.expandedKeys;t&&e.setState({expandedKeys:t})},e.onExpand=function(t){var n,i;e.state.inputValue?e.setState({expandedFilteredKeys:t}):(null===(n=(i=e.props).onExpand)||void 0===n||n.call(i,t),e.setState({expandedKeys:t}))},e.onCheck=function(t,n){var i=e.limitCheckedKeys(t,O),a=(i=e.checkUnselectingAll(i,n.node)).slice();e.state.inputValue&&(i=e.updateCheckedKeys(i)),i=e.ensureSingleSelection(i),e.setChangedIds(i,n),e.setState({checkedKeys:i,filteredCheckedKeys:a,selectionLimitReached:i.length===O})},e.limitCheckedKeys=function(t,n){var i=[];(!n||n>t.length)&&(n=t.length);for(var a=[],r=Math.abs(n),o=0;0!==r&&o<t.length;)parseInt(t[o],10)?(a.push(t[o]),r--):i.push(t[o]),o++;return e.setState({halfChecked:i}),a},e.checkUnselectingAll=function(t,n){var i=e.state.halfChecked.slice();return n.halfChecked&&(i.includes(n.title)?(e.setState({halfChecked:[]}),t=[]):(i.push(n.title),e.setState({halfChecked:i}))),t},e.updateCheckedKeys=function(t){var n=t.filter((function(t){return!e.state.filteredCheckedKeys.includes(t)})),i=e.state.filteredCheckedKeys.filter((function(e){return!t.includes(e)}));return t=(t=v()(n,e.state.checkedKeys)).filter((function(e){return!i.includes(e)}))},e.ensureSingleSelection=function(t){return e.props.singleSelect?[t[t.length-1]]||!1:t},e.setChangedIds=function(t,n){var i=(t||[]).filter((function(e){return parseInt(e,10)>0}));if(e.props.singleSelect){var a,r,o=e.getSelectedLocation(n);null===(a=(r=e.props).onChange)||void 0===a||a.call(r,i[i.length-1]||0,o)}else{var s,c;null===(s=(c=e.props).onChange)||void 0===s||s.call(c,i)}},e.onChangeFilter=function(t){var n,i=e.props.data,a=void 0,r=t.target.value||"",o=(e.cutFilterIgnoreWords(r.toLowerCase())||"").split(""),s={abortRecursion:!1,expandedFilteredKeys:[],filteredLocations:[],filteredKeys:[],countSelection:0},c={countMatches:0};if(o.length){var l=o.slice(),u=[];e.filterNodesRecursively(i,o,u,s),e.countMatchingNodesRecursively(i,l,c),a=u.length>0?u[0]:{children:[]}}var d=(null!==(n=e.state.checkedKeys)&&void 0!==n?n:[]).filter((function(e){return s.filteredKeys.includes(e)}));e.setState({filteredLocations:s.filteredLocations,filteredTree:a,filteredCheckedKeys:d,expandedFilteredKeys:s.expandedFilteredKeys,inputValue:r,countedVisibleValues:s.countSelection,countedPossibleValues:c.countMatches})},e.cutFilterIgnoreWords=function(t){var n=e.props.filterIgnore;return n&&n.forEach((function(e){e=e.toLowerCase(),t.startsWith(e)&&(t=t.replace(e,"")).startsWith(".")&&(t=t.slice(1))})),t},e.filterNodesRecursively=function(t,n,i,a){if(!t)return!1;var r=[],o=[];n.length>0&&(o=e.consumeChars(t.name,n,r)),0===o.length&&(a.filteredLocations.push(t.location),t.id&&0===t.children.length&&a.filteredKeys.push(t.id)),a.filteredKeys.length>=100&&(a.abortRecursion=!0);var s=[],c=!1;t.children&&!a.abortRecursion&&t.children.forEach((function(t){!a.abortRecursion&&e.filterNodesRecursively(t,o,s,a)&&(c=!0)})),c&&a.expandedFilteredKeys.push(t.location);var l=0===o.length||c;if(l){0===t.children.length&&a.countSelection++;var u=e.createFilteredShadowNode(t,r,s);i.push(u)}return l},e.countMatchingNodesRecursively=function(t,n,i){if(!t)return!1;var a=[];n.length>0&&(a=e.consumeChars(t.name,n,[]));var r=!1;t.children&&t.children.forEach((function(t){e.countMatchingNodesRecursively(t,a,i)&&(r=!0)}));var o=0===a.length||r;return o&&0===t.children.length&&i.countMatches++,o},e.consumeChars=function(e,t,n){var i,a;e=null!==(i=null===(a=e)||void 0===a?void 0:a.toLowerCase())&&void 0!==i?i:"";for(var r=0;t.length;){if("."===t[0]){t=t.slice(1);break}var o=e.indexOf(t[0],r);if(-1===o)break;n.push(o),t=t.slice(1),r=o+1}return t},e.createFilteredShadowNode=function(t,n,a){var r=e.highlightAtPositions(t.name,n);return Object(i.a)(Object(i.a)({},t),{},{children:a,styledText:r})},e.highlightAtPositions=function(e,t){for(var n=[],i=0;i<e.length;i++)t.includes(i)?n.push([Object(j.jsx)("span",{className:"filteredText",children:e.charAt(i)},"strong".concat(m.a.generate()))]):n.push([e.charAt(i)]);return Object(j.jsx)("div",{children:n},"div".concat(m.a.generate()))},e.createTreeNodes=function(t,n){var a,r={style:{},onSelect:function(){},icon:void 0,switcherIcon:void 0};return(null===(a=t.children)||void 0===a?void 0:a.length)>0?Object(c.createElement)(b.a,Object(i.a)(Object(i.a)({},r),{},{key:t.location,title:t.styledText||t.name,disableCheckbox:e.props.singleSelect}),t.children.map(n)):Object(c.createElement)(b.a,Object(i.a)(Object(i.a)({},r),{},{key:t.id,title:t.styledText||t.name}))},e.getSelectedLocation=function(e){return Object(g.a)((function(){return e.node.location}))?e.node.location:""},e}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setSelection(),this.setExpandedKeys()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.selection,i=t.expandedKeys;n&&e.selection!==n&&n.length>0&&this.setSelection(),i&&e.expandedKeys!==i&&i.length>0&&this.setExpandedKeys()}},{key:"render",value:function(){var e,t,n=this,i=this.state,a=i.checkedKeys,r=i.expandedKeys,o=i.expandedFilteredKeys,s=i.filteredTree,c=i.filteredCheckedKeys,l=i.inputValue,d=i.countedVisibleValues,p=i.countedPossibleValues,v=i.selectionLimitReached,h=function e(t){return t?n.createTreeNodes(t,e):null},m=l?"unfilteredText":"",g=l?o:r,I=l?s:this.props.data,w=l?c:a,E=null!==I&&void 0!==I&&I.name?h(I):(null!==(e=null===I||void 0===I?void 0:I.children)&&void 0!==e?e:[]).map(h);return Object(j.jsxs)("div",{className:"object-selector",children:[Object(j.jsxs)("div",{className:"topmenu-wrapper",children:[Object(j.jsx)("div",{className:"w100 text",children:Object(j.jsxs)("div",{className:"infotext",children:[Object(j.jsx)("div",{className:"pr2",children:Object(j.jsx)(f.a,{id:"objectSelector.select"})}),v?Object(j.jsx)("div",{className:"warning pr2",children:Object(j.jsx)(f.a,{id:"objectSelector.limitReached",values:{items_number:O}})}):void 0,l&&E.length>0?Object(j.jsx)("div",{className:"warning",children:"(".concat(d," of ").concat(p," matches are shown)")}):void 0]})}),Object(j.jsx)("div",{className:"w100",children:Object(j.jsx)(u.a,{label:"Filter",type:"text",variant:"outlined",style:{width:"100%"},onChange:this.onChangeFilter,value:this.state.inputValue,InputLabelProps:{classes:{root:this.props.classes.label}}})})]}),Object(j.jsx)("div",{children:E.length>0?Object(j.jsx)(b.b,{checkable:null===(t=this.props.checkable)||void 0===t||t,showLine:!0,autoExpandParent:!0,defaultExpandParent:!0,showIcon:!1,selectable:!1,onExpand:this.onExpand,expandedKeys:g,checkedKeys:w,onCheck:this.onCheck,className:m,children:E}):Object(j.jsx)("div",{className:"text",children:"No filter results"})})]})}}]),n}(l.a.Component);t.a=Object(d.a)((function(){return{label:{fontSize:"1.4rem",transform:"translate(10px, 12px) scale(1)"}}}))(I)},746:function(e,t,n){},748:function(e,t,n){},749:function(e,t,n){},750:function(e,t,n){},751:function(e,t,n){},752:function(e,t,n){},753:function(e,t,n){},754:function(e,t,n){},755:function(e,t,n){},835:function(e,t,n){},836:function(e,t,n){},837:function(e,t,n){},838:function(e,t,n){},839:function(e,t,n){},840:function(e,t,n){},841:function(e,t,n){},842:function(e,t,n){},843:function(e,t,n){},844:function(e,t,n){},845:function(e,t,n){},846:function(e,t,n){},847:function(e,t,n){},848:function(e,t,n){},849:function(e,t,n){},850:function(e,t,n){},851:function(e,t,n){},852:function(e,t,n){},853:function(e,t,n){},854:function(e,t,n){},858:function(e,t,n){},859:function(e,t,n){},86:function(e,t,n){"use strict";t.a=n.p+"static/media/delete.85c719f0.svg"},864:function(e,t,n){},865:function(e,t,n){},866:function(e,t,n){},867:function(e,t,n){},868:function(e,t,n){},869:function(e,t,n){},87:function(e,t,n){"use strict";t.a=n.p+"static/media/back.c6197e51.svg"},870:function(e,t,n){},871:function(e,t,n){},877:function(e,t,n){},878:function(e,t,n){},879:function(e,t,n){},880:function(e,t,n){},881:function(e,t,n){},882:function(e,t,n){},883:function(e,t,n){},884:function(e,t,n){},885:function(e,t,n){},9:function(e,t,n){"use strict";n.d(t,"V",(function(){return D})),n.d(t,"ab",(function(){return L})),n.d(t,"Z",(function(){return F})),n.d(t,"M",(function(){return _})),n.d(t,"L",(function(){return U})),n.d(t,"U",(function(){return B})),n.d(t,"d",(function(){return z})),n.d(t,"b",(function(){return W})),n.d(t,"c",(function(){return q})),n.d(t,"g",(function(){return G})),n.d(t,"n",(function(){return Y})),n.d(t,"h",(function(){return K})),n.d(t,"j",(function(){return X})),n.d(t,"i",(function(){return J})),n.d(t,"l",(function(){return Z})),n.d(t,"k",(function(){return Q})),n.d(t,"o",(function(){return $})),n.d(t,"a",(function(){return ee})),n.d(t,"m",(function(){return te})),n.d(t,"f",(function(){return ne})),n.d(t,"e",(function(){return ie})),n.d(t,"p",(function(){return ae})),n.d(t,"y",(function(){return re})),n.d(t,"hb",(function(){return oe})),n.d(t,"t",(function(){return se})),n.d(t,"gb",(function(){return ce})),n.d(t,"E",(function(){return le})),n.d(t,"ib",(function(){return ue})),n.d(t,"X",(function(){return de})),n.d(t,"jb",(function(){return pe})),n.d(t,"u",(function(){return ve})),n.d(t,"J",(function(){return be})),n.d(t,"eb",(function(){return fe})),n.d(t,"Q",(function(){return he})),n.d(t,"z",(function(){return me})),n.d(t,"cb",(function(){return je})),n.d(t,"G",(function(){return Oe})),n.d(t,"w",(function(){return Ie})),n.d(t,"x",(function(){return we})),n.d(t,"H",(function(){return Ee})),n.d(t,"F",(function(){return Se})),n.d(t,"bb",(function(){return xe})),n.d(t,"C",(function(){return Te})),n.d(t,"r",(function(){return Ve})),n.d(t,"D",(function(){return Ce})),n.d(t,"q",(function(){return Ne})),n.d(t,"N",(function(){return Ae})),n.d(t,"O",(function(){return Pe})),n.d(t,"P",(function(){return Me})),n.d(t,"Y",(function(){return Re})),n.d(t,"v",(function(){return De})),n.d(t,"fb",(function(){return Le})),n.d(t,"I",(function(){return Fe})),n.d(t,"db",(function(){return _e})),n.d(t,"R",(function(){return Ue})),n.d(t,"kb",(function(){return He})),n.d(t,"S",(function(){return ze})),n.d(t,"B",(function(){return We})),n.d(t,"A",(function(){return qe})),n.d(t,"s",(function(){return Ge})),n.d(t,"T",(function(){return Ke})),n.d(t,"W",(function(){return Xe})),n.d(t,"K",(function(){return Je}));var i=n(12),a=n(5),r=n.n(a),o=(n(0),n(168)),s=n(186),c=n(6),l=n(11),u=n(51),d=n.n(u),p=n(10),v=n(159),b=n.n(v),f=function(e){var t=b.a.util.utf8.length(e),n=new Uint8Array(t);return b.a.util.utf8.write(e,n,0),n},h=function(e){return b.a.util.utf8.read(e,0,e.length)},m=n(7),g=n(35),j=new g.h,O="DatabaseGateway.json",I="WebApp.json",w="WebAppIds.json",E="5.0.0",S={VERSION:"version",SV_OBSERVER_VERSION:"svObserverVersion",GATEWAY_VERSION:"gatewayVersion",WEBAPP_VERSION:"webAppVersion",CREATED_VIEW_SETS:"createdViewSets",CURRENT_VIEW_SETS:"currentViewSet",INSPECTION_OVERLAYS:"inspectionOverlays",INSPECTION_LIST_SELECTION:"inspectionListSelection",INSPECTION_EDITING_VIEW_IDS:"inspectionEditingViewIds",INSPECTION_LIST_ALIASES:"inspectionListAliases",INSPECTION_IMAGE_VIEW_SETTINGS:"inspectionImageViewSettings"},y=function(e,t,n){return function(){var a=Object(i.a)(r.a.mark((function i(a){var o,s,c,u,d,v,b,h,g,j,O;return r.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return s=n.setSaveOperationInProcess,c=n.setSaveFlag,u=Object.keys(t.inspections).map((function(e){var n=parseInt(e,10),i=t.inspections[e];return{inspectionId:n,overlays:Object.keys(i.sharedState.views).map((function(e){return{viewId:e,overlays:i.sharedState.views[e]&&i.sharedState.views[e].overlays,sourceImage:i.sharedState.views[e]&&i.sharedState.views[e].sourceImage}}))}})),d=Object.keys(t.inspections).map((function(e){var n=parseInt(e,10),i=t.inspections[e];return{inspectionId:n,listSelection:Object.keys(i.views).map((function(e){return{viewId:e,selection:i.views[e]&&i.views[e].selection,isSelectionMode:i.views[e]&&i.views[e].isSelectionMode,selectAll:i.views[e]&&i.views[e].selectAll}}))}})),v=Object.keys(t.inspections).map((function(e){return{inspectionId:parseInt(e,10),editingViewId:t.inspections[e].sharedState.editingViewId}})),b=Object.keys(t.inspections).map((function(e){var n=parseInt(e,10),i=t.inspections[e];return i.sharedState.listViewAliases?{inspectionId:n,aliases:k(i.sharedState.listViewAliases),showInList:i.sharedState.showAliasesInList}:{}})),h=Object.keys(t.inspections).map((function(e){var n=parseInt(e,10),i=t.inspections[e];return{inspectionId:n,imageViewSettings:Object.keys(i.views).map((function(e){return{viewId:e,zoomFactor:i.views[e]&&i.views[e].zoomFactor,imagePosition:i.views[e]&&i.views[e].imagePosition}}))}})),o={},Object(l.a)(o,S.VERSION,E),Object(l.a)(o,S.SV_OBSERVER_VERSION,t.app.configuration.getSvObserverVersion()),Object(l.a)(o,S.GATEWAY_VERSION,t.app.configuration.getGatewayVersion()),Object(l.a)(o,S.WEBAPP_VERSION,t.app.configuration.getWebAppVersion()),Object(l.a)(o,S.CREATED_VIEW_SETS,t.viewSet.createdViewSets),Object(l.a)(o,S.CURRENT_VIEW_SETS,t.viewSet.currentViewSet),Object(l.a)(o,S.INSPECTION_OVERLAYS,u),Object(l.a)(o,S.INSPECTION_LIST_SELECTION,d),Object(l.a)(o,S.INSPECTION_EDITING_VIEW_IDS,v),Object(l.a)(o,S.INSPECTION_LIST_ALIASES,b),Object(l.a)(o,S.INSPECTION_IMAGE_VIEW_SETTINGS,h),g=o,j=JSON.stringify(g),i.next=10,a(s(!0));case 10:return i.prev=10,O=p.a.SvPb.PutFileRequest.create({destinationPath:I,fileData:f(j),saveInConfig:!0}),i.next=14,e.request(O);case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(10),m.a.error({err:i.t0},"Error while saving client chunk"),i.abrupt("return");case 20:return i.next=22,a(s(!1));case 22:a(c(!1));case 23:case"end":return i.stop()}}),i,null,[[10,16]])})));return function(e){return a.apply(this,arguments)}}()},k=function(e){var t=[];return e.forEach((function(e){t.push(e)})),t},x=function(e,t){return function(){var n=Object(i.a)(r.a.mark((function n(i){var a,o,s,c,l,u,v,b,f,g,j,O,w,y,k,x,T;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.setSharedStateData,o=t.setClientChunk,s=t.setViewData,c=t.setEditingFocus,l=t.addIncompatibilityDetectedNotification,u=t.setListViewAliases,v=t.saveImageSettings,b=p.a.SvPb.GetFileRequest.create({sourcePath:I}),f=null,n.prev=3,n.next=6,e.protobuf.request(b);case 6:f=n.sent,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(3),m.a.error({err:n.t0},"Error while loading client chunk");case 12:if(!f.hResult){n.next=15;break}return m.a.info("There is no web app configuration to restore"),n.abrupt("return");case 15:return g=h(f.fileData),j=JSON.parse(g.toString()),n.next=19,V(e.protobuf,j);case 19:if(j=n.sent,O=d.a.coerce(j.version),w=O.version,!d.a.satisfies(w,"<5.0.0")){n.next=23;break}throw new Error("Unable to load deprecated config file");case 23:for(y=Object.keys(j),k=Object.keys(S).map((function(e){return S[e]})),x=0;x<k.length;x++)T=k[x],y.includes(T)||m.a.warn('"'.concat(T,'" can not be found in loaded config'));if(d.a.valid(w)){n.next=29;break}throw m.a.error("Config version is invalid!"),new Error("Selected config version is invalid");case 29:if("major"!==d.a.diff(E,w)){n.next=32;break}throw m.a.error("Selected config is not compatible with the current Web App version"),new Error("Selected config is not compatible with the current Web App version");case 32:"minor"===d.a.diff(E,w)&&d.a.gt(w,E)&&i(l()),d.a.satisfies(w,">=3.0.0")&&(j.inspectionOverlays.forEach((function(e){return e.overlays.forEach((function(t){i(a(e.inspectionId,"overlays",t.overlays,t.viewId)),i(a(e.inspectionId,"sourceImage",t.sourceImage,t.viewId))}))})),j.inspectionListSelection.forEach((function(e){return e.listSelection.forEach((function(t){i(s(e.inspectionId,t.viewId,"selection",t.selection)),i(s(e.inspectionId,t.viewId,"isSelectionMode",t.isSelectionMode)),i(s(e.inspectionId,t.viewId,"selectAll",t.selectAll))}))}))),d.a.satisfies(w,">=3.1.0")&&j.inspectionEditingViewIds.forEach((function(e){e.inspectionId&&e.editingViewId&&i(c(e.inspectionId,e.editingViewId))})),d.a.satisfies(w,">=5.0.0")&&((j.inspectionListAliases||[]).forEach((function(e){if(e.inspectionId&&Array.isArray(e.aliases)){var t=new Map;e.aliases.forEach((function(e){return t.set(e.objectId,e)})),i(u(e.inspectionId,t,e.showInList))}})),(j.inspectionImageViewSettings||[]).forEach((function(e){(e.imageViewSettings||[]).forEach((function(t){i(v(e.inspectionId,t.viewId,t.zoomFactor,t.imagePosition))}))}))),i(o(j));case 37:case"end":return n.stop()}}),n,null,[[3,9]])})));return function(e){return n.apply(this,arguments)}}()},T=function(e,t){return function(){var e=Object(i.a)(r.a.mark((function e(n){var i,a,o,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.setClientChunk,o=g.b,s=j.buildEmptyViewSet(o),c=Object(l.a)({},o,s),i={},Object(l.a)(i,S.VERSION,E),Object(l.a)(i,S.SV_OBSERVER_VERSION,"UNDEFINED"),Object(l.a)(i,S.GATEWAY_VERSION,"UNDEFINED"),Object(l.a)(i,S.WEBAPP_VERSION,"UNDEFINED"),Object(l.a)(i,S.CREATED_VIEW_SETS,c),Object(l.a)(i,S.CURRENT_VIEW_SETS,s),Object(l.a)(i,S.INSPECTION_OVERLAYS,[]),Object(l.a)(i,S.INSPECTION_LIST_SELECTION,[]),Object(l.a)(i,S.INSPECTION_EDITING_VIEW_IDS,[]),Object(l.a)(i,S.INSPECTION_LIST_ALIASES,[]),Object(l.a)(i,S.INSPECTION_IMAGE_VIEW_SETTINGS,[]),n(a(i));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=function(){var e=Object(i.a)(r.a.mark((function e(t,n){var i,a,o,s,c,l,u,v;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=d.a.coerce(n.version),a=i.version,!d.a.satisfies(a,">=5.0.0")&&!d.a.satisfies(a,"<4.0.0")){e.next=3;break}return e.abrupt("return",n);case 3:return w,o=p.a.SvPb.GetFileRequest.create({sourcePath:"WebAppIds.json"}),e.prev=5,e.next=8,t.request(o);case 8:s=e.sent,e.next=15;break;case 11:throw e.prev=11,e.t0=e.catch(5),m.a.error({err:e.t0},"Error while loading id mapping"),new Error("Unable to load id mapping file");case 15:if(!s.hResult){e.next=18;break}throw m.a.info('The file "'.concat(w,'" does not exist.')),new Error("Unable to load id mapping file");case 18:e.prev=18,l=h(s.fileData),c=JSON.parse(l.toString()),e.next=27;break;case 23:return e.prev=23,e.t1=e.catch(18),m.a.error({err:e.t1},"Error while parsing content of ".concat(w)),e.abrupt("return",n);case 27:if(u=C(c.guidToObjectIdMapping),A(n,u,v={hasError:!1}),n.version="5.0.0",n.patchedIds=!0,!v.hasError){e.next=36;break}throw new Error("Selected config is not compatible with the current Web App version (could not migrate all string GUIDs to int ObjectIds)");case 36:m.a.debug("Successfully migrated string GUIDs to int ObjectIds");case 37:return e.abrupt("return",n);case 38:case"end":return e.stop()}}),e,null,[[5,11],[18,23]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(e){var t=new Map;return Object.entries(e||{}).forEach((function(e){var n=Object(c.a)(e,2),i=n[0],a=n[1],r=i.toLowerCase().replace("{","").replace("}","");t.set(r,a)})),t},N=function(e,t){if(t.has(e))return t.get(e);var n=e.toLowerCase();return t.has(n)?t.get(n):void 0},A=function e(t,n,i){for(var a in t)if("object"===typeof t[a]&&null!==t[a])"selection"===a&&(t[a]=t[a].map((function(e){var t=N(e,n);return t||(i.hasError=!0,void m.a.error("There is a guid in the config which is not included in the mapping: ".concat(e)))})).filter((function(e){return!!e}))),e(t[a],n,i);else if("inspectionId"===a||"sourceImage"===a||"xVariable"===a||"offsetLeftVariable"===a||"yVariable"===a||"offsetTopVariable"===a||"widthVariable"===a||"heightVariable"===a||"colorVariable"===a){var r=N(t[a],n);r?t[a]=r:(t[a]=void 0,i.hasError=!0,m.a.error("There is a guid in the config which is not included in the mapping: ".concat(t[a])))}},P=function(e,t){return function(){var n=Object(i.a)(r.a.mark((function n(i){var a,o,s,c,l;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.setDatabaseGatewayChunk,o=p.a.SvPb.GetFileRequest.create({sourcePath:O}),s=null,n.prev=3,n.next=6,e.request(o);case 6:s=n.sent,n.next=12;break;case 9:n.prev=9,n.t0=n.catch(3),m.a.error({err:n.t0},"Error while loading client chunk");case 12:s.hResult&&m.a.info("There is no database gateway configuration to restore"),c=h(s.fileData),l=s.hResult?null:JSON.parse(c.toString()),i(a(l));case 16:case"end":return n.stop()}}),n,null,[[3,9]])})));return function(e){return n.apply(this,arguments)}}()},M=function(e,t){return Object(i.a)(r.a.mark((function n(){var i,a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=JSON.stringify(t,0,2),n.prev=1,a=p.a.SvPb.PutFileRequest.create({destinationPath:O,fileData:f(i),saveInConfig:!0}),n.next=5,e.request(a);case 5:n.next=11;break;case 7:return n.prev=7,n.t0=n.catch(1),m.a.error({err:n.t0},"Error while saving client chunk"),n.abrupt("return");case 11:case"end":return n.stop()}}),n,null,[[1,7]])})))},R=n(1),D=function(e){return{type:"SET_LOCALE",locale:e}},L=function(){return{type:"SET_PROTOBUF_STATIC_INITIALIZED"}},F=function(e,t){return{type:"SET_PROTOBUF",protobuf:e,socket:t}},_=function(e){return{type:"SET_CONFIGURATION",configuration:e}},U=function(e){return{type:"SET_CONFIGURATION_LOCK",configurationLock:e}},B=function(e){return{type:"SET_INSPECTION_TOOLSET_MAPPINGS",mappings:e}},H=function(e,t){return{type:"ADD_NOTIFICATION",notification:{type:e,message:t}}},z=function(){return H("warning",Object(R.jsx)(o.a,{id:"imageNotAvailable"}))},W=function(){return H("info",Object(R.jsx)(o.a,{id:"notifications.websocket.connectionEstablished"}))},q=function(){return H("warning",Object(R.jsx)(o.a,{id:"notifications.websocket.connectionLost"}))},G=function(e){return H("info",Object(R.jsxs)("span",{children:[Object(R.jsx)(o.a,{id:"notifications.modeSwitch.userSwitchedModeTo"})," ",e]}))},Y=function(e){return H("info",Object(R.jsxs)("span",{children:[Object(R.jsx)(o.a,{id:"notifications.userSwitchedLanguage"}),e]}))},K=function(e){return H("info",'A new project was loaded: "'.concat(e,'"'))},X=function(e){return H("info",'The project was unloaded: "'.concat(e,'"'))},J=function(){return H("info","Project was modified. Updating UI.")},Z=function(e,t){return H("info","Server reported: ".concat(e," ").concat(t))},Q=function(e){return H("info",Array.isArray(e)&&e.length>0?Object(R.jsx)(o.a,{id:"notifications.rejectStreamPaused"}):Object(R.jsx)(o.a,{id:"notifications.rejectStreamResumed"}))},$=function(e,t){return H("warning",Object(R.jsx)(o.a,{id:"notifications.variableValueShouldBeInTheRange",values:{variableName:e,range:t}}))},ee=function(){return H("warning",Object(R.jsx)(o.a,{id:"notifications.configAlreadyLockedBySameUser"}))},te=function(){return H("warning",Object(R.jsx)(o.a,{id:"notifications.takeoverCandidateNotFound"}))},ne=function(e){return H("warning",Object(R.jsx)(o.a,{id:"notifications.lockTakeoverError",values:{code:e}}))},ie=function(e){return H("warning",Object(R.jsx)(o.a,{id:"notifications.lockAcquisitionError",values:{code:e}}))},ae=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var i,a,o;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.a)(e);case 2:return i=t.sent,a=i.authToken,o=i.user,t.abrupt("return",n({type:"LOG_IN",authToken:a,user:o}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},re=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(){var t=Object(i.a)(r.a.mark((function t(n){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(s.c)(e);case 2:return t.abrupt("return",n({type:"LOG_OUT"}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},oe=function(e){return{type:"SHOW_GLOBAL_MESSAGE_OVERLAY",message:e.message}},se=function(){return{type:"HIDE_GLOBAL_MESSAGE_OVERLAY"}},ce=function(e,t){return{type:"SET_VIEWSET",viewSet:e,viewSetId:t}},le=function(e,t,n){return{type:"REPLACE_VIEW_IN_CURRENT_VIEWSET",viewId:e,replacementComponentId:t,inspectionId:n}},ue=function(e){return{type:"SWITCH_VIEWSET",viewSet:e}},de=function(e){return{type:"SET_PARAMETER",parameter:e}},pe=function(e){return{type:"TOGGLE_FULLSCREEN_MODE",componentDescriptor:{id:e.props.id,setFullscreen:e.setFullscreen}}},ve=function(){return{type:"INCREASE_VIEW_SIZE_CHANGE_COUNTER"}},be=function(e){return{type:"SET_BOTTOM_NAV_HIDDEN",hidden:!!e}},fe=function(e){return{type:"SET_TOP_NAV_HIDDEN",hidden:!!e}},he=function(e){return{type:"SET_DEFAULT_VIEWSET_NAME",name:e}},me=function(e,t){return{type:"NEW_VIEW_SET",name:e,mode:t}},ge=function(e){return{type:"UPDATE_SAVE_OPERATION_IN_PROCESS",inProcess:e}},je=function(e){return{type:"SET_SAVE_FLAG",hasChanges:e}},Oe=function(e,t){return function(){var n=Object(i.a)(r.a.mark((function n(i){var a;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a={setSaveOperationInProcess:ge,setSaveFlag:je},n.next=3,i(y(e,t,a));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Ie=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={setSharedStateData:_e,setClientChunk:ye,setViewData:Le,setEditingFocus:Ue,addIncompatibilityDetectedNotification:Ye,setListViewAliases:Be,saveImageSettings:Fe},t.next=3,n(x(e,i));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},we=function(e){return function(){var t=Object(i.a)(r.a.mark((function t(n){var i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i={setDatabaseGatewayChunk:ke},t.next=3,n(P(e,i));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Ee=function(e,t){return function(){var n=Object(i.a)(r.a.mark((function n(i){return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i(M(e,t));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Se=function(e){return function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={setClientChunk:ye,setSVOConfigLoaded:xe},e.next=3,t(T(0,n));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ye=function(e){return{type:"LOAD_CLIENT_CHUNK",chunk:e}},ke=function(e){return{type:"SET_DATABASE_GATEWAY_CHUNK",chunk:e}},xe=function(e){return{type:"SET_SVO_CONFIG_LOADED",isLoaded:e}},Te=function(e){return{type:"REMOVE_VIEWSET",name:e}},Ve=function(){return{type:"CLEAR_CURRENT_VIEW"}},Ce=function(e,t){return{type:"RENAME_VIEWSET",oldName:e,newName:t}},Ne=function(e){return{type:"CHANGE_VIEWSET_AFTER_LOADING",name:e}},Ae=function(e){return{type:"SET_CURRENT_LAYOUT",layout:e}},Pe=function(e){return{type:"SET_CURRENT_MODE",mode:e}},Me=function(e){return{type:"SET_CURRENT_MODE_DONE",mode:e}},Re=function(e){return{type:"SET_PAUSED_INSPECTIONS",pausedInspections:e}},De=function(e,t,n,i){return{type:"INIT_VIEW_STATE",inspectionId:e,viewId:t,initState:n,initSharedState:i}},Le=function(e,t,n,i){return{type:"SET_VIEW_DATA",inspectionId:e,viewId:t,key:n,data:i}},Fe=function(e,t,n,i){return{type:"SAVE_IMAGE_SETTINGS",inspectionId:e,viewId:t,zoomFactor:n,imagePosition:i}},_e=function(e,t,n,i){return{type:"SET_SHARED_STATE_DATA",inspectionId:e,key:t,data:n,viewId:i}},Ue=function(e,t){return{type:"SET_EDITING_FOCUS",inspectionId:e,viewId:t}},Be=function(e,t,n){return{type:"SET_LIST_VIEW_ALIASES",inspectionId:e,aliases:t,showInList:n}},He=function(e,t){return{type:"UPDATE_LIST_VIEW_SHOW_ALIASES",inspectionId:e,showInList:t}},ze=function(e){return{type:"SET_FOCUSED_VIEW_TYPE",viewType:e}},We=function(e,t){return{type:"PURGE_VIEW_STATE",inspectionId:e,viewId:t}},qe=function(){return{type:"OPEN_HELP_VIEW",isHelpViewOpen:!0}},Ge=function(){return{type:"CLOSE_HELP_VIEW",isHelpViewOpen:!1}},Ye=function(){return H("info",Object(R.jsx)(o.a,{id:"incompatibilityNotification"}))},Ke=function(e){return{type:"SET_GROUP_PERMISSIONS",groupPermissions:e}},Xe=function(e){return{type:"SET_MY_PERMISSIONS",myPermissions:e}},Je=function(e){return{type:"SET_BROWSER_WINDOW_VISIBILITY",visible:e}}},913:function(e,t,n){},916:function(e,t,n){},917:function(e,t,n){},918:function(e,t,n){},919:function(e,t,n){},920:function(e,t,n){"use strict";n.r(t);var i=n(0),a=n.n(i),r=n(972),o=n(29),s=n.n(o),c=n(12),l=n(6),u=n(5),d=n.n(u),p=n(8),v=n(485),b=n(89),f=n(3),h=n(120),m=n(38),g=n(980),j=n(970),O=n(86),I=n(9),w=n(19),E=n(17),S=n(26),y=n(30),k=(n(848),n(1)),x=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this.props,t=e.visible,n=e.message;return!!t&&Object(k.jsx)("div",{className:"modal-fullscreen-style",children:Object(k.jsx)("div",{className:"modal-fullscreen-inner",children:n})})}}]),n}(i.Component);x.defaultProps={visible:!1,message:void 0};var T=x,V=n(63),C=n(27),N=n(330),A=n(103),P=n(979),M=n(932),R=n(968),D=(n(849),0),L=function(e){var t=e.items,n=e.onSelect,a=e.show,r=e.currentKey,o=e.filter,s=e.onCancel,c=function(e){var t=Object(i.useRef)();return Object(i.useEffect)((function(){t.current=e})),t.current}(o);if(!a)return Object(k.jsx)("div",{});o!==c&&(D=0);var l=function(e,t){for(var n=[],i=0;i<e.length;i++)t.includes(i)?n.push([Object(k.jsx)("span",{className:"filteredText",children:e.charAt(i)},"suggestionlist_highlight_span_".concat(e,"_").concat(i))]):n.push([e.charAt(i)]);return Object(k.jsx)("div",{children:n},"suggestionlist_highlight_div_".concat(e))},u=[];if((t||[]).forEach((function(e){var t=[];0===function(e,t,n){e=e.toLowerCase();for(var i=0;t.length;){var a=e.indexOf(t[0],i);if(-1===a)break;n.push(a),t=t.slice(1),i=a+1}return t}(e,o.toLowerCase().split(""),t).length&&u.push({text:e,textWithHighlight:l(e,t)})})),0===u.length)return Object(k.jsx)("div",{});"ArrowUp"===r.currentKey&&D>0&&D--,"ArrowDown"===r.currentKey&&D<u.length-1&&D++;var d=[],p="";return(u||[]).forEach((function(e,t){var i=D===t;i&&(p=e.text),d.push(Object(k.jsx)("li",{onClick:function(){return n(e.text)},className:i?"suggestionlist-selected":"",children:e.textWithHighlight},"suggestionlist_li_".concat(e.text)))})),"Enter"===r.currentKey&&n(p),"Escape"===r.currentKey&&s(),Object(k.jsx)(R.a,{className:"suggestionlist-wrapper",style:a?{display:"block"}:{display:"none"},children:Object(k.jsx)("ul",{className:"suggestionlist-list",children:d})})},F=function(e){var t=e.label,n=e.fullWidth,a=e.value,r=e.onChange,o=e.variant,s=e.size,c=e.suggestionList,u=Object(i.useRef)(),d=Object(i.useState)(!1),p=Object(l.a)(d,2),v=p[0],b=p[1],f=Object(i.useState)(""),h=Object(l.a)(f,2),m=h[0],g=h[1],j=Object(i.useState)(),O=Object(l.a)(j,2),I=O[0],w=O[1],E=function(e){var t=function(e,t){for(var n="",i=t-1;i>=0&&!n.startsWith("$");){if(" "===e.charAt(i))return"";n=e.charAt(i)+n,i--}return n.startsWith("$")||(n=""),n}(e.target.value,u.current.selectionEnd);g(t),b(t.length>0),r(e.target.value)};return Object(k.jsxs)("div",{className:"autocomplete-wrapper",children:[Object(k.jsx)(M.a,{inputRef:u,label:t,fullWidth:n,value:a,onChange:function(e){return E(e)},onKeyDown:function(e){return"ArrowDown"!==(t=e).key&&"ArrowUp"!==t.key||t.preventDefault(),void w({currentKey:t.key});var t},variant:o,size:s,inputProps:{style:{height:37}}}),Object(k.jsx)(L,{show:v,currentKey:I,filter:m,items:c,onSelect:function(e){return function(e){b(!1),r("".concat(a.slice(0,u.current.selectionEnd-m.length)).concat(e).concat(a.slice(u.current.selectionEnd,a.length)))}(e)},onCancel:function(){b(!1)}})]})},_=n(74),U=n(168),B=n(153),H=n(983),z=n(977),W=n(975),q=n(976),G=n(974),Y=function(e){var t=e.open,n=e.title,i=e.contentText,a=e.children;return Object(k.jsxs)(H.a,{open:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",disableEscapeKeyDown:!0,children:[Object(k.jsx)(G.a,{id:"alert-dialog-title",children:n}),Object(k.jsx)(W.a,{children:Object(k.jsx)(q.a,{id:"alert-dialog-description",children:i})}),Object(k.jsx)(z.a,{children:a})]})},K=function(e){var t=e.onClose,n=e.informationText,a=e.open,r=e.title,o=Object(i.useState)(a||!1),s=Object(l.a)(o,2),c=s[0],u=s[1];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{children:Object(k.jsx)(C.a,{tooltip:"Show information",onClick:function(){u(!0)},iconUrl:B.a})}),Object(k.jsx)(Y,{open:c,contentText:n,title:r,children:Object(k.jsx)(j.a,{onClick:function(){u(!1),t&&t()},color:"primary",children:Object(k.jsx)(U.a,{id:"close"})})})]})},X=function(e,t,n){for(var i=t&&t.children&&t.children.slice(0)||[];i.length>0;){var a=i.shift(),r=a.id,o=a.location,s=a.children;if(r&&e===r.toString())return"Inspections."+n+"."+o;if(s&&s.length)for(var c=0;c<s.length;++c)i.push(s[c])}},J=function(e){var t=e.id,n=e.object,a=e.propertyName,r=e.allowedImageVariables,o=e.allowedPathVariables,s=e.onDelete,c=e.inspection,u=e.informationText,d=void 0===u?Object(k.jsx)(k.Fragment,{}):u,p=e.treeStyle,v=void 0===p?{}:p,b=Object(i.useState)(n[a].treeNodeId||0),f=Object(l.a)(b,2),h=f[0],m=f[1],g=Object(i.useState)(n[a].path||""),j=Object(l.a)(g,2),I=j[0],w=j[1],E=Object(i.useState)(n[a].samplingRate||.1),S=Object(l.a)(E,2),y=S[0],x=S[1],T=Object(i.useState)("object"===typeof n[a]&&n[a].enabled||!0),N=Object(l.a)(T,2),A=N[0],R=N[1];return Object(k.jsxs)("div",{className:"field-name-type",children:[Object(k.jsx)("div",{className:"item",children:Object(k.jsx)("div",{className:"property-id",children:t})}),Object(k.jsx)("div",{className:"inputs",children:Object(k.jsxs)("div",{className:"field-name-type",children:[Object(k.jsx)(P.a,{sx:{mr:1},children:r&&Object(k.jsx)(_.a,{singleSelect:!0,selection:[h],expandedKeys:[h],data:r,onChange:function(e){n[a].treeNodeId=e;var t=X(e,r,c);n[a].image="${IMAGE:"+t+"}",m(e)},treeStyle:v})}),Object(k.jsx)(P.a,{sx:{mr:1},children:Object(k.jsx)(F,{label:"Path",fullWidth:!0,value:I,onChange:function(e){w(e),n[a].value=e},variant:"outlined",size:"small",suggestionList:o})}),Object(k.jsx)(P.a,{sx:{mr:1},children:Object(k.jsx)(V.a,{selectedValue:A.toString(),values:["true","false"],onSelectionChanged:function(e){return R("true"===e.enabled)},id:"enabled",name:"Enabled"})}),Object(k.jsx)(P.a,{children:Object(k.jsx)(M.a,{fullWidth:!0,variant:"outlined",label:"Sampling rate",InputProps:{inputProps:{type:"number",min:.1,max:1,step:.1},style:{height:29}},className:"item",type:"number",required:!0,value:y||.1,onChange:function(e){return x(e.target.value)},onBlur:function(e){return n[a].value=e.target.value}})}),Object(k.jsx)("div",{children:Object(k.jsx)(C.a,{tooltip:"Add property",onClick:function(){return s()},iconUrl:O.a})}),d&&Object(k.jsx)(K,{informationText:d})]})})]})},Z=n(21),Q="autocomplete",$=["data1","data2","data3","data4","data5","data6","data7","data8","data9","data10","data11","data12","data13","data14","data15","data16","data17","data18","data19"],ee=[].concat($,["image1","image2","image3","image4"]),te=["","storeCondition","revolution"].concat(Object(Z.a)(ee)),ne={};te.forEach((function(e){ne[e]=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(N.a,{gutterBottom:!0,children:"Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros."}),Object(k.jsx)(N.a,{gutterBottom:!0,children:"Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor."}),Object(k.jsx)(N.a,{gutterBottom:!0,children:"Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla."})]})}));var ie=function(e){var t=e.subscription,n=e.allowedVariables,a=e.allowedAutoCompleteVariables,r=e.allowedImageVariables,o=e.allowedImagePathVariables,s=Object(i.useState)(""),c=Object(l.a)(s,2),u=c[0],d=c[1],p=Object(i.useState)(!1),v=Object(l.a)(p,2),b=v[0],f=v[1],h=t.trigger,m=t.inspection,g=[],j=function(e){delete h[e],f(!b)},O=te.filter((function(e){return!Object.keys(h).includes(e)}));return Object.keys(h).forEach((function(e){e.startsWith("image")?g.push(Object(k.jsx)(J,{inspection:m,id:e,object:h,propertyName:e,allowedImageVariables:r,allowedVariables:o,onDelete:function(){return j(e)},informationText:ne[e],treeStyle:{overflow:"scroll",height:"250px"}},"trigger_".concat(m,"_").concat(e))):g.push(Object(k.jsx)(ae,{inspection:m,informationText:ne[e],id:e,object:h,propertyName:e,allowedVariables:$.includes(e)?n:a,onDelete:function(){return j(e)},excludedFields:ee.includes(e)?[]:["name"],valueFieldType:$.includes(e)?"tree":Q},"trigger_".concat(m,"_").concat(e)))})),Object(k.jsxs)("div",{className:"properties content",children:[g,Object(k.jsxs)("div",{className:"field-name-type",children:[Object(k.jsx)("div",{className:"item",children:"Add new property:"}),Object(k.jsx)("div",{className:"inputs",children:Object(k.jsxs)("div",{className:"field-name-type",children:[Object(k.jsx)("div",{style:{width:"200px",padding:"5px 0"},children:Object(k.jsx)(V.a,{selectedValue:u,values:O,onSelectionChanged:function(e){return d(e.addtriggerProp)},name:"Property",id:"addtriggerProp"})}),Object(k.jsx)("div",{className:"item",style:{margin:"auto"},children:Object(k.jsx)(C.a,{tooltip:"Add property",onClick:function(){return function(e){e.trigger&&""!==u||(e.trigger={}),e.trigger[u]={name:"",value:"",enabled:!0},d("")}(t)},iconUrl:A.a,style:{margin:"0"}})})]})})]})]})},ae=function(e){var t=e.id,n=e.object,a=e.propertyName,r=e.allowedVariables,o=e.onDelete,s=e.inspection,c=e.excludedFields,u=void 0===c?[]:c,d=e.valueFieldType,p=void 0===d?Q:d,v=e.informationText,b=void 0===v?Object(k.jsx)(k.Fragment,{}):v,f=Object(i.useState)(n[a].treeNodeId||0),h=Object(l.a)(f,2),m=h[0],g=h[1],j=Object(i.useState)("object"===typeof n[a]?n[a].name:""),I=Object(l.a)(j,2),w=I[0],E=I[1],S=Object(i.useState)("object"===typeof n[a]?n[a].value:n[a]),y=Object(l.a)(S,2),x=y[0],T=y[1],N=Object(i.useState)("object"===typeof n[a]&&n[a].enabled||!0),A=Object(l.a)(N,2),M=A[0],R=A[1];return Object(k.jsxs)("div",{className:"field-name-type",children:[Object(k.jsx)("div",{className:"item",children:Object(k.jsx)("div",{className:"property-id",children:t})}),Object(k.jsx)("div",{className:"inputs",children:(n[a],Object(k.jsxs)("div",{className:"field-name-type",children:[Object(k.jsx)(P.a,{sx:{mr:1},children:!u.includes("name")&&Object(k.jsx)(F,{label:"Name",fullWidth:!0,value:w,onChange:function(e){E(e),n[a].name=e},variant:"outlined",size:"small",className:"item",suggestionList:r})}),Object(k.jsx)(P.a,{sx:{mr:1},children:!u.includes("value")&&r&&(p===Q?Object(k.jsx)(F,{label:"Value",fullWidth:!0,value:x,onChange:function(e){T(e),n[a].value=e},variant:"outlined",size:"small",className:"item",suggestionList:r}):("node"in r||"children"in r)&&Object(k.jsx)(_.a,{singleSelect:!0,selection:[m],expandedKeys:[m],data:r,onChange:function(e){n[a].treeNodeId=e;var t=X(e,r,s);n[a].value="${VALUE:"+t+"}",g(e)},treeStyle:{overflow:"scroll",height:"250px"}}))}),!u.includes("enabled")&&Object(k.jsx)("div",{children:Object(k.jsx)(V.a,{name:"Enabled",selectedValue:M.toString(),values:["true","false"],onSelectionChanged:function(e){R("true"===e.enabled),n[a].enabled="true"===e.enabled},id:"enabled"})}),Object(k.jsx)("div",{children:Object(k.jsx)(C.a,{tooltip:"Add property",onClick:function(){return o()},iconUrl:O.a})}),b&&Object(k.jsx)(K,{informationText:b})]}))})]})},re=["data1","data2","data3","data4","vdata1","vdata2","vdata3","vdata4","vdata5","vdata6","vdata7","vdata8","vdata9","vdata10"],oe=["","batch_inspectionid","timestamp","svimname","inspectionname","batchid","batchname","batchstart","comment","username","machinenum","machinetype","sectionid","sectionname","sectioncomment","productionspeed","headerid"].concat(re),se={};oe.forEach((function(e){se[e]=Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(N.a,{gutterBottom:!0,children:"Cras mattis consectetur purus sit amet fermentum. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Morbi leo risus, porta ac consectetur ac, vestibulum at eros."}),Object(k.jsx)(N.a,{gutterBottom:!0,children:"Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Vivamus sagittis lacus vel augue laoreet rutrum faucibus dolor auctor."}),Object(k.jsx)(N.a,{gutterBottom:!0,children:"Aenean lacinia bibendum nulla sed consectetur. Praesent commodo cursus magna, vel scelerisque nisl consectetur et. Donec sed odio dui. Donec ullamcorper nulla non metus auctor fringilla."})]})}));var ce=function(e){var t=e.subscription,n=e.allowedVariables,a=Object(i.useState)(""),r=Object(l.a)(a,2),o=r[0],s=r[1],c=Object(i.useState)(!1),u=Object(l.a)(c,2),d=u[0],p=u[1],v=t.batch,b=t.inspection,f=[];Object.keys(v).map((function(e){return"string"===typeof v[e]&&(v[e]={name:"",value:v[e],enabled:!0}),v[e]}));var h=oe.filter((function(e){return!Object.keys(v).includes(e)}));return Object.keys(v).forEach((function(e){f.push(Object(k.jsx)(ae,{id:e,object:v,propertyName:e,allowedVariables:n,excludedFields:re.includes(e)?[]:["name"],onDelete:function(){delete v[e],p(!d)},informationText:se[e]},"batch_".concat(b,"_").concat(e)))})),Object(k.jsxs)("div",{className:"properties content",children:[f,Object(k.jsxs)("div",{className:"field-name-type",children:[Object(k.jsx)("div",{className:"item",children:"Add new property:"}),Object(k.jsx)("div",{className:"inputs",children:Object(k.jsxs)("div",{className:"field-name-type",children:[Object(k.jsx)("div",{style:{width:"200px",padding:"5px 0"},children:Object(k.jsx)(V.a,{selectedValue:o,values:h,onSelectionChanged:function(e){return s(e.addbatchProp)},name:"Property",id:"addbatchProp"})}),Object(k.jsx)("div",{style:{margin:"auto 0"},children:Object(k.jsx)(C.a,{tooltip:"Add property",onClick:function(){return function(e){e.batch&&""!==o||(e.batch={}),e.batch[o]={name:"",value:"",enabled:!0},s("")}(t)},iconUrl:A.a})})]})})]})]})},le=(n(850),function(){var e=Object(p.d)(),t=Object(p.e)((function(e){return e.app.databaseGatewayConfig||{inspectionSubscriptions:[]}})),n=Object(p.e)((function(e){return e.app.configuration})),a=Object(p.e)((function(e){return e.app.protobuf})),r=Object(i.useState)(!1),o=Object(l.a)(r,2),s=o[0],c=o[1],u=[];n&&n.globalConstants&&(n.globalConstants||[]).forEach((function(e){u.push("${CONSTANT:"+e+"}")}));var d=[].concat(u);d.push("${trigger}"),d.push("${name}"),d.push("${DATE:YYYY-MM-DD}");var v=function(){b(),e(Object(I.H)(a,t))},b=function(){t.inspectionSubscriptions.forEach((function(e){if(null!==e&&void 0!==e&&e.batch)for(var t=e.batch,n=0,i=Object.entries(t);n<i.length;n++){var a=Object(l.a)(i[n],2),r=a[0],o=a[1];"object"===typeof o&&""===o.name&&!1!==o.enabled&&(t[r]=o.value)}}))},f=function(){var e=[];return((null===n||void 0===n?void 0:n.inspections)||[]).forEach((function(t){e.push(t.name)})),e}();return Object(k.jsxs)("div",{className:"database-gateway-editor-wrapper",children:[Object(k.jsx)(T,{visible:!n,message:Object(k.jsx)("p",{children:"Loading..."})}),Object(k.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){return v()},children:"Save"}),function(){var e=[];return t.inspectionSubscriptions.forEach((function(i,a){var r,o=null,l=[],p=null;if(n&&n.inspections){var v=function(e){var t=n.inspections.filter((function(t){return t.name===e}));return t.length>0?t[0].id:-1}(i.inspection);o=function(e){var t=(null===n||void 0===n?void 0:n.objectSelectorItems.get(e))||[],i="tree"in t?t.tree:null;return n.filterArrayValuesFromTree(i)}(v),l=function(e){var t=[],i=null===n||void 0===n?void 0:n.idNameMappings.get(e);return i&&i.forEach((function(e){t.push("${VALUE:"+e.fullLocation+"}")})),t}(v),r=v,p=((null===n||void 0===n?void 0:n.getObjectSelectorImagesForInspection(r))||{tree:{}}).tree}e.push(Object(k.jsxs)("div",{className:"database-gateway-fields-container",children:[Object(k.jsx)("div",{children:Object(k.jsx)(C.a,{tooltip:"Add property",onClick:function(){return function(e){t.inspectionSubscriptions.splice(e,1),c(!s)}(a)},iconUrl:O.a})}),Object(k.jsxs)("div",{className:"field-container",children:[Object(k.jsx)("div",{className:"header",children:"Inspection:"},"inspection_name_wrapper"),Object(k.jsx)("div",{className:"field-settings",children:Object(k.jsx)(V.a,{selectedValue:i.inspection,values:f,onSelectionChanged:function(e){i.inspection=e.inspectionSelection,c(!s)},id:"inspectionSelection"})})]}),Object(k.jsxs)("div",{className:"field-container",children:[Object(k.jsx)("div",{className:"header",children:"Batch:"}),Object(k.jsx)(ce,{subscription:i,allowedVariables:u})]}),Object(k.jsxs)("div",{className:"field-container",children:[Object(k.jsx)("div",{className:"header",children:"Trigger:"}),Object(k.jsx)(ie,{subscription:i,allowedVariables:o,allowedAutoCompleteVariables:l,allowedImageVariables:p,allowedImagePathVariables:d})]})]},"subscription_".concat(i.inspection,"_").concat(a)))})),e}(),Object(k.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){return t.inspectionSubscriptions&&(t.inspectionSubscriptions.push(function(){return{inspection:arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",batch:{},trigger:{}}}(f[0])),v()),void c(!s)},children:"Add subscription"})]})}),ue=n(64),de=function(){var e=Object(p.e)((function(e){return e.app})).locale;return Object(k.jsx)(g.a,{locale:e,messages:ue.a[e],children:Object(k.jsx)(le,{})})},pe=n(11),ve=n(87),be=n(10),fe=n(122),he=(n(851),n(971)),me=n(969),ge=n(156),je=function(e){var t=e.value,n=e.options,a=e.labels,r=e.changeCallback,o=e.removeCallback;Object(i.useEffect)((function(){"undefined"===typeof t&&r&&r(n[0])}));var s=[];return a?(n.forEach((function(e,t){return s.push({option:e,label:a[t]})})),s=s.sort((function(e,t){return e.label.localeCompare(t.label)})),n=s.map((function(e){return e.option})),a=s.map((function(e){return e.label}))):n=n.sort(),Object(k.jsx)(V.a,{selectedValue:t,values:n,labels:a,onSelectionChanged:function(e){r&&r(e.param)},id:"param",InputProps:o?{endAdornment:Object(k.jsx)(he.a,{position:"end",children:Object(k.jsx)(me.a,{edge:"end","aria-label":"remove",onClick:function(){return o()},title:"Remove",children:Object(k.jsx)("img",{src:ge.a,alt:"x"})})})}:null})},Oe=function(e){for(var t=e.value,n=e.changeCallback,i=e.typeName,a=e.defaultValue,r=e.options,o=e.labels,s=e.SingleParameterComponent,c=t&&t.length||0,l=[],u=function(e){l.push(Object(k.jsxs)("div",{className:"field-container",children:[Object(k.jsxs)("div",{className:"field-name-type",children:[e,Object(k.jsx)("small",{children:i})]}),Object(k.jsx)("div",{className:"field-settings",children:Object(k.jsx)(s,{value:t[e],changeCallback:function(i){var a=Object(Z.a)(t||[]);a[e]=i,n(a)},options:r,labels:o,removeCallback:function(){return function(e){var i=Object(Z.a)(t);i.splice(e,1),n(i)}(e)}})})]},"".concat(i,"_array_").concat(e)))},d=0;d<c;d++)u(d);return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"field-container is-array",children:l.length?l:Object(k.jsxs)("div",{className:"field-container",children:[Object(k.jsx)("div",{className:"field-name-type",children:Object(k.jsx)("em",{children:Object(k.jsx)(U.a,{id:"debugger.noItemsMessage"})})}),Object(k.jsx)("div",{className:"field-settings"})]})}),Object(k.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){n([].concat(Object(Z.a)(t||[]),[a]))},children:Object(k.jsx)(U.a,{id:"debugger.addItemButtonText"})})]})},Ie=function(e){var t=e.value,n=e.changeCallback;return Object(k.jsx)(je,{value:t&&"false"!==t?"true":"false",options:["true","false"],changeCallback:function(e){return n("true"===e)}})},we=function(e){var t=e.value,n=e.changeCallback,i=e.typeName;return Object(k.jsx)(Oe,{value:t,changeCallback:n,typeName:i,defaultValue:!1,SingleParameterComponent:Ie})},Ee=function(e){var t=e.value,n=e.changeCallback;return Object(k.jsx)(M.a,{fullWidth:!0,type:"file",variant:"outlined",value:t||"",onChange:function(e){return n&&n(e.target.value)}})},Se=function(e){var t=e.value,n=e.changeCallback,i=e.removeCallback,a=e.fieldType,r=e.defaultValue;return Object(k.jsx)(M.a,{fullWidth:!0,type:a,variant:"outlined",value:t||r,onChange:function(e){return n&&n(e.target.value)},InputProps:i?{endAdornment:Object(k.jsx)(he.a,{position:"end",children:Object(k.jsx)(me.a,{edge:"end","aria-label":"remove",onClick:function(){return i()},title:"Remove",children:Object(k.jsx)("img",{src:ge.a,alt:"x"})})})}:null})},ye=function(e){var t=e.value,n=e.changeCallback,i=e.removeCallback;return Object(k.jsx)(Se,{value:t,changeCallback:n,removeCallback:i,fieldType:"number",defaultValue:0})},ke=function(e){var t=e.value,n=e.changeCallback,i=e.typeName;return Object(k.jsx)(Oe,{value:t,changeCallback:n,typeName:i,defaultValue:0,SingleParameterComponent:ye})},xe=function(e){var t=e.value,n=e.options,i=e.changeCallback;return Object(k.jsx)(Oe,{value:(t||[]).map((function(e){return String(e)})),changeCallback:i,options:Object.values(n),labels:Object.keys(n),SingleParameterComponent:je})},Te=function(e){var t=e.value,n=e.options,i=e.changeCallback;return Object(k.jsx)(je,{value:String(t),options:Object.values(n),labels:Object.keys(n),changeCallback:function(e){return i(e)}})},Ve=function(e){var t=e.value,n=e.changeCallback,i=e.removeCallback;return Object(k.jsx)(Se,{value:t,changeCallback:n,removeCallback:i,fieldType:"number",defaultValue:0})},Ce=function(e){var t=e.value,n=e.changeCallback,i=e.typeName;return Object(k.jsx)(Oe,{value:t,changeCallback:n,typeName:i,defaultValue:0,SingleParameterComponent:Ve})},Ne=function(e){var t=e.value,n=e.changeCallback,i=e.removeCallback,a=e.typeName;return Object(k.jsx)(Se,{value:t,typeName:a,changeCallback:n,removeCallback:i,fieldType:"text",defaultValue:""})},Ae=function(e){var t=e.value,n=e.changeCallback,i=e.typeName;return Object(k.jsx)(Oe,{value:t,changeCallback:n,typeName:i,defaultValue:"",SingleParameterComponent:Ne})},Pe=function(e){var t=e.name,n=e.onResponse,a=Object(p.e)((function(e){return e.app.protobuf})),r=Object(i.useState)({}),o=Object(l.a)(r,2),s=o[0],u=o[1],v=Object(i.useState)({}),b=Object(l.a)(v,2),h=b[0],m=b[1],g=Object(i.useState)(""),O=Object(l.a)(g,2),I=O[0],w=O[1];if(Object(i.useEffect)((function(){I!==t&&(u({}),m({}),w(t))}),[t,I]),!be.a.SvPb[t])return Object(k.jsx)("div",{});var E=function(){var e=Object(c.a)(d.a.mark((function e(){var i,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(""),"MyDummyRequest"!==t){e.next=4;break}return n(s),e.abrupt("return");case 4:return i=be.a.SvPb[t].create(s),console.dir(s),e.prev=6,e.next=9,a.request(i);case 9:r=e.sent,n(r),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(6),n("An error occured: ".concat(e.t0.message));case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(){return e.apply(this,arguments)}}(),S=function(e,t,n){var i,a,r=(i=s,(a=n?"".concat(n,".").concat(e.name):e.name)?Object(fe.get)(i,a):i);switch(e.type){case"string":return t?function(e,t,n){return Object(k.jsx)(Ae,{typeName:e.type,value:n,changeCallback:function(n){return y(t?"".concat(t,".").concat(e.name):e.name,n)}})}(e,n,r):function(e,t,n){return Object(k.jsx)(Ne,{typeName:e.type,value:n,changeCallback:function(n){return y(t?"".concat(t,".").concat(e.name):e.name,n)}},"txt_".concat(e.name))}(e,n,r);case"bool":return t?function(e,t,n){return Object(k.jsx)(we,{typeName:e.type,value:n,changeCallback:function(n){return y(t?"".concat(t,".").concat(e.name):e.name,n)}})}(e,n,r):function(e,t,n){return Object(k.jsx)(Ie,{typeName:e.type,value:n,changeCallback:function(n){return y(t?"".concat(t,".").concat(e.name):e.name,n)}},"bool_".concat(e.name))}(e,n,r);case"int32":case"int64":case"uint32":case"uint64":case"sint32":case"sint64":case"fixed32":case"fixed64":case"sfixed32":case"sfixed64":return t?function(e,t,n){return Object(k.jsx)(Ce,{typeName:e.type,value:n,changeCallback:function(n){return y(t?"".concat(t,".").concat(e.name):e.name,Number(n))}})}(e,n,r):function(e,t,n){return Object(k.jsx)(Ve,{typeName:e.type,value:n,changeCallback:function(n){return y(t?"".concat(t,".").concat(e.name):e.name,Number(n))}},"integer_".concat(e.name))}(e,n,r);case"double":case"float":return t?function(e,t,n){return Object(k.jsx)(ke,{typeName:e.type,value:n,changeCallback:function(n){return y(t?"".concat(t,".").concat(e.name):e.name,Number(n))}})}(e,n,r):function(e,t,n){return Object(k.jsx)(ye,{typeName:e.type,value:n,changeCallback:function(n){return y(t?"".concat(t,".").concat(e.name):e.name,Number(n))}},"decimal_".concat(e.name))}(e,n,r);case"bytes":return function(e,t,n){return Object(k.jsx)(Ee,{value:n,changeCallback:function(n){return y(t?"".concat(t,".").concat(e.name):e.name,n)}},"bytes_".concat(e.name))}(e,n,r);default:var o=be.a.SvPb.lookup(e.type);if(o&&"Enum"===o.constructor.name)return t?function(e,t,n,i){return Object(k.jsx)(xe,{value:i,options:e.values,changeCallback:function(e){y(n?"".concat(n,".").concat(t.name):t.name,e)}})}(o,e,n,r):function(e,t,n,i){return Object(k.jsx)(Te,{value:i,options:e.values,changeCallback:function(e){y(n?"".concat(n,".").concat(t.name):t.name,e)}})}(o,e,n,r);var c=n?"".concat(n,".").concat(e.name):e.name;return t?T(o,c,r):x(o,c,r)}},y=function(e,t){var n=Object(fe.cloneDeep)(s);Object(fe.set)(n,e,t),u(n)},x=function(e,t){var n=[],i=null!==e&&void 0!==e&&e.fields?Object.keys(e.fields):[];return e.oneofs&&Object.keys(e.oneofs).forEach((function(i){n.push(Object(k.jsxs)("div",{className:"field-container",children:[Object(k.jsxs)("div",{className:"field-name-type",children:[i,Object(k.jsx)("small",{children:"oneof type"})]}),Object(k.jsx)("div",{className:"field-settings",children:Object(k.jsx)(je,{value:h["".concat(t,".").concat(i)],options:e.oneofs[i].oneof,changeCallback:function(e){m(Object(f.a)(Object(f.a)({},h),{},Object(pe.a)({},"".concat(t,".").concat(i),e)))}})})]},"div_".concat(i)))})),i.forEach((function(i){var a=e.fields[i];a&&(a.partOf&&a.name!==h["".concat(t,".").concat(a.partOf.name)]||n.push(Object(k.jsxs)("div",{className:"field-container",children:[Object(k.jsxs)("div",{className:"field-name-type",children:[a.name,Object(k.jsxs)("small",{children:[a.rule," ",a.type,a.required?"*":""]})]}),Object(k.jsx)("div",{className:"field-settings",children:S(a,"repeated"===a.rule,t)})]},"div_".concat(a.name))))})),!i.length&&t.length&&n.push(Object(k.jsxs)("div",{className:"field-container",children:[Object(k.jsx)("div",{className:"field-name-type",children:Object(k.jsx)("em",{children:Object(k.jsx)(U.a,{id:"debugger.nothingToConfigureMessage"})})}),Object(k.jsx)("div",{className:"field-settings"})]},"div_type.name")),n},T=function(e,t,n){var i=[];return(n||[]).forEach((function(a,r){i.push(Object(k.jsxs)("div",{className:"field-container",children:[Object(k.jsxs)("div",{className:"field-name-type",children:[r,Object(k.jsx)("small",{children:e.name})]}),Object(k.jsx)("div",{className:"field-settings",children:x(e,t?"".concat(t,".").concat(r):r,n[r])})]},"".concat(e.name,"_array_").concat(r)))})),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"field-container is-array",children:i.length?i:Object(k.jsxs)("div",{className:"field-container",children:[Object(k.jsx)("div",{className:"field-name-type",children:Object(k.jsx)("em",{children:Object(k.jsx)(U.a,{id:"debugger.noItemsMessage"})})}),Object(k.jsx)("div",{className:"field-settings"})]})}),Object(k.jsx)(j.a,{variant:"contained",color:"primary",onClick:function(){return function(e,t){var n=t?Object(Z.a)(t):[];n.push({}),y(e,n)}(t,n)},children:"Add"})]})},V=x(be.a.SvPb[t],"");return Object(k.jsxs)("div",{className:"request-parameters-container",children:[Object(k.jsxs)("div",{className:"request-name-type",children:[t,Object(k.jsx)("small",{children:"Request"})]}),Object(k.jsx)("div",{className:"request-parameters-fields-container",children:V&&V.length?V:Object(k.jsx)(U.a,{id:"debugger.noParametersMessage"})}),Object(k.jsx)(j.a,{className:"send-button",variant:"contained",color:"primary",onClick:function(){return E()},children:Object(k.jsx)(U.a,{id:"debugger.sendRequest"})})]})},Me=n(246),Re=(n(852),function(e){var t=e.response,n=Object(i.useState)(""),a=Object(l.a)(n,2),r=a[0],o=a[1],s=Object(i.useState)(""),u=Object(l.a)(s,2),p=u[0],v=u[1];Object(i.useEffect)((function(){if(t&&t.imageData){var e=new Me.a({history:null,trigger:null,isReject:!1});o(e.buildUrl(t.imageData))}else o("")}),[t]),Object(i.useEffect)((function(){if(t&&t.fileData){var e=new Blob(t.fileData,{type:"octet/stream"});v(window.URL.createObjectURL(e))}else v("")}),[t]);var b=function(){var e=Object(c.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.clipboard){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,navigator.clipboard.writeText(f);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=t?JSON.stringify(t,null,2):"";return Object(k.jsxs)("div",{className:"response-body-container",children:[Object(k.jsxs)("div",{className:"response-body-header",children:[Object(k.jsxs)("div",{className:"response-name-type",children:[t?t.constructor.name:"Response",Object(k.jsx)("small",{children:"Response"})]}),Object(k.jsx)("div",{children:Object(k.jsx)(j.a,{variant:"contained",color:"primary",onClick:b,disabled:!f,children:Object(k.jsx)(U.a,{id:"debugger.copyToClipboard"})})})]}),Object(k.jsxs)("div",{className:"response-content",children:[r?Object(k.jsx)("img",{src:r,alt:""}):void 0,p?Object(k.jsx)("a",{href:p,children:"Download"}):void 0,Object(k.jsx)("pre",{className:"response-formatter",children:f})]})]})}),De=(n(853),function(e){var t=e.proto,n=e.chooseCallback,a=Object(i.useState)(""),r=Object(l.a)(a,2),o=r[0],s=r[1],c=Object(i.useState)(null),u=Object(l.a)(c,2),d=u[0],p=u[1],v=Object.keys(t).sort().reduce((function(e,t){return t.toLowerCase().includes(o)?[].concat(Object(Z.a)(e),[Object(k.jsx)("li",{requestname:t,className:d===t?"active":"",onClick:function(){n(t),p(t)},children:t},"li_".concat(t))]):e}),[]);return Object(i.useEffect)((function(){d||(n(v[0].props.requestname),p(v[0].props.requestname))}),[d,n,v]),Object(k.jsxs)("div",{className:"requests-list",children:[Object(k.jsxs)("div",{className:"request-list-header",children:[Object(k.jsx)(U.a,{id:"debugger.requestsListHeader"}),Object(k.jsx)("small",{children:"Choose one from the list below"})]}),Object(k.jsx)("div",{className:"requests-filter",children:Object(k.jsx)(M.a,{fullWidth:!0,type:"text",variant:"outlined",value:o,onChange:function(e){return s(e.target.value.toLowerCase())},placeholder:"Search..."})}),Object(k.jsx)("div",{className:"requests",children:Object(k.jsx)("ul",{children:v})})]})}),Le=(n(854),function(){var e=Object(i.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(null),o=Object(l.a)(r,2),s=o[0],c=o[1],u=Object.keys(be.a.SvPb).sort().reduce((function(e,t){return t.endsWith("Request")?t.endsWith("StreamRequest")||be.a.SvPb[t].filename.includes("InspectionCommands")&&"InspectionCmdRequest"!==t||be.a.SvPb[t].filename.includes("ConfigCommands")&&"ConfigCommandRequest"!==t?e:Object(f.a)(Object(f.a)({},e),{},Object(pe.a)({},t,be.a.SvPb[t])):e}),{});return Object(k.jsxs)("div",{className:"debugger-wrapper",children:[Object(k.jsx)("div",{className:"debugger-header",children:Object(k.jsxs)(j.a,{component:h.b,variant:"contained",color:"primary",to:"/app",children:[Object(k.jsx)("img",{src:ve.a,alt:"back",className:"image-item"}),Object(k.jsx)(U.a,{id:"debugger.backToWebApp"})]})}),Object(k.jsx)("div",{className:"request-list-container",children:Object(k.jsx)(De,{proto:u,chooseCallback:function(e){a(e),c(null)}})}),Object(k.jsx)("div",{className:"request-container",children:Object(k.jsx)(Pe,{name:n,onResponse:function(e){return c(e)}})}),Object(k.jsx)("div",{className:"response-container",children:Object(k.jsx)(Re,{response:s})})]})}),Fe=function(){var e=Object(p.e)((function(e){return e.app})).locale;return Object(k.jsx)(g.a,{locale:e,messages:ue.a[e],children:Object(k.jsx)(Le,{})})},_e=n(7),Ue=function(e){var t={};try{e.substr(1).split("&").forEach((function(e){var n=e.split("="),i=n[0],a=n[1]&&decodeURIComponent(n[1]);t[i]=a}))}catch(n){_e.a.error(n)}return t},Be=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(e){var i;return Object(w.a)(this,n),(i=t.call(this,e)).state={authenticated:!1,queryParams:Ue(i.props.location.search)},i}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.setTopNavHidden("true"===this.state.queryParams.hideTopNavigation),this.props.setBottomNavHidden("true"===this.state.queryParams.hideBottomNavigation),this.props.setLocale(this.state.queryParams.locale||"en"),this.props.setDefaultViewSetName(this.state.queryParams.viewSet||null),this.state.queryParams.token&&this.props.authenticate(this.state.queryParams.token).then((function(){return e.setState({authenticated:!0})})).catch((function(t){return e.setState({authError:t})}))}},{key:"render",value:function(){return this.state.queryParams.token?this.state.authError?Object(k.jsxs)("div",{children:["Invalid token provided. Error: ",null===(e=this.state.authError.response)||void 0===e?void 0:e.status," Status:"," ",null===(t=this.state.authError.response)||void 0===t?void 0:t.statusText]}):this.state.authenticated?Object(k.jsx)(m.a,{to:{pathname:"/app",state:{viewSetTemplate:this.state.queryParams.viewSet}}}):Object(k.jsx)("div",{children:"Fetching auth token for provided access token"}):Object(k.jsx)("div",{children:"Malformed query params"});var e,t}}]),n}(i.Component),He=Object(p.c)(null,(function(e){return{setLocale:function(t){return e(Object(I.V)(t))},authenticate:function(t){return e(Object(I.p)(t))},setTopNavHidden:function(t){return e(Object(I.eb)(t))},setBottomNavHidden:function(t){return e(Object(I.J)(t))},setDefaultViewSetName:function(t){return e(Object(I.Q)(t))}}}))(Be),ze=n(54),We=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(e){var i;return Object(w.a)(this,n),(i=t.call(this,e)).state={loggedOut:!1},i}return Object(E.a)(n,[{key:"render",value:function(){var e=this;return this.props.onLogOut().then((function(){e.setState({loggedOut:!0})})),this.state.loggedOut?(Object(ze.f)(),this.props.onLoggedOut(),Object(k.jsx)(m.a,{to:{pathname:"/",state:{loggedOut:!0}}})):null}}]),n}(i.Component),qe=Object(p.c)(null,(function(e){return{onLogOut:function(){return e(Object(I.y)())}}}))(We),Ge=n(35),Ye=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).handleKeyEvent=function(t){switch("".concat(t.ctrlKey?"ctrl+":"").concat(t.key)){case"ctrl+f":t.preventDefault(),e.props.dispatch(Object(I.jb)(e.props.view));break;case"F1":t.preventDefault(),e.props.dispatch(Object(I.A)());break;default:return}t.stopPropagation()},e.handleClick=function(){var t=e.props,n=t.view,i=t.editingViewIds,a=t.dispatch,r=t.helpSection;if(n)try{var o=n.props.id,s=n.props.views.viewSet[o];if(s){var c=s.inspectionId,l=s.viewComponentClassId;l===Ge.d&&(a(Object(I.R)(c,o)),a(Object(I.X)(null)),i.includes(o)||a(Object(I.cb)(!0))),a(Object(I.S)(l))}}catch(u){_e.a.error(u instanceof Error?u.message:String(u))}else r&&a(Object(I.S)(r))},e}return Object(E.a)(n,[{key:"componentDidMount",value:function(){this.node.addEventListener("keydown",this.handleKeyEvent),this.node.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){this.node.removeEventListener("keydown",this.handleKeyEvent),this.node.removeEventListener("click",this.handleClick)}},{key:"render",value:function(){var e=this,t=this.props.children;return Object(k.jsx)("div",{tabIndex:0,style:{width:"100%",height:"100%"},ref:function(t){e.node=t},children:t&&t})}}]),n}(i.Component);Ye.defaultProps={children:void 0};var Ke=n(82),Xe=n(981),Je=n(252),Ze=n.n(Je),Qe=n(15),$e=(n(858),function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(e){var i;return Object(w.a)(this,n),(i=t.call(this,e)).loadCurrentPermissions=function(e){if(e){var t=e,n=Ze()(t);i.setState({initiallySelectedPermissions:t,currentSelectedPermissions:n})}},i.savePermissions=function(e){var t=Object(Qe.N)(e);i.props.proxy.setUserPermissions(t)},i.onSaveClicked=function(){i.savePermissions(i.state.currentSelectedPermissions)},i.onResetClicked=function(){i.setState({currentSelectedPermissions:Ze()(i.state.initiallySelectedPermissions)})},i.allAvailablePermissions=new Set,i.state={redirect:!1,initiallySelectedPermissions:new Map,currentSelectedPermissions:new Map},i}return Object(E.a)(n,[{key:"componentDidMount",value:function(){be.a.SvPb.Permissions&&(this.allAvailablePermissions=Object(Qe.M)(be.a.SvPb.Permissions),this.loadCurrentPermissions(this.props.groupPermissions))}},{key:"componentDidUpdate",value:function(e){(void 0===e.groupPermissions&&this.props.groupPermissions||e.groupPermissions!==this.props.groupPermissions)&&this.loadCurrentPermissions(this.props.groupPermissions)}},{key:"onCheck",value:function(e,t,n){var i=Ze()(this.state.currentSelectedPermissions);i.has(e)||i.set(e,{groupPermissions:new Set,users:[]}),n?i.get(e).groupPermissions.add(t):i.get(e).groupPermissions.delete(t),this.setState({currentSelectedPermissions:i})}},{key:"mapsAreEqual",value:function(e,t){if(e.size!==t.size)return!1;var n,i=Object(Ke.a)(e);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(!t.has(a[0]))return!1;var r=t.get(a[0]).groupPermissions;if(a[1].groupPermissions.size!==r.size)return!1;var o,s=Object(Ke.a)(a[1].groupPermissions);try{for(s.s();!(o=s.n()).done;){var c=o.value;if(!r.has(c))return!1}}catch(l){s.e(l)}finally{s.f()}}}catch(l){i.e(l)}finally{i.f()}return!0}},{key:"getColGroup",value:function(){var e=this.state.currentSelectedPermissions,t=[];return t.push(Object(k.jsx)("col",{style:{width:"200px"}},"col_permissions")),e.forEach((function(e,n){t.push(Object(k.jsx)("col",{style:{width:"80px"}},"col_".concat(n)))})),t.push(Object(k.jsx)("col",{style:{width:"*"}},"col_descriptions")),t}},{key:"getTableHead",value:function(){var e=this.state.currentSelectedPermissions,t=[];return t.push(Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"permission-management-permissions-header-left",children:Object(k.jsx)(U.a,{id:"permissions.permissions"})})},"header_td_permissions")),e.forEach((function(e,n){t.push(Object(k.jsxs)("td",{children:[Object(k.jsx)("div",{className:"permission-management-permissions-header",children:n}),Object(k.jsx)("div",{className:"permission-management-permissions-subheader",children:Array.isArray(e.users)&&e.users.length>0?"(".concat(e.users.join(", "),")"):void 0})]},"header_td_".concat(n)))})),t.push(Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"permission-management-permissions-header",children:Object(k.jsx)(U.a,{id:"permissions.description"})})},"header_td_description")),Object(k.jsx)("tr",{children:t})}},{key:"getData",value:function(e){var t=this,n=this.state.currentSelectedPermissions,i=[];return this.allAvailablePermissions.forEach((function(a){var r=[];r.push(Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"permission-management-label",children:a})},"body_td_permission_".concat(a))),n.forEach((function(n,i){var o=n.groupPermissions.has(a);r.push(Object(k.jsx)("td",{children:Object(k.jsx)(Xe.a,{type:"checkbox",checked:o,name:"checkbox_".concat(i,"_").concat(a),color:"primary",className:"permission-management-checkbox",onClick:function(n){return e&&"sdm"!==i?t.onCheck(i,a,n.target.checked):void 0},disabled:!e||"sdm"===i})},"body_td_".concat(i,"_").concat(a)))})),r.push(Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"permission-management-label",children:Object(k.jsx)(U.a,{id:"permissionDescription.".concat(a)})})},"body_td_description_".concat(a))),i.push(Object(k.jsx)("tr",{children:r},"body_tr_".concat(a)))})),i}},{key:"render",value:function(){var e=this,t=this.state,n=t.redirect,i=t.initiallySelectedPermissions,a=t.currentSelectedPermissions,r=this.props.myPermissions,o=Object(Qe.H)(r),s=Object(Qe.w)(r);if(n)return Object(k.jsx)(m.a,{to:"/app"});var c=!this.mapsAreEqual(i,a),l=this.getColGroup(),u=this.getTableHead(),d=this.getData(s);return Object(k.jsxs)("div",{className:"permission-management-wrapper",children:[Object(k.jsxs)("div",{className:"permission-management-fixed-header",children:[Object(k.jsxs)(j.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({redirect:!0})},children:[Object(k.jsx)("img",{src:ve.a,alt:"back",className:"image-item"}),Object(k.jsx)(U.a,{id:"permissions.backToWebApp"})]}),Object(k.jsx)(j.a,{variant:"contained",color:"primary",disabled:!c,onClick:this.onSaveClicked,children:"Save"}),Object(k.jsx)(j.a,{variant:"contained",color:"primary",disabled:!c,onClick:this.onResetClicked,children:"Reset"})]}),Object(k.jsx)("h1",{children:Object(k.jsx)(U.a,{id:"permissions.permissionManagement"})}),Object(k.jsx)("h3",{children:Object(k.jsx)(U.a,{id:"permissions.helpText"})}),o||s?Object(k.jsxs)("table",{className:"permission-management-table-wrapper",children:[Object(k.jsx)("colgroup",{children:l}),Object(k.jsx)("thead",{children:u}),Object(k.jsx)("tbody",{children:d})]}):void 0]})}}]),n}(i.Component)),et=Object(p.c)((function(e){return{groupPermissions:e.app.groupPermissions,proxy:e.app.proxy,user:e.app.user,myPermissions:e.app.myPermissions}}),null)($e),tt=n(158),nt=n(128),it=function(){var e=Object(p.d)(),t=Object(p.e)((function(e){return e.app})),n=t.isHelpViewOpen,i=t.locale;return Object(k.jsx)(g.a,{locale:i,messages:ue.a[i],children:Object(k.jsxs)(Ye,{dispatch:e,helpSection:nt.a.PERMISSIONS,children:[Object(k.jsx)(et,{}),Object(k.jsx)(tt.a,{open:n,onClose:function(){return e(Object(I.s)())}})]})})},at=n(322),rt=n.n(at),ot=n(2),st=n.n(ot),ct=(st.a.shape({request:st.a.func.isRequired}),n(189)),lt=(n(864),n.p+"static/media/view-manager.8d715a8f.svg"),ut=n(78),dt=n(51),pt=n.n(dt),vt=n.p+"static/media/check.069f9f99.svg",bt=n(57),ft=n.p+"static/media/export.6f1edad0.svg",ht=n.p+"static/media/import.2817cb78.svg",mt=n(157),gt=n(125),jt=n(46),Ot=(n(865),function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.open,i=e.title,a=e.message;return Object(k.jsx)("div",{children:Object(k.jsxs)(jt.a,{title:i,onClose:t,open:n,children:[Object(k.jsx)("div",{className:"message-wrapper",children:a}),Object(k.jsx)("div",{className:"button-wrapper",children:Object(k.jsx)(j.a,{color:"primary",onClick:t,children:"Okay"})})]})})}}]),n}(i.Component)),It=n(124),wt=(n(866),Object(ct.c)((function(e){var t=e.onClose,n=e.onSave,a=e.intl,r=Object(i.useRef)(null),o=Object(p.d)(),s=Object(p.e)((function(e){return e.viewSet.createdViewSets})),u=Object(p.e)((function(e){return e.viewSet.currentViewSet})),v=Object(p.e)((function(e){return e.inspections})),b=Object(p.e)((function(e){return e.app.configuration})),f=Object(p.e)((function(e){return e.app.myPermissions})),h=Object(Qe.g)(f),m=Object(Qe.x)(f),g=Object(Qe.n)(f),j=Object(i.useState)(u.name),w=Object(l.a)(j,2),E=w[0],S=w[1],y=Object(i.useState)(!1),x=Object(l.a)(y,2),T=x[0],V=x[1],N=Object(i.useState)(""),P=Object(l.a)(N,2),R=P[0],D=P[1],L=Object(i.useState)(null),F=Object(l.a)(L,2),_=F[0],B=F[1],H=Object(i.useState)(!1),z=Object(l.a)(H,2),W=z[0],q=z[1],G=Object(i.useState)(""),Y=Object(l.a)(G,2),K=Y[0],X=Y[1],J=Object(i.useState)(""),Z=Object(l.a)(J,2),Q=Z[0],$=Z[1],ee=Object(i.useState)(!1),te=Object(l.a)(ee,2),ne=te[0],ie=te[1],ae=Object(i.useState)(""),re=Object(l.a)(ae,2),oe=re[0],se=re[1],ce="1.0.0",le=function(e){return Object.keys(s).filter((function(t){return t===e})).length>0},ue=function(){var e=function(e){for(var t=e,n=1;le(t);)t="".concat(e).concat(n),n++;return t}("Initial");o(Object(I.z)(e))},de=function(){var e=Object(c.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=b.getWebAppVersion(),n={currentViewSet:u,editingViewIds:pe(),timestamp:new Date,version:"1.0.0",webAppVersion:t},e.next=4,ve(n);case 4:Ie();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=[];return Object.keys(v).forEach((function(t){var n=parseInt(t,10);v[t]&&v[t].sharedState&&v[t].sharedState.editingViewId&&e.push({inspectionId:n,editingViewId:v[t].sharedState.editingViewId})})),e},ve=function(){var e=Object(c.a)(d.a.mark((function e(t){var n,i,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=JSON.stringify(t),i=new Blob([n],{type:"application/json"}),e.next=4,URL.createObjectURL(i);case 4:a=e.sent,Object(It.a)(a,"viewset.json");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),be=function(e){try{var t=JSON.parse(e);if(me(t.currentViewSet.id))return V(!0),void B(t);ge(t)}catch(n){Ee(),_e.a.error(n)}},fe=function(e){D(""),e&&o(Object(I.C)(R))},he=function(){ge(_)},me=function(e){return u.id===e},ge=function(e){return we(),je(e.version)?(Oe(e.version)&&ye(),e.currentViewSet.id?(o(Object(I.gb)(e.currentViewSet,e.currentViewSet.id)),e.editingViewIds&&e.editingViewIds.forEach((function(e){o(Object(I.R)(e.inspectionId,e.editingViewId))})),o(Object(I.B)()),void ke()):(Ee(),void _e.a.error("Could not load viewset id."))):(Se(),void _e.a.error("Version of file is not valid."))},je=function(e){return ce===e||!(!pt.a.valid(e)||"major"===pt.a.diff(ce,e))},Oe=function(e){return"minor"===pt.a.diff(ce,e)&&pt.a.gt(e,ce)},Ie=function(){t()},we=function(){X(Object(k.jsx)(U.a,{id:"notifications.successfulAction"})),$(Object(k.jsx)(U.a,{id:"notifications.successfullyLoadedFile"})),ie(!0)},Ee=function(){X(Object(k.jsx)(U.a,{id:"notifications.errorOccurred"})),$(Object(k.jsx)(U.a,{id:"notifications.error.loadingFile"})),q(!0)},Se=function(){X(Object(k.jsx)(U.a,{id:"notifications.viewsetVersionIncompatibleTitle"})),$(Object(k.jsx)(U.a,{id:"notifications.viewsetVersionIncompatibleMessage"})),q(!0)},ye=function(){X(Object(k.jsx)(U.a,{id:"notifications.minorVersionDiffTitle"})),$(Object(k.jsx)(U.a,{id:"notifications.minorVersionDiffMessage"})),ie(!0)},ke=function(){q(!0)},xe=function(e){if(m)return oe!==e?Object(k.jsx)(C.a,{onClick:function(){se(e),S(e)},tooltip:a.messages["viewSetManager.editViewSetName"],iconUrl:bt.a}):Object(k.jsx)(C.a,{onClick:function(){oe!==E&&Object.keys(s).includes(E)?alert("Viewset with this name already exists."):(o(Object(I.D)(oe,E)),se(""),S(""))},tooltip:a.messages["viewSetManager.changeViewSetName"],iconUrl:vt})},Te=function(e){var t=e.columns,n=[];return t.forEach((function(e,i){"delete"===e.key?n.push(Object(k.jsx)("div",{style:{width:t[i].width,paddingRight:3},children:Object(k.jsx)(C.a,{tooltip:a.messages["viewSetManager.newViewSet"],iconUrl:A.a,onClick:function(){return ue()},enabled:h})},"header_".concat(i))):n.push(Object(k.jsx)("div",{className:"viewsetmanager-header-wrapper",children:t[i].title},"header_".concat(i)))})),n},Ve=[{intlId:"viewSetManager.save",iconUrl:mt.a,onClickHandler:function(){n(),Ie()},enabled:Object(Qe.J)(f)},{intlId:"viewSetManager.export",iconUrl:ft,onClickHandler:function(){de()},enabled:Object(Qe.I)(f)},{intlId:"viewSetManager.import",iconUrl:ht,onClickHandler:function(){r.current.click()},enabled:m}],Ce=s&&Object.keys(s).map((function(e){return{edit:xe(e),delete:g?Object(k.jsx)(C.a,{onClick:function(){return D(e)},tooltip:a.messages["viewSetManager.deleteIconTooltip"],iconUrl:O.a}):void 0,name:oe===e?Object(k.jsx)("div",{className:"viewsetmanager-edit-viewset-name-wrapper",children:Object(k.jsx)(M.a,{fullWidth:!0,type:"text",inputProps:{style:{height:29}},value:E,onChange:function(e){return S(e.target.value.substring(0,20))}})}):e,id:e}})),Ne=[{key:"name",dataKey:"name",title:"Name",width:0,flexGrow:1},{key:"edit",dataKey:"edit",title:"",width:40},{key:"delete",dataKey:"delete",title:"",width:40}];return Object(k.jsxs)("div",{children:[Object(k.jsxs)(jt.a,{title:Object(k.jsx)(U.a,{id:"viewSetManager.title"}),dialogActions:Ve,onClose:function(){Ie()},open:!0,children:[Object(k.jsx)("div",{className:"viewsetmanager-headline-wrapper",children:Object(k.jsx)(U.a,{id:"viewSetManager.editViewSetHeadline"})}),Object(k.jsx)("div",{className:"viewsetmanager-table-wrapper",children:Object(k.jsx)(ut.a,{children:function(e){var t=e.width,n=e.height;return Object(k.jsx)(ut.c,{headerRenderer:Te,columns:Ne,data:Ce,width:t,height:n-20,headerHeight:30,rowHeight:30},"viewset-table")}},"autoresizer")})]}),Object(k.jsx)(gt.a,{open:T,onClose:function(e){return function(e){V(!1),e?he():r.current.value=""}(e)},title:Object(k.jsx)(U.a,{id:"viewSetManager.importConfirm.title"}),message:Object(k.jsx)(U.a,{id:"viewSetManager.importConfirm.message"})}),Object(k.jsx)(gt.a,{open:""!==R,onClose:function(e){return fe(e)},message:Object(k.jsx)(U.a,{id:"viewSetManager.deleteConfirm.message",values:{viewsetName:R}})}),Object(k.jsx)(Ot,{onClose:function(){q(!1),ne&&Ie()},open:W,title:K,message:Q}),Object(k.jsx)("input",{ref:r,style:{display:"none"},type:"file",onChange:function(e){var t=e.target.files[0];if(t){var n=new FileReader;n.readAsText(t),n.onload=function(e){be(e.target.result)}}}})]})}))),Et=(n(867),st.a.shape({id:st.a.string})),St=(st.a.oneOfType([Et,st.a.string]),n(23)),yt=n.n(St),kt=(n(868),n(869),function(e){var t=e.children;return Object(k.jsx)("div",{className:"box-wrapper",children:t})});kt.defaultProps={children:void 0};var xt=kt,Tt=function(e){var t=e.id,n=e.title,i=e.onClick,a=e.active,r=yt()({"preset-button":!0,"preset-button-active":a});return Object(k.jsx)(xt,{children:Object(k.jsx)("button",{id:t,onClick:i,className:r,children:Object(k.jsx)("span",{children:n})})})};Tt.defaultProps={id:void 0,onClick:function(){},active:!1};var Vt=Tt,Ct=function(e){var t=e.currentViewSet,n=e.createdViewSets,i=e.switchViewSet,a=e.myPermissions;return Object(Qe.I)(a)||Object(Qe.x)(a)?Object(k.jsx)("div",{className:"preset-slider-wrapper",children:n&&n.map((function(e){return Object(k.jsx)(Vt,{title:e.name||e.id,onClick:function(){return i(e)},active:t&&t.id===e.id},e.id)}))}):Object(k.jsx)("div",{})};Ct.defaultProps={currentViewSet:void 0,createdViewSets:[]};var Nt=Object(p.c)((function(e){return{createdViewSets:Object.keys(e.viewSet.createdViewSets).map((function(t){return e.viewSet.createdViewSets[t]})),currentViewSet:e.viewSet.currentViewSet,myPermissions:e.app.myPermissions}}),(function(e){return{switchViewSet:function(t){return e(Object(I.ib)(t))}}}))(Ct),At=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={selectedIndex:0,viewSetManagerOpen:!1},e.select=function(t){return e.setState({selectedIndex:t})},e}return Object(E.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onSave,i=t.bottomNavHidden,a=t.isSVOConfigLoaded,r=t.myPermissions;return Object(k.jsxs)("div",{className:"bottom-nav-wrapper ".concat(i?"bottom-nav-hidden":""),children:[Object(k.jsxs)("div",{className:"bottom-nav",children:[a&&Object(k.jsx)(Nt,{}),a&&(Object(Qe.I)(r)||Object(Qe.x)(r))?Object(k.jsxs)("div",{className:"view-manager",onClick:function(){e.setState({viewSetManagerOpen:!e.state.viewSetManagerOpen})},children:[Object(k.jsx)("img",{src:lt,alt:""}),Object(k.jsx)(U.a,{id:"viewSetManager"})]}):void 0]}),Object(k.jsx)("button",{className:"bottom-hider",onClick:function(){e.props.setBottomNavHidden(!i)},children:i?"show":"hide"}),a&&Object(k.jsx)("div",{children:this.state.viewSetManagerOpen&&Object(k.jsx)(wt,{onClose:function(){return e.setState({viewSetManagerOpen:!1})},onSave:n})})]})}}]),n}(i.Component),Pt=Object(ct.c)(Object(p.c)((function(e){return{fullscreenMode:e.viewSet.fullscreenMode,bottomNavHidden:e.viewSet.bottomNavHidden,isSVOConfigLoaded:e.viewSet.isSVOConfigLoaded,myPermissions:e.app.myPermissions}}),(function(e){return{setBottomNavHidden:function(t){return e(Object(I.J)(t))}}}))(At)),Mt=n(167),Rt=n(154),Dt=n(247),Lt=n(248),Ft=n(962),_t=n(978),Ut=n(14),Bt=(n(871),function e(t){var n,a,r,o,s=t.item,c=t.nested,u=Object(i.useRef)(null),d=Object(i.useState)(!1),p=Object(l.a)(d,2),v=p[0],b=p[1],f=!(null===(n=s.children)||void 0===n||!n.length);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:Object(Ut.a)("navigation-item",s.className),ref:u,style:{pointerEvents:s.enabled?"auto":"none",opacity:s.enabled?"1.0":"0.3"},children:Object(k.jsxs)("button",{className:Object(Ut.a)(f&&"show-arrow",c&&"nested arrow-right",v&&"active",(f||s.onClick)&&"clickable"),onClick:function(){s.onClick?s.onClick():f&&b(!0)},children:[s.icon&&Object(k.jsx)("img",{src:s.icon}),Object(k.jsx)("span",{children:s.content})]})}),Object(k.jsx)(Ft.a,{open:v,anchorEl:u.current,placement:c?"right-start":"bottom",style:{zIndex:9},children:Object(k.jsx)(_t.a,{onClickAway:function(){return b(!1)},children:Object(k.jsx)(R.a,{elevation:4,className:"navigation-item-children-list",style:{minWidth:null!==(a=null===(r=u.current)||void 0===r?void 0:r.getBoundingClientRect().width)&&void 0!==a?a:0},children:(null!==(o=s.children)&&void 0!==o?o:[]).map((function(t){return t&&Object(k.jsx)(e,{item:t,nested:!0},t.id)}))})})})]})}),Ht=n(326),zt=n.n(Ht),Wt=(n(877),function(){return Object(k.jsx)(xt,{children:Object(k.jsxs)("div",{className:"date-time-wrapper",children:[Object(k.jsx)(zt.a,{className:"date",format:"DD.MM.YYYY",ticking:!0}),Object(k.jsx)(zt.a,{className:"time",format:"HH:mm:ss",ticking:!0})]})})}),qt=(n(878),function(){var e=Object(p.e)((function(e){return e.app.configurationLock}));return Object(k.jsx)(xt,{children:Object(k.jsxs)("div",{className:"lock-status",children:[Object(k.jsxs)("p",{children:["Status: ",e.isLocked()?"Locked":"Unlocked"]}),Object(k.jsxs)("p",{children:["Owner: ",e.isLocked()?e.owner:"None"," ",e.isLocked()?e.host:"0.0.0.0"]})]})})}),Gt=n(187),Yt=n.p+"static/media/play-multiple.92160d4a.svg",Kt=n(188),Xt=n.p+"static/media/language.0be28bcb.svg",Jt=n.p+"static/media/icons8-lock.b22b5188.svg",Zt=n.p+"static/media/icons8-padlock.048e7769.svg",Qt=(n(432),function(e){var t=e.open,n=e.onAccept,a=Object(i.useState)(30),r=Object(l.a)(a,2),o=r[0],s=r[1];return Object(i.useEffect)((function(){var e=null;return t?(e=setInterval((function(){s((function(e){return e-1}))}),1e3),o<=0&&(n(),clearInterval(e),s(30))):(null!==e&&clearInterval(e),s(30)),function(){null!==e&&clearInterval(e)}}),[t,n,o]),Object(k.jsxs)(H.a,{open:e.open,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(k.jsx)(G.a,{id:"alert-dialog-title",children:e.title}),Object(k.jsx)(W.a,{children:Object(k.jsx)(q.a,{id:"alert-dialog-description",children:e.contentText})}),Object(k.jsx)(j.a,{onClick:e.onAccept,color:"primary",children:Object(k.jsx)(U.a,{id:"accept"})}),Object(k.jsx)(j.a,{onClick:e.onReject,color:"primary",children:Object(k.jsx)(U.a,{id:"reject"})}),Object(k.jsx)("div",{className:"auto-accept-container",children:Object(k.jsxs)("p",{children:["(auto accept in ",o," seconds)"]})})]})}),$t=function(e,t){return Object(f.a)(Object(f.a)({},e),{},Object(pe.a)({},t.name,t.value))},en=n(28),tn=Object.keys(en.a).filter((function(e){return"unknownMode"!==e})),nn=function(){var e,t=Object(p.d)(),n=Object(p.e)((function(e){return e.viewSet.isSVOConfigLoaded})),a=Object(p.e)((function(e){return e.app})),r=a.myPermissions,o=a.currentMode,s=a.proxy,c=Object(Qe.F)(r),l=Object(Qe.t)(r),u=Object(i.useMemo)((function(){var e,t=null!==(e=null!==o&&void 0!==o?o:s.mode)&&void 0!==e?e:en.a.unknownMode.id;return Object.keys(en.a).find((function(e){return en.a[e].id===t}))}),[o,s.mode]),d=Object(i.useMemo)((function(){return tn.map((function(e){return{id:e,onClick:function(){var n;n=en.a[e].id,t(Object(I.O)(n))},content:Object(k.jsx)(U.a,{id:e}),icon:en.a[e].iconSrc,enabled:!0}}))}),[t]);if(n&&(c||l))return{id:"mode-switch",icon:null===(e=en.a[u])||void 0===e?void 0:e.iconSrc,content:Object(k.jsx)(U.a,{id:u}),enabled:l,children:d}},an=n(41),rn=n.n(an),on=n.p+"static/media/description.7b05d18e.svg",sn=n(471),cn=function(){var e=Object(sn.a)(),t=function(){var e=Object(p.d)(),t=Object(p.e)((function(e){return e.app.locale})),n=Object(i.useMemo)((function(){return ue.b.map((function(t){return{id:t.locale,content:t.name,onClick:function(){e(Object(I.V)(t.locale)),e(Object(I.n)(t.locale))},enabled:!0}}))}),[e]);return{id:"language-chooser",icon:Xt,content:null!==t&&void 0!==t?t:"",enabled:!0,children:n}}(),n=function(){var e=Object(Mt.a)(),t=Object(p.e)((function(e){return e.app.proxy})),n=Object(p.e)((function(e){return e.app.configurationLock})),a=Object(p.e)((function(e){return e.app.user})),r=Object(i.useReducer)($t,{scope:1}),o=Object(l.a)(r,2),s=o[0],c=o[1],u=Object(i.useState)(!1),d=Object(l.a)(u,2),v=d[0],b=d[1],f=Object(i.useCallback)((function(){return n.isLockedBySameUser(a)?e.messages["topNavigation.release"]:n.isLockedByOtherUser(a)?e.messages["topNavigation.takeover"]:e.messages["topNavigation.lock"]}),[n,e.messages,a]),h=function(e){c({name:e.target.name,value:e.target.value})},m=function(e){e.stopPropagation(),b(!1)};return{id:"lock-state-handler",icon:n.isLockedBySameUser(a)?Zt:Jt,enabled:!0,content:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"lock-state-handler",children:Object(k.jsx)("p",{children:f()})}),Object(k.jsxs)(H.a,{open:v,onClose:m,"aria-labelledby":"form-dialog-title",children:[Object(k.jsx)(G.a,{id:"form-dialog-title",children:n.isLockedByOtherUser(a)?Object(k.jsx)(U.a,{id:"lockStateHandler.formDialog.takeoverConfigRequestTitle"}):Object(k.jsx)(U.a,{id:"lockStateHandler.formDialog.lockConfigRequestTitle"})}),Object(k.jsxs)(W.a,{children:[Object(k.jsx)(q.a,{children:Object(k.jsx)(U.a,{id:"lockStateHandler.formDialog.lockConfigRequestContent"})}),Object(k.jsx)(M.a,{InputLabelProps:{shrink:!0},autoFocus:!0,margin:"dense",id:"lock-scope-id",name:"scope",label:Object(k.jsx)(U.a,{id:"lockStateHandler.formDialog.lockScope"}),type:"number",defaultValue:"1",disabled:!0,onChange:h,fullWidth:!0}),Object(k.jsx)(M.a,{InputLabelProps:{shrink:!0},margin:"dense",id:"lock-description-id",name:"description",label:Object(k.jsx)(U.a,{id:"lockStateHandler.formDialog.lockDescription"}),type:"text",onChange:h,fullWidth:!0}),n.isLockedByOtherUser(a)&&Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(M.a,{InputLabelProps:{shrink:!0},margin:"dense",id:"takeover-message-id",name:"takeoverMessage",label:Object(k.jsx)(U.a,{id:"lockStateHandler.formDialog.takeoverMessage"}),type:"text",onChange:h,fullWidth:!0})})]}),Object(k.jsxs)(z.a,{children:[Object(k.jsx)(j.a,{onClick:m,color:"primary",children:Object(k.jsx)(U.a,{id:"cancel"})}),Object(k.jsx)(j.a,{onClick:function(e){e.preventDefault(),e.stopPropagation(),b(!1),s.requestTakeover=n.isLockedByOtherUser(a),t.subscribeToLockAcquisitionStream(s)},color:"primary",children:Object(k.jsx)(U.a,{id:"submit"})})]})]}),Object(k.jsx)(Y,{open:n.isConfigAlreadyLocked(),title:Object(k.jsx)(U.a,{id:"lockStateHandler.alertDialog.lockAlreadyLocked",values:{user:n.owner}}),contentText:Object(k.jsx)(U.a,{id:"lockStateHandler.alertDialog.lockDescription",values:{description:n.lockDescription}}),children:Object(k.jsx)(j.a,{onClick:function(){t.closeAlertDialogs()},color:"primary",children:Object(k.jsx)(U.a,{id:"close"})})}),Object(k.jsx)(Y,{open:n.isOwnerRejectedTakeover(),title:Object(k.jsx)(U.a,{id:"lockStateHandler.alertDialog.ownerRejectedTakeover",values:{user:n.owner}}),contentText:Object(k.jsx)(U.a,{id:"lockStateHandler.alertDialog.lockDescription",values:{description:n.lockDescription}}),children:Object(k.jsx)(j.a,{onClick:function(){t.closeAlertDialogs()},color:"primary",children:Object(k.jsx)(U.a,{id:"close"})})}),Object(k.jsx)(Y,{open:n.isWaitingForTakeoverResponse(),title:Object(k.jsx)(U.a,{id:"lockStateHandler.alertDialog.waitingForTakeoverResponse",values:{user:n.owner}}),contentText:Object(k.jsx)(U.a,{id:"lockStateHandler.alertDialog.waitingForResponseInfo"})}),Object(k.jsx)(Qt,{open:n.isTakeoverAttemptFromOtherUser(),title:Object(k.jsx)(U.a,{id:"lockStateHandler.alertDialog.takeoverAttempt",values:{user:n.takeoverUser}}),contentText:Object(k.jsx)(U.a,{id:"lockStateHandler.alertDialog.takeoverMessage",values:{message:n.takeoverMessage}}),onAccept:function(){t.passConfigLock({lockId:n.lockId,takeoverId:n.takeoverId})},onReject:function(){t.retainConfigLock({takeoverId:n.takeoverId})}})]}),onClick:function(){v||n.isConfigAlreadyLocked()||n.isOwnerRejectedTakeover()||n.isWaitingForTakeoverResponse()||n.isTakeoverAttemptFromOtherUser()||(n.isLockedBySameUser(a)?t.unsubscribeFromLockAcquisitionStream():b(!0))}}}(),a=function(){var e=Object(p.e)((function(e){return e.viewSet.isSVOConfigLoaded})),t=Object(p.e)((function(e){return e.app})),n=t.proxy,a=t.configuration,r=t.pausedInspections,o=t.myPermissions,s=Object(i.useMemo)((function(){return a&&a.getInspections()||[]}),[a]),c=0===r.length,l=Object(Qe.A)(o),u=Object(Qe.q)(o),d=Object(i.useMemo)((function(){var e=s.map((function(e){var t=(r||[]).includes(e.id);return{id:e.id,onClick:function(){t?n.resumeRejectStream(e.id):n.pauseRejectStream(e.id)},content:e.name,icon:t?Kt.a:Gt.a,className:t?"paused-inspection":void 0,enabled:!0}}));return e.unshift({id:"globalResumePause",onClick:function(){c?n.pauseRejectStream():n.resumeRejectStream()},content:c?Object(k.jsx)(U.a,{id:"topNavigation.pauseAllInspections"}):Object(k.jsx)(U.a,{id:"topNavigation.resumeAllInspections"}),icon:c?Gt.a:Kt.a,className:"all-inspections",enabled:!0}),e}),[c,s,r,n]);if(e&&(l||u))return{id:"inspection-state-navigation",icon:Yt,content:Object(k.jsx)(U.a,{id:"topNavigation.inspectionState",values:{runningInspections:s.length-r.length,numberOfInspections:s.length}}),enabled:!0,children:u?d:void 0}}(),r=function(){var e,t=Object(p.e)((function(e){return e.app})),n=t.notifications,i=t.myPermissions;if(Object(Qe.C)(i))return{id:"status-report",icon:on,enabled:!0,content:null===(e=n[0])||void 0===e?void 0:e.message,children:n.map((function(e){var t,n;return{id:null!==(t=null!==(n=e.id)&&void 0!==n?n:e.timestamp)&&void 0!==t?t:rn.a.generate(),content:Object(k.jsxs)("p",{className:"".concat(e.type," status"),children:[e.timestamp,": ",Object(k.jsx)("b",{children:e.message})," ",e.count>1?"(".concat(e.count,")"):""]},rn.a.generate()),enabled:!0}}))}}(),o=nn();return{navigation:[null!==o&&void 0!==o?o:void 0,null!==r&&void 0!==r?r:void 0,null!==a&&void 0!==a?a:void 0,null,n,e,t].filter((function(e){return void 0!==e}))}},ln=(n(882),function(){var e=Object(p.e)((function(e){return e.viewSet})),t=e.topNavHidden,n=e.isSVOConfigLoaded,a=e.unsavedChanges,r=Object(p.e)((function(e){return e.app.configuration})),o=Object(p.d)(),s=cn().navigation,c=Object(Mt.a)(),l=yt()({nav:!0,"nav-hidden":t}),u=Object(i.useMemo)((function(){return n?r&&r.name?Object(k.jsx)("span",{children:r.name}):c.messages.unknownConfigName:c.messages.noConfigName}),[r,c.messages,n]);return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{className:l,children:[Object(k.jsx)("button",{className:"hider",onClick:function(){return o(Object(I.eb)(!t))},children:t?"show":"hide"}),Object(k.jsxs)("div",{className:"config-wrapper",children:[Object(k.jsx)(Lt.a,{src:Dt.a,title:"logo"}),a?Object(k.jsxs)("div",{style:{fontStyle:"italic"},children:[u,"*"]}):u]}),Object(k.jsx)("div",{className:"flex-container",children:s.map((function(e,t){return e?Object(k.jsx)(Bt,{item:e},e.id):Object(k.jsx)("span",{className:"spacer"},t)}))}),Object(k.jsx)("div",{className:"responsive-menu",children:Object(k.jsx)(Bt,{item:{id:"responsive-menu",content:"Menu",icon:Rt.a,enabled:!0,children:s}},"menu")}),Object(k.jsxs)("div",{className:"separator",children:[Object(k.jsx)(Wt,{}),Object(k.jsx)(qt,{})]})]})})}),un=n(165),dn=n(155),pn=n(65),vn=(n(883),function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){return Object(k.jsx)("div",{className:"no-config-loaded-wrapper",children:Object(k.jsx)(U.a,{id:"noConfigLoaded"})})}}]),n}(i.Component)),bn=n(242),fn=(n(884),function(e){var t=e.headline,n=void 0===t?"":t,i=e.selectionItems,a=void 0===i?[]:i,r=e.onSelection,o=e.cancelButtonProps,s=void 0===o?{}:o,c=e.showCancel,l=void 0!==c&&c;return Object(k.jsxs)("div",{children:[Object(k.jsx)("h3",{children:n}),Object(k.jsxs)("ul",{className:"list-wrapper",children:[a.map((function(e){return Object(k.jsx)("li",{className:"selection-item",style:{pointerEvents:e.enabled?"auto":"none",opacity:e.enabled?"1.0":"0.3"},children:Object(k.jsxs)(j.a,{variant:"outlined",onClick:function(){return r(e.id)},children:[e.icon&&Object(k.jsx)("img",{src:e.icon,alt:"inspection.name",className:"image-item"}),e.text]},"button".concat(e.id))},"li".concat(e.id))})),l?Object(k.jsx)("li",{className:"selection-item",children:Object(k.jsxs)(j.a,{variant:"contained",color:"primary",onClick:s.goBack,children:[s.icon&&Object(k.jsx)("img",{src:s.icon,alt:"type.id",className:"image-item"}),s.text]})},"liCancel"):null]})]})}),hn=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).getSelectionItems=function(){var t=e.props.configuration;return(t&&t.getInspections()||[]).map((function(e){return{id:e.id,text:e.name,icon:bn.a,enabled:!0}}))},e}return Object(E.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onSelection,n=e.goBack,i=e.showCancel,a={text:Object(k.jsx)(U.a,{id:"viewTypeSelection.back"}),icon:ve.a,goBack:n},r=this.getSelectionItems();return Object(k.jsx)("div",{children:Object(k.jsx)(fn,{headline:Object(k.jsx)(U.a,{id:"inspectionSelection.selectInspection"}),onSelection:t,cancelButtonProps:a,showCancel:i,selectionItems:r})})}}]),n}(i.Component);hn.defaultProps={};var mn=Object(p.c)((function(e){return{configuration:e.app.configuration}}))(hn),gn=n.p+"static/media/filmstrip.c43ef800.svg",jn=n(244),On=n.p+"static/media/list.7380903e.svg",In=n.p+"static/media/parameter.417d04e6.svg",wn=n.p+"static/media/toolset.f1f1d3b2.svg",En=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onSelection,n=e.goBack,i=e.myPermissions,a=e.showCancel,r=[{id:Ge.d,text:Object(k.jsx)(U.a,{id:"viewTypeSelection.imageView"}),icon:jn.a,enabled:Object(Qe.b)(i)},{id:Ge.f,text:Object(k.jsx)(U.a,{id:"viewTypeSelection.parameterView"}),icon:In,enabled:Object(Qe.d)(i)},{id:Ge.c,text:Object(k.jsx)(U.a,{id:"viewTypeSelection.imageStripView"}),icon:gn,enabled:Object(Qe.a)(i)},{id:Ge.e,text:Object(k.jsx)(U.a,{id:"viewTypeSelection.ListView"}),icon:On,enabled:Object(Qe.c)(i)},{id:Ge.g,text:Object(k.jsx)(U.a,{id:"viewTypeSelection.toolset"}),icon:wn,enabled:Object(Qe.f)(i)}],o={text:Object(k.jsx)(U.a,{id:"viewTypeSelection.back"}),icon:ve.a,goBack:n};return Object(k.jsx)("div",{children:Object(k.jsx)(fn,{headline:Object(k.jsx)(U.a,{id:"viewTypeSelection.selectViewType"}),onSelection:t,cancelButtonProps:o,showCancel:a,selectionItems:r})})}}]),n}(i.Component);En.defaultProps={};var Sn=Object(p.c)((function(e){return{myPermissions:e.app.myPermissions}}))(En),yn=(n(885),function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={visibleComponent:"ViewTypeSelection",selectedInspectionId:0,selectedViewType:""},e.setSelectedInspectionId=function(t){e.setState({visibleComponent:"",selectedInspectionId:t}),e.props.changeTitle(t),e.updateView(t)},e.setSelectedViewType=function(t){e.setState({visibleComponent:"InspectionSelection",selectedViewType:t})},e.goBackToViewTypeSelection=function(){e.setState({visibleComponent:"ViewTypeSelection",selectedInspectionId:0})},e.cancelViewSelection=function(){(0,e.props.changeContent)()},e.updateView=function(t){var n=e.props,i=n.replaceViewInCurrentViewSet,a=n.viewId,r=n.changeContent;i(a,e.state.selectedViewType,t),r()},e}return Object(E.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.viewToShowWithoutInspection;e&&this.setState({visibleComponent:"InspectionSelection",selectedViewType:e})}},{key:"render",value:function(){var e=this,t=this.props.showCancel,n=this.state.visibleComponent;return Object(k.jsx)("div",{className:"view-selection-wrapper",children:function(){switch(n){case"InspectionSelection":return Object(k.jsx)(mn,{onSelection:e.setSelectedInspectionId,goBack:e.goBackToViewTypeSelection,showCancel:!0});case"ViewTypeSelection":return Object(k.jsx)(Sn,{onSelection:e.setSelectedViewType,goBack:e.cancelViewSelection,showCancel:t});default:return Object(k.jsx)("div",{})}}()})}}]),n}(i.Component)),kn=Object(p.c)(null,(function(e){return{replaceViewInCurrentViewSet:function(t,n,i){e(Object(I.B)(void 0,t)),e(Object(I.E)(t,n,i))}}}))(yn),xn=new Ge.h,Tn=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(e){var i;return Object(w.a)(this,n),(i=t.call(this,e)).setFullscreen=function(e){return setTimeout((function(){return i.setState({isFullscreen:e})}),0)},i.resetView=function(){i.setState({resetView:!0})},i.removeIdsForUnknownInspectionIds=function(e,t){var n=e.viewSet;Object.keys(n).forEach((function(e){var i=n[e].inspectionId;t.includes(i)||(delete n[e].id,delete n[e].inspectionId)}))},i.canEditCurrentView=function(){var e=i.props,t=e.id,n=e.views,a=e.myPermissions;if(n&&n.viewSet&&n.viewSet[t])switch(n.viewSet[t].viewComponentClassId){case Ge.d:return Object(Qe.p)(a);case Ge.e:return Object(Qe.r)(a);case Ge.c:return Object(Qe.o)(a);case Ge.f:return Object(Qe.s)(a);case Ge.g:return Object(Qe.v)(a);default:return!1}return!1},i.canDeleteCurrentView=function(){var e=i.props,t=e.id,n=e.views,a=e.myPermissions;if(n&&n.viewSet&&n.viewSet[t])switch(n.viewSet[t].viewComponentClassId){case Ge.d:return Object(Qe.i)(a);case Ge.e:return Object(Qe.j)(a);case Ge.c:return Object(Qe.h)(a);case Ge.f:return Object(Qe.k)(a);case Ge.g:return Object(Qe.m)(a);default:return!1}return!1},i.getInspectionId=function(){var e=i.props,t=e.id,n=e.views;return i.state.selectedInspectionId||n.viewSet[t]&&n.viewSet[t].inspectionId},i.state={isFullscreen:!1,resetView:!1,selectedInspectionId:0,isConfirmOpen:!1},i}return Object(E.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.configuration,i=t.id,a=t.path,r=t.views,o=t.dispatch,s=t.editingViewIds,c=t.intl,l=t.windowName,u=t.isSVOConfigLoaded,d=t.myPermissions,p=this.state,v=p.isFullscreen,b=p.resetView,h=p.selectedInspectionId,m=yt()({fullscreen:v,"editing-focus":s.includes(i)}),g=this.getInspectionId(),j="<UNKNOWN INSPECTION>";if(n){var O=n.getInspectionName(g);O&&O.length>0&&(j="[".concat(O,"]")),l&&!b&&(j="".concat(j," ").concat(l));var I=n&&n.inspections&&n.inspections.map((function(e){return e.id}));I&&this.removeIdsForUnknownInspectionIds(r,I)}var w=r.viewSet&&r.viewSet[i]&&r.viewSet[i].inspectionId,E=!w&&r.viewSet&&r.viewSet[i]&&r.viewSet[i].viewComponentClassId,S=[];return Object(Qe.x)(d)&&S.push(Object(k.jsx)(un.SplitButton,{},"splitButton")),S.push(Object(k.jsx)(C.a,{tooltip:c.messages["viewTypeSelection.chooseViewTooltip"],onClick:function(){return e.resetView(i)},iconUrl:bt.a,enabled:this.canEditCurrentView()},"swapButton")),S.push(Object(k.jsx)(C.a,{tooltip:c.messages["svoView.closeView"],onClick:function(){return e.props.onCloseView()},iconUrl:dn.a,style:{width:"18px",height:"18px"},enabled:b||!w||this.canDeleteCurrentView()},"customRemoveButton")),Object(k.jsx)(un.MosaicWindow,{className:m,createNode:function(){return rn.a.generate()},title:(h||r.viewSet&&r.viewSet[i]&&r.viewSet[i].titleId)&&this.props.intl.formatMessage({id:h||l?"svoView.emptyViewInspectionTemplate":r.viewSet[i].titleId},{inspectionName:j}),toolbarControls:u?S:[],path:a,draggable:Object(Qe.x)(d),children:Object(k.jsx)(Ye,{view:this,dispatch:o,editingViewIds:s,children:!b&&w?xn.createViewInstance(r.viewSet[i],Object(f.a)(Object(f.a)({},r.viewSet[i].passedProps),{},{id:i,inspectionId:r.viewSet[i].inspectionId})):u?Object(k.jsx)(kn,{viewId:i,changeContent:function(){return e.setState({resetView:!1,selectedInspectionId:0})},changeTitle:function(t){return e.setState({selectedInspectionId:t})},showCancel:b,viewToShowWithoutInspection:E}):Object(k.jsx)(vn,{})})})}}]),n}(i.Component);Tn.defaultProps={editingViewIds:[]};var Vn=Object(p.c)((function(e,t){var n=t.views,i=t.id,a=Object(pn.a)((function(){return n.viewSet[i].inspectionId})),r=e.app.configuration,o=e.viewSet.isSVOConfigLoaded,s=e.app.myPermissions,c=Object(pn.a)((function(){return e.inspections[a].views[i].windowName}));if(c){var l=r.getInspectionName(a);return{configuration:r,windowName:c=c.replace("Inspections.".concat(l,"."),""),isSVOConfigLoaded:o,myPermissions:s}}return{configuration:r,isSVOConfigLoaded:o,myPermissions:s}}),(function(){return{}}))(Object(ct.c)(Tn)),Cn=(n(913),function(e){var t=e.views,n=e.onChange,a=e.topNavHidden,r=void 0!==a&&a,o=e.bottomNavHidden,s=void 0!==o&&o,c=Object(p.e)((function(e){return e.inspections})),u=Object(p.e)((function(e){var t;return null===(t=e.app)||void 0===t?void 0:t.myPermissions})),d=Object(p.d)(),v=Object(i.useRef)(null),b=Object(i.useState)(null),f=Object(l.a)(b,2),h=f[0],m=f[1],g=Object(i.useMemo)((function(){return Object.keys(c).map((function(e){var t;return null===(t=c[e].sharedState)||void 0===t?void 0:t.editingViewId}))}),[c]),j=yt()({"view-set-wrapper":!0,"bottom-nav-offset":!s,"top-nav-hidden":!r}),O=Object(i.useCallback)((function(e){if(e&&h){var n=h.viewId,i=h.path,a=h.remove,r=t.viewSet[n]&&t.viewSet[n].inspectionId;"string"===typeof t.initialValue&&d(Object(I.r)()),d(Object(I.B)(r,n)),a(i)}m(null)}),[d,h,t.initialValue,t.viewSet]);return Object(k.jsxs)("div",{className:j,children:[Object(k.jsx)(gt.a,{open:!!h,onClose:O,message:Object(k.jsx)(U.a,{id:"svoView.closeViewConfirmation"})}),Object(k.jsx)(un.Mosaic,{onChange:function(e){n(e),d(Object(I.u)())},ref:v,renderTile:function(e,n){return Object(k.jsx)(un.MosaicContext.Consumer,{children:function(i){var a=i.mosaicActions;return Object(k.jsx)(Vn,{id:e,path:n,views:t,dispatch:d,editingViewIds:g,onCloseView:function(){m({viewId:e,path:n,remove:a.remove})}},e)}})},initialValue:t.initialValue,resize:Object(Qe.x)(u)?{minimumPaneSizePercentage:10}:"DISABLED"})]})}),Nn=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(){var e;Object(w.a)(this,n);for(var i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={viewSetFactory:new Ge.h,throttledWindwResizeHandler:rt()((function(){return e.props.increaseChangeCounter()}),500)},e.onWebsocketConnect=Object(c.a)(d.a.mark((function t(){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.props.addConnectionEstablishedNotification();case 1:case"end":return t.stop()}}),t)}))),e.onWebsocketDisconnect=function(){e.props.addConnectionLostNotification()},e}return Object(E.a)(n,[{key:"handleBeforeUnload",value:function(e){e.preventDefault(),e.returnValue=""}},{key:"componentDidMount",value:function(){if(!this.props.currentViewSet){var e=Ge.a,t=this.state.viewSetFactory.getViewSet(e);this.props.setViewSet(t,t.id)}this.props.defaultViewSetName&&this.props.changeViewSetAfterLoading(this.props.defaultViewSetName),this.props.protobuf&&this.props.socket&&this.onWebsocketConnect(this.props.protobuf),window.addEventListener("resize",this.state.throttledWindwResizeHandler)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.state.throttledWindwResizeHandler)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.socket!==this.props.socket&&e.protobuf&&e.socket&&this.onWebsocketConnect(e.protobuf),e.socket===this.props.socket||e.socket||this.onWebsocketDisconnect()}},{key:"componentDidUpdate",value:function(e){this.props.unsavedChanges&&e.currentViewSet?window.addEventListener("beforeunload",this.handleBeforeUnload):window.removeEventListener("beforeunload",this.handleBeforeUnload)}},{key:"saveConfiguration",value:function(){var e=this.context.store.getState();this.props.saveClientChunk(this.props.protobuf,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.locale,i=t.currentViewSet,a=t.bottomNavHidden,r=t.topNavHidden,o=t.modalNotificationData,s=t.isHelpViewOpen,c=t.closeHelpView;return this.props.user&&this.props.authToken?Object(k.jsx)(g.a,{locale:n,messages:ue.a[n],children:Object(k.jsxs)("div",{className:"vh-100 center",children:[Object(k.jsx)(T,{visible:!!o,message:o&&o.message}),Object(k.jsx)(ln,{onLoggedOut:this.props.onLoggedOut}),!o&&i&&Object(k.jsx)(Cn,{views:i,onChange:function(t){e.props.setLayout(t)},bottomNavHidden:a,topNavHidden:r}),Object(k.jsx)(Pt,{onSave:function(){return e.saveConfiguration()}}),Object(k.jsx)(tt.a,{open:s,onClose:function(){return c()}})]})}):Object(k.jsx)(m.a,{to:"/"})}}]),n}(i.Component);Nn.contextType=p.b,Nn.defaultProps={bottomNavHidden:!1,topNavHidden:!1,protobuf:void 0,viewSetTemplate:void 0,user:void 0,authToken:void 0,location:{state:{}},currentViewSet:void 0};var An=Object(p.c)((function(e){return{isHelpViewOpen:e.app.isHelpViewOpen,locale:e.app.locale,protobuf:e.app.protobuf,socket:e.app.socket,user:e.app.user,authToken:e.app.authToken,currentViewSet:e.viewSet.currentViewSet,bottomNavHidden:e.viewSet.bottomNavHidden,topNavHidden:e.viewSet.topNavHidden,defaultViewSetName:e.viewSet.defaultViewSetName,createdViewSets:e.app.createdViewSets,modalNotificationData:e.app.modalNotificationData,increaseChangeCounter:st.a.func.isRequired,unsavedChanges:e.viewSet.unsavedChanges}}),(function(e){return{closeHelpView:function(){e(Object(I.s)())},setViewSet:function(t,n){e(Object(I.gb)(t,n))},setLayout:function(t){e(Object(I.N)(t))},addConnectionEstablishedNotification:function(){e(Object(I.b)())},addConnectionLostNotification:function(){e(Object(I.c)())},saveClientChunk:function(t,n){e(Object(I.G)(t,n))},increaseChangeCounter:function(){e(Object(I.u)())},changeViewSetAfterLoading:function(t){e(Object(I.q)(t))}}}))(Nn),Pn=function(e){var t=e.user,n=e.authToken,i=e.onLoggedOut;return Object(p.d)()({type:"LOG_IN",authToken:n,user:t}),Object(k.jsx)(h.a,{children:Object(k.jsxs)("div",{children:[Object(k.jsx)(m.b,{exact:!0,path:"/",render:function(){return Object(k.jsx)(m.a,{to:"/app"})}}),Object(k.jsx)(m.b,{path:"/app",render:function(e){return Object(k.jsx)(An,Object(f.a)(Object(f.a)({},e),{},{onLoggedOut:i}))}}),Object(k.jsx)(m.b,{path:"/hmi-v1",component:He}),Object(k.jsx)(m.b,{path:"/permissions",component:it}),Object(k.jsx)(m.b,{path:"/logout",render:function(e){return Object(k.jsx)(qe,Object(f.a)(Object(f.a)({},e),{},{onLoggedOut:i}))}}),Object(k.jsx)(m.b,{path:"/databasegateway",component:de}),Object(k.jsx)(m.b,{path:"/debugger",component:Fe})]})})},Mn=n(186),Rn={width:400,margin:20,padding:25,display:"inline-block"},Dn=function(e){Object(S.a)(n,e);var t=Object(y.a)(n);function n(e){var i;return Object(w.a)(this,n),(i=t.call(this,e)).onSubmit=function(e){e.preventDefault(),Object(Mn.b)(i.state.username,i.state.password).then((function(e){return i.props.onLogin(e)})).catch((function(){return i.setState({loginFailed:!0})}))},i.state={username:null,password:null},i}return Object(E.a)(n,[{key:"render",value:function(){var e=this;return Object(k.jsx)("div",{className:"flex items-center justify-center",id:"login-page",children:Object(k.jsxs)(R.a,{elevation:5,style:Rn,children:[this.state.loginFailed?Object(k.jsx)("p",{className:"red",children:"Log In failed"}):null,Object(k.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(k.jsx)(M.a,{label:"Username",style:{width:"100%"},margin:"dense",type:"username",onChange:function(t){e.setState({username:t.target.value})}}),Object(k.jsx)("br",{}),Object(k.jsx)(M.a,{label:"Password",style:{width:"100%"},autoComplete:"current-password",margin:"dense",type:"password",onChange:function(t){e.setState({password:t.target.value})}}),Object(k.jsx)("br",{}),Object(k.jsx)("br",{}),Object(k.jsx)(j.a,{variant:"contained",color:"primary",type:"submit",children:"LogIn"})]})]})})}}]),n}(i.Component),Ln=n(479),Fn=n(85),_n=n.n(Fn),Un=n(166),Bn=n(480),Hn=n(483);function zn(e,t){var n=Object(Z.a)(t.notifications),i=function(e,t){var n=new Date,i={day:"2-digit",month:"2-digit",year:"numeric"},a={hour:"2-digit",minute:"2-digit",second:"2-digit"},r="".concat(n.toLocaleString(t,i)," ").concat(n.toLocaleString(t,a));return e=Object(f.a)(Object(f.a)({},e),{},{timestamp:r})}(e,t.locale);return function(e,t){if(t&&t.length>0)return _n()(e.message,t[0].message);return!1}(i,n)?n[0]=Wn(n[0]):(i=Wn(i),n.unshift(i)),n&&n.length>50&&n.splice(-1,1),n}function Wn(e){var t=e.count;return void 0===t?t=1:t++,e=Object(f.a)(Object(f.a)({},e),{},{count:t})}var qn=function(e){var t=function(e){var t=e.websocketUrl,n=e.dispatch,i=e.user,a=e.authToken,r=new Bn.a(t,n,a),o=new Hn.a(n),s=new Un.a({}),c=new Map,l=localStorage.getItem("CURRENT_LOCALE");return _e.a.setProxy(o),{connection:null,notifications:[],mode:0,navigationHidden:!1,locale:l||"en",authToken:a,user:i,currentMode:null,pausedInspections:[],connector:r,protobuf:void 0,socket:void 0,proxy:o,saveOperationInProcess:!1,currentClientChunkRevision:0,modalNotificationData:null,focusedViewType:null,isHelpViewOpen:!1,configuration:null,configurationLock:s,inspectionToolsetMappings:c,isBrowserWindowVisible:!0}}(e);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_PROTOBUF_STATIC_INITIALIZED":return e.proxy.setProtobufStaticInitialized(),e;case"SET_PROTOBUF":var i=n.protobuf,a=n.socket;return i.onConnect(a),e.proxy.setProtobuf(i),Object.assign({},e,{protobuf:i,socket:a});case"ADD_NOTIFICATION":var r=zn(n.notification,e);return Object.assign({},e,{notifications:r});case"LOG_IN":return Object(ze.g)(n.authToken,n.user),e.connector.connectWithToken(n.authToken),Object(f.a)(Object(f.a)({},e),{},{authToken:n.authToken,user:n.user});case"LOG_OUT":return Object(ze.f)(),setTimeout((function(){return e.connector.disconnect()})),e;case"AUTH_TOKEN_EXPIRED":return Object(ze.f)(),Object(f.a)(Object(f.a)({},e),{},{authToken:void 0,user:void 0});case"SET_LOCALE":return localStorage.setItem("CURRENT_LOCALE",n.locale),Object(f.a)(Object(f.a)({},e),{},{locale:n.locale});case"ON_NAVIGATION_HIDDEN":return Object.assign({},e,{navigationHidden:!e.navigationHidden});case"SHOW_GLOBAL_MESSAGE_OVERLAY":var o=n.message;return _e.a.info({message:o},"Showing global message overlay"),Object(f.a)(Object(f.a)({},e),{},{modalNotificationData:{message:o}});case"HIDE_GLOBAL_MESSAGE_OVERLAY":return _e.a.info("Hiding global message overlay"),Object(f.a)(Object(f.a)({},e),{},{modalNotificationData:null});case"SET_CURRENT_MODE":return e.proxy.setMode(n.mode),e;case"SET_CURRENT_MODE_DONE":return Object(f.a)(Object(f.a)({},e),{},{currentMode:n.mode});case"SET_PAUSED_INSPECTIONS":return Object(f.a)(Object(f.a)({},e),{},{pausedInspections:n.pausedInspections});case"UPDATE_CLIENT_CHUNK_REVISION":return Object(f.a)(Object(f.a)({},e),{},{currentClientChunkRevision:n.revision});case"UPDATE_SAVE_OPERATION_IN_PROCESS":return Object(f.a)(Object(f.a)({},e),{},{saveOperationInProcess:n.inProcess});case"SET_CONFIGURATION":return Object(f.a)(Object(f.a)({},e),{},{configuration:n.configuration});case"SET_CONFIGURATION_LOCK":return Object(f.a)(Object(f.a)({},e),{},{configurationLock:n.configurationLock});case"SET_INSPECTION_TOOLSET_MAPPINGS":return Object(f.a)(Object(f.a)({},e),{},{inspectionToolsetMappings:n.mappings});case"SET_FOCUSED_VIEW_TYPE":return Object(f.a)(Object(f.a)({},e),{},{focusedViewType:n.viewType});case"OPEN_HELP_VIEW":case"CLOSE_HELP_VIEW":return Object(f.a)(Object(f.a)({},e),{},{isHelpViewOpen:n.isHelpViewOpen});case"SET_GROUP_PERMISSIONS":return Object(f.a)(Object(f.a)({},e),{},{groupPermissions:n.groupPermissions});case"SET_MY_PERMISSIONS":return Object(f.a)(Object(f.a)({},e),{},{myPermissions:n.myPermissions});case"SET_BROWSER_WINDOW_VISIBILITY":return Object(f.a)(Object(f.a)({},e),{},{isBrowserWindowVisible:n.visible});case"SET_DATABASE_GATEWAY_CHUNK":return Object(f.a)(Object(f.a)({},e),{},{databaseGatewayConfig:n.chunk});default:return e}}},Gn={parameter:null},Yn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PARAMETER":return Object(f.a)(Object(f.a)({},e),{},{parameter:t.parameter});default:return e}},Kn=n(230),Xn=n.n(Kn),Jn=function(e,t){return Object.keys(t).find((function(n){return t[n]&&t[n].views&&!!t[n].views[e]}))},Zn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.inspectionId,i=t.viewId,a=t.key;switch(t.type){case"PURGE_VIEW_STATE":var r=t.inspectionId||Jn(t.viewId,e);return r&&e[r]?Xn()(e,["".concat(r,".sharedState.views.").concat(t.viewId),"".concat(r,".views.").concat(t.viewId),e[r].sharedState.editingViewId===t.viewId&&"".concat(r,".sharedState.editingViewId")]):e;case"SET_EDITING_FOCUS":return e[n]?Object(f.a)(Object(f.a)({},e),{},Object(pe.a)({},n,Object(f.a)(Object(f.a)({},e[n]),{},{sharedState:Object(f.a)(Object(f.a)({},e[n].sharedState),{},{editingViewId:i})}))):e;case"SET_LIST_VIEW_ALIASES":return e[n]?Object(f.a)(Object(f.a)({},e),{},Object(pe.a)({},n,Object(f.a)(Object(f.a)({},e[n]),{},{sharedState:Object(f.a)(Object(f.a)({},e[n].sharedState),{},{listViewAliases:t.aliases,showAliasesInList:t.showInList})}))):e;case"UPDATE_LIST_VIEW_SHOW_ALIASES":return e[n]?Object(f.a)(Object(f.a)({},e),{},Object(pe.a)({},n,Object(f.a)(Object(f.a)({},e[n]),{},{sharedState:Object(f.a)(Object(f.a)({},e[n].sharedState),{},{showAliasesInList:t.showInList})}))):e;case"SET_VIEW_DATA":return Object(f.a)(Object(f.a)({},e),{},Object(pe.a)({},n,Object(f.a)(Object(f.a)({},e[n]),{},{views:Object(f.a)(Object(f.a)({},e[n]?e[n].views:{}),{},Object(pe.a)({},i,Object(f.a)(Object(f.a)({},e[n]&&e[n].views?e[n].views[i]:{}),{},Object(pe.a)({},a,t.data))))})));case"SAVE_IMAGE_SETTINGS":return Object(f.a)(Object(f.a)({},e),{},Object(pe.a)({},n,Object(f.a)(Object(f.a)({},e[n]),{},{views:Object(f.a)(Object(f.a)({},e[n]?e[n].views:{}),{},Object(pe.a)({},i,Object(f.a)(Object(f.a)({},e[n]&&e[n].views?e[n].views[i]:{}),{},{zoomFactor:t.zoomFactor,imagePosition:t.imagePosition})))})));case"SET_SHARED_STATE_DATA":var o=t.viewId||e[n].sharedState.editingViewId,s=Object(f.a)(Object(f.a)({},e),{},Object(pe.a)({},n,Object(f.a)(Object(f.a)({},e[n]),{},{sharedState:Object(f.a)(Object(f.a)({},e[n]?e[n].sharedState:{}),{},{views:Object(f.a)(Object(f.a)({},e[n]?e[n].sharedState.views:{}),{},Object(pe.a)({},o,Object(f.a)(Object(f.a)({},e[n]?e[n].sharedState.views[o]:{}),{},Object(pe.a)({},a,t.data))))})})));return s;case"INIT_VIEW_STATE":var c=t.initState,l=t.initSharedState,u=Object(f.a)(Object(f.a)({},e),{},Object(pe.a)({},n,Object(f.a)(Object(f.a)({},e[n]),{},{sharedState:Object(f.a)(Object(f.a)({},e[n]?e[n].sharedState:{}),{},{views:Object(f.a)(Object(f.a)({},e[n]?e[n].sharedState.views:{}),{},Object(pe.a)({},i,Object(pn.a)((function(){return e[n].sharedState.views[i]}))?Object(f.a)(Object(f.a)({},l),e[n].sharedState.views[i]):l))}),views:Object(f.a)(Object(f.a)({},e[n]?e[n].views:{}),{},Object(pe.a)({},i,Object(pn.a)((function(){return e[n].views[i]}))?Object(f.a)(Object(f.a)({},c),e[n].views[i]):c))}))),d=u[n]&&u[n].sharedState&&(u[n].sharedState.listViewAliases||new Map);return u[n].sharedState.listViewAliases=d,u;default:return e}},Qn=new Ge.h,$n=function(){return{currentViewSet:void 0,createdViewSets:{},fullscreenMode:!1,fullscreenComponentDescriptor:void 0,viewSizeChangeCounter:0,bottomNavHidden:"true"===localStorage.getItem("BOTTOM_NAVIGATION_HIDDEN")||!1,topNavHidden:"true"===localStorage.getItem("TOP_NAVIGATION_HIDDEN")||!1,defaultViewSetName:localStorage.getItem("DEFAULT_VIEWSET_NAME")||null,isSVOConfigLoaded:!1,unsavedChanges:!1}},ei=function(e,t){return e.setFullscreen(!0),Object(f.a)(Object(f.a)({},t),{},{fullscreenMode:!0,fullscreenComponentDescriptor:e})},ti=function(e,t){return e.setFullscreen(!1),Object(f.a)(Object(f.a)({},t),{},{fullscreenMode:!1,fullscreenComponentDescriptor:void 0})},ni=function(e,t){var n=Object.keys(t).find((function(n){return t[n]&&t[n].name===e}));return n&&t[n]},ii=function(e,t){var n=e.id,i=t.createdViewSets[n],a=i||Qn.getViewSet(n),r=i?{}:Object(pe.a)({},n,a);return Object(f.a)(Object(f.a)({},t),{},{currentViewSet:a,createdViewSets:Object.assign({},t.createdViewSets,r)})},ai=function(e,t,n){return Object(f.a)(Object(f.a)({},e),{},{currentViewSet:t,createdViewSets:Object(f.a)(Object(f.a)({},e.createdViewSets),{},Object(pe.a)({},n,t)),unsavedChanges:!0})},ri=function(e,t){var n=e.createdViewSets,i=Object.keys(n).filter((function(e){return e!==t})).reduce((function(e,t){return Object(f.a)(Object(f.a)({},e),{},Object(pe.a)({},t,n[t]))}),{});if(0===Object.keys(i).length){var a=Ge.b;i=Object(pe.a)({},a,Qn.buildEmptyViewSet(a))}return{createdViewSets:i,currentViewSet:i[Object.keys(i)[0]],unsavedChanges:!0}},oi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_OUT":return $n();case"SET_VIEWSET":return ai(e,t.viewSet,t.viewSetId);case"REPLACE_VIEW_IN_CURRENT_VIEWSET":var n=t.viewId,i=t.inspectionId,a=t.replacementComponentId,r=Qn.getViewById(a);r.inspectionId=i;var o=e.currentViewSet.id,s=Object(f.a)(Object(f.a)({},e.currentViewSet),{},{viewSet:Object(f.a)(Object(f.a)({},e.currentViewSet.viewSet),{},Object(pe.a)({},n,r))});return ai(e,s,o);case"SWITCH_VIEWSET":return ii(t.viewSet,e);case"ENTER_FULLSCREEN_MODE":return e.fullscreenComponentDescriptor&&e.fullscreenComponentDescriptor.id!==t.componentDescriptor.id&&ti(e.fullscreenComponentDescriptor,e),ei(t.componentDescriptor,e);case"LEAVE_FULLSCREEN_MODE":return ti(t.componentDescriptor,e);case"TOGGLE_FULLSCREEN_MODE":return e.fullscreenComponentDescriptor?e.fullscreenComponentDescriptor.id===t.componentDescriptor.id?e.fullscreenMode?ti(t.componentDescriptor,e):ei(t.componentDescriptor,e):e:ei(t.componentDescriptor,e);case"INCREASE_VIEW_SIZE_CHANGE_COUNTER":return Object(f.a)(Object(f.a)({},e),{},{viewSizeChangeCounter:e.viewSizeChangeCounter+1});case"SET_BOTTOM_NAV_HIDDEN":return localStorage.setItem("BOTTOM_NAVIGATION_HIDDEN",t.hidden),Object(f.a)(Object(f.a)({},e),{},{bottomNavHidden:t.hidden});case"CHANGE_VIEWSET_AFTER_LOADING":return Object(f.a)(Object(f.a)({},e),{},{changeViewSetToName:t.name});case"SET_TOP_NAV_HIDDEN":return localStorage.setItem("TOP_NAVIGATION_HIDDEN",t.hidden),Object(f.a)(Object(f.a)({},e),{},{topNavHidden:t.hidden});case"SET_DEFAULT_VIEWSET_NAME":return localStorage.setItem("DEFAULT_VIEWSET_NAME",t.name),Object(f.a)(Object(f.a)({},e),{},{defaultViewSetName:t.name});case"NEW_VIEW_SET":var c=Object(pe.a)({},t.name,Qn.buildEmptyViewSet(t.name));return Object(f.a)(Object(f.a)({},e),{},{createdViewSets:Object(f.a)(Object(f.a)({},e.createdViewSets),c),unsavedChanges:!0});case"REMOVE_VIEWSET":var l=ri(e,t.name),u=l.createdViewSets,d=l.currentViewSet;return Object(f.a)(Object(f.a)({},e),{},{currentViewSet:d,createdViewSets:u,unsavedChanges:!0});case"CLEAR_CURRENT_VIEW":var p;if(null===e||void 0===e||null===(p=e.currentViewSet)||void 0===p||!p.name)return e;var v=Qn.buildEmptyViewSet(e.currentViewSet.name);return e.createdViewSets[e.currentViewSet.name]=v,Object(f.a)(Object(f.a)({},e),{},{currentViewSet:v,unsavedChanges:!0});case"RENAME_VIEWSET":var b=e.createdViewSets[t.oldName],h=Object(f.a)(Object(f.a)({},b),{},{id:t.newName,name:t.newName}),m=Object.keys(e.createdViewSets).reduce((function(n,i){return i===t.oldName?Object(f.a)(Object(f.a)({},n),{},Object(pe.a)({},t.newName,h)):Object(f.a)(Object(f.a)({},n),{},Object(pe.a)({},i,e.createdViewSets[i]))}),{});return t.oldName===e.currentViewSet.name?Object(f.a)(Object(f.a)({},e),{},{createdViewSets:m,currentViewSet:h,unsavedChanges:!0}):Object(f.a)(Object(f.a)({},e),{},{createdViewSets:m,unsavedChanges:!0});case"SET_CURRENT_LAYOUT":return t.layout?Object(f.a)(Object(f.a)({},e),{},{createdViewSets:Object.assign({},e.createdViewSets,Object(pe.a)({},e.currentViewSet.id,Object(f.a)(Object(f.a)({},e.currentViewSet),{},{initialValue:t.layout}))),currentViewSet:Object(f.a)(Object(f.a)({},e.currentViewSet),{},{initialValue:t.layout}),currentLayout:t.layout,unsavedChanges:!0}):e;case"LOAD_CLIENT_CHUNK":if(e.changeViewSetToName){var g=ni(e.changeViewSetToName,t.chunk.createdViewSets);if(g){var j=Object(f.a)(Object(f.a)({},e),{},{currentViewSet:g,createdViewSets:t.chunk.createdViewSets,changeViewSetToName:void 0});return ii(g,j)}}var O={createdViewSets:t.chunk.createdViewSets,currentViewSet:t.chunk.currentViewSet};return Object(f.a)(Object(f.a)({},e),O);case"SET_SVO_CONFIG_LOADED":return Object(f.a)(Object(f.a)({},e),{},{isSVOConfigLoaded:t.isLoaded,unsavedChanges:!1});case"SET_SAVE_FLAG":return Object(f.a)(Object(f.a)({},e),{},{unsavedChanges:t.hasChanges});default:return e}};var si=function(e){return Object(b.b)({app:qn(e),viewSet:oi,toolSet:Yn,inspections:Zn,routing:Ln.routerReducer})},ci=n(126),li=(n(916),n(917),n(918),function(){var e=Object(i.useState)(null),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(""),o=Object(l.a)(r,2),s=o[0],u=o[1],f=Object(i.useState)(null),h=Object(l.a)(f,2),m=h[0],g=h[1],j=function(){var e=Object(c.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){return function(t){return function(n){if(ci.a.enableAutoSave){var i=e.getState();if("SET_"===n.type.substr(0,4)&&!i.app.saveOperationInProcess&&i.app.protobuf){var a=i.app,r=a.currentClientChunkRevision,o=a.protobuf,s=a.user;e.dispatch(Object(I.G)(o,s,i,r))}}return t(n)}}},n=Object(b.d)(si({websocketUrl:ci.a.websocketServerUrl,dispatch:function(e){return n.dispatch(e)}}),Object(b.c)(Object(b.a)(v.a,t),window.devToolsExtension?window.devToolsExtension():function(e){return e})),e.next=4,be.a.init();case 4:n.dispatch(Object(I.ab)()),g(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){(n&&s||"/hmi-v1"===window.location.pathname)&&j()}),[n,s]);var O=Object(ze.e)();return O&&(O.user&&!n&&a(O.user),O.authToken&&!s&&u(O.authToken)),n&&s||"/hmi-v1"===window.location.pathname?m?(document.addEventListener("visibilitychange",(function(){"visible"===document.visibilityState?(m.dispatch(Object(I.K)(!0)),clearTimeout(this.hibernateTimer)):this.hibernateTimer=setTimeout((function(){m.dispatch(Object(I.K)(!1))}),1e4)})),Object(k.jsx)(p.a,{store:m,children:Object(k.jsx)(Pn,{user:n,authToken:s,onLoggedOut:function(){return a(null),void u("")}})})):Object(k.jsx)("div",{}):Object(k.jsx)(Dn,{onLogin:function(e){return function(e){e&&e.user&&e.authToken&&(a(e.user),u(e.authToken))}(e)}})}),ui=n(486),di=Object(ui.a)({palette:{primary:{main:"rgb(135, 135, 135)"}},typography:{useNextVariants:!0,htmlFontSize:10}}),pi=(n(919),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,987)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),r(e),o(e)}))});s.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(r.a,{theme:di,children:Object(k.jsx)(li,{})})}),document.getElementById("root")),pi()}},[[920,1,2]]]);
//# sourceMappingURL=main.bd0f1a21.chunk.js.map